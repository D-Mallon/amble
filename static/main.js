function yU(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in e)){const u=Object.getOwnPropertyDescriptor(i,o);u&&Object.defineProperty(e,o,u.get?u:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var En=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Np(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function $8(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function i(){if(this instanceof i){var o=[null];o.push.apply(o,arguments);var u=Function.bind.apply(t,o);return new u}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var o=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:function(){return e[i]}})}),n}var pM={exports:{}},Lx={},fM={exports:{}},Br={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f_=Symbol.for("react.element"),vU=Symbol.for("react.portal"),xU=Symbol.for("react.fragment"),bU=Symbol.for("react.strict_mode"),wU=Symbol.for("react.profiler"),EU=Symbol.for("react.provider"),SU=Symbol.for("react.context"),TU=Symbol.for("react.forward_ref"),CU=Symbol.for("react.suspense"),kU=Symbol.for("react.memo"),PU=Symbol.for("react.lazy"),PC=Symbol.iterator;function IU(e){return e===null||typeof e!="object"?null:(e=PC&&e[PC]||e["@@iterator"],typeof e=="function"?e:null)}var mM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gM=Object.assign,_M={};function q0(e,t,n){this.props=e,this.context=t,this.refs=_M,this.updater=n||mM}q0.prototype.isReactComponent={};q0.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};q0.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function yM(){}yM.prototype=q0.prototype;function U8(e,t,n){this.props=e,this.context=t,this.refs=_M,this.updater=n||mM}var V8=U8.prototype=new yM;V8.constructor=U8;gM(V8,q0.prototype);V8.isPureReactComponent=!0;var IC=Array.isArray,vM=Object.prototype.hasOwnProperty,W8={current:null},xM={key:!0,ref:!0,__self:!0,__source:!0};function bM(e,t,n){var i,o={},u=null,f=null;if(t!=null)for(i in t.ref!==void 0&&(f=t.ref),t.key!==void 0&&(u=""+t.key),t)vM.call(t,i)&&!xM.hasOwnProperty(i)&&(o[i]=t[i]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var y=Array(a),w=0;w<a;w++)y[w]=arguments[w+2];o.children=y}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)o[i]===void 0&&(o[i]=a[i]);return{$$typeof:f_,type:e,key:u,ref:f,props:o,_owner:W8.current}}function AU(e,t){return{$$typeof:f_,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function H8(e){return typeof e=="object"&&e!==null&&e.$$typeof===f_}function MU(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var AC=/\/+/g;function $w(e,t){return typeof e=="object"&&e!==null&&e.key!=null?MU(""+e.key):t.toString(36)}function $v(e,t,n,i,o){var u=typeof e;(u==="undefined"||u==="boolean")&&(e=null);var f=!1;if(e===null)f=!0;else switch(u){case"string":case"number":f=!0;break;case"object":switch(e.$$typeof){case f_:case vU:f=!0}}if(f)return f=e,o=o(f),e=i===""?"."+$w(f,0):i,IC(o)?(n="",e!=null&&(n=e.replace(AC,"$&/")+"/"),$v(o,t,n,"",function(w){return w})):o!=null&&(H8(o)&&(o=AU(o,n+(!o.key||f&&f.key===o.key?"":(""+o.key).replace(AC,"$&/")+"/")+e)),t.push(o)),1;if(f=0,i=i===""?".":i+":",IC(e))for(var a=0;a<e.length;a++){u=e[a];var y=i+$w(u,a);f+=$v(u,t,n,y,o)}else if(y=IU(e),typeof y=="function")for(e=y.call(e),a=0;!(u=e.next()).done;)u=u.value,y=i+$w(u,a++),f+=$v(u,t,n,y,o);else if(u==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return f}function Ky(e,t,n){if(e==null)return e;var i=[],o=0;return $v(e,i,"","",function(u){return t.call(n,u,o++)}),i}function DU(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ja={current:null},Uv={transition:null},RU={ReactCurrentDispatcher:Ja,ReactCurrentBatchConfig:Uv,ReactCurrentOwner:W8};Br.Children={map:Ky,forEach:function(e,t,n){Ky(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ky(e,function(){t++}),t},toArray:function(e){return Ky(e,function(t){return t})||[]},only:function(e){if(!H8(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Br.Component=q0;Br.Fragment=xU;Br.Profiler=wU;Br.PureComponent=U8;Br.StrictMode=bU;Br.Suspense=CU;Br.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RU;Br.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=gM({},e.props),o=e.key,u=e.ref,f=e._owner;if(t!=null){if(t.ref!==void 0&&(u=t.ref,f=W8.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(y in t)vM.call(t,y)&&!xM.hasOwnProperty(y)&&(i[y]=t[y]===void 0&&a!==void 0?a[y]:t[y])}var y=arguments.length-2;if(y===1)i.children=n;else if(1<y){a=Array(y);for(var w=0;w<y;w++)a[w]=arguments[w+2];i.children=a}return{$$typeof:f_,type:e.type,key:o,ref:u,props:i,_owner:f}};Br.createContext=function(e){return e={$$typeof:SU,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:EU,_context:e},e.Consumer=e};Br.createElement=bM;Br.createFactory=function(e){var t=bM.bind(null,e);return t.type=e,t};Br.createRef=function(){return{current:null}};Br.forwardRef=function(e){return{$$typeof:TU,render:e}};Br.isValidElement=H8;Br.lazy=function(e){return{$$typeof:PU,_payload:{_status:-1,_result:e},_init:DU}};Br.memo=function(e,t){return{$$typeof:kU,type:e,compare:t===void 0?null:t}};Br.startTransition=function(e){var t=Uv.transition;Uv.transition={};try{e()}finally{Uv.transition=t}};Br.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Br.useCallback=function(e,t){return Ja.current.useCallback(e,t)};Br.useContext=function(e){return Ja.current.useContext(e)};Br.useDebugValue=function(){};Br.useDeferredValue=function(e){return Ja.current.useDeferredValue(e)};Br.useEffect=function(e,t){return Ja.current.useEffect(e,t)};Br.useId=function(){return Ja.current.useId()};Br.useImperativeHandle=function(e,t,n){return Ja.current.useImperativeHandle(e,t,n)};Br.useInsertionEffect=function(e,t){return Ja.current.useInsertionEffect(e,t)};Br.useLayoutEffect=function(e,t){return Ja.current.useLayoutEffect(e,t)};Br.useMemo=function(e,t){return Ja.current.useMemo(e,t)};Br.useReducer=function(e,t,n){return Ja.current.useReducer(e,t,n)};Br.useRef=function(e){return Ja.current.useRef(e)};Br.useState=function(e){return Ja.current.useState(e)};Br.useSyncExternalStore=function(e,t,n){return Ja.current.useSyncExternalStore(e,t,n)};Br.useTransition=function(){return Ja.current.useTransition()};Br.version="18.2.0";fM.exports=Br;var V=fM.exports;const Zt=Np(V),g2=yU({__proto__:null,default:Zt},[V]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OU=V,LU=Symbol.for("react.element"),zU=Symbol.for("react.fragment"),FU=Object.prototype.hasOwnProperty,NU=OU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,BU={key:!0,ref:!0,__self:!0,__source:!0};function wM(e,t,n){var i,o={},u=null,f=null;n!==void 0&&(u=""+n),t.key!==void 0&&(u=""+t.key),t.ref!==void 0&&(f=t.ref);for(i in t)FU.call(t,i)&&!BU.hasOwnProperty(i)&&(o[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)o[i]===void 0&&(o[i]=t[i]);return{$$typeof:LU,type:e,key:u,ref:f,props:o,_owner:NU.current}}Lx.Fragment=zU;Lx.jsx=wM;Lx.jsxs=wM;pM.exports=Lx;var z=pM.exports,k4={},EM={exports:{}},qs={},SM={exports:{}},TM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ze,Pe){var je=ze.length;ze.push(Pe);e:for(;0<je;){var lt=je-1>>>1,ot=ze[lt];if(0<o(ot,Pe))ze[lt]=Pe,ze[je]=ot,je=lt;else break e}}function n(ze){return ze.length===0?null:ze[0]}function i(ze){if(ze.length===0)return null;var Pe=ze[0],je=ze.pop();if(je!==Pe){ze[0]=je;e:for(var lt=0,ot=ze.length,ct=ot>>>1;lt<ct;){var Ct=2*(lt+1)-1,ut=ze[Ct],yt=Ct+1,Dt=ze[yt];if(0>o(ut,je))yt<ot&&0>o(Dt,ut)?(ze[lt]=Dt,ze[yt]=je,lt=yt):(ze[lt]=ut,ze[Ct]=je,lt=Ct);else if(yt<ot&&0>o(Dt,je))ze[lt]=Dt,ze[yt]=je,lt=yt;else break e}}return Pe}function o(ze,Pe){var je=ze.sortIndex-Pe.sortIndex;return je!==0?je:ze.id-Pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var f=Date,a=f.now();e.unstable_now=function(){return f.now()-a}}var y=[],w=[],k=1,M=null,O=3,$=!1,N=!1,B=!1,J=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Z(ze){for(var Pe=n(w);Pe!==null;){if(Pe.callback===null)i(w);else if(Pe.startTime<=ze)i(w),Pe.sortIndex=Pe.expirationTime,t(y,Pe);else break;Pe=n(w)}}function Q(ze){if(B=!1,Z(ze),!N)if(n(y)!==null)N=!0,Ye(se);else{var Pe=n(w);Pe!==null&&Qe(Q,Pe.startTime-ze)}}function se(ze,Pe){N=!1,B&&(B=!1,U(_e),_e=-1),$=!0;var je=O;try{for(Z(Pe),M=n(y);M!==null&&(!(M.expirationTime>Pe)||ze&&!Ue());){var lt=M.callback;if(typeof lt=="function"){M.callback=null,O=M.priorityLevel;var ot=lt(M.expirationTime<=Pe);Pe=e.unstable_now(),typeof ot=="function"?M.callback=ot:M===n(y)&&i(y),Z(Pe)}else i(y);M=n(y)}if(M!==null)var ct=!0;else{var Ct=n(w);Ct!==null&&Qe(Q,Ct.startTime-Pe),ct=!1}return ct}finally{M=null,O=je,$=!1}}var ce=!1,A=null,_e=-1,le=5,ve=-1;function Ue(){return!(e.unstable_now()-ve<le)}function $e(){if(A!==null){var ze=e.unstable_now();ve=ze;var Pe=!0;try{Pe=A(!0,ze)}finally{Pe?Ae():(ce=!1,A=null)}}else ce=!1}var Ae;if(typeof G=="function")Ae=function(){G($e)};else if(typeof MessageChannel<"u"){var Re=new MessageChannel,Oe=Re.port2;Re.port1.onmessage=$e,Ae=function(){Oe.postMessage(null)}}else Ae=function(){J($e,0)};function Ye(ze){A=ze,ce||(ce=!0,Ae())}function Qe(ze,Pe){_e=J(function(){ze(e.unstable_now())},Pe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ze){ze.callback=null},e.unstable_continueExecution=function(){N||$||(N=!0,Ye(se))},e.unstable_forceFrameRate=function(ze){0>ze||125<ze?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<ze?Math.floor(1e3/ze):5},e.unstable_getCurrentPriorityLevel=function(){return O},e.unstable_getFirstCallbackNode=function(){return n(y)},e.unstable_next=function(ze){switch(O){case 1:case 2:case 3:var Pe=3;break;default:Pe=O}var je=O;O=Pe;try{return ze()}finally{O=je}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ze,Pe){switch(ze){case 1:case 2:case 3:case 4:case 5:break;default:ze=3}var je=O;O=ze;try{return Pe()}finally{O=je}},e.unstable_scheduleCallback=function(ze,Pe,je){var lt=e.unstable_now();switch(typeof je=="object"&&je!==null?(je=je.delay,je=typeof je=="number"&&0<je?lt+je:lt):je=lt,ze){case 1:var ot=-1;break;case 2:ot=250;break;case 5:ot=1073741823;break;case 4:ot=1e4;break;default:ot=5e3}return ot=je+ot,ze={id:k++,callback:Pe,priorityLevel:ze,startTime:je,expirationTime:ot,sortIndex:-1},je>lt?(ze.sortIndex=je,t(w,ze),n(y)===null&&ze===n(w)&&(B?(U(_e),_e=-1):B=!0,Qe(Q,je-lt))):(ze.sortIndex=ot,t(y,ze),N||$||(N=!0,Ye(se))),ze},e.unstable_shouldYield=Ue,e.unstable_wrapCallback=function(ze){var Pe=O;return function(){var je=O;O=Pe;try{return ze.apply(this,arguments)}finally{O=je}}}})(TM);SM.exports=TM;var jU=SM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CM=V,Vs=jU;function hn(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kM=new Set,yg={};function Bp(e,t){C0(e,t),C0(e+"Capture",t)}function C0(e,t){for(yg[e]=t,e=0;e<t.length;e++)kM.add(t[e])}var Wu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),P4=Object.prototype.hasOwnProperty,$U=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,MC={},DC={};function UU(e){return P4.call(DC,e)?!0:P4.call(MC,e)?!1:$U.test(e)?DC[e]=!0:(MC[e]=!0,!1)}function VU(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function WU(e,t,n,i){if(t===null||typeof t>"u"||VU(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qa(e,t,n,i,o,u,f){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=u,this.removeEmptyString=f}var pa={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pa[e]=new Qa(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pa[t]=new Qa(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pa[e]=new Qa(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pa[e]=new Qa(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pa[e]=new Qa(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pa[e]=new Qa(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pa[e]=new Qa(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pa[e]=new Qa(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pa[e]=new Qa(e,5,!1,e.toLowerCase(),null,!1,!1)});var q8=/[\-:]([a-z])/g;function G8(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(q8,G8);pa[t]=new Qa(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(q8,G8);pa[t]=new Qa(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(q8,G8);pa[t]=new Qa(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pa[e]=new Qa(e,1,!1,e.toLowerCase(),null,!1,!1)});pa.xlinkHref=new Qa("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pa[e]=new Qa(e,1,!1,e.toLowerCase(),null,!0,!0)});function Z8(e,t,n,i){var o=pa.hasOwnProperty(t)?pa[t]:null;(o!==null?o.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(WU(t,n,o,i)&&(n=null),i||o===null?UU(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,i=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var Yu=CM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yy=Symbol.for("react.element"),Wf=Symbol.for("react.portal"),Hf=Symbol.for("react.fragment"),X8=Symbol.for("react.strict_mode"),I4=Symbol.for("react.profiler"),PM=Symbol.for("react.provider"),IM=Symbol.for("react.context"),K8=Symbol.for("react.forward_ref"),A4=Symbol.for("react.suspense"),M4=Symbol.for("react.suspense_list"),Y8=Symbol.for("react.memo"),Dd=Symbol.for("react.lazy"),AM=Symbol.for("react.offscreen"),RC=Symbol.iterator;function ym(e){return e===null||typeof e!="object"?null:(e=RC&&e[RC]||e["@@iterator"],typeof e=="function"?e:null)}var ao=Object.assign,Uw;function Nm(e){if(Uw===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Uw=t&&t[1]||""}return`
`+Uw+e}var Vw=!1;function Ww(e,t){if(!e||Vw)return"";Vw=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(w){var i=w}Reflect.construct(e,[],t)}else{try{t.call()}catch(w){i=w}e.call(t.prototype)}else{try{throw Error()}catch(w){i=w}e()}}catch(w){if(w&&i&&typeof w.stack=="string"){for(var o=w.stack.split(`
`),u=i.stack.split(`
`),f=o.length-1,a=u.length-1;1<=f&&0<=a&&o[f]!==u[a];)a--;for(;1<=f&&0<=a;f--,a--)if(o[f]!==u[a]){if(f!==1||a!==1)do if(f--,a--,0>a||o[f]!==u[a]){var y=`
`+o[f].replace(" at new "," at ");return e.displayName&&y.includes("<anonymous>")&&(y=y.replace("<anonymous>",e.displayName)),y}while(1<=f&&0<=a);break}}}finally{Vw=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Nm(e):""}function HU(e){switch(e.tag){case 5:return Nm(e.type);case 16:return Nm("Lazy");case 13:return Nm("Suspense");case 19:return Nm("SuspenseList");case 0:case 2:case 15:return e=Ww(e.type,!1),e;case 11:return e=Ww(e.type.render,!1),e;case 1:return e=Ww(e.type,!0),e;default:return""}}function D4(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Hf:return"Fragment";case Wf:return"Portal";case I4:return"Profiler";case X8:return"StrictMode";case A4:return"Suspense";case M4:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case IM:return(e.displayName||"Context")+".Consumer";case PM:return(e._context.displayName||"Context")+".Provider";case K8:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y8:return t=e.displayName||null,t!==null?t:D4(e.type)||"Memo";case Dd:t=e._payload,e=e._init;try{return D4(e(t))}catch{}}return null}function qU(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return D4(t);case 8:return t===X8?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function sh(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function MM(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function GU(e){var t=MM(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,u=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(f){i=""+f,u.call(this,f)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(f){i=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Jy(e){e._valueTracker||(e._valueTracker=GU(e))}function DM(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=MM(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function _2(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function R4(e,t){var n=t.checked;return ao({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function OC(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=sh(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function RM(e,t){t=t.checked,t!=null&&Z8(e,"checked",t,!1)}function O4(e,t){RM(e,t);var n=sh(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?L4(e,t.type,n):t.hasOwnProperty("defaultValue")&&L4(e,t.type,sh(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function LC(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function L4(e,t,n){(t!=="number"||_2(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Bm=Array.isArray;function d0(e,t,n,i){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&i&&(e[n].defaultSelected=!0)}else{for(n=""+sh(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function z4(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(hn(91));return ao({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zC(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(hn(92));if(Bm(n)){if(1<n.length)throw Error(hn(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:sh(n)}}function OM(e,t){var n=sh(t.value),i=sh(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function FC(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function LM(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function F4(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?LM(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qy,zM=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qy=Qy||document.createElement("div"),Qy.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qy.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function vg(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Xm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ZU=["Webkit","ms","Moz","O"];Object.keys(Xm).forEach(function(e){ZU.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xm[t]=Xm[e]})});function FM(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Xm.hasOwnProperty(e)&&Xm[e]?(""+t).trim():t+"px"}function NM(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,o=FM(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,o):e[n]=o}}var XU=ao({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function N4(e,t){if(t){if(XU[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(hn(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(hn(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(hn(61))}if(t.style!=null&&typeof t.style!="object")throw Error(hn(62))}}function B4(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var j4=null;function J8(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $4=null,h0=null,p0=null;function NC(e){if(e=__(e)){if(typeof $4!="function")throw Error(hn(280));var t=e.stateNode;t&&(t=jx(t),$4(e.stateNode,e.type,t))}}function BM(e){h0?p0?p0.push(e):p0=[e]:h0=e}function jM(){if(h0){var e=h0,t=p0;if(p0=h0=null,NC(e),t)for(e=0;e<t.length;e++)NC(t[e])}}function $M(e,t){return e(t)}function UM(){}var Hw=!1;function VM(e,t,n){if(Hw)return e(t,n);Hw=!0;try{return $M(e,t,n)}finally{Hw=!1,(h0!==null||p0!==null)&&(UM(),jM())}}function xg(e,t){var n=e.stateNode;if(n===null)return null;var i=jx(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(hn(231,t,typeof n));return n}var U4=!1;if(Wu)try{var vm={};Object.defineProperty(vm,"passive",{get:function(){U4=!0}}),window.addEventListener("test",vm,vm),window.removeEventListener("test",vm,vm)}catch{U4=!1}function KU(e,t,n,i,o,u,f,a,y){var w=Array.prototype.slice.call(arguments,3);try{t.apply(n,w)}catch(k){this.onError(k)}}var Km=!1,y2=null,v2=!1,V4=null,YU={onError:function(e){Km=!0,y2=e}};function JU(e,t,n,i,o,u,f,a,y){Km=!1,y2=null,KU.apply(YU,arguments)}function QU(e,t,n,i,o,u,f,a,y){if(JU.apply(this,arguments),Km){if(Km){var w=y2;Km=!1,y2=null}else throw Error(hn(198));v2||(v2=!0,V4=w)}}function jp(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function WM(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function BC(e){if(jp(e)!==e)throw Error(hn(188))}function eV(e){var t=e.alternate;if(!t){if(t=jp(e),t===null)throw Error(hn(188));return t!==e?null:e}for(var n=e,i=t;;){var o=n.return;if(o===null)break;var u=o.alternate;if(u===null){if(i=o.return,i!==null){n=i;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===n)return BC(o),e;if(u===i)return BC(o),t;u=u.sibling}throw Error(hn(188))}if(n.return!==i.return)n=o,i=u;else{for(var f=!1,a=o.child;a;){if(a===n){f=!0,n=o,i=u;break}if(a===i){f=!0,i=o,n=u;break}a=a.sibling}if(!f){for(a=u.child;a;){if(a===n){f=!0,n=u,i=o;break}if(a===i){f=!0,i=u,n=o;break}a=a.sibling}if(!f)throw Error(hn(189))}}if(n.alternate!==i)throw Error(hn(190))}if(n.tag!==3)throw Error(hn(188));return n.stateNode.current===n?e:t}function HM(e){return e=eV(e),e!==null?qM(e):null}function qM(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=qM(e);if(t!==null)return t;e=e.sibling}return null}var GM=Vs.unstable_scheduleCallback,jC=Vs.unstable_cancelCallback,tV=Vs.unstable_shouldYield,nV=Vs.unstable_requestPaint,bo=Vs.unstable_now,rV=Vs.unstable_getCurrentPriorityLevel,Q8=Vs.unstable_ImmediatePriority,ZM=Vs.unstable_UserBlockingPriority,x2=Vs.unstable_NormalPriority,iV=Vs.unstable_LowPriority,XM=Vs.unstable_IdlePriority,zx=null,Zc=null;function oV(e){if(Zc&&typeof Zc.onCommitFiberRoot=="function")try{Zc.onCommitFiberRoot(zx,e,void 0,(e.current.flags&128)===128)}catch{}}var ac=Math.clz32?Math.clz32:lV,aV=Math.log,sV=Math.LN2;function lV(e){return e>>>=0,e===0?32:31-(aV(e)/sV|0)|0}var ev=64,tv=4194304;function jm(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function b2(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,o=e.suspendedLanes,u=e.pingedLanes,f=n&268435455;if(f!==0){var a=f&~o;a!==0?i=jm(a):(u&=f,u!==0&&(i=jm(u)))}else f=n&~o,f!==0?i=jm(f):u!==0&&(i=jm(u));if(i===0)return 0;if(t!==0&&t!==i&&!(t&o)&&(o=i&-i,u=t&-t,o>=u||o===16&&(u&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-ac(t),o=1<<n,i|=e[n],t&=~o;return i}function cV(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uV(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes;0<u;){var f=31-ac(u),a=1<<f,y=o[f];y===-1?(!(a&n)||a&i)&&(o[f]=cV(a,t)):y<=t&&(e.expiredLanes|=a),u&=~a}}function W4(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function KM(){var e=ev;return ev<<=1,!(ev&4194240)&&(ev=64),e}function qw(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function m_(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ac(t),e[t]=n}function dV(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-ac(n),u=1<<o;t[o]=0,i[o]=-1,e[o]=-1,n&=~u}}function e7(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-ac(n),o=1<<i;o&t|e[i]&t&&(e[i]|=t),n&=~o}}var _i=0;function YM(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var JM,t7,QM,eD,tD,H4=!1,nv=[],Gd=null,Zd=null,Xd=null,bg=new Map,wg=new Map,Od=[],hV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $C(e,t){switch(e){case"focusin":case"focusout":Gd=null;break;case"dragenter":case"dragleave":Zd=null;break;case"mouseover":case"mouseout":Xd=null;break;case"pointerover":case"pointerout":bg.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wg.delete(t.pointerId)}}function xm(e,t,n,i,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:u,targetContainers:[o]},t!==null&&(t=__(t),t!==null&&t7(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function pV(e,t,n,i,o){switch(t){case"focusin":return Gd=xm(Gd,e,t,n,i,o),!0;case"dragenter":return Zd=xm(Zd,e,t,n,i,o),!0;case"mouseover":return Xd=xm(Xd,e,t,n,i,o),!0;case"pointerover":var u=o.pointerId;return bg.set(u,xm(bg.get(u)||null,e,t,n,i,o)),!0;case"gotpointercapture":return u=o.pointerId,wg.set(u,xm(wg.get(u)||null,e,t,n,i,o)),!0}return!1}function nD(e){var t=lp(e.target);if(t!==null){var n=jp(t);if(n!==null){if(t=n.tag,t===13){if(t=WM(n),t!==null){e.blockedOn=t,tD(e.priority,function(){QM(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vv(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=q4(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);j4=i,n.target.dispatchEvent(i),j4=null}else return t=__(n),t!==null&&t7(t),e.blockedOn=n,!1;t.shift()}return!0}function UC(e,t,n){Vv(e)&&n.delete(t)}function fV(){H4=!1,Gd!==null&&Vv(Gd)&&(Gd=null),Zd!==null&&Vv(Zd)&&(Zd=null),Xd!==null&&Vv(Xd)&&(Xd=null),bg.forEach(UC),wg.forEach(UC)}function bm(e,t){e.blockedOn===t&&(e.blockedOn=null,H4||(H4=!0,Vs.unstable_scheduleCallback(Vs.unstable_NormalPriority,fV)))}function Eg(e){function t(o){return bm(o,e)}if(0<nv.length){bm(nv[0],e);for(var n=1;n<nv.length;n++){var i=nv[n];i.blockedOn===e&&(i.blockedOn=null)}}for(Gd!==null&&bm(Gd,e),Zd!==null&&bm(Zd,e),Xd!==null&&bm(Xd,e),bg.forEach(t),wg.forEach(t),n=0;n<Od.length;n++)i=Od[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<Od.length&&(n=Od[0],n.blockedOn===null);)nD(n),n.blockedOn===null&&Od.shift()}var f0=Yu.ReactCurrentBatchConfig,w2=!0;function mV(e,t,n,i){var o=_i,u=f0.transition;f0.transition=null;try{_i=1,n7(e,t,n,i)}finally{_i=o,f0.transition=u}}function gV(e,t,n,i){var o=_i,u=f0.transition;f0.transition=null;try{_i=4,n7(e,t,n,i)}finally{_i=o,f0.transition=u}}function n7(e,t,n,i){if(w2){var o=q4(e,t,n,i);if(o===null)n6(e,t,i,E2,n),$C(e,i);else if(pV(o,e,t,n,i))i.stopPropagation();else if($C(e,i),t&4&&-1<hV.indexOf(e)){for(;o!==null;){var u=__(o);if(u!==null&&JM(u),u=q4(e,t,n,i),u===null&&n6(e,t,i,E2,n),u===o)break;o=u}o!==null&&i.stopPropagation()}else n6(e,t,i,null,n)}}var E2=null;function q4(e,t,n,i){if(E2=null,e=J8(i),e=lp(e),e!==null)if(t=jp(e),t===null)e=null;else if(n=t.tag,n===13){if(e=WM(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return E2=e,null}function rD(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rV()){case Q8:return 1;case ZM:return 4;case x2:case iV:return 16;case XM:return 536870912;default:return 16}default:return 16}}var $d=null,r7=null,Wv=null;function iD(){if(Wv)return Wv;var e,t=r7,n=t.length,i,o="value"in $d?$d.value:$d.textContent,u=o.length;for(e=0;e<n&&t[e]===o[e];e++);var f=n-e;for(i=1;i<=f&&t[n-i]===o[u-i];i++);return Wv=o.slice(e,1<i?1-i:void 0)}function Hv(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function rv(){return!0}function VC(){return!1}function Gs(e){function t(n,i,o,u,f){this._reactName=n,this._targetInst=o,this.type=i,this.nativeEvent=u,this.target=f,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(u):u[a]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?rv:VC,this.isPropagationStopped=VC,this}return ao(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rv)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rv)},persist:function(){},isPersistent:rv}),t}var G0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},i7=Gs(G0),g_=ao({},G0,{view:0,detail:0}),_V=Gs(g_),Gw,Zw,wm,Fx=ao({},g_,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:o7,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wm&&(wm&&e.type==="mousemove"?(Gw=e.screenX-wm.screenX,Zw=e.screenY-wm.screenY):Zw=Gw=0,wm=e),Gw)},movementY:function(e){return"movementY"in e?e.movementY:Zw}}),WC=Gs(Fx),yV=ao({},Fx,{dataTransfer:0}),vV=Gs(yV),xV=ao({},g_,{relatedTarget:0}),Xw=Gs(xV),bV=ao({},G0,{animationName:0,elapsedTime:0,pseudoElement:0}),wV=Gs(bV),EV=ao({},G0,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),SV=Gs(EV),TV=ao({},G0,{data:0}),HC=Gs(TV),CV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IV(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=PV[e])?!!t[e]:!1}function o7(){return IV}var AV=ao({},g_,{key:function(e){if(e.key){var t=CV[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hv(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kV[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:o7,charCode:function(e){return e.type==="keypress"?Hv(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hv(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),MV=Gs(AV),DV=ao({},Fx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qC=Gs(DV),RV=ao({},g_,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:o7}),OV=Gs(RV),LV=ao({},G0,{propertyName:0,elapsedTime:0,pseudoElement:0}),zV=Gs(LV),FV=ao({},Fx,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),NV=Gs(FV),BV=[9,13,27,32],a7=Wu&&"CompositionEvent"in window,Ym=null;Wu&&"documentMode"in document&&(Ym=document.documentMode);var jV=Wu&&"TextEvent"in window&&!Ym,oD=Wu&&(!a7||Ym&&8<Ym&&11>=Ym),GC=String.fromCharCode(32),ZC=!1;function aD(e,t){switch(e){case"keyup":return BV.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sD(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qf=!1;function $V(e,t){switch(e){case"compositionend":return sD(t);case"keypress":return t.which!==32?null:(ZC=!0,GC);case"textInput":return e=t.data,e===GC&&ZC?null:e;default:return null}}function UV(e,t){if(qf)return e==="compositionend"||!a7&&aD(e,t)?(e=iD(),Wv=r7=$d=null,qf=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return oD&&t.locale!=="ko"?null:t.data;default:return null}}var VV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function XC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!VV[e.type]:t==="textarea"}function lD(e,t,n,i){BM(i),t=S2(t,"onChange"),0<t.length&&(n=new i7("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Jm=null,Sg=null;function WV(e){vD(e,0)}function Nx(e){var t=Xf(e);if(DM(t))return e}function HV(e,t){if(e==="change")return t}var cD=!1;if(Wu){var Kw;if(Wu){var Yw="oninput"in document;if(!Yw){var KC=document.createElement("div");KC.setAttribute("oninput","return;"),Yw=typeof KC.oninput=="function"}Kw=Yw}else Kw=!1;cD=Kw&&(!document.documentMode||9<document.documentMode)}function YC(){Jm&&(Jm.detachEvent("onpropertychange",uD),Sg=Jm=null)}function uD(e){if(e.propertyName==="value"&&Nx(Sg)){var t=[];lD(t,Sg,e,J8(e)),VM(WV,t)}}function qV(e,t,n){e==="focusin"?(YC(),Jm=t,Sg=n,Jm.attachEvent("onpropertychange",uD)):e==="focusout"&&YC()}function GV(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Nx(Sg)}function ZV(e,t){if(e==="click")return Nx(t)}function XV(e,t){if(e==="input"||e==="change")return Nx(t)}function KV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cc=typeof Object.is=="function"?Object.is:KV;function Tg(e,t){if(cc(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!P4.call(t,o)||!cc(e[o],t[o]))return!1}return!0}function JC(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function QC(e,t){var n=JC(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=JC(n)}}function dD(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?dD(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hD(){for(var e=window,t=_2();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=_2(e.document)}return t}function s7(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function YV(e){var t=hD(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dD(n.ownerDocument.documentElement,n)){if(i!==null&&s7(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,u=Math.min(i.start,o);i=i.end===void 0?u:Math.min(i.end,o),!e.extend&&u>i&&(o=i,i=u,u=o),o=QC(n,u);var f=QC(n,i);o&&f&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==f.node||e.focusOffset!==f.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),u>i?(e.addRange(t),e.extend(f.node,f.offset)):(t.setEnd(f.node,f.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var JV=Wu&&"documentMode"in document&&11>=document.documentMode,Gf=null,G4=null,Qm=null,Z4=!1;function ek(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Z4||Gf==null||Gf!==_2(i)||(i=Gf,"selectionStart"in i&&s7(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Qm&&Tg(Qm,i)||(Qm=i,i=S2(G4,"onSelect"),0<i.length&&(t=new i7("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Gf)))}function iv(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Zf={animationend:iv("Animation","AnimationEnd"),animationiteration:iv("Animation","AnimationIteration"),animationstart:iv("Animation","AnimationStart"),transitionend:iv("Transition","TransitionEnd")},Jw={},pD={};Wu&&(pD=document.createElement("div").style,"AnimationEvent"in window||(delete Zf.animationend.animation,delete Zf.animationiteration.animation,delete Zf.animationstart.animation),"TransitionEvent"in window||delete Zf.transitionend.transition);function Bx(e){if(Jw[e])return Jw[e];if(!Zf[e])return e;var t=Zf[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in pD)return Jw[e]=t[n];return e}var fD=Bx("animationend"),mD=Bx("animationiteration"),gD=Bx("animationstart"),_D=Bx("transitionend"),yD=new Map,tk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gh(e,t){yD.set(e,t),Bp(t,[e])}for(var Qw=0;Qw<tk.length;Qw++){var e6=tk[Qw],QV=e6.toLowerCase(),eW=e6[0].toUpperCase()+e6.slice(1);gh(QV,"on"+eW)}gh(fD,"onAnimationEnd");gh(mD,"onAnimationIteration");gh(gD,"onAnimationStart");gh("dblclick","onDoubleClick");gh("focusin","onFocus");gh("focusout","onBlur");gh(_D,"onTransitionEnd");C0("onMouseEnter",["mouseout","mouseover"]);C0("onMouseLeave",["mouseout","mouseover"]);C0("onPointerEnter",["pointerout","pointerover"]);C0("onPointerLeave",["pointerout","pointerover"]);Bp("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bp("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bp("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bp("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bp("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bp("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $m="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tW=new Set("cancel close invalid load scroll toggle".split(" ").concat($m));function nk(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,QU(i,t,void 0,e),e.currentTarget=null}function vD(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],o=i.event;i=i.listeners;e:{var u=void 0;if(t)for(var f=i.length-1;0<=f;f--){var a=i[f],y=a.instance,w=a.currentTarget;if(a=a.listener,y!==u&&o.isPropagationStopped())break e;nk(o,a,w),u=y}else for(f=0;f<i.length;f++){if(a=i[f],y=a.instance,w=a.currentTarget,a=a.listener,y!==u&&o.isPropagationStopped())break e;nk(o,a,w),u=y}}}if(v2)throw e=V4,v2=!1,V4=null,e}function Fi(e,t){var n=t[Q4];n===void 0&&(n=t[Q4]=new Set);var i=e+"__bubble";n.has(i)||(xD(t,e,2,!1),n.add(i))}function t6(e,t,n){var i=0;t&&(i|=4),xD(n,e,i,t)}var ov="_reactListening"+Math.random().toString(36).slice(2);function Cg(e){if(!e[ov]){e[ov]=!0,kM.forEach(function(n){n!=="selectionchange"&&(tW.has(n)||t6(n,!1,e),t6(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ov]||(t[ov]=!0,t6("selectionchange",!1,t))}}function xD(e,t,n,i){switch(rD(t)){case 1:var o=mV;break;case 4:o=gV;break;default:o=n7}n=o.bind(null,t,n,e),o=void 0,!U4||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function n6(e,t,n,i,o){var u=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var f=i.tag;if(f===3||f===4){var a=i.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(f===4)for(f=i.return;f!==null;){var y=f.tag;if((y===3||y===4)&&(y=f.stateNode.containerInfo,y===o||y.nodeType===8&&y.parentNode===o))return;f=f.return}for(;a!==null;){if(f=lp(a),f===null)return;if(y=f.tag,y===5||y===6){i=u=f;continue e}a=a.parentNode}}i=i.return}VM(function(){var w=u,k=J8(n),M=[];e:{var O=yD.get(e);if(O!==void 0){var $=i7,N=e;switch(e){case"keypress":if(Hv(n)===0)break e;case"keydown":case"keyup":$=MV;break;case"focusin":N="focus",$=Xw;break;case"focusout":N="blur",$=Xw;break;case"beforeblur":case"afterblur":$=Xw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=WC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=vV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=OV;break;case fD:case mD:case gD:$=wV;break;case _D:$=zV;break;case"scroll":$=_V;break;case"wheel":$=NV;break;case"copy":case"cut":case"paste":$=SV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=qC}var B=(t&4)!==0,J=!B&&e==="scroll",U=B?O!==null?O+"Capture":null:O;B=[];for(var G=w,Z;G!==null;){Z=G;var Q=Z.stateNode;if(Z.tag===5&&Q!==null&&(Z=Q,U!==null&&(Q=xg(G,U),Q!=null&&B.push(kg(G,Q,Z)))),J)break;G=G.return}0<B.length&&(O=new $(O,N,null,n,k),M.push({event:O,listeners:B}))}}if(!(t&7)){e:{if(O=e==="mouseover"||e==="pointerover",$=e==="mouseout"||e==="pointerout",O&&n!==j4&&(N=n.relatedTarget||n.fromElement)&&(lp(N)||N[Hu]))break e;if(($||O)&&(O=k.window===k?k:(O=k.ownerDocument)?O.defaultView||O.parentWindow:window,$?(N=n.relatedTarget||n.toElement,$=w,N=N?lp(N):null,N!==null&&(J=jp(N),N!==J||N.tag!==5&&N.tag!==6)&&(N=null)):($=null,N=w),$!==N)){if(B=WC,Q="onMouseLeave",U="onMouseEnter",G="mouse",(e==="pointerout"||e==="pointerover")&&(B=qC,Q="onPointerLeave",U="onPointerEnter",G="pointer"),J=$==null?O:Xf($),Z=N==null?O:Xf(N),O=new B(Q,G+"leave",$,n,k),O.target=J,O.relatedTarget=Z,Q=null,lp(k)===w&&(B=new B(U,G+"enter",N,n,k),B.target=Z,B.relatedTarget=J,Q=B),J=Q,$&&N)t:{for(B=$,U=N,G=0,Z=B;Z;Z=Rf(Z))G++;for(Z=0,Q=U;Q;Q=Rf(Q))Z++;for(;0<G-Z;)B=Rf(B),G--;for(;0<Z-G;)U=Rf(U),Z--;for(;G--;){if(B===U||U!==null&&B===U.alternate)break t;B=Rf(B),U=Rf(U)}B=null}else B=null;$!==null&&rk(M,O,$,B,!1),N!==null&&J!==null&&rk(M,J,N,B,!0)}}e:{if(O=w?Xf(w):window,$=O.nodeName&&O.nodeName.toLowerCase(),$==="select"||$==="input"&&O.type==="file")var se=HV;else if(XC(O))if(cD)se=XV;else{se=GV;var ce=qV}else($=O.nodeName)&&$.toLowerCase()==="input"&&(O.type==="checkbox"||O.type==="radio")&&(se=ZV);if(se&&(se=se(e,w))){lD(M,se,n,k);break e}ce&&ce(e,O,w),e==="focusout"&&(ce=O._wrapperState)&&ce.controlled&&O.type==="number"&&L4(O,"number",O.value)}switch(ce=w?Xf(w):window,e){case"focusin":(XC(ce)||ce.contentEditable==="true")&&(Gf=ce,G4=w,Qm=null);break;case"focusout":Qm=G4=Gf=null;break;case"mousedown":Z4=!0;break;case"contextmenu":case"mouseup":case"dragend":Z4=!1,ek(M,n,k);break;case"selectionchange":if(JV)break;case"keydown":case"keyup":ek(M,n,k)}var A;if(a7)e:{switch(e){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else qf?aD(e,n)&&(_e="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_e="onCompositionStart");_e&&(oD&&n.locale!=="ko"&&(qf||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&qf&&(A=iD()):($d=k,r7="value"in $d?$d.value:$d.textContent,qf=!0)),ce=S2(w,_e),0<ce.length&&(_e=new HC(_e,e,null,n,k),M.push({event:_e,listeners:ce}),A?_e.data=A:(A=sD(n),A!==null&&(_e.data=A)))),(A=jV?$V(e,n):UV(e,n))&&(w=S2(w,"onBeforeInput"),0<w.length&&(k=new HC("onBeforeInput","beforeinput",null,n,k),M.push({event:k,listeners:w}),k.data=A))}vD(M,t)})}function kg(e,t,n){return{instance:e,listener:t,currentTarget:n}}function S2(e,t){for(var n=t+"Capture",i=[];e!==null;){var o=e,u=o.stateNode;o.tag===5&&u!==null&&(o=u,u=xg(e,n),u!=null&&i.unshift(kg(e,u,o)),u=xg(e,t),u!=null&&i.push(kg(e,u,o))),e=e.return}return i}function Rf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function rk(e,t,n,i,o){for(var u=t._reactName,f=[];n!==null&&n!==i;){var a=n,y=a.alternate,w=a.stateNode;if(y!==null&&y===i)break;a.tag===5&&w!==null&&(a=w,o?(y=xg(n,u),y!=null&&f.unshift(kg(n,y,a))):o||(y=xg(n,u),y!=null&&f.push(kg(n,y,a)))),n=n.return}f.length!==0&&e.push({event:t,listeners:f})}var nW=/\r\n?/g,rW=/\u0000|\uFFFD/g;function ik(e){return(typeof e=="string"?e:""+e).replace(nW,`
`).replace(rW,"")}function av(e,t,n){if(t=ik(t),ik(e)!==t&&n)throw Error(hn(425))}function T2(){}var X4=null,K4=null;function Y4(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var J4=typeof setTimeout=="function"?setTimeout:void 0,iW=typeof clearTimeout=="function"?clearTimeout:void 0,ok=typeof Promise=="function"?Promise:void 0,oW=typeof queueMicrotask=="function"?queueMicrotask:typeof ok<"u"?function(e){return ok.resolve(null).then(e).catch(aW)}:J4;function aW(e){setTimeout(function(){throw e})}function r6(e,t){var n=t,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(i===0){e.removeChild(o),Eg(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=o}while(n);Eg(t)}function Kd(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ak(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Z0=Math.random().toString(36).slice(2),Wc="__reactFiber$"+Z0,Pg="__reactProps$"+Z0,Hu="__reactContainer$"+Z0,Q4="__reactEvents$"+Z0,sW="__reactListeners$"+Z0,lW="__reactHandles$"+Z0;function lp(e){var t=e[Wc];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Hu]||n[Wc]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ak(e);e!==null;){if(n=e[Wc])return n;e=ak(e)}return t}e=n,n=e.parentNode}return null}function __(e){return e=e[Wc]||e[Hu],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Xf(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(hn(33))}function jx(e){return e[Pg]||null}var e5=[],Kf=-1;function _h(e){return{current:e}}function ji(e){0>Kf||(e.current=e5[Kf],e5[Kf]=null,Kf--)}function Oi(e,t){Kf++,e5[Kf]=e.current,e.current=t}var lh={},za=_h(lh),ps=_h(!1),bp=lh;function k0(e,t){var n=e.type.contextTypes;if(!n)return lh;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var o={},u;for(u in n)o[u]=t[u];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function fs(e){return e=e.childContextTypes,e!=null}function C2(){ji(ps),ji(za)}function sk(e,t,n){if(za.current!==lh)throw Error(hn(168));Oi(za,t),Oi(ps,n)}function bD(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var o in i)if(!(o in t))throw Error(hn(108,qU(e)||"Unknown",o));return ao({},n,i)}function k2(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||lh,bp=za.current,Oi(za,e),Oi(ps,ps.current),!0}function lk(e,t,n){var i=e.stateNode;if(!i)throw Error(hn(169));n?(e=bD(e,t,bp),i.__reactInternalMemoizedMergedChildContext=e,ji(ps),ji(za),Oi(za,e)):ji(ps),Oi(ps,n)}var Lu=null,$x=!1,i6=!1;function wD(e){Lu===null?Lu=[e]:Lu.push(e)}function cW(e){$x=!0,wD(e)}function yh(){if(!i6&&Lu!==null){i6=!0;var e=0,t=_i;try{var n=Lu;for(_i=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}Lu=null,$x=!1}catch(o){throw Lu!==null&&(Lu=Lu.slice(e+1)),GM(Q8,yh),o}finally{_i=t,i6=!1}}return null}var Yf=[],Jf=0,P2=null,I2=0,hl=[],pl=0,wp=null,zu=1,Fu="";function np(e,t){Yf[Jf++]=I2,Yf[Jf++]=P2,P2=e,I2=t}function ED(e,t,n){hl[pl++]=zu,hl[pl++]=Fu,hl[pl++]=wp,wp=e;var i=zu;e=Fu;var o=32-ac(i)-1;i&=~(1<<o),n+=1;var u=32-ac(t)+o;if(30<u){var f=o-o%5;u=(i&(1<<f)-1).toString(32),i>>=f,o-=f,zu=1<<32-ac(t)+o|n<<o|i,Fu=u+e}else zu=1<<u|n<<o|i,Fu=e}function l7(e){e.return!==null&&(np(e,1),ED(e,1,0))}function c7(e){for(;e===P2;)P2=Yf[--Jf],Yf[Jf]=null,I2=Yf[--Jf],Yf[Jf]=null;for(;e===wp;)wp=hl[--pl],hl[pl]=null,Fu=hl[--pl],hl[pl]=null,zu=hl[--pl],hl[pl]=null}var $s=null,js=null,qi=!1,nc=null;function SD(e,t){var n=fl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ck(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,$s=e,js=Kd(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,$s=e,js=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=wp!==null?{id:zu,overflow:Fu}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=fl(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,$s=e,js=null,!0):!1;default:return!1}}function t5(e){return(e.mode&1)!==0&&(e.flags&128)===0}function n5(e){if(qi){var t=js;if(t){var n=t;if(!ck(e,t)){if(t5(e))throw Error(hn(418));t=Kd(n.nextSibling);var i=$s;t&&ck(e,t)?SD(i,n):(e.flags=e.flags&-4097|2,qi=!1,$s=e)}}else{if(t5(e))throw Error(hn(418));e.flags=e.flags&-4097|2,qi=!1,$s=e}}}function uk(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;$s=e}function sv(e){if(e!==$s)return!1;if(!qi)return uk(e),qi=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Y4(e.type,e.memoizedProps)),t&&(t=js)){if(t5(e))throw TD(),Error(hn(418));for(;t;)SD(e,t),t=Kd(t.nextSibling)}if(uk(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(hn(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){js=Kd(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}js=null}}else js=$s?Kd(e.stateNode.nextSibling):null;return!0}function TD(){for(var e=js;e;)e=Kd(e.nextSibling)}function P0(){js=$s=null,qi=!1}function u7(e){nc===null?nc=[e]:nc.push(e)}var uW=Yu.ReactCurrentBatchConfig;function Ql(e,t){if(e&&e.defaultProps){t=ao({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var A2=_h(null),M2=null,Qf=null,d7=null;function h7(){d7=Qf=M2=null}function p7(e){var t=A2.current;ji(A2),e._currentValue=t}function r5(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function m0(e,t){M2=e,d7=Qf=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(us=!0),e.firstContext=null)}function wl(e){var t=e._currentValue;if(d7!==e)if(e={context:e,memoizedValue:t,next:null},Qf===null){if(M2===null)throw Error(hn(308));Qf=e,M2.dependencies={lanes:0,firstContext:e}}else Qf=Qf.next=e;return t}var cp=null;function f7(e){cp===null?cp=[e]:cp.push(e)}function CD(e,t,n,i){var o=t.interleaved;return o===null?(n.next=n,f7(t)):(n.next=o.next,o.next=n),t.interleaved=n,qu(e,i)}function qu(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Rd=!1;function m7(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kD(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ju(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Yd(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,Wr&2){var o=i.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),i.pending=t,qu(e,n)}return o=i.interleaved,o===null?(t.next=t,f7(i)):(t.next=o.next,o.next=t),i.interleaved=t,qu(e,n)}function qv(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,e7(e,n)}}function dk(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var o=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var f={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};u===null?o=u=f:u=u.next=f,n=n.next}while(n!==null);u===null?o=u=t:u=u.next=t}else o=u=t;n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function D2(e,t,n,i){var o=e.updateQueue;Rd=!1;var u=o.firstBaseUpdate,f=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var y=a,w=y.next;y.next=null,f===null?u=w:f.next=w,f=y;var k=e.alternate;k!==null&&(k=k.updateQueue,a=k.lastBaseUpdate,a!==f&&(a===null?k.firstBaseUpdate=w:a.next=w,k.lastBaseUpdate=y))}if(u!==null){var M=o.baseState;f=0,k=w=y=null,a=u;do{var O=a.lane,$=a.eventTime;if((i&O)===O){k!==null&&(k=k.next={eventTime:$,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var N=e,B=a;switch(O=t,$=n,B.tag){case 1:if(N=B.payload,typeof N=="function"){M=N.call($,M,O);break e}M=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=B.payload,O=typeof N=="function"?N.call($,M,O):N,O==null)break e;M=ao({},M,O);break e;case 2:Rd=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,O=o.effects,O===null?o.effects=[a]:O.push(a))}else $={eventTime:$,lane:O,tag:a.tag,payload:a.payload,callback:a.callback,next:null},k===null?(w=k=$,y=M):k=k.next=$,f|=O;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;O=a,a=O.next,O.next=null,o.lastBaseUpdate=O,o.shared.pending=null}}while(1);if(k===null&&(y=M),o.baseState=y,o.firstBaseUpdate=w,o.lastBaseUpdate=k,t=o.shared.interleaved,t!==null){o=t;do f|=o.lane,o=o.next;while(o!==t)}else u===null&&(o.shared.lanes=0);Sp|=f,e.lanes=f,e.memoizedState=M}}function hk(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],o=i.callback;if(o!==null){if(i.callback=null,i=n,typeof o!="function")throw Error(hn(191,o));o.call(i)}}}var PD=new CM.Component().refs;function i5(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:ao({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ux={isMounted:function(e){return(e=e._reactInternals)?jp(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Ya(),o=Qd(e),u=ju(i,o);u.payload=t,n!=null&&(u.callback=n),t=Yd(e,u,o),t!==null&&(sc(t,e,o,i),qv(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Ya(),o=Qd(e),u=ju(i,o);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=Yd(e,u,o),t!==null&&(sc(t,e,o,i),qv(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ya(),i=Qd(e),o=ju(n,i);o.tag=2,t!=null&&(o.callback=t),t=Yd(e,o,i),t!==null&&(sc(t,e,i,n),qv(t,e,i))}};function pk(e,t,n,i,o,u,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,u,f):t.prototype&&t.prototype.isPureReactComponent?!Tg(n,i)||!Tg(o,u):!0}function ID(e,t,n){var i=!1,o=lh,u=t.contextType;return typeof u=="object"&&u!==null?u=wl(u):(o=fs(t)?bp:za.current,i=t.contextTypes,u=(i=i!=null)?k0(e,o):lh),t=new t(n,u),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ux,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=u),t}function fk(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Ux.enqueueReplaceState(t,t.state,null)}function o5(e,t,n,i){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=PD,m7(e);var u=t.contextType;typeof u=="object"&&u!==null?o.context=wl(u):(u=fs(t)?bp:za.current,o.context=k0(e,u)),o.state=e.memoizedState,u=t.getDerivedStateFromProps,typeof u=="function"&&(i5(e,t,u,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Ux.enqueueReplaceState(o,o.state,null),D2(e,n,o,i),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Em(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(hn(309));var i=n.stateNode}if(!i)throw Error(hn(147,e));var o=i,u=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===u?t.ref:(t=function(f){var a=o.refs;a===PD&&(a=o.refs={}),f===null?delete a[u]:a[u]=f},t._stringRef=u,t)}if(typeof e!="string")throw Error(hn(284));if(!n._owner)throw Error(hn(290,e))}return e}function lv(e,t){throw e=Object.prototype.toString.call(t),Error(hn(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function mk(e){var t=e._init;return t(e._payload)}function AD(e){function t(U,G){if(e){var Z=U.deletions;Z===null?(U.deletions=[G],U.flags|=16):Z.push(G)}}function n(U,G){if(!e)return null;for(;G!==null;)t(U,G),G=G.sibling;return null}function i(U,G){for(U=new Map;G!==null;)G.key!==null?U.set(G.key,G):U.set(G.index,G),G=G.sibling;return U}function o(U,G){return U=eh(U,G),U.index=0,U.sibling=null,U}function u(U,G,Z){return U.index=Z,e?(Z=U.alternate,Z!==null?(Z=Z.index,Z<G?(U.flags|=2,G):Z):(U.flags|=2,G)):(U.flags|=1048576,G)}function f(U){return e&&U.alternate===null&&(U.flags|=2),U}function a(U,G,Z,Q){return G===null||G.tag!==6?(G=d6(Z,U.mode,Q),G.return=U,G):(G=o(G,Z),G.return=U,G)}function y(U,G,Z,Q){var se=Z.type;return se===Hf?k(U,G,Z.props.children,Q,Z.key):G!==null&&(G.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===Dd&&mk(se)===G.type)?(Q=o(G,Z.props),Q.ref=Em(U,G,Z),Q.return=U,Q):(Q=Jv(Z.type,Z.key,Z.props,null,U.mode,Q),Q.ref=Em(U,G,Z),Q.return=U,Q)}function w(U,G,Z,Q){return G===null||G.tag!==4||G.stateNode.containerInfo!==Z.containerInfo||G.stateNode.implementation!==Z.implementation?(G=h6(Z,U.mode,Q),G.return=U,G):(G=o(G,Z.children||[]),G.return=U,G)}function k(U,G,Z,Q,se){return G===null||G.tag!==7?(G=pp(Z,U.mode,Q,se),G.return=U,G):(G=o(G,Z),G.return=U,G)}function M(U,G,Z){if(typeof G=="string"&&G!==""||typeof G=="number")return G=d6(""+G,U.mode,Z),G.return=U,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case Yy:return Z=Jv(G.type,G.key,G.props,null,U.mode,Z),Z.ref=Em(U,null,G),Z.return=U,Z;case Wf:return G=h6(G,U.mode,Z),G.return=U,G;case Dd:var Q=G._init;return M(U,Q(G._payload),Z)}if(Bm(G)||ym(G))return G=pp(G,U.mode,Z,null),G.return=U,G;lv(U,G)}return null}function O(U,G,Z,Q){var se=G!==null?G.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number")return se!==null?null:a(U,G,""+Z,Q);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case Yy:return Z.key===se?y(U,G,Z,Q):null;case Wf:return Z.key===se?w(U,G,Z,Q):null;case Dd:return se=Z._init,O(U,G,se(Z._payload),Q)}if(Bm(Z)||ym(Z))return se!==null?null:k(U,G,Z,Q,null);lv(U,Z)}return null}function $(U,G,Z,Q,se){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return U=U.get(Z)||null,a(G,U,""+Q,se);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case Yy:return U=U.get(Q.key===null?Z:Q.key)||null,y(G,U,Q,se);case Wf:return U=U.get(Q.key===null?Z:Q.key)||null,w(G,U,Q,se);case Dd:var ce=Q._init;return $(U,G,Z,ce(Q._payload),se)}if(Bm(Q)||ym(Q))return U=U.get(Z)||null,k(G,U,Q,se,null);lv(G,Q)}return null}function N(U,G,Z,Q){for(var se=null,ce=null,A=G,_e=G=0,le=null;A!==null&&_e<Z.length;_e++){A.index>_e?(le=A,A=null):le=A.sibling;var ve=O(U,A,Z[_e],Q);if(ve===null){A===null&&(A=le);break}e&&A&&ve.alternate===null&&t(U,A),G=u(ve,G,_e),ce===null?se=ve:ce.sibling=ve,ce=ve,A=le}if(_e===Z.length)return n(U,A),qi&&np(U,_e),se;if(A===null){for(;_e<Z.length;_e++)A=M(U,Z[_e],Q),A!==null&&(G=u(A,G,_e),ce===null?se=A:ce.sibling=A,ce=A);return qi&&np(U,_e),se}for(A=i(U,A);_e<Z.length;_e++)le=$(A,U,_e,Z[_e],Q),le!==null&&(e&&le.alternate!==null&&A.delete(le.key===null?_e:le.key),G=u(le,G,_e),ce===null?se=le:ce.sibling=le,ce=le);return e&&A.forEach(function(Ue){return t(U,Ue)}),qi&&np(U,_e),se}function B(U,G,Z,Q){var se=ym(Z);if(typeof se!="function")throw Error(hn(150));if(Z=se.call(Z),Z==null)throw Error(hn(151));for(var ce=se=null,A=G,_e=G=0,le=null,ve=Z.next();A!==null&&!ve.done;_e++,ve=Z.next()){A.index>_e?(le=A,A=null):le=A.sibling;var Ue=O(U,A,ve.value,Q);if(Ue===null){A===null&&(A=le);break}e&&A&&Ue.alternate===null&&t(U,A),G=u(Ue,G,_e),ce===null?se=Ue:ce.sibling=Ue,ce=Ue,A=le}if(ve.done)return n(U,A),qi&&np(U,_e),se;if(A===null){for(;!ve.done;_e++,ve=Z.next())ve=M(U,ve.value,Q),ve!==null&&(G=u(ve,G,_e),ce===null?se=ve:ce.sibling=ve,ce=ve);return qi&&np(U,_e),se}for(A=i(U,A);!ve.done;_e++,ve=Z.next())ve=$(A,U,_e,ve.value,Q),ve!==null&&(e&&ve.alternate!==null&&A.delete(ve.key===null?_e:ve.key),G=u(ve,G,_e),ce===null?se=ve:ce.sibling=ve,ce=ve);return e&&A.forEach(function($e){return t(U,$e)}),qi&&np(U,_e),se}function J(U,G,Z,Q){if(typeof Z=="object"&&Z!==null&&Z.type===Hf&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case Yy:e:{for(var se=Z.key,ce=G;ce!==null;){if(ce.key===se){if(se=Z.type,se===Hf){if(ce.tag===7){n(U,ce.sibling),G=o(ce,Z.props.children),G.return=U,U=G;break e}}else if(ce.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===Dd&&mk(se)===ce.type){n(U,ce.sibling),G=o(ce,Z.props),G.ref=Em(U,ce,Z),G.return=U,U=G;break e}n(U,ce);break}else t(U,ce);ce=ce.sibling}Z.type===Hf?(G=pp(Z.props.children,U.mode,Q,Z.key),G.return=U,U=G):(Q=Jv(Z.type,Z.key,Z.props,null,U.mode,Q),Q.ref=Em(U,G,Z),Q.return=U,U=Q)}return f(U);case Wf:e:{for(ce=Z.key;G!==null;){if(G.key===ce)if(G.tag===4&&G.stateNode.containerInfo===Z.containerInfo&&G.stateNode.implementation===Z.implementation){n(U,G.sibling),G=o(G,Z.children||[]),G.return=U,U=G;break e}else{n(U,G);break}else t(U,G);G=G.sibling}G=h6(Z,U.mode,Q),G.return=U,U=G}return f(U);case Dd:return ce=Z._init,J(U,G,ce(Z._payload),Q)}if(Bm(Z))return N(U,G,Z,Q);if(ym(Z))return B(U,G,Z,Q);lv(U,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"?(Z=""+Z,G!==null&&G.tag===6?(n(U,G.sibling),G=o(G,Z),G.return=U,U=G):(n(U,G),G=d6(Z,U.mode,Q),G.return=U,U=G),f(U)):n(U,G)}return J}var I0=AD(!0),MD=AD(!1),y_={},Xc=_h(y_),Ig=_h(y_),Ag=_h(y_);function up(e){if(e===y_)throw Error(hn(174));return e}function g7(e,t){switch(Oi(Ag,t),Oi(Ig,e),Oi(Xc,y_),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:F4(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=F4(t,e)}ji(Xc),Oi(Xc,t)}function A0(){ji(Xc),ji(Ig),ji(Ag)}function DD(e){up(Ag.current);var t=up(Xc.current),n=F4(t,e.type);t!==n&&(Oi(Ig,e),Oi(Xc,n))}function _7(e){Ig.current===e&&(ji(Xc),ji(Ig))}var ro=_h(0);function R2(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var o6=[];function y7(){for(var e=0;e<o6.length;e++)o6[e]._workInProgressVersionPrimary=null;o6.length=0}var Gv=Yu.ReactCurrentDispatcher,a6=Yu.ReactCurrentBatchConfig,Ep=0,oo=null,Bo=null,ea=null,O2=!1,eg=!1,Mg=0,dW=0;function Ca(){throw Error(hn(321))}function v7(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cc(e[n],t[n]))return!1;return!0}function x7(e,t,n,i,o,u){if(Ep=u,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Gv.current=e===null||e.memoizedState===null?mW:gW,e=n(i,o),eg){u=0;do{if(eg=!1,Mg=0,25<=u)throw Error(hn(301));u+=1,ea=Bo=null,t.updateQueue=null,Gv.current=_W,e=n(i,o)}while(eg)}if(Gv.current=L2,t=Bo!==null&&Bo.next!==null,Ep=0,ea=Bo=oo=null,O2=!1,t)throw Error(hn(300));return e}function b7(){var e=Mg!==0;return Mg=0,e}function jc(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ea===null?oo.memoizedState=ea=e:ea=ea.next=e,ea}function El(){if(Bo===null){var e=oo.alternate;e=e!==null?e.memoizedState:null}else e=Bo.next;var t=ea===null?oo.memoizedState:ea.next;if(t!==null)ea=t,Bo=e;else{if(e===null)throw Error(hn(310));Bo=e,e={memoizedState:Bo.memoizedState,baseState:Bo.baseState,baseQueue:Bo.baseQueue,queue:Bo.queue,next:null},ea===null?oo.memoizedState=ea=e:ea=ea.next=e}return ea}function Dg(e,t){return typeof t=="function"?t(e):t}function s6(e){var t=El(),n=t.queue;if(n===null)throw Error(hn(311));n.lastRenderedReducer=e;var i=Bo,o=i.baseQueue,u=n.pending;if(u!==null){if(o!==null){var f=o.next;o.next=u.next,u.next=f}i.baseQueue=o=u,n.pending=null}if(o!==null){u=o.next,i=i.baseState;var a=f=null,y=null,w=u;do{var k=w.lane;if((Ep&k)===k)y!==null&&(y=y.next={lane:0,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),i=w.hasEagerState?w.eagerState:e(i,w.action);else{var M={lane:k,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null};y===null?(a=y=M,f=i):y=y.next=M,oo.lanes|=k,Sp|=k}w=w.next}while(w!==null&&w!==u);y===null?f=i:y.next=a,cc(i,t.memoizedState)||(us=!0),t.memoizedState=i,t.baseState=f,t.baseQueue=y,n.lastRenderedState=i}if(e=n.interleaved,e!==null){o=e;do u=o.lane,oo.lanes|=u,Sp|=u,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function l6(e){var t=El(),n=t.queue;if(n===null)throw Error(hn(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,u=t.memoizedState;if(o!==null){n.pending=null;var f=o=o.next;do u=e(u,f.action),f=f.next;while(f!==o);cc(u,t.memoizedState)||(us=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,i]}function RD(){}function OD(e,t){var n=oo,i=El(),o=t(),u=!cc(i.memoizedState,o);if(u&&(i.memoizedState=o,us=!0),i=i.queue,w7(FD.bind(null,n,i,e),[e]),i.getSnapshot!==t||u||ea!==null&&ea.memoizedState.tag&1){if(n.flags|=2048,Rg(9,zD.bind(null,n,i,o,t),void 0,null),ta===null)throw Error(hn(349));Ep&30||LD(n,t,o)}return o}function LD(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=oo.updateQueue,t===null?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function zD(e,t,n,i){t.value=n,t.getSnapshot=i,ND(t)&&BD(e)}function FD(e,t,n){return n(function(){ND(t)&&BD(e)})}function ND(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!cc(e,n)}catch{return!0}}function BD(e){var t=qu(e,1);t!==null&&sc(t,e,1,-1)}function gk(e){var t=jc();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dg,lastRenderedState:e},t.queue=e,e=e.dispatch=fW.bind(null,oo,e),[t.memoizedState,e]}function Rg(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=oo.updateQueue,t===null?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function jD(){return El().memoizedState}function Zv(e,t,n,i){var o=jc();oo.flags|=e,o.memoizedState=Rg(1|t,n,void 0,i===void 0?null:i)}function Vx(e,t,n,i){var o=El();i=i===void 0?null:i;var u=void 0;if(Bo!==null){var f=Bo.memoizedState;if(u=f.destroy,i!==null&&v7(i,f.deps)){o.memoizedState=Rg(t,n,u,i);return}}oo.flags|=e,o.memoizedState=Rg(1|t,n,u,i)}function _k(e,t){return Zv(8390656,8,e,t)}function w7(e,t){return Vx(2048,8,e,t)}function $D(e,t){return Vx(4,2,e,t)}function UD(e,t){return Vx(4,4,e,t)}function VD(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function WD(e,t,n){return n=n!=null?n.concat([e]):null,Vx(4,4,VD.bind(null,t,e),n)}function E7(){}function HD(e,t){var n=El();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&v7(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function qD(e,t){var n=El();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&v7(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function GD(e,t,n){return Ep&21?(cc(n,t)||(n=KM(),oo.lanes|=n,Sp|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,us=!0),e.memoizedState=n)}function hW(e,t){var n=_i;_i=n!==0&&4>n?n:4,e(!0);var i=a6.transition;a6.transition={};try{e(!1),t()}finally{_i=n,a6.transition=i}}function ZD(){return El().memoizedState}function pW(e,t,n){var i=Qd(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},XD(e))KD(t,n);else if(n=CD(e,t,n,i),n!==null){var o=Ya();sc(n,e,i,o),YD(n,t,i)}}function fW(e,t,n){var i=Qd(e),o={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(XD(e))KD(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var f=t.lastRenderedState,a=u(f,n);if(o.hasEagerState=!0,o.eagerState=a,cc(a,f)){var y=t.interleaved;y===null?(o.next=o,f7(t)):(o.next=y.next,y.next=o),t.interleaved=o;return}}catch{}finally{}n=CD(e,t,o,i),n!==null&&(o=Ya(),sc(n,e,i,o),YD(n,t,i))}}function XD(e){var t=e.alternate;return e===oo||t!==null&&t===oo}function KD(e,t){eg=O2=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function YD(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,e7(e,n)}}var L2={readContext:wl,useCallback:Ca,useContext:Ca,useEffect:Ca,useImperativeHandle:Ca,useInsertionEffect:Ca,useLayoutEffect:Ca,useMemo:Ca,useReducer:Ca,useRef:Ca,useState:Ca,useDebugValue:Ca,useDeferredValue:Ca,useTransition:Ca,useMutableSource:Ca,useSyncExternalStore:Ca,useId:Ca,unstable_isNewReconciler:!1},mW={readContext:wl,useCallback:function(e,t){return jc().memoizedState=[e,t===void 0?null:t],e},useContext:wl,useEffect:_k,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Zv(4194308,4,VD.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Zv(4194308,4,e,t)},useInsertionEffect:function(e,t){return Zv(4,2,e,t)},useMemo:function(e,t){var n=jc();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=jc();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=pW.bind(null,oo,e),[i.memoizedState,e]},useRef:function(e){var t=jc();return e={current:e},t.memoizedState=e},useState:gk,useDebugValue:E7,useDeferredValue:function(e){return jc().memoizedState=e},useTransition:function(){var e=gk(!1),t=e[0];return e=hW.bind(null,e[1]),jc().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=oo,o=jc();if(qi){if(n===void 0)throw Error(hn(407));n=n()}else{if(n=t(),ta===null)throw Error(hn(349));Ep&30||LD(i,t,n)}o.memoizedState=n;var u={value:n,getSnapshot:t};return o.queue=u,_k(FD.bind(null,i,u,e),[e]),i.flags|=2048,Rg(9,zD.bind(null,i,u,n,t),void 0,null),n},useId:function(){var e=jc(),t=ta.identifierPrefix;if(qi){var n=Fu,i=zu;n=(i&~(1<<32-ac(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=Mg++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=dW++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},gW={readContext:wl,useCallback:HD,useContext:wl,useEffect:w7,useImperativeHandle:WD,useInsertionEffect:$D,useLayoutEffect:UD,useMemo:qD,useReducer:s6,useRef:jD,useState:function(){return s6(Dg)},useDebugValue:E7,useDeferredValue:function(e){var t=El();return GD(t,Bo.memoizedState,e)},useTransition:function(){var e=s6(Dg)[0],t=El().memoizedState;return[e,t]},useMutableSource:RD,useSyncExternalStore:OD,useId:ZD,unstable_isNewReconciler:!1},_W={readContext:wl,useCallback:HD,useContext:wl,useEffect:w7,useImperativeHandle:WD,useInsertionEffect:$D,useLayoutEffect:UD,useMemo:qD,useReducer:l6,useRef:jD,useState:function(){return l6(Dg)},useDebugValue:E7,useDeferredValue:function(e){var t=El();return Bo===null?t.memoizedState=e:GD(t,Bo.memoizedState,e)},useTransition:function(){var e=l6(Dg)[0],t=El().memoizedState;return[e,t]},useMutableSource:RD,useSyncExternalStore:OD,useId:ZD,unstable_isNewReconciler:!1};function M0(e,t){try{var n="",i=t;do n+=HU(i),i=i.return;while(i);var o=n}catch(u){o=`
Error generating stack: `+u.message+`
`+u.stack}return{value:e,source:t,stack:o,digest:null}}function c6(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function a5(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var yW=typeof WeakMap=="function"?WeakMap:Map;function JD(e,t,n){n=ju(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){F2||(F2=!0,g5=i),a5(e,t)},n}function QD(e,t,n){n=ju(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var o=t.value;n.payload=function(){return i(o)},n.callback=function(){a5(e,t)}}var u=e.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(n.callback=function(){a5(e,t),typeof i!="function"&&(Jd===null?Jd=new Set([this]):Jd.add(this));var f=t.stack;this.componentDidCatch(t.value,{componentStack:f!==null?f:""})}),n}function yk(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new yW;var o=new Set;i.set(t,o)}else o=i.get(t),o===void 0&&(o=new Set,i.set(t,o));o.has(n)||(o.add(n),e=DW.bind(null,e,t,n),t.then(e,e))}function vk(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function xk(e,t,n,i,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ju(-1,1),t.tag=2,Yd(n,t,1))),n.lanes|=1),e)}var vW=Yu.ReactCurrentOwner,us=!1;function Xa(e,t,n,i){t.child=e===null?MD(t,null,n,i):I0(t,e.child,n,i)}function bk(e,t,n,i,o){n=n.render;var u=t.ref;return m0(t,o),i=x7(e,t,n,i,u,o),n=b7(),e!==null&&!us?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Gu(e,t,o)):(qi&&n&&l7(t),t.flags|=1,Xa(e,t,i,o),t.child)}function wk(e,t,n,i,o){if(e===null){var u=n.type;return typeof u=="function"&&!M7(u)&&u.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=u,eR(e,t,u,i,o)):(e=Jv(n.type,null,i,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!(e.lanes&o)){var f=u.memoizedProps;if(n=n.compare,n=n!==null?n:Tg,n(f,i)&&e.ref===t.ref)return Gu(e,t,o)}return t.flags|=1,e=eh(u,i),e.ref=t.ref,e.return=t,t.child=e}function eR(e,t,n,i,o){if(e!==null){var u=e.memoizedProps;if(Tg(u,i)&&e.ref===t.ref)if(us=!1,t.pendingProps=i=u,(e.lanes&o)!==0)e.flags&131072&&(us=!0);else return t.lanes=e.lanes,Gu(e,t,o)}return s5(e,t,n,i,o)}function tR(e,t,n){var i=t.pendingProps,o=i.children,u=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oi(t0,Os),Os|=n;else{if(!(n&1073741824))return e=u!==null?u.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Oi(t0,Os),Os|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=u!==null?u.baseLanes:n,Oi(t0,Os),Os|=i}else u!==null?(i=u.baseLanes|n,t.memoizedState=null):i=n,Oi(t0,Os),Os|=i;return Xa(e,t,o,n),t.child}function nR(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function s5(e,t,n,i,o){var u=fs(n)?bp:za.current;return u=k0(t,u),m0(t,o),n=x7(e,t,n,i,u,o),i=b7(),e!==null&&!us?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Gu(e,t,o)):(qi&&i&&l7(t),t.flags|=1,Xa(e,t,n,o),t.child)}function Ek(e,t,n,i,o){if(fs(n)){var u=!0;k2(t)}else u=!1;if(m0(t,o),t.stateNode===null)Xv(e,t),ID(t,n,i),o5(t,n,i,o),i=!0;else if(e===null){var f=t.stateNode,a=t.memoizedProps;f.props=a;var y=f.context,w=n.contextType;typeof w=="object"&&w!==null?w=wl(w):(w=fs(n)?bp:za.current,w=k0(t,w));var k=n.getDerivedStateFromProps,M=typeof k=="function"||typeof f.getSnapshotBeforeUpdate=="function";M||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(a!==i||y!==w)&&fk(t,f,i,w),Rd=!1;var O=t.memoizedState;f.state=O,D2(t,i,f,o),y=t.memoizedState,a!==i||O!==y||ps.current||Rd?(typeof k=="function"&&(i5(t,n,k,i),y=t.memoizedState),(a=Rd||pk(t,n,a,i,O,y,w))?(M||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=y),f.props=i,f.state=y,f.context=w,i=a):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{f=t.stateNode,kD(e,t),a=t.memoizedProps,w=t.type===t.elementType?a:Ql(t.type,a),f.props=w,M=t.pendingProps,O=f.context,y=n.contextType,typeof y=="object"&&y!==null?y=wl(y):(y=fs(n)?bp:za.current,y=k0(t,y));var $=n.getDerivedStateFromProps;(k=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(a!==M||O!==y)&&fk(t,f,i,y),Rd=!1,O=t.memoizedState,f.state=O,D2(t,i,f,o);var N=t.memoizedState;a!==M||O!==N||ps.current||Rd?(typeof $=="function"&&(i5(t,n,$,i),N=t.memoizedState),(w=Rd||pk(t,n,w,i,O,N,y)||!1)?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(i,N,y),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(i,N,y)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||a===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=N),f.props=i,f.state=N,f.context=y,i=w):(typeof f.componentDidUpdate!="function"||a===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),i=!1)}return l5(e,t,n,i,u,o)}function l5(e,t,n,i,o,u){nR(e,t);var f=(t.flags&128)!==0;if(!i&&!f)return o&&lk(t,n,!1),Gu(e,t,u);i=t.stateNode,vW.current=t;var a=f&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&f?(t.child=I0(t,e.child,null,u),t.child=I0(t,null,a,u)):Xa(e,t,a,u),t.memoizedState=i.state,o&&lk(t,n,!0),t.child}function rR(e){var t=e.stateNode;t.pendingContext?sk(e,t.pendingContext,t.pendingContext!==t.context):t.context&&sk(e,t.context,!1),g7(e,t.containerInfo)}function Sk(e,t,n,i,o){return P0(),u7(o),t.flags|=256,Xa(e,t,n,i),t.child}var c5={dehydrated:null,treeContext:null,retryLane:0};function u5(e){return{baseLanes:e,cachePool:null,transitions:null}}function iR(e,t,n){var i=t.pendingProps,o=ro.current,u=!1,f=(t.flags&128)!==0,a;if((a=f)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(u=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Oi(ro,o&1),e===null)return n5(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(f=i.children,e=i.fallback,u?(i=t.mode,u=t.child,f={mode:"hidden",children:f},!(i&1)&&u!==null?(u.childLanes=0,u.pendingProps=f):u=qx(f,i,0,null),e=pp(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=u5(n),t.memoizedState=c5,e):S7(t,f));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return xW(e,t,f,i,a,o,n);if(u){u=i.fallback,f=t.mode,o=e.child,a=o.sibling;var y={mode:"hidden",children:i.children};return!(f&1)&&t.child!==o?(i=t.child,i.childLanes=0,i.pendingProps=y,t.deletions=null):(i=eh(o,y),i.subtreeFlags=o.subtreeFlags&14680064),a!==null?u=eh(a,u):(u=pp(u,f,n,null),u.flags|=2),u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,f=e.child.memoizedState,f=f===null?u5(n):{baseLanes:f.baseLanes|n,cachePool:null,transitions:f.transitions},u.memoizedState=f,u.childLanes=e.childLanes&~n,t.memoizedState=c5,i}return u=e.child,e=u.sibling,i=eh(u,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function S7(e,t){return t=qx({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function cv(e,t,n,i){return i!==null&&u7(i),I0(t,e.child,null,n),e=S7(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xW(e,t,n,i,o,u,f){if(n)return t.flags&256?(t.flags&=-257,i=c6(Error(hn(422))),cv(e,t,f,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(u=i.fallback,o=t.mode,i=qx({mode:"visible",children:i.children},o,0,null),u=pp(u,o,f,null),u.flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,t.mode&1&&I0(t,e.child,null,f),t.child.memoizedState=u5(f),t.memoizedState=c5,u);if(!(t.mode&1))return cv(e,t,f,null);if(o.data==="$!"){if(i=o.nextSibling&&o.nextSibling.dataset,i)var a=i.dgst;return i=a,u=Error(hn(419)),i=c6(u,i,void 0),cv(e,t,f,i)}if(a=(f&e.childLanes)!==0,us||a){if(i=ta,i!==null){switch(f&-f){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(i.suspendedLanes|f)?0:o,o!==0&&o!==u.retryLane&&(u.retryLane=o,qu(e,o),sc(i,e,o,-1))}return A7(),i=c6(Error(hn(421))),cv(e,t,f,i)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=RW.bind(null,e),o._reactRetry=t,null):(e=u.treeContext,js=Kd(o.nextSibling),$s=t,qi=!0,nc=null,e!==null&&(hl[pl++]=zu,hl[pl++]=Fu,hl[pl++]=wp,zu=e.id,Fu=e.overflow,wp=t),t=S7(t,i.children),t.flags|=4096,t)}function Tk(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),r5(e.return,t,n)}function u6(e,t,n,i,o){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=i,u.tail=n,u.tailMode=o)}function oR(e,t,n){var i=t.pendingProps,o=i.revealOrder,u=i.tail;if(Xa(e,t,i.children,n),i=ro.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tk(e,n,t);else if(e.tag===19)Tk(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Oi(ro,i),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&R2(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),u6(t,!1,o,n,u);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&R2(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}u6(t,!0,n,null,u);break;case"together":u6(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xv(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gu(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Sp|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(hn(153));if(t.child!==null){for(e=t.child,n=eh(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=eh(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function bW(e,t,n){switch(t.tag){case 3:rR(t),P0();break;case 5:DD(t);break;case 1:fs(t.type)&&k2(t);break;case 4:g7(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,o=t.memoizedProps.value;Oi(A2,i._currentValue),i._currentValue=o;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(Oi(ro,ro.current&1),t.flags|=128,null):n&t.child.childLanes?iR(e,t,n):(Oi(ro,ro.current&1),e=Gu(e,t,n),e!==null?e.sibling:null);Oi(ro,ro.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return oR(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Oi(ro,ro.current),i)break;return null;case 22:case 23:return t.lanes=0,tR(e,t,n)}return Gu(e,t,n)}var aR,d5,sR,lR;aR=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};d5=function(){};sR=function(e,t,n,i){var o=e.memoizedProps;if(o!==i){e=t.stateNode,up(Xc.current);var u=null;switch(n){case"input":o=R4(e,o),i=R4(e,i),u=[];break;case"select":o=ao({},o,{value:void 0}),i=ao({},i,{value:void 0}),u=[];break;case"textarea":o=z4(e,o),i=z4(e,i),u=[];break;default:typeof o.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=T2)}N4(n,i);var f;n=null;for(w in o)if(!i.hasOwnProperty(w)&&o.hasOwnProperty(w)&&o[w]!=null)if(w==="style"){var a=o[w];for(f in a)a.hasOwnProperty(f)&&(n||(n={}),n[f]="")}else w!=="dangerouslySetInnerHTML"&&w!=="children"&&w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(yg.hasOwnProperty(w)?u||(u=[]):(u=u||[]).push(w,null));for(w in i){var y=i[w];if(a=o!=null?o[w]:void 0,i.hasOwnProperty(w)&&y!==a&&(y!=null||a!=null))if(w==="style")if(a){for(f in a)!a.hasOwnProperty(f)||y&&y.hasOwnProperty(f)||(n||(n={}),n[f]="");for(f in y)y.hasOwnProperty(f)&&a[f]!==y[f]&&(n||(n={}),n[f]=y[f])}else n||(u||(u=[]),u.push(w,n)),n=y;else w==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,a=a?a.__html:void 0,y!=null&&a!==y&&(u=u||[]).push(w,y)):w==="children"?typeof y!="string"&&typeof y!="number"||(u=u||[]).push(w,""+y):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&(yg.hasOwnProperty(w)?(y!=null&&w==="onScroll"&&Fi("scroll",e),u||a===y||(u=[])):(u=u||[]).push(w,y))}n&&(u=u||[]).push("style",n);var w=u;(t.updateQueue=w)&&(t.flags|=4)}};lR=function(e,t,n,i){n!==i&&(t.flags|=4)};function Sm(e,t){if(!qi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function ka(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags&14680064,i|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function wW(e,t,n){var i=t.pendingProps;switch(c7(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ka(t),null;case 1:return fs(t.type)&&C2(),ka(t),null;case 3:return i=t.stateNode,A0(),ji(ps),ji(za),y7(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(sv(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,nc!==null&&(v5(nc),nc=null))),d5(e,t),ka(t),null;case 5:_7(t);var o=up(Ag.current);if(n=t.type,e!==null&&t.stateNode!=null)sR(e,t,n,i,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(hn(166));return ka(t),null}if(e=up(Xc.current),sv(t)){i=t.stateNode,n=t.type;var u=t.memoizedProps;switch(i[Wc]=t,i[Pg]=u,e=(t.mode&1)!==0,n){case"dialog":Fi("cancel",i),Fi("close",i);break;case"iframe":case"object":case"embed":Fi("load",i);break;case"video":case"audio":for(o=0;o<$m.length;o++)Fi($m[o],i);break;case"source":Fi("error",i);break;case"img":case"image":case"link":Fi("error",i),Fi("load",i);break;case"details":Fi("toggle",i);break;case"input":OC(i,u),Fi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!u.multiple},Fi("invalid",i);break;case"textarea":zC(i,u),Fi("invalid",i)}N4(n,u),o=null;for(var f in u)if(u.hasOwnProperty(f)){var a=u[f];f==="children"?typeof a=="string"?i.textContent!==a&&(u.suppressHydrationWarning!==!0&&av(i.textContent,a,e),o=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(u.suppressHydrationWarning!==!0&&av(i.textContent,a,e),o=["children",""+a]):yg.hasOwnProperty(f)&&a!=null&&f==="onScroll"&&Fi("scroll",i)}switch(n){case"input":Jy(i),LC(i,u,!0);break;case"textarea":Jy(i),FC(i);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(i.onclick=T2)}i=o,t.updateQueue=i,i!==null&&(t.flags|=4)}else{f=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=LM(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=f.createElement(n,{is:i.is}):(e=f.createElement(n),n==="select"&&(f=e,i.multiple?f.multiple=!0:i.size&&(f.size=i.size))):e=f.createElementNS(e,n),e[Wc]=t,e[Pg]=i,aR(e,t,!1,!1),t.stateNode=e;e:{switch(f=B4(n,i),n){case"dialog":Fi("cancel",e),Fi("close",e),o=i;break;case"iframe":case"object":case"embed":Fi("load",e),o=i;break;case"video":case"audio":for(o=0;o<$m.length;o++)Fi($m[o],e);o=i;break;case"source":Fi("error",e),o=i;break;case"img":case"image":case"link":Fi("error",e),Fi("load",e),o=i;break;case"details":Fi("toggle",e),o=i;break;case"input":OC(e,i),o=R4(e,i),Fi("invalid",e);break;case"option":o=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},o=ao({},i,{value:void 0}),Fi("invalid",e);break;case"textarea":zC(e,i),o=z4(e,i),Fi("invalid",e);break;default:o=i}N4(n,o),a=o;for(u in a)if(a.hasOwnProperty(u)){var y=a[u];u==="style"?NM(e,y):u==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,y!=null&&zM(e,y)):u==="children"?typeof y=="string"?(n!=="textarea"||y!=="")&&vg(e,y):typeof y=="number"&&vg(e,""+y):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(yg.hasOwnProperty(u)?y!=null&&u==="onScroll"&&Fi("scroll",e):y!=null&&Z8(e,u,y,f))}switch(n){case"input":Jy(e),LC(e,i,!1);break;case"textarea":Jy(e),FC(e);break;case"option":i.value!=null&&e.setAttribute("value",""+sh(i.value));break;case"select":e.multiple=!!i.multiple,u=i.value,u!=null?d0(e,!!i.multiple,u,!1):i.defaultValue!=null&&d0(e,!!i.multiple,i.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=T2)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ka(t),null;case 6:if(e&&t.stateNode!=null)lR(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(hn(166));if(n=up(Ag.current),up(Xc.current),sv(t)){if(i=t.stateNode,n=t.memoizedProps,i[Wc]=t,(u=i.nodeValue!==n)&&(e=$s,e!==null))switch(e.tag){case 3:av(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&av(i.nodeValue,n,(e.mode&1)!==0)}u&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Wc]=t,t.stateNode=i}return ka(t),null;case 13:if(ji(ro),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(qi&&js!==null&&t.mode&1&&!(t.flags&128))TD(),P0(),t.flags|=98560,u=!1;else if(u=sv(t),i!==null&&i.dehydrated!==null){if(e===null){if(!u)throw Error(hn(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(hn(317));u[Wc]=t}else P0(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ka(t),u=!1}else nc!==null&&(v5(nc),nc=null),u=!0;if(!u)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||ro.current&1?$o===0&&($o=3):A7())),t.updateQueue!==null&&(t.flags|=4),ka(t),null);case 4:return A0(),d5(e,t),e===null&&Cg(t.stateNode.containerInfo),ka(t),null;case 10:return p7(t.type._context),ka(t),null;case 17:return fs(t.type)&&C2(),ka(t),null;case 19:if(ji(ro),u=t.memoizedState,u===null)return ka(t),null;if(i=(t.flags&128)!==0,f=u.rendering,f===null)if(i)Sm(u,!1);else{if($o!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(f=R2(e),f!==null){for(t.flags|=128,Sm(u,!1),i=f.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)u=n,e=i,u.flags&=14680066,f=u.alternate,f===null?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=f.childLanes,u.lanes=f.lanes,u.child=f.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=f.memoizedProps,u.memoizedState=f.memoizedState,u.updateQueue=f.updateQueue,u.type=f.type,e=f.dependencies,u.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Oi(ro,ro.current&1|2),t.child}e=e.sibling}u.tail!==null&&bo()>D0&&(t.flags|=128,i=!0,Sm(u,!1),t.lanes=4194304)}else{if(!i)if(e=R2(f),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Sm(u,!0),u.tail===null&&u.tailMode==="hidden"&&!f.alternate&&!qi)return ka(t),null}else 2*bo()-u.renderingStartTime>D0&&n!==1073741824&&(t.flags|=128,i=!0,Sm(u,!1),t.lanes=4194304);u.isBackwards?(f.sibling=t.child,t.child=f):(n=u.last,n!==null?n.sibling=f:t.child=f,u.last=f)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=bo(),t.sibling=null,n=ro.current,Oi(ro,i?n&1|2:n&1),t):(ka(t),null);case 22:case 23:return I7(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?Os&1073741824&&(ka(t),t.subtreeFlags&6&&(t.flags|=8192)):ka(t),null;case 24:return null;case 25:return null}throw Error(hn(156,t.tag))}function EW(e,t){switch(c7(t),t.tag){case 1:return fs(t.type)&&C2(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return A0(),ji(ps),ji(za),y7(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return _7(t),null;case 13:if(ji(ro),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(hn(340));P0()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ji(ro),null;case 4:return A0(),null;case 10:return p7(t.type._context),null;case 22:case 23:return I7(),null;case 24:return null;default:return null}}var uv=!1,Da=!1,SW=typeof WeakSet=="function"?WeakSet:Set,Wn=null;function e0(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){ho(e,t,i)}else n.current=null}function h5(e,t,n){try{n()}catch(i){ho(e,t,i)}}var Ck=!1;function TW(e,t){if(X4=w2,e=hD(),s7(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var o=i.anchorOffset,u=i.focusNode;i=i.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var f=0,a=-1,y=-1,w=0,k=0,M=e,O=null;t:for(;;){for(var $;M!==n||o!==0&&M.nodeType!==3||(a=f+o),M!==u||i!==0&&M.nodeType!==3||(y=f+i),M.nodeType===3&&(f+=M.nodeValue.length),($=M.firstChild)!==null;)O=M,M=$;for(;;){if(M===e)break t;if(O===n&&++w===o&&(a=f),O===u&&++k===i&&(y=f),($=M.nextSibling)!==null)break;M=O,O=M.parentNode}M=$}n=a===-1||y===-1?null:{start:a,end:y}}else n=null}n=n||{start:0,end:0}}else n=null;for(K4={focusedElem:e,selectionRange:n},w2=!1,Wn=t;Wn!==null;)if(t=Wn,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Wn=e;else for(;Wn!==null;){t=Wn;try{var N=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var B=N.memoizedProps,J=N.memoizedState,U=t.stateNode,G=U.getSnapshotBeforeUpdate(t.elementType===t.type?B:Ql(t.type,B),J);U.__reactInternalSnapshotBeforeUpdate=G}break;case 3:var Z=t.stateNode.containerInfo;Z.nodeType===1?Z.textContent="":Z.nodeType===9&&Z.documentElement&&Z.removeChild(Z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(hn(163))}}catch(Q){ho(t,t.return,Q)}if(e=t.sibling,e!==null){e.return=t.return,Wn=e;break}Wn=t.return}return N=Ck,Ck=!1,N}function tg(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&e)===e){var u=o.destroy;o.destroy=void 0,u!==void 0&&h5(t,n,u)}o=o.next}while(o!==i)}}function Wx(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function p5(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function cR(e){var t=e.alternate;t!==null&&(e.alternate=null,cR(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Wc],delete t[Pg],delete t[Q4],delete t[sW],delete t[lW])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function uR(e){return e.tag===5||e.tag===3||e.tag===4}function kk(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||uR(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function f5(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=T2));else if(i!==4&&(e=e.child,e!==null))for(f5(e,t,n),e=e.sibling;e!==null;)f5(e,t,n),e=e.sibling}function m5(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(m5(e,t,n),e=e.sibling;e!==null;)m5(e,t,n),e=e.sibling}var ca=null,ec=!1;function Id(e,t,n){for(n=n.child;n!==null;)dR(e,t,n),n=n.sibling}function dR(e,t,n){if(Zc&&typeof Zc.onCommitFiberUnmount=="function")try{Zc.onCommitFiberUnmount(zx,n)}catch{}switch(n.tag){case 5:Da||e0(n,t);case 6:var i=ca,o=ec;ca=null,Id(e,t,n),ca=i,ec=o,ca!==null&&(ec?(e=ca,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ca.removeChild(n.stateNode));break;case 18:ca!==null&&(ec?(e=ca,n=n.stateNode,e.nodeType===8?r6(e.parentNode,n):e.nodeType===1&&r6(e,n),Eg(e)):r6(ca,n.stateNode));break;case 4:i=ca,o=ec,ca=n.stateNode.containerInfo,ec=!0,Id(e,t,n),ca=i,ec=o;break;case 0:case 11:case 14:case 15:if(!Da&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){o=i=i.next;do{var u=o,f=u.destroy;u=u.tag,f!==void 0&&(u&2||u&4)&&h5(n,t,f),o=o.next}while(o!==i)}Id(e,t,n);break;case 1:if(!Da&&(e0(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){ho(n,t,a)}Id(e,t,n);break;case 21:Id(e,t,n);break;case 22:n.mode&1?(Da=(i=Da)||n.memoizedState!==null,Id(e,t,n),Da=i):Id(e,t,n);break;default:Id(e,t,n)}}function Pk(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new SW),t.forEach(function(i){var o=OW.bind(null,e,i);n.has(i)||(n.add(i),i.then(o,o))})}}function Gl(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];try{var u=e,f=t,a=f;e:for(;a!==null;){switch(a.tag){case 5:ca=a.stateNode,ec=!1;break e;case 3:ca=a.stateNode.containerInfo,ec=!0;break e;case 4:ca=a.stateNode.containerInfo,ec=!0;break e}a=a.return}if(ca===null)throw Error(hn(160));dR(u,f,o),ca=null,ec=!1;var y=o.alternate;y!==null&&(y.return=null),o.return=null}catch(w){ho(o,t,w)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)hR(t,e),t=t.sibling}function hR(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Gl(t,e),Nc(e),i&4){try{tg(3,e,e.return),Wx(3,e)}catch(B){ho(e,e.return,B)}try{tg(5,e,e.return)}catch(B){ho(e,e.return,B)}}break;case 1:Gl(t,e),Nc(e),i&512&&n!==null&&e0(n,n.return);break;case 5:if(Gl(t,e),Nc(e),i&512&&n!==null&&e0(n,n.return),e.flags&32){var o=e.stateNode;try{vg(o,"")}catch(B){ho(e,e.return,B)}}if(i&4&&(o=e.stateNode,o!=null)){var u=e.memoizedProps,f=n!==null?n.memoizedProps:u,a=e.type,y=e.updateQueue;if(e.updateQueue=null,y!==null)try{a==="input"&&u.type==="radio"&&u.name!=null&&RM(o,u),B4(a,f);var w=B4(a,u);for(f=0;f<y.length;f+=2){var k=y[f],M=y[f+1];k==="style"?NM(o,M):k==="dangerouslySetInnerHTML"?zM(o,M):k==="children"?vg(o,M):Z8(o,k,M,w)}switch(a){case"input":O4(o,u);break;case"textarea":OM(o,u);break;case"select":var O=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!u.multiple;var $=u.value;$!=null?d0(o,!!u.multiple,$,!1):O!==!!u.multiple&&(u.defaultValue!=null?d0(o,!!u.multiple,u.defaultValue,!0):d0(o,!!u.multiple,u.multiple?[]:"",!1))}o[Pg]=u}catch(B){ho(e,e.return,B)}}break;case 6:if(Gl(t,e),Nc(e),i&4){if(e.stateNode===null)throw Error(hn(162));o=e.stateNode,u=e.memoizedProps;try{o.nodeValue=u}catch(B){ho(e,e.return,B)}}break;case 3:if(Gl(t,e),Nc(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Eg(t.containerInfo)}catch(B){ho(e,e.return,B)}break;case 4:Gl(t,e),Nc(e);break;case 13:Gl(t,e),Nc(e),o=e.child,o.flags&8192&&(u=o.memoizedState!==null,o.stateNode.isHidden=u,!u||o.alternate!==null&&o.alternate.memoizedState!==null||(k7=bo())),i&4&&Pk(e);break;case 22:if(k=n!==null&&n.memoizedState!==null,e.mode&1?(Da=(w=Da)||k,Gl(t,e),Da=w):Gl(t,e),Nc(e),i&8192){if(w=e.memoizedState!==null,(e.stateNode.isHidden=w)&&!k&&e.mode&1)for(Wn=e,k=e.child;k!==null;){for(M=Wn=k;Wn!==null;){switch(O=Wn,$=O.child,O.tag){case 0:case 11:case 14:case 15:tg(4,O,O.return);break;case 1:e0(O,O.return);var N=O.stateNode;if(typeof N.componentWillUnmount=="function"){i=O,n=O.return;try{t=i,N.props=t.memoizedProps,N.state=t.memoizedState,N.componentWillUnmount()}catch(B){ho(i,n,B)}}break;case 5:e0(O,O.return);break;case 22:if(O.memoizedState!==null){Ak(M);continue}}$!==null?($.return=O,Wn=$):Ak(M)}k=k.sibling}e:for(k=null,M=e;;){if(M.tag===5){if(k===null){k=M;try{o=M.stateNode,w?(u=o.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(a=M.stateNode,y=M.memoizedProps.style,f=y!=null&&y.hasOwnProperty("display")?y.display:null,a.style.display=FM("display",f))}catch(B){ho(e,e.return,B)}}}else if(M.tag===6){if(k===null)try{M.stateNode.nodeValue=w?"":M.memoizedProps}catch(B){ho(e,e.return,B)}}else if((M.tag!==22&&M.tag!==23||M.memoizedState===null||M===e)&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===e)break e;for(;M.sibling===null;){if(M.return===null||M.return===e)break e;k===M&&(k=null),M=M.return}k===M&&(k=null),M.sibling.return=M.return,M=M.sibling}}break;case 19:Gl(t,e),Nc(e),i&4&&Pk(e);break;case 21:break;default:Gl(t,e),Nc(e)}}function Nc(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(uR(n)){var i=n;break e}n=n.return}throw Error(hn(160))}switch(i.tag){case 5:var o=i.stateNode;i.flags&32&&(vg(o,""),i.flags&=-33);var u=kk(e);m5(e,u,o);break;case 3:case 4:var f=i.stateNode.containerInfo,a=kk(e);f5(e,a,f);break;default:throw Error(hn(161))}}catch(y){ho(e,e.return,y)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function CW(e,t,n){Wn=e,pR(e)}function pR(e,t,n){for(var i=(e.mode&1)!==0;Wn!==null;){var o=Wn,u=o.child;if(o.tag===22&&i){var f=o.memoizedState!==null||uv;if(!f){var a=o.alternate,y=a!==null&&a.memoizedState!==null||Da;a=uv;var w=Da;if(uv=f,(Da=y)&&!w)for(Wn=o;Wn!==null;)f=Wn,y=f.child,f.tag===22&&f.memoizedState!==null?Mk(o):y!==null?(y.return=f,Wn=y):Mk(o);for(;u!==null;)Wn=u,pR(u),u=u.sibling;Wn=o,uv=a,Da=w}Ik(e)}else o.subtreeFlags&8772&&u!==null?(u.return=o,Wn=u):Ik(e)}}function Ik(e){for(;Wn!==null;){var t=Wn;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Da||Wx(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Da)if(n===null)i.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Ql(t.type,n.memoizedProps);i.componentDidUpdate(o,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var u=t.updateQueue;u!==null&&hk(t,u,i);break;case 3:var f=t.updateQueue;if(f!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}hk(t,f,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var y=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":y.autoFocus&&n.focus();break;case"img":y.src&&(n.src=y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var w=t.alternate;if(w!==null){var k=w.memoizedState;if(k!==null){var M=k.dehydrated;M!==null&&Eg(M)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(hn(163))}Da||t.flags&512&&p5(t)}catch(O){ho(t,t.return,O)}}if(t===e){Wn=null;break}if(n=t.sibling,n!==null){n.return=t.return,Wn=n;break}Wn=t.return}}function Ak(e){for(;Wn!==null;){var t=Wn;if(t===e){Wn=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Wn=n;break}Wn=t.return}}function Mk(e){for(;Wn!==null;){var t=Wn;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Wx(4,t)}catch(y){ho(t,n,y)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var o=t.return;try{i.componentDidMount()}catch(y){ho(t,o,y)}}var u=t.return;try{p5(t)}catch(y){ho(t,u,y)}break;case 5:var f=t.return;try{p5(t)}catch(y){ho(t,f,y)}}}catch(y){ho(t,t.return,y)}if(t===e){Wn=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Wn=a;break}Wn=t.return}}var kW=Math.ceil,z2=Yu.ReactCurrentDispatcher,T7=Yu.ReactCurrentOwner,yl=Yu.ReactCurrentBatchConfig,Wr=0,ta=null,Ao=null,ha=0,Os=0,t0=_h(0),$o=0,Og=null,Sp=0,Hx=0,C7=0,ng=null,cs=null,k7=0,D0=1/0,Ru=null,F2=!1,g5=null,Jd=null,dv=!1,Ud=null,N2=0,rg=0,_5=null,Kv=-1,Yv=0;function Ya(){return Wr&6?bo():Kv!==-1?Kv:Kv=bo()}function Qd(e){return e.mode&1?Wr&2&&ha!==0?ha&-ha:uW.transition!==null?(Yv===0&&(Yv=KM()),Yv):(e=_i,e!==0||(e=window.event,e=e===void 0?16:rD(e.type)),e):1}function sc(e,t,n,i){if(50<rg)throw rg=0,_5=null,Error(hn(185));m_(e,n,i),(!(Wr&2)||e!==ta)&&(e===ta&&(!(Wr&2)&&(Hx|=n),$o===4&&Ld(e,ha)),ms(e,i),n===1&&Wr===0&&!(t.mode&1)&&(D0=bo()+500,$x&&yh()))}function ms(e,t){var n=e.callbackNode;uV(e,t);var i=b2(e,e===ta?ha:0);if(i===0)n!==null&&jC(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&jC(n),t===1)e.tag===0?cW(Dk.bind(null,e)):wD(Dk.bind(null,e)),oW(function(){!(Wr&6)&&yh()}),n=null;else{switch(YM(i)){case 1:n=Q8;break;case 4:n=ZM;break;case 16:n=x2;break;case 536870912:n=XM;break;default:n=x2}n=bR(n,fR.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function fR(e,t){if(Kv=-1,Yv=0,Wr&6)throw Error(hn(327));var n=e.callbackNode;if(g0()&&e.callbackNode!==n)return null;var i=b2(e,e===ta?ha:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=B2(e,i);else{t=i;var o=Wr;Wr|=2;var u=gR();(ta!==e||ha!==t)&&(Ru=null,D0=bo()+500,hp(e,t));do try{AW();break}catch(a){mR(e,a)}while(1);h7(),z2.current=u,Wr=o,Ao!==null?t=0:(ta=null,ha=0,t=$o)}if(t!==0){if(t===2&&(o=W4(e),o!==0&&(i=o,t=y5(e,o))),t===1)throw n=Og,hp(e,0),Ld(e,i),ms(e,bo()),n;if(t===6)Ld(e,i);else{if(o=e.current.alternate,!(i&30)&&!PW(o)&&(t=B2(e,i),t===2&&(u=W4(e),u!==0&&(i=u,t=y5(e,u))),t===1))throw n=Og,hp(e,0),Ld(e,i),ms(e,bo()),n;switch(e.finishedWork=o,e.finishedLanes=i,t){case 0:case 1:throw Error(hn(345));case 2:rp(e,cs,Ru);break;case 3:if(Ld(e,i),(i&130023424)===i&&(t=k7+500-bo(),10<t)){if(b2(e,0)!==0)break;if(o=e.suspendedLanes,(o&i)!==i){Ya(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=J4(rp.bind(null,e,cs,Ru),t);break}rp(e,cs,Ru);break;case 4:if(Ld(e,i),(i&4194240)===i)break;for(t=e.eventTimes,o=-1;0<i;){var f=31-ac(i);u=1<<f,f=t[f],f>o&&(o=f),i&=~u}if(i=o,i=bo()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*kW(i/1960))-i,10<i){e.timeoutHandle=J4(rp.bind(null,e,cs,Ru),i);break}rp(e,cs,Ru);break;case 5:rp(e,cs,Ru);break;default:throw Error(hn(329))}}}return ms(e,bo()),e.callbackNode===n?fR.bind(null,e):null}function y5(e,t){var n=ng;return e.current.memoizedState.isDehydrated&&(hp(e,t).flags|=256),e=B2(e,t),e!==2&&(t=cs,cs=n,t!==null&&v5(t)),e}function v5(e){cs===null?cs=e:cs.push.apply(cs,e)}function PW(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var o=n[i],u=o.getSnapshot;o=o.value;try{if(!cc(u(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ld(e,t){for(t&=~C7,t&=~Hx,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ac(t),i=1<<n;e[n]=-1,t&=~i}}function Dk(e){if(Wr&6)throw Error(hn(327));g0();var t=b2(e,0);if(!(t&1))return ms(e,bo()),null;var n=B2(e,t);if(e.tag!==0&&n===2){var i=W4(e);i!==0&&(t=i,n=y5(e,i))}if(n===1)throw n=Og,hp(e,0),Ld(e,t),ms(e,bo()),n;if(n===6)throw Error(hn(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,rp(e,cs,Ru),ms(e,bo()),null}function P7(e,t){var n=Wr;Wr|=1;try{return e(t)}finally{Wr=n,Wr===0&&(D0=bo()+500,$x&&yh())}}function Tp(e){Ud!==null&&Ud.tag===0&&!(Wr&6)&&g0();var t=Wr;Wr|=1;var n=yl.transition,i=_i;try{if(yl.transition=null,_i=1,e)return e()}finally{_i=i,yl.transition=n,Wr=t,!(Wr&6)&&yh()}}function I7(){Os=t0.current,ji(t0)}function hp(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,iW(n)),Ao!==null)for(n=Ao.return;n!==null;){var i=n;switch(c7(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&C2();break;case 3:A0(),ji(ps),ji(za),y7();break;case 5:_7(i);break;case 4:A0();break;case 13:ji(ro);break;case 19:ji(ro);break;case 10:p7(i.type._context);break;case 22:case 23:I7()}n=n.return}if(ta=e,Ao=e=eh(e.current,null),ha=Os=t,$o=0,Og=null,C7=Hx=Sp=0,cs=ng=null,cp!==null){for(t=0;t<cp.length;t++)if(n=cp[t],i=n.interleaved,i!==null){n.interleaved=null;var o=i.next,u=n.pending;if(u!==null){var f=u.next;u.next=o,i.next=f}n.pending=i}cp=null}return e}function mR(e,t){do{var n=Ao;try{if(h7(),Gv.current=L2,O2){for(var i=oo.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}O2=!1}if(Ep=0,ea=Bo=oo=null,eg=!1,Mg=0,T7.current=null,n===null||n.return===null){$o=1,Og=t,Ao=null;break}e:{var u=e,f=n.return,a=n,y=t;if(t=ha,a.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){var w=y,k=a,M=k.tag;if(!(k.mode&1)&&(M===0||M===11||M===15)){var O=k.alternate;O?(k.updateQueue=O.updateQueue,k.memoizedState=O.memoizedState,k.lanes=O.lanes):(k.updateQueue=null,k.memoizedState=null)}var $=vk(f);if($!==null){$.flags&=-257,xk($,f,a,u,t),$.mode&1&&yk(u,w,t),t=$,y=w;var N=t.updateQueue;if(N===null){var B=new Set;B.add(y),t.updateQueue=B}else N.add(y);break e}else{if(!(t&1)){yk(u,w,t),A7();break e}y=Error(hn(426))}}else if(qi&&a.mode&1){var J=vk(f);if(J!==null){!(J.flags&65536)&&(J.flags|=256),xk(J,f,a,u,t),u7(M0(y,a));break e}}u=y=M0(y,a),$o!==4&&($o=2),ng===null?ng=[u]:ng.push(u),u=f;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t;var U=JD(u,y,t);dk(u,U);break e;case 1:a=y;var G=u.type,Z=u.stateNode;if(!(u.flags&128)&&(typeof G.getDerivedStateFromError=="function"||Z!==null&&typeof Z.componentDidCatch=="function"&&(Jd===null||!Jd.has(Z)))){u.flags|=65536,t&=-t,u.lanes|=t;var Q=QD(u,a,t);dk(u,Q);break e}}u=u.return}while(u!==null)}yR(n)}catch(se){t=se,Ao===n&&n!==null&&(Ao=n=n.return);continue}break}while(1)}function gR(){var e=z2.current;return z2.current=L2,e===null?L2:e}function A7(){($o===0||$o===3||$o===2)&&($o=4),ta===null||!(Sp&268435455)&&!(Hx&268435455)||Ld(ta,ha)}function B2(e,t){var n=Wr;Wr|=2;var i=gR();(ta!==e||ha!==t)&&(Ru=null,hp(e,t));do try{IW();break}catch(o){mR(e,o)}while(1);if(h7(),Wr=n,z2.current=i,Ao!==null)throw Error(hn(261));return ta=null,ha=0,$o}function IW(){for(;Ao!==null;)_R(Ao)}function AW(){for(;Ao!==null&&!tV();)_R(Ao)}function _R(e){var t=xR(e.alternate,e,Os);e.memoizedProps=e.pendingProps,t===null?yR(e):Ao=t,T7.current=null}function yR(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=EW(n,t),n!==null){n.flags&=32767,Ao=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$o=6,Ao=null;return}}else if(n=wW(n,t,Os),n!==null){Ao=n;return}if(t=t.sibling,t!==null){Ao=t;return}Ao=t=e}while(t!==null);$o===0&&($o=5)}function rp(e,t,n){var i=_i,o=yl.transition;try{yl.transition=null,_i=1,MW(e,t,n,i)}finally{yl.transition=o,_i=i}return null}function MW(e,t,n,i){do g0();while(Ud!==null);if(Wr&6)throw Error(hn(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(hn(177));e.callbackNode=null,e.callbackPriority=0;var u=n.lanes|n.childLanes;if(dV(e,u),e===ta&&(Ao=ta=null,ha=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||dv||(dv=!0,bR(x2,function(){return g0(),null})),u=(n.flags&15990)!==0,n.subtreeFlags&15990||u){u=yl.transition,yl.transition=null;var f=_i;_i=1;var a=Wr;Wr|=4,T7.current=null,TW(e,n),hR(n,e),YV(K4),w2=!!X4,K4=X4=null,e.current=n,CW(n),nV(),Wr=a,_i=f,yl.transition=u}else e.current=n;if(dv&&(dv=!1,Ud=e,N2=o),u=e.pendingLanes,u===0&&(Jd=null),oV(n.stateNode),ms(e,bo()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],i(o.value,{componentStack:o.stack,digest:o.digest});if(F2)throw F2=!1,e=g5,g5=null,e;return N2&1&&e.tag!==0&&g0(),u=e.pendingLanes,u&1?e===_5?rg++:(rg=0,_5=e):rg=0,yh(),null}function g0(){if(Ud!==null){var e=YM(N2),t=yl.transition,n=_i;try{if(yl.transition=null,_i=16>e?16:e,Ud===null)var i=!1;else{if(e=Ud,Ud=null,N2=0,Wr&6)throw Error(hn(331));var o=Wr;for(Wr|=4,Wn=e.current;Wn!==null;){var u=Wn,f=u.child;if(Wn.flags&16){var a=u.deletions;if(a!==null){for(var y=0;y<a.length;y++){var w=a[y];for(Wn=w;Wn!==null;){var k=Wn;switch(k.tag){case 0:case 11:case 15:tg(8,k,u)}var M=k.child;if(M!==null)M.return=k,Wn=M;else for(;Wn!==null;){k=Wn;var O=k.sibling,$=k.return;if(cR(k),k===w){Wn=null;break}if(O!==null){O.return=$,Wn=O;break}Wn=$}}}var N=u.alternate;if(N!==null){var B=N.child;if(B!==null){N.child=null;do{var J=B.sibling;B.sibling=null,B=J}while(B!==null)}}Wn=u}}if(u.subtreeFlags&2064&&f!==null)f.return=u,Wn=f;else e:for(;Wn!==null;){if(u=Wn,u.flags&2048)switch(u.tag){case 0:case 11:case 15:tg(9,u,u.return)}var U=u.sibling;if(U!==null){U.return=u.return,Wn=U;break e}Wn=u.return}}var G=e.current;for(Wn=G;Wn!==null;){f=Wn;var Z=f.child;if(f.subtreeFlags&2064&&Z!==null)Z.return=f,Wn=Z;else e:for(f=G;Wn!==null;){if(a=Wn,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Wx(9,a)}}catch(se){ho(a,a.return,se)}if(a===f){Wn=null;break e}var Q=a.sibling;if(Q!==null){Q.return=a.return,Wn=Q;break e}Wn=a.return}}if(Wr=o,yh(),Zc&&typeof Zc.onPostCommitFiberRoot=="function")try{Zc.onPostCommitFiberRoot(zx,e)}catch{}i=!0}return i}finally{_i=n,yl.transition=t}}return!1}function Rk(e,t,n){t=M0(n,t),t=JD(e,t,1),e=Yd(e,t,1),t=Ya(),e!==null&&(m_(e,1,t),ms(e,t))}function ho(e,t,n){if(e.tag===3)Rk(e,e,n);else for(;t!==null;){if(t.tag===3){Rk(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Jd===null||!Jd.has(i))){e=M0(n,e),e=QD(t,e,1),t=Yd(t,e,1),e=Ya(),t!==null&&(m_(t,1,e),ms(t,e));break}}t=t.return}}function DW(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=Ya(),e.pingedLanes|=e.suspendedLanes&n,ta===e&&(ha&n)===n&&($o===4||$o===3&&(ha&130023424)===ha&&500>bo()-k7?hp(e,0):C7|=n),ms(e,t)}function vR(e,t){t===0&&(e.mode&1?(t=tv,tv<<=1,!(tv&130023424)&&(tv=4194304)):t=1);var n=Ya();e=qu(e,t),e!==null&&(m_(e,t,n),ms(e,n))}function RW(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),vR(e,n)}function OW(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(hn(314))}i!==null&&i.delete(t),vR(e,n)}var xR;xR=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ps.current)us=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return us=!1,bW(e,t,n);us=!!(e.flags&131072)}else us=!1,qi&&t.flags&1048576&&ED(t,I2,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Xv(e,t),e=t.pendingProps;var o=k0(t,za.current);m0(t,n),o=x7(null,t,i,e,o,n);var u=b7();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,fs(i)?(u=!0,k2(t)):u=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,m7(t),o.updater=Ux,t.stateNode=o,o._reactInternals=t,o5(t,i,e,n),t=l5(null,t,i,!0,u,n)):(t.tag=0,qi&&u&&l7(t),Xa(null,t,o,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Xv(e,t),e=t.pendingProps,o=i._init,i=o(i._payload),t.type=i,o=t.tag=zW(i),e=Ql(i,e),o){case 0:t=s5(null,t,i,e,n);break e;case 1:t=Ek(null,t,i,e,n);break e;case 11:t=bk(null,t,i,e,n);break e;case 14:t=wk(null,t,i,Ql(i.type,e),n);break e}throw Error(hn(306,i,""))}return t;case 0:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Ql(i,o),s5(e,t,i,o,n);case 1:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Ql(i,o),Ek(e,t,i,o,n);case 3:e:{if(rR(t),e===null)throw Error(hn(387));i=t.pendingProps,u=t.memoizedState,o=u.element,kD(e,t),D2(t,i,null,n);var f=t.memoizedState;if(i=f.element,u.isDehydrated)if(u={element:i,isDehydrated:!1,cache:f.cache,pendingSuspenseBoundaries:f.pendingSuspenseBoundaries,transitions:f.transitions},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){o=M0(Error(hn(423)),t),t=Sk(e,t,i,n,o);break e}else if(i!==o){o=M0(Error(hn(424)),t),t=Sk(e,t,i,n,o);break e}else for(js=Kd(t.stateNode.containerInfo.firstChild),$s=t,qi=!0,nc=null,n=MD(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(P0(),i===o){t=Gu(e,t,n);break e}Xa(e,t,i,n)}t=t.child}return t;case 5:return DD(t),e===null&&n5(t),i=t.type,o=t.pendingProps,u=e!==null?e.memoizedProps:null,f=o.children,Y4(i,o)?f=null:u!==null&&Y4(i,u)&&(t.flags|=32),nR(e,t),Xa(e,t,f,n),t.child;case 6:return e===null&&n5(t),null;case 13:return iR(e,t,n);case 4:return g7(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=I0(t,null,i,n):Xa(e,t,i,n),t.child;case 11:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Ql(i,o),bk(e,t,i,o,n);case 7:return Xa(e,t,t.pendingProps,n),t.child;case 8:return Xa(e,t,t.pendingProps.children,n),t.child;case 12:return Xa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,o=t.pendingProps,u=t.memoizedProps,f=o.value,Oi(A2,i._currentValue),i._currentValue=f,u!==null)if(cc(u.value,f)){if(u.children===o.children&&!ps.current){t=Gu(e,t,n);break e}}else for(u=t.child,u!==null&&(u.return=t);u!==null;){var a=u.dependencies;if(a!==null){f=u.child;for(var y=a.firstContext;y!==null;){if(y.context===i){if(u.tag===1){y=ju(-1,n&-n),y.tag=2;var w=u.updateQueue;if(w!==null){w=w.shared;var k=w.pending;k===null?y.next=y:(y.next=k.next,k.next=y),w.pending=y}}u.lanes|=n,y=u.alternate,y!==null&&(y.lanes|=n),r5(u.return,n,t),a.lanes|=n;break}y=y.next}}else if(u.tag===10)f=u.type===t.type?null:u.child;else if(u.tag===18){if(f=u.return,f===null)throw Error(hn(341));f.lanes|=n,a=f.alternate,a!==null&&(a.lanes|=n),r5(f,n,t),f=u.sibling}else f=u.child;if(f!==null)f.return=u;else for(f=u;f!==null;){if(f===t){f=null;break}if(u=f.sibling,u!==null){u.return=f.return,f=u;break}f=f.return}u=f}Xa(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,i=t.pendingProps.children,m0(t,n),o=wl(o),i=i(o),t.flags|=1,Xa(e,t,i,n),t.child;case 14:return i=t.type,o=Ql(i,t.pendingProps),o=Ql(i.type,o),wk(e,t,i,o,n);case 15:return eR(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Ql(i,o),Xv(e,t),t.tag=1,fs(i)?(e=!0,k2(t)):e=!1,m0(t,n),ID(t,i,o),o5(t,i,o,n),l5(null,t,i,!0,e,n);case 19:return oR(e,t,n);case 22:return tR(e,t,n)}throw Error(hn(156,t.tag))};function bR(e,t){return GM(e,t)}function LW(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fl(e,t,n,i){return new LW(e,t,n,i)}function M7(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zW(e){if(typeof e=="function")return M7(e)?1:0;if(e!=null){if(e=e.$$typeof,e===K8)return 11;if(e===Y8)return 14}return 2}function eh(e,t){var n=e.alternate;return n===null?(n=fl(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Jv(e,t,n,i,o,u){var f=2;if(i=e,typeof e=="function")M7(e)&&(f=1);else if(typeof e=="string")f=5;else e:switch(e){case Hf:return pp(n.children,o,u,t);case X8:f=8,o|=8;break;case I4:return e=fl(12,n,t,o|2),e.elementType=I4,e.lanes=u,e;case A4:return e=fl(13,n,t,o),e.elementType=A4,e.lanes=u,e;case M4:return e=fl(19,n,t,o),e.elementType=M4,e.lanes=u,e;case AM:return qx(n,o,u,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case PM:f=10;break e;case IM:f=9;break e;case K8:f=11;break e;case Y8:f=14;break e;case Dd:f=16,i=null;break e}throw Error(hn(130,e==null?e:typeof e,""))}return t=fl(f,n,t,o),t.elementType=e,t.type=i,t.lanes=u,t}function pp(e,t,n,i){return e=fl(7,e,i,t),e.lanes=n,e}function qx(e,t,n,i){return e=fl(22,e,i,t),e.elementType=AM,e.lanes=n,e.stateNode={isHidden:!1},e}function d6(e,t,n){return e=fl(6,e,null,t),e.lanes=n,e}function h6(e,t,n){return t=fl(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function FW(e,t,n,i,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qw(0),this.expirationTimes=qw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qw(0),this.identifierPrefix=i,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function D7(e,t,n,i,o,u,f,a,y){return e=new FW(e,t,n,a,y),t===1?(t=1,u===!0&&(t|=8)):t=0,u=fl(3,null,null,t),e.current=u,u.stateNode=e,u.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},m7(u),e}function NW(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wf,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function wR(e){if(!e)return lh;e=e._reactInternals;e:{if(jp(e)!==e||e.tag!==1)throw Error(hn(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(fs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(hn(171))}if(e.tag===1){var n=e.type;if(fs(n))return bD(e,n,t)}return t}function ER(e,t,n,i,o,u,f,a,y){return e=D7(n,i,!0,e,o,u,f,a,y),e.context=wR(null),n=e.current,i=Ya(),o=Qd(n),u=ju(i,o),u.callback=t??null,Yd(n,u,o),e.current.lanes=o,m_(e,o,i),ms(e,i),e}function Gx(e,t,n,i){var o=t.current,u=Ya(),f=Qd(o);return n=wR(n),t.context===null?t.context=n:t.pendingContext=n,t=ju(u,f),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=Yd(o,t,f),e!==null&&(sc(e,o,f,u),qv(e,o,f)),f}function j2(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ok(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function R7(e,t){Ok(e,t),(e=e.alternate)&&Ok(e,t)}function BW(){return null}var SR=typeof reportError=="function"?reportError:function(e){console.error(e)};function O7(e){this._internalRoot=e}Zx.prototype.render=O7.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(hn(409));Gx(e,t,null,null)};Zx.prototype.unmount=O7.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Tp(function(){Gx(null,e,null,null)}),t[Hu]=null}};function Zx(e){this._internalRoot=e}Zx.prototype.unstable_scheduleHydration=function(e){if(e){var t=eD();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Od.length&&t!==0&&t<Od[n].priority;n++);Od.splice(n,0,e),n===0&&nD(e)}};function L7(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Lk(){}function jW(e,t,n,i,o){if(o){if(typeof i=="function"){var u=i;i=function(){var w=j2(f);u.call(w)}}var f=ER(t,i,e,0,null,!1,!1,"",Lk);return e._reactRootContainer=f,e[Hu]=f.current,Cg(e.nodeType===8?e.parentNode:e),Tp(),f}for(;o=e.lastChild;)e.removeChild(o);if(typeof i=="function"){var a=i;i=function(){var w=j2(y);a.call(w)}}var y=D7(e,0,!1,null,null,!1,!1,"",Lk);return e._reactRootContainer=y,e[Hu]=y.current,Cg(e.nodeType===8?e.parentNode:e),Tp(function(){Gx(t,y,n,i)}),y}function Kx(e,t,n,i,o){var u=n._reactRootContainer;if(u){var f=u;if(typeof o=="function"){var a=o;o=function(){var y=j2(f);a.call(y)}}Gx(t,f,e,o)}else f=jW(n,t,e,o,i);return j2(f)}JM=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=jm(t.pendingLanes);n!==0&&(e7(t,n|1),ms(t,bo()),!(Wr&6)&&(D0=bo()+500,yh()))}break;case 13:Tp(function(){var i=qu(e,1);if(i!==null){var o=Ya();sc(i,e,1,o)}}),R7(e,1)}};t7=function(e){if(e.tag===13){var t=qu(e,134217728);if(t!==null){var n=Ya();sc(t,e,134217728,n)}R7(e,134217728)}};QM=function(e){if(e.tag===13){var t=Qd(e),n=qu(e,t);if(n!==null){var i=Ya();sc(n,e,t,i)}R7(e,t)}};eD=function(){return _i};tD=function(e,t){var n=_i;try{return _i=e,t()}finally{_i=n}};$4=function(e,t,n){switch(t){case"input":if(O4(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=jx(i);if(!o)throw Error(hn(90));DM(i),O4(i,o)}}}break;case"textarea":OM(e,n);break;case"select":t=n.value,t!=null&&d0(e,!!n.multiple,t,!1)}};$M=P7;UM=Tp;var $W={usingClientEntryPoint:!1,Events:[__,Xf,jx,BM,jM,P7]},Tm={findFiberByHostInstance:lp,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},UW={bundleType:Tm.bundleType,version:Tm.version,rendererPackageName:Tm.rendererPackageName,rendererConfig:Tm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yu.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=HM(e),e===null?null:e.stateNode},findFiberByHostInstance:Tm.findFiberByHostInstance||BW,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hv.isDisabled&&hv.supportsFiber)try{zx=hv.inject(UW),Zc=hv}catch{}}qs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$W;qs.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!L7(t))throw Error(hn(200));return NW(e,t,null,n)};qs.createRoot=function(e,t){if(!L7(e))throw Error(hn(299));var n=!1,i="",o=SR;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=D7(e,1,!1,null,null,n,!1,i,o),e[Hu]=t.current,Cg(e.nodeType===8?e.parentNode:e),new O7(t)};qs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(hn(188)):(e=Object.keys(e).join(","),Error(hn(268,e)));return e=HM(t),e=e===null?null:e.stateNode,e};qs.flushSync=function(e){return Tp(e)};qs.hydrate=function(e,t,n){if(!Xx(t))throw Error(hn(200));return Kx(null,e,t,!0,n)};qs.hydrateRoot=function(e,t,n){if(!L7(e))throw Error(hn(405));var i=n!=null&&n.hydratedSources||null,o=!1,u="",f=SR;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onRecoverableError!==void 0&&(f=n.onRecoverableError)),t=ER(t,null,e,1,n??null,o,!1,u,f),e[Hu]=t.current,Cg(e),i)for(e=0;e<i.length;e++)n=i[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Zx(t)};qs.render=function(e,t,n){if(!Xx(t))throw Error(hn(200));return Kx(null,e,t,!1,n)};qs.unmountComponentAtNode=function(e){if(!Xx(e))throw Error(hn(40));return e._reactRootContainer?(Tp(function(){Kx(null,null,e,!1,function(){e._reactRootContainer=null,e[Hu]=null})}),!0):!1};qs.unstable_batchedUpdates=P7;qs.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Xx(n))throw Error(hn(200));if(e==null||e._reactInternals===void 0)throw Error(hn(38));return Kx(e,t,n,!1,i)};qs.version="18.2.0-next-9e3b772b8-20220608";function TR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(TR)}catch(e){console.error(e)}}TR(),EM.exports=qs;var ch=EM.exports;const pv=Np(ch);var zk=ch;k4.createRoot=zk.createRoot,k4.hydrateRoot=zk.hydrateRoot;/**
 * @remix-run/router v1.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lg(){return Lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Lg.apply(this,arguments)}var Vd;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Vd||(Vd={}));const Fk="popstate";function VW(e){e===void 0&&(e={});function t(i,o){let{pathname:u,search:f,hash:a}=i.location;return x5("",{pathname:u,search:f,hash:a},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:$2(o)}return HW(t,n,null,e)}function wo(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function z7(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function WW(){return Math.random().toString(36).substr(2,8)}function Nk(e,t){return{usr:e.state,key:e.key,idx:t}}function x5(e,t,n,i){return n===void 0&&(n=null),Lg({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?X0(t):t,{state:n,key:t&&t.key||i||WW()})}function $2(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function X0(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function HW(e,t,n,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:u=!1}=i,f=o.history,a=Vd.Pop,y=null,w=k();w==null&&(w=0,f.replaceState(Lg({},f.state,{idx:w}),""));function k(){return(f.state||{idx:null}).idx}function M(){a=Vd.Pop;let J=k(),U=J==null?null:J-w;w=J,y&&y({action:a,location:B.location,delta:U})}function O(J,U){a=Vd.Push;let G=x5(B.location,J,U);n&&n(G,J),w=k()+1;let Z=Nk(G,w),Q=B.createHref(G);try{f.pushState(Z,"",Q)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;o.location.assign(Q)}u&&y&&y({action:a,location:B.location,delta:1})}function $(J,U){a=Vd.Replace;let G=x5(B.location,J,U);n&&n(G,J),w=k();let Z=Nk(G,w),Q=B.createHref(G);f.replaceState(Z,"",Q),u&&y&&y({action:a,location:B.location,delta:0})}function N(J){let U=o.location.origin!=="null"?o.location.origin:o.location.href,G=typeof J=="string"?J:$2(J);return wo(U,"No window.location.(origin|href) available to create URL for href: "+G),new URL(G,U)}let B={get action(){return a},get location(){return e(o,f)},listen(J){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(Fk,M),y=J,()=>{o.removeEventListener(Fk,M),y=null}},createHref(J){return t(o,J)},createURL:N,encodeLocation(J){let U=N(J);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:O,replace:$,go(J){return f.go(J)}};return B}var Bk;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Bk||(Bk={}));function qW(e,t,n){n===void 0&&(n="/");let i=typeof t=="string"?X0(t):t,o=F7(i.pathname||"/",n);if(o==null)return null;let u=CR(e);GW(u);let f=null;for(let a=0;f==null&&a<u.length;++a)f=nH(u[a],oH(o));return f}function CR(e,t,n,i){t===void 0&&(t=[]),n===void 0&&(n=[]),i===void 0&&(i="");let o=(u,f,a)=>{let y={relativePath:a===void 0?u.path||"":a,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};y.relativePath.startsWith("/")&&(wo(y.relativePath.startsWith(i),'Absolute route path "'+y.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),y.relativePath=y.relativePath.slice(i.length));let w=th([i,y.relativePath]),k=n.concat(y);u.children&&u.children.length>0&&(wo(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+w+'".')),CR(u.children,t,k,w)),!(u.path==null&&!u.index)&&t.push({path:w,score:eH(w,u.index),routesMeta:k})};return e.forEach((u,f)=>{var a;if(u.path===""||!((a=u.path)!=null&&a.includes("?")))o(u,f);else for(let y of kR(u.path))o(u,f,y)}),t}function kR(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(i.length===0)return o?[u,""]:[u];let f=kR(i.join("/")),a=[];return a.push(...f.map(y=>y===""?u:[u,y].join("/"))),o&&a.push(...f),a.map(y=>e.startsWith("/")&&y===""?"/":y)}function GW(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:tH(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const ZW=/^:\w+$/,XW=3,KW=2,YW=1,JW=10,QW=-2,jk=e=>e==="*";function eH(e,t){let n=e.split("/"),i=n.length;return n.some(jk)&&(i+=QW),t&&(i+=KW),n.filter(o=>!jk(o)).reduce((o,u)=>o+(ZW.test(u)?XW:u===""?YW:JW),i)}function tH(e,t){return e.length===t.length&&e.slice(0,-1).every((i,o)=>i===t[o])?e[e.length-1]-t[t.length-1]:0}function nH(e,t){let{routesMeta:n}=e,i={},o="/",u=[];for(let f=0;f<n.length;++f){let a=n[f],y=f===n.length-1,w=o==="/"?t:t.slice(o.length)||"/",k=rH({path:a.relativePath,caseSensitive:a.caseSensitive,end:y},w);if(!k)return null;Object.assign(i,k.params);let M=a.route;u.push({params:i,pathname:th([o,k.pathname]),pathnameBase:cH(th([o,k.pathnameBase])),route:M}),k.pathnameBase!=="/"&&(o=th([o,k.pathnameBase]))}return u}function rH(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=iH(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:i.reduce((w,k,M)=>{if(k==="*"){let O=a[M]||"";f=u.slice(0,u.length-O.length).replace(/(.)\/+$/,"$1")}return w[k]=aH(a[M]||"",k),w},{}),pathname:u,pathnameBase:f,pattern:e}}function iH(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),z7(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let i=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(f,a)=>(i.push(a),"/([^\\/]+)"));return e.endsWith("*")?(i.push("*"),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),i]}function oH(e){try{return decodeURI(e)}catch(t){return z7(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function aH(e,t){try{return decodeURIComponent(e)}catch(n){return z7(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function F7(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function sH(e,t){t===void 0&&(t="/");let{pathname:n,search:i="",hash:o=""}=typeof e=="string"?X0(e):e;return{pathname:n?n.startsWith("/")?n:lH(n,t):t,search:uH(i),hash:dH(o)}}function lH(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function p6(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function N7(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function B7(e,t,n,i){i===void 0&&(i=!1);let o;typeof e=="string"?o=X0(e):(o=Lg({},e),wo(!o.pathname||!o.pathname.includes("?"),p6("?","pathname","search",o)),wo(!o.pathname||!o.pathname.includes("#"),p6("#","pathname","hash",o)),wo(!o.search||!o.search.includes("#"),p6("#","search","hash",o)));let u=e===""||o.pathname==="",f=u?"/":o.pathname,a;if(i||f==null)a=n;else{let M=t.length-1;if(f.startsWith("..")){let O=f.split("/");for(;O[0]==="..";)O.shift(),M-=1;o.pathname=O.join("/")}a=M>=0?t[M]:"/"}let y=sH(o,a),w=f&&f!=="/"&&f.endsWith("/"),k=(u||f===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(w||k)&&(y.pathname+="/"),y}const th=e=>e.join("/").replace(/\/\/+/g,"/"),cH=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),uH=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,dH=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function hH(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const PR=["post","put","patch","delete"];new Set(PR);const pH=["get",...PR];new Set(pH);/**
 * React Router v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function U2(){return U2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},U2.apply(this,arguments)}const j7=V.createContext(null),fH=V.createContext(null),K0=V.createContext(null),Yx=V.createContext(null),vh=V.createContext({outlet:null,matches:[],isDataRoute:!1}),IR=V.createContext(null);function mH(e,t){let{relative:n}=t===void 0?{}:t;Y0()||wo(!1);let{basename:i,navigator:o}=V.useContext(K0),{hash:u,pathname:f,search:a}=MR(e,{relative:n}),y=f;return i!=="/"&&(y=f==="/"?i:th([i,f])),o.createHref({pathname:y,search:a,hash:u})}function Y0(){return V.useContext(Yx)!=null}function v_(){return Y0()||wo(!1),V.useContext(Yx).location}function AR(e){V.useContext(K0).static||V.useLayoutEffect(e)}function hc(){let{isDataRoute:e}=V.useContext(vh);return e?PH():gH()}function gH(){Y0()||wo(!1);let e=V.useContext(j7),{basename:t,navigator:n}=V.useContext(K0),{matches:i}=V.useContext(vh),{pathname:o}=v_(),u=JSON.stringify(N7(i).map(y=>y.pathnameBase)),f=V.useRef(!1);return AR(()=>{f.current=!0}),V.useCallback(function(y,w){if(w===void 0&&(w={}),!f.current)return;if(typeof y=="number"){n.go(y);return}let k=B7(y,JSON.parse(u),o,w.relative==="path");e==null&&t!=="/"&&(k.pathname=k.pathname==="/"?t:th([t,k.pathname])),(w.replace?n.replace:n.push)(k,w.state,w)},[t,n,u,o,e])}function MR(e,t){let{relative:n}=t===void 0?{}:t,{matches:i}=V.useContext(vh),{pathname:o}=v_(),u=JSON.stringify(N7(i).map(f=>f.pathnameBase));return V.useMemo(()=>B7(e,JSON.parse(u),o,n==="path"),[e,u,o,n])}function _H(e,t){return yH(e,t)}function yH(e,t,n){Y0()||wo(!1);let{navigator:i}=V.useContext(K0),{matches:o}=V.useContext(vh),u=o[o.length-1],f=u?u.params:{};u&&u.pathname;let a=u?u.pathnameBase:"/";u&&u.route;let y=v_(),w;if(t){var k;let B=typeof t=="string"?X0(t):t;a==="/"||(k=B.pathname)!=null&&k.startsWith(a)||wo(!1),w=B}else w=y;let M=w.pathname||"/",O=a==="/"?M:M.slice(a.length)||"/",$=qW(e,{pathname:O}),N=EH($&&$.map(B=>Object.assign({},B,{params:Object.assign({},f,B.params),pathname:th([a,i.encodeLocation?i.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?a:th([a,i.encodeLocation?i.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),o,n);return t&&N?V.createElement(Yx.Provider,{value:{location:U2({pathname:"/",search:"",hash:"",state:null,key:"default"},w),navigationType:Vd.Pop}},N):N}function vH(){let e=kH(),t=hH(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},u=null;return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},t),n?V.createElement("pre",{style:o},n):null,u)}const xH=V.createElement(vH,null);class bH extends V.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?V.createElement(vh.Provider,{value:this.props.routeContext},V.createElement(IR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wH(e){let{routeContext:t,match:n,children:i}=e,o=V.useContext(j7);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),V.createElement(vh.Provider,{value:t},i)}function EH(e,t,n){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var o;if((o=n)!=null&&o.errors)e=n.matches;else return null}let u=e,f=(i=n)==null?void 0:i.errors;if(f!=null){let a=u.findIndex(y=>y.route.id&&(f==null?void 0:f[y.route.id]));a>=0||wo(!1),u=u.slice(0,Math.min(u.length,a+1))}return u.reduceRight((a,y,w)=>{let k=y.route.id?f==null?void 0:f[y.route.id]:null,M=null;n&&(M=y.route.errorElement||xH);let O=t.concat(u.slice(0,w+1)),$=()=>{let N;return k?N=M:y.route.Component?N=V.createElement(y.route.Component,null):y.route.element?N=y.route.element:N=a,V.createElement(wH,{match:y,routeContext:{outlet:a,matches:O,isDataRoute:n!=null},children:N})};return n&&(y.route.ErrorBoundary||y.route.errorElement||w===0)?V.createElement(bH,{location:n.location,revalidation:n.revalidation,component:M,error:k,children:$(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):$()},null)}var b5;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"})(b5||(b5={}));var zg;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"})(zg||(zg={}));function SH(e){let t=V.useContext(j7);return t||wo(!1),t}function TH(e){let t=V.useContext(fH);return t||wo(!1),t}function CH(e){let t=V.useContext(vh);return t||wo(!1),t}function DR(e){let t=CH(),n=t.matches[t.matches.length-1];return n.route.id||wo(!1),n.route.id}function kH(){var e;let t=V.useContext(IR),n=TH(zg.UseRouteError),i=DR(zg.UseRouteError);return t||((e=n.errors)==null?void 0:e[i])}function PH(){let{router:e}=SH(b5.UseNavigateStable),t=DR(zg.UseNavigateStable),n=V.useRef(!1);return AR(()=>{n.current=!0}),V.useCallback(function(o,u){u===void 0&&(u={}),n.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,U2({fromRouteId:t},u)))},[e,t])}function IH(e){let{to:t,replace:n,state:i,relative:o}=e;Y0()||wo(!1);let{matches:u}=V.useContext(vh),{pathname:f}=v_(),a=hc(),y=B7(t,N7(u).map(k=>k.pathnameBase),f,o==="path"),w=JSON.stringify(y);return V.useEffect(()=>a(JSON.parse(w),{replace:n,state:i,relative:o}),[a,w,o,n,i]),null}function Ga(e){wo(!1)}function AH(e){let{basename:t="/",children:n=null,location:i,navigationType:o=Vd.Pop,navigator:u,static:f=!1}=e;Y0()&&wo(!1);let a=t.replace(/^\/*/,"/"),y=V.useMemo(()=>({basename:a,navigator:u,static:f}),[a,u,f]);typeof i=="string"&&(i=X0(i));let{pathname:w="/",search:k="",hash:M="",state:O=null,key:$="default"}=i,N=V.useMemo(()=>{let B=F7(w,a);return B==null?null:{location:{pathname:B,search:k,hash:M,state:O,key:$},navigationType:o}},[a,w,k,M,O,$,o]);return N==null?null:V.createElement(K0.Provider,{value:y},V.createElement(Yx.Provider,{children:n,value:N}))}function MH(e){let{children:t,location:n}=e;return _H(w5(t),n)}var $k;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})($k||($k={}));new Promise(()=>{});function w5(e,t){t===void 0&&(t=[]);let n=[];return V.Children.forEach(e,(i,o)=>{if(!V.isValidElement(i))return;let u=[...t,o];if(i.type===V.Fragment){n.push.apply(n,w5(i.props.children,u));return}i.type!==Ga&&wo(!1),!i.props.index||!i.props.children||wo(!1);let f={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(f.children=w5(i.props.children,u)),n.push(f)}),n}/**
 * React Router DOM v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function E5(){return E5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},E5.apply(this,arguments)}function DH(e,t){if(e==null)return{};var n={},i=Object.keys(e),o,u;for(u=0;u<i.length;u++)o=i[u],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function RH(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function OH(e,t){return e.button===0&&(!t||t==="_self")&&!RH(e)}const LH=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],zH="startTransition",Uk=g2[zH];function FH(e){let{basename:t,children:n,future:i,window:o}=e,u=V.useRef();u.current==null&&(u.current=VW({window:o,v5Compat:!0}));let f=u.current,[a,y]=V.useState({action:f.action,location:f.location}),{v7_startTransition:w}=i||{},k=V.useCallback(M=>{w&&Uk?Uk(()=>y(M)):y(M)},[y,w]);return V.useLayoutEffect(()=>f.listen(k),[f,k]),V.createElement(AH,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:f})}const NH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",BH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jx=V.forwardRef(function(t,n){let{onClick:i,relative:o,reloadDocument:u,replace:f,state:a,target:y,to:w,preventScrollReset:k}=t,M=DH(t,LH),{basename:O}=V.useContext(K0),$,N=!1;if(typeof w=="string"&&BH.test(w)&&($=w,NH))try{let G=new URL(window.location.href),Z=w.startsWith("//")?new URL(G.protocol+w):new URL(w),Q=F7(Z.pathname,O);Z.origin===G.origin&&Q!=null?w=Q+Z.search+Z.hash:N=!0}catch{}let B=mH(w,{relative:o}),J=jH(w,{replace:f,state:a,target:y,preventScrollReset:k,relative:o});function U(G){i&&i(G),G.defaultPrevented||J(G)}return V.createElement("a",E5({},M,{href:$||B,onClick:N||u?i:U,ref:n,target:y}))});var Vk;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(Vk||(Vk={}));var Wk;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Wk||(Wk={}));function jH(e,t){let{target:n,replace:i,state:o,preventScrollReset:u,relative:f}=t===void 0?{}:t,a=hc(),y=v_(),w=MR(e,{relative:f});return V.useCallback(k=>{if(OH(k,n)){k.preventDefault();let M=i!==void 0?i:$2(y)===$2(w);a(e,{replace:M,state:o,preventScrollReset:u,relative:f})}},[y,a,w,i,o,n,e,u,f])}const RR=V.createContext(),$H=({children:e})=>{const[t,n]=V.useState(()=>{const i=localStorage.getItem("inputValues");return i&&i!=="undefined"?JSON.parse(i):{latitude:40.74218481889335,longitude:-73.98786664009094,endLatitude:40.72540497175606,endLongitude:-74.01052594184875,hour:0,distance:0,waypoints:[]}});return V.useEffect(()=>{localStorage.setItem("inputValues",JSON.stringify(t))},[t]),z.jsx(RR.Provider,{value:{inputValues:t,setInputValues:n},children:e})},UH=()=>V.useContext(RR),S5=Zt.createContext(),VH=({children:e})=>{const[t,n]=V.useState([]),i=()=>t,o=y=>{n(y)},u=y=>{const w=t.filter(k=>k!==y);n(w)},f=y=>t[y],a=(y,w)=>{const k=[...t];k.splice(w,0,y),n(k)};return z.jsx(S5.Provider,{value:{globalArray:t,getGlobalArray:i,setGlobalArrayValue:o,removeFromGlobalArray:u,getGlobalArrayItem:f,addToGlobalArray:a},children:e})};var OR={exports:{}};(function(e,t){(function(n,i){e.exports=i()})(En,function(){var n,i,o;function u(a,y){if(!n)n=y;else if(!i)i=y;else{var w="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+n+")(sharedChunk); ("+i+")(sharedChunk); self.onerror = null;",k={};n(k),o=y(k),typeof window<"u"&&window&&window.URL&&window.URL.createObjectURL&&(o.workerUrl=window.URL.createObjectURL(new Blob([w],{type:"text/javascript"})))}}u(["exports"],function(a){var y=typeof self<"u"?self:{},w="2.15.0";let k;const M={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(k==null){const s=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{k={}.API_URL_REGEX!=null?new RegExp({}.API_URL_REGEX):s}catch{k=s}}return k},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get API_CDN_URL_REGEX(){return/^((https?:)?\/\/)?api\.mapbox\.c(n|om)(\/mapbox-gl-js\/)(.*$)/i},get EVENTS_URL(){if(!M.API_URL)return null;try{const s=new URL(M.API_URL);return s.hostname==="api.mapbox.cn"?"https://events.mapbox.cn/events/v2":s.hostname==="api.mapbox.com"?"https://events.mapbox.com/events/v2":null}catch{return null}},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},O={supported:!1,testSupport:function(s){!B&&N&&(J?U(s):$=s)}};let $,N,B=!1,J=!1;function U(s){const r=s.createTexture();s.bindTexture(s.TEXTURE_2D,r);try{if(s.texImage2D(s.TEXTURE_2D,0,s.RGBA,s.RGBA,s.UNSIGNED_BYTE,N),s.isContextLost())return;O.supported=!0}catch{}s.deleteTexture(r),B=!0}y.document&&(N=y.document.createElement("img"),N.onload=function(){$&&U($),$=null,J=!0},N.onerror=function(){B=!0,$=null},N.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const G="01";function Z(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Q=se;function se(s,r,l,d){this.cx=3*s,this.bx=3*(l-s)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*r,this.by=3*(d-r)-this.cy,this.ay=1-this.cy-this.by,this.p1x=s,this.p1y=r,this.p2x=l,this.p2y=d}se.prototype={sampleCurveX:function(s){return((this.ax*s+this.bx)*s+this.cx)*s},sampleCurveY:function(s){return((this.ay*s+this.by)*s+this.cy)*s},sampleCurveDerivativeX:function(s){return(3*this.ax*s+2*this.bx)*s+this.cx},solveCurveX:function(s,r){if(r===void 0&&(r=1e-6),s<0)return 0;if(s>1)return 1;for(var l=s,d=0;d<8;d++){var p=this.sampleCurveX(l)-s;if(Math.abs(p)<r)return l;var g=this.sampleCurveDerivativeX(l);if(Math.abs(g)<1e-6)break;l-=p/g}var v=0,b=1;for(l=s,d=0;d<20&&(p=this.sampleCurveX(l),!(Math.abs(p-s)<r));d++)s>p?v=l:b=l,l=.5*(b-v)+v;return l},solve:function(s,r){return this.sampleCurveY(this.solveCurveX(s,r))}};var ce=Z(Q),A=_e;function _e(s,r){this.x=s,this.y=r}_e.prototype={clone:function(){return new _e(this.x,this.y)},add:function(s){return this.clone()._add(s)},sub:function(s){return this.clone()._sub(s)},multByPoint:function(s){return this.clone()._multByPoint(s)},divByPoint:function(s){return this.clone()._divByPoint(s)},mult:function(s){return this.clone()._mult(s)},div:function(s){return this.clone()._div(s)},rotate:function(s){return this.clone()._rotate(s)},rotateAround:function(s,r){return this.clone()._rotateAround(s,r)},matMult:function(s){return this.clone()._matMult(s)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(s){return this.x===s.x&&this.y===s.y},dist:function(s){return Math.sqrt(this.distSqr(s))},distSqr:function(s){var r=s.x-this.x,l=s.y-this.y;return r*r+l*l},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(s){return Math.atan2(this.y-s.y,this.x-s.x)},angleWith:function(s){return this.angleWithSep(s.x,s.y)},angleWithSep:function(s,r){return Math.atan2(this.x*r-this.y*s,this.x*s+this.y*r)},_matMult:function(s){var r=s[2]*this.x+s[3]*this.y;return this.x=s[0]*this.x+s[1]*this.y,this.y=r,this},_add:function(s){return this.x+=s.x,this.y+=s.y,this},_sub:function(s){return this.x-=s.x,this.y-=s.y,this},_mult:function(s){return this.x*=s,this.y*=s,this},_div:function(s){return this.x/=s,this.y/=s,this},_multByPoint:function(s){return this.x*=s.x,this.y*=s.y,this},_divByPoint:function(s){return this.x/=s.x,this.y/=s.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var s=this.y;return this.y=this.x,this.x=-s,this},_rotate:function(s){var r=Math.cos(s),l=Math.sin(s),d=l*this.x+r*this.y;return this.x=r*this.x-l*this.y,this.y=d,this},_rotateAround:function(s,r){var l=Math.cos(s),d=Math.sin(s),p=r.y+d*(this.x-r.x)+l*(this.y-r.y);return this.x=r.x+l*(this.x-r.x)-d*(this.y-r.y),this.y=p,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},_e.convert=function(s){return s instanceof _e?s:Array.isArray(s)?new _e(s[0],s[1]):s};var le=Z(A);const ve=Math.PI/180,Ue=180/Math.PI;function $e(s){return s*ve}function Ae(s){return s*Ue}const Re=[[0,0],[1,0],[1,1],[0,1]];function Oe(s){if(s<=0)return 0;if(s>=1)return 1;const r=s*s,l=r*s;return 4*(s<.5?l:3*(s-r)+l-.75)}function Ye(s,r,l,d){const p=new ce(s,r,l,d);return function(g){return p.solve(g)}}const Qe=Ye(.25,.1,.25,1);function ze(s,r,l){return Math.min(l,Math.max(r,s))}function Pe(s,r,l){return(l=ze((l-s)/(r-s),0,1))*l*(3-2*l)}function je(s,r,l){const d=l-r,p=((s-r)%d+d)%d+r;return p===r?l:p}function lt(s,r,l){if(!s.length)return l(null,[]);let d=s.length;const p=new Array(s.length);let g=null;s.forEach((v,b)=>{r(v,(T,C)=>{T&&(g=T),p[b]=C,--d==0&&l(g,p)})})}function ot(s){const r=[];for(const l in s)r.push(s[l]);return r}function ct(s,...r){for(const l of r)for(const d in l)s[d]=l[d];return s}let Ct=1;function ut(){return Ct++}function yt(){return function s(r){return r?(r^Math.random()*(16>>r/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,s)}()}function Dt(s){return s<=1?1:Math.pow(2,Math.ceil(Math.log(s)/Math.LN2))}function Rt(s){return!!s&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(s)}function St(s,r){s.forEach(l=>{r[l]&&(r[l]=r[l].bind(r))})}function Qt(s,r){return s.indexOf(r,s.length-r.length)!==-1}function Lt(s,r,l){const d={};for(const p in s)d[p]=r.call(l||this,s[p],p,s);return d}function qt(s,r,l){const d={};for(const p in s)r.call(l||this,s[p],p,s)&&(d[p]=s[p]);return d}function an(s){return Array.isArray(s)?s.map(an):typeof s=="object"&&s?Lt(s,an):s}const jt={};function vt(s){jt[s]||(typeof console<"u"&&console.warn(s),jt[s]=!0)}function gn(s,r,l){return(l.y-s.y)*(r.x-s.x)>(r.y-s.y)*(l.x-s.x)}function on(s){let r=0;for(let l,d,p=0,g=s.length,v=g-1;p<g;v=p++)l=s[p],d=s[v],r+=(d.x-l.x)*(l.y+d.y);return r}function Bn(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Yn(s){const r={};if(s.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(l,d,p,g)=>{const v=p||g;return r[d]=!v||v.toLowerCase(),""}),r["max-age"]){const l=parseInt(r["max-age"],10);isNaN(l)?delete r["max-age"]:r["max-age"]=l}return r}let On=null;function zn(s){if(On==null){const r=s.navigator?s.navigator.userAgent:null;On=!!s.safari||!(!r||!(/\b(iPad|iPhone|iPod)\b/.test(r)||r.match("Safari")&&!r.match("Chrome")))}return On}function Mn(s){try{const r=y[s];return r.setItem("_mapbox_test_",1),r.removeItem("_mapbox_test_"),!0}catch{return!1}}function jn(s,r){return[s[4*r],s[4*r+1],s[4*r+2],s[4*r+3]]}const yr="mapbox-tiles";let pt=500,sn=50,dn,en;function ln(){try{return y.caches}catch{}}function un(){ln()&&!dn&&(dn=y.caches.open(yr))}function bn(s){const r=s.indexOf("?");if(r<0)return s;const l=function(p){const g=p.indexOf("?");return g>0?p.slice(g+1).split("&"):[]}(s),d=l.filter(p=>{const g=p.split("=");return g[0]==="language"||g[0]==="worldview"});return d.length?`${s.slice(0,r)}?${d.join("&")}`:s.slice(0,r)}let Dn=1/0;const Fn={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(Fn);class er extends Error{constructor(r,l,d){l===401&&et(d)&&(r+=": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes"),super(r),this.status=l,this.url=d}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const Ar=Bn()?()=>self.worker&&self.worker.referrer:()=>(y.location.protocol==="blob:"?y.parent:y).location.href,pr=function(s,r){if(!(/^file:/.test(l=s.url)||/^file:/.test(Ar())&&!/^\w+:/.test(l))){if(y.fetch&&y.Request&&y.AbortController&&y.Request.prototype.hasOwnProperty("signal"))return function(d,p){const g=new y.AbortController,v=new y.Request(d.url,{method:d.method||"GET",body:d.body,credentials:d.credentials,headers:d.headers,referrer:Ar(),referrerPolicy:d.referrerPolicy,signal:g.signal});let b=!1,T=!1;const C=(R=v.url).indexOf("sku=")>0&&et(R);var R;d.type==="json"&&v.headers.set("Accept","application/json");const F=(K,Y,ne)=>{if(T)return;if(K&&K.message!=="SecurityError"&&vt(K.toString()),Y&&ne)return W(Y);const he=Date.now();y.fetch(v).then(we=>{if(we.ok){const Ne=C?we.clone():null;return W(we,Ne,he)}return p(new er(we.statusText,we.status,d.url))}).catch(we=>{we.name!=="AbortError"&&p(new Error(`${we.message} ${d.url}`))})},W=(K,Y,ne)=>{(d.type==="arrayBuffer"?K.arrayBuffer():d.type==="json"?K.json():K.text()).then(he=>{T||(Y&&ne&&function(we,Ne,Ee){if(un(),!dn)return;const Le={status:Ne.status,statusText:Ne.statusText,headers:new y.Headers};Ne.headers.forEach((_t,ht)=>Le.headers.set(ht,_t));const We=Yn(Ne.headers.get("Cache-Control")||"");if(We["no-store"])return;We["max-age"]&&Le.headers.set("Expires",new Date(Ee+1e3*We["max-age"]).toUTCString());const Ve=Le.headers.get("Expires");Ve&&(new Date(Ve).getTime()-Ee<42e4||function(_t,ht){if(en===void 0)try{new Response(new ReadableStream),en=!0}catch{en=!1}en?ht(_t.body):_t.blob().then(ht)}(Ne,_t=>{const ht=new y.Response(_t,Le);un(),dn&&dn.then(Mt=>Mt.put(bn(we.url),ht)).catch(Mt=>vt(Mt.message))}))}(v,Y,ne),b=!0,p(null,he,K.headers.get("Cache-Control"),K.headers.get("Expires")))}).catch(he=>{T||p(new Error(he.message))})};return C?function(K,Y){if(un(),!dn)return Y(null);const ne=bn(K.url);dn.then(he=>{he.match(ne).then(we=>{const Ne=function(Ee){if(!Ee)return!1;const Le=new Date(Ee.headers.get("Expires")||0),We=Yn(Ee.headers.get("Cache-Control")||"");return Le>Date.now()&&!We["no-cache"]}(we);he.delete(ne),Ne&&he.put(ne,we.clone()),Y(null,we,Ne)}).catch(Y)}).catch(Y)}(v,F):F(null,null),{cancel:()=>{T=!0,b||g.abort()}}}(s,r);if(Bn()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",s,r,void 0,!0)}var l;return function(d,p){const g=new y.XMLHttpRequest;g.open(d.method||"GET",d.url,!0),d.type==="arrayBuffer"&&(g.responseType="arraybuffer");for(const v in d.headers)g.setRequestHeader(v,d.headers[v]);return d.type==="json"&&(g.responseType="text",g.setRequestHeader("Accept","application/json")),g.withCredentials=d.credentials==="include",g.onerror=()=>{p(new Error(g.statusText))},g.onload=()=>{if((g.status>=200&&g.status<300||g.status===0)&&g.response!==null){let v=g.response;if(d.type==="json")try{v=JSON.parse(g.response)}catch(b){return p(b)}p(null,v,g.getResponseHeader("Cache-Control"),g.getResponseHeader("Expires"))}else p(new er(g.statusText,g.status,d.url))},g.send(d.body),{cancel:()=>g.abort()}}(s,r)},mi=function(s,r){return pr(ct(s,{type:"arrayBuffer"}),r)};function Hr(s){const r=y.document.createElement("a");return r.href=s,r.protocol===y.document.location.protocol&&r.host===y.document.location.host}const ke="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let oe,ae;oe=[],ae=0;const xe=function(s,r){if(O.supported&&(s.headers||(s.headers={}),s.headers.accept="image/webp,*/*"),ae>=M.MAX_PARALLEL_IMAGE_REQUESTS){const g={requestParameters:s,callback:r,cancelled:!1,cancel(){this.cancelled=!0}};return oe.push(g),g}ae++;let l=!1;const d=()=>{if(!l)for(l=!0,ae--;oe.length&&ae<M.MAX_PARALLEL_IMAGE_REQUESTS;){const g=oe.shift(),{requestParameters:v,callback:b,cancelled:T}=g;T||(g.cancel=xe(v,b).cancel)}},p=mi(s,(g,v,b,T)=>{d(),g?r(g):v&&(y.createImageBitmap?function(C,R){const F=new y.Blob([new Uint8Array(C)],{type:"image/png"});y.createImageBitmap(F).then(W=>{R(null,W)}).catch(W=>{R(new Error(`Could not load image because of ${W.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(v,(C,R)=>r(C,R,b,T)):function(C,R){const F=new y.Image,W=y.URL;F.onload=()=>{R(null,F),W.revokeObjectURL(F.src),F.onload=null,y.requestAnimationFrame(()=>{F.src=ke})},F.onerror=()=>R(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const K=new y.Blob([new Uint8Array(C)],{type:"image/png"});F.src=C.byteLength?W.createObjectURL(K):ke}(v,(C,R)=>r(C,R,b,T)))});return{cancel:()=>{p.cancel(),d()}}},Fe="NO_ACCESS_TOKEN";function Be(s){return s.indexOf("mapbox:")===0}function et(s){return M.API_URL_REGEX.test(s)}function nt(s){return M.API_CDN_URL_REGEX.test(s)}function qe(s){return M.API_STYLE_REGEX.test(s)&&!He(s)}function He(s){return M.API_SPRITE_REGEX.test(s)}const Je=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function xt(s){const r=s.match(Je);if(!r)throw new Error("Unable to parse URL object");return{protocol:r[1],authority:r[2],path:r[3]||"/",params:r[4]?r[4].split("&"):[]}}function kt(s){const r=s.params.length?`?${s.params.join("&")}`:"";return`${s.protocol}://${s.authority}${s.path}${r}`}const vn="mapbox.eventData";function Nn(s){if(!s)return null;const r=s.split(".");if(!r||r.length!==3)return null;try{return JSON.parse(decodeURIComponent(y.atob(r[1]).split("").map(l=>"%"+("00"+l.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch{return null}}class Rn{constructor(r){this.type=r,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(r){const l=Nn(M.ACCESS_TOKEN);let d="";return d=l&&l.u?y.btoa(encodeURIComponent(l.u).replace(/%([0-9A-F]{2})/g,(p,g)=>String.fromCharCode(+("0x"+g)))):M.ACCESS_TOKEN||"",r?`${vn}.${r}:${d}`:`${vn}:${d}`}fetchEventData(){const r=Mn("localStorage"),l=this.getStorageKey(),d=this.getStorageKey("uuid");if(r)try{const p=y.localStorage.getItem(l);p&&(this.eventData=JSON.parse(p));const g=y.localStorage.getItem(d);g&&(this.anonId=g)}catch{vt("Unable to read from LocalStorage")}}saveEventData(){const r=Mn("localStorage"),l=this.getStorageKey(),d=this.getStorageKey("uuid");if(r)try{y.localStorage.setItem(d,this.anonId),Object.keys(this.eventData).length>=1&&y.localStorage.setItem(l,JSON.stringify(this.eventData))}catch{vt("Unable to write to LocalStorage")}}processRequests(r){}postEvent(r,l,d,p){if(!M.EVENTS_URL)return;const g=xt(M.EVENTS_URL);g.params.push(`access_token=${p||M.ACCESS_TOKEN||""}`);const v={event:this.type,created:new Date(r).toISOString()},b=l?ct(v,l):v,T={url:kt(g),headers:{"Content-Type":"text/plain"},body:JSON.stringify([b])};this.pendingRequest=function(C,R){return pr(ct(C,{method:"POST"}),R)}(T,C=>{this.pendingRequest=null,d(C),this.saveEventData(),this.processRequests(p)})}queueRequest(r,l){this.queue.push(r),this.processRequests(l)}}const $n=new class extends Rn{constructor(s){super("appUserTurnstile"),this._customAccessToken=s}postTurnstileEvent(s,r){M.EVENTS_URL&&M.ACCESS_TOKEN&&Array.isArray(s)&&s.some(l=>Be(l)||et(l))&&this.queueRequest(Date.now(),r)}processRequests(s){if(this.pendingRequest||this.queue.length===0)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const r=Nn(M.ACCESS_TOKEN),l=r?r.u:M.ACCESS_TOKEN;let d=l!==this.eventData.tokenU;Rt(this.anonId)||(this.anonId=yt(),d=!0);const p=this.queue.shift();if(this.eventData.lastSuccess){const g=new Date(this.eventData.lastSuccess),v=new Date(p),b=(p-this.eventData.lastSuccess)/864e5;d=d||b>=1||b<-1||g.getDate()!==v.getDate()}else d=!0;d?this.postEvent(p,{sdkIdentifier:"mapbox-gl-js",sdkVersion:w,skuId:G,"enabled.telemetry":!1,userId:this.anonId},g=>{g||(this.eventData.lastSuccess=p,this.eventData.tokenU=l)},s):this.processRequests()}},Xn=$n.postTurnstileEvent.bind($n),wr=new class extends Rn{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(s,r,l,d){this.skuToken=r,this.errorCb=d,M.EVENTS_URL&&(l||M.ACCESS_TOKEN?this.queueRequest({id:s,timestamp:Date.now()},l):this.errorCb(new Error(Fe)))}processRequests(s){if(this.pendingRequest||this.queue.length===0)return;const{id:r,timestamp:l}=this.queue.shift();r&&this.success[r]||(this.anonId||this.fetchEventData(),Rt(this.anonId)||(this.anonId=yt()),this.postEvent(l,{sdkIdentifier:"mapbox-gl-js",sdkVersion:w,skuId:G,skuToken:this.skuToken,userId:this.anonId},d=>{d?this.errorCb(d):r&&(this.success[r]=!0)},s))}},Er=wr.postMapLoadEvent.bind(wr),Rr=new class extends Rn{constructor(){super("gljs.performance")}postPerformanceEvent(s,r){M.EVENTS_URL&&(s||M.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:r},s)}processRequests(s){if(this.pendingRequest||this.queue.length===0)return;const{timestamp:r,performanceData:l}=this.queue.shift(),d=function(p){const g=y.performance.getEntriesByType("resource"),v=y.performance.getEntriesByType("mark"),b=function(W){const K={};if(W){for(const Y in W)if(Y!=="other")for(const ne of W[Y]){const he=`${Y}ResolveRangeMin`,we=`${Y}ResolveRangeMax`,Ne=`${Y}RequestCount`,Ee=`${Y}RequestCachedCount`;K[he]=Math.min(K[he]||1/0,ne.startTime),K[we]=Math.max(K[we]||-1/0,ne.responseEnd);const Le=We=>{K[We]===void 0&&(K[We]=0),++K[We]};ne.transferSize!==void 0&&ne.transferSize===0&&Le(Ee),Le(Ne)}}return K}(function(W,K){const Y={};if(W)for(const ne of W){const he=K(ne);Y[he]===void 0&&(Y[he]=[]),Y[he].push(ne)}return Y}(g,Mr)),T=y.devicePixelRatio,C=y.navigator.connection||y.navigator.mozConnection||y.navigator.webkitConnection,R={counters:[],metadata:[],attributes:[]},F=(W,K,Y)=>{Y!=null&&W.push({name:K,value:Y.toString()})};for(const W in b)F(R.counters,W,b[W]);if(p.interactionRange[0]!==1/0&&p.interactionRange[1]!==-1/0&&(F(R.counters,"interactionRangeMin",p.interactionRange[0]),F(R.counters,"interactionRangeMax",p.interactionRange[1])),v)for(const W of Object.keys(pn)){const K=pn[W],Y=v.find(ne=>ne.name===K);Y&&F(R.counters,K,Y.startTime)}return F(R.counters,"visibilityHidden",p.visibilityHidden),F(R.attributes,"style",function(W){if(W)for(const K of W){const Y=K.name.split("?")[0];if(qe(Y)){const ne=Y.split("/").slice(-2);if(ne.length===2)return`mapbox://styles/${ne[0]}/${ne[1]}`}}}(g)),F(R.attributes,"terrainEnabled",p.terrainEnabled?"true":"false"),F(R.attributes,"fogEnabled",p.fogEnabled?"true":"false"),F(R.attributes,"projection",p.projection),F(R.attributes,"zoom",p.zoom),F(R.metadata,"devicePixelRatio",T),F(R.metadata,"connectionEffectiveType",C?C.effectiveType:void 0),F(R.metadata,"navigatorUserAgent",y.navigator.userAgent),F(R.metadata,"screenWidth",y.screen.width),F(R.metadata,"screenHeight",y.screen.height),F(R.metadata,"windowWidth",y.innerWidth),F(R.metadata,"windowHeight",y.innerHeight),F(R.metadata,"mapWidth",p.width/T),F(R.metadata,"mapHeight",p.height/T),F(R.metadata,"webglRenderer",p.renderer),F(R.metadata,"webglVendor",p.vendor),F(R.metadata,"sdkVersion",w),F(R.metadata,"sdkIdentifier","mapbox-gl-js"),R}(l);for(const p of d.metadata);for(const p of d.counters);for(const p of d.attributes);this.postEvent(r,d,()=>{},s)}},tt=Rr.postPerformanceEvent.bind(Rr),Ce=new class extends Rn{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(s,r,l,d){if(!M.API_URL||!M.SESSION_PATH)return;const p=xt(M.API_URL+M.SESSION_PATH);p.params.push(`sku=${r||""}`),p.params.push(`access_token=${d||M.ACCESS_TOKEN||""}`);const g={url:kt(p),headers:{"Content-Type":"text/plain"}};this.pendingRequest=function(v,b){return pr(ct(v,{method:"GET"}),b)}(g,v=>{this.pendingRequest=null,l(v),this.saveEventData(),this.processRequests(d)})}getSessionAPI(s,r,l,d){this.skuToken=r,this.errorCb=d,M.SESSION_PATH&&M.API_URL&&(l||M.ACCESS_TOKEN?this.queueRequest({id:s,timestamp:Date.now()},l):this.errorCb(new Error(Fe)))}processRequests(s){if(this.pendingRequest||this.queue.length===0)return;const{id:r,timestamp:l}=this.queue.shift();r&&this.success[r]||this.getSession(l,this.skuToken,d=>{d?this.errorCb(d):r&&(this.success[r]=!0)},s)}},ft=Ce.getSessionAPI.bind(Ce),Ut=new Set,pn={create:"create",load:"load",fullLoad:"fullLoad"},fr={mark(s){y.performance.mark(s)},measure(s,r,l){y.performance.measure(s,r,l)}};function Mr(s){const r=s.name.split("?")[0];return nt(r)&&r.includes("mapbox-gl.js")?"javascript":nt(r)&&r.includes("mapbox-gl.css")?"css":function(l){return M.API_FONTS_REGEX.test(l)}(r)?"fontRange":He(r)?"sprite":qe(r)?"style":function(l){return M.API_TILEJSON_REGEX.test(l)}(r)?"tilejson":"other"}const Hn=y.performance;function Do(s){const r=s?s.url.toString():void 0;return Hn.getEntriesByName(r)}let _o,yo,ra,$i;const Ui={now:()=>ra!==void 0?ra:y.performance.now(),setNow(s){ra=s},restoreNow(){ra=void 0},frame(s){const r=y.requestAnimationFrame(s);return{cancel:()=>y.cancelAnimationFrame(r)}},getImageData(s,r=0){const{width:l,height:d}=s;$i||($i=y.document.createElement("canvas"));const p=$i.getContext("2d",{willReadFrequently:!0});if(!p)throw new Error("failed to create canvas 2d context");return(l>$i.width||d>$i.height)&&($i.width=l,$i.height=d),p.clearRect(-r,-r,l+2*r,d+2*r),p.drawImage(s,0,0,l,d),p.getImageData(-r,-r,l+2*r,d+2*r)},resolveURL:s=>(_o||(_o=y.document.createElement("a")),_o.href=s,_o.href),get devicePixelRatio(){return y.devicePixelRatio},get prefersReducedMotion(){return!!y.matchMedia&&(yo==null&&(yo=y.matchMedia("(prefers-reduced-motion: reduce)")),yo.matches)}};function vo(s,r,l){l[s]&&l[s].indexOf(r)!==-1||(l[s]=l[s]||[],l[s].push(r))}function Vi(s,r,l){if(l&&l[s]){const d=l[s].indexOf(r);d!==-1&&l[s].splice(d,1)}}class Ba{constructor(r,l={}){ct(this,l),this.type=r}}class ja extends Ba{constructor(r,l={}){super("error",ct({error:r},l))}}class Il{on(r,l){return this._listeners=this._listeners||{},vo(r,l,this._listeners),this}off(r,l){return Vi(r,l,this._listeners),Vi(r,l,this._oneTimeListeners),this}once(r,l){return l?(this._oneTimeListeners=this._oneTimeListeners||{},vo(r,l,this._oneTimeListeners),this):new Promise(d=>this.once(r,d))}fire(r,l){typeof r=="string"&&(r=new Ba(r,l||{}));const d=r.type;if(this.listens(d)){r.target=this;const p=this._listeners&&this._listeners[d]?this._listeners[d].slice():[];for(const b of p)b.call(this,r);const g=this._oneTimeListeners&&this._oneTimeListeners[d]?this._oneTimeListeners[d].slice():[];for(const b of g)Vi(d,b,this._oneTimeListeners),b.call(this,r);const v=this._eventedParent;v&&(ct(r,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),v.fire(r))}else r instanceof ja&&console.error(r.error);return this}listens(r){return!!(this._listeners&&this._listeners[r]&&this._listeners[r].length>0||this._oneTimeListeners&&this._oneTimeListeners[r]&&this._oneTimeListeners[r].length>0||this._eventedParent&&this._eventedParent.listens(r))}setEventedParent(r,l){return this._eventedParent=r,this._eventedParentData=l,this}}var Pt=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","private":true,"default":0,"minimum":0,"maximum":1,"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{},"globe":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["source"]}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","private":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["fill-extrusion-edge-radius"]},"fill-extrusion-rounded-roof":{"type":"boolean","default":true,"requires":["fill-extrusion-edge-radius"],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":false,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"transition":false,"requires":[{"source":"geojson","has":{"lineMetrics":true}}],"property-type":"constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function fa(s,...r){for(const l of r)for(const d in l)s[d]=l[d];return s}function ni(s){return s instanceof Number||s instanceof String||s instanceof Boolean?s.valueOf():s}function Gi(s){if(Array.isArray(s))return s.map(Gi);if(s instanceof Object&&!(s instanceof Number||s instanceof String||s instanceof Boolean)){const r={};for(const l in s)r[l]=Gi(s[l]);return r}return ni(s)}class Ro extends Error{constructor(r,l){super(l),this.message=l,this.key=r}}var Oo=Ro;class mc{constructor(r,l=[]){this.parent=r,this.bindings={};for(const[d,p]of l)this.bindings[d]=p}concat(r){return new mc(this,r)}get(r){if(this.bindings[r])return this.bindings[r];if(this.parent)return this.parent.get(r);throw new Error(`${r} not found in scope.`)}has(r){return!!this.bindings[r]||!!this.parent&&this.parent.has(r)}}var Gp=mc;const gc={kind:"null"},fn={kind:"number"},vr={kind:"string"},ur={kind:"boolean"},Vo={kind:"color"},$a={kind:"object"},gr={kind:"value"},Ti={kind:"collator"},_c={kind:"formatted"},Ua={kind:"resolvedImage"};function ma(s,r){return{kind:"array",itemType:s,N:r}}function di(s){if(s.kind==="array"){const r=di(s.itemType);return typeof s.N=="number"?`array<${r}, ${s.N}>`:s.itemType.kind==="value"?"array":`array<${r}>`}return s.kind}const Xs=[gc,fn,vr,ur,Vo,_c,$a,ma(gr),Ua];function Lo(s,r){if(r.kind==="error")return null;if(s.kind==="array"){if(r.kind==="array"&&(r.N===0&&r.itemType.kind==="value"||!Lo(s.itemType,r.itemType))&&(typeof s.N!="number"||s.N===r.N))return null}else{if(s.kind===r.kind)return null;if(s.kind==="value"){for(const l of Xs)if(!Lo(l,r))return null}}return`Expected ${di(s)} but found ${di(r)} instead.`}function Al(s,r){return r.some(l=>l.kind===s.kind)}function cu(s,r){return r.some(l=>l==="null"?s===null:l==="array"?Array.isArray(s):l==="object"?s&&!Array.isArray(s)&&typeof s=="object":l===typeof s)}var Ml,Th={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Dl(s){return(s=Math.round(s))<0?0:s>255?255:s}function yc(s){return Dl(s[s.length-1]==="%"?parseFloat(s)/100*255:parseInt(s))}function uu(s){return(r=s[s.length-1]==="%"?parseFloat(s)/100:parseFloat(s))<0?0:r>1?1:r;var r}function vc(s,r,l){return l<0?l+=1:l>1&&(l-=1),6*l<1?s+(r-s)*l*6:2*l<1?r:3*l<2?s+(r-s)*(2/3-l)*6:s}try{Ml={}.parseCSSColor=function(s){var r,l=s.replace(/ /g,"").toLowerCase();if(l in Th)return Th[l].slice();if(l[0]==="#")return l.length===4?(r=parseInt(l.substr(1),16))>=0&&r<=4095?[(3840&r)>>4|(3840&r)>>8,240&r|(240&r)>>4,15&r|(15&r)<<4,1]:null:l.length===7&&(r=parseInt(l.substr(1),16))>=0&&r<=16777215?[(16711680&r)>>16,(65280&r)>>8,255&r,1]:null;var d=l.indexOf("("),p=l.indexOf(")");if(d!==-1&&p+1===l.length){var g=l.substr(0,d),v=l.substr(d+1,p-(d+1)).split(","),b=1;switch(g){case"rgba":if(v.length!==4)return null;b=uu(v.pop());case"rgb":return v.length!==3?null:[yc(v[0]),yc(v[1]),yc(v[2]),b];case"hsla":if(v.length!==4)return null;b=uu(v.pop());case"hsl":if(v.length!==3)return null;var T=(parseFloat(v[0])%360+360)%360/360,C=uu(v[1]),R=uu(v[2]),F=R<=.5?R*(C+1):R+C-R*C,W=2*R-F;return[Dl(255*vc(W,F,T+1/3)),Dl(255*vc(W,F,T)),Dl(255*vc(W,F,T-1/3)),b];default:return null}}return null}}catch{}class zo{constructor(r,l,d,p=1){this.r=r,this.g=l,this.b=d,this.a=p}static parse(r){if(!r)return;if(r instanceof zo)return r;if(typeof r!="string")return;const l=Ml(r);return l?new zo(l[0]/255*l[3],l[1]/255*l[3],l[2]/255*l[3],l[3]):void 0}toString(){const[r,l,d,p]=this.toArray();return`rgba(${Math.round(r)},${Math.round(l)},${Math.round(d)},${p})`}toArray(){const{r,g:l,b:d,a:p}=this;return p===0?[0,0,0,0]:[255*r/p,255*l/p,255*d/p,p]}toArray01(){const{r,g:l,b:d,a:p}=this;return p===0?[0,0,0,0]:[r/p,l/p,d/p,p]}toArray01PremultipliedAlpha(){const{r,g:l,b:d,a:p}=this;return[r,l,d,p]}}zo.black=new zo(0,0,0,1),zo.white=new zo(1,1,1,1),zo.transparent=new zo(0,0,0,0),zo.red=new zo(1,0,0,1),zo.blue=new zo(0,0,1,1);var Mi=zo;class Ch{constructor(r,l,d){this.sensitivity=r?l?"variant":"case":l?"accent":"base",this.locale=d,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(r,l){return this.collator.compare(r,l)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class du{constructor(r,l,d,p,g){this.text=r.normalize?r.normalize():r,this.image=l,this.scale=d,this.fontStack=p,this.textColor=g}}class Wo{constructor(r){this.sections=r}static fromString(r){return new Wo([new du(r,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(r=>r.text.length!==0||r.image&&r.image.name.length!==0)}static factory(r){return r instanceof Wo?r:Wo.fromString(r)}toString(){return this.sections.length===0?"":this.sections.map(r=>r.text).join("")}serialize(){const r=["format"];for(const l of this.sections){if(l.image){r.push(["image",l.image.name]);continue}r.push(l.text);const d={};l.fontStack&&(d["text-font"]=["literal",l.fontStack.split(",")]),l.scale&&(d["font-scale"]=l.scale),l.textColor&&(d["text-color"]=["rgba"].concat(l.textColor.toArray())),r.push(d)}return r}}class ga{constructor(r){this.name=r.name,this.available=r.available}toString(){return this.name}static fromString(r){return r?new ga({name:r,available:!1}):null}serialize(){return["image",this.name]}}function Zp(s,r,l,d){return typeof s=="number"&&s>=0&&s<=255&&typeof r=="number"&&r>=0&&r<=255&&typeof l=="number"&&l>=0&&l<=255?d===void 0||typeof d=="number"&&d>=0&&d<=1?null:`Invalid rgba value [${[s,r,l,d].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof d=="number"?[s,r,l,d]:[s,r,l]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function hu(s){if(s===null||typeof s=="string"||typeof s=="boolean"||typeof s=="number"||s instanceof Mi||s instanceof Ch||s instanceof Wo||s instanceof ga)return!0;if(Array.isArray(s)){for(const r of s)if(!hu(r))return!1;return!0}if(typeof s=="object"){for(const r in s)if(!hu(s[r]))return!1;return!0}return!1}function Ci(s){if(s===null)return gc;if(typeof s=="string")return vr;if(typeof s=="boolean")return ur;if(typeof s=="number")return fn;if(s instanceof Mi)return Vo;if(s instanceof Ch)return Ti;if(s instanceof Wo)return _c;if(s instanceof ga)return Ua;if(Array.isArray(s)){const r=s.length;let l;for(const d of s){const p=Ci(d);if(l){if(l===p)continue;l=gr;break}l=p}return ma(l||gr,r)}return $a}function pu(s){const r=typeof s;return s===null?"":r==="string"||r==="number"||r==="boolean"?String(s):s instanceof Mi||s instanceof Wo||s instanceof ga?s.toString():JSON.stringify(s)}class kh{constructor(r,l){this.type=r,this.value=l}static parse(r,l){if(r.length!==2)return l.error(`'literal' expression requires exactly one argument, but found ${r.length-1} instead.`);if(!hu(r[1]))return l.error("invalid value");const d=r[1];let p=Ci(d);const g=l.expectedType;return p.kind!=="array"||p.N!==0||!g||g.kind!=="array"||typeof g.N=="number"&&g.N!==0||(p=g),new kh(p,d)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof Mi?["rgba"].concat(this.value.toArray()):this.value instanceof Wo?this.value.serialize():this.value}}var Ks=kh,Zi=class{constructor(s){this.name="ExpressionEvaluationError",this.message=s}toJSON(){return this.message}};const ad={string:vr,number:fn,boolean:ur,object:$a};class fu{constructor(r,l){this.type=r,this.args=l}static parse(r,l){if(r.length<2)return l.error("Expected at least one argument.");let d,p=1;const g=r[0];if(g==="array"){let b,T;if(r.length>2){const C=r[1];if(typeof C!="string"||!(C in ad)||C==="object")return l.error('The item type argument of "array" must be one of string, number, boolean',1);b=ad[C],p++}else b=gr;if(r.length>3){if(r[2]!==null&&(typeof r[2]!="number"||r[2]<0||r[2]!==Math.floor(r[2])))return l.error('The length argument to "array" must be a positive integer literal',2);T=r[2],p++}d=ma(b,T)}else d=ad[g];const v=[];for(;p<r.length;p++){const b=l.parse(r[p],p,gr);if(!b)return null;v.push(b)}return new fu(d,v)}evaluate(r){for(let l=0;l<this.args.length;l++){const d=this.args[l].evaluate(r);if(!Lo(this.type,Ci(d)))return d;if(l===this.args.length-1)throw new Zi(`Expected value to be of type ${di(this.type)}, but found ${di(Ci(d))} instead.`)}return null}eachChild(r){this.args.forEach(r)}outputDefined(){return this.args.every(r=>r.outputDefined())}serialize(){const r=this.type,l=[r.kind];if(r.kind==="array"){const d=r.itemType;if(d.kind==="string"||d.kind==="number"||d.kind==="boolean"){l.push(d.kind);const p=r.N;(typeof p=="number"||this.args.length>1)&&l.push(p)}}return l.concat(this.args.map(d=>d.serialize()))}}var es=fu;class ws{constructor(r){this.type=_c,this.sections=r}static parse(r,l){if(r.length<2)return l.error("Expected at least one argument.");const d=r[1];if(!Array.isArray(d)&&typeof d=="object")return l.error("First argument must be an image or text section.");const p=[];let g=!1;for(let v=1;v<=r.length-1;++v){const b=r[v];if(g&&typeof b=="object"&&!Array.isArray(b)){g=!1;let T=null;if(b["font-scale"]&&(T=l.parse(b["font-scale"],1,fn),!T))return null;let C=null;if(b["text-font"]&&(C=l.parse(b["text-font"],1,ma(vr)),!C))return null;let R=null;if(b["text-color"]&&(R=l.parse(b["text-color"],1,Vo),!R))return null;const F=p[p.length-1];F.scale=T,F.font=C,F.textColor=R}else{const T=l.parse(r[v],1,gr);if(!T)return null;const C=T.type.kind;if(C!=="string"&&C!=="value"&&C!=="null"&&C!=="resolvedImage")return l.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");g=!0,p.push({content:T,scale:null,font:null,textColor:null})}}return new ws(p)}evaluate(r){return new Wo(this.sections.map(l=>{const d=l.content.evaluate(r);return Ci(d)===Ua?new du("",d,null,null,null):new du(pu(d),null,l.scale?l.scale.evaluate(r):null,l.font?l.font.evaluate(r).join(","):null,l.textColor?l.textColor.evaluate(r):null)}))}eachChild(r){for(const l of this.sections)r(l.content),l.scale&&r(l.scale),l.font&&r(l.font),l.textColor&&r(l.textColor)}outputDefined(){return!1}serialize(){const r=["format"];for(const l of this.sections){r.push(l.content.serialize());const d={};l.scale&&(d["font-scale"]=l.scale.serialize()),l.font&&(d["text-font"]=l.font.serialize()),l.textColor&&(d["text-color"]=l.textColor.serialize()),r.push(d)}return r}}class xc{constructor(r){this.type=Ua,this.input=r}static parse(r,l){if(r.length!==2)return l.error("Expected two arguments.");const d=l.parse(r[1],1,vr);return d?new xc(d):l.error("No image name provided.")}evaluate(r){const l=this.input.evaluate(r),d=ga.fromString(l);return d&&r.availableImages&&(d.available=r.availableImages.indexOf(l)>-1),d}eachChild(r){r(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const g1={"to-boolean":ur,"to-color":Vo,"to-number":fn,"to-string":vr};class Ph{constructor(r,l){this.type=r,this.args=l}static parse(r,l){if(r.length<2)return l.error("Expected at least one argument.");const d=r[0];if((d==="to-boolean"||d==="to-string")&&r.length!==2)return l.error("Expected one argument.");const p=g1[d],g=[];for(let v=1;v<r.length;v++){const b=l.parse(r[v],v,gr);if(!b)return null;g.push(b)}return new Ph(p,g)}evaluate(r){if(this.type.kind==="boolean")return!!this.args[0].evaluate(r);if(this.type.kind==="color"){let l,d;for(const p of this.args){if(l=p.evaluate(r),d=null,l instanceof Mi)return l;if(typeof l=="string"){const g=r.parseColor(l);if(g)return g}else if(Array.isArray(l)&&(d=l.length<3||l.length>4?`Invalid rbga value ${JSON.stringify(l)}: expected an array containing either three or four numeric values.`:Zp(l[0],l[1],l[2],l[3]),!d))return new Mi(l[0]/255,l[1]/255,l[2]/255,l[3])}throw new Zi(d||`Could not parse color from value '${typeof l=="string"?l:String(JSON.stringify(l))}'`)}if(this.type.kind==="number"){let l=null;for(const d of this.args){if(l=d.evaluate(r),l===null)return 0;const p=Number(l);if(!isNaN(p))return p}throw new Zi(`Could not convert ${JSON.stringify(l)} to number.`)}return this.type.kind==="formatted"?Wo.fromString(pu(this.args[0].evaluate(r))):this.type.kind==="resolvedImage"?ga.fromString(pu(this.args[0].evaluate(r))):pu(this.args[0].evaluate(r))}eachChild(r){this.args.forEach(r)}outputDefined(){return this.args.every(r=>r.outputDefined())}serialize(){if(this.type.kind==="formatted")return new ws([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new xc(this.args[0]).serialize();const r=[`to-${this.type.kind}`];return this.eachChild(l=>{r.push(l.serialize())}),r}}var bc=Ph;const Ho=["Unknown","Point","LineString","Polygon"];var sd=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Ho[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const s=this.featureDistanceData.center,r=this.featureDistanceData.scale,{x:l,y:d}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(l*r-s[0])+this.featureDistanceData.bearing[1]*(d*r-s[1])}return 0}parseColor(s){let r=this._parseColorCache[s];return r||(r=this._parseColorCache[s]=Mi.parse(s)),r}};class Es{constructor(r,l,d,p){this.name=r,this.type=l,this._evaluate=d,this.args=p}evaluate(r){return this._evaluate(r,this.args)}eachChild(r){this.args.forEach(r)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(r=>r.serialize()))}static parse(r,l){const d=r[0],p=Es.definitions[d];if(!p)return l.error(`Unknown expression "${d}". If you wanted a literal array, use ["literal", [...]].`,0);const g=Array.isArray(p)?p[0]:p.type,v=Array.isArray(p)?[[p[1],p[2]]]:p.overloads,b=v.filter(([C])=>!Array.isArray(C)||C.length===r.length-1);let T=null;for(const[C,R]of b){T=new Dr(l.registry,l.path,null,l.scope);const F=[];let W=!1;for(let K=1;K<r.length;K++){const Y=r[K],ne=Array.isArray(C)?C[K-1]:C.type,he=T.parse(Y,1+F.length,ne);if(!he){W=!0;break}F.push(he)}if(!W)if(Array.isArray(C)&&C.length!==F.length)T.error(`Expected ${C.length} arguments, but found ${F.length} instead.`);else{for(let K=0;K<F.length;K++){const Y=Array.isArray(C)?C[K]:C.type,ne=F[K];T.concat(K+1).checkSubtype(Y,ne.type)}if(T.errors.length===0)return new Es(d,g,R,F)}}if(b.length===1)l.errors.push(...T.errors);else{const C=(b.length?b:v).map(([F])=>{return W=F,Array.isArray(W)?`(${W.map(di).join(", ")})`:`(${di(W.type)}...)`;var W}).join(" | "),R=[];for(let F=1;F<r.length;F++){const W=l.parse(r[F],1+R.length);if(!W)return null;R.push(di(W.type))}l.error(`Expected arguments of type ${C}, but found (${R.join(", ")}) instead.`)}return null}static register(r,l){Es.definitions=l;for(const d in l)r[d]=Es}}var Ss=Es;class mu{constructor(r,l,d){this.type=Ti,this.locale=d,this.caseSensitive=r,this.diacriticSensitive=l}static parse(r,l){if(r.length!==2)return l.error("Expected one argument.");const d=r[1];if(typeof d!="object"||Array.isArray(d))return l.error("Collator options argument must be an object.");const p=l.parse(d["case-sensitive"]!==void 0&&d["case-sensitive"],1,ur);if(!p)return null;const g=l.parse(d["diacritic-sensitive"]!==void 0&&d["diacritic-sensitive"],1,ur);if(!g)return null;let v=null;return d.locale&&(v=l.parse(d.locale,1,vr),!v)?null:new mu(p,g,v)}evaluate(r){return new Ch(this.caseSensitive.evaluate(r),this.diacriticSensitive.evaluate(r),this.locale?this.locale.evaluate(r):null)}eachChild(r){r(this.caseSensitive),r(this.diacriticSensitive),this.locale&&r(this.locale)}outputDefined(){return!1}serialize(){const r={};return r["case-sensitive"]=this.caseSensitive.serialize(),r["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(r.locale=this.locale.serialize()),["collator",r]}}const Ts=8192;function S(s,r){s[0]=Math.min(s[0],r[0]),s[1]=Math.min(s[1],r[1]),s[2]=Math.max(s[2],r[0]),s[3]=Math.max(s[3],r[1])}function I(s,r){return!(s[0]<=r[0]||s[2]>=r[2]||s[1]<=r[1]||s[3]>=r[3])}function j(s,r){const l=(180+s[0])/360,d=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+s[1]*Math.PI/360)))/360,p=Math.pow(2,r.z);return[Math.round(l*p*Ts),Math.round(d*p*Ts)]}function X(s,r,l){const d=s[0]-r[0],p=s[1]-r[1],g=s[0]-l[0],v=s[1]-l[1];return d*v-g*p==0&&d*g<=0&&p*v<=0}function re(s,r){let l=!1;for(let v=0,b=r.length;v<b;v++){const T=r[v];for(let C=0,R=T.length;C<R-1;C++){if(X(s,T[C],T[C+1]))return!1;(p=T[C])[1]>(d=s)[1]!=(g=T[C+1])[1]>d[1]&&d[0]<(g[0]-p[0])*(d[1]-p[1])/(g[1]-p[1])+p[0]&&(l=!l)}}var d,p,g;return l}function ie(s,r){for(let l=0;l<r.length;l++)if(re(s,r[l]))return!0;return!1}function ue(s,r,l,d){const p=d[0]-l[0],g=d[1]-l[1],v=(s[0]-l[0])*g-p*(s[1]-l[1]),b=(r[0]-l[0])*g-p*(r[1]-l[1]);return v>0&&b<0||v<0&&b>0}function Ge(s,r,l){for(const C of l)for(let R=0;R<C.length-1;++R)if((b=[(v=C[R+1])[0]-(g=C[R])[0],v[1]-g[1]])[0]*(T=[(p=r)[0]-(d=s)[0],p[1]-d[1]])[1]-b[1]*T[0]!=0&&ue(d,p,g,v)&&ue(g,v,d,p))return!0;var d,p,g,v,b,T;return!1}function Me(s,r){for(let l=0;l<s.length;++l)if(!re(s[l],r))return!1;for(let l=0;l<s.length-1;++l)if(Ge(s[l],s[l+1],r))return!1;return!0}function st(s,r){for(let l=0;l<r.length;l++)if(Me(s,r[l]))return!0;return!1}function Ot(s,r,l){const d=[];for(let p=0;p<s.length;p++){const g=[];for(let v=0;v<s[p].length;v++){const b=j(s[p][v],l);S(r,b),g.push(b)}d.push(g)}return d}function Vt(s,r,l){const d=[];for(let p=0;p<s.length;p++){const g=Ot(s[p],r,l);d.push(g)}return d}function Tt(s,r,l,d){if(s[0]<l[0]||s[0]>l[2]){const p=.5*d;let g=s[0]-l[0]>p?-d:l[0]-s[0]>p?d:0;g===0&&(g=s[0]-l[2]>p?-d:l[2]-s[0]>p?d:0),s[0]+=g}S(r,s)}function cn(s,r,l,d){const p=Math.pow(2,d.z)*Ts,g=[d.x*Ts,d.y*Ts],v=[];if(!s)return v;for(const b of s)for(const T of b){const C=[T.x+g[0],T.y+g[1]];Tt(C,r,l,p),v.push(C)}return v}function rr(s,r,l,d){const p=Math.pow(2,d.z)*Ts,g=[d.x*Ts,d.y*Ts],v=[];if(!s)return v;for(const T of s){const C=[];for(const R of T){const F=[R.x+g[0],R.y+g[1]];S(r,F),C.push(F)}v.push(C)}if(r[2]-r[0]<=p/2){(b=r)[0]=b[1]=1/0,b[2]=b[3]=-1/0;for(const T of v)for(const C of T)Tt(C,r,l,p)}var b;return v}class Cr{constructor(r,l){this.type=ur,this.geojson=r,this.geometries=l}static parse(r,l){if(r.length!==2)return l.error(`'within' expression requires exactly one argument, but found ${r.length-1} instead.`);if(hu(r[1])){const d=r[1];if(d.type==="FeatureCollection")for(let p=0;p<d.features.length;++p){const g=d.features[p].geometry.type;if(g==="Polygon"||g==="MultiPolygon")return new Cr(d,d.features[p].geometry)}else if(d.type==="Feature"){const p=d.geometry.type;if(p==="Polygon"||p==="MultiPolygon")return new Cr(d,d.geometry)}else if(d.type==="Polygon"||d.type==="MultiPolygon")return new Cr(d,d)}return l.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(r){if(r.geometry()!=null&&r.canonicalID()!=null){if(r.geometryType()==="Point")return function(l,d){const p=[1/0,1/0,-1/0,-1/0],g=[1/0,1/0,-1/0,-1/0],v=l.canonicalID();if(!v)return!1;if(d.type==="Polygon"){const b=Ot(d.coordinates,g,v),T=cn(l.geometry(),p,g,v);if(!I(p,g))return!1;for(const C of T)if(!re(C,b))return!1}if(d.type==="MultiPolygon"){const b=Vt(d.coordinates,g,v),T=cn(l.geometry(),p,g,v);if(!I(p,g))return!1;for(const C of T)if(!ie(C,b))return!1}return!0}(r,this.geometries);if(r.geometryType()==="LineString")return function(l,d){const p=[1/0,1/0,-1/0,-1/0],g=[1/0,1/0,-1/0,-1/0],v=l.canonicalID();if(!v)return!1;if(d.type==="Polygon"){const b=Ot(d.coordinates,g,v),T=rr(l.geometry(),p,g,v);if(!I(p,g))return!1;for(const C of T)if(!Me(C,b))return!1}if(d.type==="MultiPolygon"){const b=Vt(d.coordinates,g,v),T=rr(l.geometry(),p,g,v);if(!I(p,g))return!1;for(const C of T)if(!st(C,b))return!1}return!0}(r,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var _r=Cr;function Di(s){if(s instanceof Ss&&(s.name==="get"&&s.args.length===1||s.name==="feature-state"||s.name==="has"&&s.args.length===1||s.name==="properties"||s.name==="geometry-type"||s.name==="id"||/^filter-/.test(s.name))||s instanceof _r)return!1;let r=!0;return s.eachChild(l=>{r&&!Di(l)&&(r=!1)}),r}function ri(s){if(s instanceof Ss&&s.name==="feature-state")return!1;let r=!0;return s.eachChild(l=>{r&&!ri(l)&&(r=!1)}),r}function Eo(s,r){if(s instanceof Ss&&r.indexOf(s.name)>=0)return!1;let l=!0;return s.eachChild(d=>{l&&!Eo(d,r)&&(l=!1)}),l}class ia{constructor(r,l){this.type=l.type,this.name=r,this.boundExpression=l}static parse(r,l){if(r.length!==2||typeof r[1]!="string")return l.error("'var' expression requires exactly one string literal argument.");const d=r[1];return l.scope.has(d)?new ia(d,l.scope.get(d)):l.error(`Unknown variable "${d}". Make sure "${d}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(r){return this.boundExpression.evaluate(r)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var kr=ia;class Va{constructor(r,l=[],d,p=new Gp,g=[]){this.registry=r,this.path=l,this.key=l.map(v=>`[${v}]`).join(""),this.scope=p,this.errors=g,this.expectedType=d}parse(r,l,d,p,g={}){return l?this.concat(l,d,p)._parse(r,g):this._parse(r,g)}_parse(r,l){function d(p,g,v){return v==="assert"?new es(g,[p]):v==="coerce"?new bc(g,[p]):p}if(r!==null&&typeof r!="string"&&typeof r!="boolean"&&typeof r!="number"||(r=["literal",r]),Array.isArray(r)){if(r.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const p=r[0];if(typeof p!="string")return this.error(`Expression name must be a string, but found ${typeof p} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const g=this.registry[p];if(g){let v=g.parse(r,this);if(!v)return null;if(this.expectedType){const b=this.expectedType,T=v.type;if(b.kind!=="string"&&b.kind!=="number"&&b.kind!=="boolean"&&b.kind!=="object"&&b.kind!=="array"||T.kind!=="value")if(b.kind!=="color"&&b.kind!=="formatted"&&b.kind!=="resolvedImage"||T.kind!=="value"&&T.kind!=="string"){if(this.checkSubtype(b,T))return null}else v=d(v,b,l.typeAnnotation||"coerce");else v=d(v,b,l.typeAnnotation||"assert")}if(!(v instanceof Ks)&&v.type.kind!=="resolvedImage"&&wi(v)){const b=new sd;try{v=new Ks(v.type,v.evaluate(b))}catch(T){return this.error(T.message),null}}return v}return this.error(`Unknown expression "${p}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(r===void 0?"'undefined' value invalid. Use null instead.":typeof r=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof r} instead.`)}concat(r,l,d){const p=typeof r=="number"?this.path.concat(r):this.path,g=d?this.scope.concat(d):this.scope;return new Va(this.registry,p,l||null,g,this.errors)}error(r,...l){const d=`${this.key}${l.map(p=>`[${p}]`).join("")}`;this.errors.push(new Oo(d,r))}checkSubtype(r,l){const d=Lo(r,l);return d&&this.error(d),d}}var Dr=Va;function wi(s){if(s instanceof kr)return wi(s.boundExpression);if(s instanceof Ss&&s.name==="error"||s instanceof mu||s instanceof _r)return!1;const r=s instanceof bc||s instanceof es;let l=!0;return s.eachChild(d=>{l=r?l&&wi(d):l&&d instanceof Ks}),!!l&&Di(s)&&Eo(s,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function Ys(s,r){const l=s.length-1;let d,p,g=0,v=l,b=0;for(;g<=v;)if(b=Math.floor((g+v)/2),d=s[b],p=s[b+1],d<=r){if(b===l||r<p)return b;g=b+1}else{if(!(d>r))throw new Zi("Input is not a number.");v=b-1}return 0}class wc{constructor(r,l,d){this.type=r,this.input=l,this.labels=[],this.outputs=[];for(const[p,g]of d)this.labels.push(p),this.outputs.push(g)}static parse(r,l){if(r.length-1<4)return l.error(`Expected at least 4 arguments, but found only ${r.length-1}.`);if((r.length-1)%2!=0)return l.error("Expected an even number of arguments.");const d=l.parse(r[1],1,fn);if(!d)return null;const p=[];let g=null;l.expectedType&&l.expectedType.kind!=="value"&&(g=l.expectedType);for(let v=1;v<r.length;v+=2){const b=v===1?-1/0:r[v],T=r[v+1],C=v,R=v+1;if(typeof b!="number")return l.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',C);if(p.length&&p[p.length-1][0]>=b)return l.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',C);const F=l.parse(T,R,g);if(!F)return null;g=g||F.type,p.push([b,F])}return new wc(g,d,p)}evaluate(r){const l=this.labels,d=this.outputs;if(l.length===1)return d[0].evaluate(r);const p=this.input.evaluate(r);if(p<=l[0])return d[0].evaluate(r);const g=l.length;return p>=l[g-1]?d[g-1].evaluate(r):d[Ys(l,p)].evaluate(r)}eachChild(r){r(this.input);for(const l of this.outputs)r(l)}outputDefined(){return this.outputs.every(r=>r.outputDefined())}serialize(){const r=["step",this.input.serialize()];for(let l=0;l<this.labels.length;l++)l>0&&r.push(this.labels[l]),r.push(this.outputs[l].serialize());return r}}var _a=wc;function Sr(s,r,l){return s*(1-l)+r*l}var qo=Object.freeze({__proto__:null,array:function(s,r,l){return s.map((d,p)=>Sr(d,r[p],l))},color:function(s,r,l){return new Mi(Sr(s.r,r.r,l),Sr(s.g,r.g,l),Sr(s.b,r.b,l),Sr(s.a,r.a,l))},number:Sr});const Cs=.95047,ts=1.08883,oa=4/29,ks=6/29,Wa=3*ks*ks,Ps=ks*ks*ks,_1=Math.PI/180,y1=180/Math.PI;function Ih(s){return s>Ps?Math.pow(s,1/3):s/Wa+oa}function Ur(s){return s>ks?s*s*s:Wa*(s-oa)}function Ec(s){return 255*(s<=.0031308?12.92*s:1.055*Math.pow(s,1/2.4)-.055)}function Go(s){return(s/=255)<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4)}function Rl(s){const r=Go(s.r),l=Go(s.g),d=Go(s.b),p=Ih((.4124564*r+.3575761*l+.1804375*d)/Cs),g=Ih((.2126729*r+.7151522*l+.072175*d)/1);return{l:116*g-16,a:500*(p-g),b:200*(g-Ih((.0193339*r+.119192*l+.9503041*d)/ts)),alpha:s.a}}function Xp(s){let r=(s.l+16)/116,l=isNaN(s.a)?r:r+s.a/500,d=isNaN(s.b)?r:r-s.b/200;return r=1*Ur(r),l=Cs*Ur(l),d=ts*Ur(d),new Mi(Ec(3.2404542*l-1.5371385*r-.4985314*d),Ec(-.969266*l+1.8760108*r+.041556*d),Ec(.0556434*l-.2040259*r+1.0572252*d),s.alpha)}function v1(s,r,l){const d=r-s;return s+l*(d>180||d<-180?d-360*Math.round(d/360):d)}const Sc={forward:Rl,reverse:Xp,interpolate:function(s,r,l){return{l:Sr(s.l,r.l,l),a:Sr(s.a,r.a,l),b:Sr(s.b,r.b,l),alpha:Sr(s.alpha,r.alpha,l)}}},ya={forward:function(s){const{l:r,a:l,b:d}=Rl(s),p=Math.atan2(d,l)*y1;return{h:p<0?p+360:p,c:Math.sqrt(l*l+d*d),l:r,alpha:s.a}},reverse:function(s){const r=s.h*_1,l=s.c;return Xp({l:s.l,a:Math.cos(r)*l,b:Math.sin(r)*l,alpha:s.alpha})},interpolate:function(s,r,l){return{h:v1(s.h,r.h,l),c:Sr(s.c,r.c,l),l:Sr(s.l,r.l,l),alpha:Sr(s.alpha,r.alpha,l)}}};var gu=Object.freeze({__proto__:null,hcl:ya,lab:Sc});class va{constructor(r,l,d,p,g){this.type=r,this.operator=l,this.interpolation=d,this.input=p,this.labels=[],this.outputs=[];for(const[v,b]of g)this.labels.push(v),this.outputs.push(b)}static interpolationFactor(r,l,d,p){let g=0;if(r.name==="exponential")g=ld(l,r.base,d,p);else if(r.name==="linear")g=ld(l,1,d,p);else if(r.name==="cubic-bezier"){const v=r.controlPoints;g=new ce(v[0],v[1],v[2],v[3]).solve(ld(l,1,d,p))}return g}static parse(r,l){let[d,p,g,...v]=r;if(!Array.isArray(p)||p.length===0)return l.error("Expected an interpolation type expression.",1);if(p[0]==="linear")p={name:"linear"};else if(p[0]==="exponential"){const C=p[1];if(typeof C!="number")return l.error("Exponential interpolation requires a numeric base.",1,1);p={name:"exponential",base:C}}else{if(p[0]!=="cubic-bezier")return l.error(`Unknown interpolation type ${String(p[0])}`,1,0);{const C=p.slice(1);if(C.length!==4||C.some(R=>typeof R!="number"||R<0||R>1))return l.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);p={name:"cubic-bezier",controlPoints:C}}}if(r.length-1<4)return l.error(`Expected at least 4 arguments, but found only ${r.length-1}.`);if((r.length-1)%2!=0)return l.error("Expected an even number of arguments.");if(g=l.parse(g,2,fn),!g)return null;const b=[];let T=null;d==="interpolate-hcl"||d==="interpolate-lab"?T=Vo:l.expectedType&&l.expectedType.kind!=="value"&&(T=l.expectedType);for(let C=0;C<v.length;C+=2){const R=v[C],F=v[C+1],W=C+3,K=C+4;if(typeof R!="number")return l.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',W);if(b.length&&b[b.length-1][0]>=R)return l.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',W);const Y=l.parse(F,K,T);if(!Y)return null;T=T||Y.type,b.push([R,Y])}return T.kind==="number"||T.kind==="color"||T.kind==="array"&&T.itemType.kind==="number"&&typeof T.N=="number"?new va(T,d,p,g,b):l.error(`Type ${di(T)} is not interpolatable.`)}evaluate(r){const l=this.labels,d=this.outputs;if(l.length===1)return d[0].evaluate(r);const p=this.input.evaluate(r);if(p<=l[0])return d[0].evaluate(r);const g=l.length;if(p>=l[g-1])return d[g-1].evaluate(r);const v=Ys(l,p),b=va.interpolationFactor(this.interpolation,p,l[v],l[v+1]),T=d[v].evaluate(r),C=d[v+1].evaluate(r);return this.operator==="interpolate"?qo[this.type.kind.toLowerCase()](T,C,b):this.operator==="interpolate-hcl"?ya.reverse(ya.interpolate(ya.forward(T),ya.forward(C),b)):Sc.reverse(Sc.interpolate(Sc.forward(T),Sc.forward(C),b))}eachChild(r){r(this.input);for(const l of this.outputs)r(l)}outputDefined(){return this.outputs.every(r=>r.outputDefined())}serialize(){let r;r=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const l=[this.operator,r,this.input.serialize()];for(let d=0;d<this.labels.length;d++)l.push(this.labels[d],this.outputs[d].serialize());return l}}function ld(s,r,l,d){const p=d-l,g=s-l;return p===0?0:r===1?g/p:(Math.pow(r,g)-1)/(Math.pow(r,p)-1)}var aa=va;class Ol{constructor(r,l){this.type=r,this.args=l}static parse(r,l){if(r.length<2)return l.error("Expectected at least one argument.");let d=null;const p=l.expectedType;p&&p.kind!=="value"&&(d=p);const g=[];for(const b of r.slice(1)){const T=l.parse(b,1+g.length,d,void 0,{typeAnnotation:"omit"});if(!T)return null;d=d||T.type,g.push(T)}const v=p&&g.some(b=>Lo(p,b.type));return new Ol(v?gr:d,g)}evaluate(r){let l,d=null,p=0;for(const g of this.args){if(p++,d=g.evaluate(r),d&&d instanceof ga&&!d.available&&(l||(l=d),d=null,p===this.args.length))return l;if(d!==null)break}return d}eachChild(r){this.args.forEach(r)}outputDefined(){return this.args.every(r=>r.outputDefined())}serialize(){const r=["coalesce"];return this.eachChild(l=>{r.push(l.serialize())}),r}}var Tc=Ol;class Cc{constructor(r,l){this.type=l.type,this.bindings=[].concat(r),this.result=l}evaluate(r){return this.result.evaluate(r)}eachChild(r){for(const l of this.bindings)r(l[1]);r(this.result)}static parse(r,l){if(r.length<4)return l.error(`Expected at least 3 arguments, but found ${r.length-1} instead.`);const d=[];for(let g=1;g<r.length-1;g+=2){const v=r[g];if(typeof v!="string")return l.error(`Expected string, but found ${typeof v} instead.`,g);if(/[^a-zA-Z0-9_]/.test(v))return l.error("Variable names must contain only alphanumeric characters or '_'.",g);const b=l.parse(r[g+1],g+1);if(!b)return null;d.push([v,b])}const p=l.parse(r[r.length-1],r.length-1,l.expectedType,d);return p?new Cc(d,p):null}outputDefined(){return this.result.outputDefined()}serialize(){const r=["let"];for(const[l,d]of this.bindings)r.push(l,d.serialize());return r.push(this.result.serialize()),r}}var Kp=Cc;class kc{constructor(r,l,d){this.type=r,this.index=l,this.input=d}static parse(r,l){if(r.length!==3)return l.error(`Expected 2 arguments, but found ${r.length-1} instead.`);const d=l.parse(r[1],1,fn),p=l.parse(r[2],2,ma(l.expectedType||gr));return d&&p?new kc(p.type.itemType,d,p):null}evaluate(r){const l=this.index.evaluate(r),d=this.input.evaluate(r);if(l<0)throw new Zi(`Array index out of bounds: ${l} < 0.`);if(l>=d.length)throw new Zi(`Array index out of bounds: ${l} > ${d.length-1}.`);if(l!==Math.floor(l))throw new Zi(`Array index must be an integer, but found ${l} instead.`);return d[l]}eachChild(r){r(this.index),r(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var Ah=kc;class _u{constructor(r,l){this.type=ur,this.needle=r,this.haystack=l}static parse(r,l){if(r.length!==3)return l.error(`Expected 2 arguments, but found ${r.length-1} instead.`);const d=l.parse(r[1],1,gr),p=l.parse(r[2],2,gr);return d&&p?Al(d.type,[ur,vr,fn,gc,gr])?new _u(d,p):l.error(`Expected first argument to be of type boolean, string, number or null, but found ${di(d.type)} instead`):null}evaluate(r){const l=this.needle.evaluate(r),d=this.haystack.evaluate(r);if(d==null)return!1;if(!cu(l,["boolean","string","number","null"]))throw new Zi(`Expected first argument to be of type boolean, string, number or null, but found ${di(Ci(l))} instead.`);if(!cu(d,["string","array"]))throw new Zi(`Expected second argument to be of type array or string, but found ${di(Ci(d))} instead.`);return d.indexOf(l)>=0}eachChild(r){r(this.needle),r(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var cd=_u;class Ll{constructor(r,l,d){this.type=fn,this.needle=r,this.haystack=l,this.fromIndex=d}static parse(r,l){if(r.length<=2||r.length>=5)return l.error(`Expected 3 or 4 arguments, but found ${r.length-1} instead.`);const d=l.parse(r[1],1,gr),p=l.parse(r[2],2,gr);if(!d||!p)return null;if(!Al(d.type,[ur,vr,fn,gc,gr]))return l.error(`Expected first argument to be of type boolean, string, number or null, but found ${di(d.type)} instead`);if(r.length===4){const g=l.parse(r[3],3,fn);return g?new Ll(d,p,g):null}return new Ll(d,p)}evaluate(r){const l=this.needle.evaluate(r),d=this.haystack.evaluate(r);if(!cu(l,["boolean","string","number","null"]))throw new Zi(`Expected first argument to be of type boolean, string, number or null, but found ${di(Ci(l))} instead.`);if(!cu(d,["string","array"]))throw new Zi(`Expected second argument to be of type array or string, but found ${di(Ci(d))} instead.`);if(this.fromIndex){const p=this.fromIndex.evaluate(r);return d.indexOf(l,p)}return d.indexOf(l)}eachChild(r){r(this.needle),r(this.haystack),this.fromIndex&&r(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const r=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),r]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var Mh=Ll;class De{constructor(r,l,d,p,g,v){this.inputType=r,this.type=l,this.input=d,this.cases=p,this.outputs=g,this.otherwise=v}static parse(r,l){if(r.length<5)return l.error(`Expected at least 4 arguments, but found only ${r.length-1}.`);if(r.length%2!=1)return l.error("Expected an even number of arguments.");let d,p;l.expectedType&&l.expectedType.kind!=="value"&&(p=l.expectedType);const g={},v=[];for(let C=2;C<r.length-1;C+=2){let R=r[C];const F=r[C+1];Array.isArray(R)||(R=[R]);const W=l.concat(C);if(R.length===0)return W.error("Expected at least one branch label.");for(const Y of R){if(typeof Y!="number"&&typeof Y!="string")return W.error("Branch labels must be numbers or strings.");if(typeof Y=="number"&&Math.abs(Y)>Number.MAX_SAFE_INTEGER)return W.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof Y=="number"&&Math.floor(Y)!==Y)return W.error("Numeric branch labels must be integer values.");if(d){if(W.checkSubtype(d,Ci(Y)))return null}else d=Ci(Y);if(g[String(Y)]!==void 0)return W.error("Branch labels must be unique.");g[String(Y)]=v.length}const K=l.parse(F,C,p);if(!K)return null;p=p||K.type,v.push(K)}const b=l.parse(r[1],1,gr);if(!b)return null;const T=l.parse(r[r.length-1],r.length-1,p);return T?b.type.kind!=="value"&&l.concat(1).checkSubtype(d,b.type)?null:new De(d,p,b,g,v,T):null}evaluate(r){const l=this.input.evaluate(r);return(Ci(l)===this.inputType&&this.outputs[this.cases[l]]||this.otherwise).evaluate(r)}eachChild(r){r(this.input),this.outputs.forEach(r),r(this.otherwise)}outputDefined(){return this.outputs.every(r=>r.outputDefined())&&this.otherwise.outputDefined()}serialize(){const r=["match",this.input.serialize()],l=Object.keys(this.cases).sort(),d=[],p={};for(const v of l){const b=p[this.cases[v]];b===void 0?(p[this.cases[v]]=d.length,d.push([this.cases[v],[v]])):d[b][1].push(v)}const g=v=>this.inputType.kind==="number"?Number(v):v;for(const[v,b]of d)r.push(b.length===1?g(b[0]):b.map(g)),r.push(this.outputs[v].serialize());return r.push(this.otherwise.serialize()),r}}var rt=De;class bt{constructor(r,l,d){this.type=r,this.branches=l,this.otherwise=d}static parse(r,l){if(r.length<4)return l.error(`Expected at least 3 arguments, but found only ${r.length-1}.`);if(r.length%2!=0)return l.error("Expected an odd number of arguments.");let d;l.expectedType&&l.expectedType.kind!=="value"&&(d=l.expectedType);const p=[];for(let v=1;v<r.length-1;v+=2){const b=l.parse(r[v],v,ur);if(!b)return null;const T=l.parse(r[v+1],v+1,d);if(!T)return null;p.push([b,T]),d=d||T.type}const g=l.parse(r[r.length-1],r.length-1,d);return g?new bt(d,p,g):null}evaluate(r){for(const[l,d]of this.branches)if(l.evaluate(r))return d.evaluate(r);return this.otherwise.evaluate(r)}eachChild(r){for(const[l,d]of this.branches)r(l),r(d);r(this.otherwise)}outputDefined(){return this.branches.every(([r,l])=>l.outputDefined())&&this.otherwise.outputDefined()}serialize(){const r=["case"];return this.eachChild(l=>{r.push(l.serialize())}),r}}var It=bt;class $t{constructor(r,l,d,p){this.type=r,this.input=l,this.beginIndex=d,this.endIndex=p}static parse(r,l){if(r.length<=2||r.length>=5)return l.error(`Expected 3 or 4 arguments, but found ${r.length-1} instead.`);const d=l.parse(r[1],1,gr),p=l.parse(r[2],2,fn);if(!d||!p)return null;if(!Al(d.type,[ma(gr),vr,gr]))return l.error(`Expected first argument to be of type array or string, but found ${di(d.type)} instead`);if(r.length===4){const g=l.parse(r[3],3,fn);return g?new $t(d.type,d,p,g):null}return new $t(d.type,d,p)}evaluate(r){const l=this.input.evaluate(r),d=this.beginIndex.evaluate(r);if(!cu(l,["string","array"]))throw new Zi(`Expected first argument to be of type array or string, but found ${di(Ci(l))} instead.`);if(this.endIndex){const p=this.endIndex.evaluate(r);return l.slice(d,p)}return l.slice(d)}eachChild(r){r(this.input),r(this.beginIndex),this.endIndex&&r(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const r=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),r]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var xn=$t;function In(s,r){return s==="=="||s==="!="?r.kind==="boolean"||r.kind==="string"||r.kind==="number"||r.kind==="null"||r.kind==="value":r.kind==="string"||r.kind==="number"||r.kind==="value"}function qn(s,r,l,d){return d.compare(r,l)===0}function Cn(s,r,l){const d=s!=="=="&&s!=="!=";return class LR{constructor(g,v,b){this.type=ur,this.lhs=g,this.rhs=v,this.collator=b,this.hasUntypedArgument=g.type.kind==="value"||v.type.kind==="value"}static parse(g,v){if(g.length!==3&&g.length!==4)return v.error("Expected two or three arguments.");const b=g[0];let T=v.parse(g[1],1,gr);if(!T)return null;if(!In(b,T.type))return v.concat(1).error(`"${b}" comparisons are not supported for type '${di(T.type)}'.`);let C=v.parse(g[2],2,gr);if(!C)return null;if(!In(b,C.type))return v.concat(2).error(`"${b}" comparisons are not supported for type '${di(C.type)}'.`);if(T.type.kind!==C.type.kind&&T.type.kind!=="value"&&C.type.kind!=="value")return v.error(`Cannot compare types '${di(T.type)}' and '${di(C.type)}'.`);d&&(T.type.kind==="value"&&C.type.kind!=="value"?T=new es(C.type,[T]):T.type.kind!=="value"&&C.type.kind==="value"&&(C=new es(T.type,[C])));let R=null;if(g.length===4){if(T.type.kind!=="string"&&C.type.kind!=="string"&&T.type.kind!=="value"&&C.type.kind!=="value")return v.error("Cannot use collator to compare non-string types.");if(R=v.parse(g[3],3,Ti),!R)return null}return new LR(T,C,R)}evaluate(g){const v=this.lhs.evaluate(g),b=this.rhs.evaluate(g);if(d&&this.hasUntypedArgument){const T=Ci(v),C=Ci(b);if(T.kind!==C.kind||T.kind!=="string"&&T.kind!=="number")throw new Zi(`Expected arguments for "${s}" to be (string, string) or (number, number), but found (${T.kind}, ${C.kind}) instead.`)}if(this.collator&&!d&&this.hasUntypedArgument){const T=Ci(v),C=Ci(b);if(T.kind!=="string"||C.kind!=="string")return r(g,v,b)}return this.collator?l(g,v,b,this.collator.evaluate(g)):r(g,v,b)}eachChild(g){g(this.lhs),g(this.rhs),this.collator&&g(this.collator)}outputDefined(){return!0}serialize(){const g=[s];return this.eachChild(v=>{g.push(v.serialize())}),g}}}const Pr=Cn("==",function(s,r,l){return r===l},qn),ir=Cn("!=",function(s,r,l){return r!==l},function(s,r,l,d){return!qn(0,r,l,d)}),mr=Cn("<",function(s,r,l){return r<l},function(s,r,l,d){return d.compare(r,l)<0}),Ir=Cn(">",function(s,r,l){return r>l},function(s,r,l,d){return d.compare(r,l)>0}),tr=Cn("<=",function(s,r,l){return r<=l},function(s,r,l,d){return d.compare(r,l)<=0}),ii=Cn(">=",function(s,r,l){return r>=l},function(s,r,l,d){return d.compare(r,l)>=0});class xo{constructor(r,l,d,p,g,v){this.type=vr,this.number=r,this.locale=l,this.currency=d,this.unit=p,this.minFractionDigits=g,this.maxFractionDigits=v}static parse(r,l){if(r.length!==3)return l.error("Expected two arguments.");const d=l.parse(r[1],1,fn);if(!d)return null;const p=r[2];if(typeof p!="object"||Array.isArray(p))return l.error("NumberFormat options argument must be an object.");let g=null;if(p.locale&&(g=l.parse(p.locale,1,vr),!g))return null;let v=null;if(p.currency&&(v=l.parse(p.currency,1,vr),!v))return null;let b=null;if(p.unit&&(b=l.parse(p.unit,1,vr),!b))return null;let T=null;if(p["min-fraction-digits"]&&(T=l.parse(p["min-fraction-digits"],1,fn),!T))return null;let C=null;return p["max-fraction-digits"]&&(C=l.parse(p["max-fraction-digits"],1,fn),!C)?null:new xo(d,g,v,b,T,C)}evaluate(r){return new Intl.NumberFormat(this.locale?this.locale.evaluate(r):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(r):void 0,unit:this.unit?this.unit.evaluate(r):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(r):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(r):void 0}).format(this.number.evaluate(r))}eachChild(r){r(this.number),this.locale&&r(this.locale),this.currency&&r(this.currency),this.unit&&r(this.unit),this.minFractionDigits&&r(this.minFractionDigits),this.maxFractionDigits&&r(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const r={};return this.locale&&(r.locale=this.locale.serialize()),this.currency&&(r.currency=this.currency.serialize()),this.unit&&(r.unit=this.unit.serialize()),this.minFractionDigits&&(r["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(r["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),r]}}class Li{constructor(r){this.type=fn,this.input=r}static parse(r,l){if(r.length!==2)return l.error(`Expected 1 argument, but found ${r.length-1} instead.`);const d=l.parse(r[1],1);return d?d.type.kind!=="array"&&d.type.kind!=="string"&&d.type.kind!=="value"?l.error(`Expected argument of type string or array, but found ${di(d.type)} instead.`):new Li(d):null}evaluate(r){const l=this.input.evaluate(r);if(typeof l=="string"||Array.isArray(l))return l.length;throw new Zi(`Expected value to be of type string or array, but found ${di(Ci(l))} instead.`)}eachChild(r){r(this.input)}outputDefined(){return!1}serialize(){const r=["length"];return this.eachChild(l=>{r.push(l.serialize())}),r}}const sa={"==":Pr,"!=":ir,">":Ir,"<":mr,">=":ii,"<=":tr,array:es,at:Ah,boolean:es,case:It,coalesce:Tc,collator:mu,format:ws,image:xc,in:cd,"index-of":Mh,interpolate:aa,"interpolate-hcl":aa,"interpolate-lab":aa,length:Li,let:Kp,literal:Ks,match:rt,number:es,"number-format":xo,object:es,slice:xn,step:_a,string:es,"to-boolean":bc,"to-color":bc,"to-number":bc,"to-string":bc,var:kr,within:_r};function Ha(s,[r,l,d,p]){r=r.evaluate(s),l=l.evaluate(s),d=d.evaluate(s);const g=p?p.evaluate(s):1,v=Zp(r,l,d,g);if(v)throw new Zi(v);return new Mi(r/255*g,l/255*g,d/255*g,g)}function Zo(s,r){return s in r}function so(s,r){const l=r[s];return l===void 0?null:l}function ns(s){return{type:s}}Ss.register(sa,{error:[{kind:"error"},[vr],(s,[r])=>{throw new Zi(r.evaluate(s))}],typeof:[vr,[gr],(s,[r])=>di(Ci(r.evaluate(s)))],"to-rgba":[ma(fn,4),[Vo],(s,[r])=>r.evaluate(s).toArray()],rgb:[Vo,[fn,fn,fn],Ha],rgba:[Vo,[fn,fn,fn,fn],Ha],has:{type:ur,overloads:[[[vr],(s,[r])=>Zo(r.evaluate(s),s.properties())],[[vr,$a],(s,[r,l])=>Zo(r.evaluate(s),l.evaluate(s))]]},get:{type:gr,overloads:[[[vr],(s,[r])=>so(r.evaluate(s),s.properties())],[[vr,$a],(s,[r,l])=>so(r.evaluate(s),l.evaluate(s))]]},"feature-state":[gr,[vr],(s,[r])=>so(r.evaluate(s),s.featureState||{})],properties:[$a,[],s=>s.properties()],"geometry-type":[vr,[],s=>s.geometryType()],id:[gr,[],s=>s.id()],zoom:[fn,[],s=>s.globals.zoom],pitch:[fn,[],s=>s.globals.pitch||0],"distance-from-center":[fn,[],s=>s.distanceFromCenter()],"heatmap-density":[fn,[],s=>s.globals.heatmapDensity||0],"line-progress":[fn,[],s=>s.globals.lineProgress||0],"sky-radial-progress":[fn,[],s=>s.globals.skyRadialProgress||0],accumulated:[gr,[],s=>s.globals.accumulated===void 0?null:s.globals.accumulated],"+":[fn,ns(fn),(s,r)=>{let l=0;for(const d of r)l+=d.evaluate(s);return l}],"*":[fn,ns(fn),(s,r)=>{let l=1;for(const d of r)l*=d.evaluate(s);return l}],"-":{type:fn,overloads:[[[fn,fn],(s,[r,l])=>r.evaluate(s)-l.evaluate(s)],[[fn],(s,[r])=>-r.evaluate(s)]]},"/":[fn,[fn,fn],(s,[r,l])=>r.evaluate(s)/l.evaluate(s)],"%":[fn,[fn,fn],(s,[r,l])=>r.evaluate(s)%l.evaluate(s)],ln2:[fn,[],()=>Math.LN2],pi:[fn,[],()=>Math.PI],e:[fn,[],()=>Math.E],"^":[fn,[fn,fn],(s,[r,l])=>Math.pow(r.evaluate(s),l.evaluate(s))],sqrt:[fn,[fn],(s,[r])=>Math.sqrt(r.evaluate(s))],log10:[fn,[fn],(s,[r])=>Math.log(r.evaluate(s))/Math.LN10],ln:[fn,[fn],(s,[r])=>Math.log(r.evaluate(s))],log2:[fn,[fn],(s,[r])=>Math.log(r.evaluate(s))/Math.LN2],sin:[fn,[fn],(s,[r])=>Math.sin(r.evaluate(s))],cos:[fn,[fn],(s,[r])=>Math.cos(r.evaluate(s))],tan:[fn,[fn],(s,[r])=>Math.tan(r.evaluate(s))],asin:[fn,[fn],(s,[r])=>Math.asin(r.evaluate(s))],acos:[fn,[fn],(s,[r])=>Math.acos(r.evaluate(s))],atan:[fn,[fn],(s,[r])=>Math.atan(r.evaluate(s))],min:[fn,ns(fn),(s,r)=>Math.min(...r.map(l=>l.evaluate(s)))],max:[fn,ns(fn),(s,r)=>Math.max(...r.map(l=>l.evaluate(s)))],abs:[fn,[fn],(s,[r])=>Math.abs(r.evaluate(s))],round:[fn,[fn],(s,[r])=>{const l=r.evaluate(s);return l<0?-Math.round(-l):Math.round(l)}],floor:[fn,[fn],(s,[r])=>Math.floor(r.evaluate(s))],ceil:[fn,[fn],(s,[r])=>Math.ceil(r.evaluate(s))],"filter-==":[ur,[vr,gr],(s,[r,l])=>s.properties()[r.value]===l.value],"filter-id-==":[ur,[gr],(s,[r])=>s.id()===r.value],"filter-type-==":[ur,[vr],(s,[r])=>s.geometryType()===r.value],"filter-<":[ur,[vr,gr],(s,[r,l])=>{const d=s.properties()[r.value],p=l.value;return typeof d==typeof p&&d<p}],"filter-id-<":[ur,[gr],(s,[r])=>{const l=s.id(),d=r.value;return typeof l==typeof d&&l<d}],"filter->":[ur,[vr,gr],(s,[r,l])=>{const d=s.properties()[r.value],p=l.value;return typeof d==typeof p&&d>p}],"filter-id->":[ur,[gr],(s,[r])=>{const l=s.id(),d=r.value;return typeof l==typeof d&&l>d}],"filter-<=":[ur,[vr,gr],(s,[r,l])=>{const d=s.properties()[r.value],p=l.value;return typeof d==typeof p&&d<=p}],"filter-id-<=":[ur,[gr],(s,[r])=>{const l=s.id(),d=r.value;return typeof l==typeof d&&l<=d}],"filter->=":[ur,[vr,gr],(s,[r,l])=>{const d=s.properties()[r.value],p=l.value;return typeof d==typeof p&&d>=p}],"filter-id->=":[ur,[gr],(s,[r])=>{const l=s.id(),d=r.value;return typeof l==typeof d&&l>=d}],"filter-has":[ur,[gr],(s,[r])=>r.value in s.properties()],"filter-has-id":[ur,[],s=>s.id()!==null&&s.id()!==void 0],"filter-type-in":[ur,[ma(vr)],(s,[r])=>r.value.indexOf(s.geometryType())>=0],"filter-id-in":[ur,[ma(gr)],(s,[r])=>r.value.indexOf(s.id())>=0],"filter-in-small":[ur,[vr,ma(gr)],(s,[r,l])=>l.value.indexOf(s.properties()[r.value])>=0],"filter-in-large":[ur,[vr,ma(gr)],(s,[r,l])=>function(d,p,g,v){for(;g<=v;){const b=g+v>>1;if(p[b]===d)return!0;p[b]>d?v=b-1:g=b+1}return!1}(s.properties()[r.value],l.value,0,l.value.length-1)],all:{type:ur,overloads:[[[ur,ur],(s,[r,l])=>r.evaluate(s)&&l.evaluate(s)],[ns(ur),(s,r)=>{for(const l of r)if(!l.evaluate(s))return!1;return!0}]]},any:{type:ur,overloads:[[[ur,ur],(s,[r,l])=>r.evaluate(s)||l.evaluate(s)],[ns(ur),(s,r)=>{for(const l of r)if(l.evaluate(s))return!0;return!1}]]},"!":[ur,[ur],(s,[r])=>!r.evaluate(s)],"is-supported-script":[ur,[vr],(s,[r])=>{const l=s.globals&&s.globals.isSupportedScript;return!l||l(r.evaluate(s))}],upcase:[vr,[vr],(s,[r])=>r.evaluate(s).toUpperCase()],downcase:[vr,[vr],(s,[r])=>r.evaluate(s).toLowerCase()],concat:[vr,ns(gr),(s,r)=>r.map(l=>pu(l.evaluate(s))).join("")],"resolved-locale":[vr,[Ti],(s,[r])=>r.evaluate(s).resolvedLocale()]});var Dh=sa;function G_(s){return{result:"success",value:s}}function yu(s){return{result:"error",value:s}}function ud(s){return s["property-type"]==="data-driven"}function Yp(s){return!!s.expression&&s.expression.parameters.indexOf("zoom")>-1}function Jp(s){return!!s.expression&&s.expression.interpolated}function Or(s){return s instanceof Number?"number":s instanceof String?"string":s instanceof Boolean?"boolean":Array.isArray(s)?"array":s===null?"null":typeof s}function Rh(s){return typeof s=="object"&&s!==null&&!Array.isArray(s)}function Z_(s){return s}function Qp(s,r){const l=r.type==="color",d=s.stops&&typeof s.stops[0][0]=="object",p=d||!(d||s.property!==void 0),g=s.type||(Jp(r)?"exponential":"interval");if(l&&((s=fa({},s)).stops&&(s.stops=s.stops.map(C=>[C[0],Mi.parse(C[1])])),s.default=Mi.parse(s.default?s.default:r.default)),s.colorSpace&&s.colorSpace!=="rgb"&&!gu[s.colorSpace])throw new Error(`Unknown color space: ${s.colorSpace}`);let v,b,T;if(g==="exponential")v=zl;else if(g==="interval")v=ef;else if(g==="categorical"){v=X_,b=Object.create(null);for(const C of s.stops)b[C[0]]=C[1];T=typeof s.stops[0][0]}else{if(g!=="identity")throw new Error(`Unknown function type "${g}"`);v=K_}if(d){const C={},R=[];for(let K=0;K<s.stops.length;K++){const Y=s.stops[K],ne=Y[0].zoom;C[ne]===void 0&&(C[ne]={zoom:ne,type:s.type,property:s.property,default:s.default,stops:[]},R.push(ne)),C[ne].stops.push([Y[0].value,Y[1]])}const F=[];for(const K of R)F.push([C[K].zoom,Qp(C[K],r)]);const W={name:"linear"};return{kind:"composite",interpolationType:W,interpolationFactor:aa.interpolationFactor.bind(void 0,W),zoomStops:F.map(K=>K[0]),evaluate:({zoom:K},Y)=>zl({stops:F,base:s.base},r,K).evaluate(K,Y)}}if(p){const C=g==="exponential"?{name:"exponential",base:s.base!==void 0?s.base:1}:null;return{kind:"camera",interpolationType:C,interpolationFactor:aa.interpolationFactor.bind(void 0,C),zoomStops:s.stops.map(R=>R[0]),evaluate:({zoom:R})=>v(s,r,R,b,T)}}return{kind:"source",evaluate(C,R){const F=R&&R.properties?R.properties[s.property]:void 0;return F===void 0?dd(s.default,r.default):v(s,r,F,b,T)}}}function dd(s,r,l){return s!==void 0?s:r!==void 0?r:l!==void 0?l:void 0}function X_(s,r,l,d,p){return dd(typeof l===p?d[l]:void 0,s.default,r.default)}function ef(s,r,l){if(Or(l)!=="number")return dd(s.default,r.default);const d=s.stops.length;if(d===1||l<=s.stops[0][0])return s.stops[0][1];if(l>=s.stops[d-1][0])return s.stops[d-1][1];const p=Ys(s.stops.map(g=>g[0]),l);return s.stops[p][1]}function zl(s,r,l){const d=s.base!==void 0?s.base:1;if(Or(l)!=="number")return dd(s.default,r.default);const p=s.stops.length;if(p===1||l<=s.stops[0][0])return s.stops[0][1];if(l>=s.stops[p-1][0])return s.stops[p-1][1];const g=Ys(s.stops.map(R=>R[0]),l),v=function(R,F,W,K){const Y=K-W,ne=R-W;return Y===0?0:F===1?ne/Y:(Math.pow(F,ne)-1)/(Math.pow(F,Y)-1)}(l,d,s.stops[g][0],s.stops[g+1][0]),b=s.stops[g][1],T=s.stops[g+1][1];let C=qo[r.type]||Z_;if(s.colorSpace&&s.colorSpace!=="rgb"){const R=gu[s.colorSpace];C=(F,W)=>R.reverse(R.interpolate(R.forward(F),R.forward(W),v))}return typeof b.evaluate=="function"?{evaluate(...R){const F=b.evaluate.apply(void 0,R),W=T.evaluate.apply(void 0,R);if(F!==void 0&&W!==void 0)return C(F,W,v)}}:C(b,T,v)}function K_(s,r,l){return r.type==="color"?l=Mi.parse(l):r.type==="formatted"?l=Wo.fromString(l.toString()):r.type==="resolvedImage"?l=ga.fromString(l.toString()):Or(l)===r.type||r.type==="enum"&&r.values[l]||(l=void 0),dd(l,s.default,r.default)}class tf{constructor(r,l){this.expression=r,this._warningHistory={},this._evaluator=new sd,this._defaultValue=l?function(d){return d.type==="color"&&(Rh(d.default)||Array.isArray(d.default))?new Mi(0,0,0,0):d.type==="color"?Mi.parse(d.default)||null:d.default===void 0?null:d.default}(l):null,this._enumValues=l&&l.type==="enum"?l.values:null}evaluateWithoutErrorHandling(r,l,d,p,g,v,b,T){return this._evaluator.globals=r,this._evaluator.feature=l,this._evaluator.featureState=d,this._evaluator.canonical=p||null,this._evaluator.availableImages=g||null,this._evaluator.formattedSection=v,this._evaluator.featureTileCoord=b||null,this._evaluator.featureDistanceData=T||null,this.expression.evaluate(this._evaluator)}evaluate(r,l,d,p,g,v,b,T){this._evaluator.globals=r,this._evaluator.feature=l||null,this._evaluator.featureState=d||null,this._evaluator.canonical=p||null,this._evaluator.availableImages=g||null,this._evaluator.formattedSection=v||null,this._evaluator.featureTileCoord=b||null,this._evaluator.featureDistanceData=T||null;try{const C=this.expression.evaluate(this._evaluator);if(C==null||typeof C=="number"&&C!=C)return this._defaultValue;if(this._enumValues&&!(C in this._enumValues))throw new Zi(`Expected value to be one of ${Object.keys(this._enumValues).map(R=>JSON.stringify(R)).join(", ")}, but found ${JSON.stringify(C)} instead.`);return C}catch(C){return this._warningHistory[C.message]||(this._warningHistory[C.message]=!0,typeof console<"u"&&console.warn(C.message)),this._defaultValue}}}function hd(s){return Array.isArray(s)&&s.length>0&&typeof s[0]=="string"&&s[0]in Dh}function pd(s,r){const l=new Dr(Dh,[],r?function(p){const g={color:Vo,string:vr,number:fn,enum:vr,boolean:ur,formatted:_c,resolvedImage:Ua};return p.type==="array"?ma(g[p.value]||gr,p.length):g[p.type]}(r):void 0),d=l.parse(s,void 0,void 0,void 0,r&&r.type==="string"?{typeAnnotation:"coerce"}:void 0);return d?G_(new tf(d,r)):yu(l.errors)}class x1{constructor(r,l){this.kind=r,this._styleExpression=l,this.isStateDependent=r!=="constant"&&!ri(l.expression)}evaluateWithoutErrorHandling(r,l,d,p,g,v){return this._styleExpression.evaluateWithoutErrorHandling(r,l,d,p,g,v)}evaluate(r,l,d,p,g,v){return this._styleExpression.evaluate(r,l,d,p,g,v)}}class Oh{constructor(r,l,d,p){this.kind=r,this.zoomStops=d,this._styleExpression=l,this.isStateDependent=r!=="camera"&&!ri(l.expression),this.interpolationType=p}evaluateWithoutErrorHandling(r,l,d,p,g,v){return this._styleExpression.evaluateWithoutErrorHandling(r,l,d,p,g,v)}evaluate(r,l,d,p,g,v){return this._styleExpression.evaluate(r,l,d,p,g,v)}interpolationFactor(r,l,d){return this.interpolationType?aa.interpolationFactor(this.interpolationType,r,l,d):0}}function Lh(s,r){if((s=pd(s,r)).result==="error")return s;const l=s.value.expression,d=Di(l);if(!d&&!ud(r))return yu([new Oo("","data expressions not supported")]);const p=Eo(l,["zoom","pitch","distance-from-center"]);if(!p&&!Yp(r))return yu([new Oo("","zoom expressions not supported")]);const g=rf(l);return g||p?g instanceof Oo?yu([g]):g instanceof aa&&!Jp(r)?yu([new Oo("",'"interpolate" expressions cannot be used with this property')]):G_(g?new Oh(d?"camera":"composite",s.value,g.labels,g instanceof aa?g.interpolation:void 0):new x1(d?"constant":"source",s.value)):yu([new Oo("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class nf{constructor(r,l){this._parameters=r,this._specification=l,fa(this,Qp(this._parameters,this._specification))}static deserialize(r){return new nf(r._parameters,r._specification)}static serialize(r){return{_parameters:r._parameters,_specification:r._specification}}}function rf(s){let r=null;if(s instanceof Kp)r=rf(s.result);else if(s instanceof Tc){for(const l of s.args)if(r=rf(l),r)break}else(s instanceof _a||s instanceof aa)&&s.input instanceof Ss&&s.input.name==="zoom"&&(r=s);return r instanceof Oo||s.eachChild(l=>{const d=rf(l);d instanceof Oo?r=d:!r&&d?r=new Oo("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):r&&d&&r!==d&&(r=new Oo("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),r}class wn{constructor(r,l,d,p){this.message=(r?`${r}: `:"")+d,p&&(this.identifier=p),l!=null&&l.__line__&&(this.line=l.__line__)}}function Is(s){const r=s.key,l=s.value,d=s.valueSpec||{},p=s.objectElementValidators||{},g=s.style,v=s.styleSpec;let b=[];const T=Or(l);if(T!=="object")return[new wn(r,l,`object expected, ${T} found`)];for(const C in l){const R=C.split(".")[0];let F;p[R]?F=p[R]:d[R]?F=Xo:p["*"]?F=p["*"]:d["*"]&&(F=Xo),F?b=b.concat(F({key:(r&&`${r}.`)+C,value:l[C],valueSpec:d[R]||d["*"],style:g,styleSpec:v,object:l,objectKey:C},l)):b.push(new wn(r,l[C],`unknown property "${C}"`))}for(const C in d)p[C]||d[C].required&&d[C].default===void 0&&l[C]===void 0&&b.push(new wn(r,l,`missing required property "${C}"`));return b}function Y_(s){const r=s.value,l=s.valueSpec,d=s.style,p=s.styleSpec,g=s.key,v=s.arrayElementValidator||Xo;if(Or(r)!=="array")return[new wn(g,r,`array expected, ${Or(r)} found`)];if(l.length&&r.length!==l.length)return[new wn(g,r,`array length ${l.length} expected, length ${r.length} found`)];if(l["min-length"]&&r.length<l["min-length"])return[new wn(g,r,`array length at least ${l["min-length"]} expected, length ${r.length} found`)];let b={type:l.value,values:l.values,minimum:l.minimum,maximum:l.maximum,function:void 0};p.$version<7&&(b.function=l.function),Or(l.value)==="object"&&(b=l.value);let T=[];for(let C=0;C<r.length;C++)T=T.concat(v({array:r,arrayIndex:C,value:r[C],valueSpec:b,style:d,styleSpec:p,key:`${g}[${C}]`}));return T}function zh(s){const r=s.key,l=s.value,d=s.valueSpec;let p=Or(l);if(p==="number"&&l!=l&&(p="NaN"),p!=="number")return[new wn(r,l,`number expected, ${p} found`)];if("minimum"in d){let g=d.minimum;if(Or(d.minimum)==="array"&&(g=d.minimum[s.arrayIndex]),l<g)return[new wn(r,l,`${l} is less than the minimum value ${g}`)]}if("maximum"in d){let g=d.maximum;if(Or(d.maximum)==="array"&&(g=d.maximum[s.arrayIndex]),l>g)return[new wn(r,l,`${l} is greater than the maximum value ${g}`)]}return[]}function Fh(s){const r=s.valueSpec,l=ni(s.value.type);let d,p,g,v={};const b=l!=="categorical"&&s.value.property===void 0,T=!b,C=Or(s.value.stops)==="array"&&Or(s.value.stops[0])==="array"&&Or(s.value.stops[0][0])==="object",R=Is({key:s.key,value:s.value,valueSpec:s.styleSpec.function,style:s.style,styleSpec:s.styleSpec,objectElementValidators:{stops:function(K){if(l==="identity")return[new wn(K.key,K.value,'identity function may not have a "stops" property')];let Y=[];const ne=K.value;return Y=Y.concat(Y_({key:K.key,value:ne,valueSpec:K.valueSpec,style:K.style,styleSpec:K.styleSpec,arrayElementValidator:F})),Or(ne)==="array"&&ne.length===0&&Y.push(new wn(K.key,ne,"array must have at least one stop")),Y},default:function(K){return Xo({key:K.key,value:K.value,valueSpec:r,style:K.style,styleSpec:K.styleSpec})}}});return l==="identity"&&b&&R.push(new wn(s.key,s.value,'missing required property "property"')),l==="identity"||s.value.stops||R.push(new wn(s.key,s.value,'missing required property "stops"')),l==="exponential"&&s.valueSpec.expression&&!Jp(s.valueSpec)&&R.push(new wn(s.key,s.value,"exponential functions not supported")),s.styleSpec.$version>=8&&(T&&!ud(s.valueSpec)?R.push(new wn(s.key,s.value,"property functions not supported")):b&&!Yp(s.valueSpec)&&R.push(new wn(s.key,s.value,"zoom functions not supported"))),l!=="categorical"&&!C||s.value.property!==void 0||R.push(new wn(s.key,s.value,'"property" property is required')),R;function F(K){let Y=[];const ne=K.value,he=K.key;if(Or(ne)!=="array")return[new wn(he,ne,`array expected, ${Or(ne)} found`)];if(ne.length!==2)return[new wn(he,ne,`array length 2 expected, length ${ne.length} found`)];if(C){if(Or(ne[0])!=="object")return[new wn(he,ne,`object expected, ${Or(ne[0])} found`)];if(ne[0].zoom===void 0)return[new wn(he,ne,"object stop key must have zoom")];if(ne[0].value===void 0)return[new wn(he,ne,"object stop key must have value")];const we=ni(ne[0].zoom);if(typeof we!="number")return[new wn(he,ne[0].zoom,"stop zoom values must be numbers")];if(g&&g>we)return[new wn(he,ne[0].zoom,"stop zoom values must appear in ascending order")];we!==g&&(g=we,p=void 0,v={}),Y=Y.concat(Is({key:`${he}[0]`,value:ne[0],valueSpec:{zoom:{}},style:K.style,styleSpec:K.styleSpec,objectElementValidators:{zoom:zh,value:W}}))}else Y=Y.concat(W({key:`${he}[0]`,value:ne[0],valueSpec:{},style:K.style,styleSpec:K.styleSpec},ne));return hd(Gi(ne[1]))?Y.concat([new wn(`${he}[1]`,ne[1],"expressions are not allowed in function stops.")]):Y.concat(Xo({key:`${he}[1]`,value:ne[1],valueSpec:r,style:K.style,styleSpec:K.styleSpec}))}function W(K,Y){const ne=Or(K.value),he=ni(K.value),we=K.value!==null?K.value:Y;if(d){if(ne!==d)return[new wn(K.key,we,`${ne} stop domain type must match previous stop domain type ${d}`)]}else d=ne;if(ne!=="number"&&ne!=="string"&&ne!=="boolean"&&typeof he!="number"&&typeof he!="string"&&typeof he!="boolean")return[new wn(K.key,we,"stop domain value must be a number, string, or boolean")];if(ne!=="number"&&l!=="categorical"){let Ne=`number expected, ${ne} found`;return ud(r)&&l===void 0&&(Ne+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new wn(K.key,we,Ne)]}return l!=="categorical"||ne!=="number"||typeof he=="number"&&isFinite(he)&&Math.floor(he)===he?l!=="categorical"&&ne==="number"&&typeof he=="number"&&typeof p=="number"&&p!==void 0&&he<p?[new wn(K.key,we,"stop domain values must appear in ascending order")]:(p=he,l==="categorical"&&he in v?[new wn(K.key,we,"stop domain values must be unique")]:(v[he]=!0,[])):[new wn(K.key,we,`integer expected, found ${String(he)}`)]}}function So(s){const r=(s.expressionContext==="property"?Lh:pd)(Gi(s.value),s.valueSpec);if(r.result==="error")return r.value.map(d=>new wn(`${s.key}${d.key}`,s.value,d.message));const l=r.value.expression||r.value._styleExpression.expression;if(s.expressionContext==="property"&&s.propertyKey==="text-font"&&!l.outputDefined())return[new wn(s.key,s.value,`Invalid data expression for "${s.propertyKey}". Output values must be contained as literals within the expression.`)];if(s.expressionContext==="property"&&s.propertyType==="layout"&&!ri(l))return[new wn(s.key,s.value,'"feature-state" data expressions are not supported with layout properties.')];if(s.expressionContext==="filter")return Nh(l,s);if(s.expressionContext&&s.expressionContext.indexOf("cluster")===0){if(!Eo(l,["zoom","feature-state"]))return[new wn(s.key,s.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(s.expressionContext==="cluster-initial"&&!Di(l))return[new wn(s.key,s.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Nh(s,r){const l=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(r.valueSpec&&r.valueSpec.expression)for(const p of r.valueSpec.expression.parameters)l.delete(p);if(l.size===0)return[];const d=[];return s instanceof Ss&&l.has(s.name)?[new wn(r.key,r.value,`["${s.name}"] expression is not supported in a filter for a ${r.object.type} layer with id: ${r.object.id}`)]:(s.eachChild(p=>{d.push(...Nh(p,r))}),d)}function of(s){const r=s.key,l=s.value,d=s.valueSpec,p=[];return Array.isArray(d.values)?d.values.indexOf(ni(l))===-1&&p.push(new wn(r,l,`expected one of [${d.values.join(", ")}], ${JSON.stringify(l)} found`)):Object.keys(d.values).indexOf(ni(l))===-1&&p.push(new wn(r,l,`expected one of [${Object.keys(d.values).join(", ")}], ${JSON.stringify(l)} found`)),p}function b1(s){if(s===!0||s===!1)return!0;if(!Array.isArray(s)||s.length===0)return!1;switch(s[0]){case"has":return s.length>=2&&s[1]!=="$id"&&s[1]!=="$type";case"in":return s.length>=3&&(typeof s[1]!="string"||Array.isArray(s[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return s.length!==3||Array.isArray(s[1])||Array.isArray(s[2]);case"any":case"all":for(const r of s.slice(1))if(!b1(r)&&typeof r!="boolean")return!1;return!0;default:return!0}}function af(s,r="fill"){if(s==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};b1(s)||(s=md(s));const l=s;let d=!0;try{d=function(C){if(!fd(C))return C;let R=Gi(C);return sf(R),R=J_(R),R}(l)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(l,null,2)}
        `)}const p=Pt[`filter_${r}`],g=pd(d,p);let v=null;if(g.result==="error")throw new Error(g.value.map(C=>`${C.key}: ${C.message}`).join(", "));v=(C,R,F)=>g.value.evaluate(C,R,{},F);let b=null,T=null;if(d!==l){const C=pd(l,p);if(C.result==="error")throw new Error(C.value.map(R=>`${R.key}: ${R.message}`).join(", "));b=(R,F,W,K,Y)=>C.value.evaluate(R,F,{},W,void 0,void 0,K,Y),T=!Di(C.value.expression)}return{filter:v,dynamicFilter:b||void 0,needGeometry:Q_(d),needFeature:!!T}}function J_(s){if(!Array.isArray(s))return s;const r=function(l){if(w1.has(l[0])){for(let d=1;d<l.length;d++)if(fd(l[d]))return!0}return l}(s);return r===!0?r:r.map(l=>J_(l))}function sf(s){let r=!1;const l=[];if(s[0]==="case"){for(let d=1;d<s.length-1;d+=2)r=r||fd(s[d]),l.push(s[d+1]);l.push(s[s.length-1])}else if(s[0]==="match"){r=r||fd(s[1]);for(let d=2;d<s.length-1;d+=2)l.push(s[d+1]);l.push(s[s.length-1])}else if(s[0]==="step"){r=r||fd(s[1]);for(let d=1;d<s.length-1;d+=2)l.push(s[d+1])}r&&(s.length=0,s.push("any",...l));for(let d=1;d<s.length;d++)sf(s[d])}function fd(s){if(!Array.isArray(s))return!1;if((r=s[0])==="pitch"||r==="distance-from-center")return!0;var r;for(let l=1;l<s.length;l++)if(fd(s[l]))return!0;return!1}const w1=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function w3(s,r){return s<r?-1:s>r?1:0}function Q_(s){if(!Array.isArray(s))return!1;if(s[0]==="within")return!0;for(let r=1;r<s.length;r++)if(Q_(s[r]))return!0;return!1}function md(s){if(!s)return!0;const r=s[0];return s.length<=1?r!=="any":r==="=="?E1(s[1],s[2],"=="):r==="!="?lf(E1(s[1],s[2],"==")):r==="<"||r===">"||r==="<="||r===">="?E1(s[1],s[2],r):r==="any"?(l=s.slice(1),["any"].concat(l.map(md))):r==="all"?["all"].concat(s.slice(1).map(md)):r==="none"?["all"].concat(s.slice(1).map(md).map(lf)):r==="in"?S1(s[1],s.slice(2)):r==="!in"?lf(S1(s[1],s.slice(2))):r==="has"?T1(s[1]):r==="!has"?lf(T1(s[1])):r!=="within"||s;var l}function E1(s,r,l){switch(s){case"$type":return[`filter-type-${l}`,r];case"$id":return[`filter-id-${l}`,r];default:return[`filter-${l}`,s,r]}}function S1(s,r){if(r.length===0)return!1;switch(s){case"$type":return["filter-type-in",["literal",r]];case"$id":return["filter-id-in",["literal",r]];default:return r.length>200&&!r.some(l=>typeof l!=typeof r[0])?["filter-in-large",s,["literal",r.sort(w3)]]:["filter-in-small",s,["literal",r]]}}function T1(s){switch(s){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",s]}}function lf(s){return["!",s]}function Bh(s){return b1(Gi(s.value))?So(fa({},s,{expressionContext:"filter",valueSpec:s.styleSpec[`filter_${s.layerType||"fill"}`]})):jh(s)}function jh(s){const r=s.value,l=s.key;if(Or(r)!=="array")return[new wn(l,r,`array expected, ${Or(r)} found`)];const d=s.styleSpec;let p,g=[];if(r.length<1)return[new wn(l,r,"filter array must have at least 1 element")];switch(g=g.concat(of({key:`${l}[0]`,value:r[0],valueSpec:d.filter_operator,style:s.style,styleSpec:s.styleSpec})),ni(r[0])){case"<":case"<=":case">":case">=":r.length>=2&&ni(r[1])==="$type"&&g.push(new wn(l,r,`"$type" cannot be use with operator "${r[0]}"`));case"==":case"!=":r.length!==3&&g.push(new wn(l,r,`filter array for operator "${r[0]}" must have 3 elements`));case"in":case"!in":r.length>=2&&(p=Or(r[1]),p!=="string"&&g.push(new wn(`${l}[1]`,r[1],`string expected, ${p} found`)));for(let v=2;v<r.length;v++)p=Or(r[v]),ni(r[1])==="$type"?g=g.concat(of({key:`${l}[${v}]`,value:r[v],valueSpec:d.geometry_type,style:s.style,styleSpec:s.styleSpec})):p!=="string"&&p!=="number"&&p!=="boolean"&&g.push(new wn(`${l}[${v}]`,r[v],`string, number, or boolean expected, ${p} found`));break;case"any":case"all":case"none":for(let v=1;v<r.length;v++)g=g.concat(jh({key:`${l}[${v}]`,value:r[v],style:s.style,styleSpec:s.styleSpec}));break;case"has":case"!has":p=Or(r[1]),r.length!==2?g.push(new wn(l,r,`filter array for "${r[0]}" operator must have 2 elements`)):p!=="string"&&g.push(new wn(`${l}[1]`,r[1],`string expected, ${p} found`));break;case"within":p=Or(r[1]),r.length!==2?g.push(new wn(l,r,`filter array for "${r[0]}" operator must have 2 elements`)):p!=="object"&&g.push(new wn(`${l}[1]`,r[1],`object expected, ${p} found`))}return g}function C1(s,r){const l=s.key,d=s.style,p=s.styleSpec,g=s.value,v=s.objectKey,b=p[`${r}_${s.layerType}`];if(!b)return[];const T=v.match(/^(.*)-transition$/);if(r==="paint"&&T&&b[T[1]]&&b[T[1]].transition)return Xo({key:l,value:g,valueSpec:p.transition,style:d,styleSpec:p});const C=s.valueSpec||b[v];if(!C)return[new wn(l,g,`unknown property "${v}"`)];let R;if(Or(g)==="string"&&ud(C)&&!C.tokens&&(R=/^{([^}]+)}$/.exec(g))){const W=`\`{ "type": "identity", "property": ${R?JSON.stringify(R[1]):'"_"'} }\``;return[new wn(l,g,`"${v}" does not support interpolation syntax
Use an identity property function instead: ${W}.`)]}const F=[];return s.layerType==="symbol"&&(v==="text-field"&&d&&!d.glyphs&&F.push(new wn(l,g,'use of "text-field" requires a style "glyphs" property')),v==="text-font"&&Rh(Gi(g))&&ni(g.type)==="identity"&&F.push(new wn(l,g,'"text-font" does not support identity functions'))),F.concat(Xo({key:s.key,value:g,valueSpec:C,style:d,styleSpec:p,expressionContext:"property",propertyType:r,propertyKey:v}))}function ey(s){return C1(s,"paint")}function k1(s){return C1(s,"layout")}function ty(s){let r=[];const l=s.value,d=s.key,p=s.style,g=s.styleSpec;l.type||l.ref||r.push(new wn(d,l,'either "type" or "ref" is required'));let v=ni(l.type);const b=ni(l.ref);if(l.id){const T=ni(l.id);for(let C=0;C<s.arrayIndex;C++){const R=p.layers[C];ni(R.id)===T&&r.push(new wn(d,l.id,`duplicate layer id "${l.id}", previously used at line ${R.id.__line__}`))}}if("ref"in l){let T;["type","source","source-layer","filter","layout"].forEach(C=>{C in l&&r.push(new wn(d,l[C],`"${C}" is prohibited for ref layers`))}),p.layers.forEach(C=>{ni(C.id)===b&&(T=C)}),T?T.ref?r.push(new wn(d,l.ref,"ref cannot reference another ref layer")):v=ni(T.type):typeof b=="string"&&r.push(new wn(d,l.ref,`ref layer "${b}" not found`))}else if(v!=="background"&&v!=="sky")if(l.source){const T=p.sources&&p.sources[l.source],C=T&&ni(T.type);T?C==="vector"&&v==="raster"?r.push(new wn(d,l.source,`layer "${l.id}" requires a raster source`)):C==="raster"&&v!=="raster"?r.push(new wn(d,l.source,`layer "${l.id}" requires a vector source`)):C!=="vector"||l["source-layer"]?C==="raster-dem"&&v!=="hillshade"?r.push(new wn(d,l.source,"raster-dem source can only be used with layer type 'hillshade'.")):v!=="line"||!l.paint||!l.paint["line-gradient"]&&!l.paint["line-trim-offset"]||C==="geojson"&&T.lineMetrics||r.push(new wn(d,l,`layer "${l.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):r.push(new wn(d,l,`layer "${l.id}" must specify a "source-layer"`)):r.push(new wn(d,l.source,`source "${l.source}" not found`))}else r.push(new wn(d,l,'missing required property "source"'));return r=r.concat(Is({key:d,value:l,valueSpec:g.layer,style:s.style,styleSpec:s.styleSpec,objectElementValidators:{"*":()=>[],type:()=>Xo({key:`${d}.type`,value:l.type,valueSpec:g.layer.type,style:s.style,styleSpec:s.styleSpec,object:l,objectKey:"type"}),filter:T=>Bh(fa({layerType:v},T)),layout:T=>Is({layer:l,key:T.key,value:T.value,valueSpec:{},style:T.style,styleSpec:T.styleSpec,objectElementValidators:{"*":C=>k1(fa({layerType:v},C))}}),paint:T=>Is({layer:l,key:T.key,value:T.value,valueSpec:{},style:T.style,styleSpec:T.styleSpec,objectElementValidators:{"*":C=>ey(fa({layerType:v},C))}})}})),r}function Pc(s){const r=s.value,l=s.key,d=Or(r);return d!=="string"?[new wn(l,r,`string expected, ${d} found`)]:[]}const ny={promoteId:function({key:s,value:r}){if(Or(r)==="string")return Pc({key:s,value:r});{const l=[];for(const d in r)l.push(...Pc({key:`${s}.${d}`,value:r[d]}));return l}}};function ry(s){const r=s.value,l=s.key,d=s.styleSpec,p=s.style;if(!r.type)return[new wn(l,r,'"type" is required')];const g=ni(r.type);let v;switch(g){case"vector":case"raster":case"raster-dem":return v=Is({key:l,value:r,valueSpec:d[`source_${g.replace("-","_")}`],style:s.style,styleSpec:d,objectElementValidators:ny}),v;case"geojson":if(v=Is({key:l,value:r,valueSpec:d.source_geojson,style:p,styleSpec:d,objectElementValidators:ny}),r.cluster)for(const b in r.clusterProperties){const[T,C]=r.clusterProperties[b],R=typeof T=="string"?[T,["accumulated"],["get",b]]:T;v.push(...So({key:`${l}.${b}.map`,value:C,expressionContext:"cluster-map"})),v.push(...So({key:`${l}.${b}.reduce`,value:R,expressionContext:"cluster-reduce"}))}return v;case"video":return Is({key:l,value:r,valueSpec:d.source_video,style:p,styleSpec:d});case"image":return Is({key:l,value:r,valueSpec:d.source_image,style:p,styleSpec:d});case"canvas":return[new wn(l,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return of({key:`${l}.type`,value:r.type,valueSpec:{values:E3(d)},style:p,styleSpec:d})}}function E3(s){return s.source.reduce((r,l)=>{const d=s[l];return d.type.type==="enum"&&(r=r.concat(Object.keys(d.type.values))),r},[])}function iy(s){const r=s.value,l=s.styleSpec,d=l.light,p=s.style;let g=[];const v=Or(r);if(r===void 0)return g;if(v!=="object")return g=g.concat([new wn("light",r,`object expected, ${v} found`)]),g;for(const b in r){const T=b.match(/^(.*)-transition$/);g=g.concat(T&&d[T[1]]&&d[T[1]].transition?Xo({key:b,value:r[b],valueSpec:l.transition,style:p,styleSpec:l}):d[b]?Xo({key:b,value:r[b],valueSpec:d[b],style:p,styleSpec:l}):[new wn(b,r[b],`unknown property "${b}"`)])}return g}function P1(s){const r=s.value,l=s.key,d=s.style,p=s.styleSpec,g=p.terrain;let v=[];const b=Or(r);if(r===void 0)return v;if(b!=="object")return v=v.concat([new wn("terrain",r,`object expected, ${b} found`)]),v;for(const T in r){const C=T.match(/^(.*)-transition$/);v=v.concat(C&&g[C[1]]&&g[C[1]].transition?Xo({key:T,value:r[T],valueSpec:p.transition,style:d,styleSpec:p}):g[T]?Xo({key:T,value:r[T],valueSpec:g[T],style:d,styleSpec:p}):[new wn(T,r[T],`unknown property "${T}"`)])}if(r.source){const T=d.sources&&d.sources[r.source],C=T&&ni(T.type);T?C!=="raster-dem"&&v.push(new wn(l,r.source,`terrain cannot be used with a source of type ${String(C)}, it only be used with a "raster-dem" source type`)):v.push(new wn(l,r.source,`source "${r.source}" not found`))}else v.push(new wn(l,r,'terrain is missing required property "source"'));return v}function oy(s){const r=s.value,l=s.style,d=s.styleSpec,p=d.fog;let g=[];const v=Or(r);if(r===void 0)return g;if(v!=="object")return g=g.concat([new wn("fog",r,`object expected, ${v} found`)]),g;for(const b in r){const T=b.match(/^(.*)-transition$/);g=g.concat(T&&p[T[1]]&&p[T[1]].transition?Xo({key:b,value:r[b],valueSpec:d.transition,style:l,styleSpec:d}):p[b]?Xo({key:b,value:r[b],valueSpec:p[b],style:l,styleSpec:d}):[new wn(b,r[b],`unknown property "${b}"`)])}return g}const ay={"*":()=>[],array:Y_,boolean:function(s){const r=s.value,l=s.key,d=Or(r);return d!=="boolean"?[new wn(l,r,`boolean expected, ${d} found`)]:[]},number:zh,color:function(s){const r=s.key,l=s.value,d=Or(l);return d!=="string"?[new wn(r,l,`color expected, ${d} found`)]:Ml(l)===null?[new wn(r,l,`color expected, "${l}" found`)]:[]},enum:of,filter:Bh,function:Fh,layer:ty,object:Is,source:ry,light:iy,terrain:P1,fog:oy,string:Pc,formatted:function(s){return Pc(s).length===0?[]:So(s)},resolvedImage:function(s){return Pc(s).length===0?[]:So(s)},projection:function(s){const r=s.value,l=s.styleSpec,d=l.projection,p=s.style;let g=[];const v=Or(r);if(v==="object")for(const b in r)g=g.concat(Xo({key:b,value:r[b],valueSpec:d[b],style:p,styleSpec:l}));else v!=="string"&&(g=g.concat([new wn("projection",r,`object or string expected, ${v} found`)]));return g}};function Xo(s){const r=s.value,l=s.valueSpec,d=s.styleSpec;return l.expression&&Rh(ni(r))?Fh(s):l.expression&&hd(Gi(r))?So(s):l.type&&ay[l.type]?ay[l.type](s):Is(fa({},s,{valueSpec:l.type?d[l.type]:l}))}function S3(s){const r=s.value,l=s.key,d=Pc(s);return d.length||(r.indexOf("{fontstack}")===-1&&d.push(new wn(l,r,'"glyphs" url must include a "{fontstack}" token')),r.indexOf("{range}")===-1&&d.push(new wn(l,r,'"glyphs" url must include a "{range}" token'))),d}function sy(s,r=Pt){return rs(Xo({key:"",value:s,valueSpec:r.$root,styleSpec:r,style:s,objectElementValidators:{glyphs:S3,"*":()=>[]}}))}const T3=s=>rs(ey(s)),C3=s=>rs(k1(s));function rs(s){return s.slice().sort((r,l)=>r.line&&l.line?r.line-l.line:0)}function ly(s,r){let l=!1;if(r&&r.length)for(const d of r)s.fire(new ja(new Error(d.message))),l=!0;return l}var k3=Js,As=3;function Js(s,r,l){var d=this.cells=[];if(s instanceof ArrayBuffer){this.arrayBuffer=s;var p=new Int32Array(this.arrayBuffer);s=p[0],this.d=(r=p[1])+2*(l=p[2]);for(var g=0;g<this.d*this.d;g++){var v=p[As+g],b=p[As+g+1];d.push(v===b?null:p.subarray(v,b))}var T=p[As+d.length+1];this.keys=p.subarray(p[As+d.length],T),this.bboxes=p.subarray(T),this.insert=this._insertReadonly}else{this.d=r+2*l;for(var C=0;C<this.d*this.d;C++)d.push([]);this.keys=[],this.bboxes=[]}this.n=r,this.extent=s,this.padding=l,this.scale=r/s,this.uid=0;var R=l/r*s;this.min=-R,this.max=s+R}Js.prototype.insert=function(s,r,l,d,p){this._forEachCell(r,l,d,p,this._insertCell,this.uid++),this.keys.push(s),this.bboxes.push(r),this.bboxes.push(l),this.bboxes.push(d),this.bboxes.push(p)},Js.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Js.prototype._insertCell=function(s,r,l,d,p,g){this.cells[p].push(g)},Js.prototype.query=function(s,r,l,d,p){var g=this.min,v=this.max;if(s<=g&&r<=g&&v<=l&&v<=d&&!p)return Array.prototype.slice.call(this.keys);var b=[];return this._forEachCell(s,r,l,d,this._queryCell,b,{},p),b},Js.prototype._queryCell=function(s,r,l,d,p,g,v,b){var T=this.cells[p];if(T!==null)for(var C=this.keys,R=this.bboxes,F=0;F<T.length;F++){var W=T[F];if(v[W]===void 0){var K=4*W;(b?b(R[K+0],R[K+1],R[K+2],R[K+3]):s<=R[K+2]&&r<=R[K+3]&&l>=R[K+0]&&d>=R[K+1])?(v[W]=!0,g.push(C[W])):v[W]=!1}}},Js.prototype._forEachCell=function(s,r,l,d,p,g,v,b){for(var T=this._convertToCellCoord(s),C=this._convertToCellCoord(r),R=this._convertToCellCoord(l),F=this._convertToCellCoord(d),W=T;W<=R;W++)for(var K=C;K<=F;K++){var Y=this.d*K+W;if((!b||b(this._convertFromCellCoord(W),this._convertFromCellCoord(K),this._convertFromCellCoord(W+1),this._convertFromCellCoord(K+1)))&&p.call(this,s,r,l,d,Y,g,v,b))return}},Js.prototype._convertFromCellCoord=function(s){return(s-this.padding)/this.scale},Js.prototype._convertToCellCoord=function(s){return Math.max(0,Math.min(this.d-1,Math.floor(s*this.scale)+this.padding))},Js.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var s=this.cells,r=As+this.cells.length+1+1,l=0,d=0;d<this.cells.length;d++)l+=this.cells[d].length;var p=new Int32Array(r+l+this.keys.length+this.bboxes.length);p[0]=this.extent,p[1]=this.n,p[2]=this.padding;for(var g=r,v=0;v<s.length;v++){var b=s[v];p[As+v]=g,p.set(b,g),g+=b.length}return p[As+s.length]=g,p.set(this.keys,g),p[As+s.length+1]=g+=this.keys.length,p.set(this.bboxes,g),g+=this.bboxes.length,p.buffer};var vu=Z(k3);const cf={};function Sn(s,r,l={}){Object.defineProperty(s,"_classRegistryKey",{value:r,writeable:!1}),cf[r]={klass:s,omit:l.omit||[]}}Sn(Object,"Object"),vu.serialize=function(s,r){const l=s.toArrayBuffer();return r&&r.push(l),{buffer:l}},vu.deserialize=function(s){return new vu(s.buffer)},Object.defineProperty(vu,"name",{value:"Grid"}),Sn(vu,"Grid"),Sn(Mi,"Color"),Sn(Error,"Error"),Sn(er,"AJAXError"),Sn(ga,"ResolvedImage"),Sn(nf,"StylePropertyFunction"),Sn(tf,"StyleExpression",{omit:["_evaluator"]}),Sn(Oh,"ZoomDependentExpression"),Sn(x1,"ZoomConstantExpression"),Sn(Ss,"CompoundExpression",{omit:["_evaluate"]});for(const s in Dh)cf[Dh[s]._classRegistryKey]||Sn(Dh[s],`Expression${s}`);function I1(s){return s&&typeof ArrayBuffer<"u"&&(s instanceof ArrayBuffer||s.constructor&&s.constructor.name==="ArrayBuffer")}function A1(s){return y.ImageBitmap&&s instanceof y.ImageBitmap}function gd(s,r){if(s==null||typeof s=="boolean"||typeof s=="number"||typeof s=="string"||s instanceof Boolean||s instanceof Number||s instanceof String||s instanceof Date||s instanceof RegExp)return s;if(I1(s)||A1(s))return r&&r.push(s),s;if(ArrayBuffer.isView(s)){const l=s;return r&&r.push(l.buffer),l}if(s instanceof y.ImageData)return r&&r.push(s.data.buffer),s;if(Array.isArray(s)){const l=[];for(const d of s)l.push(gd(d,r));return l}if(typeof s=="object"){const l=s.constructor,d=l._classRegistryKey;if(!d)throw new Error(`can't serialize object of unregistered class ${d}`);const p=l.serialize?l.serialize(s,r):{};if(!l.serialize){for(const g in s)s.hasOwnProperty(g)&&(cf[d].omit.indexOf(g)>=0||(p[g]=gd(s[g],r)));s instanceof Error&&(p.message=s.message)}if(p.$name)throw new Error("$name property is reserved for worker serialization logic.");return d!=="Object"&&(p.$name=d),p}throw new Error("can't serialize object of type "+typeof s)}function xu(s){if(s==null||typeof s=="boolean"||typeof s=="number"||typeof s=="string"||s instanceof Boolean||s instanceof Number||s instanceof String||s instanceof Date||s instanceof RegExp||I1(s)||A1(s)||ArrayBuffer.isView(s)||s instanceof y.ImageData)return s;if(Array.isArray(s))return s.map(xu);if(typeof s=="object"){const r=s.$name||"Object",{klass:l}=cf[r];if(!l)throw new Error(`can't deserialize unregistered class ${r}`);if(l.deserialize)return l.deserialize(s);const d=Object.create(l.prototype);for(const p of Object.keys(s))p!=="$name"&&(d[p]=xu(s[p]));return d}throw new Error("can't deserialize object of type "+typeof s)}const yn={"Latin-1 Supplement":s=>s>=128&&s<=255,Arabic:s=>s>=1536&&s<=1791,"Arabic Supplement":s=>s>=1872&&s<=1919,"Arabic Extended-A":s=>s>=2208&&s<=2303,"Hangul Jamo":s=>s>=4352&&s<=4607,"Unified Canadian Aboriginal Syllabics":s=>s>=5120&&s<=5759,Khmer:s=>s>=6016&&s<=6143,"Unified Canadian Aboriginal Syllabics Extended":s=>s>=6320&&s<=6399,"General Punctuation":s=>s>=8192&&s<=8303,"Letterlike Symbols":s=>s>=8448&&s<=8527,"Number Forms":s=>s>=8528&&s<=8591,"Miscellaneous Technical":s=>s>=8960&&s<=9215,"Control Pictures":s=>s>=9216&&s<=9279,"Optical Character Recognition":s=>s>=9280&&s<=9311,"Enclosed Alphanumerics":s=>s>=9312&&s<=9471,"Geometric Shapes":s=>s>=9632&&s<=9727,"Miscellaneous Symbols":s=>s>=9728&&s<=9983,"Miscellaneous Symbols and Arrows":s=>s>=11008&&s<=11263,"CJK Radicals Supplement":s=>s>=11904&&s<=12031,"Kangxi Radicals":s=>s>=12032&&s<=12255,"Ideographic Description Characters":s=>s>=12272&&s<=12287,"CJK Symbols and Punctuation":s=>s>=12288&&s<=12351,Hiragana:s=>s>=12352&&s<=12447,Katakana:s=>s>=12448&&s<=12543,Bopomofo:s=>s>=12544&&s<=12591,"Hangul Compatibility Jamo":s=>s>=12592&&s<=12687,Kanbun:s=>s>=12688&&s<=12703,"Bopomofo Extended":s=>s>=12704&&s<=12735,"CJK Strokes":s=>s>=12736&&s<=12783,"Katakana Phonetic Extensions":s=>s>=12784&&s<=12799,"Enclosed CJK Letters and Months":s=>s>=12800&&s<=13055,"CJK Compatibility":s=>s>=13056&&s<=13311,"CJK Unified Ideographs Extension A":s=>s>=13312&&s<=19903,"Yijing Hexagram Symbols":s=>s>=19904&&s<=19967,"CJK Unified Ideographs":s=>s>=19968&&s<=40959,"Yi Syllables":s=>s>=40960&&s<=42127,"Yi Radicals":s=>s>=42128&&s<=42191,"Hangul Jamo Extended-A":s=>s>=43360&&s<=43391,"Hangul Syllables":s=>s>=44032&&s<=55215,"Hangul Jamo Extended-B":s=>s>=55216&&s<=55295,"Private Use Area":s=>s>=57344&&s<=63743,"CJK Compatibility Ideographs":s=>s>=63744&&s<=64255,"Arabic Presentation Forms-A":s=>s>=64336&&s<=65023,"Vertical Forms":s=>s>=65040&&s<=65055,"CJK Compatibility Forms":s=>s>=65072&&s<=65103,"Small Form Variants":s=>s>=65104&&s<=65135,"Arabic Presentation Forms-B":s=>s>=65136&&s<=65279,"Halfwidth and Fullwidth Forms":s=>s>=65280&&s<=65519};function M1(s){for(const r of s)if(D1(r.charCodeAt(0)))return!0;return!1}function P3(s){for(const r of s)if(!cy(r.charCodeAt(0)))return!1;return!0}function cy(s){return!(yn.Arabic(s)||yn["Arabic Supplement"](s)||yn["Arabic Extended-A"](s)||yn["Arabic Presentation Forms-A"](s)||yn["Arabic Presentation Forms-B"](s))}function D1(s){return!(s!==746&&s!==747&&(s<4352||!(yn["Bopomofo Extended"](s)||yn.Bopomofo(s)||yn["CJK Compatibility Forms"](s)&&!(s>=65097&&s<=65103)||yn["CJK Compatibility Ideographs"](s)||yn["CJK Compatibility"](s)||yn["CJK Radicals Supplement"](s)||yn["CJK Strokes"](s)||!(!yn["CJK Symbols and Punctuation"](s)||s>=12296&&s<=12305||s>=12308&&s<=12319||s===12336)||yn["CJK Unified Ideographs Extension A"](s)||yn["CJK Unified Ideographs"](s)||yn["Enclosed CJK Letters and Months"](s)||yn["Hangul Compatibility Jamo"](s)||yn["Hangul Jamo Extended-A"](s)||yn["Hangul Jamo Extended-B"](s)||yn["Hangul Jamo"](s)||yn["Hangul Syllables"](s)||yn.Hiragana(s)||yn["Ideographic Description Characters"](s)||yn.Kanbun(s)||yn["Kangxi Radicals"](s)||yn["Katakana Phonetic Extensions"](s)||yn.Katakana(s)&&s!==12540||!(!yn["Halfwidth and Fullwidth Forms"](s)||s===65288||s===65289||s===65293||s>=65306&&s<=65310||s===65339||s===65341||s===65343||s>=65371&&s<=65503||s===65507||s>=65512&&s<=65519)||!(!yn["Small Form Variants"](s)||s>=65112&&s<=65118||s>=65123&&s<=65126)||yn["Unified Canadian Aboriginal Syllabics"](s)||yn["Unified Canadian Aboriginal Syllabics Extended"](s)||yn["Vertical Forms"](s)||yn["Yijing Hexagram Symbols"](s)||yn["Yi Syllables"](s)||yn["Yi Radicals"](s))))}function uy(s){return!(D1(s)||function(r){return!!(yn["Latin-1 Supplement"](r)&&(r===167||r===169||r===174||r===177||r===188||r===189||r===190||r===215||r===247)||yn["General Punctuation"](r)&&(r===8214||r===8224||r===8225||r===8240||r===8241||r===8251||r===8252||r===8258||r===8263||r===8264||r===8265||r===8273)||yn["Letterlike Symbols"](r)||yn["Number Forms"](r)||yn["Miscellaneous Technical"](r)&&(r>=8960&&r<=8967||r>=8972&&r<=8991||r>=8996&&r<=9e3||r===9003||r>=9085&&r<=9114||r>=9150&&r<=9165||r===9167||r>=9169&&r<=9179||r>=9186&&r<=9215)||yn["Control Pictures"](r)&&r!==9251||yn["Optical Character Recognition"](r)||yn["Enclosed Alphanumerics"](r)||yn["Geometric Shapes"](r)||yn["Miscellaneous Symbols"](r)&&!(r>=9754&&r<=9759)||yn["Miscellaneous Symbols and Arrows"](r)&&(r>=11026&&r<=11055||r>=11088&&r<=11097||r>=11192&&r<=11243)||yn["CJK Symbols and Punctuation"](r)||yn.Katakana(r)||yn["Private Use Area"](r)||yn["CJK Compatibility Forms"](r)||yn["Small Form Variants"](r)||yn["Halfwidth and Fullwidth Forms"](r)||r===8734||r===8756||r===8757||r>=9984&&r<=10087||r>=10102&&r<=10131||r===65532||r===65533)}(s))}function dy(s){return s>=1424&&s<=2303||yn["Arabic Presentation Forms-A"](s)||yn["Arabic Presentation Forms-B"](s)}function I3(s,r){return!(!r&&dy(s)||s>=2304&&s<=3583||s>=3840&&s<=4255||yn.Khmer(s))}function A3(s){for(const r of s)if(dy(r.charCodeAt(0)))return!0;return!1}const R1="deferred",O1="loading",L1="loaded";let _d=null,m="unavailable",c=null;const h=function(s){s&&typeof s=="string"&&s.indexOf("NetworkError")>-1&&(m="error"),_d&&_d(s)};function _(){x.fire(new Ba("pluginStateChange",{pluginStatus:m,pluginURL:c}))}const x=new Il,E=function(){return m},P=function(){if(m!==R1||!c)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");m=O1,_(),c&&mi({url:c},s=>{s?h(s):(m=L1,_())})},D={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>m===L1||D.applyArabicShaping!=null,isLoading:()=>m===O1,setState(s){m=s.pluginStatus,c=s.pluginURL},isParsed:()=>D.applyArabicShaping!=null&&D.processBidirectionalText!=null&&D.processStyledBidirectionalText!=null,getPluginURL:()=>c};class L{constructor(r,l){this.zoom=r,l?(this.now=l.now,this.fadeDuration=l.fadeDuration,this.transition=l.transition,this.pitch=l.pitch):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0)}isSupportedScript(r){return function(l,d){for(const p of l)if(!I3(p.charCodeAt(0),d))return!1;return!0}(r,D.isLoaded())}}class q{constructor(r,l){this.property=r,this.value=l,this.expression=function(d,p){if(Rh(d))return new nf(d,p);if(hd(d)){const g=Lh(d,p);if(g.result==="error")throw new Error(g.value.map(v=>`${v.key}: ${v.message}`).join(", "));return g.value}{let g=d;return typeof d=="string"&&p.type==="color"&&(g=Mi.parse(d)),{kind:"constant",evaluate:()=>g}}}(l===void 0?r.specification.default:l,r.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(r,l,d){return this.property.possiblyEvaluate(this,r,l,d)}}class H{constructor(r){this.property=r,this.value=new q(r,void 0)}transitioned(r,l){return new de(this.property,this.value,l,ct({},r.transition,this.transition),r.now)}untransitioned(){return new de(this.property,this.value,null,{},0)}}class ee{constructor(r){this._properties=r,this._values=Object.create(r.defaultTransitionablePropertyValues)}getValue(r){return an(this._values[r].value.value)}setValue(r,l){this._values.hasOwnProperty(r)||(this._values[r]=new H(this._values[r].property)),this._values[r].value=new q(this._values[r].property,l===null?void 0:an(l))}getTransition(r){return an(this._values[r].transition)}setTransition(r,l){this._values.hasOwnProperty(r)||(this._values[r]=new H(this._values[r].property)),this._values[r].transition=an(l)||void 0}serialize(){const r={};for(const l of Object.keys(this._values)){const d=this.getValue(l);d!==void 0&&(r[l]=d);const p=this.getTransition(l);p!==void 0&&(r[`${l}-transition`]=p)}return r}transitioned(r,l){const d=new fe(this._properties);for(const p of Object.keys(this._values))d._values[p]=this._values[p].transitioned(r,l._values[p]);return d}untransitioned(){const r=new fe(this._properties);for(const l of Object.keys(this._values))r._values[l]=this._values[l].untransitioned();return r}}class de{constructor(r,l,d,p,g){const v=p.delay||0,b=p.duration||0;g=g||0,this.property=r,this.value=l,this.begin=g+v,this.end=this.begin+b,r.specification.transition&&(p.delay||p.duration)&&(this.prior=d)}possiblyEvaluate(r,l,d){const p=r.now||0,g=this.value.possiblyEvaluate(r,l,d),v=this.prior;if(v){if(p>this.end)return this.prior=null,g;if(this.value.isDataDriven())return this.prior=null,g;if(p<this.begin)return v.possiblyEvaluate(r,l,d);{const b=(p-this.begin)/(this.end-this.begin);return this.property.interpolate(v.possiblyEvaluate(r,l,d),g,Oe(b))}}return g}}class fe{constructor(r){this._properties=r,this._values=Object.create(r.defaultTransitioningPropertyValues)}possiblyEvaluate(r,l,d){const p=new be(this._properties);for(const g of Object.keys(this._values))p._values[g]=this._values[g].possiblyEvaluate(r,l,d);return p}hasTransition(){for(const r of Object.keys(this._values))if(this._values[r].prior)return!0;return!1}}class ye{constructor(r){this._properties=r,this._values=Object.create(r.defaultPropertyValues)}getValue(r){return an(this._values[r].value)}setValue(r,l){this._values[r]=new q(this._values[r].property,l===null?void 0:an(l))}serialize(){const r={};for(const l of Object.keys(this._values)){const d=this.getValue(l);d!==void 0&&(r[l]=d)}return r}possiblyEvaluate(r,l,d){const p=new be(this._properties);for(const g of Object.keys(this._values))p._values[g]=this._values[g].possiblyEvaluate(r,l,d);return p}}class ge{constructor(r,l,d){this.property=r,this.value=l,this.parameters=d}isConstant(){return this.value.kind==="constant"}constantOr(r){return this.value.kind==="constant"?this.value.value:r}evaluate(r,l,d,p){return this.property.evaluate(this.value,this.parameters,r,l,d,p)}}class be{constructor(r){this._properties=r,this._values=Object.create(r.defaultPossiblyEvaluatedValues)}get(r){return this._values[r]}}class te{constructor(r){this.specification=r}possiblyEvaluate(r,l){return r.expression.evaluate(l)}interpolate(r,l,d){const p=qo[this.specification.type];return p?p(r,l,d):r}}class pe{constructor(r,l){this.specification=r,this.overrides=l}possiblyEvaluate(r,l,d,p){return new ge(this,r.expression.kind==="constant"||r.expression.kind==="camera"?{kind:"constant",value:r.expression.evaluate(l,null,{},d,p)}:r.expression,l)}interpolate(r,l,d){if(r.value.kind!=="constant"||l.value.kind!=="constant")return r;if(r.value.value===void 0||l.value.value===void 0)return new ge(this,{kind:"constant",value:void 0},r.parameters);const p=qo[this.specification.type];return p?new ge(this,{kind:"constant",value:p(r.value.value,l.value.value,d)},r.parameters):r}evaluate(r,l,d,p,g,v){return r.kind==="constant"?r.value:r.evaluate(l,d,p,g,v)}}class Te{constructor(r){this.specification=r}possiblyEvaluate(r,l,d,p){return!!r.expression.evaluate(l,null,{},d,p)}interpolate(){return!1}}class Ie{constructor(r){this.properties=r,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const l=new L(0,{});for(const d in r){const p=r[d];p.specification.overridable&&this.overridableProperties.push(d);const g=this.defaultPropertyValues[d]=new q(p,void 0),v=this.defaultTransitionablePropertyValues[d]=new H(p);this.defaultTransitioningPropertyValues[d]=v.untransitioned(),this.defaultPossiblyEvaluatedValues[d]=g.possiblyEvaluate(l)}}}function Ze(s,r){return 256*(s=ze(Math.floor(s),0,255))+ze(Math.floor(r),0,255)}Sn(pe,"DataDrivenProperty"),Sn(te,"DataConstantProperty"),Sn(Te,"ColorRampProperty");const Ke={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Xe{constructor(r,l){this._structArray=r,this._pos1=l*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class at{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(r,l){return r._trim(),l&&(r.isTransferred=!0,l.push(r.arrayBuffer)),{length:r.length,arrayBuffer:r.arrayBuffer}}static deserialize(r){const l=Object.create(this.prototype);return l.arrayBuffer=r.arrayBuffer,l.length=r.length,l.capacity=r.arrayBuffer.byteLength/l.bytesPerElement,l._refreshViews(),l}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(r){this.reserve(r),this.length=r}reserve(r){if(r>this.capacity){this.capacity=Math.max(r,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const l=this.uint8;this._refreshViews(),l&&this.uint8.set(l)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function it(s,r=1){let l=0,d=0;return{members:s.map(p=>{const g=Ke[p.type].BYTES_PER_ELEMENT,v=l=gt(l,Math.max(r,g)),b=p.components||1;return d=Math.max(d,g),l+=g*b,{name:p.name,type:p.type,components:b,offset:v}}),size:gt(l,Math.max(d,r)),alignment:r}}function gt(s,r){return Math.ceil(s/r)*r}class Kt extends at{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,l){const d=this.length;return this.resize(d+1),this.emplace(d,r,l)}emplace(r,l,d){const p=2*r;return this.int16[p+0]=l,this.int16[p+1]=d,r}}Kt.prototype.bytesPerElement=4,Sn(Kt,"StructArrayLayout2i4");class dt extends at{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,l,d){const p=this.length;return this.resize(p+1),this.emplace(p,r,l,d)}emplace(r,l,d,p){const g=3*r;return this.int16[g+0]=l,this.int16[g+1]=d,this.int16[g+2]=p,r}}dt.prototype.bytesPerElement=6,Sn(dt,"StructArrayLayout3i6");class Ft extends at{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,l,d,p){const g=this.length;return this.resize(g+1),this.emplace(g,r,l,d,p)}emplace(r,l,d,p,g){const v=4*r;return this.int16[v+0]=l,this.int16[v+1]=d,this.int16[v+2]=p,this.int16[v+3]=g,r}}Ft.prototype.bytesPerElement=8,Sn(Ft,"StructArrayLayout4i8");class wt extends at{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,l,d,p,g,v,b){const T=this.length;return this.resize(T+1),this.emplace(T,r,l,d,p,g,v,b)}emplace(r,l,d,p,g,v,b,T){const C=6*r,R=12*r,F=3*r;return this.int16[C+0]=l,this.int16[C+1]=d,this.uint8[R+4]=p,this.uint8[R+5]=g,this.uint8[R+6]=v,this.uint8[R+7]=b,this.float32[F+2]=T,r}}wt.prototype.bytesPerElement=12,Sn(wt,"StructArrayLayout2i4ub1f12");class Xt extends at{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,l,d,p){const g=this.length;return this.resize(g+1),this.emplace(g,r,l,d,p)}emplace(r,l,d,p,g){const v=4*r;return this.float32[v+0]=l,this.float32[v+1]=d,this.float32[v+2]=p,this.float32[v+3]=g,r}}Xt.prototype.bytesPerElement=16,Sn(Xt,"StructArrayLayout4f16");class mt extends at{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,l,d,p,g){const v=this.length;return this.resize(v+1),this.emplace(v,r,l,d,p,g)}emplace(r,l,d,p,g,v){const b=6*r,T=3*r;return this.uint16[b+0]=l,this.uint16[b+1]=d,this.uint16[b+2]=p,this.uint16[b+3]=g,this.float32[T+2]=v,r}}mt.prototype.bytesPerElement=12,Sn(mt,"StructArrayLayout4ui1f12");class zt extends at{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,l,d,p){const g=this.length;return this.resize(g+1),this.emplace(g,r,l,d,p)}emplace(r,l,d,p,g){const v=4*r;return this.uint16[v+0]=l,this.uint16[v+1]=d,this.uint16[v+2]=p,this.uint16[v+3]=g,r}}zt.prototype.bytesPerElement=8,Sn(zt,"StructArrayLayout4ui8");class Jt extends at{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,l,d,p,g,v){const b=this.length;return this.resize(b+1),this.emplace(b,r,l,d,p,g,v)}emplace(r,l,d,p,g,v,b){const T=6*r;return this.int16[T+0]=l,this.int16[T+1]=d,this.int16[T+2]=p,this.int16[T+3]=g,this.int16[T+4]=v,this.int16[T+5]=b,r}}Jt.prototype.bytesPerElement=12,Sn(Jt,"StructArrayLayout6i12");class Wt extends at{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,l,d,p,g,v,b,T,C,R,F,W){const K=this.length;return this.resize(K+1),this.emplace(K,r,l,d,p,g,v,b,T,C,R,F,W)}emplace(r,l,d,p,g,v,b,T,C,R,F,W,K){const Y=12*r;return this.int16[Y+0]=l,this.int16[Y+1]=d,this.int16[Y+2]=p,this.int16[Y+3]=g,this.uint16[Y+4]=v,this.uint16[Y+5]=b,this.uint16[Y+6]=T,this.uint16[Y+7]=C,this.int16[Y+8]=R,this.int16[Y+9]=F,this.int16[Y+10]=W,this.int16[Y+11]=K,r}}Wt.prototype.bytesPerElement=24,Sn(Wt,"StructArrayLayout4i4ui4i24");class tn extends at{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,l,d,p,g,v){const b=this.length;return this.resize(b+1),this.emplace(b,r,l,d,p,g,v)}emplace(r,l,d,p,g,v,b){const T=10*r,C=5*r;return this.int16[T+0]=l,this.int16[T+1]=d,this.int16[T+2]=p,this.float32[C+2]=g,this.float32[C+3]=v,this.float32[C+4]=b,r}}tn.prototype.bytesPerElement=20,Sn(tn,"StructArrayLayout3i3f20");class Un extends at{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(r){const l=this.length;return this.resize(l+1),this.emplace(l,r)}emplace(r,l){return this.uint32[1*r+0]=l,r}}Un.prototype.bytesPerElement=4,Sn(Un,"StructArrayLayout1ul4");class nr extends at{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,l,d,p,g,v,b,T,C,R,F,W,K){const Y=this.length;return this.resize(Y+1),this.emplace(Y,r,l,d,p,g,v,b,T,C,R,F,W,K)}emplace(r,l,d,p,g,v,b,T,C,R,F,W,K,Y){const ne=20*r,he=10*r;return this.int16[ne+0]=l,this.int16[ne+1]=d,this.int16[ne+2]=p,this.int16[ne+3]=g,this.int16[ne+4]=v,this.float32[he+3]=b,this.float32[he+4]=T,this.float32[he+5]=C,this.float32[he+6]=R,this.int16[ne+14]=F,this.uint32[he+8]=W,this.uint16[ne+18]=K,this.uint16[ne+19]=Y,r}}nr.prototype.bytesPerElement=40,Sn(nr,"StructArrayLayout5i4f1i1ul2ui40");class kn extends at{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,l,d,p,g,v,b){const T=this.length;return this.resize(T+1),this.emplace(T,r,l,d,p,g,v,b)}emplace(r,l,d,p,g,v,b,T){const C=8*r;return this.int16[C+0]=l,this.int16[C+1]=d,this.int16[C+2]=p,this.int16[C+4]=g,this.int16[C+5]=v,this.int16[C+6]=b,this.int16[C+7]=T,r}}kn.prototype.bytesPerElement=16,Sn(kn,"StructArrayLayout3i2i2i16");class Zn extends at{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,l,d,p,g){const v=this.length;return this.resize(v+1),this.emplace(v,r,l,d,p,g)}emplace(r,l,d,p,g,v){const b=4*r,T=8*r;return this.float32[b+0]=l,this.float32[b+1]=d,this.float32[b+2]=p,this.int16[T+6]=g,this.int16[T+7]=v,r}}Zn.prototype.bytesPerElement=16,Sn(Zn,"StructArrayLayout2f1f2i16");class Tr extends at{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,l,d,p){const g=this.length;return this.resize(g+1),this.emplace(g,r,l,d,p)}emplace(r,l,d,p,g){const v=12*r,b=3*r;return this.uint8[v+0]=l,this.uint8[v+1]=d,this.float32[b+1]=p,this.float32[b+2]=g,r}}Tr.prototype.bytesPerElement=12,Sn(Tr,"StructArrayLayout2ub2f12");class xr extends at{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,l,d){const p=this.length;return this.resize(p+1),this.emplace(p,r,l,d)}emplace(r,l,d,p){const g=3*r;return this.float32[g+0]=l,this.float32[g+1]=d,this.float32[g+2]=p,r}}xr.prototype.bytesPerElement=12,Sn(xr,"StructArrayLayout3f12");class Ln extends at{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,l,d){const p=this.length;return this.resize(p+1),this.emplace(p,r,l,d)}emplace(r,l,d,p){const g=3*r;return this.uint16[g+0]=l,this.uint16[g+1]=d,this.uint16[g+2]=p,r}}Ln.prototype.bytesPerElement=6,Sn(Ln,"StructArrayLayout3ui6");class jr extends at{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(r,l,d,p,g,v,b,T,C,R,F,W,K,Y,ne,he,we,Ne,Ee,Le,We){const Ve=this.length;return this.resize(Ve+1),this.emplace(Ve,r,l,d,p,g,v,b,T,C,R,F,W,K,Y,ne,he,we,Ne,Ee,Le,We)}emplace(r,l,d,p,g,v,b,T,C,R,F,W,K,Y,ne,he,we,Ne,Ee,Le,We,Ve){const _t=30*r,ht=15*r,Mt=60*r;return this.int16[_t+0]=l,this.int16[_t+1]=d,this.int16[_t+2]=p,this.float32[ht+2]=g,this.float32[ht+3]=v,this.uint16[_t+8]=b,this.uint16[_t+9]=T,this.uint32[ht+5]=C,this.uint32[ht+6]=R,this.uint32[ht+7]=F,this.uint16[_t+16]=W,this.uint16[_t+17]=K,this.uint16[_t+18]=Y,this.float32[ht+10]=ne,this.float32[ht+11]=he,this.uint8[Mt+48]=we,this.uint8[Mt+49]=Ne,this.uint8[Mt+50]=Ee,this.uint32[ht+13]=Le,this.int16[_t+28]=We,this.uint8[Mt+58]=Ve,r}}jr.prototype.bytesPerElement=60,Sn(jr,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class qr extends at{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(r,l,d,p,g,v,b,T,C,R,F,W,K,Y,ne,he,we,Ne,Ee,Le,We,Ve,_t,ht,Mt,Yt,Et,Nt,Bt,Ht){const nn=this.length;return this.resize(nn+1),this.emplace(nn,r,l,d,p,g,v,b,T,C,R,F,W,K,Y,ne,he,we,Ne,Ee,Le,We,Ve,_t,ht,Mt,Yt,Et,Nt,Bt,Ht)}emplace(r,l,d,p,g,v,b,T,C,R,F,W,K,Y,ne,he,we,Ne,Ee,Le,We,Ve,_t,ht,Mt,Yt,Et,Nt,Bt,Ht,nn){const At=38*r,mn=19*r;return this.int16[At+0]=l,this.int16[At+1]=d,this.int16[At+2]=p,this.float32[mn+2]=g,this.float32[mn+3]=v,this.int16[At+8]=b,this.int16[At+9]=T,this.int16[At+10]=C,this.int16[At+11]=R,this.int16[At+12]=F,this.int16[At+13]=W,this.uint16[At+14]=K,this.uint16[At+15]=Y,this.uint16[At+16]=ne,this.uint16[At+17]=he,this.uint16[At+18]=we,this.uint16[At+19]=Ne,this.uint16[At+20]=Ee,this.uint16[At+21]=Le,this.uint16[At+22]=We,this.uint16[At+23]=Ve,this.uint16[At+24]=_t,this.uint16[At+25]=ht,this.uint16[At+26]=Mt,this.uint16[At+27]=Yt,this.uint16[At+28]=Et,this.uint32[mn+15]=Nt,this.float32[mn+16]=Bt,this.float32[mn+17]=Ht,this.float32[mn+18]=nn,r}}qr.prototype.bytesPerElement=76,Sn(qr,"StructArrayLayout3i2f6i15ui1ul3f76");class Gr extends at{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r){const l=this.length;return this.resize(l+1),this.emplace(l,r)}emplace(r,l){return this.float32[1*r+0]=l,r}}Gr.prototype.bytesPerElement=4,Sn(Gr,"StructArrayLayout1f4");class Zr extends at{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,l,d,p,g){const v=this.length;return this.resize(v+1),this.emplace(v,r,l,d,p,g)}emplace(r,l,d,p,g,v){const b=5*r;return this.float32[b+0]=l,this.float32[b+1]=d,this.float32[b+2]=p,this.float32[b+3]=g,this.float32[b+4]=v,r}}Zr.prototype.bytesPerElement=20,Sn(Zr,"StructArrayLayout5f20");class Ko extends at{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,l,d,p){const g=this.length;return this.resize(g+1),this.emplace(g,r,l,d,p)}emplace(r,l,d,p,g){const v=6*r;return this.uint32[3*r+0]=l,this.uint16[v+2]=d,this.uint16[v+3]=p,this.uint16[v+4]=g,r}}Ko.prototype.bytesPerElement=12,Sn(Ko,"StructArrayLayout1ul3ui12");class To extends at{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,l){const d=this.length;return this.resize(d+1),this.emplace(d,r,l)}emplace(r,l,d){const p=2*r;return this.uint16[p+0]=l,this.uint16[p+1]=d,r}}To.prototype.bytesPerElement=4,Sn(To,"StructArrayLayout2ui4");class is extends at{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r){const l=this.length;return this.resize(l+1),this.emplace(l,r)}emplace(r,l){return this.uint16[1*r+0]=l,r}}is.prototype.bytesPerElement=2,Sn(is,"StructArrayLayout1ui2");class Qs extends at{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,l){const d=this.length;return this.resize(d+1),this.emplace(d,r,l)}emplace(r,l,d){const p=2*r;return this.float32[p+0]=l,this.float32[p+1]=d,r}}Qs.prototype.bytesPerElement=8,Sn(Qs,"StructArrayLayout2f8");class Ei extends Xe{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}Ei.prototype.size=40;class Xr extends nr{get(r){return new Ei(this,r)}}Sn(Xr,"CollisionBoxArray");class zr extends Xe{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(r){this._structArray.uint8[this._pos1+49]=r}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(r){this._structArray.uint8[this._pos1+50]=r}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(r){this._structArray.uint32[this._pos4+13]=r}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(r){this._structArray.uint8[this._pos1+58]=r}}zr.prototype.size=60;class Xi extends jr{get(r){return new zr(this,r)}}Sn(Xi,"PlacedSymbolArray");class la extends Xe{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(r){this._structArray.uint32[this._pos4+15]=r}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}la.prototype.size=76;class gi extends qr{get(r){return new la(this,r)}}Sn(gi,"SymbolInstanceArray");class xa extends Gr{getoffsetX(r){return this.float32[1*r+0]}}Sn(xa,"GlyphOffsetArray");class uf extends Kt{getx(r){return this.int16[2*r+0]}gety(r){return this.int16[2*r+1]}}Sn(uf,"SymbolLineVertexArray");class bu extends Xe{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}bu.prototype.size=12;class $h extends Ko{get(r){return new bu(this,r)}}Sn($h,"FeatureIndexArray");class Fl extends To{geta_centroid_pos0(r){return this.uint16[2*r+0]}geta_centroid_pos1(r){return this.uint16[2*r+1]}}Sn(Fl,"FillExtrusionCentroidArray");const Ic=it([{name:"a_pattern",components:4,type:"Uint16"},{name:"a_pixel_ratio",components:1,type:"Float32"}]),wu=it([{name:"a_dash",components:4,type:"Uint16"}]);var df={exports:{}},Uh={exports:{}};Uh.exports=function(s,r){var l,d,p,g,v,b,T,C;for(d=s.length-(l=3&s.length),p=r,v=3432918353,b=461845907,C=0;C<d;)T=255&s.charCodeAt(C)|(255&s.charCodeAt(++C))<<8|(255&s.charCodeAt(++C))<<16|(255&s.charCodeAt(++C))<<24,++C,p=27492+(65535&(g=5*(65535&(p=(p^=T=(65535&(T=(T=(65535&T)*v+(((T>>>16)*v&65535)<<16)&4294967295)<<15|T>>>17))*b+(((T>>>16)*b&65535)<<16)&4294967295)<<13|p>>>19))+((5*(p>>>16)&65535)<<16)&4294967295))+((58964+(g>>>16)&65535)<<16);switch(T=0,l){case 3:T^=(255&s.charCodeAt(C+2))<<16;case 2:T^=(255&s.charCodeAt(C+1))<<8;case 1:p^=T=(65535&(T=(T=(65535&(T^=255&s.charCodeAt(C)))*v+(((T>>>16)*v&65535)<<16)&4294967295)<<15|T>>>17))*b+(((T>>>16)*b&65535)<<16)&4294967295}return p^=s.length,p=2246822507*(65535&(p^=p>>>16))+((2246822507*(p>>>16)&65535)<<16)&4294967295,p=3266489909*(65535&(p^=p>>>13))+((3266489909*(p>>>16)&65535)<<16)&4294967295,(p^=p>>>16)>>>0};var z1=Uh.exports,JE={exports:{}};JE.exports=function(s,r){for(var l,d=s.length,p=r^d,g=0;d>=4;)l=1540483477*(65535&(l=255&s.charCodeAt(g)|(255&s.charCodeAt(++g))<<8|(255&s.charCodeAt(++g))<<16|(255&s.charCodeAt(++g))<<24))+((1540483477*(l>>>16)&65535)<<16),p=1540483477*(65535&p)+((1540483477*(p>>>16)&65535)<<16)^(l=1540483477*(65535&(l^=l>>>24))+((1540483477*(l>>>16)&65535)<<16)),d-=4,++g;switch(d){case 3:p^=(255&s.charCodeAt(g+2))<<16;case 2:p^=(255&s.charCodeAt(g+1))<<8;case 1:p=1540483477*(65535&(p^=255&s.charCodeAt(g)))+((1540483477*(p>>>16)&65535)<<16)}return p=1540483477*(65535&(p^=p>>>13))+((1540483477*(p>>>16)&65535)<<16),(p^=p>>>15)>>>0};var QE=z1,WB=JE.exports;df.exports=QE,df.exports.murmur3=QE,df.exports.murmur2=WB;var M3=Z(df.exports);class hy{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(r,l,d,p){this.ids.push(eS(r)),this.positions.push(l,d,p)}getPositions(r){const l=eS(r);let d=0,p=this.ids.length-1;for(;d<p;){const v=d+p>>1;this.ids[v]>=l?p=v:d=v+1}const g=[];for(;this.ids[d]===l;)g.push({index:this.positions[3*d],start:this.positions[3*d+1],end:this.positions[3*d+2]}),d++;return g}static serialize(r,l){const d=new Float64Array(r.ids),p=new Uint32Array(r.positions);return D3(d,p,0,d.length-1),l&&l.push(d.buffer,p.buffer),{ids:d,positions:p}}static deserialize(r){const l=new hy;return l.ids=r.ids,l.positions=r.positions,l.indexed=!0,l}}function eS(s){const r=+s;return!isNaN(r)&&Number.MIN_SAFE_INTEGER<=r&&r<=Number.MAX_SAFE_INTEGER?r:M3(String(s))}function D3(s,r,l,d){for(;l<d;){const p=s[l+d>>1];let g=l-1,v=d+1;for(;;){do g++;while(s[g]<p);do v--;while(s[v]>p);if(g>=v)break;py(s,g,v),py(r,3*g,3*v),py(r,3*g+1,3*v+1),py(r,3*g+2,3*v+2)}v-l<d-v?(D3(s,r,l,v),l=v+1):(D3(s,r,v+1,d),d=v)}}function py(s,r,l){const d=s[r];s[r]=s[l],s[l]=d}Sn(hy,"FeaturePositionMap");class Eu{constructor(r){this.gl=r.gl,this.initialized=!1}fetchUniformLocation(r,l){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(r,l),this.initialized=!0),!!this.location}}class fy extends Eu{constructor(r){super(r),this.current=0}set(r,l,d){this.fetchUniformLocation(r,l)&&this.current!==d&&(this.current=d,this.gl.uniform1f(this.location,d))}}class tS extends Eu{constructor(r){super(r),this.current=[0,0,0,0]}set(r,l,d){this.fetchUniformLocation(r,l)&&(d[0]===this.current[0]&&d[1]===this.current[1]&&d[2]===this.current[2]&&d[3]===this.current[3]||(this.current=d,this.gl.uniform4f(this.location,d[0],d[1],d[2],d[3])))}}class nS extends Eu{constructor(r){super(r),this.current=Mi.transparent}set(r,l,d){this.fetchUniformLocation(r,l)&&(d.r===this.current.r&&d.g===this.current.g&&d.b===this.current.b&&d.a===this.current.a||(this.current=d,this.gl.uniform4f(this.location,d.r,d.g,d.b,d.a)))}}const HB=new Float32Array(16),qB=new Float32Array(9),GB=new Float32Array(4);function R3(s){return[Ze(255*s.r,255*s.g),Ze(255*s.b,255*s.a)]}class F1{constructor(r,l,d){this.value=r,this.uniformNames=l.map(p=>`u_${p}`),this.type=d}setUniform(r,l,d,p,g){l.set(r,g,p.constantOr(this.value))}getBinding(r,l){return this.type==="color"?new nS(r):new fy(r)}}class hf{constructor(r,l){this.uniformNames=l.map(d=>`u_${d}`),this.pattern=null,this.pixelRatio=1}setConstantPatternPositions(r){this.pixelRatio=r.pixelRatio||1,this.pattern=r.tl.concat(r.br)}setUniform(r,l,d,p,g){const v=g==="u_pattern"||g==="u_dash"?this.pattern:g==="u_pixel_ratio"?this.pixelRatio:null;v&&l.set(r,g,v)}getBinding(r,l){return l==="u_pattern"||l==="u_dash"?new tS(r):new fy(r)}}class Su{constructor(r,l,d,p){this.expression=r,this.type=d,this.maxValue=0,this.paintVertexAttributes=l.map(g=>({name:`a_${g}`,type:"Float32",components:d==="color"?2:1,offset:0})),this.paintVertexArray=new p}populatePaintArray(r,l,d,p,g,v){const b=this.paintVertexArray.length,T=this.expression.evaluate(new L(0),l,{},g,p,v);this.paintVertexArray.resize(r),this._setPaintValue(b,r,T)}updatePaintArray(r,l,d,p,g){const v=this.expression.evaluate({zoom:0},d,p,void 0,g);this._setPaintValue(r,l,v)}_setPaintValue(r,l,d){if(this.type==="color"){const p=R3(d);for(let g=r;g<l;g++)this.paintVertexArray.emplace(g,p[0],p[1])}else{for(let p=r;p<l;p++)this.paintVertexArray.emplace(p,d);this.maxValue=Math.max(this.maxValue,Math.abs(d))}}upload(r){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=r.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Nl{constructor(r,l,d,p,g,v){this.expression=r,this.uniformNames=l.map(b=>`u_${b}_t`),this.type=d,this.useIntegerZoom=p,this.zoom=g,this.maxValue=0,this.paintVertexAttributes=l.map(b=>({name:`a_${b}`,type:"Float32",components:d==="color"?4:2,offset:0})),this.paintVertexArray=new v}populatePaintArray(r,l,d,p,g,v){const b=this.expression.evaluate(new L(this.zoom),l,{},g,p,v),T=this.expression.evaluate(new L(this.zoom+1),l,{},g,p,v),C=this.paintVertexArray.length;this.paintVertexArray.resize(r),this._setPaintValue(C,r,b,T)}updatePaintArray(r,l,d,p,g){const v=this.expression.evaluate({zoom:this.zoom},d,p,void 0,g),b=this.expression.evaluate({zoom:this.zoom+1},d,p,void 0,g);this._setPaintValue(r,l,v,b)}_setPaintValue(r,l,d,p){if(this.type==="color"){const g=R3(d),v=R3(p);for(let b=r;b<l;b++)this.paintVertexArray.emplace(b,g[0],g[1],v[0],v[1])}else{for(let g=r;g<l;g++)this.paintVertexArray.emplace(g,d,p);this.maxValue=Math.max(this.maxValue,Math.abs(d),Math.abs(p))}}upload(r){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=r.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(r,l,d,p,g){const v=this.useIntegerZoom?Math.floor(d.zoom):d.zoom,b=ze(this.expression.interpolationFactor(v,this.zoom,this.zoom+1),0,1);l.set(r,g,b)}getBinding(r,l){return new fy(r)}}class yd{constructor(r,l,d,p,g){this.expression=r,this.layerId=g,this.paintVertexAttributes=(d==="array"?wu:Ic).members;for(let v=0;v<l.length;++v);this.paintVertexArray=new p}populatePaintArray(r,l,d){const p=this.paintVertexArray.length;this.paintVertexArray.resize(r),this._setPaintValues(p,r,l.patterns&&l.patterns[this.layerId],d)}updatePaintArray(r,l,d,p,g,v){this._setPaintValues(r,l,d.patterns&&d.patterns[this.layerId],v)}_setPaintValues(r,l,d,p){if(!p||!d)return;const g=p[d];if(!g)return;const{tl:v,br:b,pixelRatio:T}=g;for(let C=r;C<l;C++)this.paintVertexArray.emplace(C,v[0],v[1],b[0],b[1],T)}upload(r){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=r.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class vd{constructor(r,l,d=()=>!0){this.binders={},this._buffers=[];const p=[];for(const g in r.paint._values){if(!d(g))continue;const v=r.paint.get(g);if(!(v instanceof ge&&ud(v.property.specification)))continue;const b=XB(g,r.type),T=v.value,C=v.property.specification.type,R=!!v.property.useIntegerZoom,F=g==="line-dasharray"||g.endsWith("pattern"),W=g==="line-dasharray"&&r.layout.get("line-cap").value.kind!=="constant";if(T.kind!=="constant"||W)if(T.kind==="source"||W||F){const K=rS(g,C,"source");this.binders[g]=F?new yd(T,b,C,K,r.id):new Su(T,b,C,K),p.push(`/a_${g}`)}else{const K=rS(g,C,"composite");this.binders[g]=new Nl(T,b,C,R,l,K),p.push(`/z_${g}`)}else this.binders[g]=F?new hf(T.value,b):new F1(T.value,b,C),p.push(`/u_${g}`)}this.cacheKey=p.sort().join("")}getMaxValue(r){const l=this.binders[r];return l instanceof Su||l instanceof Nl?l.maxValue:0}populatePaintArrays(r,l,d,p,g,v){for(const b in this.binders){const T=this.binders[b];(T instanceof Su||T instanceof Nl||T instanceof yd)&&T.populatePaintArray(r,l,d,p,g,v)}}setConstantPatternPositions(r){for(const l in this.binders){const d=this.binders[l];d instanceof hf&&d.setConstantPatternPositions(r)}}updatePaintArrays(r,l,d,p,g,v){let b=!1;for(const T in r){const C=l.getPositions(T);for(const R of C){const F=d.feature(R.index);for(const W in this.binders){const K=this.binders[W];if((K instanceof Su||K instanceof Nl||K instanceof yd)&&K.expression.isStateDependent===!0){const Y=p.paint.get(W);K.expression=Y.value,K.updatePaintArray(R.start,R.end,F,r[T],g,v),b=!0}}}}return b}defines(){const r=[];for(const l in this.binders){const d=this.binders[l];(d instanceof F1||d instanceof hf)&&r.push(...d.uniformNames.map(p=>`#define HAS_UNIFORM_${p}`))}return r}getBinderAttributes(){const r=[];for(const l in this.binders){const d=this.binders[l];if(d instanceof Su||d instanceof Nl||d instanceof yd)for(let p=0;p<d.paintVertexAttributes.length;p++)r.push(d.paintVertexAttributes[p].name)}return r}getBinderUniforms(){const r=[];for(const l in this.binders){const d=this.binders[l];if(d instanceof F1||d instanceof hf||d instanceof Nl)for(const p of d.uniformNames)r.push(p)}return r}getPaintVertexBuffers(){return this._buffers}getUniforms(r){const l=[];for(const d in this.binders){const p=this.binders[d];if(p instanceof F1||p instanceof hf||p instanceof Nl)for(const g of p.uniformNames)l.push({name:g,property:d,binding:p.getBinding(r,g)})}return l}setUniforms(r,l,d,p,g){for(const{name:v,property:b,binding:T}of d)this.binders[b].setUniform(r,T,g,p.get(b),v)}updatePaintBuffers(){this._buffers=[];for(const r in this.binders){const l=this.binders[r];(l instanceof Su||l instanceof Nl||l instanceof yd)&&l.paintVertexBuffer&&this._buffers.push(l.paintVertexBuffer)}}upload(r){for(const l in this.binders){const d=this.binders[l];(d instanceof Su||d instanceof Nl||d instanceof yd)&&d.upload(r)}this.updatePaintBuffers()}destroy(){for(const r in this.binders){const l=this.binders[r];(l instanceof Su||l instanceof Nl||l instanceof yd)&&l.destroy()}}}class Vh{constructor(r,l,d=()=>!0){this.programConfigurations={};for(const p of r)this.programConfigurations[p.id]=new vd(p,l,d);this.needsUpload=!1,this._featureMap=new hy,this._bufferOffset=0}populatePaintArrays(r,l,d,p,g,v,b){for(const T in this.programConfigurations)this.programConfigurations[T].populatePaintArrays(r,l,p,g,v,b);l.id!==void 0&&this._featureMap.add(l.id,d,this._bufferOffset,r),this._bufferOffset=r,this.needsUpload=!0}updatePaintArrays(r,l,d,p,g){for(const v of d)this.needsUpload=this.programConfigurations[v.id].updatePaintArrays(r,this._featureMap,l,v,p,g)||this.needsUpload}get(r){return this.programConfigurations[r]}upload(r){if(this.needsUpload){for(const l in this.programConfigurations)this.programConfigurations[l].upload(r);this.needsUpload=!1}}destroy(){for(const r in this.programConfigurations)this.programConfigurations[r].destroy()}}const ZB={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern","pixel_ratio"],"fill-pattern":["pattern","pixel_ratio"],"fill-extrusion-pattern":["pattern","pixel_ratio"],"line-dasharray":["dash"]};function XB(s,r){return ZB[s]||[s.replace(`${r}-`,"").replace(/-/g,"_")]}const KB={"line-pattern":{source:mt,composite:mt},"fill-pattern":{source:mt,composite:mt},"fill-extrusion-pattern":{source:mt,composite:mt},"line-dasharray":{source:zt,composite:zt}},YB={color:{source:Qs,composite:Xt},number:{source:Gr,composite:Qs}};function rS(s,r,l){const d=KB[s];return d&&d[l]||YB[r][l]}Sn(F1,"ConstantBinder"),Sn(hf,"PatternConstantBinder"),Sn(Su,"SourceExpressionBinder"),Sn(yd,"PatternCompositeBinder"),Sn(Nl,"CompositeExpressionBinder"),Sn(vd,"ProgramConfiguration",{omit:["_buffers"]}),Sn(Vh,"ProgramConfigurationSet");const iS="-transition";class Bl extends Il{constructor(r,l){if(super(),this.id=r.id,this.type=r.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,r.type!=="custom"&&(this.metadata=r.metadata,this.minzoom=r.minzoom,this.maxzoom=r.maxzoom,r.type!=="background"&&r.type!=="sky"&&(this.source=r.source,this.sourceLayer=r["source-layer"],this.filter=r.filter),l.layout&&(this._unevaluatedLayout=new ye(l.layout)),l.paint)){this._transitionablePaint=new ee(l.paint);for(const d in r.paint)this.setPaintProperty(d,r.paint[d],{validate:!1});for(const d in r.layout)this.setLayoutProperty(d,r.layout[d],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new be(l.paint)}}getLayoutProperty(r){return r==="visibility"?this.visibility:this._unevaluatedLayout.getValue(r)}setLayoutProperty(r,l,d={}){l!=null&&this._validate(C3,`layers.${this.id}.layout.${r}`,r,l,d)||(r!=="visibility"?this._unevaluatedLayout.setValue(r,l):this.visibility=l)}getPaintProperty(r){return Qt(r,iS)?this._transitionablePaint.getTransition(r.slice(0,-11)):this._transitionablePaint.getValue(r)}setPaintProperty(r,l,d={}){if(l!=null&&this._validate(T3,`layers.${this.id}.paint.${r}`,r,l,d))return!1;if(Qt(r,iS))return this._transitionablePaint.setTransition(r.slice(0,-11),l||void 0),!1;{const p=this._transitionablePaint._values[r],g=p.value.isDataDriven(),v=p.value;this._transitionablePaint.setValue(r,l),this._handleSpecialPaintPropertyUpdate(r);const b=this._transitionablePaint._values[r].value,T=b.isDataDriven(),C=Qt(r,"pattern")||r==="line-dasharray";return T||g||C||this._handleOverridablePaintPropertyUpdate(r,v,b)}}_handleSpecialPaintPropertyUpdate(r){}getProgramIds(){return null}getProgramConfiguration(r){return null}_handleOverridablePaintPropertyUpdate(r,l,d){return!1}isHidden(r){return!!(this.minzoom&&r<this.minzoom)||!!(this.maxzoom&&r>=this.maxzoom)||this.visibility==="none"}updateTransitions(r){this._transitioningPaint=this._transitionablePaint.transitioned(r,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(r,l){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(r,void 0,l)),this.paint=this._transitioningPaint.possiblyEvaluate(r,void 0,l)}serialize(){const r={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(r.layout=r.layout||{},r.layout.visibility=this.visibility),qt(r,(l,d)=>!(l===void 0||d==="layout"&&!Object.keys(l).length||d==="paint"&&!Object.keys(l).length))}_validate(r,l,d,p,g={}){return(!g||g.validate!==!1)&&ly(this,r.call(sy,{key:l,layerType:this.type,objectKey:d,value:p,styleSpec:Pt,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const r in this.paint._values){const l=this.paint.get(r);if(l instanceof ge&&ud(l.property.specification)&&(l.value.kind==="source"||l.value.kind==="composite")&&l.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=af(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}const JB=it([{name:"a_pos",components:2,type:"Int16"}],4),QB=it([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class Ki{constructor(r=[]){this.segments=r}prepareSegment(r,l,d,p){let g=this.segments[this.segments.length-1];return r>Ki.MAX_VERTEX_ARRAY_LENGTH&&vt(`Max vertices per segment is ${Ki.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${r}`),(!g||g.vertexLength+r>Ki.MAX_VERTEX_ARRAY_LENGTH||g.sortKey!==p)&&(g={vertexOffset:l.length,primitiveOffset:d.length,vertexLength:0,primitiveLength:0},p!==void 0&&(g.sortKey=p),this.segments.push(g)),g}get(){return this.segments}destroy(){for(const r of this.segments)for(const l in r.vaos)r.vaos[l].destroy()}static simpleSegment(r,l,d,p){return new Ki([{vertexOffset:r,primitiveOffset:l,vertexLength:d,primitiveLength:p,vaos:{},sortKey:0}])}}Ki.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Sn(Ki,"SegmentVector");var Gn=8192;class xd{constructor(r,l){r&&(l?this.setSouthWest(r).setNorthEast(l):r.length===4?this.setSouthWest([r[0],r[1]]).setNorthEast([r[2],r[3]]):this.setSouthWest(r[0]).setNorthEast(r[1]))}setNorthEast(r){return this._ne=r instanceof Kr?new Kr(r.lng,r.lat):Kr.convert(r),this}setSouthWest(r){return this._sw=r instanceof Kr?new Kr(r.lng,r.lat):Kr.convert(r),this}extend(r){const l=this._sw,d=this._ne;let p,g;if(r instanceof Kr)p=r,g=r;else{if(!(r instanceof xd))return Array.isArray(r)?r.length===4||r.every(Array.isArray)?this.extend(xd.convert(r)):this.extend(Kr.convert(r)):typeof r=="object"&&r!==null&&r.hasOwnProperty("lat")&&(r.hasOwnProperty("lon")||r.hasOwnProperty("lng"))?this.extend(Kr.convert(r)):this;if(p=r._sw,g=r._ne,!p||!g)return this}return l||d?(l.lng=Math.min(p.lng,l.lng),l.lat=Math.min(p.lat,l.lat),d.lng=Math.max(g.lng,d.lng),d.lat=Math.max(g.lat,d.lat)):(this._sw=new Kr(p.lng,p.lat),this._ne=new Kr(g.lng,g.lat)),this}getCenter(){return new Kr((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new Kr(this.getWest(),this.getNorth())}getSouthEast(){return new Kr(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(r){const{lng:l,lat:d}=Kr.convert(r);let p=this._sw.lng<=l&&l<=this._ne.lng;return this._sw.lng>this._ne.lng&&(p=this._sw.lng>=l&&l>=this._ne.lng),this._sw.lat<=d&&d<=this._ne.lat&&p}static convert(r){return!r||r instanceof xd?r:new xd(r)}}var my=1e-6,os=typeof Float32Array<"u"?Float32Array:Array;function oS(){var s=new os(9);return os!=Float32Array&&(s[1]=0,s[2]=0,s[3]=0,s[5]=0,s[6]=0,s[7]=0),s[0]=1,s[4]=1,s[8]=1,s}function aS(s,r,l){var d=r[0],p=r[1],g=r[2],v=r[3],b=r[4],T=r[5],C=r[6],R=r[7],F=r[8],W=l[0],K=l[1],Y=l[2],ne=l[3],he=l[4],we=l[5],Ne=l[6],Ee=l[7],Le=l[8];return s[0]=W*d+K*v+Y*C,s[1]=W*p+K*b+Y*R,s[2]=W*g+K*T+Y*F,s[3]=ne*d+he*v+we*C,s[4]=ne*p+he*b+we*R,s[5]=ne*g+he*T+we*F,s[6]=Ne*d+Ee*v+Le*C,s[7]=Ne*p+Ee*b+Le*R,s[8]=Ne*g+Ee*T+Le*F,s}function jl(s){return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}function O3(s,r){var l=r[0],d=r[1],p=r[2],g=r[3],v=r[4],b=r[5],T=r[6],C=r[7],R=r[8],F=r[9],W=r[10],K=r[11],Y=r[12],ne=r[13],he=r[14],we=r[15],Ne=l*b-d*v,Ee=l*T-p*v,Le=l*C-g*v,We=d*T-p*b,Ve=d*C-g*b,_t=p*C-g*T,ht=R*ne-F*Y,Mt=R*he-W*Y,Yt=R*we-K*Y,Et=F*he-W*ne,Nt=F*we-K*ne,Bt=W*we-K*he,Ht=Ne*Bt-Ee*Nt+Le*Et+We*Yt-Ve*Mt+_t*ht;return Ht?(s[0]=(b*Bt-T*Nt+C*Et)*(Ht=1/Ht),s[1]=(p*Nt-d*Bt-g*Et)*Ht,s[2]=(ne*_t-he*Ve+we*We)*Ht,s[3]=(W*Ve-F*_t-K*We)*Ht,s[4]=(T*Yt-v*Bt-C*Mt)*Ht,s[5]=(l*Bt-p*Yt+g*Mt)*Ht,s[6]=(he*Le-Y*_t-we*Ee)*Ht,s[7]=(R*_t-W*Le+K*Ee)*Ht,s[8]=(v*Nt-b*Yt+C*ht)*Ht,s[9]=(d*Yt-l*Nt-g*ht)*Ht,s[10]=(Y*Ve-ne*Le+we*Ne)*Ht,s[11]=(F*Le-R*Ve-K*Ne)*Ht,s[12]=(b*Mt-v*Et-T*ht)*Ht,s[13]=(l*Et-d*Mt+p*ht)*Ht,s[14]=(ne*Ee-Y*We-he*Ne)*Ht,s[15]=(R*We-F*Ee+W*Ne)*Ht,s):null}function Wh(s,r,l){var d=r[0],p=r[1],g=r[2],v=r[3],b=r[4],T=r[5],C=r[6],R=r[7],F=r[8],W=r[9],K=r[10],Y=r[11],ne=r[12],he=r[13],we=r[14],Ne=r[15],Ee=l[0],Le=l[1],We=l[2],Ve=l[3];return s[0]=Ee*d+Le*b+We*F+Ve*ne,s[1]=Ee*p+Le*T+We*W+Ve*he,s[2]=Ee*g+Le*C+We*K+Ve*we,s[3]=Ee*v+Le*R+We*Y+Ve*Ne,s[4]=(Ee=l[4])*d+(Le=l[5])*b+(We=l[6])*F+(Ve=l[7])*ne,s[5]=Ee*p+Le*T+We*W+Ve*he,s[6]=Ee*g+Le*C+We*K+Ve*we,s[7]=Ee*v+Le*R+We*Y+Ve*Ne,s[8]=(Ee=l[8])*d+(Le=l[9])*b+(We=l[10])*F+(Ve=l[11])*ne,s[9]=Ee*p+Le*T+We*W+Ve*he,s[10]=Ee*g+Le*C+We*K+Ve*we,s[11]=Ee*v+Le*R+We*Y+Ve*Ne,s[12]=(Ee=l[12])*d+(Le=l[13])*b+(We=l[14])*F+(Ve=l[15])*ne,s[13]=Ee*p+Le*T+We*W+Ve*he,s[14]=Ee*g+Le*C+We*K+Ve*we,s[15]=Ee*v+Le*R+We*Y+Ve*Ne,s}function N1(s,r,l){var d,p,g,v,b,T,C,R,F,W,K,Y,ne=l[0],he=l[1],we=l[2];return r===s?(s[12]=r[0]*ne+r[4]*he+r[8]*we+r[12],s[13]=r[1]*ne+r[5]*he+r[9]*we+r[13],s[14]=r[2]*ne+r[6]*he+r[10]*we+r[14],s[15]=r[3]*ne+r[7]*he+r[11]*we+r[15]):(p=r[1],g=r[2],v=r[3],b=r[4],T=r[5],C=r[6],R=r[7],F=r[8],W=r[9],K=r[10],Y=r[11],s[0]=d=r[0],s[1]=p,s[2]=g,s[3]=v,s[4]=b,s[5]=T,s[6]=C,s[7]=R,s[8]=F,s[9]=W,s[10]=K,s[11]=Y,s[12]=d*ne+b*he+F*we+r[12],s[13]=p*ne+T*he+W*we+r[13],s[14]=g*ne+C*he+K*we+r[14],s[15]=v*ne+R*he+Y*we+r[15]),s}function Hh(s,r,l){var d=l[0],p=l[1],g=l[2];return s[0]=r[0]*d,s[1]=r[1]*d,s[2]=r[2]*d,s[3]=r[3]*d,s[4]=r[4]*p,s[5]=r[5]*p,s[6]=r[6]*p,s[7]=r[7]*p,s[8]=r[8]*g,s[9]=r[9]*g,s[10]=r[10]*g,s[11]=r[11]*g,s[12]=r[12],s[13]=r[13],s[14]=r[14],s[15]=r[15],s}function L3(s,r,l){var d=Math.sin(l),p=Math.cos(l),g=r[4],v=r[5],b=r[6],T=r[7],C=r[8],R=r[9],F=r[10],W=r[11];return r!==s&&(s[0]=r[0],s[1]=r[1],s[2]=r[2],s[3]=r[3],s[12]=r[12],s[13]=r[13],s[14]=r[14],s[15]=r[15]),s[4]=g*p+C*d,s[5]=v*p+R*d,s[6]=b*p+F*d,s[7]=T*p+W*d,s[8]=C*p-g*d,s[9]=R*p-v*d,s[10]=F*p-b*d,s[11]=W*p-T*d,s}function gy(s,r,l){var d=Math.sin(l),p=Math.cos(l),g=r[0],v=r[1],b=r[2],T=r[3],C=r[8],R=r[9],F=r[10],W=r[11];return r!==s&&(s[4]=r[4],s[5]=r[5],s[6]=r[6],s[7]=r[7],s[12]=r[12],s[13]=r[13],s[14]=r[14],s[15]=r[15]),s[0]=g*p-C*d,s[1]=v*p-R*d,s[2]=b*p-F*d,s[3]=T*p-W*d,s[8]=g*d+C*p,s[9]=v*d+R*p,s[10]=b*d+F*p,s[11]=T*d+W*p,s}function sS(s,r){return s[0]=r[0],s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=r[1],s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=r[2],s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}function lS(s,r,l){var d,p,g,v=l[0],b=l[1],T=l[2],C=Math.hypot(v,b,T);return C<my?null:(v*=C=1/C,b*=C,T*=C,d=Math.sin(r),p=Math.cos(r),s[0]=v*v*(g=1-p)+p,s[1]=b*v*g+T*d,s[2]=T*v*g-b*d,s[3]=0,s[4]=v*b*g-T*d,s[5]=b*b*g+p,s[6]=T*b*g+v*d,s[7]=0,s[8]=v*T*g+b*d,s[9]=b*T*g-v*d,s[10]=T*T*g+p,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s)}Math.hypot||(Math.hypot=function(){for(var s=0,r=arguments.length;r--;)s+=arguments[r]*arguments[r];return Math.sqrt(s)});var ej=Wh;function z3(){var s=new os(3);return os!=Float32Array&&(s[0]=0,s[1]=0,s[2]=0),s}function cS(s){var r=new os(3);return r[0]=s[0],r[1]=s[1],r[2]=s[2],r}function B1(s){return Math.hypot(s[0],s[1],s[2])}function pf(s,r,l){var d=new os(3);return d[0]=s,d[1]=r,d[2]=l,d}function Tu(s,r,l){return s[0]=r[0]+l[0],s[1]=r[1]+l[1],s[2]=r[2]+l[2],s}function F3(s,r,l){return s[0]=r[0]-l[0],s[1]=r[1]-l[1],s[2]=r[2]-l[2],s}function uS(s,r,l){return s[0]=r[0]*l[0],s[1]=r[1]*l[1],s[2]=r[2]*l[2],s}function j1(s,r,l){return s[0]=Math.min(r[0],l[0]),s[1]=Math.min(r[1],l[1]),s[2]=Math.min(r[2],l[2]),s}function $1(s,r,l){return s[0]=Math.max(r[0],l[0]),s[1]=Math.max(r[1],l[1]),s[2]=Math.max(r[2],l[2]),s}function Ms(s,r,l){return s[0]=r[0]*l,s[1]=r[1]*l,s[2]=r[2]*l,s}function U1(s,r,l,d){return s[0]=r[0]+l[0]*d,s[1]=r[1]+l[1]*d,s[2]=r[2]+l[2]*d,s}function ba(s,r){var l=r[0],d=r[1],p=r[2],g=l*l+d*d+p*p;return g>0&&(g=1/Math.sqrt(g)),s[0]=r[0]*g,s[1]=r[1]*g,s[2]=r[2]*g,s}function el(s,r){return s[0]*r[0]+s[1]*r[1]+s[2]*r[2]}function N3(s,r,l){var d=r[0],p=r[1],g=r[2],v=l[0],b=l[1],T=l[2];return s[0]=p*T-g*b,s[1]=g*v-d*T,s[2]=d*b-p*v,s}function Wi(s,r,l){var d=r[0],p=r[1],g=r[2],v=l[3]*d+l[7]*p+l[11]*g+l[15];return s[0]=(l[0]*d+l[4]*p+l[8]*g+l[12])/(v=v||1),s[1]=(l[1]*d+l[5]*p+l[9]*g+l[13])/v,s[2]=(l[2]*d+l[6]*p+l[10]*g+l[14])/v,s}function dS(s,r,l){var d=l[0],p=l[1],g=l[2],v=r[0],b=r[1],T=r[2],C=p*T-g*b,R=g*v-d*T,F=d*b-p*v,W=p*F-g*R,K=g*C-d*F,Y=d*R-p*C,ne=2*l[3];return R*=ne,F*=ne,K*=2,Y*=2,s[0]=v+(C*=ne)+(W*=2),s[1]=b+R+K,s[2]=T+F+Y,s}var V1,$l=F3,tj=uS,nj=B1;function hS(s,r,l){return s[0]=r[0]*l,s[1]=r[1]*l,s[2]=r[2]*l,s[3]=r[3]*l,s}function pS(s,r){var l=r[0],d=r[1],p=r[2],g=r[3],v=l*l+d*d+p*p+g*g;return v>0&&(v=1/Math.sqrt(v)),s[0]=l*v,s[1]=d*v,s[2]=p*v,s[3]=g*v,s}function qh(s,r,l){var d=r[0],p=r[1],g=r[2],v=r[3];return s[0]=l[0]*d+l[4]*p+l[8]*g+l[12]*v,s[1]=l[1]*d+l[5]*p+l[9]*g+l[13]*v,s[2]=l[2]*d+l[6]*p+l[10]*g+l[14]*v,s[3]=l[3]*d+l[7]*p+l[11]*g+l[15]*v,s}function fS(){var s=new os(4);return os!=Float32Array&&(s[0]=0,s[1]=0,s[2]=0),s[3]=1,s}function mS(s){return s[0]=0,s[1]=0,s[2]=0,s[3]=1,s}function gS(s,r,l){l*=.5;var d=r[0],p=r[1],g=r[2],v=r[3],b=Math.sin(l),T=Math.cos(l);return s[0]=d*T+v*b,s[1]=p*T+g*b,s[2]=g*T-p*b,s[3]=v*T-d*b,s}function _S(s,r,l){l*=.5;var d=r[0],p=r[1],g=r[2],v=r[3],b=Math.sin(l),T=Math.cos(l);return s[0]=d*T-g*b,s[1]=p*T+v*b,s[2]=g*T+d*b,s[3]=v*T-p*b,s}z3(),V1=new os(4),os!=Float32Array&&(V1[0]=0,V1[1]=0,V1[2]=0,V1[3]=0);var rj=pS;z3(),pf(1,0,0),pf(0,1,0),fS(),fS(),oS();const ij=it([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:yS}=ij,vS=it([{name:"a_pos_3",components:3,type:"Int16"}]);var W1=it([{name:"a_pos",type:"Int16",components:2}]);class B3{constructor(r,l){this.pos=r,this.dir=l}intersectsPlane(r,l,d){const p=el(l,this.dir);if(Math.abs(p)<1e-6)return!1;const g=((r[0]-this.pos[0])*l[0]+(r[1]-this.pos[1])*l[1]+(r[2]-this.pos[2])*l[2])/p;return d[0]=this.pos[0]+this.dir[0]*g,d[1]=this.pos[1]+this.dir[1]*g,d[2]=this.pos[2]+this.dir[2]*g,!0}closestPointOnSphere(r,l,d){if(function(K,Y){var ne=K[0],he=K[1],we=K[2],Ne=Y[0],Ee=Y[1],Le=Y[2];return Math.abs(ne-Ne)<=my*Math.max(1,Math.abs(ne),Math.abs(Ne))&&Math.abs(he-Ee)<=my*Math.max(1,Math.abs(he),Math.abs(Ee))&&Math.abs(we-Le)<=my*Math.max(1,Math.abs(we),Math.abs(Le))}(this.pos,r)||l===0)return d[0]=d[1]=d[2]=0,!1;const[p,g,v]=this.dir,b=this.pos[0]-r[0],T=this.pos[1]-r[1],C=this.pos[2]-r[2],R=p*p+g*g+v*v,F=2*(b*p+T*g+C*v),W=F*F-4*R*(b*b+T*T+C*C-l*l);if(W<0){const K=Math.max(-F/2,0),Y=b+p*K,ne=T+g*K,he=C+v*K,we=Math.hypot(Y,ne,he);return d[0]=Y*l/we,d[1]=ne*l/we,d[2]=he*l/we,!1}{const K=(-F-Math.sqrt(W))/(2*R);if(K<0){const Y=Math.hypot(b,T,C);return d[0]=b*l/Y,d[1]=T*l/Y,d[2]=C*l/Y,!1}return d[0]=b+p*K,d[1]=T+g*K,d[2]=C+v*K,!0}}}class j3{constructor(r,l,d,p,g){this.TL=r,this.TR=l,this.BR=d,this.BL=p,this.horizon=g}static fromInvProjectionMatrix(r,l,d){const p=[-1,1,1],g=[1,1,1],v=[1,-1,1],b=[-1,-1,1],T=Wi(p,p,r),C=Wi(g,g,r),R=Wi(v,v,r),F=Wi(b,b,r);return new j3(T,C,R,F,l/d)}}class $3{constructor(r,l){this.points=r,this.planes=l}static fromInvProjectionMatrix(r,l,d,p){const g=Math.pow(2,d),v=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(T=>{const C=qh([],T,r),R=1/C[3]/l*g;return function(F,W,K){return F[0]=W[0]*K[0],F[1]=W[1]*K[1],F[2]=W[2]*K[2],F[3]=W[3]*K[3],F}(C,C,[R,R,p?1/C[3]:R,R])}),b=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(T=>{const C=ba([],N3([],$l([],v[T[0]],v[T[1]]),$l([],v[T[2]],v[T[1]]))),R=-el(C,v[T[1]]);return C.concat(R)});return new $3(v,b)}}class wa{static fromPoints(r){const l=[1/0,1/0,1/0],d=[-1/0,-1/0,-1/0];for(const p of r)j1(l,l,p),$1(d,d,p);return new wa(l,d)}static applyTransform(r,l){const d=r.getCorners();for(let p=0;p<d.length;++p)Wi(d[p],d[p],l);return wa.fromPoints(d)}constructor(r,l){this.min=r,this.max=l,this.center=Ms([],Tu([],this.min,this.max),.5)}quadrant(r){const l=[r%2==0,r<2],d=cS(this.min),p=cS(this.max);for(let g=0;g<l.length;g++)d[g]=l[g]?this.min[g]:this.center[g],p[g]=l[g]?this.center[g]:this.max[g];return p[2]=this.max[2],new wa(d,p)}distanceX(r){return Math.max(Math.min(this.max[0],r[0]),this.min[0])-r[0]}distanceY(r){return Math.max(Math.min(this.max[1],r[1]),this.min[1])-r[1]}distanceZ(r){return Math.max(Math.min(this.max[2],r[2]),this.min[2])-r[2]}getCorners(){const r=this.min,l=this.max;return[[r[0],r[1],r[2]],[l[0],r[1],r[2]],[l[0],l[1],r[2]],[r[0],l[1],r[2]],[r[0],r[1],l[2]],[l[0],r[1],l[2]],[l[0],l[1],l[2]],[r[0],l[1],l[2]]]}intersects(r){const l=this.getCorners();let d=!0;for(let p=0;p<r.planes.length;p++){const g=r.planes[p];let v=0;for(let b=0;b<l.length;b++)v+=el(g,l[b])+g[3]>=0;if(v===0)return 0;v!==l.length&&(d=!1)}if(d)return 2;for(let p=0;p<3;p++){let g=Number.MAX_VALUE,v=-Number.MAX_VALUE;for(let b=0;b<r.points.length;b++){const T=r.points[b][p]-this.min[p];g=Math.min(g,T),v=Math.max(v,T)}if(v<0||g>this.max[p]-this.min[p])return 0}return 1}}const U3=5,xS=6,Ac=Gn/Math.PI/2,oj=16383,Gh=64,H1=[Gh,32,16],tl=-Ac,nl=Ac,aj=[new wa([tl,tl,tl],[nl,nl,nl]),new wa([tl,tl,tl],[0,0,nl]),new wa([0,tl,tl],[nl,0,nl]),new wa([tl,0,tl],[0,nl,nl]),new wa([0,0,tl],[nl,nl,nl])];function _y(s){return s*Ac/Z1}function bS(s,r,l,d=!0){const p=Ms([],s._camera.position,s.worldSize),g=[r,l,1,1];qh(g,g,s.pixelMatrixInverse),hS(g,g,1/g[3]);const v=ba([],$l([],g,p)),b=s.globeMatrix,T=[b[12],b[13],b[14]],C=$l([],T,p),R=B1(C),F=ba([],C),W=s.worldSize/(2*Math.PI),K=el(F,v),Y=Math.asin(W/R);if(Y<Math.acos(K)){if(!d)return null;const Yt=[],Et=[];Ms(Yt,v,R/K),ba(Et,$l(Et,Yt,C)),ba(v,Tu(v,C,Ms(v,Et,Math.tan(Y)*R)))}const ne=[];new B3(p,v).closestPointOnSphere(T,W,ne);const he=ba([],jn(b,0)),we=ba([],jn(b,1)),Ne=ba([],jn(b,2)),Ee=el(he,ne),Le=el(we,ne),We=el(Ne,ne),Ve=Ae(Math.asin(-Le/W));let _t=Ae(Math.atan2(Ee,We));_t=s.center.lng+function(Yt,Et){const Nt=(Et-Yt+180)%360-180;return Nt<-180?Nt+360:Nt}(s.center.lng,_t);const ht=Dc(_t),Mt=ze(Rc(Ve),0,1);return new _f(ht,Mt)}class sj{constructor(r,l,d){this.a=$l([],r,d),this.b=$l([],l,d),this.center=d;const p=ba([],this.a),g=ba([],this.b);this.angle=Math.acos(el(p,g))}}function V3(s,r){if(s.angle===0)return null;let l;return l=s.a[r]===0?1/s.angle*.5*Math.PI:1/s.angle*Math.atan(s.b[r]/s.a[r]/Math.sin(s.angle)-1/Math.tan(s.angle)),l<0||l>1?null:function(d,p,g,v){const b=Math.sin(g);return d*(Math.sin((1-v)*g)/b)+p*(Math.sin(v*g)/b)}(s.a[r],s.b[r],s.angle,ze(l,0,1))+s.center[r]}function Mc(s){if(s.z<=1)return aj[s.z+2*s.y+s.x];const r=W3(yy(s));return wa.fromPoints(r)}function Zh(s,r,l){return Ms(s,s,1-l),U1(s,s,r,l)}function wS(s,r){const l=gf(r.zoom);if(l===0)return Mc(s);const d=yy(s),p=W3(d),g=Dc(d.getWest())*r.worldSize,v=Dc(d.getEast())*r.worldSize,b=Rc(d.getNorth())*r.worldSize,T=Rc(d.getSouth())*r.worldSize,C=[g,b,0],R=[v,b,0],F=[g,T,0],W=[v,T,0],K=O3([],r.globeMatrix);return Wi(C,C,K),Wi(R,R,K),Wi(F,F,K),Wi(W,W,K),p[0]=Zh(p[0],F,l),p[1]=Zh(p[1],W,l),p[2]=Zh(p[2],R,l),p[3]=Zh(p[3],C,l),wa.fromPoints(p)}function ES(s,r,l){for(const d of s)Wi(d,d,r),Ms(d,d,l)}function lj(s,r,l){const d=r/s.worldSize,p=s.globeMatrix;if(l.z<=1){const ht=Mc(l).getCorners();return ES(ht,p,d),wa.fromPoints(ht)}const g=yy(l),v=W3(g);ES(v,p,d);const b=Number.MAX_VALUE,T=[-b,-b,-b],C=[b,b,b];if(g.contains(s.center)){for(const Yt of v)j1(C,C,Yt),$1(T,T,Yt);T[2]=0;const ht=s.point,Mt=[ht.x*d,ht.y*d,0];return j1(C,C,Mt),$1(T,T,Mt),new wa(C,T)}const R=[p[12]*d,p[13]*d,p[14]*d],F=g.getCenter(),W=ze(s.center.lat,-Jo,Jo),K=ze(F.lat,-Jo,Jo),Y=Dc(s.center.lng),ne=Rc(W);let he=Y-Dc(F.lng);const we=ne-Rc(K);he>.5?he-=1:he<-.5&&(he+=1);let Ne=0;Math.abs(he)>Math.abs(we)?Ne=he>=0?1:3:(Ne=we>=0?0:2,U1(R,R,[p[4]*d,p[5]*d,p[6]*d],-Math.sin($e(we>=0?g.getSouth():g.getNorth()))*Ac));const Ee=v[Ne],Le=v[(Ne+1)%4],We=new sj(Ee,Le,R),Ve=[V3(We,0)||Ee[0],V3(We,1)||Ee[1],V3(We,2)||Ee[2]],_t=gf(s.zoom);if(_t>0){const ht=function({x:Yt,y:Et,z:Nt},Bt,Ht,nn,At){const mn=1/(1<<Nt);let Pn=Yt*mn,_n=Pn+mn,ar=Et*mn,rn=ar+mn,Vn=0;const sr=(Pn+_n)/2-nn;return sr>.5?Vn=-1:sr<-.5&&(Vn=1),Pn=((Pn+Vn)*Bt-(nn*=Bt))*Ht+nn,_n=((_n+Vn)*Bt-nn)*Ht+nn,ar=(ar*Bt-(At*=Bt))*Ht+At,rn=(rn*Bt-At)*Ht+At,[[Pn,rn,0],[_n,rn,0],[_n,ar,0],[Pn,ar,0]]}(l,r,s._pixelsPerMercatorPixel,Y,ne);for(let Yt=0;Yt<v.length;Yt++)Zh(v[Yt],ht[Yt],_t);const Mt=Tu([],ht[Ne],ht[(Ne+1)%4]);Ms(Mt,Mt,.5),Zh(Ve,Mt,_t)}for(const ht of v)j1(C,C,ht),$1(T,T,ht);return C[2]=Math.min(Ee[2],Le[2]),j1(C,C,Ve),$1(T,T,Ve),new wa(C,T)}function yy({x:s,y:r,z:l}){const d=1/(1<<l),p=new Kr(Ds(s*d),Yo((r+1)*d)),g=new Kr(Ds((s+1)*d),Yo(r*d));return new xd(p,g)}function W3(s){const r=$e(s.getNorth()),l=$e(s.getSouth()),d=Math.cos(r),p=Math.cos(l),g=Math.sin(r),v=Math.sin(l),b=s.getWest(),T=s.getEast();return[ff(p,v,b),ff(p,v,T),ff(d,g,T),ff(d,g,b)]}function ff(s,r,l,d=Ac){return l=$e(l),[s*Math.sin(l)*d,-r*d,s*Math.cos(l)*d]}function mf(s,r,l){return ff(Math.cos($e(s)),Math.sin($e(s)),r,l)}function q1(s,r,l,d){const p=1<<l.z,g=(s/Gn+l.x)/p;return mf(Yo((r/Gn+l.y)/p),Ds(g),d)}function vy({min:s,max:r}){return oj/Math.max(r[0]-s[0],r[1]-s[1],r[2]-s[2])}const SS=new Float64Array(16);function G1(s){const r=vy(s),l=sS(SS,[r,r,r]);return N1(l,l,((d=[])[0]=-(p=s.min)[0],d[1]=-p[1],d[2]=-p[2],d));var d,p}function H3(s){const r=(d=s.min,(l=SS)[0]=1,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=1,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=1,l[11]=0,l[12]=d[0],l[13]=d[1],l[14]=d[2],l[15]=1,l);var l,d;const p=1/vy(s);return Hh(r,r,[p,p,p])}function TS(s,r,l,d,p){const g=function(T){const C=Gn/(2*Math.PI);return T/(2*Math.PI)/C}(l),v=[s,r,-l/(2*Math.PI)],b=jl(new Float64Array(16));return N1(b,b,v),Hh(b,b,[g,g,g]),L3(b,b,$e(-p)),gy(b,b,$e(-d)),b}function gf(s){return Pe(U3,xS,s)}function CS(s,r){const l=mf(r.lat,r.lng),d=function(Y){const ne=mf(Y._center.lat,Y._center.lng);let he=N3([],pf(0,1,0),ne);const we=lS([],-Y.angle,ne);he=Wi(he,he,we),lS(we,-Y._pitch,he);const Ne=ba([],ne);return Ms(Ne,Ne,_y(Y.cameraToCenterDistance/Y.pixelsPerMeter)),Wi(Ne,Ne,we),Tu([],ne,Ne)}(s);return v=(p=F3([],d,l))[0],b=p[1],T=p[2],C=(g=l)[0],R=g[1],F=g[2],K=(W=Math.sqrt(v*v+b*b+T*T)*Math.sqrt(C*C+R*R+F*F))&&el(p,g)/W,Math.acos(Math.min(Math.max(K,-1),1));var p,g,v,b,T,C,R,F,W,K}function q3(s,r){return CS(s,r)>Math.PI/2*1.01}const kS=$e(85),cj=Math.cos(kS),uj=Math.sin(kS),Z1=63710088e-1,PS=2*Math.PI*Z1;class bd{constructor(r,l){if(isNaN(r)||isNaN(l))throw new Error(`Invalid LngLat object: (${r}, ${l})`);if(this.lng=+r,this.lat=+l,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new bd(je(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(r){const l=Math.PI/180,d=this.lat*l,p=r.lat*l,g=Math.sin(d)*Math.sin(p)+Math.cos(d)*Math.cos(p)*Math.cos((r.lng-this.lng)*l);return Z1*Math.acos(Math.min(g,1))}toBounds(r=0){const l=360*r/40075017,d=l/Math.cos(Math.PI/180*this.lat);return new xd(new bd(this.lng-d,this.lat-l),new bd(this.lng+d,this.lat+l))}toEcef(r){const l=_y(r);return mf(this.lat,this.lng,Ac+l)}static convert(r){if(r instanceof bd)return r;if(Array.isArray(r)&&(r.length===2||r.length===3))return new bd(Number(r[0]),Number(r[1]));if(!Array.isArray(r)&&typeof r=="object"&&r!==null)return new bd(Number("lng"in r?r.lng:r.lon),Number(r.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}var Kr=bd;function G3(s){return PS*Math.cos(s*Math.PI/180)}function Dc(s){return(180+s)/360}function Rc(s){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+s*Math.PI/360)))/360}function Ul(s,r){return s/G3(r)}function Ds(s){return 360*s-180}function Yo(s){return 360/Math.PI*Math.atan(Math.exp((180-360*s)*Math.PI/180))-90}function IS(s,r){return s*G3(Yo(r))}const Jo=85.051129;function AS(s){return 1/Math.cos(s*Math.PI/180)}class _f{constructor(r,l,d=0){this.x=+r,this.y=+l,this.z=+d}static fromLngLat(r,l=0){const d=Kr.convert(r);return new _f(Dc(d.lng),Rc(d.lat),Ul(l,d.lat))}toLngLat(){return new Kr(Ds(this.x),Yo(this.y))}toAltitude(){return IS(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/PS*AS(Yo(this.y))}}function Z3(s,r,l,d,p,g,v,b,T){const C=(r+d)/2,R=(l+p)/2,F=new le(C,R);b(F),function(W,K,Y,ne,he,we){const Ne=Y-he,Ee=ne-we;return Math.abs((ne-K)*Ne-(Y-W)*Ee)/Math.hypot(Ne,Ee)}(F.x,F.y,g.x,g.y,v.x,v.y)>=T?(Z3(s,r,l,C,R,g,F,b,T),Z3(s,C,R,d,p,F,v,b,T)):s.push(v)}function MS(s,r,l){let d=s[0],p=d.x,g=d.y;r(d);const v=[d];for(let b=1;b<s.length;b++){const T=s[b],{x:C,y:R}=T;r(T),Z3(v,p,g,C,R,d,T,r,l),p=C,g=R,d=T}return v}function X3(s,r,l,d){if(d(r,l)){const p=r.add(l)._mult(.5);X3(s,r,p,d),X3(s,p,l,d)}else s.push(l)}function dj(s,r){let l=s[0];const d=[l];for(let p=1;p<s.length;p++){const g=s[p];X3(d,l,g,r),l=g}return d}const K3=Math.pow(2,14)-1,DS=-K3-1;function hj(s,r){const l=Math.round(s.x*r),d=Math.round(s.y*r);return s.x=ze(l,DS,K3),s.y=ze(d,DS,K3),(l<s.x||l>s.x+1||d<s.y||d>s.y+1)&&vt("Geometry exceeds allowed extent, reduce your vector tile buffer size"),s}function Cu(s,r,l){const d=s.loadGeometry(),p=s.extent,g=Gn/p;if(r&&l&&l.projection.isReprojectedInTileSpace){const v=1<<r.z,{scale:b,x:T,y:C,projection:R}=l,F=W=>{const K=Ds((r.x+W.x/p)/v),Y=Yo((r.y+W.y/p)/v),ne=R.project(K,Y);W.x=(ne.x*b-T)*p,W.y=(ne.y*b-C)*p};for(let W=0;W<d.length;W++)if(s.type!==1)d[W]=MS(d[W],F,1);else{const K=[];for(const Y of d[W])Y.x<0||Y.x>=p||Y.y<0||Y.y>=p||(F(Y),K.push(Y));d[W]=K}}for(const v of d)for(const b of v)hj(b,g);return d}function Xh(s,r){return{type:s.type,id:s.id,properties:s.properties,geometry:r?Cu(s):[]}}function xy(s,r,l,d,p){s.emplaceBack(2*r+(d+1)/2,2*l+(p+1)/2)}function by(s,r,l){s.emplaceBack(r.x,r.y,r.z,l[0]*16384,l[1]*16384,l[2]*16384)}class Y3{constructor(r){this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(l=>l.id),this.index=r.index,this.hasPattern=!1,this.projection=r.projection,this.layoutVertexArray=new Kt,this.indexArray=new Ln,this.segments=new Ki,this.programConfigurations=new Vh(r.layers,r.zoom),this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(r,l,d,p){const g=this.layers[0],v=[];let b=null;g.type==="circle"&&(b=g.layout.get("circle-sort-key"));for(const{feature:C,id:R,index:F,sourceLayerIndex:W}of r){const K=this.layers[0]._featureFilter.needGeometry,Y=Xh(C,K);if(!this.layers[0]._featureFilter.filter(new L(this.zoom),Y,d))continue;const ne=b?b.evaluate(Y,{},d):void 0,he={id:R,properties:C.properties,type:C.type,sourceLayerIndex:W,index:F,geometry:K?Y.geometry:Cu(C,d,p),patterns:{},sortKey:ne};v.push(he)}b&&v.sort((C,R)=>C.sortKey-R.sortKey);let T=null;p.projection.name==="globe"&&(this.globeExtVertexArray=new Jt,T=p.projection);for(const C of v){const{geometry:R,index:F,sourceLayerIndex:W}=C,K=r[F].feature;this.addFeature(C,R,F,l.availableImages,d,T),l.featureIndex.insert(K,R,F,W,this.index)}}update(r,l,d,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(r,l,this.stateDependentLayers,d,p)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(r){this.uploaded||(this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,JB.members),this.indexBuffer=r.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=r.createVertexBuffer(this.globeExtVertexArray,QB.members))),this.programConfigurations.upload(r),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(r,l,d,p,g,v){for(const b of l)for(const T of b){const C=T.x,R=T.y;if(C<0||C>=Gn||R<0||R>=Gn)continue;if(v){const K=v.projectTilePoint(C,R,g),Y=v.upVector(g,C,R),ne=this.globeExtVertexArray;by(ne,K,Y),by(ne,K,Y),by(ne,K,Y),by(ne,K,Y)}const F=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,r.sortKey),W=F.vertexLength;xy(this.layoutVertexArray,C,R,-1,-1),xy(this.layoutVertexArray,C,R,1,-1),xy(this.layoutVertexArray,C,R,1,1),xy(this.layoutVertexArray,C,R,-1,1),this.indexArray.emplaceBack(W,W+1,W+2),this.indexArray.emplaceBack(W,W+2,W+3),F.vertexLength+=4,F.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,d,{},p,g)}}function RS(s,r){for(let l=0;l<s.length;l++)if(Kh(r,s[l]))return!0;for(let l=0;l<r.length;l++)if(Kh(s,r[l]))return!0;return!!J3(s,r)}function pj(s,r,l){return!!Kh(s,r)||!!Q3(r,s,l)}function OS(s,r){if(s.length===1)return zS(r,s[0]);for(let l=0;l<r.length;l++){const d=r[l];for(let p=0;p<d.length;p++)if(Kh(s,d[p]))return!0}for(let l=0;l<s.length;l++)if(zS(r,s[l]))return!0;for(let l=0;l<r.length;l++)if(J3(s,r[l]))return!0;return!1}function fj(s,r,l){if(s.length>1){if(J3(s,r))return!0;for(let d=0;d<r.length;d++)if(Q3(r[d],s,l))return!0}for(let d=0;d<s.length;d++)if(Q3(s[d],r,l))return!0;return!1}function J3(s,r){if(s.length===0||r.length===0)return!1;for(let l=0;l<s.length-1;l++){const d=s[l],p=s[l+1];for(let g=0;g<r.length-1;g++)if(mj(d,p,r[g],r[g+1]))return!0}return!1}function mj(s,r,l,d){return gn(s,l,d)!==gn(r,l,d)&&gn(s,r,l)!==gn(s,r,d)}function Q3(s,r,l){const d=l*l;if(r.length===1)return s.distSqr(r[0])<d;for(let p=1;p<r.length;p++)if(LS(s,r[p-1],r[p])<d)return!0;return!1}function LS(s,r,l){const d=r.distSqr(l);if(d===0)return s.distSqr(r);const p=((s.x-r.x)*(l.x-r.x)+(s.y-r.y)*(l.y-r.y))/d;return s.distSqr(p<0?r:p>1?l:l.sub(r)._mult(p)._add(r))}function zS(s,r){let l,d,p,g=!1;for(let v=0;v<s.length;v++){l=s[v];for(let b=0,T=l.length-1;b<l.length;T=b++)d=l[b],p=l[T],d.y>r.y!=p.y>r.y&&r.x<(p.x-d.x)*(r.y-d.y)/(p.y-d.y)+d.x&&(g=!g)}return g}function Kh(s,r){let l=!1;for(let d=0,p=s.length-1;d<s.length;p=d++){const g=s[d],v=s[p];g.y>r.y!=v.y>r.y&&r.x<(v.x-g.x)*(r.y-g.y)/(v.y-g.y)+g.x&&(l=!l)}return l}function FS(s,r,l,d,p){for(const v of s)if(r<=v.x&&l<=v.y&&d>=v.x&&p>=v.y)return!0;const g=[new le(r,l),new le(r,p),new le(d,p),new le(d,l)];if(s.length>2){for(const v of g)if(Kh(s,v))return!0}for(let v=0;v<s.length-1;v++)if(gj(s[v],s[v+1],g))return!0;return!1}function gj(s,r,l){const d=l[0],p=l[2];if(s.x<d.x&&r.x<d.x||s.x>p.x&&r.x>p.x||s.y<d.y&&r.y<d.y||s.y>p.y&&r.y>p.y)return!1;const g=gn(s,r,l[0]);return g!==gn(s,r,l[1])||g!==gn(s,r,l[2])||g!==gn(s,r,l[3])}function yf(s,r,l){const d=r.paint.get(s).value;return d.kind==="constant"?d.value:l.programConfigurations.get(r.id).getMaxValue(s)}function wy(s){return Math.sqrt(s[0]*s[0]+s[1]*s[1])}function NS(s,r,l,d,p){if(!r[0]&&!r[1])return s;const g=le.convert(r)._mult(p);l==="viewport"&&g._rotate(-d);const v=[];for(let b=0;b<s.length;b++)v.push(s[b].sub(g));return v}function BS(s,r,l,d){const p=le.convert(s)._mult(d);return r==="viewport"&&p._rotate(-l),p}Sn(Y3,"CircleBucket",{omit:["layers"]});const _j=new Ie({"circle-sort-key":new pe(Pt.layout_circle["circle-sort-key"])});var yj={paint:new Ie({"circle-radius":new pe(Pt.paint_circle["circle-radius"]),"circle-color":new pe(Pt.paint_circle["circle-color"]),"circle-blur":new pe(Pt.paint_circle["circle-blur"]),"circle-opacity":new pe(Pt.paint_circle["circle-opacity"]),"circle-translate":new te(Pt.paint_circle["circle-translate"]),"circle-translate-anchor":new te(Pt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new te(Pt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new te(Pt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new pe(Pt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new pe(Pt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new pe(Pt.paint_circle["circle-stroke-opacity"])}),layout:_j};function jS(s,r,l,d,p,g,v,b,T){if(g&&s.queryGeometry.isAboveHorizon)return!1;g&&(T*=s.pixelToTileUnitsFactor);const C=s.tileID.canonical,R=l.projection.upVectorScale(C,l.center.lat,l.worldSize).metersToTile;for(const F of r)for(const W of F){const K=W.add(b),Y=p&&l.elevation?l.elevation.exaggeration()*p.getElevationAt(K.x,K.y,!0):0,ne=l.projection.projectTilePoint(K.x,K.y,C);if(Y>0){const Ee=l.projection.upVector(C,K.x,K.y);ne.x+=Ee[0]*R*Y,ne.y+=Ee[1]*R*Y,ne.z+=Ee[2]*R*Y}const he=g?K:vj(ne.x,ne.y,ne.z,d),we=g?s.tilespaceRays.map(Ee=>bj(Ee,Y)):s.queryGeometry.screenGeometry,Ne=qh([],[ne.x,ne.y,ne.z,1],d);if(!v&&g?T*=Ne[3]/l.cameraToCenterDistance:v&&!g&&(T*=l.cameraToCenterDistance/Ne[3]),g){const Ee=Yo((W.y/Gn+C.y)/(1<<C.z));T/=l.projection.pixelsPerMeter(Ee,1)/Ul(1,Ee)}if(pj(we,he,T))return!0}return!1}function vj(s,r,l,d){const p=qh([],[s,r,l,1],d);return new le(p[0]/p[3],p[1]/p[3])}const $S=pf(0,0,0),xj=pf(0,0,1);function bj(s,r){const l=z3();return $S[2]=r,s.intersectsPlane($S,xj,l),new le(l[0],l[1])}class US extends Y3{}function VS(s,{width:r,height:l},d,p){if(p){if(p instanceof Uint8ClampedArray)p=new Uint8Array(p.buffer);else if(p.length!==r*l*d)throw new RangeError("mismatched image size")}else p=new Uint8Array(r*l*d);return s.width=r,s.height=l,s.data=p,s}function WS(s,r,l){const{width:d,height:p}=r;d===s.width&&p===s.height||(ew(s,r,{x:0,y:0},{x:0,y:0},{width:Math.min(s.width,d),height:Math.min(s.height,p)},l),s.width=d,s.height=p,s.data=r.data)}function ew(s,r,l,d,p,g){if(p.width===0||p.height===0)return r;if(p.width>s.width||p.height>s.height||l.x>s.width-p.width||l.y>s.height-p.height)throw new RangeError("out of range source coordinates for image copy");if(p.width>r.width||p.height>r.height||d.x>r.width-p.width||d.y>r.height-p.height)throw new RangeError("out of range destination coordinates for image copy");const v=s.data,b=r.data;for(let T=0;T<p.height;T++){const C=((l.y+T)*s.width+l.x)*g,R=((d.y+T)*r.width+d.x)*g;for(let F=0;F<p.width*g;F++)b[R+F]=v[C+F]}return r}Sn(US,"HeatmapBucket",{omit:["layers"]});class ku{constructor(r,l){VS(this,r,1,l)}resize(r){WS(this,new ku(r),1)}clone(){return new ku({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(r,l,d,p,g){ew(r,l,d,p,g,1)}}class as{constructor(r,l){VS(this,r,4,l)}resize(r){WS(this,new as(r),4)}replace(r,l){l?this.data.set(r):this.data=r instanceof Uint8ClampedArray?new Uint8Array(r.buffer):r}clone(){return new as({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(r,l,d,p,g){ew(r,l,d,p,g,4)}}Sn(ku,"AlphaImage"),Sn(as,"RGBAImage");var wj={paint:new Ie({"heatmap-radius":new pe(Pt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new pe(Pt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new te(Pt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Te(Pt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new te(Pt.paint_heatmap["heatmap-opacity"])})};function tw(s){const r={},l=s.resolution||256,d=s.clips?s.clips.length:1,p=s.image||new as({width:l,height:d}),g=(v,b,T)=>{r[s.evaluationKey]=T;const C=s.expression.evaluate(r);p.data[v+b+0]=Math.floor(255*C.r/C.a),p.data[v+b+1]=Math.floor(255*C.g/C.a),p.data[v+b+2]=Math.floor(255*C.b/C.a),p.data[v+b+3]=Math.floor(255*C.a)};if(s.clips)for(let v=0,b=0;v<d;++v,b+=4*l)for(let T=0,C=0;T<l;T++,C+=4){const R=T/(l-1),{start:F,end:W}=s.clips[v];g(b,C,F*(1-R)+W*R)}else for(let v=0,b=0;v<l;v++,b+=4)g(0,b,v/(l-1));return p}var Ej={paint:new Ie({"hillshade-illumination-direction":new te(Pt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new te(Pt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new te(Pt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new te(Pt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new te(Pt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new te(Pt.paint_hillshade["hillshade-accent-color"])})};const Sj=it([{name:"a_pos",components:2,type:"Int16"}],4),{members:Tj}=Sj;var nw={exports:{}};function Ey(s,r,l){l=l||2;var d,p,g,v,b,T,C,R=r&&r.length,F=R?r[0]*l:s.length,W=HS(s,0,F,l,!0),K=[];if(!W||W.next===W.prev)return K;if(R&&(W=function(ne,he,we,Ne){var Ee,Le,We,Ve=[];for(Ee=0,Le=he.length;Ee<Le;Ee++)(We=HS(ne,he[Ee]*Ne,Ee<Le-1?he[Ee+1]*Ne:ne.length,Ne,!1))===We.next&&(We.steiner=!0),Ve.push(Rj(We));for(Ve.sort(Aj),Ee=0;Ee<Ve.length;Ee++)we=Mj(Ve[Ee],we);return we}(s,r,W,l)),s.length>80*l){d=g=s[0],p=v=s[1];for(var Y=l;Y<F;Y+=l)(b=s[Y])<d&&(d=b),(T=s[Y+1])<p&&(p=T),b>g&&(g=b),T>v&&(v=T);C=(C=Math.max(g-d,v-p))!==0?32767/C:0}return X1(W,K,l,d,p,C,0),K}function HS(s,r,l,d,p){var g,v;if(p===ow(s,r,l,d)>0)for(g=r;g<l;g+=d)v=ZS(g,s[g],s[g+1],v);else for(g=l-d;g>=r;g-=d)v=ZS(g,s[g],s[g+1],v);return v&&Sy(v,v.next)&&(Y1(v),v=v.next),v}function Yh(s,r){if(!s)return s;r||(r=s);var l,d=s;do if(l=!1,d.steiner||!Sy(d,d.next)&&Yi(d.prev,d,d.next)!==0)d=d.next;else{if(Y1(d),(d=r=d.prev)===d.next)break;l=!0}while(l||d!==r);return r}function X1(s,r,l,d,p,g,v){if(s){!v&&g&&function(R,F,W,K){var Y=R;do Y.z===0&&(Y.z=rw(Y.x,Y.y,F,W,K)),Y.prevZ=Y.prev,Y.nextZ=Y.next,Y=Y.next;while(Y!==R);Y.prevZ.nextZ=null,Y.prevZ=null,function(ne){var he,we,Ne,Ee,Le,We,Ve,_t,ht=1;do{for(we=ne,ne=null,Le=null,We=0;we;){for(We++,Ne=we,Ve=0,he=0;he<ht&&(Ve++,Ne=Ne.nextZ);he++);for(_t=ht;Ve>0||_t>0&&Ne;)Ve!==0&&(_t===0||!Ne||we.z<=Ne.z)?(Ee=we,we=we.nextZ,Ve--):(Ee=Ne,Ne=Ne.nextZ,_t--),Le?Le.nextZ=Ee:ne=Ee,Ee.prevZ=Le,Le=Ee;we=Ne}Le.nextZ=null,ht*=2}while(We>1)}(Y)}(s,d,p,g);for(var b,T,C=s;s.prev!==s.next;)if(b=s.prev,T=s.next,g?kj(s,d,p,g):Cj(s))r.push(b.i/l|0),r.push(s.i/l|0),r.push(T.i/l|0),Y1(s),s=T.next,C=T.next;else if((s=T)===C){v?v===1?X1(s=Pj(Yh(s),r,l),r,l,d,p,g,2):v===2&&Ij(s,r,l,d,p,g):X1(Yh(s),r,l,d,p,g,1);break}}}function Cj(s){var r=s.prev,l=s,d=s.next;if(Yi(r,l,d)>=0)return!1;for(var p=r.x,g=l.x,v=d.x,b=r.y,T=l.y,C=d.y,R=p<g?p<v?p:v:g<v?g:v,F=b<T?b<C?b:C:T<C?T:C,W=p>g?p>v?p:v:g>v?g:v,K=b>T?b>C?b:C:T>C?T:C,Y=d.next;Y!==r;){if(Y.x>=R&&Y.x<=W&&Y.y>=F&&Y.y<=K&&vf(p,b,g,T,v,C,Y.x,Y.y)&&Yi(Y.prev,Y,Y.next)>=0)return!1;Y=Y.next}return!0}function kj(s,r,l,d){var p=s.prev,g=s,v=s.next;if(Yi(p,g,v)>=0)return!1;for(var b=p.x,T=g.x,C=v.x,R=p.y,F=g.y,W=v.y,K=b<T?b<C?b:C:T<C?T:C,Y=R<F?R<W?R:W:F<W?F:W,ne=b>T?b>C?b:C:T>C?T:C,he=R>F?R>W?R:W:F>W?F:W,we=rw(K,Y,r,l,d),Ne=rw(ne,he,r,l,d),Ee=s.prevZ,Le=s.nextZ;Ee&&Ee.z>=we&&Le&&Le.z<=Ne;){if(Ee.x>=K&&Ee.x<=ne&&Ee.y>=Y&&Ee.y<=he&&Ee!==p&&Ee!==v&&vf(b,R,T,F,C,W,Ee.x,Ee.y)&&Yi(Ee.prev,Ee,Ee.next)>=0||(Ee=Ee.prevZ,Le.x>=K&&Le.x<=ne&&Le.y>=Y&&Le.y<=he&&Le!==p&&Le!==v&&vf(b,R,T,F,C,W,Le.x,Le.y)&&Yi(Le.prev,Le,Le.next)>=0))return!1;Le=Le.nextZ}for(;Ee&&Ee.z>=we;){if(Ee.x>=K&&Ee.x<=ne&&Ee.y>=Y&&Ee.y<=he&&Ee!==p&&Ee!==v&&vf(b,R,T,F,C,W,Ee.x,Ee.y)&&Yi(Ee.prev,Ee,Ee.next)>=0)return!1;Ee=Ee.prevZ}for(;Le&&Le.z<=Ne;){if(Le.x>=K&&Le.x<=ne&&Le.y>=Y&&Le.y<=he&&Le!==p&&Le!==v&&vf(b,R,T,F,C,W,Le.x,Le.y)&&Yi(Le.prev,Le,Le.next)>=0)return!1;Le=Le.nextZ}return!0}function Pj(s,r,l){var d=s;do{var p=d.prev,g=d.next.next;!Sy(p,g)&&qS(p,d,d.next,g)&&K1(p,g)&&K1(g,p)&&(r.push(p.i/l|0),r.push(d.i/l|0),r.push(g.i/l|0),Y1(d),Y1(d.next),d=s=g),d=d.next}while(d!==s);return Yh(d)}function Ij(s,r,l,d,p,g){var v=s;do{for(var b=v.next.next;b!==v.prev;){if(v.i!==b.i&&Oj(v,b)){var T=GS(v,b);return v=Yh(v,v.next),T=Yh(T,T.next),X1(v,r,l,d,p,g,0),void X1(T,r,l,d,p,g,0)}b=b.next}v=v.next}while(v!==s)}function Aj(s,r){return s.x-r.x}function Mj(s,r){var l=function(p,g){var v,b=g,T=p.x,C=p.y,R=-1/0;do{if(C<=b.y&&C>=b.next.y&&b.next.y!==b.y){var F=b.x+(C-b.y)*(b.next.x-b.x)/(b.next.y-b.y);if(F<=T&&F>R&&(R=F,v=b.x<b.next.x?b:b.next,F===T))return v}b=b.next}while(b!==g);if(!v)return null;var W,K=v,Y=v.x,ne=v.y,he=1/0;b=v;do T>=b.x&&b.x>=Y&&T!==b.x&&vf(C<ne?T:R,C,Y,ne,C<ne?R:T,C,b.x,b.y)&&(W=Math.abs(C-b.y)/(T-b.x),K1(b,p)&&(W<he||W===he&&(b.x>v.x||b.x===v.x&&Dj(v,b)))&&(v=b,he=W)),b=b.next;while(b!==K);return v}(s,r);if(!l)return r;var d=GS(l,s);return Yh(d,d.next),Yh(l,l.next)}function Dj(s,r){return Yi(s.prev,s,r.prev)<0&&Yi(r.next,s,s.next)<0}function rw(s,r,l,d,p){return(s=1431655765&((s=858993459&((s=252645135&((s=16711935&((s=(s-l)*p|0)|s<<8))|s<<4))|s<<2))|s<<1))|(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r=(r-d)*p|0)|r<<8))|r<<4))|r<<2))|r<<1))<<1}function Rj(s){var r=s,l=s;do(r.x<l.x||r.x===l.x&&r.y<l.y)&&(l=r),r=r.next;while(r!==s);return l}function vf(s,r,l,d,p,g,v,b){return(p-v)*(r-b)>=(s-v)*(g-b)&&(s-v)*(d-b)>=(l-v)*(r-b)&&(l-v)*(g-b)>=(p-v)*(d-b)}function Oj(s,r){return s.next.i!==r.i&&s.prev.i!==r.i&&!function(l,d){var p=l;do{if(p.i!==l.i&&p.next.i!==l.i&&p.i!==d.i&&p.next.i!==d.i&&qS(p,p.next,l,d))return!0;p=p.next}while(p!==l);return!1}(s,r)&&(K1(s,r)&&K1(r,s)&&function(l,d){var p=l,g=!1,v=(l.x+d.x)/2,b=(l.y+d.y)/2;do p.y>b!=p.next.y>b&&p.next.y!==p.y&&v<(p.next.x-p.x)*(b-p.y)/(p.next.y-p.y)+p.x&&(g=!g),p=p.next;while(p!==l);return g}(s,r)&&(Yi(s.prev,s,r.prev)||Yi(s,r.prev,r))||Sy(s,r)&&Yi(s.prev,s,s.next)>0&&Yi(r.prev,r,r.next)>0)}function Yi(s,r,l){return(r.y-s.y)*(l.x-r.x)-(r.x-s.x)*(l.y-r.y)}function Sy(s,r){return s.x===r.x&&s.y===r.y}function qS(s,r,l,d){var p=Cy(Yi(s,r,l)),g=Cy(Yi(s,r,d)),v=Cy(Yi(l,d,s)),b=Cy(Yi(l,d,r));return p!==g&&v!==b||!(p!==0||!Ty(s,l,r))||!(g!==0||!Ty(s,d,r))||!(v!==0||!Ty(l,s,d))||!(b!==0||!Ty(l,r,d))}function Ty(s,r,l){return r.x<=Math.max(s.x,l.x)&&r.x>=Math.min(s.x,l.x)&&r.y<=Math.max(s.y,l.y)&&r.y>=Math.min(s.y,l.y)}function Cy(s){return s>0?1:s<0?-1:0}function K1(s,r){return Yi(s.prev,s,s.next)<0?Yi(s,r,s.next)>=0&&Yi(s,s.prev,r)>=0:Yi(s,r,s.prev)<0||Yi(s,s.next,r)<0}function GS(s,r){var l=new iw(s.i,s.x,s.y),d=new iw(r.i,r.x,r.y),p=s.next,g=r.prev;return s.next=r,r.prev=s,l.next=p,p.prev=l,d.next=l,l.prev=d,g.next=d,d.prev=g,d}function ZS(s,r,l,d){var p=new iw(s,r,l);return d?(p.next=d.next,p.prev=d,d.next.prev=p,d.next=p):(p.prev=p,p.next=p),p}function Y1(s){s.next.prev=s.prev,s.prev.next=s.next,s.prevZ&&(s.prevZ.nextZ=s.nextZ),s.nextZ&&(s.nextZ.prevZ=s.prevZ)}function iw(s,r,l){this.i=s,this.x=r,this.y=l,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function ow(s,r,l,d){for(var p=0,g=r,v=l-d;g<l;g+=d)p+=(s[v]-s[g])*(s[g+1]+s[v+1]),v=g;return p}nw.exports=Ey,nw.exports.default=Ey,Ey.deviation=function(s,r,l,d){var p=r&&r.length,g=Math.abs(ow(s,0,p?r[0]*l:s.length,l));if(p)for(var v=0,b=r.length;v<b;v++)g-=Math.abs(ow(s,r[v]*l,v<b-1?r[v+1]*l:s.length,l));var T=0;for(v=0;v<d.length;v+=3){var C=d[v]*l,R=d[v+1]*l,F=d[v+2]*l;T+=Math.abs((s[C]-s[F])*(s[R+1]-s[C+1])-(s[C]-s[R])*(s[F+1]-s[C+1]))}return g===0&&T===0?0:Math.abs((T-g)/g)},Ey.flatten=function(s){for(var r=s[0][0].length,l={vertices:[],holes:[],dimensions:r},d=0,p=0;p<s.length;p++){for(var g=0;g<s[p].length;g++)for(var v=0;v<r;v++)l.vertices.push(s[p][g][v]);p>0&&l.holes.push(d+=s[p-1].length)}return l};var aw=Z(nw.exports);function Lj(s,r,l,d,p){XS(s,r,l||0,d||s.length-1,p||zj)}function XS(s,r,l,d,p){for(;d>l;){if(d-l>600){var g=d-l+1,v=r-l+1,b=Math.log(g),T=.5*Math.exp(2*b/3),C=.5*Math.sqrt(b*T*(g-T)/g)*(v-g/2<0?-1:1);XS(s,r,Math.max(l,Math.floor(r-v*T/g+C)),Math.min(d,Math.floor(r+(g-v)*T/g+C)),p)}var R=s[r],F=l,W=d;for(J1(s,l,r),p(s[d],R)>0&&J1(s,l,d);F<W;){for(J1(s,F,W),F++,W--;p(s[F],R)<0;)F++;for(;p(s[W],R)>0;)W--}p(s[l],R)===0?J1(s,l,W):J1(s,++W,d),W<=r&&(l=W+1),r<=W&&(d=W-1)}}function J1(s,r,l){var d=s[r];s[r]=s[l],s[l]=d}function zj(s,r){return s<r?-1:s>r?1:0}function sw(s,r){const l=s.length;if(l<=1)return[s];const d=[];let p,g;for(let v=0;v<l;v++){const b=on(s[v]);b!==0&&(s[v].area=Math.abs(b),g===void 0&&(g=b<0),g===b<0?(p&&d.push(p),p=[s[v]]):p.push(s[v]))}if(p&&d.push(p),r>1)for(let v=0;v<d.length;v++)d[v].length<=r||(Lj(d[v],r,1,d[v].length-1,Fj),d[v]=d[v].slice(0,r));return d}function Fj(s,r){return r.area-s.area}function lw(s,r,l){const d=l.patternDependencies;let p=!1;for(const g of r){const v=g.paint.get(`${s}-pattern`);v.isConstant()||(p=!0);const b=v.constantOr(null);b&&(p=!0,d[b]=!0)}return p}function cw(s,r,l,d,p){const g=p.patternDependencies;for(const v of r){const b=v.paint.get(`${s}-pattern`).value;if(b.kind!=="constant"){let T=b.evaluate({zoom:d},l,{},p.availableImages);T=T&&T.name?T.name:T,g[T]=!0,l.patterns[v.id]=T}}return l}class ky{constructor(r){this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(l=>l.id),this.index=r.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Kt,this.indexArray=new Ln,this.indexArray2=new To,this.programConfigurations=new Vh(r.layers,r.zoom),this.segments=new Ki,this.segments2=new Ki,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id),this.projection=r.projection}populate(r,l,d,p){this.hasPattern=lw("fill",this.layers,l);const g=this.layers[0].layout.get("fill-sort-key"),v=[];for(const{feature:b,id:T,index:C,sourceLayerIndex:R}of r){const F=this.layers[0]._featureFilter.needGeometry,W=Xh(b,F);if(!this.layers[0]._featureFilter.filter(new L(this.zoom),W,d))continue;const K=g?g.evaluate(W,{},d,l.availableImages):void 0,Y={id:T,properties:b.properties,type:b.type,sourceLayerIndex:R,index:C,geometry:F?W.geometry:Cu(b,d,p),patterns:{},sortKey:K};v.push(Y)}g&&v.sort((b,T)=>b.sortKey-T.sortKey);for(const b of v){const{geometry:T,index:C,sourceLayerIndex:R}=b;if(this.hasPattern){const F=cw("fill",this.layers,b,this.zoom,l);this.patternFeatures.push(F)}else this.addFeature(b,T,C,d,{},l.availableImages);l.featureIndex.insert(r[C].feature,T,C,R,this.index)}}update(r,l,d,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(r,l,this.stateDependentLayers,d,p)}addFeatures(r,l,d,p,g){for(const v of this.patternFeatures)this.addFeature(v,v.geometry,v.index,l,d,p)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(r){this.uploaded||(this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,Tj),this.indexBuffer=r.createIndexBuffer(this.indexArray),this.indexBuffer2=r.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(r),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(r,l,d,p,g,v=[]){for(const b of sw(l,500)){let T=0;for(const Y of b)T+=Y.length;const C=this.segments.prepareSegment(T,this.layoutVertexArray,this.indexArray),R=C.vertexLength,F=[],W=[];for(const Y of b){if(Y.length===0)continue;Y!==b[0]&&W.push(F.length/2);const ne=this.segments2.prepareSegment(Y.length,this.layoutVertexArray,this.indexArray2),he=ne.vertexLength;this.layoutVertexArray.emplaceBack(Y[0].x,Y[0].y),this.indexArray2.emplaceBack(he+Y.length-1,he),F.push(Y[0].x),F.push(Y[0].y);for(let we=1;we<Y.length;we++)this.layoutVertexArray.emplaceBack(Y[we].x,Y[we].y),this.indexArray2.emplaceBack(he+we-1,he+we),F.push(Y[we].x),F.push(Y[we].y);ne.vertexLength+=Y.length,ne.primitiveLength+=Y.length}const K=aw(F,W);for(let Y=0;Y<K.length;Y+=3)this.indexArray.emplaceBack(R+K[Y],R+K[Y+1],R+K[Y+2]);C.vertexLength+=T,C.primitiveLength+=K.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,d,g,v,p)}}Sn(ky,"FillBucket",{omit:["layers","patternFeatures"]});const Nj=new Ie({"fill-sort-key":new pe(Pt.layout_fill["fill-sort-key"])});var Bj={paint:new Ie({"fill-antialias":new te(Pt.paint_fill["fill-antialias"]),"fill-opacity":new pe(Pt.paint_fill["fill-opacity"]),"fill-color":new pe(Pt.paint_fill["fill-color"]),"fill-outline-color":new pe(Pt.paint_fill["fill-outline-color"]),"fill-translate":new te(Pt.paint_fill["fill-translate"]),"fill-translate-anchor":new te(Pt.paint_fill["fill-translate-anchor"]),"fill-pattern":new pe(Pt.paint_fill["fill-pattern"])}),layout:Nj};const jj=it([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),$j=it([{name:"a_centroid_pos",components:2,type:"Uint16"}]),Uj=it([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:Vj}=jj;var Py={},Wj=A,KS=xf;function xf(s,r,l,d,p){this.properties={},this.extent=l,this.type=0,this._pbf=s,this._geometry=-1,this._keys=d,this._values=p,s.readFields(Hj,this,r)}function Hj(s,r,l){s==1?r.id=l.readVarint():s==2?function(d,p){for(var g=d.readVarint()+d.pos;d.pos<g;){var v=p._keys[d.readVarint()],b=p._values[d.readVarint()];p.properties[v]=b}}(l,r):s==3?r.type=l.readVarint():s==4&&(r._geometry=l.pos)}function qj(s){for(var r,l,d=0,p=0,g=s.length,v=g-1;p<g;v=p++)d+=((l=s[v]).x-(r=s[p]).x)*(r.y+l.y);return d}xf.types=["Unknown","Point","LineString","Polygon"],xf.prototype.loadGeometry=function(){var s=this._pbf;s.pos=this._geometry;for(var r,l=s.readVarint()+s.pos,d=1,p=0,g=0,v=0,b=[];s.pos<l;){if(p<=0){var T=s.readVarint();d=7&T,p=T>>3}if(p--,d===1||d===2)g+=s.readSVarint(),v+=s.readSVarint(),d===1&&(r&&b.push(r),r=[]),r.push(new Wj(g,v));else{if(d!==7)throw new Error("unknown command "+d);r&&r.push(r[0].clone())}}return r&&b.push(r),b},xf.prototype.bbox=function(){var s=this._pbf;s.pos=this._geometry;for(var r=s.readVarint()+s.pos,l=1,d=0,p=0,g=0,v=1/0,b=-1/0,T=1/0,C=-1/0;s.pos<r;){if(d<=0){var R=s.readVarint();l=7&R,d=R>>3}if(d--,l===1||l===2)(p+=s.readSVarint())<v&&(v=p),p>b&&(b=p),(g+=s.readSVarint())<T&&(T=g),g>C&&(C=g);else if(l!==7)throw new Error("unknown command "+l)}return[v,T,b,C]},xf.prototype.toGeoJSON=function(s,r,l){var d,p,g=this.extent*Math.pow(2,l),v=this.extent*s,b=this.extent*r,T=this.loadGeometry(),C=xf.types[this.type];function R(K){for(var Y=0;Y<K.length;Y++){var ne=K[Y];K[Y]=[360*(ne.x+v)/g-180,360/Math.PI*Math.atan(Math.exp((180-360*(ne.y+b)/g)*Math.PI/180))-90]}}switch(this.type){case 1:var F=[];for(d=0;d<T.length;d++)F[d]=T[d][0];R(T=F);break;case 2:for(d=0;d<T.length;d++)R(T[d]);break;case 3:for(T=function(K){var Y=K.length;if(Y<=1)return[K];for(var ne,he,we=[],Ne=0;Ne<Y;Ne++){var Ee=qj(K[Ne]);Ee!==0&&(he===void 0&&(he=Ee<0),he===Ee<0?(ne&&we.push(ne),ne=[K[Ne]]):ne.push(K[Ne]))}return ne&&we.push(ne),we}(T),d=0;d<T.length;d++)for(p=0;p<T[d].length;p++)R(T[d][p])}T.length===1?T=T[0]:C="Multi"+C;var W={type:"Feature",geometry:{type:C,coordinates:T},properties:this.properties};return"id"in this&&(W.id=this.id),W};var Gj=KS,YS=JS;function JS(s,r){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=s,this._keys=[],this._values=[],this._features=[],s.readFields(Zj,this,r),this.length=this._features.length}function Zj(s,r,l){s===15?r.version=l.readVarint():s===1?r.name=l.readString():s===5?r.extent=l.readVarint():s===2?r._features.push(l.pos):s===3?r._keys.push(l.readString()):s===4&&r._values.push(function(d){for(var p=null,g=d.readVarint()+d.pos;d.pos<g;){var v=d.readVarint()>>3;p=v===1?d.readString():v===2?d.readFloat():v===3?d.readDouble():v===4?d.readVarint64():v===5?d.readVarint():v===6?d.readSVarint():v===7?d.readBoolean():null}return p}(l))}JS.prototype.feature=function(s){if(s<0||s>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[s];var r=this._pbf.readVarint()+this._pbf.pos;return new Gj(this._pbf,r,this.extent,this._keys,this._values)};var Xj=YS;function Kj(s,r,l){if(s===3){var d=new Xj(l,l.readVarint()+l.pos);d.length&&(r[d.name]=d)}}var uw=Py.VectorTile=function(s,r){this.layers=s.readFields(Kj,{},r)},Iy=Py.VectorTileFeature=KS;function Ay(s,r,l,d){const p=[],g=d===0?(v,b,T,C,R,F)=>{v.push(new le(F,T+(F-b)/(C-b)*(R-T)))}:(v,b,T,C,R,F)=>{v.push(new le(b+(F-T)/(R-T)*(C-b),F))};for(const v of s){const b=[];for(const T of v){if(T.length<=2)continue;const C=[];for(let W=0;W<T.length-1;W++){const K=T[W].x,Y=T[W].y,ne=T[W+1].x,he=T[W+1].y,we=d===0?K:Y,Ne=d===0?ne:he;we<r?Ne>r&&g(C,K,Y,ne,he,r):we>l?Ne<l&&g(C,K,Y,ne,he,l):C.push(T[W]),Ne<r&&we>=r&&g(C,K,Y,ne,he,r),Ne>l&&we<=l&&g(C,K,Y,ne,he,l)}let R=T[T.length-1];const F=d===0?R.x:R.y;F>=r&&F<=l&&C.push(R),C.length&&(R=C[C.length-1],C[0].x===R.x&&C[0].y===R.y||C.push(C[0]),b.push(C))}b.length&&p.push(b)}return p}Py.VectorTileLayer=YS;const Yj=Iy.types,Jj=Math.pow(2,13);function Q1(s,r,l,d,p,g,v,b){s.emplaceBack((r<<1)+v,(l<<1)+g,(Math.floor(d*Jj)<<1)+p,Math.round(b))}function em(s,r,l){s.emplaceBack(r.x,r.y,r.z,l[0]*16384,l[1]*16384,l[2]*16384)}class QS{constructor(){this.acc=new le(0,0),this.polyCount=[]}startRing(r){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new le(r.x,r.y),this.max=new le(r.x,r.y))}append(r,l){this.currentPolyCount.edges++,this.acc._add(r);const d=this.min,p=this.max;r.x<d.x?d.x=r.x:r.x>p.x&&(p.x=r.x),r.y<d.y?d.y=r.y:r.y>p.y&&(p.y=r.y),((r.x===0||r.x===Gn)&&r.x===l.x)!=((r.y===0||r.y===Gn)&&r.y===l.y)&&this.processBorderOverlap(r,l),l.x<0!=r.x<0&&this.addBorderIntersection(0,Sr(l.y,r.y,(0-l.x)/(r.x-l.x))),l.x>Gn!=r.x>Gn&&this.addBorderIntersection(1,Sr(l.y,r.y,(Gn-l.x)/(r.x-l.x))),l.y<0!=r.y<0&&this.addBorderIntersection(2,Sr(l.x,r.x,(0-l.y)/(r.y-l.y))),l.y>Gn!=r.y>Gn&&this.addBorderIntersection(3,Sr(l.x,r.x,(Gn-l.y)/(r.y-l.y)))}addBorderIntersection(r,l){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const d=this.borders[r];l<d[0]&&(d[0]=l),l>d[1]&&(d[1]=l)}processBorderOverlap(r,l){if(r.x===l.x){if(r.y===l.y)return;const d=r.x===0?0:1;this.addBorderIntersection(d,l.y),this.addBorderIntersection(d,r.y)}else{const d=r.y===0?2:3;this.addBorderIntersection(d,l.x),this.addBorderIntersection(d,r.x)}}centroid(){const r=this.polyCount.reduce((l,d)=>l+d.edges,0);return r!==0?this.acc.div(r)._round():new le(0,0)}span(){return new le(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((r,l)=>r+ +(l[0]!==Number.MAX_VALUE),0)}}class tm{constructor(r){this.zoom=r.zoom,this.canonical=r.canonical,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(l=>l.id),this.index=r.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=r.projection,this.layoutVertexArray=new Ft,this.centroidVertexArray=new Fl,this.indexArray=new Ln,this.programConfigurations=new Vh(r.layers,r.zoom),this.segments=new Ki,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id),this.enableTerrain=r.enableTerrain}populate(r,l,d,p){this.features=[],this.hasPattern=lw("fill-extrusion",this.layers,l),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=function(g){const v=Math.exp(Math.PI*(1-g.y/(1<<g.z)*2));return 80150034*v/(v*v+1)/Gn/(1<<g.z)}(d),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter;for(const{feature:g,id:v,index:b,sourceLayerIndex:T}of r){const C=this.layers[0]._featureFilter.needGeometry,R=Xh(g,C);if(!this.layers[0]._featureFilter.filter(new L(this.zoom),R,d))continue;const F={id:v,sourceLayerIndex:T,index:b,geometry:C?R.geometry:Cu(g,d,p),properties:g.properties,type:g.type,patterns:{}},W=this.layoutVertexArray.length;this.hasPattern?this.features.push(cw("fill-extrusion",this.layers,F,this.zoom,l)):this.addFeature(F,F.geometry,b,d,{},l.availableImages,p),l.featureIndex.insert(g,F.geometry,b,T,this.index,W)}this.sortBorders()}addFeatures(r,l,d,p,g){for(const v of this.features){const{geometry:b}=v;this.addFeature(v,b,v.index,l,d,p,g)}this.sortBorders()}update(r,l,d,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(r,l,this.stateDependentLayers,d,p)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(r){this.uploaded||(this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,Vj),this.indexBuffer=r.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=r.createVertexBuffer(this.layoutVertexExtArray,Uj.members,!0))),this.programConfigurations.upload(r),this.uploaded=!0}uploadCentroid(r){this.centroidVertexArray.length!==0&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=r.createVertexBuffer(this.centroidVertexArray,$j.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(r,l,d,p,g,v,b){const T=[new le(0,0),new le(Gn,Gn)],C=b.projection,R=C.name==="globe",F=this.enableTerrain&&!R?new QS:null,W=Yj[r.type]==="Polygon";R&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new Jt);const K=sw(l,500);for(let we=K.length-1;we>=0;we--){const Ne=K[we];(Ne.length===0||(Y=Ne[0]).every(Ee=>Ee.x<=0)||Y.every(Ee=>Ee.x>=Gn)||Y.every(Ee=>Ee.y<=0)||Y.every(Ee=>Ee.y>=Gn))&&K.splice(we,1)}var Y;let ne;if(R)ne=aT(K,T,p);else{ne=[];for(const we of K)ne.push({polygon:we,bounds:T})}const he=W?this.edgeRadius:0;for(const{polygon:we,bounds:Ne}of ne){let Ee=0,Le=0;for(const Ve of we)W&&!Ve[0].equals(Ve[Ve.length-1])&&Ve.push(Ve[0]),Le+=W?Ve.length-1:Ve.length;const We=this.segments.prepareSegment((W?5:4)*Le,this.layoutVertexArray,this.indexArray);if(W){const Ve=[],_t=[];Ee=We.vertexLength;for(const Mt of we){let Yt,Et;Mt.length&&Mt!==we[0]&&_t.push(Ve.length/2),Yt=Mt[1].sub(Mt[0])._perp()._unit();for(let Nt=1;Nt<Mt.length;Nt++){const Bt=Mt[Nt],Ht=Mt[Nt===Mt.length-1?1:Nt+1];let{x:nn,y:At}=Bt;if(he){Et=Ht.sub(Bt)._perp()._unit();const mn=Yt.add(Et)._unit(),Pn=he*Math.min(4,1/(Yt.x*mn.x+Yt.y*mn.y));nn+=Pn*mn.x,At+=Pn*mn.y,Yt=Et}Q1(this.layoutVertexArray,nn,At,0,0,1,1,0),We.vertexLength++,Ve.push(Bt.x,Bt.y),R&&em(this.layoutVertexExtArray,C.projectTilePoint(nn,At,p),C.upVector(p,nn,At))}}const ht=aw(Ve,_t);for(let Mt=0;Mt<ht.length;Mt+=3)this.indexArray.emplaceBack(Ee+ht[Mt],Ee+ht[Mt+2],Ee+ht[Mt+1]),We.primitiveLength++}for(const Ve of we){F&&Ve.length&&F.startRing(Ve[0]);let _t,ht,Mt,Yt=Ve.length>4&&rT(Ve[Ve.length-2],Ve[0],Ve[1]),Et=he?Qj(Ve[Ve.length-2],Ve[0],Ve[1],he):0;ht=Ve[1].sub(Ve[0])._perp()._unit();let Nt=!0;for(let Bt=1,Ht=0;Bt<Ve.length;Bt++){let nn=Ve[Bt-1],At=Ve[Bt];const mn=Ve[Bt===Ve.length-1?1:Bt+1];if(F&&W&&F.currentPolyCount.top++,nT(At,nn,Ne)){he&&(ht=mn.sub(At)._perp()._unit(),Nt=!Nt);continue}F&&F.append(At,nn);const Pn=At.sub(nn)._perp(),_n=Pn.x/(Math.abs(Pn.x)+Math.abs(Pn.y)),ar=Pn.y>0?1:0,rn=nn.dist(At);if(Ht+rn>32768&&(Ht=0),he){Mt=mn.sub(At)._perp()._unit();let lr=tT(nn,At,mn,eT(ht,Mt),he);isNaN(lr)&&(lr=0);const Kn=At.sub(nn)._unit();nn=nn.add(Kn.mult(Et))._round(),At=At.add(Kn.mult(-lr))._round(),Et=lr,ht=Mt}const Vn=We.vertexLength,sr=Ve.length>4&&rT(nn,At,mn);let Lr=iT(Ht,Yt,Nt);if(Q1(this.layoutVertexArray,nn.x,nn.y,_n,ar,0,0,Lr),Q1(this.layoutVertexArray,nn.x,nn.y,_n,ar,0,1,Lr),Ht+=rn,Lr=iT(Ht,sr,!Nt),Yt=sr,Q1(this.layoutVertexArray,At.x,At.y,_n,ar,0,0,Lr),Q1(this.layoutVertexArray,At.x,At.y,_n,ar,0,1,Lr),We.vertexLength+=4,this.indexArray.emplaceBack(Vn+0,Vn+1,Vn+2),this.indexArray.emplaceBack(Vn+1,Vn+3,Vn+2),We.primitiveLength+=2,he){const lr=Ee+(Bt===1?Ve.length-2:Bt-2),Kn=Bt===1?Ee:lr+1;if(this.indexArray.emplaceBack(Vn+1,lr,Vn+3),this.indexArray.emplaceBack(lr,Kn,Vn+3),We.primitiveLength+=2,_t===void 0&&(_t=Vn),!nT(mn,Ve[Bt],Ne)){const hi=Bt===Ve.length-1?_t:We.vertexLength;this.indexArray.emplaceBack(Vn+2,Vn+3,hi),this.indexArray.emplaceBack(Vn+3,hi+1,hi),this.indexArray.emplaceBack(Vn+3,Kn,hi+1),We.primitiveLength+=3}Nt=!Nt}if(R){const lr=this.layoutVertexExtArray,Kn=C.projectTilePoint(nn.x,nn.y,p),hi=C.projectTilePoint(At.x,At.y,p),dr=C.upVector(p,nn.x,nn.y),hr=C.upVector(p,At.x,At.y);em(lr,Kn,dr),em(lr,Kn,dr),em(lr,hi,hr),em(lr,hi,hr)}}W&&(Ee+=Ve.length-1)}}if(F&&F.polyCount.length>0){if(F.borders){F.vertexArrayOffset=this.centroidVertexArray.length;const we=F.borders,Ne=this.featuresOnBorder.push(F)-1;for(let Ee=0;Ee<4;Ee++)we[Ee][0]!==Number.MAX_VALUE&&this.borders[Ee].push(Ne)}this.encodeCentroid(F.borders?void 0:F.centroid(),F)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,d,g,v,p)}sortBorders(){for(let r=0;r<4;r++)this.borders[r].sort((l,d)=>this.featuresOnBorder[l].borders[r][0]-this.featuresOnBorder[d].borders[r][0])}encodeCentroid(r,l,d=!0){let p,g;if(r)if(r.y!==0){const b=l.span()._mult(this.tileToMeter);p=(Math.max(r.x,1)<<3)+Math.min(7,Math.round(b.x/10)),g=(Math.max(r.y,1)<<3)+Math.min(7,Math.round(b.y/10))}else p=Math.ceil(7*(r.x+450)),g=0;else p=0,g=+d;let v=d?this.centroidVertexArray.length:l.vertexArrayOffset;for(const b of l.polyCount){d&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*b.edges+b.top);for(let T=0;T<b.top;T++)this.centroidVertexArray.emplace(v++,p,g);for(let T=0;T<2*b.edges;T++)this.centroidVertexArray.emplace(v++,0,g),this.centroidVertexArray.emplace(v++,p,g)}}}function eT(s,r){const l=s.add(r)._unit();return s.x*l.x+s.y*l.y}function Qj(s,r,l,d){const p=r.sub(s)._perp()._unit(),g=l.sub(r)._perp()._unit();return tT(s,r,l,eT(p,g),d)}function tT(s,r,l,d,p){const g=Math.sqrt(1-d*d);return Math.min(s.dist(r)/3,r.dist(l)/3,p*g/d)}function nT(s,r,l){return s.x<l[0].x&&r.x<l[0].x||s.x>l[1].x&&r.x>l[1].x||s.y<l[0].y&&r.y<l[0].y||s.y>l[1].y&&r.y>l[1].y}function rT(s,r,l){if(s.x<0||s.x>=Gn||r.x<0||r.x>=Gn||l.x<0||l.x>=Gn)return!1;const d=l.sub(r),p=d.perp(),g=s.sub(r);return(d.x*g.x+d.y*g.y)/Math.sqrt((d.x*d.x+d.y*d.y)*(g.x*g.x+g.y*g.y))>-.866&&p.x*g.x+p.y*g.y<0}function iT(s,r,l){const d=r?2|s:-3&s;return l?1|d:-2&d}function oT(){const s=Math.PI/32,r=Math.tan(s),l=Z1;return l*Math.sqrt(1+2*r*r)-l}function aT(s,r,l){const d=1<<l.z,p=Ds(l.x/d),g=Ds((l.x+1)/d),v=Yo(l.y/d),b=Yo((l.y+1)/d);return function(T,C,R,F,W=0,K){const Y=[];if(!T.length||!R||!F)return Y;const ne=(Ve,_t)=>{for(const ht of Ve)Y.push({polygon:ht,bounds:_t})},he=Math.ceil(Math.log2(R)),we=Math.ceil(Math.log2(F)),Ne=he-we,Ee=[];for(let Ve=0;Ve<Math.abs(Ne);Ve++)Ee.push(Ne>0?0:1);for(let Ve=0;Ve<Math.min(he,we);Ve++)Ee.push(0),Ee.push(1);let Le=T;if(Le=Ay(Le,C[0].y-W,C[1].y+W,1),Le=Ay(Le,C[0].x-W,C[1].x+W,0),!Le.length)return Y;const We=[];for(Ee.length?We.push({polygons:Le,bounds:C,depth:0}):ne(Le,C);We.length;){const Ve=We.pop(),_t=Ve.depth,ht=Ee[_t],Mt=Ve.bounds[0],Yt=Ve.bounds[1],Et=ht===0?Mt.x:Mt.y,Nt=ht===0?Yt.x:Yt.y,Bt=K?K(ht,Et,Nt):.5*(Et+Nt),Ht=Ay(Ve.polygons,Et-W,Bt+W,ht),nn=Ay(Ve.polygons,Bt-W,Nt+W,ht);if(Ht.length){const At=[Mt,new le(ht===0?Bt:Yt.x,ht===1?Bt:Yt.y)];Ee.length>_t+1?We.push({polygons:Ht,bounds:At,depth:_t+1}):ne(Ht,At)}if(nn.length){const At=[new le(ht===0?Bt:Mt.x,ht===1?Bt:Mt.y),Yt];Ee.length>_t+1?We.push({polygons:nn,bounds:At,depth:_t+1}):ne(nn,At)}}return Y}(s,r,Math.ceil((g-p)/11.25),Math.ceil((v-b)/11.25),1,(T,C,R)=>{if(T===0)return .5*(C+R);{const F=Yo((l.y+C/Gn)/d);return(Rc(.5*(Yo((l.y+R/Gn)/d)+F))*d-l.y)*Gn}})}Sn(tm,"FillExtrusionBucket",{omit:["layers","features"]}),Sn(QS,"PartMetadata");const e$=new Ie({"fill-extrusion-edge-radius":new te(Pt["layout_fill-extrusion"]["fill-extrusion-edge-radius"])});var t$={paint:new Ie({"fill-extrusion-opacity":new te(Pt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new pe(Pt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new te(Pt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new te(Pt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new pe(Pt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new pe(Pt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new pe(Pt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new te(Pt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new te(Pt["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new te(Pt["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"]),"fill-extrusion-rounded-roof":new te(Pt["paint_fill-extrusion"]["fill-extrusion-rounded-roof"])}),layout:e$};function sT(s,r,l){var d=2*Math.PI*6378137/256/Math.pow(2,l);return[s*d-2*Math.PI*6378137/2,r*d-2*Math.PI*6378137/2]}class My{constructor(r,l,d){this.z=r,this.x=l,this.y=d,this.key=nm(0,r,r,l,d)}equals(r){return this.z===r.z&&this.x===r.x&&this.y===r.y}url(r,l){const d=function(g,v,b){var T=sT(256*g,256*(v=Math.pow(2,b)-v-1),b),C=sT(256*(g+1),256*(v+1),b);return T[0]+","+T[1]+","+C[0]+","+C[1]}(this.x,this.y,this.z),p=function(g,v,b){let T,C="";for(let R=g;R>0;R--)T=1<<R-1,C+=(v&T?1:0)+(b&T?2:0);return C}(this.z,this.x,this.y);return r[(this.x+this.y)%r.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(l==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",p).replace("{bbox-epsg-3857}",d)}toString(){return`${this.z}/${this.x}/${this.y}`}}class lT{constructor(r,l){this.wrap=r,this.canonical=l,this.key=nm(r,l.z,l.z,l.x,l.y)}}class Ea{constructor(r,l,d,p,g){this.overscaledZ=r,this.wrap=l,this.canonical=new My(d,+p,+g),this.key=l===0&&r===d?this.canonical.key:nm(l,r,d,p,g)}equals(r){return this.overscaledZ===r.overscaledZ&&this.wrap===r.wrap&&this.canonical.equals(r.canonical)}scaledTo(r){const l=this.canonical.z-r;return r>this.canonical.z?new Ea(r,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Ea(r,this.wrap,r,this.canonical.x>>l,this.canonical.y>>l)}calculateScaledKey(r,l=!0){if(this.overscaledZ===r&&l)return this.key;if(r>this.canonical.z)return nm(this.wrap*+l,r,this.canonical.z,this.canonical.x,this.canonical.y);{const d=this.canonical.z-r;return nm(this.wrap*+l,r,r,this.canonical.x>>d,this.canonical.y>>d)}}isChildOf(r){if(r.wrap!==this.wrap)return!1;const l=this.canonical.z-r.canonical.z;return r.overscaledZ===0||r.overscaledZ<this.overscaledZ&&r.canonical.x===this.canonical.x>>l&&r.canonical.y===this.canonical.y>>l}children(r){if(this.overscaledZ>=r)return[new Ea(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const l=this.canonical.z+1,d=2*this.canonical.x,p=2*this.canonical.y;return[new Ea(l,this.wrap,l,d,p),new Ea(l,this.wrap,l,d+1,p),new Ea(l,this.wrap,l,d,p+1),new Ea(l,this.wrap,l,d+1,p+1)]}isLessThan(r){return this.wrap<r.wrap||!(this.wrap>r.wrap)&&(this.overscaledZ<r.overscaledZ||!(this.overscaledZ>r.overscaledZ)&&(this.canonical.x<r.canonical.x||!(this.canonical.x>r.canonical.x)&&this.canonical.y<r.canonical.y))}wrapped(){return new Ea(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(r){return new Ea(this.overscaledZ,r,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new lT(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function nm(s,r,l,d,p){const g=1<<Math.min(l,22);let v=g*(p%g)+d%g;return s&&l<22&&(v+=g*g*((s<0?-2*s-1:2*s)%(1<<2*(22-l)))),16*(32*v+l)+(r-l)}Sn(My,"CanonicalTileID"),Sn(Ea,"OverscaledTileID",{omit:["projMatrix"]});class bf extends le{constructor(r,l,d){super(r,l),this.z=d}}function rm(s,r){return s.x*r.x+s.y*r.y}function cT(s,r){if(s.length===1){let l=0;const d=r[l++];let p;for(;!p||d.equals(p);)if(p=r[l++],!p)return 1/0;for(;l<r.length;l++){const g=r[l],v=s[0],b=p.sub(d),T=g.sub(d),C=v.sub(d),R=rm(b,b),F=rm(b,T),W=rm(T,T),K=rm(C,b),Y=rm(C,T),ne=R*W-F*F,he=(W*K-F*Y)/ne,we=(R*Y-F*K)/ne,Ne=d.z*(1-he-we)+p.z*he+g.z*we;if(isFinite(Ne))return Ne}return 1/0}{let l=1/0;for(const d of r)l=Math.min(l,d.z);return l}}function uT(s,r,l,d,p,g,v,b){const T=v*p.getElevationAt(s,r,!0,!0),C=g[0]!==0,R=C?g[1]===0?v*(g[0]/7-450):v*function(F,W,K){const Y=Math.floor(W[0]/8),ne=Math.floor(W[1]/8),he=10*(W[0]-8*Y),we=10*(W[1]-8*ne),Ne=F.getElevationAt(Y,ne,!0,!0),Ee=F.getMeterToDEM(K),Le=Math.floor(.5*(he*Ee-1)),We=Math.floor(.5*(we*Ee-1)),Ve=F.tileCoordToPixel(Y,ne),_t=2*Le+1,ht=2*We+1,Mt=function(nn,At,mn,Pn,_n){return[nn.getElevationAtPixel(At,mn,!0),nn.getElevationAtPixel(At+_n,mn,!0),nn.getElevationAtPixel(At,mn+_n,!0),nn.getElevationAtPixel(At+Pn,mn+_n,!0)]}(F,Ve.x-Le,Ve.y-We,_t,ht),Yt=Math.abs(Mt[0]-Mt[1]),Et=Math.abs(Mt[2]-Mt[3]),Nt=Math.abs(Mt[0]-Mt[2])+Math.abs(Mt[1]-Mt[3]),Bt=Math.min(.25,.5*Ee*(Yt+Et)/_t),Ht=Math.min(.25,.5*Ee*Nt/ht);return Ne+Math.max(Bt*he,Ht*we)}(p,g,b):T;return{base:T+(l===0)?-1:l,top:C?Math.max(R+d,T+l+2):T+d}}const n$=it([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:r$}=n$,i$=it([{name:"a_packed",components:4,type:"Float32"}]),{members:o$}=i$,a$=Iy.types,s$=Math.cos(Math.PI/180*37.5);class Dy{constructor(r){this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(l=>l.id),this.index=r.index,this.projection=r.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(l=>{this.gradients[l.id]={}}),this.layoutVertexArray=new wt,this.layoutVertexArray2=new Xt,this.indexArray=new Ln,this.programConfigurations=new Vh(r.layers,r.zoom),this.segments=new Ki,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(r,l,d,p){this.hasPattern=lw("line",this.layers,l);const g=this.layers[0].layout.get("line-sort-key"),v=[];for(const{feature:R,id:F,index:W,sourceLayerIndex:K}of r){const Y=this.layers[0]._featureFilter.needGeometry,ne=Xh(R,Y);if(!this.layers[0]._featureFilter.filter(new L(this.zoom),ne,d))continue;const he=g?g.evaluate(ne,{},d):void 0,we={id:F,properties:R.properties,type:R.type,sourceLayerIndex:K,index:W,geometry:Y?ne.geometry:Cu(R,d,p),patterns:{},sortKey:he};v.push(we)}g&&v.sort((R,F)=>R.sortKey-F.sortKey);const{lineAtlas:b,featureIndex:T}=l,C=this.addConstantDashes(b);for(const R of v){const{geometry:F,index:W,sourceLayerIndex:K}=R;if(C&&this.addFeatureDashes(R,b),this.hasPattern){const Y=cw("line",this.layers,R,this.zoom,l);this.patternFeatures.push(Y)}else this.addFeature(R,F,W,d,b.positions,l.availableImages);T.insert(r[W].feature,F,W,K,this.index)}}addConstantDashes(r){let l=!1;for(const d of this.layers){const p=d.paint.get("line-dasharray").value,g=d.layout.get("line-cap").value;if(p.kind!=="constant"||g.kind!=="constant")l=!0;else{const v=g.value,b=p.value;if(!b)continue;r.addDash(b,v)}}return l}addFeatureDashes(r,l){const d=this.zoom;for(const p of this.layers){const g=p.paint.get("line-dasharray").value,v=p.layout.get("line-cap").value;if(g.kind==="constant"&&v.kind==="constant")continue;let b,T;if(g.kind==="constant"){if(b=g.value,!b)continue}else b=g.evaluate({zoom:d},r);T=v.kind==="constant"?v.value:v.evaluate({zoom:d},r),l.addDash(b,T),r.patterns[p.id]=l.getKey(b,T)}}update(r,l,d,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(r,l,this.stateDependentLayers,d,p)}addFeatures(r,l,d,p,g){for(const v of this.patternFeatures)this.addFeature(v,v.geometry,v.index,l,d,p)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(r){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=r.createVertexBuffer(this.layoutVertexArray2,o$)),this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,r$),this.indexBuffer=r.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(r),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(r){if(r.properties&&r.properties.hasOwnProperty("mapbox_clip_start")&&r.properties.hasOwnProperty("mapbox_clip_end"))return{start:+r.properties.mapbox_clip_start,end:+r.properties.mapbox_clip_end}}addFeature(r,l,d,p,g,v){const b=this.layers[0].layout,T=b.get("line-join").evaluate(r,{}),C=b.get("line-cap").evaluate(r,{}),R=b.get("line-miter-limit"),F=b.get("line-round-limit");this.lineClips=this.lineFeatureClips(r);for(const W of l)this.addLine(W,r,T,C,R,F);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,d,g,v,p)}addLine(r,l,d,p,g,v){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let we=0;we<r.length-1;we++)this.totalDistance+=r[we].dist(r[we+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const b=a$[l.type]==="Polygon";let T=r.length;for(;T>=2&&r[T-1].equals(r[T-2]);)T--;let C=0;for(;C<T-1&&r[C].equals(r[C+1]);)C++;if(T<(b?3:2))return;d==="bevel"&&(g=1.05);const R=this.overscaling<=16?15*Gn/(512*this.overscaling):0,F=this.segments.prepareSegment(10*T,this.layoutVertexArray,this.indexArray);let W,K,Y,ne,he;this.e1=this.e2=-1,b&&(W=r[T-2],he=r[C].sub(W)._unit()._perp());for(let we=C;we<T;we++){if(Y=we===T-1?b?r[C+1]:void 0:r[we+1],Y&&r[we].equals(Y))continue;he&&(ne=he),W&&(K=W),W=r[we],he=Y?Y.sub(W)._unit()._perp():ne,ne=ne||he;let Ne=ne.add(he);Ne.x===0&&Ne.y===0||Ne._unit();const Ee=ne.x*he.x+ne.y*he.y,Le=Ne.x*he.x+Ne.y*he.y,We=Le!==0?1/Le:1/0,Ve=2*Math.sqrt(2-2*Le),_t=Le<s$&&K&&Y,ht=ne.x*he.y-ne.y*he.x>0;if(_t&&we>C){const Et=W.dist(K);if(Et>2*R){const Nt=W.sub(W.sub(K)._mult(R/Et)._round());this.updateDistance(K,Nt),this.addCurrentVertex(Nt,ne,0,0,F),K=Nt}}const Mt=K&&Y;let Yt=Mt?d:b?"butt":p;if(Mt&&Yt==="round"&&(We<v?Yt="miter":We<=2&&(Yt="fakeround")),Yt==="miter"&&We>g&&(Yt="bevel"),Yt==="bevel"&&(We>2&&(Yt="flipbevel"),We<g&&(Yt="miter")),K&&this.updateDistance(K,W),Yt==="miter")Ne._mult(We),this.addCurrentVertex(W,Ne,0,0,F);else if(Yt==="flipbevel"){if(We>100)Ne=he.mult(-1);else{const Et=We*ne.add(he).mag()/ne.sub(he).mag();Ne._perp()._mult(Et*(ht?-1:1))}this.addCurrentVertex(W,Ne,0,0,F),this.addCurrentVertex(W,Ne.mult(-1),0,0,F)}else if(Yt==="bevel"||Yt==="fakeround"){const Et=-Math.sqrt(We*We-1),Nt=ht?Et:0,Bt=ht?0:Et;if(K&&this.addCurrentVertex(W,ne,Nt,Bt,F),Yt==="fakeround"){const Ht=Math.round(180*Ve/Math.PI/20);for(let nn=1;nn<Ht;nn++){let At=nn/Ht;if(At!==.5){const Pn=At-.5;At+=At*Pn*(At-1)*((1.0904+Ee*(Ee*(3.55645-1.43519*Ee)-3.2452))*Pn*Pn+(.848013+Ee*(.215638*Ee-1.06021)))}const mn=he.sub(ne)._mult(At)._add(ne)._unit()._mult(ht?-1:1);this.addHalfVertex(W,mn.x,mn.y,!1,ht,0,F)}}Y&&this.addCurrentVertex(W,he,-Nt,-Bt,F)}else if(Yt==="butt")this.addCurrentVertex(W,Ne,0,0,F);else if(Yt==="square"){const Et=K?1:-1;K||this.addCurrentVertex(W,Ne,Et,Et,F),this.addCurrentVertex(W,Ne,0,0,F),K&&this.addCurrentVertex(W,Ne,Et,Et,F)}else Yt==="round"&&(K&&(this.addCurrentVertex(W,ne,0,0,F),this.addCurrentVertex(W,ne,1,1,F,!0)),Y&&(this.addCurrentVertex(W,he,-1,-1,F,!0),this.addCurrentVertex(W,he,0,0,F)));if(_t&&we<T-1){const Et=W.dist(Y);if(Et>2*R){const Nt=W.add(Y.sub(W)._mult(R/Et)._round());this.updateDistance(W,Nt),this.addCurrentVertex(Nt,he,0,0,F),W=Nt}}}}addCurrentVertex(r,l,d,p,g,v=!1){const b=l.y*p-l.x,T=-l.y-l.x*p;this.addHalfVertex(r,l.x+l.y*d,l.y-l.x*d,v,!1,d,g),this.addHalfVertex(r,b,T,v,!0,-p,g)}addHalfVertex({x:r,y:l},d,p,g,v,b,T){this.layoutVertexArray.emplaceBack((r<<1)+(g?1:0),(l<<1)+(v?1:0),Math.round(63*d)+128,Math.round(63*p)+128,1+(b===0?0:b<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const C=T.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,C),T.primitiveLength++),v?this.e2=C:this.e1=C}updateScaledDistance(){if(this.lineClips){const r=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=r*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(r,l){this.distance+=r.dist(l),this.updateScaledDistance()}}Sn(Dy,"LineBucket",{omit:["layers","patternFeatures"]});const l$=new Ie({"line-cap":new pe(Pt.layout_line["line-cap"]),"line-join":new pe(Pt.layout_line["line-join"]),"line-miter-limit":new te(Pt.layout_line["line-miter-limit"]),"line-round-limit":new te(Pt.layout_line["line-round-limit"]),"line-sort-key":new pe(Pt.layout_line["line-sort-key"])});var dT={paint:new Ie({"line-opacity":new pe(Pt.paint_line["line-opacity"]),"line-color":new pe(Pt.paint_line["line-color"]),"line-translate":new te(Pt.paint_line["line-translate"]),"line-translate-anchor":new te(Pt.paint_line["line-translate-anchor"]),"line-width":new pe(Pt.paint_line["line-width"]),"line-gap-width":new pe(Pt.paint_line["line-gap-width"]),"line-offset":new pe(Pt.paint_line["line-offset"]),"line-blur":new pe(Pt.paint_line["line-blur"]),"line-dasharray":new pe(Pt.paint_line["line-dasharray"]),"line-pattern":new pe(Pt.paint_line["line-pattern"]),"line-gradient":new Te(Pt.paint_line["line-gradient"]),"line-trim-offset":new te(Pt.paint_line["line-trim-offset"])}),layout:l$};const hT=new class extends pe{possiblyEvaluate(s,r){return r=new L(Math.floor(r.zoom),{now:r.now,fadeDuration:r.fadeDuration,transition:r.transition}),super.possiblyEvaluate(s,r)}evaluate(s,r,l,d){return r=ct({},r,{zoom:Math.floor(r.zoom)}),super.evaluate(s,r,l,d)}}(dT.paint.properties["line-width"].specification);function pT(s,r){return r>0?r+2*s:s}hT.useIntegerZoom=!0;const c$=it([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),u$=it([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),d$=it([{name:"a_projected_pos",components:4,type:"Float32"}],4);it([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const h$=it([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),p$=it([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);it([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const fT=it([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),f$=it([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);it([{name:"triangle",components:3,type:"Uint16"}]),it([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),it([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),it([{type:"Float32",name:"offsetX"}]),it([{type:"Int16",name:"x"},{type:"Int16",name:"y"}]);var Fo=24;const Vl=128;function dw(s,r){const{expression:l}=r;if(l.kind==="constant")return{kind:"constant",layoutSize:l.evaluate(new L(s+1))};if(l.kind==="source")return{kind:"source"};{const{zoomStops:d,interpolationType:p}=l;let g=0;for(;g<d.length&&d[g]<=s;)g++;g=Math.max(0,g-1);let v=g;for(;v<d.length&&d[v]<s+1;)v++;v=Math.min(d.length-1,v);const b=d[g],T=d[v];return l.kind==="composite"?{kind:"composite",minZoom:b,maxZoom:T,interpolationType:p}:{kind:"camera",minZoom:b,maxZoom:T,minSize:l.evaluate(new L(b)),maxSize:l.evaluate(new L(T)),interpolationType:p}}}function Ry(s,{uSize:r,uSizeT:l},{lowerSize:d,upperSize:p}){return s.kind==="source"?d/Vl:s.kind==="composite"?Sr(d/Vl,p/Vl,l):r}function wf(s,r){let l=0,d=0;if(s.kind==="constant")d=s.layoutSize;else if(s.kind!=="source"){const{interpolationType:p,minZoom:g,maxZoom:v}=s,b=p?ze(aa.interpolationFactor(p,r,g,v),0,1):0;s.kind==="camera"?d=Sr(s.minSize,s.maxSize,b):l=b}return{uSizeT:l,uSize:d}}var m$=Object.freeze({__proto__:null,SIZE_PACK_FACTOR:Vl,evaluateSizeForFeature:Ry,evaluateSizeForZoom:wf,getSizeData:dw});function g$(s,r,l){return s.sections.forEach(d=>{d.text=function(p,g,v){const b=g.layout.get("text-transform").evaluate(v,{});return b==="uppercase"?p=p.toLocaleUpperCase():b==="lowercase"&&(p=p.toLocaleLowerCase()),D.applyArabicShaping&&(p=D.applyArabicShaping(p)),p}(d.text,r,l)}),s}const im={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂","←":"↑","→":"↓"};function _$(s){return s==="︶"||s==="﹈"||s==="︸"||s==="﹄"||s==="﹂"||s==="︾"||s==="︼"||s==="︺"||s==="︘"||s==="﹀"||s==="︐"||s==="︓"||s==="︔"||s==="｀"||s==="￣"||s==="︑"||s==="︒"}function y$(s){return s==="︵"||s==="﹇"||s==="︷"||s==="﹃"||s==="﹁"||s==="︽"||s==="︻"||s==="︹"||s==="︗"||s==="︿"}var mT=oi,gT=function(s,r,l,d,p){var g,v,b=8*p-d-1,T=(1<<b)-1,C=T>>1,R=-7,F=l?p-1:0,W=l?-1:1,K=s[r+F];for(F+=W,g=K&(1<<-R)-1,K>>=-R,R+=b;R>0;g=256*g+s[r+F],F+=W,R-=8);for(v=g&(1<<-R)-1,g>>=-R,R+=d;R>0;v=256*v+s[r+F],F+=W,R-=8);if(g===0)g=1-C;else{if(g===T)return v?NaN:1/0*(K?-1:1);v+=Math.pow(2,d),g-=C}return(K?-1:1)*v*Math.pow(2,g-d)},_T=function(s,r,l,d,p,g){var v,b,T,C=8*g-p-1,R=(1<<C)-1,F=R>>1,W=p===23?Math.pow(2,-24)-Math.pow(2,-77):0,K=d?0:g-1,Y=d?1:-1,ne=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(b=isNaN(r)?1:0,v=R):(v=Math.floor(Math.log(r)/Math.LN2),r*(T=Math.pow(2,-v))<1&&(v--,T*=2),(r+=v+F>=1?W/T:W*Math.pow(2,1-F))*T>=2&&(v++,T/=2),v+F>=R?(b=0,v=R):v+F>=1?(b=(r*T-1)*Math.pow(2,p),v+=F):(b=r*Math.pow(2,F-1)*Math.pow(2,p),v=0));p>=8;s[l+K]=255&b,K+=Y,b/=256,p-=8);for(v=v<<p|b,C+=p;C>0;s[l+K]=255&v,K+=Y,v/=256,C-=8);s[l+K-Y]|=128*ne};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */function oi(s){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(s)?s:new Uint8Array(s||0),this.pos=0,this.type=0,this.length=this.buf.length}oi.Varint=0,oi.Fixed64=1,oi.Bytes=2,oi.Fixed32=5;var hw=4294967296,yT=1/hw,vT=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Pu(s){return s.type===oi.Bytes?s.readVarint()+s.pos:s.pos+1}function Ef(s,r,l){return l?4294967296*r+(s>>>0):4294967296*(r>>>0)+(s>>>0)}function xT(s,r,l){var d=r<=16383?1:r<=2097151?2:r<=268435455?3:Math.floor(Math.log(r)/(7*Math.LN2));l.realloc(d);for(var p=l.pos-1;p>=s;p--)l.buf[p+d]=l.buf[p]}function v$(s,r){for(var l=0;l<s.length;l++)r.writeVarint(s[l])}function x$(s,r){for(var l=0;l<s.length;l++)r.writeSVarint(s[l])}function b$(s,r){for(var l=0;l<s.length;l++)r.writeFloat(s[l])}function w$(s,r){for(var l=0;l<s.length;l++)r.writeDouble(s[l])}function E$(s,r){for(var l=0;l<s.length;l++)r.writeBoolean(s[l])}function S$(s,r){for(var l=0;l<s.length;l++)r.writeFixed32(s[l])}function T$(s,r){for(var l=0;l<s.length;l++)r.writeSFixed32(s[l])}function C$(s,r){for(var l=0;l<s.length;l++)r.writeFixed64(s[l])}function k$(s,r){for(var l=0;l<s.length;l++)r.writeSFixed64(s[l])}function Oy(s,r){return(s[r]|s[r+1]<<8|s[r+2]<<16)+16777216*s[r+3]}function Sf(s,r,l){s[l]=r,s[l+1]=r>>>8,s[l+2]=r>>>16,s[l+3]=r>>>24}function bT(s,r){return(s[r]|s[r+1]<<8|s[r+2]<<16)+(s[r+3]<<24)}oi.prototype={destroy:function(){this.buf=null},readFields:function(s,r,l){for(l=l||this.length;this.pos<l;){var d=this.readVarint(),p=d>>3,g=this.pos;this.type=7&d,s(p,r,this),this.pos===g&&this.skip(d)}return r},readMessage:function(s,r){return this.readFields(s,r,this.readVarint()+this.pos)},readFixed32:function(){var s=Oy(this.buf,this.pos);return this.pos+=4,s},readSFixed32:function(){var s=bT(this.buf,this.pos);return this.pos+=4,s},readFixed64:function(){var s=Oy(this.buf,this.pos)+Oy(this.buf,this.pos+4)*hw;return this.pos+=8,s},readSFixed64:function(){var s=Oy(this.buf,this.pos)+bT(this.buf,this.pos+4)*hw;return this.pos+=8,s},readFloat:function(){var s=gT(this.buf,this.pos,!0,23,4);return this.pos+=4,s},readDouble:function(){var s=gT(this.buf,this.pos,!0,52,8);return this.pos+=8,s},readVarint:function(s){var r,l,d=this.buf;return r=127&(l=d[this.pos++]),l<128?r:(r|=(127&(l=d[this.pos++]))<<7,l<128?r:(r|=(127&(l=d[this.pos++]))<<14,l<128?r:(r|=(127&(l=d[this.pos++]))<<21,l<128?r:function(p,g,v){var b,T,C=v.buf;if(b=(112&(T=C[v.pos++]))>>4,T<128||(b|=(127&(T=C[v.pos++]))<<3,T<128)||(b|=(127&(T=C[v.pos++]))<<10,T<128)||(b|=(127&(T=C[v.pos++]))<<17,T<128)||(b|=(127&(T=C[v.pos++]))<<24,T<128)||(b|=(1&(T=C[v.pos++]))<<31,T<128))return Ef(p,b,g);throw new Error("Expected varint not more than 10 bytes")}(r|=(15&(l=d[this.pos]))<<28,s,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var s=this.readVarint();return s%2==1?(s+1)/-2:s/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var s=this.readVarint()+this.pos,r=this.pos;return this.pos=s,s-r>=12&&vT?function(l,d,p){return vT.decode(l.subarray(d,p))}(this.buf,r,s):function(l,d,p){for(var g="",v=d;v<p;){var b,T,C,R=l[v],F=null,W=R>239?4:R>223?3:R>191?2:1;if(v+W>p)break;W===1?R<128&&(F=R):W===2?(192&(b=l[v+1]))==128&&(F=(31&R)<<6|63&b)<=127&&(F=null):W===3?(T=l[v+2],(192&(b=l[v+1]))==128&&(192&T)==128&&((F=(15&R)<<12|(63&b)<<6|63&T)<=2047||F>=55296&&F<=57343)&&(F=null)):W===4&&(T=l[v+2],C=l[v+3],(192&(b=l[v+1]))==128&&(192&T)==128&&(192&C)==128&&((F=(15&R)<<18|(63&b)<<12|(63&T)<<6|63&C)<=65535||F>=1114112)&&(F=null)),F===null?(F=65533,W=1):F>65535&&(F-=65536,g+=String.fromCharCode(F>>>10&1023|55296),F=56320|1023&F),g+=String.fromCharCode(F),v+=W}return g}(this.buf,r,s)},readBytes:function(){var s=this.readVarint()+this.pos,r=this.buf.subarray(this.pos,s);return this.pos=s,r},readPackedVarint:function(s,r){if(this.type!==oi.Bytes)return s.push(this.readVarint(r));var l=Pu(this);for(s=s||[];this.pos<l;)s.push(this.readVarint(r));return s},readPackedSVarint:function(s){if(this.type!==oi.Bytes)return s.push(this.readSVarint());var r=Pu(this);for(s=s||[];this.pos<r;)s.push(this.readSVarint());return s},readPackedBoolean:function(s){if(this.type!==oi.Bytes)return s.push(this.readBoolean());var r=Pu(this);for(s=s||[];this.pos<r;)s.push(this.readBoolean());return s},readPackedFloat:function(s){if(this.type!==oi.Bytes)return s.push(this.readFloat());var r=Pu(this);for(s=s||[];this.pos<r;)s.push(this.readFloat());return s},readPackedDouble:function(s){if(this.type!==oi.Bytes)return s.push(this.readDouble());var r=Pu(this);for(s=s||[];this.pos<r;)s.push(this.readDouble());return s},readPackedFixed32:function(s){if(this.type!==oi.Bytes)return s.push(this.readFixed32());var r=Pu(this);for(s=s||[];this.pos<r;)s.push(this.readFixed32());return s},readPackedSFixed32:function(s){if(this.type!==oi.Bytes)return s.push(this.readSFixed32());var r=Pu(this);for(s=s||[];this.pos<r;)s.push(this.readSFixed32());return s},readPackedFixed64:function(s){if(this.type!==oi.Bytes)return s.push(this.readFixed64());var r=Pu(this);for(s=s||[];this.pos<r;)s.push(this.readFixed64());return s},readPackedSFixed64:function(s){if(this.type!==oi.Bytes)return s.push(this.readSFixed64());var r=Pu(this);for(s=s||[];this.pos<r;)s.push(this.readSFixed64());return s},skip:function(s){var r=7&s;if(r===oi.Varint)for(;this.buf[this.pos++]>127;);else if(r===oi.Bytes)this.pos=this.readVarint()+this.pos;else if(r===oi.Fixed32)this.pos+=4;else{if(r!==oi.Fixed64)throw new Error("Unimplemented type: "+r);this.pos+=8}},writeTag:function(s,r){this.writeVarint(s<<3|r)},realloc:function(s){for(var r=this.length||16;r<this.pos+s;)r*=2;if(r!==this.length){var l=new Uint8Array(r);l.set(this.buf),this.buf=l,this.length=r}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(s){this.realloc(4),Sf(this.buf,s,this.pos),this.pos+=4},writeSFixed32:function(s){this.realloc(4),Sf(this.buf,s,this.pos),this.pos+=4},writeFixed64:function(s){this.realloc(8),Sf(this.buf,-1&s,this.pos),Sf(this.buf,Math.floor(s*yT),this.pos+4),this.pos+=8},writeSFixed64:function(s){this.realloc(8),Sf(this.buf,-1&s,this.pos),Sf(this.buf,Math.floor(s*yT),this.pos+4),this.pos+=8},writeVarint:function(s){(s=+s||0)>268435455||s<0?function(r,l){var d,p;if(r>=0?(d=r%4294967296|0,p=r/4294967296|0):(p=~(-r/4294967296),4294967295^(d=~(-r%4294967296))?d=d+1|0:(d=0,p=p+1|0)),r>=18446744073709552e3||r<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");l.realloc(10),function(g,v,b){b.buf[b.pos++]=127&g|128,g>>>=7,b.buf[b.pos++]=127&g|128,g>>>=7,b.buf[b.pos++]=127&g|128,g>>>=7,b.buf[b.pos++]=127&g|128,b.buf[b.pos]=127&(g>>>=7)}(d,0,l),function(g,v){var b=(7&g)<<4;v.buf[v.pos++]|=b|((g>>>=3)?128:0),g&&(v.buf[v.pos++]=127&g|((g>>>=7)?128:0),g&&(v.buf[v.pos++]=127&g|((g>>>=7)?128:0),g&&(v.buf[v.pos++]=127&g|((g>>>=7)?128:0),g&&(v.buf[v.pos++]=127&g|((g>>>=7)?128:0),g&&(v.buf[v.pos++]=127&g)))))}(p,l)}(s,this):(this.realloc(4),this.buf[this.pos++]=127&s|(s>127?128:0),s<=127||(this.buf[this.pos++]=127&(s>>>=7)|(s>127?128:0),s<=127||(this.buf[this.pos++]=127&(s>>>=7)|(s>127?128:0),s<=127||(this.buf[this.pos++]=s>>>7&127))))},writeSVarint:function(s){this.writeVarint(s<0?2*-s-1:2*s)},writeBoolean:function(s){this.writeVarint(!!s)},writeString:function(s){s=String(s),this.realloc(4*s.length),this.pos++;var r=this.pos;this.pos=function(d,p,g){for(var v,b,T=0;T<p.length;T++){if((v=p.charCodeAt(T))>55295&&v<57344){if(!b){v>56319||T+1===p.length?(d[g++]=239,d[g++]=191,d[g++]=189):b=v;continue}if(v<56320){d[g++]=239,d[g++]=191,d[g++]=189,b=v;continue}v=b-55296<<10|v-56320|65536,b=null}else b&&(d[g++]=239,d[g++]=191,d[g++]=189,b=null);v<128?d[g++]=v:(v<2048?d[g++]=v>>6|192:(v<65536?d[g++]=v>>12|224:(d[g++]=v>>18|240,d[g++]=v>>12&63|128),d[g++]=v>>6&63|128),d[g++]=63&v|128)}return g}(this.buf,s,this.pos);var l=this.pos-r;l>=128&&xT(r,l,this),this.pos=r-1,this.writeVarint(l),this.pos+=l},writeFloat:function(s){this.realloc(4),_T(this.buf,s,this.pos,!0,23,4),this.pos+=4},writeDouble:function(s){this.realloc(8),_T(this.buf,s,this.pos,!0,52,8),this.pos+=8},writeBytes:function(s){var r=s.length;this.writeVarint(r),this.realloc(r);for(var l=0;l<r;l++)this.buf[this.pos++]=s[l]},writeRawMessage:function(s,r){this.pos++;var l=this.pos;s(r,this);var d=this.pos-l;d>=128&&xT(l,d,this),this.pos=l-1,this.writeVarint(d),this.pos+=d},writeMessage:function(s,r,l){this.writeTag(s,oi.Bytes),this.writeRawMessage(r,l)},writePackedVarint:function(s,r){r.length&&this.writeMessage(s,v$,r)},writePackedSVarint:function(s,r){r.length&&this.writeMessage(s,x$,r)},writePackedBoolean:function(s,r){r.length&&this.writeMessage(s,E$,r)},writePackedFloat:function(s,r){r.length&&this.writeMessage(s,b$,r)},writePackedDouble:function(s,r){r.length&&this.writeMessage(s,w$,r)},writePackedFixed32:function(s,r){r.length&&this.writeMessage(s,S$,r)},writePackedSFixed32:function(s,r){r.length&&this.writeMessage(s,T$,r)},writePackedFixed64:function(s,r){r.length&&this.writeMessage(s,C$,r)},writePackedSFixed64:function(s,r){r.length&&this.writeMessage(s,k$,r)},writeBytesField:function(s,r){this.writeTag(s,oi.Bytes),this.writeBytes(r)},writeFixed32Field:function(s,r){this.writeTag(s,oi.Fixed32),this.writeFixed32(r)},writeSFixed32Field:function(s,r){this.writeTag(s,oi.Fixed32),this.writeSFixed32(r)},writeFixed64Field:function(s,r){this.writeTag(s,oi.Fixed64),this.writeFixed64(r)},writeSFixed64Field:function(s,r){this.writeTag(s,oi.Fixed64),this.writeSFixed64(r)},writeVarintField:function(s,r){this.writeTag(s,oi.Varint),this.writeVarint(r)},writeSVarintField:function(s,r){this.writeTag(s,oi.Varint),this.writeSVarint(r)},writeStringField:function(s,r){this.writeTag(s,oi.Bytes),this.writeString(r)},writeFloatField:function(s,r){this.writeTag(s,oi.Fixed32),this.writeFloat(r)},writeDoubleField:function(s,r){this.writeTag(s,oi.Fixed64),this.writeDouble(r)},writeBooleanField:function(s,r){this.writeVarintField(s,!!r)}};var Ly=Z(mT);const pw=3;function P$(s,r,l){r.glyphs=[],s===1&&l.readMessage(I$,r)}function I$(s,r,l){if(s===3){const{id:d,bitmap:p,width:g,height:v,left:b,top:T,advance:C}=l.readMessage(A$,{});r.glyphs.push({id:d,bitmap:new ku({width:g+2*pw,height:v+2*pw},p),metrics:{width:g,height:v,left:b,top:T,advance:C}})}else s===4?r.ascender=l.readSVarint():s===5&&(r.descender=l.readSVarint())}function A$(s,r,l){s===1?r.id=l.readVarint():s===2?r.bitmap=l.readBytes():s===3?r.width=l.readVarint():s===4?r.height=l.readVarint():s===5?r.left=l.readSVarint():s===6?r.top=l.readSVarint():s===7&&(r.advance=l.readVarint())}const wT=pw;function fw(s){let r=0,l=0;for(const v of s)r+=v.w*v.h,l=Math.max(l,v.w);s.sort((v,b)=>b.h-v.h);const d=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(r/.95)),l),h:1/0}];let p=0,g=0;for(const v of s)for(let b=d.length-1;b>=0;b--){const T=d[b];if(!(v.w>T.w||v.h>T.h)){if(v.x=T.x,v.y=T.y,g=Math.max(g,v.y+v.h),p=Math.max(p,v.x+v.w),v.w===T.w&&v.h===T.h){const C=d.pop();b<d.length&&(d[b]=C)}else v.h===T.h?(T.x+=v.w,T.w-=v.w):v.w===T.w?(T.y+=v.h,T.h-=v.h):(d.push({x:T.x+v.w,y:T.y,w:T.w-v.w,h:v.h}),T.y+=v.h,T.h-=v.h);break}}return{w:p,h:g,fill:r/(p*g)||0}}const qa=1;class mw{constructor(r,{pixelRatio:l,version:d,stretchX:p,stretchY:g,content:v}){this.paddedRect=r,this.pixelRatio=l,this.stretchX=p,this.stretchY=g,this.content=v,this.version=d}get tl(){return[this.paddedRect.x+qa,this.paddedRect.y+qa]}get br(){return[this.paddedRect.x+this.paddedRect.w-qa,this.paddedRect.y+this.paddedRect.h-qa]}get displaySize(){return[(this.paddedRect.w-2*qa)/this.pixelRatio,(this.paddedRect.h-2*qa)/this.pixelRatio]}}class ET{constructor(r,l){const d={},p={};this.haveRenderCallbacks=[];const g=[];this.addImages(r,d,g),this.addImages(l,p,g);const{w:v,h:b}=fw(g),T=new as({width:v||1,height:b||1});for(const C in r){const R=r[C],F=d[C].paddedRect;as.copy(R.data,T,{x:0,y:0},{x:F.x+qa,y:F.y+qa},R.data)}for(const C in l){const R=l[C],F=p[C].paddedRect,W=F.x+qa,K=F.y+qa,Y=R.data.width,ne=R.data.height;as.copy(R.data,T,{x:0,y:0},{x:W,y:K},R.data),as.copy(R.data,T,{x:0,y:ne-1},{x:W,y:K-1},{width:Y,height:1}),as.copy(R.data,T,{x:0,y:0},{x:W,y:K+ne},{width:Y,height:1}),as.copy(R.data,T,{x:Y-1,y:0},{x:W-1,y:K},{width:1,height:ne}),as.copy(R.data,T,{x:0,y:0},{x:W+Y,y:K},{width:1,height:ne})}this.image=T,this.iconPositions=d,this.patternPositions=p}addImages(r,l,d){for(const p in r){const g=r[p],v={x:0,y:0,w:g.data.width+2*qa,h:g.data.height+2*qa};d.push(v),l[p]=new mw(v,g),g.hasRenderCallback&&this.haveRenderCallbacks.push(p)}}patchUpdatedImages(r,l){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(d=>r.hasImage(d)),r.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const d in r.updatedImages)this.patchUpdatedImage(this.iconPositions[d],r.getImage(d),l),this.patchUpdatedImage(this.patternPositions[d],r.getImage(d),l)}patchUpdatedImage(r,l,d){if(!r||!l||r.version===l.version)return;r.version=l.version;const[p,g]=r.tl;d.update(l.data,void 0,{x:p,y:g})}}Sn(mw,"ImagePosition"),Sn(ET,"ImageAtlas");const Rs={horizontal:1,vertical:2,horizontalOnly:3},ST=-17;class om{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(r,l){const d=new om;return d.scale=r||1,d.fontStack=l,d}static forImage(r){const l=new om;return l.imageName=r,l}}class Tf{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(r,l){const d=new Tf;for(let p=0;p<r.sections.length;p++){const g=r.sections[p];g.image?d.addImageSection(g):d.addTextSection(g,l)}return d}length(){return this.text.length}getSection(r){return this.sections[this.sectionIndex[r]]}getSections(){return this.sections}getSectionIndex(r){return this.sectionIndex[r]}getCharCode(r){return this.text.charCodeAt(r)}verticalizePunctuation(r){this.text=function(l,d){let p="";for(let g=0;g<l.length;g++){const v=l.charCodeAt(g+1)||null,b=l.charCodeAt(g-1)||null;p+=!d&&(v&&uy(v)&&!im[l[g+1]]||b&&uy(b)&&!im[l[g-1]])||!im[l[g]]?l[g]:im[l[g]]}return p}(this.text,r)}trim(){let r=0;for(let d=0;d<this.text.length&&zy[this.text.charCodeAt(d)];d++)r++;let l=this.text.length;for(let d=this.text.length-1;d>=0&&d>=r&&zy[this.text.charCodeAt(d)];d--)l--;this.text=this.text.substring(r,l),this.sectionIndex=this.sectionIndex.slice(r,l)}substring(r,l){const d=new Tf;return d.text=this.text.substring(r,l),d.sectionIndex=this.sectionIndex.slice(r,l),d.sections=this.sections,d}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((r,l)=>Math.max(r,this.sections[l].scale),0)}addTextSection(r,l){this.text+=r.text,this.sections.push(om.forText(r.scale,r.fontStack||l));const d=this.sections.length-1;for(let p=0;p<r.text.length;++p)this.sectionIndex.push(d)}addImageSection(r){const l=r.image?r.image.name:"";if(l.length===0)return void vt("Can't add FormattedSection with an empty image.");const d=this.getNextImageSectionCharCode();d?(this.text+=String.fromCharCode(d),this.sections.push(om.forImage(l)),this.sectionIndex.push(this.sections.length-1)):vt("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function gw(s,r,l,d,p,g,v,b,T,C,R,F,W,K,Y){const ne=Tf.fromFeature(s,p);F===Rs.vertical&&ne.verticalizePunctuation(W);let he=[];const we=function(Ve,_t,ht,Mt,Yt,Et){if(!Ve)return[];const Nt=[],Bt=function(mn,Pn,_n,ar,rn,Vn){let sr=0;for(let Lr=0;Lr<mn.length();Lr++){const lr=mn.getSection(Lr);sr+=TT(mn.getCharCode(Lr),lr,ar,rn,Pn,Vn)}return sr/Math.max(1,Math.ceil(sr/_n))}(Ve,_t,ht,Mt,Yt,Et),Ht=Ve.text.indexOf("​")>=0;let nn=0;for(let mn=0;mn<Ve.length();mn++){const Pn=Ve.getSection(mn),_n=Ve.getCharCode(mn);if(zy[_n]||(nn+=TT(_n,Pn,Mt,Yt,_t,Et)),mn<Ve.length()-1){const ar=!((At=_n)<11904||!(yn["Bopomofo Extended"](At)||yn.Bopomofo(At)||yn["CJK Compatibility Forms"](At)||yn["CJK Compatibility Ideographs"](At)||yn["CJK Compatibility"](At)||yn["CJK Radicals Supplement"](At)||yn["CJK Strokes"](At)||yn["CJK Symbols and Punctuation"](At)||yn["CJK Unified Ideographs Extension A"](At)||yn["CJK Unified Ideographs"](At)||yn["Enclosed CJK Letters and Months"](At)||yn["Halfwidth and Fullwidth Forms"](At)||yn.Hiragana(At)||yn["Ideographic Description Characters"](At)||yn["Kangxi Radicals"](At)||yn["Katakana Phonetic Extensions"](At)||yn.Katakana(At)||yn["Vertical Forms"](At)||yn["Yi Radicals"](At)||yn["Yi Syllables"](At)));(M$[_n]||ar||Pn.imageName)&&Nt.push(kT(mn+1,nn,Bt,Nt,D$(_n,Ve.getCharCode(mn+1),ar&&Ht),!1))}}var At;return PT(kT(Ve.length(),nn,Bt,Nt,0,!0))}(ne,C,g,r,d,K),{processBidirectionalText:Ne,processStyledBidirectionalText:Ee}=D;if(Ne&&ne.sections.length===1){const Ve=Ne(ne.toString(),we);for(const _t of Ve){const ht=new Tf;ht.text=_t,ht.sections=ne.sections;for(let Mt=0;Mt<_t.length;Mt++)ht.sectionIndex.push(0);he.push(ht)}}else if(Ee){const Ve=Ee(ne.text,ne.sectionIndex,we);for(const _t of Ve){const ht=new Tf;ht.text=_t[0],ht.sectionIndex=_t[1],ht.sections=ne.sections,he.push(ht)}}else he=function(Ve,_t){const ht=[],Mt=Ve.text;let Yt=0;for(const Et of _t)ht.push(Ve.substring(Yt,Et)),Yt=Et;return Yt<Mt.length&&ht.push(Ve.substring(Yt,Mt.length)),ht}(ne,we);const Le=[],We={positionedLines:Le,text:ne.toString(),top:R[1],bottom:R[1],left:R[0],right:R[0],writingMode:F,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(Ve,_t,ht,Mt,Yt,Et,Nt,Bt,Ht,nn,At,mn){let Pn=0,_n=0,ar=0;const rn=Bt==="right"?1:Bt==="left"?0:.5;let Vn=!1;for(const dr of Yt){const hr=dr.getSections();for(const Yr of hr){if(Yr.imageName)continue;const ai=_t[Yr.fontStack];if(ai&&(Vn=ai.ascender!==void 0&&ai.descender!==void 0,!Vn))break}if(!Vn)break}let sr=0;for(const dr of Yt){dr.trim();const hr=dr.getMaxScale(),Yr=(hr-1)*Fo,ai={positionedGlyphs:[],lineOffset:0};Ve.positionedLines[sr]=ai;const si=ai.positionedGlyphs;let Jr=0;if(!dr.length()){_n+=Et,++sr;continue}let ki=0,zi=0;for(let Qr=0;Qr<dr.length();Qr++){const lo=dr.getSection(Qr),Qi=dr.getSectionIndex(Qr),Ri=dr.getCharCode(Qr);let Fr=lo.scale,eo=null,li=null,Sa=null,to=Fo,No=0;const Co=!(Ht===Rs.horizontal||!At&&!D1(Ri)||At&&(zy[Ri]||(Lr=Ri,yn.Arabic(Lr)||yn["Arabic Supplement"](Lr)||yn["Arabic Extended-A"](Lr)||yn["Arabic Presentation Forms-A"](Lr)||yn["Arabic Presentation Forms-B"](Lr))));if(lo.imageName){const Ta=Mt[lo.imageName];if(!Ta)continue;Sa=lo.imageName,Ve.iconsInText=Ve.iconsInText||!0,li=Ta.paddedRect;const ko=Ta.displaySize;Fr=Fr*Fo/mn,eo={width:ko[0],height:ko[1],left:qa,top:-wT,advance:Co?ko[1]:ko[0],localGlyph:!1},No=Vn?-eo.height*Fr:ST+hr*Fo-ko[1]*Fr,to=eo.advance;const ql=(Co?ko[0]:ko[1])*Fr-Fo*hr;ql>0&&ql>Jr&&(Jr=ql)}else{const Ta=ht[lo.fontStack];if(!Ta)continue;Ta[Ri]&&(li=Ta[Ri]);const ko=_t[lo.fontStack];if(!ko)continue;const ql=ko.glyphs[Ri];if(!ql)continue;if(eo=ql.metrics,to=Ri!==8203?Fo:0,Vn){const Df=ko.ascender!==void 0?Math.abs(ko.ascender):0,mm=ko.descender!==void 0?Math.abs(ko.descender):0,gm=(Df+mm)*Fr;ki<gm&&(ki=gm,zi=(Df-mm)/2*Fr),No=-Df*Fr}else No=ST+(hr-Fr)*Fo}Co?(Ve.verticalizable=!0,si.push({glyph:Ri,imageName:Sa,x:Pn,y:_n+No,vertical:Co,scale:Fr,localGlyph:eo.localGlyph,fontStack:lo.fontStack,sectionIndex:Qi,metrics:eo,rect:li}),Pn+=to*Fr+nn):(si.push({glyph:Ri,imageName:Sa,x:Pn,y:_n+No,vertical:Co,scale:Fr,localGlyph:eo.localGlyph,fontStack:lo.fontStack,sectionIndex:Qi,metrics:eo,rect:li}),Pn+=eo.advance*Fr+nn)}si.length!==0&&(ar=Math.max(Pn-nn,ar),Vn?IT(si,rn,Jr,zi,Et*hr/2):IT(si,rn,Jr,0,Et/2)),Pn=0;const Ji=Et*hr+Jr;ai.lineOffset=Math.max(Jr,Yr),_n+=Ji,++sr}var Lr;const lr=_n,{horizontalAlign:Kn,verticalAlign:hi}=_w(Nt);(function(dr,hr,Yr,ai,si,Jr){const ki=(hr-Yr)*si,zi=-Jr*ai;for(const Ji of dr)for(const Qr of Ji.positionedGlyphs)Qr.x+=ki,Qr.y+=zi})(Ve.positionedLines,rn,Kn,hi,ar,lr),Ve.top+=-hi*lr,Ve.bottom=Ve.top+lr,Ve.left+=-Kn*ar,Ve.right=Ve.left+ar,Ve.hasBaseline=Vn}(We,r,l,d,he,v,b,T,F,C,W,Y),!function(Ve){for(const _t of Ve)if(_t.positionedGlyphs.length!==0)return!1;return!0}(Le)&&We}const zy={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},M$={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function TT(s,r,l,d,p,g){if(r.imageName){const v=d[r.imageName];return v?v.displaySize[0]*r.scale*Fo/g+p:0}{const v=l[r.fontStack],b=v&&v.glyphs[s];return b?b.metrics.advance*r.scale+p:0}}function CT(s,r,l,d){const p=Math.pow(s-r,2);return d?s<r?p/2:2*p:p+Math.abs(l)*l}function D$(s,r,l){let d=0;return s===10&&(d-=1e4),l&&(d+=150),s!==40&&s!==65288||(d+=50),r!==41&&r!==65289||(d+=50),d}function kT(s,r,l,d,p,g){let v=null,b=CT(r,l,p,g);for(const T of d){const C=CT(r-T.x,l,p,g)+T.badness;C<=b&&(v=T,b=C)}return{index:s,x:r,priorBreak:v,badness:b}}function PT(s){return s?PT(s.priorBreak).concat(s.index):[]}function _w(s){let r=.5,l=.5;switch(s){case"right":case"top-right":case"bottom-right":r=1;break;case"left":case"top-left":case"bottom-left":r=0}switch(s){case"bottom":case"bottom-right":case"bottom-left":l=1;break;case"top":case"top-right":case"top-left":l=0}return{horizontalAlign:r,verticalAlign:l}}function IT(s,r,l,d,p){if(!(r||l||d||p))return;const g=s.length-1,v=s[g],b=(v.x+v.metrics.advance*v.scale)*r;for(let T=0;T<=g;T++)s[T].x-=b,s[T].y+=l+d+p}function R$(s,r,l){const{horizontalAlign:d,verticalAlign:p}=_w(l),g=r[0]-s.displaySize[0]*d,v=r[1]-s.displaySize[1]*p;return{image:s,top:v,bottom:v+s.displaySize[1],left:g,right:g+s.displaySize[0]}}function AT(s,r,l,d,p,g){const v=s.image;let b;if(v.content){const he=v.content,we=v.pixelRatio||1;b=[he[0]/we,he[1]/we,v.displaySize[0]-he[2]/we,v.displaySize[1]-he[3]/we]}const T=r.left*g,C=r.right*g;let R,F,W,K;l==="width"||l==="both"?(K=p[0]+T-d[3],F=p[0]+C+d[1]):(K=p[0]+(T+C-v.displaySize[0])/2,F=K+v.displaySize[0]);const Y=r.top*g,ne=r.bottom*g;return l==="height"||l==="both"?(R=p[1]+Y-d[0],W=p[1]+ne+d[2]):(R=p[1]+(Y+ne-v.displaySize[1])/2,W=R+v.displaySize[1]),{image:v,top:R,right:F,bottom:W,left:K,collisionPadding:b}}class Iu extends le{constructor(r,l,d,p,g){super(r,l),this.angle=p,this.z=d,g!==void 0&&(this.segment=g)}clone(){return new Iu(this.x,this.y,this.z,this.angle,this.segment)}}function MT(s,r,l,d,p){if(r.segment===void 0)return!0;let g=r,v=r.segment+1,b=0;for(;b>-l/2;){if(v--,v<0)return!1;b-=s[v].dist(g),g=s[v]}b+=s[v].dist(s[v+1]),v++;const T=[];let C=0;for(;b<l/2;){const R=s[v],F=s[v+1];if(!F)return!1;let W=s[v-1].angleTo(R)-R.angleTo(F);for(W=Math.abs((W+3*Math.PI)%(2*Math.PI)-Math.PI),T.push({distance:b,angleDelta:W}),C+=W;b-T[0].distance>d;)C-=T.shift().angleDelta;if(C>p)return!1;v++,b+=R.dist(F)}return!0}function DT(s){let r=0;for(let l=0;l<s.length-1;l++)r+=s[l].dist(s[l+1]);return r}function RT(s,r,l){return s?.6*r*l:0}function OT(s,r){return Math.max(s?s.right-s.left:0,r?r.right-r.left:0)}function O$(s,r,l,d,p,g){const v=RT(l,p,g),b=OT(l,d)*g;let T=0;const C=DT(s)/2;for(let R=0;R<s.length-1;R++){const F=s[R],W=s[R+1],K=F.dist(W);if(T+K>C){const Y=(C-T)/K,ne=Sr(F.x,W.x,Y),he=Sr(F.y,W.y,Y),we=new Iu(ne,he,0,W.angleTo(F),R);return!v||MT(s,we,b,v,r)?we:void 0}T+=K}}function L$(s,r,l,d,p,g,v,b,T){const C=RT(d,g,v),R=OT(d,p),F=R*v,W=s[0].x===0||s[0].x===T||s[0].y===0||s[0].y===T;return r-F<r/4&&(r=F+r/4),LT(s,W?r/2*b%r:(R/2+2*g)*v*b%r,r,C,l,F,W,!1,T)}function LT(s,r,l,d,p,g,v,b,T){const C=g/2,R=DT(s);let F=0,W=r-l,K=[];for(let Y=0;Y<s.length-1;Y++){const ne=s[Y],he=s[Y+1],we=ne.dist(he),Ne=he.angleTo(ne);for(;W+l<F+we;){W+=l;const Ee=(W-F)/we,Le=Sr(ne.x,he.x,Ee),We=Sr(ne.y,he.y,Ee);if(Le>=0&&Le<T&&We>=0&&We<T&&W-C>=0&&W+C<=R){const Ve=new Iu(Le,We,0,Ne,Y);Ve._round(),d&&!MT(s,Ve,g,d,p)||K.push(Ve)}}F+=we}return b||K.length||v||(K=LT(s,F/2,l,d,p,g,v,!0,T)),K}function zT(s,r,l,d,p){const g=[];for(let v=0;v<s.length;v++){const b=s[v];let T;for(let C=0;C<b.length-1;C++){let R=b[C],F=b[C+1];R.x<r&&F.x<r||(R.x<r?R=new le(r,R.y+(r-R.x)/(F.x-R.x)*(F.y-R.y))._round():F.x<r&&(F=new le(r,R.y+(r-R.x)/(F.x-R.x)*(F.y-R.y))._round()),R.y<l&&F.y<l||(R.y<l?R=new le(R.x+(l-R.y)/(F.y-R.y)*(F.x-R.x),l)._round():F.y<l&&(F=new le(R.x+(l-R.y)/(F.y-R.y)*(F.x-R.x),l)._round()),R.x>=d&&F.x>=d||(R.x>=d?R=new le(d,R.y+(d-R.x)/(F.x-R.x)*(F.y-R.y))._round():F.x>=d&&(F=new le(d,R.y+(d-R.x)/(F.x-R.x)*(F.y-R.y))._round()),R.y>=p&&F.y>=p||(R.y>=p?R=new le(R.x+(p-R.y)/(F.y-R.y)*(F.x-R.x),p)._round():F.y>=p&&(F=new le(R.x+(p-R.y)/(F.y-R.y)*(F.x-R.x),p)._round()),T&&R.equals(T[T.length-1])||(T=[R],g.push(T)),T.push(F)))))}}return g}Sn(Iu,"Anchor");const am=1e20;function FT(s,r,l,d,p,g,v,b,T){for(let C=r;C<r+d;C++)NT(s,l*g+C,g,p,v,b,T);for(let C=l;C<l+p;C++)NT(s,C*g+r,1,d,v,b,T)}function NT(s,r,l,d,p,g,v){g[0]=0,v[0]=-am,v[1]=am,p[0]=s[r];for(let b=1,T=0,C=0;b<d;b++){p[b]=s[r+b*l];const R=b*b;do{const F=g[T];C=(p[b]-p[F]+R-F*F)/(b-F)/2}while(C<=v[T]&&--T>-1);T++,g[T]=b,v[T]=C,v[T+1]=am}for(let b=0,T=0;b<d;b++){for(;v[T+1]<b;)T++;const C=g[T],R=b-C;s[r+b*l]=p[C]+R*R}}const Wl=2,yw={none:0,ideographs:1,all:2};class Cf{constructor(r,l,d){this.requestManager=r,this.localGlyphMode=l,this.localFontFamily=d,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(r){this.url=r}getGlyphs(r,l){const d=[];for(const p in r)for(const g of r[p])d.push({stack:p,id:g});lt(d,({stack:p,id:g},v)=>{let b=this.entries[p];b||(b=this.entries[p]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let T=b.glyphs[g];if(T!==void 0)return void v(null,{stack:p,id:g,glyph:T});if(T=this._tinySDF(b,p,g),T)return b.glyphs[g]=T,void v(null,{stack:p,id:g,glyph:T});const C=Math.floor(g/256);if(256*C>65535)return void v(new Error("glyphs > 65535 not supported"));if(b.ranges[C])return void v(null,{stack:p,id:g,glyph:T});let R=b.requests[C];R||(R=b.requests[C]=[],Cf.loadGlyphRange(p,C,this.url,this.requestManager,(F,W)=>{if(W){b.ascender=W.ascender,b.descender=W.descender;for(const K in W.glyphs)this._doesCharSupportLocalGlyph(+K)||(b.glyphs[+K]=W.glyphs[+K]);b.ranges[C]=!0}for(const K of R)K(F,W);delete b.requests[C]})),R.push((F,W)=>{F?v(F):W&&v(null,{stack:p,id:g,glyph:W.glyphs[g]||null})})},(p,g)=>{if(p)l(p);else if(g){const v={};for(const{stack:b,id:T,glyph:C}of g)v[b]===void 0&&(v[b]={}),v[b].glyphs===void 0&&(v[b].glyphs={}),v[b].glyphs[T]=C&&{id:C.id,bitmap:C.bitmap.clone(),metrics:C.metrics},v[b].ascender=this.entries[b].ascender,v[b].descender=this.entries[b].descender;l(null,v)}})}_doesCharSupportLocalGlyph(r){return this.localGlyphMode!==yw.none&&(this.localGlyphMode===yw.all?!!this.localFontFamily:!!this.localFontFamily&&(yn["CJK Unified Ideographs"](r)||yn["Hangul Syllables"](r)||yn.Hiragana(r)||yn.Katakana(r)||yn["CJK Symbols and Punctuation"](r)))}_tinySDF(r,l,d){const p=this.localFontFamily;if(!p||!this._doesCharSupportLocalGlyph(d))return;let g=r.tinySDF;if(!g){let ne="400";/bold/i.test(l)?ne="900":/medium/i.test(l)?ne="500":/light/i.test(l)&&(ne="200"),g=r.tinySDF=new Cf.TinySDF({fontFamily:p,fontWeight:ne,fontSize:24*Wl,buffer:3*Wl,radius:8*Wl}),g.fontWeight=ne}if(this.localGlyphs[g.fontWeight][d])return this.localGlyphs[g.fontWeight][d];const v=String.fromCharCode(d),{data:b,width:T,height:C,glyphWidth:R,glyphHeight:F,glyphLeft:W,glyphTop:K,glyphAdvance:Y}=g.draw(v);return this.localGlyphs[g.fontWeight][d]={id:d,bitmap:new ku({width:T,height:C},b),metrics:{width:R/Wl,height:F/Wl,left:W/Wl,top:K/Wl-27,advance:Y/Wl,localGlyph:!0}}}}Cf.loadGlyphRange=function(s,r,l,d,p){const g=256*r,v=g+255,b=d.transformRequest(d.normalizeGlyphsURL(l).replace("{fontstack}",s).replace("{range}",`${g}-${v}`),Fn.Glyphs);mi(b,(T,C)=>{if(T)p(T);else if(C){const R={},F=function(W){return new Ly(W).readFields(P$,{})}(C);for(const W of F.glyphs)R[W.id]=W;p(null,{glyphs:R,ascender:F.ascender,descender:F.descender})}})},Cf.TinySDF=class{constructor({fontSize:s=24,buffer:r=3,radius:l=8,cutoff:d=.25,fontFamily:p="sans-serif",fontWeight:g="normal",fontStyle:v="normal"}={}){this.buffer=r,this.cutoff=d,this.radius=l;const b=this.size=s+4*r,T=this._createCanvas(b),C=this.ctx=T.getContext("2d",{willReadFrequently:!0});C.font=`${v} ${g} ${s}px ${p}`,C.textBaseline="alphabetic",C.textAlign="left",C.fillStyle="black",this.gridOuter=new Float64Array(b*b),this.gridInner=new Float64Array(b*b),this.f=new Float64Array(b),this.z=new Float64Array(b+1),this.v=new Uint16Array(b)}_createCanvas(s){const r=document.createElement("canvas");return r.width=r.height=s,r}draw(s){const{width:r,actualBoundingBoxAscent:l,actualBoundingBoxDescent:d,actualBoundingBoxLeft:p,actualBoundingBoxRight:g}=this.ctx.measureText(s),v=Math.ceil(l),b=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(g-p))),T=Math.min(this.size-this.buffer,v+Math.ceil(d)),C=b+2*this.buffer,R=T+2*this.buffer,F=Math.max(C*R,0),W=new Uint8ClampedArray(F),K={data:W,width:C,height:R,glyphWidth:b,glyphHeight:T,glyphTop:v,glyphLeft:0,glyphAdvance:r};if(b===0||T===0)return K;const{ctx:Y,buffer:ne,gridInner:he,gridOuter:we}=this;Y.clearRect(ne,ne,b,T),Y.fillText(s,ne,ne+v);const Ne=Y.getImageData(ne,ne,b,T);we.fill(am,0,F),he.fill(0,0,F);for(let Ee=0;Ee<T;Ee++)for(let Le=0;Le<b;Le++){const We=Ne.data[4*(Ee*b+Le)+3]/255;if(We===0)continue;const Ve=(Ee+ne)*C+Le+ne;if(We===1)we[Ve]=0,he[Ve]=am;else{const _t=.5-We;we[Ve]=_t>0?_t*_t:0,he[Ve]=_t<0?_t*_t:0}}FT(we,0,0,C,R,C,this.f,this.v,this.z),FT(he,ne,ne,b,T,C,this.f,this.v,this.z);for(let Ee=0;Ee<F;Ee++){const Le=Math.sqrt(we[Ee])-Math.sqrt(he[Ee]);W[Ee]=Math.round(255-255*(Le/this.radius+this.cutoff))}return K}};const kf=qa;function BT(s,r,l,d){const p=[],g=s.image,v=g.pixelRatio,b=g.paddedRect.w-2*kf,T=g.paddedRect.h-2*kf,C=s.right-s.left,R=s.bottom-s.top,F=g.stretchX||[[0,b]],W=g.stretchY||[[0,T]],K=(Et,Nt)=>Et+Nt[1]-Nt[0],Y=F.reduce(K,0),ne=W.reduce(K,0),he=b-Y,we=T-ne;let Ne=0,Ee=Y,Le=0,We=ne,Ve=0,_t=he,ht=0,Mt=we;if(g.content&&d){const Et=g.content;Ne=Fy(F,0,Et[0]),Le=Fy(W,0,Et[1]),Ee=Fy(F,Et[0],Et[2]),We=Fy(W,Et[1],Et[3]),Ve=Et[0]-Ne,ht=Et[1]-Le,_t=Et[2]-Et[0]-Ee,Mt=Et[3]-Et[1]-We}const Yt=(Et,Nt,Bt,Ht)=>{const nn=Ny(Et.stretch-Ne,Ee,C,s.left),At=By(Et.fixed-Ve,_t,Et.stretch,Y),mn=Ny(Nt.stretch-Le,We,R,s.top),Pn=By(Nt.fixed-ht,Mt,Nt.stretch,ne),_n=Ny(Bt.stretch-Ne,Ee,C,s.left),ar=By(Bt.fixed-Ve,_t,Bt.stretch,Y),rn=Ny(Ht.stretch-Le,We,R,s.top),Vn=By(Ht.fixed-ht,Mt,Ht.stretch,ne),sr=new le(nn,mn),Lr=new le(_n,mn),lr=new le(_n,rn),Kn=new le(nn,rn),hi=new le(At/v,Pn/v),dr=new le(ar/v,Vn/v),hr=r*Math.PI/180;if(hr){const si=Math.sin(hr),Jr=Math.cos(hr),ki=[Jr,-si,si,Jr];sr._matMult(ki),Lr._matMult(ki),Kn._matMult(ki),lr._matMult(ki)}const Yr=Et.stretch+Et.fixed,ai=Nt.stretch+Nt.fixed;return{tl:sr,tr:Lr,bl:Kn,br:lr,tex:{x:g.paddedRect.x+kf+Yr,y:g.paddedRect.y+kf+ai,w:Bt.stretch+Bt.fixed-Yr,h:Ht.stretch+Ht.fixed-ai},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:hi,pixelOffsetBR:dr,minFontScaleX:_t/v/C,minFontScaleY:Mt/v/R,isSDF:l}};if(d&&(g.stretchX||g.stretchY)){const Et=jT(F,he,Y),Nt=jT(W,we,ne);for(let Bt=0;Bt<Et.length-1;Bt++){const Ht=Et[Bt],nn=Et[Bt+1];for(let At=0;At<Nt.length-1;At++)p.push(Yt(Ht,Nt[At],nn,Nt[At+1]))}}else p.push(Yt({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:b+1},{fixed:0,stretch:T+1}));return p}function Fy(s,r,l){let d=0;for(const p of s)d+=Math.max(r,Math.min(l,p[1]))-Math.max(r,Math.min(l,p[0]));return d}function jT(s,r,l){const d=[{fixed:-kf,stretch:0}];for(const[p,g]of s){const v=d[d.length-1];d.push({fixed:p-v.stretch,stretch:v.stretch}),d.push({fixed:p-v.stretch,stretch:v.stretch+(g-p)})}return d.push({fixed:r+kf,stretch:l}),d}function Ny(s,r,l,d){return s/r*l+d}function By(s,r,l,d){return s-r*l/d}function z$(s,r,l,d){const p=r+s.positionedLines[d].lineOffset;return d===0?l+p/2:l+(p+(r+s.positionedLines[d-1].lineOffset))/2}class F${constructor(r=[],l=N$){if(this.data=r,this.length=this.data.length,this.compare=l,this.length>0)for(let d=(this.length>>1)-1;d>=0;d--)this._down(d)}push(r){this.data.push(r),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const r=this.data[0],l=this.data.pop();return this.length--,this.length>0&&(this.data[0]=l,this._down(0)),r}peek(){return this.data[0]}_up(r){const{data:l,compare:d}=this,p=l[r];for(;r>0;){const g=r-1>>1,v=l[g];if(d(p,v)>=0)break;l[r]=v,r=g}l[r]=p}_down(r){const{data:l,compare:d}=this,p=this.length>>1,g=l[r];for(;r<p;){let v=1+(r<<1),b=l[v];const T=v+1;if(T<this.length&&d(l[T],b)<0&&(v=T,b=l[T]),d(b,g)>=0)break;l[r]=b,r=v}l[r]=g}}function N$(s,r){return s<r?-1:s>r?1:0}function B$(s,r=1,l=!1){let d=1/0,p=1/0,g=-1/0,v=-1/0;const b=s[0];for(let K=0;K<b.length;K++){const Y=b[K];(!K||Y.x<d)&&(d=Y.x),(!K||Y.y<p)&&(p=Y.y),(!K||Y.x>g)&&(g=Y.x),(!K||Y.y>v)&&(v=Y.y)}const T=Math.min(g-d,v-p);let C=T/2;const R=new F$([],j$);if(T===0)return new le(d,p);for(let K=d;K<g;K+=T)for(let Y=p;Y<v;Y+=T)R.push(new Pf(K+C,Y+C,C,s));let F=function(K){let Y=0,ne=0,he=0;const we=K[0];for(let Ne=0,Ee=we.length,Le=Ee-1;Ne<Ee;Le=Ne++){const We=we[Ne],Ve=we[Le],_t=We.x*Ve.y-Ve.x*We.y;ne+=(We.x+Ve.x)*_t,he+=(We.y+Ve.y)*_t,Y+=3*_t}return new Pf(ne/Y,he/Y,0,K)}(s),W=R.length;for(;R.length;){const K=R.pop();(K.d>F.d||!F.d)&&(F=K,l&&console.log("found best %d after %d probes",Math.round(1e4*K.d)/1e4,W)),K.max-F.d<=r||(C=K.h/2,R.push(new Pf(K.p.x-C,K.p.y-C,C,s)),R.push(new Pf(K.p.x+C,K.p.y-C,C,s)),R.push(new Pf(K.p.x-C,K.p.y+C,C,s)),R.push(new Pf(K.p.x+C,K.p.y+C,C,s)),W+=4)}return l&&(console.log(`num probes: ${W}`),console.log(`best distance: ${F.d}`)),F.p}function j$(s,r){return r.max-s.max}class Pf{constructor(r,l,d,p){this.p=new le(r,l),this.h=d,this.d=function(g,v){let b=!1,T=1/0;for(let C=0;C<v.length;C++){const R=v[C];for(let F=0,W=R.length,K=W-1;F<W;K=F++){const Y=R[F],ne=R[K];Y.y>g.y!=ne.y>g.y&&g.x<(ne.x-Y.x)*(g.y-Y.y)/(ne.y-Y.y)+Y.x&&(b=!b),T=Math.min(T,LS(g,Y,ne))}}return(b?1:-1)*Math.sqrt(T)}(this.p,p),this.max=this.d+this.h*Math.SQRT2}}const If=7,vw=Number.POSITIVE_INFINITY,$$=Math.sqrt(2);function $T(s,[r,l]){let d=0,p=0;if(l===vw){r<0&&(r=0);const g=r/$$;switch(s){case"top-right":case"top-left":p=g-If;break;case"bottom-right":case"bottom-left":p=-g+If;break;case"bottom":p=-r+If;break;case"top":p=r-If}switch(s){case"top-right":case"bottom-right":d=-g;break;case"top-left":case"bottom-left":d=g;break;case"left":d=r;break;case"right":d=-r}}else{switch(r=Math.abs(r),l=Math.abs(l),s){case"top-right":case"top-left":case"top":p=l-If;break;case"bottom-right":case"bottom-left":case"bottom":p=-l+If}switch(s){case"top-right":case"bottom-right":case"right":d=-r;break;case"top-left":case"bottom-left":case"left":d=r}}return[d,p]}function U$(s,r,l,d,p,g,v,b,T,C){s.createArrays(),s.tilePixelRatio=Gn/(512*s.overscaling),s.compareText={},s.iconsNeedLinear=!1;const R=s.layers[0].layout,F=s.layers[0]._unevaluatedLayout._values,W={};if(s.textSizeData.kind==="composite"){const{minZoom:ne,maxZoom:he}=s.textSizeData;W.compositeTextSizes=[F["text-size"].possiblyEvaluate(new L(ne),b),F["text-size"].possiblyEvaluate(new L(he),b)]}if(s.iconSizeData.kind==="composite"){const{minZoom:ne,maxZoom:he}=s.iconSizeData;W.compositeIconSizes=[F["icon-size"].possiblyEvaluate(new L(ne),b),F["icon-size"].possiblyEvaluate(new L(he),b)]}W.layoutTextSize=F["text-size"].possiblyEvaluate(new L(T+1),b),W.layoutIconSize=F["icon-size"].possiblyEvaluate(new L(T+1),b),W.textMaxSize=F["text-size"].possiblyEvaluate(new L(18),b);const K=R.get("text-rotation-alignment")==="map"&&R.get("symbol-placement")!=="point",Y=R.get("text-size");for(const ne of s.features){const he=R.get("text-font").evaluate(ne,{},b).join(","),we=Y.evaluate(ne,{},b),Ne=W.layoutTextSize.evaluate(ne,{},b),Ee=(W.layoutIconSize.evaluate(ne,{},b),{horizontal:{},vertical:void 0}),Le=ne.text;let We,Ve=[0,0];if(Le){const Mt=Le.toString(),Yt=R.get("text-letter-spacing").evaluate(ne,{},b)*Fo,Et=R.get("text-line-height").evaluate(ne,{},b)*Fo,Nt=P3(Mt)?Yt:0,Bt=R.get("text-anchor").evaluate(ne,{},b),Ht=R.get("text-variable-anchor");if(!Ht){const _n=R.get("text-radial-offset").evaluate(ne,{},b);Ve=_n?$T(Bt,[_n*Fo,vw]):R.get("text-offset").evaluate(ne,{},b).map(ar=>ar*Fo)}let nn=K?"center":R.get("text-justify").evaluate(ne,{},b);const At=R.get("symbol-placement")==="point",mn=At?R.get("text-max-width").evaluate(ne,{},b)*Fo:1/0,Pn=_n=>{s.allowVerticalPlacement&&M1(Mt)&&(Ee.vertical=gw(Le,r,l,p,he,mn,Et,Bt,_n,Nt,Ve,Rs.vertical,!0,Ne,we))};if(!K&&Ht){const _n=nn==="auto"?Ht.map(rn=>xw(rn)):[nn];let ar=!1;for(let rn=0;rn<_n.length;rn++){const Vn=_n[rn];if(!Ee.horizontal[Vn])if(ar)Ee.horizontal[Vn]=Ee.horizontal[0];else{const sr=gw(Le,r,l,p,he,mn,Et,"center",Vn,Nt,Ve,Rs.horizontal,!1,Ne,we);sr&&(Ee.horizontal[Vn]=sr,ar=sr.positionedLines.length===1)}}Pn("left")}else{if(nn==="auto"&&(nn=xw(Bt)),At||R.get("text-writing-mode").indexOf("horizontal")>=0||!M1(Mt)){const _n=gw(Le,r,l,p,he,mn,Et,Bt,nn,Nt,Ve,Rs.horizontal,!1,Ne,we);_n&&(Ee.horizontal[nn]=_n)}Pn(At?"left":nn)}}let _t=!1;if(ne.icon&&ne.icon.name){const Mt=d[ne.icon.name];Mt&&(We=R$(p[ne.icon.name],R.get("icon-offset").evaluate(ne,{},b),R.get("icon-anchor").evaluate(ne,{},b)),_t=Mt.sdf,s.sdfIcons===void 0?s.sdfIcons=Mt.sdf:s.sdfIcons!==Mt.sdf&&vt("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Mt.pixelRatio!==s.pixelRatio||R.get("icon-rotate").constantOr(1)!==0)&&(s.iconsNeedLinear=!0))}const ht=VT(Ee.horizontal)||Ee.vertical;s.iconsInText||(s.iconsInText=!!ht&&ht.iconsInText),(ht||We)&&V$(s,ne,Ee,We,d,W,Ne,0,Ve,_t,v,b,C)}g&&s.generateCollisionDebugBuffers(T,s.collisionBoxArray)}function xw(s){switch(s){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function V$(s,r,l,d,p,g,v,b,T,C,R,F,W){let K=g.textMaxSize.evaluate(r,{},F);K===void 0&&(K=v);const Y=s.layers[0].layout,ne=Y.get("icon-offset").evaluate(r,{},F),he=VT(l.horizontal)||l.vertical,we=W.name==="globe",Ne=Fo,Ee=v/Ne,Le=s.tilePixelRatio*K/Ne,We=(Bt=s.overscaling,s.zoom>18&&Bt>2&&(Bt>>=1),Math.max(Gn/(512*Bt),1)*Y.get("symbol-spacing")),Ve=Y.get("text-padding")*s.tilePixelRatio,_t=Y.get("icon-padding")*s.tilePixelRatio,ht=$e(Y.get("text-max-angle")),Mt=Y.get("text-rotation-alignment")==="map"&&Y.get("symbol-placement")!=="point",Yt=Y.get("icon-rotation-alignment")==="map"&&Y.get("symbol-placement")!=="point",Et=Y.get("symbol-placement"),Nt=We/2;var Bt;const Ht=Y.get("icon-text-fit");let nn;d&&Ht!=="none"&&(s.allowVerticalPlacement&&l.vertical&&(nn=AT(d,l.vertical,Ht,Y.get("icon-text-fit-padding"),ne,Ee)),he&&(d=AT(d,he,Ht,Y.get("icon-text-fit-padding"),ne,Ee)));const At=(mn,Pn,_n)=>{if(Pn.x<0||Pn.x>=Gn||Pn.y<0||Pn.y>=Gn)return;let ar=null;if(we){const{x:rn,y:Vn,z:sr}=W.projectTilePoint(Pn.x,Pn.y,_n);ar={anchor:new Iu(rn,Vn,sr,0,void 0),up:W.upVector(_n,Pn.x,Pn.y)}}(function(rn,Vn,sr,Lr,lr,Kn,hi,dr,hr,Yr,ai,si,Jr,ki,zi,Ji,Qr,lo,Qi,Ri,Fr,eo,li,Sa,to){const No=rn.addToLineVertexArray(Vn,Lr);let Co,Ta,ko,ql,Df,mm,gm,wC=0,EC=0,SC=0,TC=0,Lw=-1,zw=-1;const Fc={};let CC=M3("");const ep=sr?sr.anchor:Vn;let Fw=0,Nw=0;if(hr._unevaluatedLayout.getValue("text-radial-offset")===void 0?[Fw,Nw]=hr.layout.get("text-offset").evaluate(Fr,{},to).map(ss=>ss*Fo):(Fw=hr.layout.get("text-radial-offset").evaluate(Fr,{},to)*Fo,Nw=vw),rn.allowVerticalPlacement&&lr.vertical){const ss=lr.vertical;if(zi)mm=bw(ss),dr&&(gm=bw(dr));else{const ls=hr.layout.get("text-rotate").evaluate(Fr,{},to)+90;ko=jy(Yr,ep,Vn,ai,si,Jr,ss,ki,ls,Ji),dr&&(ql=jy(Yr,ep,Vn,ai,si,Jr,dr,lo,ls))}}if(Kn){const ss=hr.layout.get("icon-rotate").evaluate(Fr,{},to),ls=hr.layout.get("icon-text-fit")!=="none",_m=BT(Kn,ss,li,ls),jw=dr?BT(dr,ss,li,ls):void 0;Ta=jy(Yr,ep,Vn,ai,si,Jr,Kn,lo,ss),wC=4*_m.length;const kC=rn.iconSizeData;let tp=null;kC.kind==="source"?(tp=[Vl*hr.layout.get("icon-size").evaluate(Fr,{},to)],tp[0]>wd&&vt(`${rn.layerIds[0]}: Value for "icon-size" is >= ${sm}. Reduce your "icon-size".`)):kC.kind==="composite"&&(tp=[Vl*eo.compositeIconSizes[0].evaluate(Fr,{},to),Vl*eo.compositeIconSizes[1].evaluate(Fr,{},to)],(tp[0]>wd||tp[1]>wd)&&vt(`${rn.layerIds[0]}: Value for "icon-size" is >= ${sm}. Reduce your "icon-size".`)),rn.addSymbols(rn.icon,_m,tp,Ri,Qi,Fr,!1,sr,Vn,No.lineStartIndex,No.lineLength,-1,Sa,to),Lw=rn.icon.placedSymbolArray.length-1,jw&&(EC=4*jw.length,rn.addSymbols(rn.icon,jw,tp,Ri,Qi,Fr,Rs.vertical,sr,Vn,No.lineStartIndex,No.lineLength,-1,Sa,to),zw=rn.icon.placedSymbolArray.length-1)}for(const ss in lr.horizontal){const ls=lr.horizontal[ss];Co||(CC=M3(ls.text),zi?Df=bw(ls):Co=jy(Yr,ep,Vn,ai,si,Jr,ls,ki,hr.layout.get("text-rotate").evaluate(Fr,{},to),Ji));const _m=ls.positionedLines.length===1;if(SC+=UT(rn,sr,Vn,ls,hi,hr,zi,Fr,Ji,No,lr.vertical?Rs.horizontal:Rs.horizontalOnly,_m?Object.keys(lr.horizontal):[ss],Fc,Lw,eo,Sa,to),_m)break}lr.vertical&&(TC+=UT(rn,sr,Vn,lr.vertical,hi,hr,zi,Fr,Ji,No,Rs.vertical,["vertical"],Fc,zw,eo,Sa,to));let Pd=-1;const Bw=(ss,ls)=>ss?Math.max(ss,ls):ls;Pd=Bw(Df,Pd),Pd=Bw(mm,Pd),Pd=Bw(gm,Pd);const _U=Pd>-1?1:0;rn.glyphOffsetArray.length>=Sd.MAX_GLYPHS&&vt("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Fr.sortKey!==void 0&&rn.addToSortKeyRanges(rn.symbolInstances.length,Fr.sortKey),rn.symbolInstances.emplaceBack(ep.x,ep.y,ep.z,Vn.x,Vn.y,Fc.right>=0?Fc.right:-1,Fc.center>=0?Fc.center:-1,Fc.left>=0?Fc.left:-1,Fc.vertical>=0?Fc.vertical:-1,Lw,zw,CC,Co!==void 0?Co:rn.collisionBoxArray.length,Co!==void 0?Co+1:rn.collisionBoxArray.length,ko!==void 0?ko:rn.collisionBoxArray.length,ko!==void 0?ko+1:rn.collisionBoxArray.length,Ta!==void 0?Ta:rn.collisionBoxArray.length,Ta!==void 0?Ta+1:rn.collisionBoxArray.length,ql||rn.collisionBoxArray.length,ql?ql+1:rn.collisionBoxArray.length,ai,SC,TC,wC,EC,_U,0,Fw,Nw,Pd)})(s,Pn,ar,mn,l,d,p,nn,s.layers[0],s.collisionBoxArray,r.index,r.sourceLayerIndex,s.index,Ve,Mt,T,0,_t,Yt,ne,r,g,C,R,F)};if(Et==="line")for(const mn of zT(r.geometry,0,0,Gn,Gn)){const Pn=L$(mn,We,ht,l.vertical||he,d,Ne,Le,s.overscaling,Gn);for(const _n of Pn)he&&W$(s,he.text,Nt,_n)||At(mn,_n,F)}else if(Et==="line-center"){for(const mn of r.geometry)if(mn.length>1){const Pn=O$(mn,ht,l.vertical||he,d,Ne,Le);Pn&&At(mn,Pn,F)}}else if(r.type==="Polygon")for(const mn of sw(r.geometry,0)){const Pn=B$(mn,16);At(mn[0],new Iu(Pn.x,Pn.y,0,0,void 0),F)}else if(r.type==="LineString")for(const mn of r.geometry)At(mn,new Iu(mn[0].x,mn[0].y,0,0,void 0),F);else if(r.type==="Point")for(const mn of r.geometry)for(const Pn of mn)At([Pn],new Iu(Pn.x,Pn.y,0,0,void 0),F)}const sm=255,wd=sm*Vl;function UT(s,r,l,d,p,g,v,b,T,C,R,F,W,K,Y,ne,he){const we=function(Le,We,Ve,_t,ht,Mt,Yt,Et){const Nt=[];if(We.positionedLines.length===0)return Nt;const Bt=_t.layout.get("text-rotate").evaluate(Mt,{})*Math.PI/180,Ht=function(_n){const ar=_n[0],rn=_n[1],Vn=ar*rn;return Vn>0?[ar,-rn]:Vn<0?[-ar,rn]:ar===0?[rn,ar]:[rn,-ar]}(Ve);let nn=Math.abs(We.top-We.bottom);for(const _n of We.positionedLines)nn-=_n.lineOffset;const At=We.positionedLines.length,mn=nn/At;let Pn=We.top-Ve[1];for(let _n=0;_n<At;++_n){const ar=We.positionedLines[_n];Pn=z$(We,mn,Pn,_n);for(const rn of ar.positionedGlyphs){if(!rn.rect)continue;const Vn=rn.rect||{};let sr=wT+1,Lr=!0,lr=1,Kn=0;if(rn.imageName){const li=Yt[rn.imageName];if(!li)continue;if(li.sdf){vt("SDF images are not supported in formatted text and will be ignored.");continue}Lr=!1,lr=li.pixelRatio,sr=qa/lr}const hi=(ht||Et)&&rn.vertical,dr=rn.metrics.advance*rn.scale/2,hr=rn.metrics,Yr=rn.rect;if(Yr===null)continue;Et&&We.verticalizable&&(Kn=rn.imageName?dr-rn.metrics.width*rn.scale/2:0);const ai=ht?[rn.x+dr,rn.y]:[0,0];let si=[0,0],Jr=[0,0],ki=!1;ht||(hi?(Jr=[rn.x+dr+Ht[0],rn.y+Ht[1]-Kn],ki=!0):si=[rn.x+dr+Ve[0],rn.y+Ve[1]-Kn]);const zi=Yr.w*rn.scale/(lr*(rn.localGlyph?Wl:1)),Ji=Yr.h*rn.scale/(lr*(rn.localGlyph?Wl:1));let Qr,lo,Qi,Ri;if(hi){const li=rn.y-Pn,Sa=new le(-dr,dr-li),to=-Math.PI/2,No=new le(...Jr);Qr=new le(-dr+si[0],si[1]),Qr._rotateAround(to,Sa)._add(No),Qr.x+=-li+dr,Qr.y-=(hr.left-sr)*rn.scale;const Co=rn.imageName?hr.advance*rn.scale:Fo*rn.scale,Ta=String.fromCharCode(rn.glyph);_$(Ta)?Qr.x+=(1-sr)*rn.scale:y$(Ta)?Qr.x+=Co-hr.height*rn.scale+(-sr-1)*rn.scale:Qr.x+=rn.imageName||hr.width+2*sr===Yr.w&&hr.height+2*sr===Yr.h?(Co-Ji)/2:(Co-(hr.height+2*sr)*rn.scale)/2,lo=new le(Qr.x,Qr.y-zi),Qi=new le(Qr.x+Ji,Qr.y),Ri=new le(Qr.x+Ji,Qr.y-zi)}else{const li=(hr.left-sr)*rn.scale-dr+si[0],Sa=(-hr.top-sr)*rn.scale+si[1],to=li+zi,No=Sa+Ji;Qr=new le(li,Sa),lo=new le(to,Sa),Qi=new le(li,No),Ri=new le(to,No)}if(Bt){let li;li=ht?new le(0,0):ki?new le(Ht[0],Ht[1]):new le(Ve[0],Ve[1]),Qr._rotateAround(Bt,li),lo._rotateAround(Bt,li),Qi._rotateAround(Bt,li),Ri._rotateAround(Bt,li)}const Fr=new le(0,0),eo=new le(0,0);Nt.push({tl:Qr,tr:lo,bl:Qi,br:Ri,tex:Vn,writingMode:We.writingMode,glyphOffset:ai,sectionIndex:rn.sectionIndex,isSDF:Lr,pixelOffsetTL:Fr,pixelOffsetBR:eo,minFontScaleX:0,minFontScaleY:0})}}return Nt}(0,d,T,g,v,b,p,s.allowVerticalPlacement),Ne=s.textSizeData;let Ee=null;Ne.kind==="source"?(Ee=[Vl*g.layout.get("text-size").evaluate(b,{},he)],Ee[0]>wd&&vt(`${s.layerIds[0]}: Value for "text-size" is >= ${sm}. Reduce your "text-size".`)):Ne.kind==="composite"&&(Ee=[Vl*Y.compositeTextSizes[0].evaluate(b,{},he),Vl*Y.compositeTextSizes[1].evaluate(b,{},he)],(Ee[0]>wd||Ee[1]>wd)&&vt(`${s.layerIds[0]}: Value for "text-size" is >= ${sm}. Reduce your "text-size".`)),s.addSymbols(s.text,we,Ee,T,v,b,R,r,l,C.lineStartIndex,C.lineLength,K,ne,he);for(const Le of F)W[Le]=s.text.placedSymbolArray.length-1;return 4*we.length}function VT(s){for(const r in s)return s[r];return null}function jy(s,r,l,d,p,g,v,b,T,C){let R=v.top,F=v.bottom,W=v.left,K=v.right;const Y=v.collisionPadding;if(Y&&(W-=Y[0],R-=Y[1],K+=Y[2],F+=Y[3]),T){const ne=new le(W,R),he=new le(K,R),we=new le(W,F),Ne=new le(K,F),Ee=$e(T);let Le=new le(0,0);C&&(Le=new le(C[0],C[1])),ne._rotateAround(Ee,Le),he._rotateAround(Ee,Le),we._rotateAround(Ee,Le),Ne._rotateAround(Ee,Le),W=Math.min(ne.x,he.x,we.x,Ne.x),K=Math.max(ne.x,he.x,we.x,Ne.x),R=Math.min(ne.y,he.y,we.y,Ne.y),F=Math.max(ne.y,he.y,we.y,Ne.y)}return s.emplaceBack(r.x,r.y,r.z,l.x,l.y,W,R,K,F,b,d,p,g),s.length-1}function bw(s){s.collisionPadding&&(s.top-=s.collisionPadding[1],s.bottom+=s.collisionPadding[3]);const r=s.bottom-s.top;return r>0?Math.max(10,r):null}function W$(s,r,l,d){const p=s.compareText;if(r in p){const g=p[r];for(let v=g.length-1;v>=0;v--)if(d.dist(g[v])<l)return!0}else p[r]=[];return p[r].push(d),!1}function WT(s,r){const l=s.fovAboveCenter,d=s.elevation?s.elevation.getMinElevationBelowMSL()*r:0,p=(s._camera.position[2]*s.worldSize-d)/Math.cos(s._pitch),g=Math.sin(l)*p/Math.sin(Math.max(Math.PI/2-s._pitch-l,.01)),v=Math.sin(s._pitch)*g+p;return Math.min(1.01*v,p*(1/s._horizonShift))}function Jh(s,r){if(!r.isReprojectedInTileSpace)return{scale:1<<s.z,x:s.x,y:s.y,x2:s.x+1,y2:s.y+1,projection:r};const l=Math.pow(2,-s.z),d=s.x*l,p=(s.x+1)*l,g=s.y*l,v=(s.y+1)*l,b=Ds(d),T=Ds(p),C=Yo(g),R=Yo(v),F=r.project(b,C),W=r.project(T,C),K=r.project(T,R),Y=r.project(b,R);let ne=Math.min(F.x,W.x,K.x,Y.x),he=Math.min(F.y,W.y,K.y,Y.y),we=Math.max(F.x,W.x,K.x,Y.x),Ne=Math.max(F.y,W.y,K.y,Y.y);const Ee=l/16;function Le(Ve,_t,ht,Mt,Yt,Et){const Nt=(ht+Yt)/2,Bt=(Mt+Et)/2,Ht=r.project(Ds(Nt),Yo(Bt)),nn=Math.max(0,ne-Ht.x,he-Ht.y,Ht.x-we,Ht.y-Ne);ne=Math.min(ne,Ht.x),we=Math.max(we,Ht.x),he=Math.min(he,Ht.y),Ne=Math.max(Ne,Ht.y),nn>Ee&&(Le(Ve,Ht,ht,Mt,Nt,Bt),Le(Ht,_t,Nt,Bt,Yt,Et))}Le(F,W,d,g,p,g),Le(W,K,p,g,p,v),Le(K,Y,p,v,d,v),Le(Y,F,d,v,d,g),ne-=Ee,he-=Ee,we+=Ee,Ne+=Ee;const We=1/Math.max(we-ne,Ne-he);return{scale:We,x:ne*We,y:he*We,x2:we*We,y2:Ne*We,projection:r}}const H$=jl(new Float32Array(16));class Ed{constructor(r){this.spec=r,this.name=r.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(r,l){return{x:0,y:0,z:0}}unproject(r,l){return new Kr(0,0)}projectTilePoint(r,l,d){return{x:r,y:l,z:0}}locationPoint(r,l,d=!0){return r._coordinatePoint(r.locationCoordinate(l),d)}pixelsPerMeter(r,l){return Ul(1,r)*l}pixelSpaceConversion(r,l,d){return 1}farthestPixelDistance(r){return WT(r,r.pixelsPerMeter)}pointCoordinate(r,l,d,p){const g=r.horizonLineFromTop(!1),v=new le(l,Math.max(g,d));return r.rayIntersectionCoordinate(r.pointRayIntersection(v,p))}pointCoordinate3D(r,l,d){const p=new le(l,d);if(r.elevation)return r.elevation.pointCoordinate(p);{const g=this.pointCoordinate(r,p.x,p.y,0);return[g.x,g.y,g.z]}}isPointAboveHorizon(r,l){if(r.elevation)return!this.pointCoordinate3D(r,l.x,l.y);const d=r.horizonLineFromTop();return l.y<d}createInversionMatrix(r,l){return H$}createTileMatrix(r,l,d){let p,g,v;const b=d.canonical,T=jl(new Float64Array(16));if(this.isReprojectedInTileSpace){const C=Jh(b,this);p=1,g=C.x+d.wrap*C.scale,v=C.y,Hh(T,T,[p/C.scale,p/C.scale,r.pixelsPerMeter/l])}else p=l/r.zoomScale(b.z),g=(b.x+Math.pow(2,b.z)*d.wrap)*p,v=b.y*p;return N1(T,T,[g,v,0]),Hh(T,T,[p/Gn,p/Gn,1]),T}upVector(r,l,d){return[0,0,1]}upVectorScale(r,l,d){return{metersToTile:1}}}class q$ extends Ed{constructor(r){super(r),this.range=[4,7],this.center=r.center||[-96,37.5];const[l,d]=this.parallels=r.parallels||[29.5,45.5],p=Math.sin($e(l));this.n=(p+Math.sin($e(d)))/2,this.c=1+p*(2*this.n-p),this.r0=Math.sqrt(this.c)/this.n}project(r,l){const{n:d,c:p,r0:g}=this,v=$e(r-this.center[0]),b=$e(l),T=Math.sqrt(p-2*d*Math.sin(b))/d;return{x:T*Math.sin(v*d),y:T*Math.cos(v*d)-g,z:0}}unproject(r,l){const{n:d,c:p,r0:g}=this,v=g+l;let b=Math.atan2(r,Math.abs(v))*Math.sign(v);v*d<0&&(b-=Math.PI*Math.sign(r)*Math.sign(v));const T=$e(this.center[0])*d;b=je(b,-Math.PI-T,Math.PI-T);const C=ze(Ae(b/d)+this.center[0],-180,180),R=Math.asin(ze((p-(r*r+v*v)*d*d)/(2*d),-1,1)),F=ze(Ae(R),-Jo,Jo);return new Kr(C,F)}}const lm=1.340264,cm=-.081106,um=893e-6,dm=.003796,$y=Math.sqrt(3)/2;class G$ extends Ed{project(r,l){l=l/180*Math.PI,r=r/180*Math.PI;const d=Math.asin($y*Math.sin(l)),p=d*d,g=p*p*p;return{x:.5*(r*Math.cos(d)/($y*(lm+3*cm*p+g*(7*um+9*dm*p)))/Math.PI+.5),y:1-.5*(d*(lm+cm*p+g*(um+dm*p))/Math.PI+1),z:0}}unproject(r,l){r=(2*r-.5)*Math.PI;let d=l=(2*(1-l)-1)*Math.PI,p=d*d,g=p*p*p;for(let R,F,W,K=0;K<12&&(F=d*(lm+cm*p+g*(um+dm*p))-l,W=lm+3*cm*p+g*(7*um+9*dm*p),R=F/W,d=ze(d-R,-Math.PI/3,Math.PI/3),p=d*d,g=p*p*p,!(Math.abs(R)<1e-12));++K);const v=$y*r*(lm+3*cm*p+g*(7*um+9*dm*p))/Math.cos(d),b=Math.asin(Math.sin(d)/$y),T=ze(180*v/Math.PI,-180,180),C=ze(180*b/Math.PI,-Jo,Jo);return new Kr(T,C)}}class Z$ extends Ed{constructor(r){super(r),this.wrap=!0,this.supportsWorldCopies=!0}project(r,l){return{x:.5+r/360,y:.5-l/360,z:0}}unproject(r,l){const d=360*(r-.5),p=ze(360*(.5-l),-Jo,Jo);return new Kr(d,p)}}const Af=Math.PI/2;function Uy(s){return Math.tan((Af+s)/2)}class X$ extends Ed{constructor(r){super(r),this.center=r.center||[0,30];const[l,d]=this.parallels=r.parallels||[30,30];let p=$e(l),g=$e(d);this.southernCenter=p+g<0,this.southernCenter&&(p=-p,g=-g);const v=Math.cos(p),b=Uy(p);this.n=p===g?Math.sin(p):Math.log(v/Math.cos(g))/Math.log(Uy(g)/b),this.f=v*Math.pow(Uy(p),this.n)/this.n}project(r,l){l=$e(l),this.southernCenter&&(l=-l),r=$e(r-this.center[0]);const d=1e-6,{n:p,f:g}=this;g>0?l<-Af+d&&(l=-Af+d):l>Af-d&&(l=Af-d);const v=g/Math.pow(Uy(l),p);let b=v*Math.sin(p*r),T=g-v*Math.cos(p*r);return b=.5*(b/Math.PI+.5),T=.5*(T/Math.PI+.5),{x:b,y:this.southernCenter?T:1-T,z:0}}unproject(r,l){r=(2*r-.5)*Math.PI,this.southernCenter&&(l=1-l),l=(2*(1-l)-.5)*Math.PI;const{n:d,f:p}=this,g=p-l,v=Math.sign(g),b=Math.sign(d)*Math.sqrt(r*r+g*g);let T=Math.atan2(r,Math.abs(g))*v;g*d<0&&(T-=Math.PI*Math.sign(r)*v);const C=ze(Ae(T/d)+this.center[0],-180,180),R=ze(Ae(2*Math.atan(Math.pow(p/b,1/d))-Af),-Jo,Jo);return new Kr(C,this.southernCenter?-R:R)}}class HT extends Ed{constructor(r){super(r),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(r,l){return{x:Dc(r),y:Rc(l),z:0}}unproject(r,l){const d=Ds(r),p=Yo(l);return new Kr(d,p)}}const qT=$e(Jo);class K$ extends Ed{project(r,l){const d=(l=$e(l))*l,p=d*d;return{x:.5*((r=$e(r))*(.8707-.131979*d+p*(p*(.003971*d-.001529*p)-.013791))/Math.PI+.5),y:1-.5*(l*(1.007226+d*(.015085+p*(.028874*d-.044475-.005916*p)))/Math.PI+1),z:0}}unproject(r,l){r=(2*r-.5)*Math.PI;let d=l=(2*(1-l)-1)*Math.PI,p=25,g=0,v=d*d;do{v=d*d;const C=v*v;g=(d*(1.007226+v*(.015085+C*(.028874*v-.044475-.005916*C)))-l)/(1.007226+v*(.045255+C*(.259866*v-.311325-.005916*11*C))),d=ze(d-g,-qT,qT)}while(Math.abs(g)>1e-6&&--p>0);v=d*d;const b=ze(Ae(r/(.8707+v*(v*(v*v*v*(.003971-.001529*v)-.013791)-.131979))),-180,180),T=Ae(d);return new Kr(b,T)}}const GT=$e(Jo);class Y$ extends Ed{project(r,l){l=$e(l),r=$e(r);const d=Math.cos(l),p=2/Math.PI,g=Math.acos(d*Math.cos(r/2)),v=Math.sin(g)/g,b=.5*(r*p+2*d*Math.sin(r/2)/v)||0,T=.5*(l+Math.sin(l)/v)||0;return{x:.5*(b/Math.PI+.5),y:1-.5*(T/Math.PI+1),z:0}}unproject(r,l){let d=r=(2*r-.5)*Math.PI,p=l=(2*(1-l)-1)*Math.PI,g=25;const v=1e-6;let b=0,T=0;do{const C=Math.cos(p),R=Math.sin(p),F=2*R*C,W=R*R,K=C*C,Y=Math.cos(d/2),ne=Math.sin(d/2),he=2*Y*ne,we=ne*ne,Ne=1-K*Y*Y,Ee=Ne?1/Ne:0,Le=Ne?Math.acos(C*Y)*Math.sqrt(1/Ne):0,We=.5*(2*Le*C*ne+2*d/Math.PI)-r,Ve=.5*(Le*R+p)-l,_t=.5*Ee*(K*we+Le*C*Y*W)+1/Math.PI,ht=Ee*(he*F/4-Le*R*ne),Mt=.125*Ee*(F*ne-Le*R*K*he),Yt=.5*Ee*(W*Y+Le*we*C)+.5,Et=ht*Mt-Yt*_t;b=(Ve*ht-We*Yt)/Et,T=(We*Mt-Ve*_t)/Et,d=ze(d-b,-Math.PI,Math.PI),p=ze(p-T,-GT,GT)}while((Math.abs(b)>v||Math.abs(T)>v)&&--g>0);return new Kr(Ae(d),Ae(p))}}class ZT extends Ed{constructor(r){super(r),this.center=r.center||[0,0],this.parallels=r.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos($e(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(r,l){const{scale:d,cosPhi:p}=this;return{x:$e(r)*p*d+.5,y:-Math.sin($e(l))/p*d+.5,z:0}}unproject(r,l){const{scale:d,cosPhi:p}=this,g=-(l-.5)/d,v=ze(Ae((r-.5)/d)/p,-180,180),b=Math.asin(ze(g*p,-1,1)),T=ze(Ae(b),-Jo,Jo);return new Kr(v,T)}}class J$ extends HT{constructor(r){super(r),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug"],this.range=[3,5]}projectTilePoint(r,l,d){const p=q1(r,l,d);return Wi(p,p,G1(Mc(d))),{x:p[0],y:p[1],z:p[2]}}locationPoint(r,l){const d=mf(l.lat,l.lng),p=ba([],d),g=r.elevation?r.elevation.getAtPointOrZero(r.locationCoordinate(l),r._centerAltitude):r._centerAltitude;U1(d,d,p,Ul(1,0)*Gn*g);const v=jl(new Float64Array(16));return Wh(v,r.pixelMatrix,r.globeMatrix),Wi(d,d,v),new le(d[0],d[1])}pixelsPerMeter(r,l){return Ul(1,0)*l}pixelSpaceConversion(r,l,d){const p=Ul(1,r)*l,g=Sr(Ul(1,45)*l,p,d);return this.pixelsPerMeter(r,l)/g}createTileMatrix(r,l,d){const p=H3(Mc(d.canonical));return Wh(new Float64Array(16),r.globeMatrix,p)}createInversionMatrix(r,l){const{center:d}=r,p=G1(Mc(l));return gy(p,p,$e(d.lng)),L3(p,p,$e(d.lat)),Hh(p,p,[r._pixelsPerMercatorPixel,r._pixelsPerMercatorPixel,1]),Float32Array.from(p)}pointCoordinate(r,l,d,p){return bS(r,l,d,!0)||new _f(0,0)}pointCoordinate3D(r,l,d){const p=this.pointCoordinate(r,l,d,0);return[p.x,p.y,p.z]}isPointAboveHorizon(r,l){return!bS(r,l.x,l.y,!1)}farthestPixelDistance(r){const l=function(p,g){const v=p.cameraToCenterDistance,b=p._centerAltitude*g,T=p._camera,C=p._camera.forward(),R=Tu([],Ms([],C,-v),[0,0,b]),F=p.worldSize/(2*Math.PI),W=[0,0,-F],K=p.width/p.height,Y=Math.tan(p.fovAboveCenter),ne=Ms([],T.up(),Y),he=Ms([],T.right(),Y*K),we=ba([],Tu([],Tu([],C,ne),he)),Ne=[];let Ee;if(new B3(R,we).closestPointOnSphere(W,F,Ne)){const Le=Tu([],Ne,W),We=$l([],Le,R);Ee=Math.cos(p.fovAboveCenter)*B1(We)}else{const Le=$l([],R,W),We=$l([],W,R);ba(We,We);const Ve=B1(Le)-F;Ee=Math.sqrt(Ve*(Ve+2*F));const _t=Math.acos(Ee/(F+Ve))-Math.acos(el(C,We));Ee*=Math.cos(_t)}return 1.01*Ee}(r,this.pixelsPerMeter(r.center.lat,r.worldSize)),d=gf(r.zoom);if(d>0){const p=WT(r,Ul(1,r.center.lat)*r.worldSize),g=r.worldSize/(2*Math.PI),v=Math.max(r.width,r.height)/r.worldSize*Math.PI;return Sr(l,p+g*(1-Math.cos(v)),Math.pow(d,10))}return l}upVector(r,l,d){return q1(l,d,r,1)}upVectorScale(r){return{metersToTile:_y(vy(Mc(r)))}}}function XT(s){const r=s.parallels,l=!!r&&Math.abs(r[0]+r[1])<.01;switch(s.name){case"mercator":return new HT(s);case"equirectangular":return new Z$(s);case"naturalEarth":return new K$(s);case"equalEarth":return new G$(s);case"winkelTripel":return new Y$(s);case"albers":return l?new ZT(s):new q$(s);case"lambertConformalConic":return l?new ZT(s):new X$(s);case"globe":return new J$(s)}throw new Error(`Invalid projection name: ${s.name}`)}const Q$=Iy.types,eU=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Vy(s,r,l,d,p,g,v,b,T,C,R,F,W){const K=b?Math.min(wd,Math.round(b[0])):0,Y=b?Math.min(wd,Math.round(b[1])):0;s.emplaceBack(r,l,Math.round(32*d),Math.round(32*p),g,v,(K<<1)+(T?1:0),Y,16*C,16*R,256*F,256*W)}function Wy(s,r,l,d,p,g,v){s.emplaceBack(r,l,d,p,g,v)}function Hy(s,r,l,d,p){s.emplaceBack(r,l,d,p),s.emplaceBack(r,l,d,p),s.emplaceBack(r,l,d,p),s.emplaceBack(r,l,d,p)}function tU(s){for(const r of s.sections)if(A3(r.text))return!0;return!1}class ww{constructor(r){this.layoutVertexArray=new Wt,this.indexArray=new Ln,this.programConfigurations=r,this.segments=new Ki,this.dynamicLayoutVertexArray=new Xt,this.opacityVertexArray=new Un,this.placedSymbolArray=new Xi,this.globeExtVertexArray=new tn}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(r,l,d,p){this.isEmpty()||(d&&(this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,c$.members),this.indexBuffer=r.createIndexBuffer(this.indexArray,l),this.dynamicLayoutVertexBuffer=r.createVertexBuffer(this.dynamicLayoutVertexArray,d$.members,!0),this.opacityVertexBuffer=r.createVertexBuffer(this.opacityVertexArray,eU,!0),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=r.createVertexBuffer(this.globeExtVertexArray,u$.members,!0)),this.opacityVertexBuffer.itemSize=1),(d||p)&&this.programConfigurations.upload(r))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}}Sn(ww,"SymbolBuffers");class Ew{constructor(r,l,d){this.layoutVertexArray=new r,this.layoutAttributes=l,this.indexArray=new d,this.segments=new Ki,this.collisionVertexArray=new Tr,this.collisionVertexArrayExt=new xr}upload(r){this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=r.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=r.createVertexBuffer(this.collisionVertexArray,h$.members,!0),this.collisionVertexBufferExt=r.createVertexBuffer(this.collisionVertexArrayExt,p$.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}Sn(Ew,"CollisionBuffers");class Sd{constructor(r){this.collisionBoxArray=r.collisionBoxArray,this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(v=>v.id),this.index=r.index,this.pixelRatio=r.pixelRatio,this.sourceLayerIndex=r.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=jl([]),this.placementViewportMatrix=jl([]);const l=this.layers[0]._unevaluatedLayout._values;this.textSizeData=dw(this.zoom,l["text-size"]),this.iconSizeData=dw(this.zoom,l["icon-size"]);const d=this.layers[0].layout,p=d.get("symbol-sort-key"),g=d.get("symbol-z-order");this.canOverlap=d.get("text-allow-overlap")||d.get("icon-allow-overlap")||d.get("text-ignore-placement")||d.get("icon-ignore-placement"),this.sortFeaturesByKey=g!=="viewport-y"&&p.constantOr(1)!==void 0,this.sortFeaturesByY=(g==="viewport-y"||g==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=d.get("text-writing-mode").map(v=>Rs[v]),this.stateDependentLayerIds=this.layers.filter(v=>v.isStateDependent()).map(v=>v.id),this.sourceID=r.sourceID,this.projection=r.projection}createArrays(){this.text=new ww(new Vh(this.layers,this.zoom,r=>/^text/.test(r))),this.icon=new ww(new Vh(this.layers,this.zoom,r=>/^icon/.test(r))),this.glyphOffsetArray=new xa,this.lineVertexArray=new uf,this.symbolInstances=new gi}calculateGlyphDependencies(r,l,d,p,g){for(let v=0;v<r.length;v++)if(l[r.charCodeAt(v)]=!0,p&&g){const b=im[r.charAt(v)];b&&(l[b.charCodeAt(0)]=!0)}}populate(r,l,d,p){const g=this.layers[0],v=g.layout,b=this.projection.name==="globe",T=v.get("text-font"),C=v.get("text-field"),R=v.get("icon-image"),F=(C.value.kind!=="constant"||C.value.value instanceof Wo&&!C.value.value.isEmpty()||C.value.value.toString().length>0)&&(T.value.kind!=="constant"||T.value.value.length>0),W=R.value.kind!=="constant"||!!R.value.value||Object.keys(R.parameters).length>0,K=v.get("symbol-sort-key");if(this.features=[],!F&&!W)return;const Y=l.iconDependencies,ne=l.glyphDependencies,he=l.availableImages,we=new L(this.zoom);for(const{feature:Ne,id:Ee,index:Le,sourceLayerIndex:We}of r){const Ve=g._featureFilter.needGeometry,_t=Xh(Ne,Ve);if(!g._featureFilter.filter(we,_t,d))continue;if(Ve||(_t.geometry=Cu(Ne,d,p)),b&&Ne.type!==1&&d.z<=5){const Et=_t.geometry,Nt=.98078528056,Bt=(Ht,nn)=>el(q1(Ht.x,Ht.y,d,1),q1(nn.x,nn.y,d,1))<Nt;for(let Ht=0;Ht<Et.length;Ht++)Et[Ht]=dj(Et[Ht],Bt)}let ht,Mt;if(F){const Et=g.getValueAndResolveTokens("text-field",_t,d,he),Nt=Wo.factory(Et);tU(Nt)&&(this.hasRTLText=!0),(!this.hasRTLText||E()==="unavailable"||this.hasRTLText&&D.isParsed())&&(ht=g$(Nt,g,_t))}if(W){const Et=g.getValueAndResolveTokens("icon-image",_t,d,he);Mt=Et instanceof ga?Et:ga.fromString(Et)}if(!ht&&!Mt)continue;const Yt=this.sortFeaturesByKey?K.evaluate(_t,{},d):void 0;if(this.features.push({id:Ee,text:ht,icon:Mt,index:Le,sourceLayerIndex:We,geometry:_t.geometry,properties:Ne.properties,type:Q$[Ne.type],sortKey:Yt}),Mt&&(Y[Mt.name]=!0),ht){const Et=T.evaluate(_t,{},d).join(","),Nt=v.get("text-rotation-alignment")==="map"&&v.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Rs.vertical)>=0;for(const Bt of ht.sections)if(Bt.image)Y[Bt.image.name]=!0;else{const Ht=M1(ht.toString()),nn=Bt.fontStack||Et,At=ne[nn]=ne[nn]||{};this.calculateGlyphDependencies(Bt.text,At,Nt,this.allowVerticalPlacement,Ht)}}}v.get("symbol-placement")==="line"&&(this.features=function(Ne){const Ee={},Le={},We=[];let Ve=0;function _t(Et){We.push(Ne[Et]),Ve++}function ht(Et,Nt,Bt){const Ht=Le[Et];return delete Le[Et],Le[Nt]=Ht,We[Ht].geometry[0].pop(),We[Ht].geometry[0]=We[Ht].geometry[0].concat(Bt[0]),Ht}function Mt(Et,Nt,Bt){const Ht=Ee[Nt];return delete Ee[Nt],Ee[Et]=Ht,We[Ht].geometry[0].shift(),We[Ht].geometry[0]=Bt[0].concat(We[Ht].geometry[0]),Ht}function Yt(Et,Nt,Bt){const Ht=Bt?Nt[0][Nt[0].length-1]:Nt[0][0];return`${Et}:${Ht.x}:${Ht.y}`}for(let Et=0;Et<Ne.length;Et++){const Nt=Ne[Et],Bt=Nt.geometry,Ht=Nt.text?Nt.text.toString():null;if(!Ht){_t(Et);continue}const nn=Yt(Ht,Bt),At=Yt(Ht,Bt,!0);if(nn in Le&&At in Ee&&Le[nn]!==Ee[At]){const mn=Mt(nn,At,Bt),Pn=ht(nn,At,We[mn].geometry);delete Ee[nn],delete Le[At],Le[Yt(Ht,We[Pn].geometry,!0)]=Pn,We[mn].geometry=null}else nn in Le?ht(nn,At,Bt):At in Ee?Mt(nn,At,Bt):(_t(Et),Ee[nn]=Ve-1,Le[At]=Ve-1)}return We.filter(Et=>Et.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((Ne,Ee)=>Ne.sortKey-Ee.sortKey)}update(r,l,d,p){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(r,l,this.layers,d,p),this.icon.programConfigurations.updatePaintArrays(r,l,this.layers,d,p))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(r){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(r),this.iconCollisionBox.upload(r)),this.text.upload(r,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(r,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=XT(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(r,l){const d=this.lineVertexArray.length;if(r.segment!==void 0)for(const{x:p,y:g}of l)this.lineVertexArray.emplaceBack(p,g);return{lineStartIndex:d,lineLength:this.lineVertexArray.length-d}}addSymbols(r,l,d,p,g,v,b,T,C,R,F,W,K,Y){const ne=r.indexArray,he=r.layoutVertexArray,we=r.globeExtVertexArray,Ne=r.segments.prepareSegment(4*l.length,he,ne,this.canOverlap?v.sortKey:void 0),Ee=this.glyphOffsetArray.length,Le=Ne.vertexLength,We=this.allowVerticalPlacement&&b===Rs.vertical?Math.PI/2:0,Ve=v.text&&v.text.sections;for(let ht=0;ht<l.length;ht++){const{tl:Mt,tr:Yt,bl:Et,br:Nt,tex:Bt,pixelOffsetTL:Ht,pixelOffsetBR:nn,minFontScaleX:At,minFontScaleY:mn,glyphOffset:Pn,isSDF:_n,sectionIndex:ar}=l[ht],rn=Ne.vertexLength,Vn=Pn[1];if(Vy(he,C.x,C.y,Mt.x,Vn+Mt.y,Bt.x,Bt.y,d,_n,Ht.x,Ht.y,At,mn),Vy(he,C.x,C.y,Yt.x,Vn+Yt.y,Bt.x+Bt.w,Bt.y,d,_n,nn.x,Ht.y,At,mn),Vy(he,C.x,C.y,Et.x,Vn+Et.y,Bt.x,Bt.y+Bt.h,d,_n,Ht.x,nn.y,At,mn),Vy(he,C.x,C.y,Nt.x,Vn+Nt.y,Bt.x+Bt.w,Bt.y+Bt.h,d,_n,nn.x,nn.y,At,mn),T){const{x:sr,y:Lr,z:lr}=T.anchor,[Kn,hi,dr]=T.up;Wy(we,sr,Lr,lr,Kn,hi,dr),Wy(we,sr,Lr,lr,Kn,hi,dr),Wy(we,sr,Lr,lr,Kn,hi,dr),Wy(we,sr,Lr,lr,Kn,hi,dr),Hy(r.dynamicLayoutVertexArray,sr,Lr,lr,We)}else Hy(r.dynamicLayoutVertexArray,C.x,C.y,C.z,We);ne.emplaceBack(rn,rn+1,rn+2),ne.emplaceBack(rn+1,rn+2,rn+3),Ne.vertexLength+=4,Ne.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Pn[0]),ht!==l.length-1&&ar===l[ht+1].sectionIndex||r.programConfigurations.populatePaintArrays(he.length,v,v.index,{},K,Y,Ve&&Ve[ar])}const _t=T?T.anchor:C;r.placedSymbolArray.emplaceBack(_t.x,_t.y,_t.z,C.x,C.y,Ee,this.glyphOffsetArray.length-Ee,Le,R,F,C.segment,d?d[0]:0,d?d[1]:0,p[0],p[1],b,0,!1,0,W,0)}_commitLayoutVertex(r,l,d,p,g,v,b){r.emplaceBack(l,d,p,g,v,Math.round(b.x),Math.round(b.y))}_addCollisionDebugVertices(r,l,d,p,g,v,b){const T=d.segments.prepareSegment(4,d.layoutVertexArray,d.indexArray),C=T.vertexLength,R=b.tileAnchorX,F=b.tileAnchorY;for(let K=0;K<4;K++)d.collisionVertexArray.emplaceBack(0,0,0,0);d.collisionVertexArrayExt.emplaceBack(l,-r.padding,-r.padding),d.collisionVertexArrayExt.emplaceBack(l,r.padding,-r.padding),d.collisionVertexArrayExt.emplaceBack(l,r.padding,r.padding),d.collisionVertexArrayExt.emplaceBack(l,-r.padding,r.padding),this._commitLayoutVertex(d.layoutVertexArray,p,g,v,R,F,new le(r.x1,r.y1)),this._commitLayoutVertex(d.layoutVertexArray,p,g,v,R,F,new le(r.x2,r.y1)),this._commitLayoutVertex(d.layoutVertexArray,p,g,v,R,F,new le(r.x2,r.y2)),this._commitLayoutVertex(d.layoutVertexArray,p,g,v,R,F,new le(r.x1,r.y2)),T.vertexLength+=4;const W=d.indexArray;W.emplaceBack(C,C+1),W.emplaceBack(C+1,C+2),W.emplaceBack(C+2,C+3),W.emplaceBack(C+3,C),T.primitiveLength+=4}_addTextDebugCollisionBoxes(r,l,d,p,g,v){for(let b=p;b<g;b++){const T=d.get(b),C=this.getSymbolInstanceTextSize(r,v,l,b);this._addCollisionDebugVertices(T,C,this.textCollisionBox,T.projectedAnchorX,T.projectedAnchorY,T.projectedAnchorZ,v)}}_addIconDebugCollisionBoxes(r,l,d,p,g,v){for(let b=p;b<g;b++){const T=d.get(b),C=this.getSymbolInstanceIconSize(r,l,v.placedIconSymbolIndex);this._addCollisionDebugVertices(T,C,this.iconCollisionBox,T.projectedAnchorX,T.projectedAnchorY,T.projectedAnchorZ,v)}}generateCollisionDebugBuffers(r,l){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Ew(kn,fT.members,To),this.iconCollisionBox=new Ew(kn,fT.members,To);const d=wf(this.iconSizeData,r),p=wf(this.textSizeData,r);for(let g=0;g<this.symbolInstances.length;g++){const v=this.symbolInstances.get(g);this._addTextDebugCollisionBoxes(p,r,l,v.textBoxStartIndex,v.textBoxEndIndex,v),this._addTextDebugCollisionBoxes(p,r,l,v.verticalTextBoxStartIndex,v.verticalTextBoxEndIndex,v),this._addIconDebugCollisionBoxes(d,r,l,v.iconBoxStartIndex,v.iconBoxEndIndex,v),this._addIconDebugCollisionBoxes(d,r,l,v.verticalIconBoxStartIndex,v.verticalIconBoxEndIndex,v)}}getSymbolInstanceTextSize(r,l,d,p){const g=this.text.placedSymbolArray.get(l.rightJustifiedTextSymbolIndex>=0?l.rightJustifiedTextSymbolIndex:l.centerJustifiedTextSymbolIndex>=0?l.centerJustifiedTextSymbolIndex:l.leftJustifiedTextSymbolIndex>=0?l.leftJustifiedTextSymbolIndex:l.verticalPlacedTextSymbolIndex>=0?l.verticalPlacedTextSymbolIndex:p),v=Ry(this.textSizeData,r,g)/Fo;return this.tilePixelRatio*v}getSymbolInstanceIconSize(r,l,d){const p=this.icon.placedSymbolArray.get(d),g=Ry(this.iconSizeData,r,p);return this.tilePixelRatio*g}_commitDebugCollisionVertexUpdate(r,l,d){r.emplaceBack(l,-d,-d),r.emplaceBack(l,d,-d),r.emplaceBack(l,d,d),r.emplaceBack(l,-d,d)}_updateTextDebugCollisionBoxes(r,l,d,p,g,v){for(let b=p;b<g;b++){const T=d.get(b),C=this.getSymbolInstanceTextSize(r,v,l,b);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,C,T.padding)}}_updateIconDebugCollisionBoxes(r,l,d,p,g,v){for(let b=p;b<g;b++){const T=d.get(b),C=this.getSymbolInstanceIconSize(r,l,v);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,C,T.padding)}}updateCollisionDebugBuffers(r,l){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const d=wf(this.iconSizeData,r),p=wf(this.textSizeData,r);for(let g=0;g<this.symbolInstances.length;g++){const v=this.symbolInstances.get(g);this._updateTextDebugCollisionBoxes(p,r,l,v.textBoxStartIndex,v.textBoxEndIndex,v),this._updateTextDebugCollisionBoxes(p,r,l,v.verticalTextBoxStartIndex,v.verticalTextBoxEndIndex,v),this._updateIconDebugCollisionBoxes(d,r,l,v.iconBoxStartIndex,v.iconBoxEndIndex,v.placedIconSymbolIndex),this._updateIconDebugCollisionBoxes(d,r,l,v.verticalIconBoxStartIndex,v.verticalIconBoxEndIndex,v.placedIconSymbolIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(r,l,d,p,g,v,b,T,C){const R={};if(l<d){const{x1:F,y1:W,x2:K,y2:Y,padding:ne,projectedAnchorX:he,projectedAnchorY:we,projectedAnchorZ:Ne,tileAnchorX:Ee,tileAnchorY:Le,featureIndex:We}=r.get(l);R.textBox={x1:F,y1:W,x2:K,y2:Y,padding:ne,projectedAnchorX:he,projectedAnchorY:we,projectedAnchorZ:Ne,tileAnchorX:Ee,tileAnchorY:Le},R.textFeatureIndex=We}if(p<g){const{x1:F,y1:W,x2:K,y2:Y,padding:ne,projectedAnchorX:he,projectedAnchorY:we,projectedAnchorZ:Ne,tileAnchorX:Ee,tileAnchorY:Le,featureIndex:We}=r.get(p);R.verticalTextBox={x1:F,y1:W,x2:K,y2:Y,padding:ne,projectedAnchorX:he,projectedAnchorY:we,projectedAnchorZ:Ne,tileAnchorX:Ee,tileAnchorY:Le},R.verticalTextFeatureIndex=We}if(v<b){const{x1:F,y1:W,x2:K,y2:Y,padding:ne,projectedAnchorX:he,projectedAnchorY:we,projectedAnchorZ:Ne,tileAnchorX:Ee,tileAnchorY:Le,featureIndex:We}=r.get(v);R.iconBox={x1:F,y1:W,x2:K,y2:Y,padding:ne,projectedAnchorX:he,projectedAnchorY:we,projectedAnchorZ:Ne,tileAnchorX:Ee,tileAnchorY:Le},R.iconFeatureIndex=We}if(T<C){const{x1:F,y1:W,x2:K,y2:Y,padding:ne,projectedAnchorX:he,projectedAnchorY:we,projectedAnchorZ:Ne,tileAnchorX:Ee,tileAnchorY:Le,featureIndex:We}=r.get(T);R.verticalIconBox={x1:F,y1:W,x2:K,y2:Y,padding:ne,projectedAnchorX:he,projectedAnchorY:we,projectedAnchorZ:Ne,tileAnchorX:Ee,tileAnchorY:Le},R.verticalIconFeatureIndex=We}return R}deserializeCollisionBoxes(r){this.collisionArrays=[];for(let l=0;l<this.symbolInstances.length;l++){const d=this.symbolInstances.get(l);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(r,d.textBoxStartIndex,d.textBoxEndIndex,d.verticalTextBoxStartIndex,d.verticalTextBoxEndIndex,d.iconBoxStartIndex,d.iconBoxEndIndex,d.verticalIconBoxStartIndex,d.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(r,l){const d=r.placedSymbolArray.get(l),p=d.vertexStartIndex+4*d.numGlyphs;for(let g=d.vertexStartIndex;g<p;g+=4)r.indexArray.emplaceBack(g,g+1,g+2),r.indexArray.emplaceBack(g+1,g+2,g+3)}getSortedSymbolIndexes(r){if(this.sortedAngle===r&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const l=Math.sin(r),d=Math.cos(r),p=[],g=[],v=[];for(let b=0;b<this.symbolInstances.length;++b){v.push(b);const T=this.symbolInstances.get(b);p.push(0|Math.round(l*T.tileAnchorX+d*T.tileAnchorY)),g.push(T.featureIndex)}return v.sort((b,T)=>p[b]-p[T]||g[T]-g[b]),v}addToSortKeyRanges(r,l){const d=this.sortKeyRanges[this.sortKeyRanges.length-1];d&&d.sortKey===l?d.symbolInstanceEnd=r+1:this.sortKeyRanges.push({sortKey:l,symbolInstanceStart:r,symbolInstanceEnd:r+1})}sortFeatures(r){if(this.sortFeaturesByY&&this.sortedAngle!==r&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(r),this.sortedAngle=r,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const l of this.symbolInstanceIndexes){const d=this.symbolInstances.get(l);this.featureSortOrder.push(d.featureIndex);const{rightJustifiedTextSymbolIndex:p,centerJustifiedTextSymbolIndex:g,leftJustifiedTextSymbolIndex:v,verticalPlacedTextSymbolIndex:b,placedIconSymbolIndex:T,verticalPlacedIconSymbolIndex:C}=d;p>=0&&this.addIndicesForPlacedSymbol(this.text,p),g>=0&&g!==p&&this.addIndicesForPlacedSymbol(this.text,g),v>=0&&v!==g&&v!==p&&this.addIndicesForPlacedSymbol(this.text,v),b>=0&&this.addIndicesForPlacedSymbol(this.text,b),T>=0&&this.addIndicesForPlacedSymbol(this.icon,T),C>=0&&this.addIndicesForPlacedSymbol(this.icon,C)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}Sn(Sd,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),Sd.MAX_GLYPHS=65535,Sd.addDynamicAttributes=Hy;const nU=new Ie({"symbol-placement":new te(Pt.layout_symbol["symbol-placement"]),"symbol-spacing":new te(Pt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new te(Pt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new pe(Pt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new te(Pt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new te(Pt.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new te(Pt.layout_symbol["icon-ignore-placement"]),"icon-optional":new te(Pt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new te(Pt.layout_symbol["icon-rotation-alignment"]),"icon-size":new pe(Pt.layout_symbol["icon-size"]),"icon-text-fit":new te(Pt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new te(Pt.layout_symbol["icon-text-fit-padding"]),"icon-image":new pe(Pt.layout_symbol["icon-image"]),"icon-rotate":new pe(Pt.layout_symbol["icon-rotate"]),"icon-padding":new te(Pt.layout_symbol["icon-padding"]),"icon-keep-upright":new te(Pt.layout_symbol["icon-keep-upright"]),"icon-offset":new pe(Pt.layout_symbol["icon-offset"]),"icon-anchor":new pe(Pt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new te(Pt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new te(Pt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new te(Pt.layout_symbol["text-rotation-alignment"]),"text-field":new pe(Pt.layout_symbol["text-field"]),"text-font":new pe(Pt.layout_symbol["text-font"]),"text-size":new pe(Pt.layout_symbol["text-size"]),"text-max-width":new pe(Pt.layout_symbol["text-max-width"]),"text-line-height":new pe(Pt.layout_symbol["text-line-height"]),"text-letter-spacing":new pe(Pt.layout_symbol["text-letter-spacing"]),"text-justify":new pe(Pt.layout_symbol["text-justify"]),"text-radial-offset":new pe(Pt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new te(Pt.layout_symbol["text-variable-anchor"]),"text-anchor":new pe(Pt.layout_symbol["text-anchor"]),"text-max-angle":new te(Pt.layout_symbol["text-max-angle"]),"text-writing-mode":new te(Pt.layout_symbol["text-writing-mode"]),"text-rotate":new pe(Pt.layout_symbol["text-rotate"]),"text-padding":new te(Pt.layout_symbol["text-padding"]),"text-keep-upright":new te(Pt.layout_symbol["text-keep-upright"]),"text-transform":new pe(Pt.layout_symbol["text-transform"]),"text-offset":new pe(Pt.layout_symbol["text-offset"]),"text-allow-overlap":new te(Pt.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new te(Pt.layout_symbol["text-ignore-placement"]),"text-optional":new te(Pt.layout_symbol["text-optional"])});var Sw={paint:new Ie({"icon-opacity":new pe(Pt.paint_symbol["icon-opacity"]),"icon-color":new pe(Pt.paint_symbol["icon-color"]),"icon-halo-color":new pe(Pt.paint_symbol["icon-halo-color"]),"icon-halo-width":new pe(Pt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new pe(Pt.paint_symbol["icon-halo-blur"]),"icon-translate":new te(Pt.paint_symbol["icon-translate"]),"icon-translate-anchor":new te(Pt.paint_symbol["icon-translate-anchor"]),"text-opacity":new pe(Pt.paint_symbol["text-opacity"]),"text-color":new pe(Pt.paint_symbol["text-color"],{runtimeType:Vo,getOverride:s=>s.textColor,hasOverride:s=>!!s.textColor}),"text-halo-color":new pe(Pt.paint_symbol["text-halo-color"]),"text-halo-width":new pe(Pt.paint_symbol["text-halo-width"]),"text-halo-blur":new pe(Pt.paint_symbol["text-halo-blur"]),"text-translate":new te(Pt.paint_symbol["text-translate"]),"text-translate-anchor":new te(Pt.paint_symbol["text-translate-anchor"])}),layout:nU};class KT{constructor(r){this.type=r.property.overrides?r.property.overrides.runtimeType:gc,this.defaultValue=r}evaluate(r){if(r.formattedSection){const l=this.defaultValue.property.overrides;if(l&&l.hasOverride(r.formattedSection))return l.getOverride(r.formattedSection)}return r.feature&&r.featureState?this.defaultValue.evaluate(r.feature,r.featureState):this.defaultValue.property.specification.default}eachChild(r){this.defaultValue.isConstant()||r(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Sn(KT,"FormatSectionOverride",{omit:["defaultValue"]});class qy extends Bl{constructor(r){super(r,Sw)}recalculate(r,l){super.recalculate(r,l),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const d=this.layout.get("text-writing-mode");if(d){const p=[];for(const g of d)p.indexOf(g)<0&&p.push(g);this.layout._values["text-writing-mode"]=p}else this.layout._values["text-writing-mode"]=this.layout.get("symbol-placement")==="point"?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(r,l,d,p){const g=this.layout.get(r).evaluate(l,{},d,p),v=this._unevaluatedLayout._values[r];return v.isDataDriven()||hd(v.value)||!g?g:function(b,T){return T.replace(/{([^{}]+)}/g,(C,R)=>R in b?String(b[R]):"")}(l.properties,g)}createBucket(r){return new Sd(r)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const r of Sw.paint.overridableProperties){if(!qy.hasPaintOverride(this.layout,r))continue;const l=this.paint.get(r),d=new KT(l),p=new tf(d,l.property.specification);let g=null;g=l.value.kind==="constant"||l.value.kind==="source"?new x1("source",p):new Oh("composite",p,l.value.zoomStops,l.value._interpolationType),this.paint._values[r]=new ge(l.property,g,l.parameters)}}_handleOverridablePaintPropertyUpdate(r,l,d){return!(!this.layout||l.isDataDriven()||d.isDataDriven())&&qy.hasPaintOverride(this.layout,r)}static hasPaintOverride(r,l){const d=r.get("text-field"),p=Sw.paint.properties[l];let g=!1;const v=b=>{for(const T of b)if(p.overrides&&p.overrides.hasOverride(T))return void(g=!0)};if(d.value.kind==="constant"&&d.value.value instanceof Wo)v(d.value.value.sections);else if(d.value.kind==="source"){const b=C=>{g||(C instanceof Ks&&Ci(C.value)===_c?v(C.value.sections):C instanceof ws?v(C.sections):C.eachChild(b))},T=d.value;T._styleExpression&&b(T._styleExpression.expression)}return g}getProgramConfiguration(r){return new vd(this,r)}}var rU={paint:new Ie({"background-color":new te(Pt.paint_background["background-color"]),"background-pattern":new te(Pt.paint_background["background-pattern"]),"background-opacity":new te(Pt.paint_background["background-opacity"])})},iU={paint:new Ie({"raster-opacity":new te(Pt.paint_raster["raster-opacity"]),"raster-hue-rotate":new te(Pt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new te(Pt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new te(Pt.paint_raster["raster-brightness-max"]),"raster-saturation":new te(Pt.paint_raster["raster-saturation"]),"raster-contrast":new te(Pt.paint_raster["raster-contrast"]),"raster-resampling":new te(Pt.paint_raster["raster-resampling"]),"raster-fade-duration":new te(Pt.paint_raster["raster-fade-duration"])})};class oU extends Bl{constructor(r){super(r,{}),this.implementation=r}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}isLayerDraped(){return this.implementation.renderToTile!==void 0}shouldRedrape(){return!!this.implementation.shouldRerenderTiles&&this.implementation.shouldRerenderTiles()}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(r){this.implementation.onAdd&&this.implementation.onAdd(r,r.painter.context.gl)}onRemove(r){this.implementation.onRemove&&this.implementation.onRemove(r,r.painter.context.gl)}}var aU={paint:new Ie({"sky-type":new te(Pt.paint_sky["sky-type"]),"sky-atmosphere-sun":new te(Pt.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new te(Pt.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new te(Pt.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new te(Pt.paint_sky["sky-gradient-radius"]),"sky-gradient":new Te(Pt.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new te(Pt.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new te(Pt.paint_sky["sky-atmosphere-color"]),"sky-opacity":new te(Pt.paint_sky["sky-opacity"])})};function Tw(s,r,l){const d=[0,0,1],p=mS([]);return _S(p,p,l?-$e(s)+Math.PI:$e(s)),gS(p,p,-$e(r)),dS(d,d,p),ba(d,d)}const sU={circle:class extends Bl{constructor(s){super(s,yj)}createBucket(s){return new Y3(s)}queryRadius(s){const r=s;return yf("circle-radius",this,r)+yf("circle-stroke-width",this,r)+wy(this.paint.get("circle-translate"))}queryIntersectsFeature(s,r,l,d,p,g,v,b){const T=BS(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),g.angle,s.pixelToTileUnitsFactor),C=this.paint.get("circle-radius").evaluate(r,l)+this.paint.get("circle-stroke-width").evaluate(r,l);return jS(s,d,g,v,b,this.paint.get("circle-pitch-alignment")==="map",this.paint.get("circle-pitch-scale")==="map",T,C)}getProgramIds(){return["circle"]}getProgramConfiguration(s){return new vd(this,s)}},heatmap:class extends Bl{createBucket(s){return new US(s)}constructor(s){super(s,wj),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(s){s==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=tw({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(s){return yf("heatmap-radius",this,s)}queryIntersectsFeature(s,r,l,d,p,g,v,b){const T=this.paint.get("heatmap-radius").evaluate(r,l);return jS(s,d,g,v,b,!0,!0,new le(0,0),T)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(s){return new vd(this,s)}},hillshade:class extends Bl{constructor(s){super(s,Ej)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}getProgramIds(){return["hillshade","hillshadePrepare"]}},fill:class extends Bl{constructor(s){super(s,Bj)}getProgramIds(){const s=this.paint.get("fill-pattern"),r=s&&s.constantOr(1),l=[r?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&l.push(r&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),l}getProgramConfiguration(s){return new vd(this,s)}recalculate(s,r){super.recalculate(s,r);const l=this.paint._values["fill-outline-color"];l.value.kind==="constant"&&l.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(s){return new ky(s)}queryRadius(){return wy(this.paint.get("fill-translate"))}queryIntersectsFeature(s,r,l,d,p,g){return!s.queryGeometry.isAboveHorizon&&OS(NS(s.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),g.angle,s.pixelToTileUnitsFactor),d)}isTileClipped(){return!0}},"fill-extrusion":class extends Bl{constructor(s){super(s,t$)}createBucket(s){return new tm(s)}queryRadius(){return wy(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(s){return new vd(this,s)}queryIntersectsFeature(s,r,l,d,p,g,v,b,T){const C=BS(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),g.angle,s.pixelToTileUnitsFactor),R=this.paint.get("fill-extrusion-height").evaluate(r,l),F=this.paint.get("fill-extrusion-base").evaluate(r,l),W=[0,0],K=b&&g.elevation,Y=g.elevation?g.elevation.exaggeration():1,ne=s.tile.getBucket(this);if(K&&ne instanceof tm){const Le=ne.centroidVertexArray,We=T+1;We<Le.length&&(W[0]=Le.geta_centroid_pos0(We),W[1]=Le.geta_centroid_pos1(We))}if(W[0]===0&&W[1]===1)return!1;g.projection.name==="globe"&&(d=aT([d],[new le(0,0),new le(Gn,Gn)],s.tileID.canonical).map(Le=>Le.polygon).flat());const he=K?b:null,[we,Ne]=function(Le,We,Ve,_t,ht,Mt,Yt,Et,Nt,Bt,Ht){return Le.projection.name==="globe"?function(nn,At,mn,Pn,_n,ar,rn,Vn,sr,Lr,lr){const Kn=[],hi=[],dr=nn.projection.upVectorScale(lr,nn.center.lat,nn.worldSize).metersToTile,hr=[0,0,0,1],Yr=[0,0,0,1],ai=(Jr,ki,zi,Ji)=>{Jr[0]=ki,Jr[1]=zi,Jr[2]=Ji,Jr[3]=1},si=oT();mn>0&&(mn+=si),Pn+=si;for(const Jr of At){const ki=[],zi=[];for(const Ji of Jr){const Qr=Ji.x+_n.x,lo=Ji.y+_n.y,Qi=nn.projection.projectTilePoint(Qr,lo,lr),Ri=nn.projection.upVector(lr,Ji.x,Ji.y);let Fr=mn,eo=Pn;if(rn){const li=uT(Qr,lo,mn,Pn,rn,Vn,sr,Lr);Fr+=li.base,eo+=li.top}mn!==0?ai(hr,Qi.x+Ri[0]*dr*Fr,Qi.y+Ri[1]*dr*Fr,Qi.z+Ri[2]*dr*Fr):ai(hr,Qi.x,Qi.y,Qi.z),ai(Yr,Qi.x+Ri[0]*dr*eo,Qi.y+Ri[1]*dr*eo,Qi.z+Ri[2]*dr*eo),Wi(hr,hr,ar),Wi(Yr,Yr,ar),ki.push(new bf(hr[0],hr[1],hr[2])),zi.push(new bf(Yr[0],Yr[1],Yr[2]))}Kn.push(ki),hi.push(zi)}return[Kn,hi]}(Le,We,Ve,_t,ht,Mt,Yt,Et,Nt,Bt,Ht):Yt?function(nn,At,mn,Pn,_n,ar,rn,Vn,sr){const Lr=[],lr=[],Kn=[0,0,0,1];for(const hi of nn){const dr=[],hr=[];for(const Yr of hi){const ai=Yr.x+Pn.x,si=Yr.y+Pn.y,Jr=uT(ai,si,At,mn,ar,rn,Vn,sr);Kn[0]=ai,Kn[1]=si,Kn[2]=Jr.base,Kn[3]=1,qh(Kn,Kn,_n),Kn[3]=Math.max(Kn[3],1e-5);const ki=new bf(Kn[0]/Kn[3],Kn[1]/Kn[3],Kn[2]/Kn[3]);Kn[0]=ai,Kn[1]=si,Kn[2]=Jr.top,Kn[3]=1,qh(Kn,Kn,_n),Kn[3]=Math.max(Kn[3],1e-5);const zi=new bf(Kn[0]/Kn[3],Kn[1]/Kn[3],Kn[2]/Kn[3]);dr.push(ki),hr.push(zi)}Lr.push(dr),lr.push(hr)}return[Lr,lr]}(We,Ve,_t,ht,Mt,Yt,Et,Nt,Bt):function(nn,At,mn,Pn,_n){const ar=[],rn=[],Vn=_n[8]*At,sr=_n[9]*At,Lr=_n[10]*At,lr=_n[11]*At,Kn=_n[8]*mn,hi=_n[9]*mn,dr=_n[10]*mn,hr=_n[11]*mn;for(const Yr of nn){const ai=[],si=[];for(const Jr of Yr){const ki=Jr.x+Pn.x,zi=Jr.y+Pn.y,Ji=_n[0]*ki+_n[4]*zi+_n[12],Qr=_n[1]*ki+_n[5]*zi+_n[13],lo=_n[2]*ki+_n[6]*zi+_n[14],Qi=_n[3]*ki+_n[7]*zi+_n[15],Ri=Ji+Vn,Fr=Qr+sr,eo=lo+Lr,li=Math.max(Qi+lr,1e-5),Sa=Ji+Kn,to=Qr+hi,No=lo+dr,Co=Math.max(Qi+hr,1e-5);ai.push(new bf(Ri/li,Fr/li,eo/li)),si.push(new bf(Sa/Co,to/Co,No/Co))}ar.push(ai),rn.push(si)}return[ar,rn]}(We,Ve,_t,ht,Mt)}(g,d,F,R,C,v,he,W,Y,g.center.lat,s.tileID.canonical),Ee=s.queryGeometry;return function(Le,We,Ve){let _t=1/0;OS(Ve,We)&&(_t=cT(Ve,We[0]));for(let ht=0;ht<We.length;ht++){const Mt=We[ht],Yt=Le[ht];for(let Et=0;Et<Mt.length-1;Et++){const Nt=Mt[Et],Bt=[Nt,Mt[Et+1],Yt[Et+1],Yt[Et],Nt];RS(Ve,Bt)&&(_t=Math.min(_t,cT(Ve,Bt)))}}return _t!==1/0&&_t}(we,Ne,Ee.isPointQuery()?Ee.screenBounds:Ee.screenGeometry)}},line:class extends Bl{constructor(s){super(s,dT),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(s){if(s==="line-gradient"){const r=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=r._styleExpression&&r._styleExpression.expression instanceof _a,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}widthExpression(){return this._transitionablePaint._values["line-width"].value.expression}recalculate(s,r){super.recalculate(s,r),this.paint._values["line-floorwidth"]=hT.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,s)}createBucket(s){return new Dy(s)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getProgramConfiguration(s){return new vd(this,s)}queryRadius(s){const r=s,l=pT(yf("line-width",this,r),yf("line-gap-width",this,r)),d=yf("line-offset",this,r);return l/2+Math.abs(d)+wy(this.paint.get("line-translate"))}queryIntersectsFeature(s,r,l,d,p,g){if(s.queryGeometry.isAboveHorizon)return!1;const v=NS(s.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),g.angle,s.pixelToTileUnitsFactor),b=s.pixelToTileUnitsFactor/2*pT(this.paint.get("line-width").evaluate(r,l),this.paint.get("line-gap-width").evaluate(r,l)),T=this.paint.get("line-offset").evaluate(r,l);return T&&(d=function(C,R){const F=[],W=new le(0,0);for(let K=0;K<C.length;K++){const Y=C[K],ne=[];for(let he=0;he<Y.length;he++){const we=Y[he],Ne=Y[he+1],Ee=he===0?W:we.sub(Y[he-1])._unit()._perp(),Le=he===Y.length-1?W:Ne.sub(we)._unit()._perp(),We=Ee._add(Le)._unit();We._mult(1/(We.x*Le.x+We.y*Le.y)),ne.push(We._mult(R)._add(we))}F.push(ne)}return F}(d,T*s.pixelToTileUnitsFactor)),function(C,R,F){for(let W=0;W<R.length;W++){const K=R[W];if(C.length>=3){for(let Y=0;Y<K.length;Y++)if(Kh(C,K[Y]))return!0}if(fj(C,K,F))return!0}return!1}(v,d,b)}isTileClipped(){return!0}},symbol:qy,background:class extends Bl{constructor(s){super(s,rU)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends Bl{constructor(s){super(s,iU)}getProgramIds(){return["raster"]}},sky:class extends Bl{constructor(s){super(s,aU),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(s){s==="sky-gradient"?this._updateColorRamp():s!=="sky-atmosphere-sun"&&s!=="sky-atmosphere-halo-color"&&s!=="sky-atmosphere-color"&&s!=="sky-atmosphere-sun-intensity"||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=tw({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(s){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const r=s.style.light.properties.get("position");return this._lightPosition.azimuthal!==r.azimuthal||this._lightPosition.polar!==r.polar}return!1}getCenter(s,r){if(this.paint.get("sky-type")==="atmosphere"){const d=this.paint.get("sky-atmosphere-sun"),p=!d,g=s.style.light,v=g.properties.get("position");return p&&g.properties.get("anchor")==="viewport"&&vt("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),p?Tw(v.azimuthal,90-v.polar,r):Tw(d[0],90-d[1],r)}const l=this.paint.get("sky-gradient-center");return Tw(l[0],90-l[1],r)}is3D(){return!1}isSky(){return!0}markSkyboxValid(s){this._skyboxInvalidated=!1,this._lightPosition=s.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const s=this.paint.get("sky-type");return s==="atmosphere"?["skyboxCapture","skybox"]:s==="gradient"?["skyboxGradient"]:null}}};class hm{constructor(r,l,d,p){this.context=r,this.format=d,this.texture=r.gl.createTexture(),this.update(l,p)}update(r,l,d){const{width:p,height:g}=r,{context:v}=this,{gl:b}=v,{HTMLImageElement:T,HTMLCanvasElement:C,HTMLVideoElement:R,ImageData:F,ImageBitmap:W}=y;if(b.bindTexture(b.TEXTURE_2D,this.texture),v.pixelStoreUnpackFlipY.set(!1),v.pixelStoreUnpack.set(1),v.pixelStoreUnpackPremultiplyAlpha.set(this.format===b.RGBA&&(!l||l.premultiply!==!1)),d||this.size&&this.size[0]===p&&this.size[1]===g){const{x:K,y:Y}=d||{x:0,y:0};r instanceof T||r instanceof C||r instanceof R||r instanceof F||W&&r instanceof W?b.texSubImage2D(b.TEXTURE_2D,0,K,Y,b.RGBA,b.UNSIGNED_BYTE,r):b.texSubImage2D(b.TEXTURE_2D,0,K,Y,p,g,b.RGBA,b.UNSIGNED_BYTE,r.data)}else this.size=[p,g],r instanceof T||r instanceof C||r instanceof R||r instanceof F||W&&r instanceof W?b.texImage2D(b.TEXTURE_2D,0,this.format,this.format,b.UNSIGNED_BYTE,r):b.texImage2D(b.TEXTURE_2D,0,this.format,p,g,0,this.format,b.UNSIGNED_BYTE,r.data);this.useMipmap=!!(l&&l.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&b.generateMipmap(b.TEXTURE_2D)}bind(r,l){const{context:d}=this,{gl:p}=d;p.bindTexture(p.TEXTURE_2D,this.texture),r!==this.filter&&(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,r),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,this.useMipmap?r===p.NEAREST?p.NEAREST_MIPMAP_NEAREST:p.LINEAR_MIPMAP_NEAREST:r),this.filter=r),l!==this.wrap&&(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,l),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,l),this.wrap=l)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:r}=this.context;r.deleteTexture(this.texture),this.texture=null}}class lU{constructor(r){this._callback=r,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class cU{constructor(){this.tasks={},this.taskQueue=[],St(["process"],this),this.invoker=new lU(this.process),this.nextId=0}add(r,l){const d=this.nextId++,p=function({type:g,isSymbolTile:v,zoom:b}){return b=b||0,g==="message"?0:g!=="maybePrepare"||v?g!=="parseTile"||v?g==="parseTile"&&v?300-b:g==="maybePrepare"&&v?400-b:500:200-b:100-b}(l);if(p===0){Bn();try{r()}finally{}return{cancel:()=>{}}}return this.tasks[d]={fn:r,metadata:l,priority:p,id:d},this.taskQueue.push(d),this.invoker.trigger(),{cancel:()=>{delete this.tasks[d]}}}process(){Bn();try{if(this.taskQueue=this.taskQueue.filter(d=>!!this.tasks[d]),!this.taskQueue.length)return;const r=this.pick();if(r===null)return;const l=this.tasks[r];if(delete this.tasks[r],this.taskQueue.length&&this.invoker.trigger(),!l)return;l.fn()}finally{}}pick(){let r=null,l=1/0;for(let p=0;p<this.taskQueue.length;p++){const g=this.tasks[this.taskQueue[p]];g.priority<l&&(l=g.priority,r=p)}if(r===null)return null;const d=this.taskQueue[r];return this.taskQueue.splice(r,1),d}remove(){this.invoker.remove()}}class YT{constructor(r){this._stringToNumber={},this._numberToString=[];for(let l=0;l<r.length;l++){const d=r[l];this._stringToNumber[d]=l,this._numberToString[l]=d}}encode(r){return this._stringToNumber[r]}decode(r){return this._numberToString[r]}}const uU=["tile","layer","source","sourceLayer","state"];class JT{constructor(r,l,d,p,g){this.type="Feature",this._vectorTileFeature=r,this._z=l,this._x=d,this._y=p,this.properties=r.properties,this.id=g}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(r){this._geometry=r}toJSON(){const r={type:"Feature",state:void 0,geometry:this.geometry,properties:this.properties};this.id!==void 0&&(r.id=this.id);for(const l of uU)this[l]!==void 0&&(r[l]=this[l]);return r}}const rl=32,Oc=33,Td=new Uint16Array(8184);for(let s=0;s<2046;s++){let r=s+2,l=0,d=0,p=0,g=0,v=0,b=0;for(1&r?p=g=v=rl:l=d=b=rl;(r>>=1)>1;){const C=l+p>>1,R=d+g>>1;1&r?(p=l,g=d,l=v,d=b):(l=p,d=g,p=v,g=b),v=C,b=R}const T=4*s;Td[T+0]=l,Td[T+1]=d,Td[T+2]=p,Td[T+3]=g}const Lc=new Uint16Array(2178),Cd=new Uint8Array(1089),Gy=new Uint16Array(1089);function QT(s){return s===0?-.03125:s===32?.03125:0}var eC=it([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);const tC={type:2,extent:Gn,loadGeometry:()=>[[new le(0,0),new le(Gn+1,0),new le(Gn+1,Gn+1),new le(0,Gn+1),new le(0,0)]]};class Cw{constructor(r,l,d,p,g){this.tileID=r,this.uid=ut(),this.uses=0,this.tileSize=l,this.tileZoom=d,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=g,this.expiredRequestCount=0,this.state="loading",p&&p.transform&&(this.projection=p.transform.projection)}registerFadeDuration(r){const l=r+this.timeAdded;l<Ui.now()||this.fadeEndTime&&l<this.fadeEndTime||(this.fadeEndTime=l)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}get tileTransform(){return this._tileTransform||(this._tileTransform=Jh(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(r,l,d){if(this.unloadVectorData(),this.state="loaded",r){r.featureIndex&&(this.latestFeatureIndex=r.featureIndex,r.rawTileData?(this.latestRawTileData=r.rawTileData,this.latestFeatureIndex.rawTileData=r.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=r.collisionBoxArray,this.buckets=function(p,g){const v={};if(!g)return v;for(const b of p){const T=b.layerIds.map(C=>g.getLayer(C)).filter(Boolean);if(T.length!==0){b.layers=T,b.stateDependentLayerIds&&(b.stateDependentLayers=b.stateDependentLayerIds.map(C=>T.filter(R=>R.id===C)[0]));for(const C of T)v[C.id]=b}}return v}(r.buckets,l.style),this.hasSymbolBuckets=!1;for(const p in this.buckets){const g=this.buckets[p];if(g instanceof Sd){if(this.hasSymbolBuckets=!0,!d)break;g.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const p in this.buckets){const g=this.buckets[p];if(g instanceof Sd&&g.hasRTLText){this.hasRTLText=!0,D.isLoading()||D.isLoaded()||E()!=="deferred"||P();break}}this.queryPadding=0;for(const p in this.buckets){const g=this.buckets[p];this.queryPadding=Math.max(this.queryPadding,l.style.getLayer(p).queryRadius(g))}r.imageAtlas&&(this.imageAtlas=r.imageAtlas),r.glyphAtlasImage&&(this.glyphAtlasImage=r.glyphAtlasImage),r.lineAtlas&&(this.lineAtlas=r.lineAtlas)}else this.collisionBoxArray=new Xr}unloadVectorData(){if(this.hasData()){for(const r in this.buckets)this.buckets[r].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(r){return this.buckets[r.id]}upload(r){for(const d in this.buckets){const p=this.buckets[d];p.uploadPending()&&p.upload(r)}const l=r.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new hm(r,this.imageAtlas.image,l.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new hm(r,this.glyphAtlasImage,l.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new hm(r,this.lineAtlas.image,l.ALPHA),this.lineAtlas.uploaded=!0)}prepare(r){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(r,this.imageAtlasTexture)}queryRenderedFeatures(r,l,d,p,g,v,b,T){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:p,pixelPosMatrix:b,transform:v,params:g,tileTransform:this.tileTransform},r,l,d):{}}querySourceFeatures(r,l){const d=this.latestFeatureIndex;if(!d||!d.rawTileData)return;const p=d.loadVTLayers(),g=l?l.sourceLayer:"",v=p._geojsonTileLayer||p[g];if(!v)return;const b=af(l&&l.filter),{z:T,x:C,y:R}=this.tileID.canonical,F={z:T,x:C,y:R};for(let W=0;W<v.length;W++){const K=v.feature(W);if(b.needGeometry){const he=Xh(K,!0);if(!b.filter(new L(this.tileID.overscaledZ),he,this.tileID.canonical))continue}else if(!b.filter(new L(this.tileID.overscaledZ),K))continue;const Y=d.getId(K,g),ne=new JT(K,T,C,R,Y);ne.tile=F,r.push(ne)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(r){const l=this.expirationTime;if(r.cacheControl){const d=Yn(r.cacheControl);d["max-age"]&&(this.expirationTime=Date.now()+1e3*d["max-age"])}else r.expires&&(this.expirationTime=new Date(r.expires).getTime());if(this.expirationTime){const d=Date.now();let p=!1;if(this.expirationTime>d)p=!1;else if(l)if(this.expirationTime<l)p=!0;else{const g=this.expirationTime-l;g?this.expirationTime=d+Math.max(g,3e4):p=!0}else p=!0;p?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(r,l){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(r).length===0||!l)return;const d=this.latestFeatureIndex.loadVTLayers(),p=l.style.listImages();for(const g in this.buckets){if(!l.style.hasLayer(g))continue;const v=this.buckets[g],b=v.layers[0].sourceLayer||"_geojsonTileLayer",T=d[b],C=r[b];if(!T||!C||Object.keys(C).length===0)continue;if(v.update(C,T,p,this.imageAtlas&&this.imageAtlas.patternPositions||{}),v instanceof Dy||v instanceof ky){const F=l.style._getSourceCache(v.layers[0].source);l._terrain&&l._terrain.enabled&&F&&v.programConfigurations.needsUpload&&l._terrain._clearRenderCacheForTile(F.id,this.tileID)}const R=l&&l.style&&l.style.getLayer(g);R&&(this.queryPadding=Math.max(this.queryPadding,R.queryRadius(v)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<Ui.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(r){this.symbolFadeHoldUntil=Ui.now()+r}setTexture(r,l){const d=l.context,p=d.gl;this.texture=this.texture||l.getTileTexture(r.width),this.texture?this.texture.update(r,{useMipmap:!0}):(this.texture=new hm(d,r,p.RGBA,{useMipmap:!0}),this.texture.bind(p.LINEAR,p.CLAMP_TO_EDGE))}setDependencies(r,l){const d={};for(const p of l)d[p]=!0;this.dependencies[r]=d}hasDependency(r,l){for(const d of r){const p=this.dependencies[d];if(p){for(const g of l)if(p[g])return!0}}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(r,l){if(!l||l.name==="mercator"||this._tileDebugBuffer)return;const d=Cu(tC,this.tileID.canonical,this.tileTransform)[0],p=new Kt,g=new is;for(let v=0;v<d.length;v++){const{x:b,y:T}=d[v];p.emplaceBack(b,T),g.emplaceBack(v)}g.emplaceBack(0),this._tileDebugIndexBuffer=r.createIndexBuffer(g),this._tileDebugBuffer=r.createVertexBuffer(p,W1.members),this._tileDebugSegments=Ki.simpleSegment(0,0,p.length,g.length)}_makeTileBoundsBuffers(r,l){if(this._tileBoundsBuffer||!l||l.name==="mercator")return;const d=Cu(tC,this.tileID.canonical,this.tileTransform)[0];let p,g;if(this.isRaster){const v=function(b,T){const C=Jh(b,T),R=Math.pow(2,b.z);for(let he=0;he<Oc;he++)for(let we=0;we<Oc;we++){const Ne=Ds((b.x+(we+QT(we))/rl)/R),Ee=Yo((b.y+(he+QT(he))/rl)/R),Le=T.project(Ne,Ee),We=he*Oc+we;Lc[2*We+0]=Math.round((Le.x*C.scale-C.x)*Gn),Lc[2*We+1]=Math.round((Le.y*C.scale-C.y)*Gn)}Cd.fill(0),Gy.fill(0);for(let he=2045;he>=0;he--){const we=4*he,Ne=Td[we+0],Ee=Td[we+1],Le=Td[we+2],We=Td[we+3],Ve=Ne+Le>>1,_t=Ee+We>>1,ht=Ve+_t-Ee,Mt=_t+Ne-Ve,Yt=Ee*Oc+Ne,Et=We*Oc+Le,Nt=_t*Oc+Ve,Bt=Math.hypot((Lc[2*Yt+0]+Lc[2*Et+0])/2-Lc[2*Nt+0],(Lc[2*Yt+1]+Lc[2*Et+1])/2-Lc[2*Nt+1])>=16;Cd[Nt]=Cd[Nt]||(Bt?1:0),he<1022&&(Cd[Nt]=Cd[Nt]||Cd[(Ee+Mt>>1)*Oc+(Ne+ht>>1)]||Cd[(We+Mt>>1)*Oc+(Le+ht>>1)])}const F=new Ft,W=new Ln;let K=0;function Y(he,we){const Ne=we*Oc+he;return Gy[Ne]===0&&(F.emplaceBack(Lc[2*Ne+0],Lc[2*Ne+1],he*Gn/rl,we*Gn/rl),Gy[Ne]=++K),Gy[Ne]-1}function ne(he,we,Ne,Ee,Le,We){const Ve=he+Ne>>1,_t=we+Ee>>1;if(Math.abs(he-Le)+Math.abs(we-We)>1&&Cd[_t*Oc+Ve])ne(Le,We,he,we,Ve,_t),ne(Ne,Ee,Le,We,Ve,_t);else{const ht=Y(he,we),Mt=Y(Ne,Ee),Yt=Y(Le,We);W.emplaceBack(ht,Mt,Yt)}}return ne(0,0,rl,rl,rl,0),ne(rl,rl,0,0,0,rl),{vertices:F,indices:W}}(this.tileID.canonical,l);p=v.vertices,g=v.indices}else{p=new Ft,g=new Ln;for(const{x:b,y:T}of d)p.emplaceBack(b,T,0,0);const v=aw(p.int16,void 0,4);for(let b=0;b<v.length;b+=3)g.emplaceBack(v[b],v[b+1],v[b+2])}this._tileBoundsBuffer=r.createVertexBuffer(p,eC.members),this._tileBoundsIndexBuffer=r.createIndexBuffer(g),this._tileBoundsSegments=Ki.simpleSegment(0,0,p.length,g.length)}_makeGlobeTileDebugBuffers(r,l){const d=l.projection;if(!d||d.name!=="globe"||l.freezeTileCoverage)return;const p=this.tileID.canonical,g=G1(wS(p,l)),v=gf(l.zoom);let b;v>0&&(b=O3(new Float64Array(16),l.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(r,p,l,g,b,v),this._makeGlobeTileDebugTextBuffer(r,p,l,g,b,v)}_globePoint(r,l,d,p,g,v,b){let T=q1(r,l,d);if(v){const C=1<<d.z,R=Dc(p.center.lng),F=Rc(p.center.lat),W=(d.x+.5)/C-R;let K=0;W>.5?K=-1:W<-.5&&(K=1);let Y=(r/Gn+d.x)/C+K,ne=(l/Gn+d.y)/C;Y=(Y-R)*p._pixelsPerMercatorPixel+R,ne=(ne-F)*p._pixelsPerMercatorPixel+F;const he=[Y*p.worldSize,ne*p.worldSize,0];Wi(he,he,v),T=Zh(T,he,b)}return Wi(T,T,g)}_makeGlobeTileDebugBorderBuffer(r,l,d,p,g,v){const b=new Kt,T=new is,C=new dt,R=(W,K,Y,ne,he)=>{const we=(Y-W)/(he-1),Ne=(ne-K)/(he-1),Ee=b.length;for(let Le=0;Le<he;Le++){const We=W+Le*we,Ve=K+Le*Ne;b.emplaceBack(We,Ve);const _t=this._globePoint(We,Ve,l,d,p,g,v);C.emplaceBack(_t[0],_t[1],_t[2]),T.emplaceBack(Ee+Le)}},F=Gn;R(0,0,F,0,16),R(F,0,F,F,16),R(F,F,0,F,16),R(0,F,0,0,16),this._tileDebugIndexBuffer=r.createIndexBuffer(T),this._tileDebugBuffer=r.createVertexBuffer(b,W1.members),this._globeTileDebugBorderBuffer=r.createVertexBuffer(C,vS.members),this._tileDebugSegments=Ki.simpleSegment(0,0,b.length,T.length)}_makeGlobeTileDebugTextBuffer(r,l,d,p,g,v){const b=Gn/4,T=new Kt,C=new Ln,R=new dt,F=25;C.reserve(32),T.reserve(F),R.reserve(F);const W=(K,Y)=>F*K+Y;for(let K=0;K<F;K++){const Y=K*b;for(let ne=0;ne<F;ne++){const he=ne*b;T.emplaceBack(he,Y);const we=this._globePoint(he,Y,l,d,p,g,v);R.emplaceBack(we[0],we[1],we[2])}}for(let K=0;K<4;K++)for(let Y=0;Y<4;Y++){const ne=W(K,Y),he=W(K,Y+1),we=W(K+1,Y),Ne=W(K+1,Y+1);C.emplaceBack(ne,he,we),C.emplaceBack(we,he,Ne)}this._tileDebugTextIndexBuffer=r.createIndexBuffer(C),this._tileDebugTextBuffer=r.createVertexBuffer(T,W1.members),this._globeTileDebugTextBuffer=r.createVertexBuffer(R,vS.members),this._tileDebugTextSegments=Ki.simpleSegment(0,0,F,32)}}class dU{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(r,l,d){const p=String(l);if(this.stateChanges[r]=this.stateChanges[r]||{},this.stateChanges[r][p]=this.stateChanges[r][p]||{},ct(this.stateChanges[r][p],d),this.deletedStates[r]===null){this.deletedStates[r]={};for(const g in this.state[r])g!==p&&(this.deletedStates[r][g]=null)}else if(this.deletedStates[r]&&this.deletedStates[r][p]===null){this.deletedStates[r][p]={};for(const g in this.state[r][p])d[g]||(this.deletedStates[r][p][g]=null)}else for(const g in d)this.deletedStates[r]&&this.deletedStates[r][p]&&this.deletedStates[r][p][g]===null&&delete this.deletedStates[r][p][g]}removeFeatureState(r,l,d){if(this.deletedStates[r]===null)return;const p=String(l);if(this.deletedStates[r]=this.deletedStates[r]||{},d&&l!==void 0)this.deletedStates[r][p]!==null&&(this.deletedStates[r][p]=this.deletedStates[r][p]||{},this.deletedStates[r][p][d]=null);else if(l!==void 0)if(this.stateChanges[r]&&this.stateChanges[r][p])for(d in this.deletedStates[r][p]={},this.stateChanges[r][p])this.deletedStates[r][p][d]=null;else this.deletedStates[r][p]=null;else this.deletedStates[r]=null}getState(r,l){const d=String(l),p=ct({},(this.state[r]||{})[d],(this.stateChanges[r]||{})[d]);if(this.deletedStates[r]===null)return{};if(this.deletedStates[r]){const g=this.deletedStates[r][l];if(g===null)return{};for(const v in g)delete p[v]}return p}initializeTileState(r,l){r.setFeatureState(this.state,l)}coalesceChanges(r,l){const d={};for(const p in this.stateChanges){this.state[p]=this.state[p]||{};const g={};for(const v in this.stateChanges[p])this.state[p][v]||(this.state[p][v]={}),ct(this.state[p][v],this.stateChanges[p][v]),g[v]=this.state[p][v];d[p]=g}for(const p in this.deletedStates){this.state[p]=this.state[p]||{};const g={};if(this.deletedStates[p]===null)for(const v in this.state[p])g[v]={},this.state[p][v]={};else for(const v in this.deletedStates[p]){if(this.deletedStates[p][v]===null)this.state[p][v]={};else if(this.state[p][v])for(const b of Object.keys(this.deletedStates[p][v]))delete this.state[p][v][b];g[v]=this.state[p][v]}d[p]=d[p]||{},ct(d[p],g)}if(this.stateChanges={},this.deletedStates={},Object.keys(d).length!==0)for(const p in r)r[p].setFeatureState(d,l)}}class nC{constructor(r){this.size=r,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(r,l){const d=this.toIdx(r,l);return{min:this.minimums[d],max:this.maximums[d]}}isLeaf(r,l){return this.leaves[this.toIdx(r,l)]}toIdx(r,l){return l*this.size+r}}function rC(s,r,l,d){let p=0,g=Number.MAX_VALUE;for(let v=0;v<3;v++)if(Math.abs(d[v])<1e-15){if(l[v]<s[v]||l[v]>r[v])return null}else{const b=1/d[v];let T=(s[v]-l[v])*b,C=(r[v]-l[v])*b;if(T>C){const R=T;T=C,C=R}if(T>p&&(p=T),C<g&&(g=C),p>g)return null}return p}function iC(s,r,l,d,p,g,v,b,T,C,R){const F=d-s,W=p-r,K=g-l,Y=v-s,ne=b-r,he=T-l,we=R[1]*he-R[2]*ne,Ne=R[2]*Y-R[0]*he,Ee=R[0]*ne-R[1]*Y,Le=F*we+W*Ne+K*Ee;if(Math.abs(Le)<1e-15)return null;const We=1/Le,Ve=C[0]-s,_t=C[1]-r,ht=C[2]-l,Mt=(Ve*we+_t*Ne+ht*Ee)*We;if(Mt<0||Mt>1)return null;const Yt=_t*K-ht*W,Et=ht*F-Ve*K,Nt=Ve*W-_t*F,Bt=(R[0]*Yt+R[1]*Et+R[2]*Nt)*We;return Bt<0||Mt+Bt>1?null:(Y*Yt+ne*Et+he*Nt)*We}function oC(s,r,l){return(s-r)/(l-r)}function aC(s,r,l,d,p,g,v,b,T){const C=1<<l,R=g-d,F=v-p,W=(s+1)/C*R+d,K=(r+0)/C*F+p,Y=(r+1)/C*F+p;b[0]=(s+0)/C*R+d,b[1]=K,T[0]=W,T[1]=Y}class sC{constructor(r){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=r,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const l=function(g){const v=Math.ceil(Math.log2(g.dim/8)),b=[];let T=Math.ceil(Math.pow(2,v));const C=1/T,R=(K,Y,ne,he,we)=>{const Ne=he?1:0,Ee=(K+1)*ne-Ne,Le=Y*ne,We=(Y+1)*ne-Ne;we[0]=K*ne,we[1]=Le,we[2]=Ee,we[3]=We};let F=new nC(T);const W=[];for(let K=0;K<T*T;K++){R(K%T,Math.floor(K/T),C,!1,W);const Y=kd(W[0],W[1],g),ne=kd(W[2],W[1],g),he=kd(W[2],W[3],g),we=kd(W[0],W[3],g);F.minimums.push(Math.min(Y,ne,he,we)),F.maximums.push(Math.max(Y,ne,he,we)),F.leaves.push(1)}for(b.push(F),T/=2;T>=1;T/=2){const K=b[b.length-1];F=new nC(T);for(let Y=0;Y<T*T;Y++){R(Y%T,Math.floor(Y/T),2,!0,W);const ne=K.getElevation(W[0],W[1]),he=K.getElevation(W[2],W[1]),we=K.getElevation(W[2],W[3]),Ne=K.getElevation(W[0],W[3]),Ee=K.isLeaf(W[0],W[1]),Le=K.isLeaf(W[2],W[1]),We=K.isLeaf(W[2],W[3]),Ve=K.isLeaf(W[0],W[3]),_t=Math.min(ne.min,he.min,we.min,Ne.min),ht=Math.max(ne.max,he.max,we.max,Ne.max),Mt=Ee&&Le&&We&&Ve;F.maximums.push(ht),F.minimums.push(_t),F.leaves.push(ht-_t<=5&&Mt?1:0)}b.push(F)}return b}(this.dem),d=l.length-1,p=l[d];this._addNode(p.minimums[0],p.maximums[0],p.leaves[0]),this._construct(l,0,0,d,0)}raycastRoot(r,l,d,p,g,v,b=1){return rC([r,l,-100],[d,p,this.maximums[0]*b],g,v)}raycast(r,l,d,p,g,v,b=1){if(!this.nodeCount)return null;const T=this.raycastRoot(r,l,d,p,g,v,b);if(T==null)return null;const C=[],R=[],F=[],W=[],K=[{idx:0,t:T,nodex:0,nodey:0,depth:0}];for(;K.length>0;){const{idx:Y,t:ne,nodex:he,nodey:we,depth:Ne}=K.pop();if(this.leaves[Y]){aC(he,we,Ne,r,l,d,p,F,W);const Le=1<<Ne,We=(he+0)/Le,Ve=(he+1)/Le,_t=(we+0)/Le,ht=(we+1)/Le,Mt=kd(We,_t,this.dem)*b,Yt=kd(Ve,_t,this.dem)*b,Et=kd(Ve,ht,this.dem)*b,Nt=kd(We,ht,this.dem)*b,Bt=iC(F[0],F[1],Mt,W[0],F[1],Yt,W[0],W[1],Et,g,v),Ht=iC(W[0],W[1],Et,F[0],W[1],Nt,F[0],F[1],Mt,g,v),nn=Math.min(Bt!==null?Bt:Number.MAX_VALUE,Ht!==null?Ht:Number.MAX_VALUE);if(nn!==Number.MAX_VALUE)return nn;{const At=U1([],g,v,ne);if(lC(Mt,Yt,Nt,Et,oC(At[0],F[0],W[0]),oC(At[1],F[1],W[1]))>=At[2])return ne}continue}let Ee=0;for(let Le=0;Le<this._siblingOffset.length;Le++){aC((he<<1)+this._siblingOffset[Le][0],(we<<1)+this._siblingOffset[Le][1],Ne+1,r,l,d,p,F,W),F[2]=-100,W[2]=this.maximums[this.childOffsets[Y]+Le]*b;const We=rC(F,W,g,v);if(We!=null){const Ve=We;C[Le]=Ve;let _t=!1;for(let ht=0;ht<Ee&&!_t;ht++)Ve>=C[R[ht]]&&(R.splice(ht,0,Le),_t=!0);_t||(R[Ee]=Le),Ee++}}for(let Le=0;Le<Ee;Le++){const We=R[Le];K.push({idx:this.childOffsets[Y]+We,t:C[We],nodex:(he<<1)+this._siblingOffset[We][0],nodey:(we<<1)+this._siblingOffset[We][1],depth:Ne+1})}}return null}_addNode(r,l,d){return this.minimums.push(r),this.maximums.push(l),this.leaves.push(d),this.childOffsets.push(0),this.nodeCount++}_construct(r,l,d,p,g){if(r[p].isLeaf(l,d)===1)return;this.childOffsets[g]||(this.childOffsets[g]=this.nodeCount);const v=p-1,b=r[v];let T=0,C=0;for(let R=0;R<this._siblingOffset.length;R++){const F=2*l+this._siblingOffset[R][0],W=2*d+this._siblingOffset[R][1],K=b.getElevation(F,W),Y=b.isLeaf(F,W),ne=this._addNode(K.min,K.max,Y);Y&&(T|=1<<R),C||(C=ne)}for(let R=0;R<this._siblingOffset.length;R++)T&1<<R||this._construct(r,2*l+this._siblingOffset[R][0],2*d+this._siblingOffset[R][1],v,C+R)}}function lC(s,r,l,d,p,g){return Sr(Sr(s,l,g),Sr(r,d,g),p)}function kd(s,r,l){const d=l.dim,p=ze(s*d-.5,0,d-1),g=ze(r*d-.5,0,d-1),v=Math.floor(p),b=Math.floor(g),T=Math.min(v+1,d-1),C=Math.min(b+1,d-1);return lC(l.get(v,b),l.get(T,b),l.get(v,C),l.get(T,C),p-v,g-b)}const cC={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};function hU(s,r,l){return(256*s*256+256*r+l)/10-1e4}function pU(s,r,l){return 256*s+r+l/256-32768}class Zy{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(r,l,d,p=!1,g=!1){if(this.uid=r,l.height!==l.width)throw new RangeError("DEM tiles must be square");if(d&&d!=="mapbox"&&d!=="terrarium")return vt(`"${d}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=l.height;const v=this.dim=l.height-2,b=new Uint32Array(l.data.buffer);if(this.pixels=new Uint8Array(l.data.buffer),this.encoding=d||"mapbox",this.borderReady=p,!p){for(let T=0;T<v;T++)b[this._idx(-1,T)]=b[this._idx(0,T)],b[this._idx(v,T)]=b[this._idx(v-1,T)],b[this._idx(T,-1)]=b[this._idx(T,0)],b[this._idx(T,v)]=b[this._idx(T,v-1)];b[this._idx(-1,-1)]=b[this._idx(0,0)],b[this._idx(v,-1)]=b[this._idx(v-1,0)],b[this._idx(-1,v)]=b[this._idx(0,v-1)],b[this._idx(v,v)]=b[this._idx(v-1,v-1)],g&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new sC(this)}get(r,l,d=!1){d&&(r=ze(r,-1,this.dim),l=ze(l,-1,this.dim));const p=4*this._idx(r,l);return(this.encoding==="terrarium"?pU:hU)(this.pixels[p],this.pixels[p+1],this.pixels[p+2])}static getUnpackVector(r){return cC[r]}get unpackVector(){return cC[this.encoding]}_idx(r,l){if(r<-1||r>=this.dim+1||l<-1||l>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(l+1)*this.stride+(r+1)}static pack(r,l){const d=[0,0,0,0],p=Zy.getUnpackVector(l);let g=Math.floor((r+p[3])/p[2]);return d[2]=g%256,g=Math.floor(g/256),d[1]=g%256,g=Math.floor(g/256),d[0]=g,d}getPixels(){return new as({width:this.stride,height:this.stride},this.pixels)}backfillBorder(r,l,d){if(this.dim!==r.dim)throw new Error("dem dimension mismatch");let p=l*this.dim,g=l*this.dim+this.dim,v=d*this.dim,b=d*this.dim+this.dim;switch(l){case-1:p=g-1;break;case 1:g=p+1}switch(d){case-1:v=b-1;break;case 1:b=v+1}const T=-l*this.dim,C=-d*this.dim;for(let R=v;R<b;R++)for(let F=p;F<g;F++){const W=4*this._idx(F,R),K=4*this._idx(F+T,R+C);this.pixels[W+0]=r.pixels[K+0],this.pixels[W+1]=r.pixels[K+1],this.pixels[W+2]=r.pixels[K+2],this.pixels[W+3]=r.pixels[K+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}Sn(Zy,"DEMData"),Sn(sC,"DemMinMaxQuadTree",{omit:["dem"]});class fU{constructor(r,l){this.max=r,this.onRemove=l,this.reset()}reset(){for(const r in this.data)for(const l of this.data[r])l.timeout&&clearTimeout(l.timeout),this.onRemove(l.value);return this.data={},this.order=[],this}add(r,l,d){const p=r.wrapped().key;this.data[p]===void 0&&(this.data[p]=[]);const g={value:l,timeout:void 0};if(d!==void 0&&(g.timeout=setTimeout(()=>{this.remove(r,g)},d)),this.data[p].push(g),this.order.push(p),this.order.length>this.max){const v=this._getAndRemoveByKey(this.order[0]);v&&this.onRemove(v)}return this}has(r){return r.wrapped().key in this.data}getAndRemove(r){return this.has(r)?this._getAndRemoveByKey(r.wrapped().key):null}_getAndRemoveByKey(r){const l=this.data[r].shift();return l.timeout&&clearTimeout(l.timeout),this.data[r].length===0&&delete this.data[r],this.order.splice(this.order.indexOf(r),1),l.value}getByKey(r){const l=this.data[r];return l?l[0].value:null}get(r){return this.has(r)?this.data[r.wrapped().key][0].value:null}remove(r,l){if(!this.has(r))return this;const d=r.wrapped().key,p=l===void 0?0:this.data[d].indexOf(l),g=this.data[d][p];return this.data[d].splice(p,1),g.timeout&&clearTimeout(g.timeout),this.data[d].length===0&&delete this.data[d],this.onRemove(g.value),this.order.splice(this.order.indexOf(d),1),this}setMaxSize(r){for(this.max=r;this.order.length>this.max;){const l=this._getAndRemoveByKey(this.order[0]);l&&this.onRemove(l)}return this}filter(r){const l=[];for(const d in this.data)for(const p of this.data[d])r(p.value)||l.push(p);for(const d of l)this.remove(d.value.tileID,d)}}class Mf{constructor(r,l,d){this.func=r,this.mask=l,this.range=d}}Mf.ReadOnly=!1,Mf.ReadWrite=!0,Mf.disabled=new Mf(519,Mf.ReadOnly,[0,1]);const kw=7680;class Pw{constructor(r,l,d,p,g,v){this.test=r,this.ref=l,this.mask=d,this.fail=p,this.depthFail=g,this.pass=v}}Pw.disabled=new Pw({func:519,mask:0},0,0,kw,kw,kw);class zc{constructor(r,l,d){this.blendFunction=r,this.blendColor=l,this.mask=d}}zc.Replace=[1,0],zc.disabled=new zc(zc.Replace,Mi.transparent,[!1,!1,!1,!1]),zc.unblended=new zc(zc.Replace,Mi.transparent,[!0,!0,!0,!0]),zc.alphaBlended=new zc([1,771],Mi.transparent,[!0,!0,!0,!0]);const Iw=1029,Aw=2305;class Hl{constructor(r,l,d){this.enable=r,this.mode=l,this.frontFace=d}}Hl.disabled=new Hl(!1,Iw,Aw),Hl.backCCW=new Hl(!0,Iw,Aw),Hl.backCW=new Hl(!0,Iw,2304),Hl.frontCW=new Hl(!0,1028,2304),Hl.frontCCW=new Hl(!0,1028,Aw);class Qh extends Il{constructor(r,l,d){super(),this.id=r,this._onlySymbols=d,l.on("data",p=>{p.dataType==="source"&&p.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&p.dataType==="source"&&p.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform))}),l.on("error",()=>{this._sourceErrored=!0}),this._source=l,this._tiles={},this._cache=new fU(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=l.minTileCacheSize,this._maxTileCacheSize=l.maxTileCacheSize,this._loadedParentTiles={},this._coveredTiles={},this._state=new dU,this._isRaster=this._source.type==="raster"||this._source.type==="raster-dem"||this._source.type==="custom"&&this._source._dataType==="raster"}onAdd(r){this.map=r,this._minTileCacheSize=this._minTileCacheSize===void 0&&r?r._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=this._maxTileCacheSize===void 0&&r?r._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const r in this._tiles){const l=this._tiles[r];if(l.state!=="loaded"&&l.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const r=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,r&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(r,l){return r.isSymbolTile=this._onlySymbols,this._source.loadTile(r,l)}_unloadTile(r){if(this._source.unloadTile)return this._source.unloadTile(r,()=>{})}_abortTile(r){if(this._source.abortTile)return this._source.abortTile(r,()=>{})}serialize(){return this._source.serialize()}prepare(r){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const l in this._tiles){const d=this._tiles[l];d.upload(r),d.prepare(this.map.style.imageManager)}}getIds(){return ot(this._tiles).map(r=>r.tileID).sort(uC).map(r=>r.key)}getRenderableIds(r){const l=[];for(const d in this._tiles)this._isIdRenderable(+d,r)&&l.push(this._tiles[d]);return r?l.sort((d,p)=>{const g=d.tileID,v=p.tileID,b=new le(g.canonical.x,g.canonical.y)._rotate(this.transform.angle),T=new le(v.canonical.x,v.canonical.y)._rotate(this.transform.angle);return g.overscaledZ-v.overscaledZ||T.y-b.y||T.x-b.x}).map(d=>d.tileID.key):l.map(d=>d.tileID).sort(uC).map(d=>d.key)}hasRenderableParent(r){const l=this.findLoadedParent(r,0);return!!l&&this._isIdRenderable(l.tileID.key)}_isIdRenderable(r,l){return this._tiles[r]&&this._tiles[r].hasData()&&!this._coveredTiles[r]&&(l||!this._tiles[r].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const r in this._tiles)this._tiles[r].state!=="errored"&&this._reloadTile(+r,"reloading")}}_reloadTile(r,l){const d=this._tiles[r];d&&(d.state!=="loading"&&(d.state=l),this._loadTile(d,this._tileLoaded.bind(this,d,r,l)))}_tileLoaded(r,l,d,p){if(p)if(r.state="errored",p.status!==404)this._source.fire(new ja(p,{tile:r}));else if(this._source.type==="raster-dem"&&this.usedForTerrain&&this.map.painter.terrain){const g=this.map.painter.terrain;this.update(this.transform,g.getScaledDemTileSize(),!0),g.resetTileLookupCache(this.id)}else this.update(this.transform);else r.timeAdded=Ui.now(),d==="expired"&&(r.refreshedUponExpiration=!0),this._setTileReloadTimer(l,r),this._source.type==="raster-dem"&&r.dem&&this._backfillDEM(r),this._state.initializeTileState(r,this.map?this.map.painter:null),this._source.fire(new Ba("data",{dataType:"source",tile:r,coord:r.tileID,sourceCacheId:this.id}))}_backfillDEM(r){const l=this.getRenderableIds();for(let p=0;p<l.length;p++){const g=l[p];if(r.neighboringTiles&&r.neighboringTiles[g]){const v=this.getTileByID(g);d(r,v),d(v,r)}}function d(p,g){if(!p.dem||p.dem.borderReady)return;p.needsHillshadePrepare=!0,p.needsDEMTextureUpload=!0;let v=g.tileID.canonical.x-p.tileID.canonical.x;const b=g.tileID.canonical.y-p.tileID.canonical.y,T=Math.pow(2,p.tileID.canonical.z),C=g.tileID.key;v===0&&b===0||Math.abs(b)>1||(Math.abs(v)>1&&(Math.abs(v+T)===1?v+=T:Math.abs(v-T)===1&&(v-=T)),g.dem&&p.dem&&(p.dem.backfillBorder(g.dem,v,b),p.neighboringTiles&&p.neighboringTiles[C]&&(p.neighboringTiles[C].backfilled=!0)))}}getTile(r){return this.getTileByID(r.key)}getTileByID(r){return this._tiles[r]}_retainLoadedChildren(r,l,d,p){for(const g in this._tiles){let v=this._tiles[g];if(p[g]||!v.hasData()||v.tileID.overscaledZ<=l||v.tileID.overscaledZ>d)continue;let b=v.tileID;for(;v&&v.tileID.overscaledZ>l+1;){const C=v.tileID.scaledTo(v.tileID.overscaledZ-1);v=this._tiles[C.key],v&&v.hasData()&&(b=C)}let T=b;for(;T.overscaledZ>l;)if(T=T.scaledTo(T.overscaledZ-1),r[T.key]){p[b.key]=b;break}}}findLoadedParent(r,l){if(r.key in this._loadedParentTiles){const d=this._loadedParentTiles[r.key];return d&&d.tileID.overscaledZ>=l?d:null}for(let d=r.overscaledZ-1;d>=l;d--){const p=r.scaledTo(d),g=this._getLoadedTile(p);if(g)return g}}_getLoadedTile(r){const l=this._tiles[r.key];return l&&l.hasData()?l:this._cache.getByKey(this._source.reparseOverscaled?r.wrapped().key:r.canonical.key)}updateCacheSize(r,l){l=l||this._source.tileSize;const d=Math.ceil(r.width/l)+1,p=Math.ceil(r.height/l)+1,g=Math.floor(d*p*5),v=typeof this._minTileCacheSize=="number"?Math.max(this._minTileCacheSize,g):g,b=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,v):v;this._cache.setMaxSize(b)}handleWrapJump(r){const l=Math.round((r-(this._prevLng===void 0?r:this._prevLng))/360);if(this._prevLng=r,l){const d={};for(const p in this._tiles){const g=this._tiles[p];g.tileID=g.tileID.unwrapTo(g.tileID.wrap+l),d[g.tileID.key]=g}this._tiles=d;for(const p in this._timers)clearTimeout(this._timers[p]),delete this._timers[p];for(const p in this._tiles)this._setTileReloadTimer(+p,this._tiles[p])}}update(r,l,d){if(this.transform=r,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!d)return;let p;this.updateCacheSize(r,l),this.transform.projection.name!=="globe"&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?p=r.getVisibleUnwrappedCoordinates(this._source.tileID).map(b=>new Ea(b.canonical.z,b.wrap,b.canonical.z,b.canonical.x,b.canonical.y)):(p=r.coveringTiles({tileSize:l||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!d,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(p=p.filter(b=>this._source.hasTile(b)))):p=[];const g=this._updateRetainedTiles(p);if(dC(this._source.type)&&p.length!==0){const b={},T={},C=Object.keys(g);for(const F of C){const W=g[F],K=this._tiles[F];if(!K||K.fadeEndTime&&K.fadeEndTime<=Ui.now())continue;const Y=this.findLoadedParent(W,Math.max(W.overscaledZ-Qh.maxOverzooming,this._source.minzoom));Y&&(this._addTile(Y.tileID),b[Y.tileID.key]=Y.tileID),T[F]=W}const R=p[p.length-1].overscaledZ;for(const F in this._tiles){const W=this._tiles[F];if(g[F]||!W.hasData())continue;let K=W.tileID;for(;K.overscaledZ>R;){K=K.scaledTo(K.overscaledZ-1);const Y=this._tiles[K.key];if(Y&&Y.hasData()&&T[K.key]){g[F]=W.tileID;break}}}for(const F in b)g[F]||(this._coveredTiles[F]=!0,g[F]=b[F])}for(const b in g)this._tiles[b].clearFadeHold();const v=function(b,T){const C=[];for(const R in b)R in T||C.push(R);return C}(this._tiles,g);for(const b of v){const T=this._tiles[b];T.hasSymbolBuckets&&!T.holdingForFade()?T.setHoldDuration(this.map._fadeDuration):T.hasSymbolBuckets&&!T.symbolFadeFinished()||this._removeTile(+b)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const r in this._tiles)this._tiles[r].holdingForFade()&&this._removeTile(+r)}_updateRetainedTiles(r){const l={};if(r.length===0)return l;const d={},p=r.reduce((C,R)=>Math.min(C,R.overscaledZ),1/0),g=r[0].overscaledZ,v=Math.max(g-Qh.maxOverzooming,this._source.minzoom),b=Math.max(g+Qh.maxUnderzooming,this._source.minzoom),T={};for(const C of r){const R=this._addTile(C);l[C.key]=C,R.hasData()||p<this._source.maxzoom&&(T[C.key]=C)}this._retainLoadedChildren(T,p,b,l);for(const C of r){let R=this._tiles[C.key];if(R.hasData())continue;if(C.canonical.z>=this._source.maxzoom){const W=C.children(this._source.maxzoom)[0],K=this.getTile(W);if(K&&K.hasData()){l[W.key]=W;continue}}else{const W=C.children(this._source.maxzoom);if(l[W[0].key]&&l[W[1].key]&&l[W[2].key]&&l[W[3].key])continue}let F=R.wasRequested();for(let W=C.overscaledZ-1;W>=v;--W){const K=C.scaledTo(W);if(d[K.key]||(d[K.key]=!0,R=this.getTile(K),!R&&F&&(R=this._addTile(K)),R&&(l[K.key]=K,F=R.wasRequested(),R.hasData())))break}}return l}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const r in this._tiles){const l=[];let d,p=this._tiles[r].tileID;for(;p.overscaledZ>0;){if(p.key in this._loadedParentTiles){d=this._loadedParentTiles[p.key];break}l.push(p.key);const g=p.scaledTo(p.overscaledZ-1);if(d=this._getLoadedTile(g),d)break;p=g}for(const g of l)this._loadedParentTiles[g]=d}}_addTile(r){let l=this._tiles[r.key];if(l)return l;l=this._cache.getAndRemove(r),l&&(this._setTileReloadTimer(r.key,l),l.tileID=r,this._state.initializeTileState(l,this.map?this.map.painter:null),this._cacheTimers[r.key]&&(clearTimeout(this._cacheTimers[r.key]),delete this._cacheTimers[r.key],this._setTileReloadTimer(r.key,l)));const d=!!l;if(!d){const p=this.map?this.map.painter:null;l=new Cw(r,this._source.tileSize*r.overscaleFactor(),this.transform.tileZoom,p,this._isRaster),this._loadTile(l,this._tileLoaded.bind(this,l,r.key,l.state))}return l?(l.uses++,this._tiles[r.key]=l,d||this._source.fire(new Ba("dataloading",{tile:l,coord:l.tileID,dataType:"source"})),l):null}_setTileReloadTimer(r,l){r in this._timers&&(clearTimeout(this._timers[r]),delete this._timers[r]);const d=l.getExpiryTimeout();d&&(this._timers[r]=setTimeout(()=>{this._reloadTile(r,"expired"),delete this._timers[r]},d))}_removeTile(r){const l=this._tiles[r];l&&(l.uses--,delete this._tiles[r],this._timers[r]&&(clearTimeout(this._timers[r]),delete this._timers[r]),l.uses>0||(l.hasData()&&l.state!=="reloading"?this._cache.add(l.tileID,l,l.getExpiryTimeout()):(l.aborted=!0,this._abortTile(l),this._unloadTile(l))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const r in this._tiles)this._removeTile(+r);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(r,l,d){const p=[],g=this.transform;if(!g)return p;const v=g.projection.name==="globe",b=Dc(g.center.lng);for(const T in this._tiles){const C=this._tiles[T];if(d&&C.clearQueryDebugViz(),C.holdingForFade())continue;let R;if(v){const F=C.tileID.canonical;if(F.z===0){const W=[Math.abs(ze(b,...pm(F,-1))-b),Math.abs(ze(b,...pm(F,1))-b)];R=[0,2*W.indexOf(Math.min(...W))-1]}else{const W=[Math.abs(ze(b,...pm(F,-1))-b),Math.abs(ze(b,...pm(F,0))-b),Math.abs(ze(b,...pm(F,1))-b)];R=[W.indexOf(Math.min(...W))-1]}}else R=[0];for(const F of R){const W=r.containsTile(C,g,l,F);W&&p.push(W)}}return p}getVisibleCoordinates(r){const l=this.getRenderableIds(r).map(d=>this._tiles[d].tileID);for(const d of l)d.projMatrix=this.transform.calculateProjMatrix(d.toUnwrapped());return l}hasTransition(){if(this._source.hasTransition())return!0;if(dC(this._source.type))for(const r in this._tiles){const l=this._tiles[r];if(l.fadeEndTime!==void 0&&l.fadeEndTime>=Ui.now())return!0}return!1}setFeatureState(r,l,d){this._state.updateState(r=r||"_geojsonTileLayer",l,d)}removeFeatureState(r,l,d){this._state.removeFeatureState(r=r||"_geojsonTileLayer",l,d)}getFeatureState(r,l){return this._state.getState(r=r||"_geojsonTileLayer",l)}setDependencies(r,l,d){const p=this._tiles[r];p&&p.setDependencies(l,d)}reloadTilesForDependencies(r,l){for(const d in this._tiles)this._tiles[d].hasDependency(r,l)&&this._reloadTile(+d,"reloading");this._cache.filter(d=>!d.hasDependency(r,l))}_preloadTiles(r,l){if(!this._sourceLoaded){const b=()=>{this._sourceLoaded&&(this._source.off("data",b),this._preloadTiles(r,l))};return void this._source.on("data",b)}const d=new Map,p=Array.isArray(r)?r:[r],g=this.map.painter.terrain,v=this.usedForTerrain&&g?g.getScaledDemTileSize():this._source.tileSize;for(const b of p){const T=b.coveringTiles({tileSize:v,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const C of T)d.set(C.key,C);this.usedForTerrain&&b.updateElevation(!1)}lt(Array.from(d.values()),(b,T)=>{const C=new Cw(b,this._source.tileSize*b.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(C,R=>{this._source.type==="raster-dem"&&C.dem&&this._backfillDEM(C),T(R,C)})},l)}}function uC(s,r){const l=Math.abs(2*s.wrap)-+(s.wrap<0),d=Math.abs(2*r.wrap)-+(r.wrap<0);return s.overscaledZ-r.overscaledZ||d-l||r.canonical.y-s.canonical.y||r.canonical.x-s.canonical.x}function dC(s){return s==="raster"||s==="image"||s==="video"||s==="custom"}function pm(s,r){const l=1<<s.z;return[s.x/l+r,(s.x+1)/l+r]}Qh.maxOverzooming=10,Qh.maxUnderzooming=3;class Xy{constructor(r,l,d){this._demTile=r,this._dem=this._demTile.dem,this._scale=l,this._offset=d}static create(r,l,d){const p=d||r.findDEMTileFor(l);if(!p||!p.dem)return;const g=p.dem,v=p.tileID,b=1<<l.canonical.z-v.canonical.z;return new Xy(p,p.tileSize/Gn/b,[(l.canonical.x/b-v.canonical.x)*g.dim,(l.canonical.y/b-v.canonical.y)*g.dim])}tileCoordToPixel(r,l){const d=l*this._scale+this._offset[1],p=Math.floor(r*this._scale+this._offset[0]),g=Math.floor(d);return new le(p,g)}getElevationAt(r,l,d,p){const g=r*this._scale+this._offset[0],v=l*this._scale+this._offset[1],b=Math.floor(g),T=Math.floor(v),C=this._dem;return p=!!p,d?Sr(Sr(C.get(b,T,p),C.get(b,T+1,p),v-T),Sr(C.get(b+1,T,p),C.get(b+1,T+1,p),v-T),g-b):C.get(b,T,p)}getElevationAtPixel(r,l,d){return this._dem.get(r,l,!!d)}getMeterToDEM(r){return(1<<this._demTile.tileID.canonical.z)*Ul(1,r)*this._dem.stride}}class hC{constructor(r,l){this.tileID=r,this.x=r.canonical.x,this.y=r.canonical.y,this.z=r.canonical.z,this.grid=new vu(Gn,16,0),this.featureIndexArray=new $h,this.promoteId=l}insert(r,l,d,p,g,v=0){const b=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(d,p,g,v);const T=this.grid;for(let C=0;C<l.length;C++){const R=l[C],F=[1/0,1/0,-1/0,-1/0];for(let W=0;W<R.length;W++){const K=R[W];F[0]=Math.min(F[0],K.x),F[1]=Math.min(F[1],K.y),F[2]=Math.max(F[2],K.x),F[3]=Math.max(F[3],K.y)}F[0]<Gn&&F[1]<Gn&&F[2]>=0&&F[3]>=0&&T.insert(b,F[0],F[1],F[2],F[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new uw(new Ly(this.rawTileData)).layers,this.sourceLayerCoder=new YT(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const r in this.vtLayers)this.vtFeatures[r]=[]}return this.vtLayers}query(r,l,d,p){this.loadVTLayers();const g=r.params||{},v=af(g.filter),b=r.tileResult,T=r.transform,C=b.bufferedTilespaceBounds,R=this.grid.query(C.min.x,C.min.y,C.max.x,C.max.y,(Y,ne,he,we)=>FS(b.bufferedTilespaceGeometry,Y,ne,he,we));R.sort(mU);let F=null;T.elevation&&R.length>0&&(F=Xy.create(T.elevation,this.tileID));const W={};let K;for(let Y=0;Y<R.length;Y++){const ne=R[Y];if(ne===K)continue;K=ne;const he=this.featureIndexArray.get(ne);let we=null;this.loadMatchingFeature(W,he,v,g.layers,g.availableImages,l,d,p,(Ne,Ee,Le,We=0)=>(we||(we=Cu(Ne,this.tileID.canonical,r.tileTransform)),Ee.queryIntersectsFeature(b,Ne,Le,we,this.z,r.transform,r.pixelPosMatrix,F,We)))}return W}loadMatchingFeature(r,l,d,p,g,v,b,T,C){const{featureIndex:R,bucketIndex:F,sourceLayerIndex:W,layoutVertexArrayOffset:K}=l,Y=this.bucketLayerIDs[F];if(p&&!function(Ne,Ee){for(let Le=0;Le<Ne.length;Le++)if(Ee.indexOf(Ne[Le])>=0)return!0;return!1}(p,Y))return;const ne=this.sourceLayerCoder.decode(W),he=this.vtLayers[ne].feature(R);if(d.needGeometry){const Ne=Xh(he,!0);if(!d.filter(new L(this.tileID.overscaledZ),Ne,this.tileID.canonical))return}else if(!d.filter(new L(this.tileID.overscaledZ),he))return;const we=this.getId(he,ne);for(let Ne=0;Ne<Y.length;Ne++){const Ee=Y[Ne];if(p&&p.indexOf(Ee)<0)continue;const Le=v[Ee];if(!Le)continue;let We={};we!==void 0&&T&&(We=T.getState(Le.sourceLayer||"_geojsonTileLayer",we));const Ve=ct({},b[Ee]);Ve.paint=pC(Ve.paint,Le.paint,he,We,g),Ve.layout=pC(Ve.layout,Le.layout,he,We,g);const _t=!C||C(he,Le,We,K);if(!_t)continue;const ht=new JT(he,this.z,this.x,this.y,we);ht.layer=Ve;let Mt=r[Ee];Mt===void 0&&(Mt=r[Ee]=[]),Mt.push({featureIndex:R,feature:ht,intersectionZ:_t})}}lookupSymbolFeatures(r,l,d,p,g,v,b,T){const C={};this.loadVTLayers();const R=af(g);for(const F of r)this.loadMatchingFeature(C,{bucketIndex:d,sourceLayerIndex:p,featureIndex:F,layoutVertexArrayOffset:0},R,v,b,T,l);return C}loadFeature(r){const{featureIndex:l,sourceLayerIndex:d}=r;this.loadVTLayers();const p=this.sourceLayerCoder.decode(d),g=this.vtFeatures[p];if(g[l])return g[l];const v=this.vtLayers[p].feature(l);return g[l]=v,v}hasLayer(r){for(const l of this.bucketLayerIDs)for(const d of l)if(r===d)return!0;return!1}getId(r,l){let d=r.id;if(this.promoteId){const p=typeof this.promoteId=="string"?this.promoteId:this.promoteId[l];p!=null&&(d=r.properties[p]),typeof d=="boolean"&&(d=Number(d))}return d}}function pC(s,r,l,d,p){return Lt(s,(g,v)=>{const b=r instanceof be?r.get(v):null;return b&&b.evaluate?b.evaluate(l,d,p):b})}function mU(s,r){return r-s}Sn(hC,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});class fC{constructor(r,l){this.width=r,this.height=l,this.nextRow=0,this.image=new ku({width:r,height:l}),this.positions={},this.uploaded=!1}getDash(r,l){const d=this.getKey(r,l);return this.positions[d]}trim(){const r=this.width,l=this.height=Dt(this.nextRow);this.image.resize({width:r,height:l})}getKey(r,l){return r.join(",")+l}getDashRanges(r,l,d){const p=[];let g=r.length%2==1?-r[r.length-1]*d:0,v=r[0]*d,b=!0;p.push({left:g,right:v,isDash:b,zeroLength:r[0]===0});let T=r[0];for(let C=1;C<r.length;C++){b=!b;const R=r[C];g=T*d,T+=R,v=T*d,p.push({left:g,right:v,isDash:b,zeroLength:R===0})}return p}addRoundDash(r,l,d){const p=l/2;for(let g=-d;g<=d;g++){const v=this.width*(this.nextRow+d+g);let b=0,T=r[b];for(let C=0;C<this.width;C++){C/T.right>1&&(T=r[++b]);const R=Math.abs(C-T.left),F=Math.abs(C-T.right),W=Math.min(R,F);let K;const Y=g/d*(p+1);if(T.isDash){const ne=p-Math.abs(Y);K=Math.sqrt(W*W+ne*ne)}else K=p-Math.sqrt(W*W+Y*Y);this.image.data[v+C]=Math.max(0,Math.min(255,K+128))}}}addRegularDash(r,l){for(let T=r.length-1;T>=0;--T){const C=r[T],R=r[T+1];C.zeroLength?r.splice(T,1):R&&R.isDash===C.isDash&&(R.left=C.left,r.splice(T,1))}const d=r[0],p=r[r.length-1];d.isDash===p.isDash&&(d.left=p.left-this.width,p.right=d.right+this.width);const g=this.width*this.nextRow;let v=0,b=r[v];for(let T=0;T<this.width;T++){T/b.right>1&&(b=r[++v]);const C=Math.abs(T-b.left),R=Math.abs(T-b.right),F=Math.min(C,R);this.image.data[g+T]=Math.max(0,Math.min(255,(b.isDash?F:-F)+l+128))}}addDash(r,l){const d=this.getKey(r,l);if(this.positions[d])return this.positions[d];const p=l==="round",g=p?7:0,v=2*g+1;if(this.nextRow+v>this.height)return vt("LineAtlas out of space"),null;r.length===0&&r.push(1);let b=0;for(let R=0;R<r.length;R++)r[R]<0&&(vt("Negative value is found in line dasharray, replacing values with 0"),r[R]=0),b+=r[R];if(b!==0){const R=this.width/b,F=this.getDashRanges(r,this.width,R);p?this.addRoundDash(F,R,g):this.addRegularDash(F,l==="square"?.5*R:0)}const T=this.nextRow+g;this.nextRow+=v;const C={tl:[T,g],br:[b,0]};return this.positions[d]=C,C}}Sn(fC,"LineAtlas");const mC=1*Wl;class gC{constructor(r){const l={},d=[];for(const b in r){const T=r[b],C=l[b]={};for(const R in T.glyphs){const F=T.glyphs[+R];if(!F||F.bitmap.width===0||F.bitmap.height===0)continue;const W=F.metrics.localGlyph?mC:1,K={x:0,y:0,w:F.bitmap.width+2*W,h:F.bitmap.height+2*W};d.push(K),C[R]=K}}const{w:p,h:g}=fw(d),v=new ku({width:p||1,height:g||1});for(const b in r){const T=r[b];for(const C in T.glyphs){const R=T.glyphs[+C];if(!R||R.bitmap.width===0||R.bitmap.height===0)continue;const F=l[b][C],W=R.metrics.localGlyph?mC:1;ku.copy(R.bitmap,v,{x:0,y:0},{x:F.x+W,y:F.y+W},R.bitmap)}}this.image=v,this.positions=l}}Sn(gC,"GlyphAtlas");class gU{constructor(r){this.tileID=new Ea(r.tileID.overscaledZ,r.tileID.wrap,r.tileID.canonical.z,r.tileID.canonical.x,r.tileID.canonical.y),this.tileZoom=r.tileZoom,this.uid=r.uid,this.zoom=r.zoom,this.canonical=r.tileID.canonical,this.pixelRatio=r.pixelRatio,this.tileSize=r.tileSize,this.source=r.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=r.showCollisionBoxes,this.collectResourceTiming=!!r.collectResourceTiming,this.returnDependencies=!!r.returnDependencies,this.promoteId=r.promoteId,this.enableTerrain=!!r.enableTerrain,this.isSymbolTile=r.isSymbolTile,this.tileTransform=Jh(r.tileID.canonical,r.projection),this.projection=r.projection}parse(r,l,d,p,g){this.status="parsing",this.data=r,this.collisionBoxArray=new Xr;const v=new YT(Object.keys(r.layers).sort()),b=new hC(this.tileID,this.promoteId);b.bucketLayerIDs=[];const T={},C=new fC(256,256),R={featureIndex:b,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:C,availableImages:d},F=l.familiesBySource[this.source];for(const We in F){const Ve=r.layers[We];if(!Ve)continue;let _t=!1,ht=!1;for(const Et of F[We])Et[0].type==="symbol"?_t=!0:ht=!0;if(this.isSymbolTile===!0&&!_t||this.isSymbolTile===!1&&!ht)continue;Ve.version===1&&vt(`Vector tile source "${this.source}" layer "${We}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Mt=v.encode(We),Yt=[];for(let Et=0;Et<Ve.length;Et++){const Nt=Ve.feature(Et),Bt=b.getId(Nt,We);Yt.push({feature:Nt,id:Bt,index:Et,sourceLayerIndex:Mt})}for(const Et of F[We]){const Nt=Et[0];this.isSymbolTile!==void 0&&Nt.type==="symbol"!==this.isSymbolTile||Nt.minzoom&&this.zoom<Math.floor(Nt.minzoom)||Nt.maxzoom&&this.zoom>=Nt.maxzoom||Nt.visibility!=="none"&&(Mw(Et,this.zoom,d),(T[Nt.id]=Nt.createBucket({index:b.bucketLayerIDs.length,layers:Et,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Mt,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.spec,availableImages:d})).populate(Yt,R,this.tileID.canonical,this.tileTransform),b.bucketLayerIDs.push(Et.map(Bt=>Bt.id)))}}let W,K,Y,ne;C.trim();const he={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},we=()=>{if(W)return g(W);if(K&&Y&&ne){const We=new gC(K),Ve=new ET(Y,ne);for(const _t in T){const ht=T[_t];ht instanceof Sd?(Mw(ht.layers,this.zoom,d),U$(ht,K,We.positions,Y,Ve.iconPositions,this.showCollisionBoxes,d,this.tileID.canonical,this.tileZoom,this.projection)):ht.hasPattern&&(ht instanceof Dy||ht instanceof ky||ht instanceof tm)&&(Mw(ht.layers,this.zoom,d),ht.addFeatures(R,this.tileID.canonical,Ve.patternPositions,d,this.tileTransform))}this.status="done",g(null,{buckets:ot(T).filter(_t=>!_t.isEmpty()),featureIndex:b,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:We.image,lineAtlas:C,imageAtlas:Ve,glyphMap:this.returnDependencies?K:null,iconMap:this.returnDependencies?Y:null,glyphPositions:this.returnDependencies?We.positions:null})}},Ne=Lt(R.glyphDependencies,We=>Object.keys(We).map(Number));Object.keys(Ne).length?p.send("getGlyphs",{uid:this.uid,stacks:Ne},(We,Ve)=>{W||(W=We,K=Ve,we())},void 0,!1,he):K={};const Ee=Object.keys(R.iconDependencies);Ee.length?p.send("getImages",{icons:Ee,source:this.source,tileID:this.tileID,type:"icons"},(We,Ve)=>{W||(W=We,Y=Ve,we())},void 0,!1,he):Y={};const Le=Object.keys(R.patternDependencies);Le.length?p.send("getImages",{icons:Le,source:this.source,tileID:this.tileID,type:"patterns"},(We,Ve)=>{W||(W=We,ne=Ve,we())},void 0,!1,he):ne={},we()}}function Mw(s,r,l){const d=new L(r);for(const p of s)p.recalculate(d,l)}class _C{constructor(r){this.entries={},this.scheduler=r}request(r,l,d,p){const g=this.entries[r]=this.entries[r]||{callbacks:[]};if(g.result){const[v,b]=g.result;return this.scheduler?this.scheduler.add(()=>{p(v,b)},l):p(v,b),()=>{}}return g.callbacks.push(p),g.cancel||(g.cancel=d((v,b)=>{g.result=[v,b];for(const T of g.callbacks)this.scheduler?this.scheduler.add(()=>{T(v,b)},l):T(v,b);setTimeout(()=>delete this.entries[r],3e3)})),()=>{g.result||(g.callbacks=g.callbacks.filter(v=>v!==p),g.callbacks.length||(g.cancel(),delete this.entries[r]))}}}function yC(s,r,l){const d=JSON.stringify(s.request);return s.data&&(this.deduped.entries[d]={result:[null,s.data]}),this.deduped.request(d,{type:"parseTile",isSymbolTile:s.isSymbolTile,zoom:s.tileZoom},p=>{const g=mi(s.request,(v,b,T,C)=>{v?p(v):b&&p(null,{vectorTile:l?void 0:new uw(new Ly(b)),rawData:b,cacheControl:T,expires:C})});return()=>{g.cancel(),p()}},r)}const vC=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class Dw{static from(r){if(!(r instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[l,d]=new Uint8Array(r,0,2);if(l!==219)throw new Error("Data does not appear to be in a KDBush format.");const p=d>>4;if(p!==1)throw new Error(`Got v${p} data when expected v1.`);const g=vC[15&d];if(!g)throw new Error("Unrecognized array type.");const[v]=new Uint16Array(r,2,1),[b]=new Uint32Array(r,4,1);return new Dw(b,v,g,r)}constructor(r,l=64,d=Float64Array,p){if(isNaN(r)||r<0)throw new Error(`Unpexpected numItems value: ${r}.`);this.numItems=+r,this.nodeSize=Math.min(Math.max(+l,2),65535),this.ArrayType=d,this.IndexArrayType=r<65536?Uint16Array:Uint32Array;const g=vC.indexOf(this.ArrayType),v=2*r*this.ArrayType.BYTES_PER_ELEMENT,b=r*this.IndexArrayType.BYTES_PER_ELEMENT,T=(8-b%8)%8;if(g<0)throw new Error(`Unexpected typed array class: ${d}.`);p&&p instanceof ArrayBuffer?(this.data=p,this.ids=new this.IndexArrayType(this.data,8,r),this.coords=new this.ArrayType(this.data,8+b+T,2*r),this._pos=2*r,this._finished=!0):(this.data=new ArrayBuffer(8+v+b+T),this.ids=new this.IndexArrayType(this.data,8,r),this.coords=new this.ArrayType(this.data,8+b+T,2*r),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+g]),new Uint16Array(this.data,2,1)[0]=l,new Uint32Array(this.data,4,1)[0]=r)}add(r,l){const d=this._pos>>1;return this.ids[d]=d,this.coords[this._pos++]=r,this.coords[this._pos++]=l,d}finish(){const r=this._pos>>1;if(r!==this.numItems)throw new Error(`Added ${r} items when expected ${this.numItems}.`);return Rw(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(r,l,d,p){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:g,coords:v,nodeSize:b}=this,T=[0,g.length-1,0],C=[];for(;T.length;){const R=T.pop()||0,F=T.pop()||0,W=T.pop()||0;if(F-W<=b){for(let he=W;he<=F;he++){const we=v[2*he],Ne=v[2*he+1];we>=r&&we<=d&&Ne>=l&&Ne<=p&&C.push(g[he])}continue}const K=W+F>>1,Y=v[2*K],ne=v[2*K+1];Y>=r&&Y<=d&&ne>=l&&ne<=p&&C.push(g[K]),(R===0?r<=Y:l<=ne)&&(T.push(W),T.push(K-1),T.push(1-R)),(R===0?d>=Y:p>=ne)&&(T.push(K+1),T.push(F),T.push(1-R))}return C}within(r,l,d){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:p,coords:g,nodeSize:v}=this,b=[0,p.length-1,0],T=[],C=d*d;for(;b.length;){const R=b.pop()||0,F=b.pop()||0,W=b.pop()||0;if(F-W<=v){for(let he=W;he<=F;he++)bC(g[2*he],g[2*he+1],r,l)<=C&&T.push(p[he]);continue}const K=W+F>>1,Y=g[2*K],ne=g[2*K+1];bC(Y,ne,r,l)<=C&&T.push(p[K]),(R===0?r-d<=Y:l-d<=ne)&&(b.push(W),b.push(K-1),b.push(1-R)),(R===0?r+d>=Y:l+d>=ne)&&(b.push(K+1),b.push(F),b.push(1-R))}return T}}function Rw(s,r,l,d,p,g){if(p-d<=l)return;const v=d+p>>1;xC(s,r,v,d,p,g),Rw(s,r,l,d,v-1,1-g),Rw(s,r,l,v+1,p,1-g)}function xC(s,r,l,d,p,g){for(;p>d;){if(p-d>600){const C=p-d+1,R=l-d+1,F=Math.log(C),W=.5*Math.exp(2*F/3),K=.5*Math.sqrt(F*W*(C-W)/C)*(R-C/2<0?-1:1);xC(s,r,l,Math.max(d,Math.floor(l-R*W/C+K)),Math.min(p,Math.floor(l+(C-R)*W/C+K)),g)}const v=r[2*l+g];let b=d,T=p;for(fm(s,r,d,l),r[2*p+g]>v&&fm(s,r,d,p);b<T;){for(fm(s,r,b,T),b++,T--;r[2*b+g]<v;)b++;for(;r[2*T+g]>v;)T--}r[2*d+g]===v?fm(s,r,d,T):(T++,fm(s,r,T,p)),T<=l&&(d=T+1),l<=T&&(p=T-1)}}function fm(s,r,l,d){Ow(s,l,d),Ow(r,2*l,2*d),Ow(r,2*l+1,2*d+1)}function Ow(s,r,l){const d=s[r];s[r]=s[l],s[l]=d}function bC(s,r,l,d){const p=s-l,g=r-d;return p*p+g*g}a.ARRAY_TYPE=os,a.AUTH_ERR_MSG=Fe,a.Aabb=wa,a.Actor=class{constructor(s,r,l){this.target=s,this.parent=r,this.mapId=l,this.callbacks={},this.cancelCallbacks={},St(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=Bn()?s:y,this.scheduler=new cU}send(s,r,l,d,p=!1,g){const v=Math.round(1e18*Math.random()).toString(36).substring(0,10);l&&(l.metadata=g,this.callbacks[v]=l);const b=zn(this.globalScope)?void 0:[];return this.target.postMessage({id:v,type:s,hasCallback:!!l,targetMapId:d,mustQueue:p,sourceMapId:this.mapId,data:gd(r,b)},b),{cancel:()=>{l&&delete this.callbacks[v],this.target.postMessage({id:v,type:"<cancel>",targetMapId:d,sourceMapId:this.mapId})}}}receive(s){const r=s.data,l=r.id;if(l&&(!r.targetMapId||this.mapId===r.targetMapId))if(r.type==="<cancel>"){const d=this.cancelCallbacks[l];delete this.cancelCallbacks[l],d&&d.cancel()}else if(r.mustQueue||Bn()){const d=this.callbacks[l];this.cancelCallbacks[l]=this.scheduler.add(()=>this.processTask(l,r),d&&d.metadata||{type:"message"})}else this.processTask(l,r)}processTask(s,r){if(r.type==="<response>"){const l=this.callbacks[s];delete this.callbacks[s],l&&(r.error?l(xu(r.error)):l(null,xu(r.data)))}else{const l=zn(this.globalScope)?void 0:[],d=r.hasCallback?(g,v)=>{delete this.cancelCallbacks[s],this.target.postMessage({id:s,type:"<response>",sourceMapId:this.mapId,error:g?gd(g):null,data:gd(v,l)},l)}:g=>{},p=xu(r.data);if(this.parent[r.type])this.parent[r.type](r.sourceMapId,p,d);else if(this.parent.getWorkerSource){const g=r.type.split(".");this.parent.getWorkerSource(r.sourceMapId,g[0],p.source)[g[1]](p,d)}else d(new Error(`Could not find function ${r.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},a.CanonicalTileID=My,a.Color=Mi,a.ColorMode=zc,a.CullFaceMode=Hl,a.DEMData=Zy,a.DataConstantProperty=te,a.DedupedRequest=_C,a.DepthMode=Mf,a.EXTENT=Gn,a.Elevation=class{isDataAvailableAtPoint(s){const r=this._source();if(this.isUsingMockSource()||!r||s.y<0||s.y>1)return!1;const l=r.getSource().maxzoom,d=1<<l,p=Math.floor(s.x),g=Math.floor((s.x-p)*d),v=Math.floor(s.y*d),b=this.findDEMTileFor(new Ea(l,p,l,g,v));return!(!b||!b.dem)}getAtPointOrZero(s,r=0){return this.getAtPoint(s,r)||0}getAtPoint(s,r,l=!0){if(this.isUsingMockSource())return null;r==null&&(r=null);const d=this._source();if(!d||s.y<0||s.y>1)return r;const p=d.getSource().maxzoom,g=1<<p,v=Math.floor(s.x),b=s.x-v,T=new Ea(p,v,p,Math.floor(b*g),Math.floor(s.y*g)),C=this.findDEMTileFor(T);if(!C||!C.dem)return r;const R=C.dem,F=1<<C.tileID.canonical.z,W=(b*F-C.tileID.canonical.x)*R.dim,K=(s.y*F-C.tileID.canonical.y)*R.dim,Y=Math.floor(W),ne=Math.floor(K);return(l?this.exaggeration():1)*Sr(Sr(R.get(Y,ne),R.get(Y,ne+1),K-ne),Sr(R.get(Y+1,ne),R.get(Y+1,ne+1),K-ne),W-Y)}getAtTileOffset(s,r,l){const d=1<<s.canonical.z;return this.getAtPointOrZero(new _f(s.wrap+(s.canonical.x+r/Gn)/d,(s.canonical.y+l/Gn)/d))}getAtTileOffsetFunc(s,r,l,d){return p=>{const g=this.getAtTileOffset(s,p.x,p.y),v=d.upVector(s.canonical,p.x,p.y);return Ms(v,v,g*d.upVectorScale(s.canonical,r,l).metersToTile),v}}getForTilePoints(s,r,l,d){if(this.isUsingMockSource())return!1;const p=Xy.create(this,s,d);return!!p&&(r.forEach(g=>{g[2]=this.exaggeration()*p.getElevationAt(g[0],g[1],l)}),!0)}getMinMaxForTile(s){if(this.isUsingMockSource())return null;const r=this.findDEMTileFor(s);if(!r||!r.dem)return null;const l=r.dem.tree,d=r.tileID,p=1<<s.canonical.z-d.canonical.z;let g=s.canonical.x/p-d.canonical.x,v=s.canonical.y/p-d.canonical.y,b=0;for(let T=0;T<s.canonical.z-d.canonical.z&&!l.leaves[b];T++){g*=2,v*=2;const C=2*Math.floor(v)+Math.floor(g);b=l.childOffsets[b]+C,g%=1,v%=1}return{min:this.exaggeration()*l.minimums[b],max:this.exaggeration()*l.maximums[b]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(s,r,l){throw new Error("Pure virtual method called.")}pointCoordinate(s){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(s){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},a.ErrorEvent=ja,a.EvaluationParameters=L,a.Event=Ba,a.Evented=Il,a.FillExtrusionBucket=tm,a.Frustum=$3,a.FrustumCorners=j3,a.GLOBE_RADIUS=Ac,a.GLOBE_SCALE_MATCH_LATITUDE=45,a.GLOBE_ZOOM_THRESHOLD_MAX=xS,a.GLOBE_ZOOM_THRESHOLD_MIN=U3,a.GlobeSharedBuffers=class{constructor(s){this._createGrid(s),this._createPoles(s)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const s of this._poleSegments)s.destroy();for(const s of this._gridSegments)s.withSkirts.destroy(),s.withoutSkirts.destroy();if(this._wireframeIndexBuffer){this._wireframeIndexBuffer.destroy();for(const s of this._wireframeSegments)s.destroy()}}_fillGridMeshWithLods(s,r){const l=new Kt,d=new Ln,p=[],g=s+1+2,v=r[0]+1,b=r[0]+1+(1+r.length),T=(C,R,F)=>{let W=C===g-1?C-2:C===0?C:C-1;return W+=F?24575:0,[W,R]};for(let C=0;C<g;++C)l.emplaceBack(...T(C,0,!0));for(let C=0;C<v;++C)for(let R=0;R<g;++R)l.emplaceBack(...T(R,C,(R===0||R===g-1)&&!0));for(let C=0;C<r.length;++C){const R=r[C];for(let F=0;F<g;++F)l.emplaceBack(...T(F,R,!0))}for(let C=0;C<r.length;++C){const R=d.length,F=r[C]+1+2,W=new Ln;for(let ne=0;ne<F-1;ne++){const he=ne===F-2,we=he?g*(b-r.length+C-ne):g;for(let Ne=0;Ne<g-1;Ne++){const Ee=ne*g+Ne;ne===0||he||Ne===0||Ne===g-2?(W.emplaceBack(Ee+1,Ee,Ee+we),W.emplaceBack(Ee+we,Ee+we+1,Ee+1)):(d.emplaceBack(Ee+1,Ee,Ee+we),d.emplaceBack(Ee+we,Ee+we+1,Ee+1))}}const K=Ki.simpleSegment(0,R,l.length,d.length-R);for(let ne=0;ne<W.uint16.length;ne+=3)d.emplaceBack(W.uint16[ne],W.uint16[ne+1],W.uint16[ne+2]);const Y=Ki.simpleSegment(0,R,l.length,d.length-R);p.push({withoutSkirts:K,withSkirts:Y})}return{vertices:l,indices:d,segments:p}}_createGrid(s){const r=this._fillGridMeshWithLods(Gh,H1);this._gridSegments=r.segments,this._gridBuffer=s.createVertexBuffer(r.vertices,W1.members),this._gridIndexBuffer=s.createIndexBuffer(r.indices,!0)}_createPoles(s){const r=new Ln;for(let p=0;p<=Gh;p++)r.emplaceBack(0,p+1,p+2);this._poleIndexBuffer=s.createIndexBuffer(r,!0);const l=new Zr,d=new Zr;this._poleSegments=[];for(let p=0,g=0;p<U3;p++){const v=360/(1<<p);l.emplaceBack(0,-Ac,0,.5,0),d.emplaceBack(0,-Ac,0,.5,1);for(let b=0;b<=Gh;b++){const T=b/Gh,C=Sr(0,v,T),[R,F,W]=ff(cj,uj,C,Ac);l.emplaceBack(R,F,W,T,0),d.emplaceBack(R,F,W,T,1)}this._poleSegments.push(Ki.simpleSegment(g,0,66,64)),g+=66}this._poleNorthVertexBuffer=s.createVertexBuffer(l,yS,!1),this._poleSouthVertexBuffer=s.createVertexBuffer(d,yS,!1)}getGridBuffers(s,r){return[this._gridBuffer,this._gridIndexBuffer,r?this._gridSegments[s].withSkirts:this._gridSegments[s].withoutSkirts]}getPoleBuffers(s){return[this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[s]]}getWirefameBuffers(s,r){if(!this._wireframeSegments){const l=new To,d=Gh,p=d+1+2,g=1;this._wireframeSegments=[];for(let v=0,b=0;v<H1.length;v++){const T=H1[v];for(let R=g;R<T+g;R++)for(let F=g;F<d+g;F++){const W=R*p+F;l.emplaceBack(W,W+1),l.emplaceBack(W,W+p),l.emplaceBack(W,W+p+1)}const C=T*d*3;this._wireframeSegments.push(Ki.simpleSegment(0,b,(T+1)*p,C)),b+=C}this._wireframeIndexBuffer=s.createIndexBuffer(l)}return[this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments[r]]}},a.GlyphManager=Cf,a.ImagePosition=mw,a.KDBush=Dw,a.LivePerformanceUtils=fr,a.LngLat=Kr,a.LngLatBounds=xd,a.LocalGlyphMode=yw,a.MAX_MERCATOR_LATITUDE=Jo,a.MercatorCoordinate=_f,a.ONE_EM=Fo,a.OverscaledTileID=Ea,a.PerformanceMarkers=pn,a.Point=le,a.Properties=Ie,a.RGBAImage=as,a.Ray=B3,a.RequestManager=class{constructor(s,r,l){this._transformRequestFn=s,this._customAccessToken=r,this._silenceAuthErrors=!!l,this._createSkuToken()}_createSkuToken(){const s=function(){let r="";for(let l=0;l<10;l++)r+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",G,r].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=s.token,this._skuTokenExpiresAt=s.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(s,r){return this._transformRequestFn&&this._transformRequestFn(s,r)||{url:s}}normalizeStyleURL(s,r){if(!Be(s))return s;const l=xt(s);return l.path=`/styles/v1${l.path}`,this._makeAPIURL(l,this._customAccessToken||r)}normalizeGlyphsURL(s,r){if(!Be(s))return s;const l=xt(s);return l.path=`/fonts/v1${l.path}`,this._makeAPIURL(l,this._customAccessToken||r)}normalizeSourceURL(s,r,l,d){if(!Be(s))return s;const p=xt(s);return p.path=`/v4/${p.authority}.json`,p.params.push("secure"),l&&p.params.push(`language=${l}`),d&&p.params.push(`worldview=${d}`),this._makeAPIURL(p,this._customAccessToken||r)}normalizeSpriteURL(s,r,l,d){const p=xt(s);return Be(s)?(p.path=`/styles/v1${p.path}/sprite${r}${l}`,this._makeAPIURL(p,this._customAccessToken||d)):(p.path+=`${r}${l}`,kt(p))}normalizeTileURL(s,r,l){if(this._isSkuTokenExpired()&&this._createSkuToken(),s&&!Be(s))return s;const d=xt(s);d.path=d.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${r||l&&d.authority!=="raster"&&l===512?"@2x":""}${O.supported?".webp":"$1"}`),d.authority==="raster"?d.path=`/${M.RASTER_URL_PREFIX}${d.path}`:(d.path=d.path.replace(/^.+\/v4\//,"/"),d.path=`/${M.TILE_URL_VERSION}${d.path}`);const p=this._customAccessToken||function(g){for(const v of g){const b=v.match(/^access_token=(.*)$/);if(b)return b[1]}return null}(d.params)||M.ACCESS_TOKEN;return M.REQUIRE_ACCESS_TOKEN&&p&&this._skuToken&&d.params.push(`sku=${this._skuToken}`),this._makeAPIURL(d,p)}canonicalizeTileURL(s,r){const l=xt(s);if(!l.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!l.path.match(/\.[\w]+$/))return s;let d="mapbox://";l.path.match(/^\/raster\/v1\//)?d+=`raster/${l.path.replace(`/${M.RASTER_URL_PREFIX}/`,"")}`:d+=`tiles/${l.path.replace(`/${M.TILE_URL_VERSION}/`,"")}`;let p=l.params;return r&&(p=p.filter(g=>!g.match(/^access_token=/))),p.length&&(d+=`?${p.join("&")}`),d}canonicalizeTileset(s,r){const l=!!r&&Be(r),d=[];for(const p of s.tiles||[])et(p)?d.push(this.canonicalizeTileURL(p,l)):d.push(p);return d}_makeAPIURL(s,r){const l="See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes",d=xt(M.API_URL);if(s.protocol=d.protocol,s.authority=d.authority,s.protocol==="http"){const p=s.params.indexOf("secure");p>=0&&s.params.splice(p,1)}if(d.path!=="/"&&(s.path=`${d.path}${s.path}`),!M.REQUIRE_ACCESS_TOKEN)return kt(s);if(r=r||M.ACCESS_TOKEN,!this._silenceAuthErrors){if(!r)throw new Error(`An API access token is required to use Mapbox GL. ${l}`);if(r[0]==="s")throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${l}`)}return s.params=s.params.filter(p=>p.indexOf("access_token")===-1),s.params.push(`access_token=${r||""}`),kt(s)}},a.ResourceType=Fn,a.SegmentVector=Ki,a.SourceCache=Qh,a.StencilMode=Pw,a.StructArrayLayout1ui2=is,a.StructArrayLayout2f1f2i16=Zn,a.StructArrayLayout2i4=Kt,a.StructArrayLayout2ui4=To,a.StructArrayLayout3f12=xr,a.StructArrayLayout3ui6=Ln,a.StructArrayLayout4i8=Ft,a.StructArrayLayout5f20=Zr,a.Texture=hm,a.Tile=Cw,a.Transitionable=ee,a.Uniform1f=fy,a.Uniform1i=class extends Eu{constructor(s){super(s),this.current=0}set(s,r,l){this.fetchUniformLocation(s,r)&&this.current!==l&&(this.current=l,this.gl.uniform1i(this.location,l))}},a.Uniform2f=class extends Eu{constructor(s){super(s),this.current=[0,0]}set(s,r,l){this.fetchUniformLocation(s,r)&&(l[0]===this.current[0]&&l[1]===this.current[1]||(this.current=l,this.gl.uniform2f(this.location,l[0],l[1])))}},a.Uniform3f=class extends Eu{constructor(s){super(s),this.current=[0,0,0]}set(s,r,l){this.fetchUniformLocation(s,r)&&(l[0]===this.current[0]&&l[1]===this.current[1]&&l[2]===this.current[2]||(this.current=l,this.gl.uniform3f(this.location,l[0],l[1],l[2])))}},a.Uniform4f=tS,a.UniformColor=nS,a.UniformMatrix2f=class extends Eu{constructor(s){super(s),this.current=GB}set(s,r,l){if(this.fetchUniformLocation(s,r)){for(let d=0;d<4;d++)if(l[d]!==this.current[d]){this.current=l,this.gl.uniformMatrix2fv(this.location,!1,l);break}}}},a.UniformMatrix3f=class extends Eu{constructor(s){super(s),this.current=qB}set(s,r,l){if(this.fetchUniformLocation(s,r)){for(let d=0;d<9;d++)if(l[d]!==this.current[d]){this.current=l,this.gl.uniformMatrix3fv(this.location,!1,l);break}}}},a.UniformMatrix4f=class extends Eu{constructor(s){super(s),this.current=HB}set(s,r,l){if(this.fetchUniformLocation(s,r)){if(l[12]!==this.current[12]||l[0]!==this.current[0])return this.current=l,void this.gl.uniformMatrix4fv(this.location,!1,l);for(let d=1;d<16;d++)if(l[d]!==this.current[d]){this.current=l,this.gl.uniformMatrix4fv(this.location,!1,l);break}}}},a.UnwrappedTileID=lT,a.ValidationError=wn,a.VectorTileFeature=Iy,a.VectorTileWorkerSource=class extends Il{constructor(s,r,l,d,p){super(),this.actor=s,this.layerIndex=r,this.availableImages=l,this.loadVectorData=p||yC,this.loading={},this.loaded={},this.deduped=new _C(s.scheduler),this.isSpriteLoaded=d,this.scheduler=s.scheduler}loadTile(s,r){const l=s.uid,d=s&&s.request,p=d&&d.collectResourceTiming,g=this.loading[l]=new gU(s);g.abort=this.loadVectorData(s,(v,b)=>{const T=!this.loading[l];if(delete this.loading[l],T||v||!b)return g.status="done",T||(this.loaded[l]=g),r(v);const C=b.rawData,R={};b.expires&&(R.expires=b.expires),b.cacheControl&&(R.cacheControl=b.cacheControl),g.vectorTile=b.vectorTile||new uw(new Ly(C));const F=()=>{g.parse(g.vectorTile,this.layerIndex,this.availableImages,this.actor,(W,K)=>{if(W||!K)return r(W);const Y={};if(p){const ne=Do(d);ne.length>0&&(Y.resourceTiming=JSON.parse(JSON.stringify(ne)))}r(null,ct({rawTileData:C.slice(0)},K,R,Y))})};this.isSpriteLoaded?F():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(F,{type:"parseTile",isSymbolTile:s.isSymbolTile,zoom:s.tileZoom}):F()}),this.loaded=this.loaded||{},this.loaded[l]=g})}reloadTile(s,r){const l=this.loaded,d=s.uid,p=this;if(l&&l[d]){const g=l[d];g.showCollisionBoxes=s.showCollisionBoxes,g.enableTerrain=!!s.enableTerrain,g.projection=s.projection,g.tileTransform=Jh(s.tileID.canonical,s.projection);const v=(b,T)=>{const C=g.reloadCallback;C&&(delete g.reloadCallback,g.parse(g.vectorTile,p.layerIndex,this.availableImages,p.actor,C)),r(b,T)};g.status==="parsing"?g.reloadCallback=v:g.status==="done"&&(g.vectorTile?g.parse(g.vectorTile,this.layerIndex,this.availableImages,this.actor,v):v())}}abortTile(s,r){const l=s.uid,d=this.loading[l];d&&(d.abort&&d.abort(),delete this.loading[l]),r()}removeTile(s,r){const l=this.loaded,d=s.uid;l&&l[d]&&delete l[d],r()}},a.WritingMode=Rs,a.ZoomDependentExpression=Oh,a.add=Tu,a.addDynamicAttributes=Hy,a.adjoint=function(s,r){var l=r[0],d=r[1],p=r[2],g=r[3],v=r[4],b=r[5],T=r[6],C=r[7],R=r[8];return s[0]=v*R-b*C,s[1]=p*C-d*R,s[2]=d*b-p*v,s[3]=b*T-g*R,s[4]=l*R-p*T,s[5]=p*g-l*b,s[6]=g*C-v*T,s[7]=d*T-l*C,s[8]=l*v-d*g,s},a.asyncAll=lt,a.bezier=Ye,a.bindAll=St,a.boundsAttributes=eC,a.bufferConvexPolygon=function(s,r){const l=[];for(let d=0;d<s.length;d++){const p=je(d-1,-1,s.length-1),g=je(d+1,-1,s.length-1),v=s[d],b=s[g],T=s[p].sub(v).unit(),C=b.sub(v).unit(),R=C.angleWithSep(T.x,T.y),F=T.add(C).unit().mult(-1*r/Math.sin(R/2));l.push(v.add(F))}return l},a.cacheEntryPossiblyAdded=function(s){Dn++,Dn>sn&&(s.getActor().send("enforceCacheSizeLimit",pt),Dn=0)},a.calculateGlobeLabelMatrix=function(s,r){const{x:l,y:d}=s.point,p=TS(l,d,s.worldSize/s._pixelsPerMercatorPixel,0,0);return Wh(p,p,H3(Mc(r)))},a.calculateGlobeMatrix=function(s){const{x:r,y:l}=s.point,{lng:d,lat:p}=s._center;return TS(r,l,s.worldSize,d,p)},a.calculateGlobeMercatorMatrix=function(s){const r=s.pixelsPerMeter,l=r/Ul(1,s.center.lat),d=jl(new Float64Array(16));return N1(d,d,[s.point.x,s.point.y,0]),Hh(d,d,[l,l,r]),Float32Array.from(d)},a.circumferenceAtLatitude=G3,a.clamp=ze,a.clearTileCache=function(s){if(!ln())return;const r=y.caches.delete(yr);s&&r.catch(s).then(()=>s())},a.clipLine=zT,a.clone=function(s){var r=new os(16);return r[0]=s[0],r[1]=s[1],r[2]=s[2],r[3]=s[3],r[4]=s[4],r[5]=s[5],r[6]=s[6],r[7]=s[7],r[8]=s[8],r[9]=s[9],r[10]=s[10],r[11]=s[11],r[12]=s[12],r[13]=s[13],r[14]=s[14],r[15]=s[15],r},a.clone$1=an,a.collisionCircleLayout=f$,a.config=M,a.conjugate=function(s,r){return s[0]=-r[0],s[1]=-r[1],s[2]=-r[2],s[3]=r[3],s},a.create=function(){var s=new os(16);return os!=Float32Array&&(s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[11]=0,s[12]=0,s[13]=0,s[14]=0),s[0]=1,s[5]=1,s[10]=1,s[15]=1,s},a.create$1=oS,a.createExpression=pd,a.createLayout=it,a.createStyleLayer=function(s){return s.type==="custom"?new oU(s):new sU[s.type](s)},a.cross=N3,a.degToRad=$e,a.distance=function(s,r){return Math.hypot(r[0]-s[0],r[1]-s[1],r[2]-s[2])},a.div=function(s,r,l){return s[0]=r[0]/l[0],s[1]=r[1]/l[1],s[2]=r[2]/l[2],s},a.dot=el,a.earthRadius=Z1,a.ease=Qe,a.easeCubicInOut=Oe,a.ecefToLatLng=function([s,r,l]){const d=Math.hypot(s,r,l),p=Math.atan2(s,l),g=.5*Math.PI-Math.acos(-r/d);return new Kr(Ae(p),Ae(g))},a.emitValidationErrors=ly,a.endsWith=Qt,a.enforceCacheSizeLimit=function(s){un(),dn&&dn.then(r=>{r.keys().then(l=>{for(let d=0;d<l.length-s;d++)r.delete(l[d])})})},a.evaluateSizeForFeature=Ry,a.evaluateSizeForZoom=wf,a.evaluateVariableOffset=$T,a.evented=x,a.exactEquals=function(s,r){return s[0]===r[0]&&s[1]===r[1]&&s[2]===r[2]&&s[3]===r[3]},a.exactEquals$1=function(s,r){return s[0]===r[0]&&s[1]===r[1]&&s[2]===r[2]},a.exported=Ui,a.exported$1=O,a.extend=ct,a.extend$1=fa,a.fillExtrusionHeightLift=oT,a.filterObject=qt,a.fromMat4=function(s,r){return s[0]=r[0],s[1]=r[1],s[2]=r[2],s[3]=r[4],s[4]=r[5],s[5]=r[6],s[6]=r[8],s[7]=r[9],s[8]=r[10],s},a.fromQuat=function(s,r){var l=r[0],d=r[1],p=r[2],g=r[3],v=l+l,b=d+d,T=p+p,C=l*v,R=d*v,F=d*b,W=p*v,K=p*b,Y=p*T,ne=g*v,he=g*b,we=g*T;return s[0]=1-F-Y,s[1]=R+we,s[2]=W-he,s[3]=0,s[4]=R-we,s[5]=1-C-Y,s[6]=K+ne,s[7]=0,s[8]=W+he,s[9]=K-ne,s[10]=1-C-F,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s},a.fromRotation=function(s,r){var l=Math.sin(r),d=Math.cos(r);return s[0]=d,s[1]=l,s[2]=0,s[3]=-l,s[4]=d,s[5]=0,s[6]=0,s[7]=0,s[8]=1,s},a.fromScaling=sS,a.furthestTileCorner=function(s){const r=Math.round((s+45+360)%360/90)%4;return Re[r]},a.getAABBPointSquareDist=function(s,r,l){let d=0;for(let p=0;p<2;++p){const g=l?l[p]:0;s[p]>g&&(d+=(s[p]-g)*(s[p]-g)),r[p]<g&&(d+=(g-r[p])*(g-r[p]))}return d},a.getAnchorAlignment=_w,a.getAnchorJustification=xw,a.getBounds=function(s){let r=1/0,l=1/0,d=-1/0,p=-1/0;for(const g of s)r=Math.min(r,g.x),l=Math.min(l,g.y),d=Math.max(d,g.x),p=Math.max(p,g.y);return{min:new le(r,l),max:new le(d,p)}},a.getColumn=jn,a.getDefaultExportFromCjs=Z,a.getGridMatrix=function(s,r,l,d){const p=r.getNorth(),g=r.getSouth(),v=r.getWest(),b=r.getEast(),T=1<<s.z,C=b-v,R=p-g,F=C/Gh,W=-R/H1[l],K=[0,F,0,W,0,0,p,v,0];if(s.z>0){const Y=180/d;aS(K,K,[Y/C+1,0,0,0,Y/R+1,0,-.5*Y/F,.5*Y/W,1])}return K[2]=T,K[5]=s.x,K[8]=s.y,K},a.getImage=xe,a.getJSON=function(s,r){return pr(ct(s,{type:"json"}),r)},a.getLatitudinalLod=function(s){const r=Jo-5;s=ze(s,-r,r)/r*90;const l=Math.pow(Math.abs(Math.sin($e(s))),3);return Math.round(l*(H1.length-1))},a.getMapSessionAPI=ft,a.getPerformanceMeasurement=Do,a.getProjection=XT,a.getRTLTextPluginStatus=E,a.getReferrer=Ar,a.getTilePoint=function(s,{x:r,y:l},d=0){return new le(((r-d)*s.scale-s.x)*Gn,(l*s.scale-s.y)*Gn)},a.getTileVec3=function(s,r,l=0){return pf(((r.x-l)*s.scale-s.x)*Gn,(r.y*s.scale-s.y)*Gn,IS(r.z,r.y))},a.getVideo=function(s,r){const l=y.document.createElement("video");l.muted=!0,l.onloadstart=function(){r(null,l)};for(let d=0;d<s.length;d++){const p=y.document.createElement("source");Hr(s[d])||(l.crossOrigin="Anonymous"),p.src=s[d],l.appendChild(p)}return{cancel:()=>{}}},a.globeCenterToScreenPoint=function(s){const r=[0,0,0],l=jl(new Float64Array(16));return Wh(l,s.pixelMatrix,s.globeMatrix),Wi(r,r,l),new le(r[0],r[1])},a.globeDenormalizeECEF=H3,a.globeECEFOrigin=function(s,r){const l=[0,0,0];return Wi(l,l,G1(Mc(r.canonical))),Wi(l,l,s),l},a.globeMetersToEcef=_y,a.globeNormalizeECEF=G1,a.globePixelsToTileUnits=function(s,r){return Gn/(512*Math.pow(2,s))*vy(Mc(r))},a.globePoleMatrixForTile=function(s,r,l){const d=jl(new Float64Array(16)),p=(r/(1<<s)-.5)*Math.PI*2;return gy(d,l.globeMatrix,p),Float32Array.from(d)},a.globeTileBounds=Mc,a.globeTiltAtLngLat=CS,a.globeToMercatorTransition=gf,a.globeUseCustomAntiAliasing=function(s,r,l){const d=gf(l.zoom),p=s.style.map._antialias,g=!!r.extStandardDerivatives,v=r.extStandardDerivativesForceOff||s.terrain&&s.terrain.exaggeration()>0;return d===0&&!p&&!v&&g},a.identity=jl,a.identity$1=mS,a.invert=O3,a.isFullscreen=function(){return!!y.document.fullscreenElement||!!y.document.webkitFullscreenElement},a.isLngLatBehindGlobe=q3,a.isMapAuthenticated=function(s){return Ut.has(s)},a.isMapboxURL=Be,a.isSafariWithAntialiasingBug=function(s){const r=s.navigator?s.navigator.userAgent:null;return!!zn(s)&&r&&(r.match("Version/15.4")||r.match("Version/15.5")||r.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},a.latFromMercatorY=Yo,a.latLngToECEF=mf,a.len=nj,a.length=B1,a.length$1=function(s){return Math.hypot(s[0],s[1],s[2],s[3])},a.lngFromMercatorX=Ds,a.loadVectorTile=yC,a.makeRequest=pr,a.mapValue=function(s,r,l,d,p){return ze((s-r)/(l-r)*(p-d)+d,d,p)},a.mercatorScale=AS,a.mercatorXfromLng=Dc,a.mercatorYfromLat=Rc,a.mercatorZfromAltitude=Ul,a.mul=ej,a.mul$1=tj,a.multiply=Wh,a.multiply$1=aS,a.multiply$2=uS,a.nextPowerOfTwo=Dt,a.normalize=ba,a.normalize$1=rj,a.normalize$2=pS,a.number=Sr,a.ortho=function(s,r,l,d,p,g,v){var b=1/(r-l),T=1/(d-p),C=1/(g-v);return s[0]=-2*b,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=-2*T,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=2*C,s[11]=0,s[12]=(r+l)*b,s[13]=(p+d)*T,s[14]=(v+g)*C,s[15]=1,s},a.pbf=mT,a.perspective=function(s,r,l,d,p){var g,v=1/Math.tan(r/2);return s[0]=v/l,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=v,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[11]=-1,s[12]=0,s[13]=0,s[15]=0,p!=null&&p!==1/0?(s[10]=(p+d)*(g=1/(d-p)),s[14]=2*p*d*g):(s[10]=-1,s[14]=-2*d),s},a.pick=function(s,r){const l={};for(let d=0;d<r.length;d++){const p=r[d];p in s&&(l[p]=s[p])}return l},a.plugin=D,a.pointGeometry=A,a.polesInViewport=function(s){const r=jl(new Float64Array(16));Wh(r,s.pixelMatrix,s.globeMatrix);const l=[0,tl,0],d=[0,nl,0];return Wi(l,l,r),Wi(d,d,r),[l[0]>0&&l[0]<=s.width&&l[1]>0&&l[1]<=s.height&&!q3(s,new Kr(s.center.lat,90)),d[0]>0&&d[0]<=s.width&&d[1]>0&&d[1]<=s.height&&!q3(s,new Kr(s.center.lat,-90))]},a.polygonContainsPoint=Kh,a.polygonIntersectsBox=FS,a.polygonIntersectsPolygon=RS,a.polygonizeBounds=function(s,r,l=0,d=!0){const p=new le(l,l),g=s.sub(p),v=r.add(p),b=[g,new le(v.x,g.y),v,new le(g.x,v.y)];return d&&b.push(g.clone()),b},a.posAttributes=W1,a.postMapLoadEvent=Er,a.postPerformanceEvent=tt,a.postTurnstileEvent=Xn,a.potpack=fw,a.prevPowerOfTwo=function(s){return s<=1?1:Math.pow(2,Math.floor(Math.log(s)/Math.LN2))},a.radToDeg=Ae,a.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],a.registerForPluginStateChange=function(s){return s({pluginStatus:m,pluginURL:c}),x.on("pluginStateChange",s),s},a.removeAuthState=function(s){Ut.delete(s)},a.renderColorRamp=tw,a.resample=MS,a.rotateX=L3,a.rotateX$1=gS,a.rotateY=gy,a.rotateY$1=_S,a.rotateZ=function(s,r,l){var d=Math.sin(l),p=Math.cos(l),g=r[0],v=r[1],b=r[2],T=r[3],C=r[4],R=r[5],F=r[6],W=r[7];return r!==s&&(s[8]=r[8],s[9]=r[9],s[10]=r[10],s[11]=r[11],s[12]=r[12],s[13]=r[13],s[14]=r[14],s[15]=r[15]),s[0]=g*p+C*d,s[1]=v*p+R*d,s[2]=b*p+F*d,s[3]=T*p+W*d,s[4]=C*p-g*d,s[5]=R*p-v*d,s[6]=F*p-b*d,s[7]=W*p-T*d,s},a.rotateZ$1=function(s,r,l){l*=.5;var d=r[0],p=r[1],g=r[2],v=r[3],b=Math.sin(l),T=Math.cos(l);return s[0]=d*T+p*b,s[1]=p*T-d*b,s[2]=g*T+v*b,s[3]=v*T-g*b,s},a.scale=Hh,a.scale$1=hS,a.scale$2=Ms,a.scaleAndAdd=U1,a.set=function(s,r,l,d){return s[0]=r,s[1]=l,s[2]=d,s},a.setCacheLimits=function(s,r){pt=s,sn=r},a.setColumn=function(s,r,l){s[4*r+0]=l[0],s[4*r+1]=l[1],s[4*r+2]=l[2],s[4*r+3]=l[3]},a.setRTLTextPlugin=function(s,r,l=!1){if(m===R1||m===O1||m===L1)throw new Error("setRTLTextPlugin cannot be called multiple times.");c=Ui.resolveURL(s),m=R1,_d=r,_(),l||P()},a.smoothstep=Pe,a.spec=Pt,a.squaredLength=function(s){var r=s[0],l=s[1],d=s[2];return r*r+l*l+d*d},a.storeAuthState=function(s,r){r?Ut.add(s):Ut.delete(s)},a.sub=$l,a.subtract=F3,a.symbolSize=m$,a.tileAABB=function(s,r,l,d,p,g,v,b,T){if(T.name==="globe")return lj(s,r,new My(l,d,p));const C=Jh({z:l,x:d,y:p},T);return new wa([(g+C.x/C.scale)*r,r*(C.y/C.scale),v],[(g+C.x2/C.scale)*r,r*(C.y2/C.scale),b])},a.tileCornersToBounds=yy,a.tileTransform=Jh,a.transformMat3=function(s,r,l){var d=r[0],p=r[1],g=r[2];return s[0]=d*l[0]+p*l[3]+g*l[6],s[1]=d*l[1]+p*l[4]+g*l[7],s[2]=d*l[2]+p*l[5]+g*l[8],s},a.transformMat4=Wi,a.transformMat4$1=qh,a.transformQuat=dS,a.transitionTileAABBinECEF=wS,a.translate=N1,a.transpose=function(s,r){if(s===r){var l=r[1],d=r[2],p=r[5];s[1]=r[3],s[2]=r[6],s[3]=l,s[5]=r[7],s[6]=d,s[7]=p}else s[0]=r[0],s[1]=r[3],s[2]=r[6],s[3]=r[1],s[4]=r[4],s[5]=r[7],s[6]=r[2],s[7]=r[5],s[8]=r[8];return s},a.triggerPluginCompletionEvent=h,a.uniqueId=ut,a.updateGlobeVertexNormal=function(s,r,l,d,p){const g=5*r+2;s.float32[g+0]=l,s.float32[g+1]=d,s.float32[g+2]=p},a.validateCustomStyleLayer=function(s){const r=[],l=s.id;return l===void 0&&r.push({message:`layers.${l}: missing required property "id"`}),s.render===void 0&&r.push({message:`layers.${l}: missing required method "render"`}),s.renderingMode&&s.renderingMode!=="2d"&&s.renderingMode!=="3d"&&r.push({message:`layers.${l}: property "renderingMode" must be either "2d" or "3d"`}),r},a.validateFilter=s=>rs(Bh(s)),a.validateFog=s=>rs(oy(s)),a.validateLayer=s=>rs(ty(s)),a.validateLight=s=>rs(iy(s)),a.validateSource=s=>rs(ry(s)),a.validateStyle=sy,a.validateTerrain=s=>rs(P1(s)),a.values=ot,a.vectorTile=Py,a.version=w,a.warnOnce=vt,a.window=y,a.wrap=je}),u(["./shared"],function(a){function y(ke){if(typeof ke=="number"||typeof ke=="boolean"||typeof ke=="string"||ke==null)return JSON.stringify(ke);if(Array.isArray(ke)){let ae="[";for(const xe of ke)ae+=`${y(xe)},`;return`${ae}]`}let oe="{";for(const ae of Object.keys(ke).sort())oe+=`${ae}:${y(ke[ae])},`;return`${oe}}`}function w(ke){let oe="";for(const ae of a.refProperties)oe+=`/${y(ke[ae])}`;return oe}class k{constructor(oe){this.keyCache={},oe&&this.replace(oe)}replace(oe){this._layerConfigs={},this._layers={},this.update(oe,[])}update(oe,ae){for(const Fe of oe)this._layerConfigs[Fe.id]=Fe,(this._layers[Fe.id]=a.createStyleLayer(Fe)).compileFilter(),this.keyCache[Fe.id]&&delete this.keyCache[Fe.id];for(const Fe of ae)delete this.keyCache[Fe],delete this._layerConfigs[Fe],delete this._layers[Fe];this.familiesBySource={};const xe=function(Fe,Be){const et={};for(let qe=0;qe<Fe.length;qe++){const He=Be&&Be[Fe[qe].id]||w(Fe[qe]);Be&&(Be[Fe[qe].id]=He);let Je=et[He];Je||(Je=et[He]=[]),Je.push(Fe[qe])}const nt=[];for(const qe in et)nt.push(et[qe]);return nt}(a.values(this._layerConfigs),this.keyCache);for(const Fe of xe){const Be=Fe.map(xt=>this._layers[xt.id]),et=Be[0];if(et.visibility==="none")continue;const nt=et.source||"";let qe=this.familiesBySource[nt];qe||(qe=this.familiesBySource[nt]={});const He=et.sourceLayer||"_geojsonTileLayer";let Je=qe[He];Je||(Je=qe[He]=[]),Je.push(Be)}}}class M{loadTile(oe,ae){const{uid:xe,encoding:Fe,rawImageData:Be,padding:et,buildQuadTree:nt}=oe,qe=a.window.ImageBitmap&&Be instanceof a.window.ImageBitmap?this.getImageData(Be,et):Be;ae(null,new a.DEMData(xe,qe,Fe,et<1,nt))}getImageData(oe,ae){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(oe.width,oe.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=oe.width,this.offscreenCanvas.height=oe.height,this.offscreenCanvasContext.drawImage(oe,0,0,oe.width,oe.height);const xe=this.offscreenCanvasContext.getImageData(-ae,-ae,oe.width+2*ae,oe.height+2*ae);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),xe}}function O(ke,oe){if(ke.length!==0){$(ke[0],oe);for(var ae=1;ae<ke.length;ae++)$(ke[ae],!oe)}}function $(ke,oe){for(var ae=0,xe=0,Fe=0,Be=ke.length,et=Be-1;Fe<Be;et=Fe++){var nt=(ke[Fe][0]-ke[et][0])*(ke[et][1]+ke[Fe][1]),qe=ae+nt;xe+=Math.abs(ae)>=Math.abs(nt)?ae-qe+nt:nt-qe+ae,ae=qe}ae+xe>=0!=!!oe&&ke.reverse()}var N=a.getDefaultExportFromCjs(function ke(oe,ae){var xe,Fe=oe&&oe.type;if(Fe==="FeatureCollection")for(xe=0;xe<oe.features.length;xe++)ke(oe.features[xe],ae);else if(Fe==="GeometryCollection")for(xe=0;xe<oe.geometries.length;xe++)ke(oe.geometries[xe],ae);else if(Fe==="Feature")ke(oe.geometry,ae);else if(Fe==="Polygon")O(oe.coordinates,ae);else if(Fe==="MultiPolygon")for(xe=0;xe<oe.coordinates.length;xe++)O(oe.coordinates[xe],ae);return oe});const B=a.VectorTileFeature.prototype.toGeoJSON;var J={exports:{}},U=a.pointGeometry,G=a.vectorTile.VectorTileFeature,Z=Q;function Q(ke,oe){this.options=oe||{},this.features=ke,this.length=ke.length}function se(ke,oe){this.id=typeof ke.id=="number"?ke.id:void 0,this.type=ke.type,this.rawGeometry=ke.type===1?[ke.geometry]:ke.geometry,this.properties=ke.tags,this.extent=oe||4096}Q.prototype.feature=function(ke){return new se(this.features[ke],this.options.extent)},se.prototype.loadGeometry=function(){var ke=this.rawGeometry;this.geometry=[];for(var oe=0;oe<ke.length;oe++){for(var ae=ke[oe],xe=[],Fe=0;Fe<ae.length;Fe++)xe.push(new U(ae[Fe][0],ae[Fe][1]));this.geometry.push(xe)}return this.geometry},se.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var ke=this.geometry,oe=1/0,ae=-1/0,xe=1/0,Fe=-1/0,Be=0;Be<ke.length;Be++)for(var et=ke[Be],nt=0;nt<et.length;nt++){var qe=et[nt];oe=Math.min(oe,qe.x),ae=Math.max(ae,qe.x),xe=Math.min(xe,qe.y),Fe=Math.max(Fe,qe.y)}return[oe,xe,ae,Fe]},se.prototype.toGeoJSON=G.prototype.toGeoJSON;var ce=a.pbf,A=Z;function _e(ke){var oe=new ce;return function(ae,xe){for(var Fe in ae.layers)xe.writeMessage(3,le,ae.layers[Fe])}(ke,oe),oe.finish()}function le(ke,oe){var ae;oe.writeVarintField(15,ke.version||1),oe.writeStringField(1,ke.name||""),oe.writeVarintField(5,ke.extent||4096);var xe={keys:[],values:[],keycache:{},valuecache:{}};for(ae=0;ae<ke.length;ae++)xe.feature=ke.feature(ae),oe.writeMessage(2,ve,xe);var Fe=xe.keys;for(ae=0;ae<Fe.length;ae++)oe.writeStringField(3,Fe[ae]);var Be=xe.values;for(ae=0;ae<Be.length;ae++)oe.writeMessage(4,Oe,Be[ae])}function ve(ke,oe){var ae=ke.feature;ae.id!==void 0&&oe.writeVarintField(1,ae.id),oe.writeMessage(2,Ue,ke),oe.writeVarintField(3,ae.type),oe.writeMessage(4,Re,ae)}function Ue(ke,oe){var ae=ke.feature,xe=ke.keys,Fe=ke.values,Be=ke.keycache,et=ke.valuecache;for(var nt in ae.properties){var qe=ae.properties[nt],He=Be[nt];if(qe!==null){He===void 0&&(xe.push(nt),Be[nt]=He=xe.length-1),oe.writeVarint(He);var Je=typeof qe;Je!=="string"&&Je!=="boolean"&&Je!=="number"&&(qe=JSON.stringify(qe));var xt=Je+":"+qe,kt=et[xt];kt===void 0&&(Fe.push(qe),et[xt]=kt=Fe.length-1),oe.writeVarint(kt)}}}function $e(ke,oe){return(oe<<3)+(7&ke)}function Ae(ke){return ke<<1^ke>>31}function Re(ke,oe){for(var ae=ke.loadGeometry(),xe=ke.type,Fe=0,Be=0,et=ae.length,nt=0;nt<et;nt++){var qe=ae[nt],He=1;xe===1&&(He=qe.length),oe.writeVarint($e(1,He));for(var Je=xe===3?qe.length-1:qe.length,xt=0;xt<Je;xt++){xt===1&&xe!==1&&oe.writeVarint($e(2,Je-1));var kt=qe[xt].x-Fe,vn=qe[xt].y-Be;oe.writeVarint(Ae(kt)),oe.writeVarint(Ae(vn)),Fe+=kt,Be+=vn}xe===3&&oe.writeVarint($e(7,1))}}function Oe(ke,oe){var ae=typeof ke;ae==="string"?oe.writeStringField(1,ke):ae==="boolean"?oe.writeBooleanField(7,ke):ae==="number"&&(ke%1!=0?oe.writeDoubleField(3,ke):ke<0?oe.writeSVarintField(6,ke):oe.writeVarintField(5,ke))}J.exports=_e,J.exports.fromVectorTileJs=_e,J.exports.fromGeojsonVt=function(ke,oe){oe=oe||{};var ae={};for(var xe in ke)ae[xe]=new A(ke[xe].features,oe),ae[xe].name=xe,ae[xe].version=oe.version,ae[xe].extent=oe.extent;return _e({layers:ae})},J.exports.GeoJSONWrapper=A;var Ye=a.getDefaultExportFromCjs(J.exports);const Qe={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:ke=>ke},ze=Math.fround||(Pe=new Float32Array(1),ke=>(Pe[0]=+ke,Pe[0]));var Pe;const je=3,lt=5,ot=6;class ct{constructor(oe){this.options=Object.assign(Object.create(Qe),oe),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(oe){const{log:ae,minZoom:xe,maxZoom:Fe}=this.options;ae&&console.time("total time");const Be=`prepare ${oe.length} points`;ae&&console.time(Be),this.points=oe;const et=[];for(let qe=0;qe<oe.length;qe++){const He=oe[qe];if(!He.geometry)continue;const[Je,xt]=He.geometry.coordinates,kt=ze(yt(Je)),vn=ze(Dt(xt));et.push(kt,vn,1/0,qe,-1,1),this.options.reduce&&et.push(0)}let nt=this.trees[Fe+1]=this._createTree(et);ae&&console.timeEnd(Be);for(let qe=Fe;qe>=xe;qe--){const He=+Date.now();nt=this.trees[qe]=this._createTree(this._cluster(nt,qe)),ae&&console.log("z%d: %d clusters in %dms",qe,nt.numItems,+Date.now()-He)}return ae&&console.timeEnd("total time"),this}getClusters(oe,ae){let xe=((oe[0]+180)%360+360)%360-180;const Fe=Math.max(-90,Math.min(90,oe[1]));let Be=oe[2]===180?180:((oe[2]+180)%360+360)%360-180;const et=Math.max(-90,Math.min(90,oe[3]));if(oe[2]-oe[0]>=360)xe=-180,Be=180;else if(xe>Be){const xt=this.getClusters([xe,Fe,180,et],ae),kt=this.getClusters([-180,Fe,Be,et],ae);return xt.concat(kt)}const nt=this.trees[this._limitZoom(ae)],qe=nt.range(yt(xe),Dt(et),yt(Be),Dt(Fe)),He=nt.data,Je=[];for(const xt of qe){const kt=this.stride*xt;Je.push(He[kt+lt]>1?Ct(He,kt,this.clusterProps):this.points[He[kt+je]])}return Je}getChildren(oe){const ae=this._getOriginId(oe),xe=this._getOriginZoom(oe),Fe="No cluster with the specified id.",Be=this.trees[xe];if(!Be)throw new Error(Fe);const et=Be.data;if(ae*this.stride>=et.length)throw new Error(Fe);const nt=this.options.radius/(this.options.extent*Math.pow(2,xe-1)),qe=Be.within(et[ae*this.stride],et[ae*this.stride+1],nt),He=[];for(const Je of qe){const xt=Je*this.stride;et[xt+4]===oe&&He.push(et[xt+lt]>1?Ct(et,xt,this.clusterProps):this.points[et[xt+je]])}if(He.length===0)throw new Error(Fe);return He}getLeaves(oe,ae,xe){const Fe=[];return this._appendLeaves(Fe,oe,ae=ae||10,xe=xe||0,0),Fe}getTile(oe,ae,xe){const Fe=this.trees[this._limitZoom(oe)],Be=Math.pow(2,oe),{extent:et,radius:nt}=this.options,qe=nt/et,He=(xe-qe)/Be,Je=(xe+1+qe)/Be,xt={features:[]};return this._addTileFeatures(Fe.range((ae-qe)/Be,He,(ae+1+qe)/Be,Je),Fe.data,ae,xe,Be,xt),ae===0&&this._addTileFeatures(Fe.range(1-qe/Be,He,1,Je),Fe.data,Be,xe,Be,xt),ae===Be-1&&this._addTileFeatures(Fe.range(0,He,qe/Be,Je),Fe.data,-1,xe,Be,xt),xt.features.length?xt:null}getClusterExpansionZoom(oe){let ae=this._getOriginZoom(oe)-1;for(;ae<=this.options.maxZoom;){const xe=this.getChildren(oe);if(ae++,xe.length!==1)break;oe=xe[0].properties.cluster_id}return ae}_appendLeaves(oe,ae,xe,Fe,Be){const et=this.getChildren(ae);for(const nt of et){const qe=nt.properties;if(qe&&qe.cluster?Be+qe.point_count<=Fe?Be+=qe.point_count:Be=this._appendLeaves(oe,qe.cluster_id,xe,Fe,Be):Be<Fe?Be++:oe.push(nt),oe.length===xe)break}return Be}_createTree(oe){const ae=new a.KDBush(oe.length/this.stride|0,this.options.nodeSize,Float32Array);for(let xe=0;xe<oe.length;xe+=this.stride)ae.add(oe[xe],oe[xe+1]);return ae.finish(),ae.data=oe,ae}_addTileFeatures(oe,ae,xe,Fe,Be,et){for(const nt of oe){const qe=nt*this.stride,He=ae[qe+lt]>1;let Je,xt,kt;if(He)Je=ut(ae,qe,this.clusterProps),xt=ae[qe],kt=ae[qe+1];else{const Rn=this.points[ae[qe+je]];Je=Rn.properties;const[$n,Xn]=Rn.geometry.coordinates;xt=yt($n),kt=Dt(Xn)}const vn={type:1,geometry:[[Math.round(this.options.extent*(xt*Be-xe)),Math.round(this.options.extent*(kt*Be-Fe))]],tags:Je};let Nn;Nn=He||this.options.generateId?ae[qe+je]:this.points[ae[qe+je]].id,Nn!==void 0&&(vn.id=Nn),et.features.push(vn)}}_limitZoom(oe){return Math.max(this.options.minZoom,Math.min(Math.floor(+oe),this.options.maxZoom+1))}_cluster(oe,ae){const{radius:xe,extent:Fe,reduce:Be,minPoints:et}=this.options,nt=xe/(Fe*Math.pow(2,ae)),qe=oe.data,He=[],Je=this.stride;for(let xt=0;xt<qe.length;xt+=Je){if(qe[xt+2]<=ae)continue;qe[xt+2]=ae;const kt=qe[xt],vn=qe[xt+1],Nn=oe.within(qe[xt],qe[xt+1],nt),Rn=qe[xt+lt];let $n=Rn;for(const Xn of Nn){const wr=Xn*Je;qe[wr+2]>ae&&($n+=qe[wr+lt])}if($n>Rn&&$n>=et){let Xn,wr=kt*Rn,Er=vn*Rn,Rr=-1;const tt=((xt/Je|0)<<5)+(ae+1)+this.points.length;for(const Ce of Nn){const ft=Ce*Je;if(qe[ft+2]<=ae)continue;qe[ft+2]=ae;const Ut=qe[ft+lt];wr+=qe[ft]*Ut,Er+=qe[ft+1]*Ut,qe[ft+4]=tt,Be&&(Xn||(Xn=this._map(qe,xt,!0),Rr=this.clusterProps.length,this.clusterProps.push(Xn)),Be(Xn,this._map(qe,ft)))}qe[xt+4]=tt,He.push(wr/$n,Er/$n,1/0,tt,-1,$n),Be&&He.push(Rr)}else{for(let Xn=0;Xn<Je;Xn++)He.push(qe[xt+Xn]);if($n>1)for(const Xn of Nn){const wr=Xn*Je;if(!(qe[wr+2]<=ae)){qe[wr+2]=ae;for(let Er=0;Er<Je;Er++)He.push(qe[wr+Er])}}}}return He}_getOriginId(oe){return oe-this.points.length>>5}_getOriginZoom(oe){return(oe-this.points.length)%32}_map(oe,ae,xe){if(oe[ae+lt]>1){const et=this.clusterProps[oe[ae+ot]];return xe?Object.assign({},et):et}const Fe=this.points[oe[ae+je]].properties,Be=this.options.map(Fe);return xe&&Be===Fe?Object.assign({},Be):Be}}function Ct(ke,oe,ae){return{type:"Feature",id:ke[oe+je],properties:ut(ke,oe,ae),geometry:{type:"Point",coordinates:[(xe=ke[oe],360*(xe-.5)),Rt(ke[oe+1])]}};var xe}function ut(ke,oe,ae){const xe=ke[oe+lt],Fe=xe>=1e4?`${Math.round(xe/1e3)}k`:xe>=1e3?Math.round(xe/100)/10+"k":xe,Be=ke[oe+ot],et=Be===-1?{}:Object.assign({},ae[Be]);return Object.assign(et,{cluster:!0,cluster_id:ke[oe+je],point_count:xe,point_count_abbreviated:Fe})}function yt(ke){return ke/360+.5}function Dt(ke){const oe=Math.sin(ke*Math.PI/180),ae=.5-.25*Math.log((1+oe)/(1-oe))/Math.PI;return ae<0?0:ae>1?1:ae}function Rt(ke){const oe=(180-360*ke)*Math.PI/180;return 360*Math.atan(Math.exp(oe))/Math.PI-90}function St(ke,oe,ae,xe){for(var Fe,Be=xe,et=ae-oe>>1,nt=ae-oe,qe=ke[oe],He=ke[oe+1],Je=ke[ae],xt=ke[ae+1],kt=oe+3;kt<ae;kt+=3){var vn=Qt(ke[kt],ke[kt+1],qe,He,Je,xt);if(vn>Be)Fe=kt,Be=vn;else if(vn===Be){var Nn=Math.abs(kt-et);Nn<nt&&(Fe=kt,nt=Nn)}}Be>xe&&(Fe-oe>3&&St(ke,oe,Fe,xe),ke[Fe+2]=Be,ae-Fe>3&&St(ke,Fe,ae,xe))}function Qt(ke,oe,ae,xe,Fe,Be){var et=Fe-ae,nt=Be-xe;if(et!==0||nt!==0){var qe=((ke-ae)*et+(oe-xe)*nt)/(et*et+nt*nt);qe>1?(ae=Fe,xe=Be):qe>0&&(ae+=et*qe,xe+=nt*qe)}return(et=ke-ae)*et+(nt=oe-xe)*nt}function Lt(ke,oe,ae,xe){var Fe={id:ke===void 0?null:ke,type:oe,geometry:ae,tags:xe,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(Be){var et=Be.geometry,nt=Be.type;if(nt==="Point"||nt==="MultiPoint"||nt==="LineString")qt(Be,et);else if(nt==="Polygon"||nt==="MultiLineString")for(var qe=0;qe<et.length;qe++)qt(Be,et[qe]);else if(nt==="MultiPolygon")for(qe=0;qe<et.length;qe++)for(var He=0;He<et[qe].length;He++)qt(Be,et[qe][He])}(Fe),Fe}function qt(ke,oe){for(var ae=0;ae<oe.length;ae+=3)ke.minX=Math.min(ke.minX,oe[ae]),ke.minY=Math.min(ke.minY,oe[ae+1]),ke.maxX=Math.max(ke.maxX,oe[ae]),ke.maxY=Math.max(ke.maxY,oe[ae+1])}function an(ke,oe,ae,xe){if(oe.geometry){var Fe=oe.geometry.coordinates,Be=oe.geometry.type,et=Math.pow(ae.tolerance/((1<<ae.maxZoom)*ae.extent),2),nt=[],qe=oe.id;if(ae.promoteId?qe=oe.properties[ae.promoteId]:ae.generateId&&(qe=xe||0),Be==="Point")jt(Fe,nt);else if(Be==="MultiPoint")for(var He=0;He<Fe.length;He++)jt(Fe[He],nt);else if(Be==="LineString")vt(Fe,nt,et,!1);else if(Be==="MultiLineString"){if(ae.lineMetrics){for(He=0;He<Fe.length;He++)vt(Fe[He],nt=[],et,!1),ke.push(Lt(qe,"LineString",nt,oe.properties));return}gn(Fe,nt,et,!1)}else if(Be==="Polygon")gn(Fe,nt,et,!0);else{if(Be!=="MultiPolygon"){if(Be==="GeometryCollection"){for(He=0;He<oe.geometry.geometries.length;He++)an(ke,{id:qe,geometry:oe.geometry.geometries[He],properties:oe.properties},ae,xe);return}throw new Error("Input data is not a valid GeoJSON object.")}for(He=0;He<Fe.length;He++){var Je=[];gn(Fe[He],Je,et,!0),nt.push(Je)}}ke.push(Lt(qe,Be,nt,oe.properties))}}function jt(ke,oe){oe.push(on(ke[0])),oe.push(Bn(ke[1])),oe.push(0)}function vt(ke,oe,ae,xe){for(var Fe,Be,et=0,nt=0;nt<ke.length;nt++){var qe=on(ke[nt][0]),He=Bn(ke[nt][1]);oe.push(qe),oe.push(He),oe.push(0),nt>0&&(et+=xe?(Fe*He-qe*Be)/2:Math.sqrt(Math.pow(qe-Fe,2)+Math.pow(He-Be,2))),Fe=qe,Be=He}var Je=oe.length-3;oe[2]=1,St(oe,0,Je,ae),oe[Je+2]=1,oe.size=Math.abs(et),oe.start=0,oe.end=oe.size}function gn(ke,oe,ae,xe){for(var Fe=0;Fe<ke.length;Fe++){var Be=[];vt(ke[Fe],Be,ae,xe),oe.push(Be)}}function on(ke){return ke/360+.5}function Bn(ke){var oe=Math.sin(ke*Math.PI/180),ae=.5-.25*Math.log((1+oe)/(1-oe))/Math.PI;return ae<0?0:ae>1?1:ae}function Yn(ke,oe,ae,xe,Fe,Be,et,nt){if(xe/=oe,Be>=(ae/=oe)&&et<xe)return ke;if(et<ae||Be>=xe)return null;for(var qe=[],He=0;He<ke.length;He++){var Je=ke[He],xt=Je.geometry,kt=Je.type,vn=Fe===0?Je.minX:Je.minY,Nn=Fe===0?Je.maxX:Je.maxY;if(vn>=ae&&Nn<xe)qe.push(Je);else if(!(Nn<ae||vn>=xe)){var Rn=[];if(kt==="Point"||kt==="MultiPoint")On(xt,Rn,ae,xe,Fe);else if(kt==="LineString")zn(xt,Rn,ae,xe,Fe,!1,nt.lineMetrics);else if(kt==="MultiLineString")jn(xt,Rn,ae,xe,Fe,!1);else if(kt==="Polygon")jn(xt,Rn,ae,xe,Fe,!0);else if(kt==="MultiPolygon")for(var $n=0;$n<xt.length;$n++){var Xn=[];jn(xt[$n],Xn,ae,xe,Fe,!0),Xn.length&&Rn.push(Xn)}if(Rn.length){if(nt.lineMetrics&&kt==="LineString"){for($n=0;$n<Rn.length;$n++)qe.push(Lt(Je.id,kt,Rn[$n],Je.tags));continue}kt!=="LineString"&&kt!=="MultiLineString"||(Rn.length===1?(kt="LineString",Rn=Rn[0]):kt="MultiLineString"),kt!=="Point"&&kt!=="MultiPoint"||(kt=Rn.length===3?"Point":"MultiPoint"),qe.push(Lt(Je.id,kt,Rn,Je.tags))}}}return qe.length?qe:null}function On(ke,oe,ae,xe,Fe){for(var Be=0;Be<ke.length;Be+=3){var et=ke[Be+Fe];et>=ae&&et<=xe&&(oe.push(ke[Be]),oe.push(ke[Be+1]),oe.push(ke[Be+2]))}}function zn(ke,oe,ae,xe,Fe,Be,et){for(var nt,qe,He=Mn(ke),Je=Fe===0?pt:sn,xt=ke.start,kt=0;kt<ke.length-3;kt+=3){var vn=ke[kt],Nn=ke[kt+1],Rn=ke[kt+2],$n=ke[kt+3],Xn=ke[kt+4],wr=Fe===0?vn:Nn,Er=Fe===0?$n:Xn,Rr=!1;et&&(nt=Math.sqrt(Math.pow(vn-$n,2)+Math.pow(Nn-Xn,2))),wr<ae?Er>ae&&(qe=Je(He,vn,Nn,$n,Xn,ae),et&&(He.start=xt+nt*qe)):wr>xe?Er<xe&&(qe=Je(He,vn,Nn,$n,Xn,xe),et&&(He.start=xt+nt*qe)):yr(He,vn,Nn,Rn),Er<ae&&wr>=ae&&(qe=Je(He,vn,Nn,$n,Xn,ae),Rr=!0),Er>xe&&wr<=xe&&(qe=Je(He,vn,Nn,$n,Xn,xe),Rr=!0),!Be&&Rr&&(et&&(He.end=xt+nt*qe),oe.push(He),He=Mn(ke)),et&&(xt+=nt)}var tt=ke.length-3;vn=ke[tt],Nn=ke[tt+1],Rn=ke[tt+2],(wr=Fe===0?vn:Nn)>=ae&&wr<=xe&&yr(He,vn,Nn,Rn),tt=He.length-3,Be&&tt>=3&&(He[tt]!==He[0]||He[tt+1]!==He[1])&&yr(He,He[0],He[1],He[2]),He.length&&oe.push(He)}function Mn(ke){var oe=[];return oe.size=ke.size,oe.start=ke.start,oe.end=ke.end,oe}function jn(ke,oe,ae,xe,Fe,Be){for(var et=0;et<ke.length;et++)zn(ke[et],oe,ae,xe,Fe,Be,!1)}function yr(ke,oe,ae,xe){ke.push(oe),ke.push(ae),ke.push(xe)}function pt(ke,oe,ae,xe,Fe,Be){var et=(Be-oe)/(xe-oe);return ke.push(Be),ke.push(ae+(Fe-ae)*et),ke.push(1),et}function sn(ke,oe,ae,xe,Fe,Be){var et=(Be-ae)/(Fe-ae);return ke.push(oe+(xe-oe)*et),ke.push(Be),ke.push(1),et}function dn(ke,oe){for(var ae=[],xe=0;xe<ke.length;xe++){var Fe,Be=ke[xe],et=Be.type;if(et==="Point"||et==="MultiPoint"||et==="LineString")Fe=en(Be.geometry,oe);else if(et==="MultiLineString"||et==="Polygon"){Fe=[];for(var nt=0;nt<Be.geometry.length;nt++)Fe.push(en(Be.geometry[nt],oe))}else if(et==="MultiPolygon")for(Fe=[],nt=0;nt<Be.geometry.length;nt++){for(var qe=[],He=0;He<Be.geometry[nt].length;He++)qe.push(en(Be.geometry[nt][He],oe));Fe.push(qe)}ae.push(Lt(Be.id,et,Fe,Be.tags))}return ae}function en(ke,oe){var ae=[];ae.size=ke.size,ke.start!==void 0&&(ae.start=ke.start,ae.end=ke.end);for(var xe=0;xe<ke.length;xe+=3)ae.push(ke[xe]+oe,ke[xe+1],ke[xe+2]);return ae}function ln(ke,oe){if(ke.transformed)return ke;var ae,xe,Fe,Be=1<<ke.z,et=ke.x,nt=ke.y;for(ae=0;ae<ke.features.length;ae++){var qe=ke.features[ae],He=qe.geometry,Je=qe.type;if(qe.geometry=[],Je===1)for(xe=0;xe<He.length;xe+=2)qe.geometry.push(un(He[xe],He[xe+1],oe,Be,et,nt));else for(xe=0;xe<He.length;xe++){var xt=[];for(Fe=0;Fe<He[xe].length;Fe+=2)xt.push(un(He[xe][Fe],He[xe][Fe+1],oe,Be,et,nt));qe.geometry.push(xt)}}return ke.transformed=!0,ke}function un(ke,oe,ae,xe,Fe,Be){return[Math.round(ae*(ke*xe-Fe)),Math.round(ae*(oe*xe-Be))]}function bn(ke,oe,ae,xe,Fe){for(var Be=oe===Fe.maxZoom?0:Fe.tolerance/((1<<oe)*Fe.extent),et={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:ae,y:xe,z:oe,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},nt=0;nt<ke.length;nt++){et.numFeatures++,Dn(et,ke[nt],Be,Fe);var qe=ke[nt].minX,He=ke[nt].minY,Je=ke[nt].maxX,xt=ke[nt].maxY;qe<et.minX&&(et.minX=qe),He<et.minY&&(et.minY=He),Je>et.maxX&&(et.maxX=Je),xt>et.maxY&&(et.maxY=xt)}return et}function Dn(ke,oe,ae,xe){var Fe=oe.geometry,Be=oe.type,et=[];if(Be==="Point"||Be==="MultiPoint")for(var nt=0;nt<Fe.length;nt+=3)et.push(Fe[nt]),et.push(Fe[nt+1]),ke.numPoints++,ke.numSimplified++;else if(Be==="LineString")Fn(et,Fe,ke,ae,!1,!1);else if(Be==="MultiLineString"||Be==="Polygon")for(nt=0;nt<Fe.length;nt++)Fn(et,Fe[nt],ke,ae,Be==="Polygon",nt===0);else if(Be==="MultiPolygon")for(var qe=0;qe<Fe.length;qe++){var He=Fe[qe];for(nt=0;nt<He.length;nt++)Fn(et,He[nt],ke,ae,!0,nt===0)}if(et.length){var Je=oe.tags||null;if(Be==="LineString"&&xe.lineMetrics){for(var xt in Je={},oe.tags)Je[xt]=oe.tags[xt];Je.mapbox_clip_start=Fe.start/Fe.size,Je.mapbox_clip_end=Fe.end/Fe.size}var kt={geometry:et,type:Be==="Polygon"||Be==="MultiPolygon"?3:Be==="LineString"||Be==="MultiLineString"?2:1,tags:Je};oe.id!==null&&(kt.id=oe.id),ke.features.push(kt)}}function Fn(ke,oe,ae,xe,Fe,Be){var et=xe*xe;if(xe>0&&oe.size<(Fe?et:xe))ae.numPoints+=oe.length/3;else{for(var nt=[],qe=0;qe<oe.length;qe+=3)(xe===0||oe[qe+2]>et)&&(ae.numSimplified++,nt.push(oe[qe]),nt.push(oe[qe+1])),ae.numPoints++;Fe&&function(He,Je){for(var xt=0,kt=0,vn=He.length,Nn=vn-2;kt<vn;Nn=kt,kt+=2)xt+=(He[kt]-He[Nn])*(He[kt+1]+He[Nn+1]);if(xt>0===Je)for(kt=0,vn=He.length;kt<vn/2;kt+=2){var Rn=He[kt],$n=He[kt+1];He[kt]=He[vn-2-kt],He[kt+1]=He[vn-1-kt],He[vn-2-kt]=Rn,He[vn-1-kt]=$n}}(nt,Be),ke.push(nt)}}function er(ke,oe){var ae=(oe=this.options=function(Fe,Be){for(var et in Be)Fe[et]=Be[et];return Fe}(Object.create(this.options),oe)).debug;if(ae&&console.time("preprocess data"),oe.maxZoom<0||oe.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(oe.promoteId&&oe.generateId)throw new Error("promoteId and generateId cannot be used together.");var xe=function(Fe,Be){var et=[];if(Fe.type==="FeatureCollection")for(var nt=0;nt<Fe.features.length;nt++)an(et,Fe.features[nt],Be,nt);else an(et,Fe.type==="Feature"?Fe:{geometry:Fe},Be);return et}(ke,oe);this.tiles={},this.tileCoords=[],ae&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",oe.indexMaxZoom,oe.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),xe=function(Fe,Be){var et=Be.buffer/Be.extent,nt=Fe,qe=Yn(Fe,1,-1-et,et,0,-1,2,Be),He=Yn(Fe,1,1-et,2+et,0,-1,2,Be);return(qe||He)&&(nt=Yn(Fe,1,-et,1+et,0,-1,2,Be)||[],qe&&(nt=dn(qe,1).concat(nt)),He&&(nt=nt.concat(dn(He,-1)))),nt}(xe,oe),xe.length&&this.splitTile(xe,0,0,0),ae&&(xe.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Ar(ke,oe,ae){return 32*((1<<ke)*ae+oe)+ke}function pr(ke,oe){const ae=ke.tileID.canonical;if(!this._geoJSONIndex)return oe(null,null);const xe=this._geoJSONIndex.getTile(ae.z,ae.x,ae.y);if(!xe)return oe(null,null);const Fe=new class{constructor(et){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.EXTENT,this.length=et.length,this._features=et}feature(et){return new class{constructor(nt){this._feature=nt,this.extent=a.EXTENT,this.type=nt.type,this.properties=nt.tags,"id"in nt&&!isNaN(nt.id)&&(this.id=parseInt(nt.id,10))}loadGeometry(){if(this._feature.type===1){const nt=[];for(const qe of this._feature.geometry)nt.push([new a.Point(qe[0],qe[1])]);return nt}{const nt=[];for(const qe of this._feature.geometry){const He=[];for(const Je of qe)He.push(new a.Point(Je[0],Je[1]));nt.push(He)}return nt}}toGeoJSON(nt,qe,He){return B.call(this,nt,qe,He)}}(this._features[et])}}(xe.features);let Be=Ye(Fe);Be.byteOffset===0&&Be.byteLength===Be.buffer.byteLength||(Be=new Uint8Array(Be)),oe(null,{vectorTile:Fe,rawData:Be.buffer})}er.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},er.prototype.splitTile=function(ke,oe,ae,xe,Fe,Be,et){for(var nt=[ke,oe,ae,xe],qe=this.options,He=qe.debug;nt.length;){xe=nt.pop(),ae=nt.pop(),oe=nt.pop(),ke=nt.pop();var Je=1<<oe,xt=Ar(oe,ae,xe),kt=this.tiles[xt];if(!kt&&(He>1&&console.time("creation"),kt=this.tiles[xt]=bn(ke,oe,ae,xe,qe),this.tileCoords.push({z:oe,x:ae,y:xe}),He)){He>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",oe,ae,xe,kt.numFeatures,kt.numPoints,kt.numSimplified),console.timeEnd("creation"));var vn="z"+oe;this.stats[vn]=(this.stats[vn]||0)+1,this.total++}if(kt.source=ke,Fe){if(oe===qe.maxZoom||oe===Fe)continue;var Nn=1<<Fe-oe;if(ae!==Math.floor(Be/Nn)||xe!==Math.floor(et/Nn))continue}else if(oe===qe.indexMaxZoom||kt.numPoints<=qe.indexMaxPoints)continue;if(kt.source=null,ke.length!==0){He>1&&console.time("clipping");var Rn,$n,Xn,wr,Er,Rr,tt=.5*qe.buffer/qe.extent,Ce=.5-tt,ft=.5+tt,Ut=1+tt;Rn=$n=Xn=wr=null,Er=Yn(ke,Je,ae-tt,ae+ft,0,kt.minX,kt.maxX,qe),Rr=Yn(ke,Je,ae+Ce,ae+Ut,0,kt.minX,kt.maxX,qe),ke=null,Er&&(Rn=Yn(Er,Je,xe-tt,xe+ft,1,kt.minY,kt.maxY,qe),$n=Yn(Er,Je,xe+Ce,xe+Ut,1,kt.minY,kt.maxY,qe),Er=null),Rr&&(Xn=Yn(Rr,Je,xe-tt,xe+ft,1,kt.minY,kt.maxY,qe),wr=Yn(Rr,Je,xe+Ce,xe+Ut,1,kt.minY,kt.maxY,qe),Rr=null),He>1&&console.timeEnd("clipping"),nt.push(Rn||[],oe+1,2*ae,2*xe),nt.push($n||[],oe+1,2*ae,2*xe+1),nt.push(Xn||[],oe+1,2*ae+1,2*xe),nt.push(wr||[],oe+1,2*ae+1,2*xe+1)}}},er.prototype.getTile=function(ke,oe,ae){var xe=this.options,Fe=xe.extent,Be=xe.debug;if(ke<0||ke>24)return null;var et=1<<ke,nt=Ar(ke,oe=(oe%et+et)%et,ae);if(this.tiles[nt])return ln(this.tiles[nt],Fe);Be>1&&console.log("drilling down to z%d-%d-%d",ke,oe,ae);for(var qe,He=ke,Je=oe,xt=ae;!qe&&He>0;)He--,Je=Math.floor(Je/2),xt=Math.floor(xt/2),qe=this.tiles[Ar(He,Je,xt)];return qe&&qe.source?(Be>1&&console.log("found parent tile z%d-%d-%d",He,Je,xt),Be>1&&console.time("drilling down"),this.splitTile(qe.source,He,Je,xt,ke,oe,ae),Be>1&&console.timeEnd("drilling down"),this.tiles[nt]?ln(this.tiles[nt],Fe):null):null};class mi extends a.VectorTileWorkerSource{constructor(oe,ae,xe,Fe,Be){super(oe,ae,xe,Fe,pr),Be&&(this.loadGeoJSON=Be)}loadData(oe,ae){const xe=oe&&oe.request,Fe=xe&&xe.collectResourceTiming;this.loadGeoJSON(oe,(Be,et)=>{if(Be||!et)return ae(Be);if(typeof et!="object")return ae(new Error(`Input data given to '${oe.source}' is not a valid GeoJSON object.`));{N(et,!0);try{if(oe.filter){const qe=a.createExpression(oe.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(qe.result==="error")throw new Error(qe.value.map(Je=>`${Je.key}: ${Je.message}`).join(", "));et={type:"FeatureCollection",features:et.features.filter(Je=>qe.value.evaluate({zoom:0},Je))}}this._geoJSONIndex=oe.cluster?new ct(function({superclusterOptions:qe,clusterProperties:He}){if(!He||!qe)return qe;const Je={},xt={},kt={accumulated:null,zoom:0},vn={properties:null},Nn=Object.keys(He);for(const Rn of Nn){const[$n,Xn]=He[Rn],wr=a.createExpression(Xn),Er=a.createExpression(typeof $n=="string"?[$n,["accumulated"],["get",Rn]]:$n);Je[Rn]=wr.value,xt[Rn]=Er.value}return qe.map=Rn=>{vn.properties=Rn;const $n={};for(const Xn of Nn)$n[Xn]=Je[Xn].evaluate(kt,vn);return $n},qe.reduce=(Rn,$n)=>{vn.properties=$n;for(const Xn of Nn)kt.accumulated=Rn[Xn],Rn[Xn]=xt[Xn].evaluate(kt,vn)},qe}(oe)).load(et.features):function(qe,He){return new er(qe,He)}(et,oe.geojsonVtOptions)}catch(qe){return ae(qe)}this.loaded={};const nt={};if(Fe){const qe=a.getPerformanceMeasurement(xe);qe&&(nt.resourceTiming={},nt.resourceTiming[oe.source]=JSON.parse(JSON.stringify(qe)))}ae(null,nt)}})}reloadTile(oe,ae){const xe=this.loaded;return xe&&xe[oe.uid]?super.reloadTile(oe,ae):this.loadTile(oe,ae)}loadGeoJSON(oe,ae){if(oe.request)a.getJSON(oe.request,ae);else{if(typeof oe.data!="string")return ae(new Error(`Input data given to '${oe.source}' is not a valid GeoJSON object.`));try{return ae(null,JSON.parse(oe.data))}catch{return ae(new Error(`Input data given to '${oe.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(oe,ae){try{ae(null,this._geoJSONIndex.getClusterExpansionZoom(oe.clusterId))}catch(xe){ae(xe)}}getClusterChildren(oe,ae){try{ae(null,this._geoJSONIndex.getChildren(oe.clusterId))}catch(xe){ae(xe)}}getClusterLeaves(oe,ae){try{ae(null,this._geoJSONIndex.getLeaves(oe.clusterId,oe.limit,oe.offset))}catch(xe){ae(xe)}}}class Hr{constructor(oe){this.self=oe,this.actor=new a.Actor(oe,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=a.getProjection({name:"mercator"}),this.workerSourceTypes={vector:a.VectorTileWorkerSource,geojson:mi},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(ae,xe)=>{if(this.workerSourceTypes[ae])throw new Error(`Worker source with name "${ae}" already registered.`);this.workerSourceTypes[ae]=xe},this.self.registerRTLTextPlugin=ae=>{if(a.plugin.isParsed())throw new Error("RTL text plugin already registered.");a.plugin.applyArabicShaping=ae.applyArabicShaping,a.plugin.processBidirectionalText=ae.processBidirectionalText,a.plugin.processStyledBidirectionalText=ae.processStyledBidirectionalText}}clearCaches(oe,ae,xe){delete this.layerIndexes[oe],delete this.availableImages[oe],delete this.workerSources[oe],delete this.demWorkerSources[oe],xe()}checkIfReady(oe,ae,xe){xe()}setReferrer(oe,ae){this.referrer=ae}spriteLoaded(oe,ae){this.isSpriteLoaded[oe]=ae;for(const xe in this.workerSources[oe]){const Fe=this.workerSources[oe][xe];for(const Be in Fe)Fe[Be]instanceof a.VectorTileWorkerSource&&(Fe[Be].isSpriteLoaded=ae,Fe[Be].fire(new a.Event("isSpriteLoaded")))}}setImages(oe,ae,xe){this.availableImages[oe]=ae;for(const Fe in this.workerSources[oe]){const Be=this.workerSources[oe][Fe];for(const et in Be)Be[et].availableImages=ae}xe()}enableTerrain(oe,ae,xe){this.terrain=ae,xe()}setProjection(oe,ae){this.projections[oe]=a.getProjection(ae)}setLayers(oe,ae,xe){this.getLayerIndex(oe).replace(ae),xe()}updateLayers(oe,ae,xe){this.getLayerIndex(oe).update(ae.layers,ae.removedIds),xe()}loadTile(oe,ae,xe){const Fe=this.enableTerrain?a.extend({enableTerrain:this.terrain},ae):ae;Fe.projection=this.projections[oe]||this.defaultProjection,this.getWorkerSource(oe,ae.type,ae.source).loadTile(Fe,xe)}loadDEMTile(oe,ae,xe){const Fe=this.enableTerrain?a.extend({buildQuadTree:this.terrain},ae):ae;this.getDEMWorkerSource(oe,ae.source).loadTile(Fe,xe)}reloadTile(oe,ae,xe){const Fe=this.enableTerrain?a.extend({enableTerrain:this.terrain},ae):ae;Fe.projection=this.projections[oe]||this.defaultProjection,this.getWorkerSource(oe,ae.type,ae.source).reloadTile(Fe,xe)}abortTile(oe,ae,xe){this.getWorkerSource(oe,ae.type,ae.source).abortTile(ae,xe)}removeTile(oe,ae,xe){this.getWorkerSource(oe,ae.type,ae.source).removeTile(ae,xe)}removeSource(oe,ae,xe){if(!this.workerSources[oe]||!this.workerSources[oe][ae.type]||!this.workerSources[oe][ae.type][ae.source])return;const Fe=this.workerSources[oe][ae.type][ae.source];delete this.workerSources[oe][ae.type][ae.source],Fe.removeSource!==void 0?Fe.removeSource(ae,xe):xe()}loadWorkerSource(oe,ae,xe){try{this.self.importScripts(ae.url),xe()}catch(Fe){xe(Fe.toString())}}syncRTLPluginState(oe,ae,xe){try{a.plugin.setState(ae);const Fe=a.plugin.getPluginURL();if(a.plugin.isLoaded()&&!a.plugin.isParsed()&&Fe!=null){this.self.importScripts(Fe);const Be=a.plugin.isParsed();xe(Be?void 0:new Error(`RTL Text Plugin failed to import scripts from ${Fe}`),Be)}}catch(Fe){xe(Fe.toString())}}getAvailableImages(oe){let ae=this.availableImages[oe];return ae||(ae=[]),ae}getLayerIndex(oe){let ae=this.layerIndexes[oe];return ae||(ae=this.layerIndexes[oe]=new k),ae}getWorkerSource(oe,ae,xe){if(this.workerSources[oe]||(this.workerSources[oe]={}),this.workerSources[oe][ae]||(this.workerSources[oe][ae]={}),!this.workerSources[oe][ae][xe]){const Fe={send:(Be,et,nt,qe,He,Je)=>{this.actor.send(Be,et,nt,oe,He,Je)},scheduler:this.actor.scheduler};this.workerSources[oe][ae][xe]=new this.workerSourceTypes[ae](Fe,this.getLayerIndex(oe),this.getAvailableImages(oe),this.isSpriteLoaded[oe])}return this.workerSources[oe][ae][xe]}getDEMWorkerSource(oe,ae){return this.demWorkerSources[oe]||(this.demWorkerSources[oe]={}),this.demWorkerSources[oe][ae]||(this.demWorkerSources[oe][ae]=new M),this.demWorkerSources[oe][ae]}enforceCacheSizeLimit(oe,ae){a.enforceCacheSizeLimit(ae)}getWorkerPerformanceMetrics(oe,ae,xe){xe(void 0,void 0)}}return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new Hr(self)),Hr}),u(["./shared"],function(a){function y(m,c){if(Array.isArray(m)){if(!Array.isArray(c)||m.length!==c.length)return!1;for(let h=0;h<m.length;h++)if(!y(m[h],c[h]))return!1;return!0}if(typeof m=="object"&&m!==null&&c!==null){if(typeof c!="object"||Object.keys(m).length!==Object.keys(c).length)return!1;for(const h in m)if(!y(m[h],c[h]))return!1;return!0}return m===c}var w=k;function k(m){return!function(c){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var _,x,E=new Blob([""],{type:"text/javascript"}),P=URL.createObjectURL(E);try{x=new Worker(P),_=!0}catch{_=!1}return x&&x.terminate(),URL.revokeObjectURL(P),_}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var _=document.createElement("canvas");_.width=_.height=1;var x=_.getContext("2d");if(!x)return!1;var E=x.getImageData(0,0,1,1);return E&&E.width===_.width}()?(M[h=c&&c.failIfMajorPerformanceCaveat]===void 0&&(M[h]=function(_){var x,E=function(P){var D=document.createElement("canvas"),L=Object.create(k.webGLContextAttributes);return L.failIfMajorPerformanceCaveat=P,D.getContext("webgl",L)||D.getContext("experimental-webgl",L)}(_);if(!E)return!1;try{x=E.createShader(E.VERTEX_SHADER)}catch{return!1}return!(!x||E.isContextLost())&&(E.shaderSource(x,"void main() {}"),E.compileShader(x),E.getShaderParameter(x,E.COMPILE_STATUS)===!0)}(h)),M[h]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var h}(m)}var M={};function O(m,c,h){const _=a.window.document.createElement(m);return c!==void 0&&(_.className=c),h&&h.appendChild(_),_}function $(m,c,h){const _=a.window.document.createElementNS("http://www.w3.org/2000/svg",m);for(const x of Object.keys(c))_.setAttributeNS(null,x,c[x]);return h&&h.appendChild(_),_}k.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const N=a.window.document&&a.window.document.documentElement.style,B=N&&N.userSelect!==void 0?"userSelect":"WebkitUserSelect";let J;function U(){N&&B&&(J=N[B],N[B]="none")}function G(){N&&B&&(N[B]=J)}function Z(m){m.preventDefault(),m.stopPropagation(),a.window.removeEventListener("click",Z,!0)}function Q(){a.window.addEventListener("click",Z,!0),a.window.setTimeout(()=>{a.window.removeEventListener("click",Z,!0)},0)}function se(m,c){const h=m.getBoundingClientRect();return _e(m,h,c)}function ce(m,c){const h=m.getBoundingClientRect(),_=[];for(let x=0;x<c.length;x++)_.push(_e(m,h,c[x]));return _}function A(m){return a.window.InstallTrigger!==void 0&&m.button===2&&m.ctrlKey&&a.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:m.button}function _e(m,c,h){const _=m.offsetWidth===c.width?1:m.offsetWidth/c.width;return new a.Point((h.clientX-c.left)*_,(h.clientY-c.top)*_)}function le(m,c){var h=c[0],_=c[1],x=c[2],E=c[3],P=h*E-x*_;return P?(m[0]=E*(P=1/P),m[1]=-_*P,m[2]=-x*P,m[3]=h*P,m):null}function ve(m){const{userImage:c}=m;return!!(c&&c.render&&c.render())&&(m.data.replace(new Uint8Array(c.data.buffer)),!0)}class Ue extends a.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(c){if(this.loaded!==c&&(this.loaded=c,c)){for(const{ids:h,callback:_}of this.requestors)this._notify(h,_);this.requestors=[]}}hasImage(c){return!!this.getImage(c)}getImage(c){return this.images[c]}addImage(c,h){this._validate(c,h)&&(this.images[c]=h)}_validate(c,h){let _=!0;return this._validateStretch(h.stretchX,h.data&&h.data.width)||(this.fire(new a.ErrorEvent(new Error(`Image "${c}" has invalid "stretchX" value`))),_=!1),this._validateStretch(h.stretchY,h.data&&h.data.height)||(this.fire(new a.ErrorEvent(new Error(`Image "${c}" has invalid "stretchY" value`))),_=!1),this._validateContent(h.content,h)||(this.fire(new a.ErrorEvent(new Error(`Image "${c}" has invalid "content" value`))),_=!1),_}_validateStretch(c,h){if(!c)return!0;let _=0;for(const x of c){if(x[0]<_||x[1]<x[0]||h<x[1])return!1;_=x[1]}return!0}_validateContent(c,h){return!(c&&(c.length!==4||c[0]<0||h.data.width<c[0]||c[1]<0||h.data.height<c[1]||c[2]<0||h.data.width<c[2]||c[3]<0||h.data.height<c[3]||c[2]<c[0]||c[3]<c[1]))}updateImage(c,h){h.version=this.images[c].version+1,this.images[c]=h,this.updatedImages[c]=!0}removeImage(c){const h=this.images[c];delete this.images[c],delete this.patterns[c],h.userImage&&h.userImage.onRemove&&h.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(c,h){let _=!0;if(!this.isLoaded())for(const x of c)this.images[x]||(_=!1);this.isLoaded()||_?this._notify(c,h):this.requestors.push({ids:c,callback:h})}_notify(c,h){const _={};for(const x of c){this.images[x]||this.fire(new a.Event("styleimagemissing",{id:x}));const E=this.images[x];E?_[x]={data:E.data.clone(),pixelRatio:E.pixelRatio,sdf:E.sdf,version:E.version,stretchX:E.stretchX,stretchY:E.stretchY,content:E.content,hasRenderCallback:!!(E.userImage&&E.userImage.render)}:a.warnOnce(`Image "${x}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}h(null,_)}getPixelSize(){const{width:c,height:h}=this.atlasImage;return{width:c,height:h}}getPattern(c){const h=this.patterns[c],_=this.getImage(c);if(!_)return null;if(h&&h.position.version===_.version)return h.position;if(h)h.position.version=_.version;else{const x={w:_.data.width+2,h:_.data.height+2,x:0,y:0},E=new a.ImagePosition(x,_);this.patterns[c]={bin:x,position:E}}return this._updatePatternAtlas(),this.patterns[c].position}bind(c){const h=c.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new a.Texture(c,this.atlasImage,h.RGBA),this.atlasTexture&&this.atlasTexture.bind(h.LINEAR,h.CLAMP_TO_EDGE)}_updatePatternAtlas(){const c=[];for(const E in this.patterns)c.push(this.patterns[E].bin);const{w:h,h:_}=a.potpack(c),x=this.atlasImage;x.resize({width:h||1,height:_||1});for(const E in this.patterns){const{bin:P}=this.patterns[E],D=P.x+1,L=P.y+1,q=this.images[E].data,H=q.width,ee=q.height;a.RGBAImage.copy(q,x,{x:0,y:0},{x:D,y:L},{width:H,height:ee}),a.RGBAImage.copy(q,x,{x:0,y:ee-1},{x:D,y:L-1},{width:H,height:1}),a.RGBAImage.copy(q,x,{x:0,y:0},{x:D,y:L+ee},{width:H,height:1}),a.RGBAImage.copy(q,x,{x:H-1,y:0},{x:D-1,y:L},{width:1,height:ee}),a.RGBAImage.copy(q,x,{x:0,y:0},{x:D+H,y:L},{width:1,height:ee})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(c){for(const h of c){if(this.callbackDispatchedThisFrame[h])continue;this.callbackDispatchedThisFrame[h]=!0;const _=this.images[h];ve(_)&&this.updateImage(h,_)}}}const $e=new a.Properties({anchor:new a.DataConstantProperty(a.spec.light.anchor),position:new class{constructor(){this.specification=a.spec.light.position}possiblyEvaluate(m,c){return function([h,_,x]){const E=a.degToRad(_+90),P=a.degToRad(x);return{x:h*Math.cos(E)*Math.sin(P),y:h*Math.sin(E)*Math.sin(P),z:h*Math.cos(P),azimuthal:_,polar:x}}(m.expression.evaluate(c))}interpolate(m,c,h){return{x:a.number(m.x,c.x,h),y:a.number(m.y,c.y,h),z:a.number(m.z,c.z,h),azimuthal:a.number(m.azimuthal,c.azimuthal,h),polar:a.number(m.polar,c.polar,h)}}},color:new a.DataConstantProperty(a.spec.light.color),intensity:new a.DataConstantProperty(a.spec.light.intensity)});class Ae extends a.Evented{constructor(c){super(),this._transitionable=new a.Transitionable($e),this.setLight(c),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(c,h={}){if(!this._validate(a.validateLight,c,h))for(const _ in c){const x=c[_];a.endsWith(_,"-transition")?this._transitionable.setTransition(_.slice(0,-11),x):this._transitionable.setValue(_,x)}}updateTransitions(c){this._transitioning=this._transitionable.transitioned(c,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(c){this.properties=this._transitioning.possiblyEvaluate(c)}_validate(c,h,_){return(!_||_.validate!==!1)&&a.emitValidationErrors(this,c.call(a.validateStyle,a.extend({value:h,style:{glyphs:!0,sprite:!0},styleSpec:a.spec})))}}const Re=new a.Properties({source:new a.DataConstantProperty(a.spec.terrain.source),exaggeration:new a.DataConstantProperty(a.spec.terrain.exaggeration)});let Oe=class extends a.Evented{constructor(m,c){super(),this._transitionable=new a.Transitionable(Re),this.set(m),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=c}get(){return this._transitionable.serialize()}set(m){for(const c in m){const h=m[c];a.endsWith(c,"-transition")?this._transitionable.setTransition(c.slice(0,-11),h):this._transitionable.setValue(c,h)}}updateTransitions(m){this._transitioning=this._transitionable.transitioned(m,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(m){this.properties=this._transitioning.possiblyEvaluate(m)}};function Ye(m,c,h,_){const x=a.smoothstep(45,65,h),[E,P]=Qe(m,_),D=a.length(c);let L=1-Math.min(1,Math.exp((D-E)/(P-E)*-6));return L*=L*L,L=Math.min(1,1.00747*L),L*x*m.alpha}function Qe(m,c){const h=.5/Math.tan(.5*c);return[m.range[0]+h,m.range[1]+h]}const ze=new a.Properties({range:new a.DataConstantProperty(a.spec.fog.range),color:new a.DataConstantProperty(a.spec.fog.color),"high-color":new a.DataConstantProperty(a.spec.fog["high-color"]),"space-color":new a.DataConstantProperty(a.spec.fog["space-color"]),"horizon-blend":new a.DataConstantProperty(a.spec.fog["horizon-blend"]),"star-intensity":new a.DataConstantProperty(a.spec.fog["star-intensity"])});class Pe extends a.Evented{constructor(c,h){super(),this._transitionable=new a.Transitionable(ze),this.set(c),this._transitioning=this._transitionable.untransitioned(),this._transform=h}get state(){const c=this._transform,h=c.projection.name==="globe",_=a.globeToMercatorTransition(c.zoom),x=this.properties.get("range"),E=[.5,3];return{range:h?[a.number(E[0],x[0],_),a.number(E[1],x[1],_)]:x,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(c,h={}){if(!this._validate(a.validateFog,c,h)){for(const _ of Object.keys(a.spec.fog))c&&c[_]===void 0&&(c[_]=a.spec.fog[_].default);for(const _ in c){const x=c[_];a.endsWith(_,"-transition")?this._transitionable.setTransition(_.slice(0,-11),x):this._transitionable.setValue(_,x)}}}getOpacity(c){if(!this._transform.projection.supportsFog)return 0;const h=this.properties&&this.properties.get("color")||1;return(this._transform.projection.name==="globe"?1:a.smoothstep(45,65,c))*h.a}getOpacityAtLatLng(c,h){return this._transform.projection.supportsFog?function(_,x,E){const P=a.MercatorCoordinate.fromLngLat(x),D=E.elevation?E.elevation.getAtPointOrZero(P):0,L=[P.x,P.y,D];return a.transformMat4(L,L,E.mercatorFogMatrix),Ye(_,L,E.pitch,E._fov)}(this.state,c,h):0}getFovAdjustedRange(c){return this._transform.projection.supportsFog?Qe(this.state,c):[0,1]}updateTransitions(c){this._transitioning=this._transitionable.transitioned(c,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(c){this.properties=this._transitioning.possiblyEvaluate(c)}_validate(c,h,_){return(!_||_.validate!==!1)&&a.emitValidationErrors(this,c.call(a.validateStyle,a.extend({value:h,style:{glyphs:!0,sprite:!0},styleSpec:a.spec})))}}class je{constructor(c,h){this.workerPool=c,this.actors=[],this.currentActor=0,this.id=a.uniqueId();const _=this.workerPool.acquire(this.id);for(let x=0;x<_.length;x++){const E=new je.Actor(_[x],h,this.id);E.name=`Worker ${x}`,this.actors.push(E)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(c,h,_){a.asyncAll(this.actors,(x,E)=>{x.send(c,h,E)},_=_||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(c=>{c.remove()}),this.actors=[],this.workerPool.release(this.id)}}function lt(m,c,h){return c*(a.EXTENT/(m.tileSize*Math.pow(2,h-m.tileID.overscaledZ)))}je.Actor=a.Actor;class ot{constructor(c,h,_,x){this.screenBounds=c,this.cameraPoint=h,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=_,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,x)}static createFromScreenPoints(c,h){let _,x;if(c instanceof a.Point||typeof c[0]=="number"){const E=a.Point.convert(c);_=[E],x=h.isPointAboveHorizon(E)}else{const E=a.Point.convert(c[0]),P=a.Point.convert(c[1]);_=[E,P],x=a.polygonizeBounds(E,P).every(D=>h.isPointAboveHorizon(D))}return new ot(_,h.getCameraPoint(),x,h)}isPointQuery(){return this.screenBounds.length===1}bufferedScreenGeometry(c){return a.polygonizeBounds(this.screenBounds[0],this.screenBounds.length===1?this.screenBounds[0]:this.screenBounds[1],c)}bufferedCameraGeometry(c){const h=this.screenBounds[0],_=this.screenBounds.length===1?this.screenBounds[0].add(new a.Point(1,1)):this.screenBounds[1],x=a.polygonizeBounds(h,_,0,!1);return this.cameraPoint.y>_.y&&(this.cameraPoint.x>h.x&&this.cameraPoint.x<_.x?x.splice(3,0,this.cameraPoint):this.cameraPoint.x>=_.x?x[2]=this.cameraPoint:this.cameraPoint.x<=h.x&&(x[3]=this.cameraPoint)),a.bufferConvexPolygon(x,c)}bufferedCameraGeometryGlobe(c){const h=this.screenBounds[0],_=this.screenBounds.length===1?this.screenBounds[0].add(new a.Point(1,1)):this.screenBounds[1],x=a.polygonizeBounds(h,_,c),E=this.cameraPoint.clone();switch(3*((E.y>h.y)+(E.y>_.y))+((E.x>h.x)+(E.x>_.x))){case 0:x[0]=E,x[4]=E.clone();break;case 1:x.splice(1,0,E);break;case 2:x[1]=E;break;case 3:x.splice(4,0,E);break;case 5:x.splice(2,0,E);break;case 6:x[3]=E;break;case 7:x.splice(3,0,E);break;case 8:x[2]=E}return x}containsTile(c,h,_,x=0){const E=c.queryPadding/h._pixelsPerMercatorPixel+1,P=_?this._bufferedCameraMercator(E,h):this._bufferedScreenMercator(E,h);let D=c.tileID.wrap+(P.unwrapped?x:0);const L=P.polygon.map(be=>a.getTilePoint(c.tileTransform,be,D));if(!a.polygonIntersectsBox(L,0,0,a.EXTENT,a.EXTENT))return;D=c.tileID.wrap+(this.screenGeometryMercator.unwrapped?x:0);const q=this.screenGeometryMercator.polygon.map(be=>a.getTileVec3(c.tileTransform,be,D)),H=q.map(be=>new a.Point(be[0],be[1])),ee=h.getFreeCameraOptions().position||new a.MercatorCoordinate(0,0,0),de=a.getTileVec3(c.tileTransform,ee,D),fe=q.map(be=>{const te=a.sub(be,be,de);return a.normalize(te,te),new a.Ray(de,te)}),ye=lt(c,1,h.zoom)*h._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:H,tilespaceRays:fe,bufferedTilespaceGeometry:L,bufferedTilespaceBounds:(ge=a.getBounds(L),ge.min.x=a.clamp(ge.min.x,0,a.EXTENT),ge.min.y=a.clamp(ge.min.y,0,a.EXTENT),ge.max.x=a.clamp(ge.max.x,0,a.EXTENT),ge.max.y=a.clamp(ge.max.y,0,a.EXTENT),ge),tile:c,tileID:c.tileID,pixelToTileUnitsFactor:ye};var ge}_bufferedScreenMercator(c,h){const _=ut(c);if(this._screenRaycastCache[_])return this._screenRaycastCache[_];{let x;return x=h.projection.name==="globe"?this._projectAndResample(this.bufferedScreenGeometry(c),h):{polygon:this.bufferedScreenGeometry(c).map(E=>h.pointCoordinate3D(E)),unwrapped:!0},this._screenRaycastCache[_]=x,x}}_bufferedCameraMercator(c,h){const _=ut(c);if(this._cameraRaycastCache[_])return this._cameraRaycastCache[_];{let x;return x=h.projection.name==="globe"?this._projectAndResample(this.bufferedCameraGeometryGlobe(c),h):{polygon:this.bufferedCameraGeometry(c).map(E=>h.pointCoordinate3D(E)),unwrapped:!0},this._cameraRaycastCache[_]=x,x}}_projectAndResample(c,h){const _=function(E,P){const D=a.multiply([],P.pixelMatrix,P.globeMatrix),L=[0,-a.GLOBE_RADIUS,0,1],q=[0,a.GLOBE_RADIUS,0,1],H=[0,0,0,1];a.transformMat4$1(L,L,D),a.transformMat4$1(q,q,D),a.transformMat4$1(H,H,D);const ee=new a.Point(L[0]/L[3],L[1]/L[3]),de=new a.Point(q[0]/q[3],q[1]/q[3]),fe=a.polygonContainsPoint(E,ee)&&L[3]<H[3],ye=a.polygonContainsPoint(E,de)&&q[3]<H[3];if(!fe&&!ye)return null;const ge=function(Xe,at,it){for(let gt=1;gt<Xe.length;gt++){const Kt=Ct(at.pointCoordinate3D(Xe[gt-1]).x),dt=Ct(at.pointCoordinate3D(Xe[gt]).x);if(it<0){if(Kt<dt)return{idx:gt,t:-Kt/(dt-1-Kt)}}else if(dt<Kt)return{idx:gt,t:(1-Kt)/(dt+1-Kt)}}return null}(E,P,fe?-1:1);if(!ge)return null;const{idx:be,t:te}=ge;let pe=be>1?ct(E.slice(0,be),P):[],Te=be<E.length?ct(E.slice(be),P):[];pe=pe.map(Xe=>new a.Point(Ct(Xe.x),Xe.y)),Te=Te.map(Xe=>new a.Point(Ct(Xe.x),Xe.y));const Ie=[...pe];Ie.length===0&&Ie.push(Te[Te.length-1]);const Ze=a.number(Ie[Ie.length-1].y,(Te.length===0?pe[0]:Te[0]).y,te);let Ke;return Ke=fe?[new a.Point(0,Ze),new a.Point(0,0),new a.Point(1,0),new a.Point(1,Ze)]:[new a.Point(1,Ze),new a.Point(1,1),new a.Point(0,1),new a.Point(0,Ze)],Ie.push(...Ke),Te.length===0?Ie.push(pe[0]):Ie.push(...Te),{polygon:Ie.map(Xe=>new a.MercatorCoordinate(Xe.x,Xe.y)),unwrapped:!1}}(c,h);if(_)return _;const x=function(E,P){let D=!1,L=-1/0,q=0;for(let ee=0;ee<E.length-1;ee++)E[ee].x>L&&(L=E[ee].x,q=ee);for(let ee=0;ee<E.length-1;ee++){const de=(q+ee)%(E.length-1),fe=E[de],ye=E[de+1];Math.abs(fe.x-ye.x)>.5&&(fe.x<ye.x?(fe.x+=1,de===0&&(E[E.length-1].x+=1)):(ye.x+=1,de+1===E.length-1&&(E[0].x+=1)),D=!0)}const H=a.mercatorXfromLng(P.center.lng);return D&&H<Math.abs(H-1)&&E.forEach(ee=>{ee.x-=1}),{polygon:E,unwrapped:D}}(ct(c,h).map(E=>new a.Point(Ct(E.x),E.y)),h);return{polygon:x.polygon.map(E=>new a.MercatorCoordinate(E.x,E.y)),unwrapped:x.unwrapped}}}function ct(m,c){return a.resample(m,h=>{const _=c.pointCoordinate3D(h);h.x=_.x,h.y=_.y},1/256)}function Ct(m){return m<0?1+m%1:m%1}function ut(m){return 100*m|0}function yt(m,c,h,_,x){const E=function(P,D){if(P)return x(P);if(D){m.url&&D.tiles&&m.tiles&&delete m.tiles;const L=a.pick(a.extend(D,m),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);D.vector_layers&&(L.vectorLayers=D.vector_layers,L.vectorLayerIds=L.vectorLayers.map(q=>q.id)),L.tiles=c.canonicalizeTileset(L,m.url),x(null,L)}};return m.url?a.getJSON(c.transformRequest(c.normalizeSourceURL(m.url,null,h,_),a.ResourceType.Source),E):a.exported.frame(()=>E(null,m))}class Dt{constructor(c,h,_){this.bounds=a.LngLatBounds.convert(this.validateBounds(c)),this.minzoom=h||0,this.maxzoom=_||24}validateBounds(c){return Array.isArray(c)&&c.length===4?[Math.max(-180,c[0]),Math.max(-90,c[1]),Math.min(180,c[2]),Math.min(90,c[3])]:[-180,-90,180,90]}contains(c){const h=Math.pow(2,c.z),_=Math.floor(a.mercatorXfromLng(this.bounds.getWest())*h),x=Math.floor(a.mercatorYfromLat(this.bounds.getNorth())*h),E=Math.ceil(a.mercatorXfromLng(this.bounds.getEast())*h),P=Math.ceil(a.mercatorYfromLat(this.bounds.getSouth())*h);return c.x>=_&&c.x<E&&c.y>=x&&c.y<P}}class Rt{constructor(c,h,_){this.context=c;const x=c.gl;this.buffer=x.createBuffer(),this.dynamicDraw=!!_,this.context.unbindVAO(),c.bindElementBuffer.set(this.buffer),x.bufferData(x.ELEMENT_ARRAY_BUFFER,h.arrayBuffer,this.dynamicDraw?x.DYNAMIC_DRAW:x.STATIC_DRAW),this.dynamicDraw||h.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(c){const h=this.context.gl;this.context.unbindVAO(),this.bind(),h.bufferSubData(h.ELEMENT_ARRAY_BUFFER,0,c.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const St={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Qt{constructor(c,h,_,x){this.length=h.length,this.attributes=_,this.itemSize=h.bytesPerElement,this.dynamicDraw=x,this.context=c;const E=c.gl;this.buffer=E.createBuffer(),c.bindVertexBuffer.set(this.buffer),E.bufferData(E.ARRAY_BUFFER,h.arrayBuffer,this.dynamicDraw?E.DYNAMIC_DRAW:E.STATIC_DRAW),this.dynamicDraw||h.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(c){const h=this.context.gl;this.bind(),h.bufferSubData(h.ARRAY_BUFFER,0,c.arrayBuffer)}enableAttributes(c,h){for(let _=0;_<this.attributes.length;_++){const x=h.attributes[this.attributes[_].name];x!==void 0&&c.enableVertexAttribArray(x)}}setVertexAttribPointers(c,h,_){for(let x=0;x<this.attributes.length;x++){const E=this.attributes[x],P=h.attributes[E.name];P!==void 0&&c.vertexAttribPointer(P,E.components,c[St[E.type]],!1,this.itemSize,E.offset+this.itemSize*(_||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Lt{constructor(c){this.gl=c.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(c){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class qt extends Lt{getDefault(){return a.Color.transparent}set(c){const h=this.current;(c.r!==h.r||c.g!==h.g||c.b!==h.b||c.a!==h.a||this.dirty)&&(this.gl.clearColor(c.r,c.g,c.b,c.a),this.current=c,this.dirty=!1)}}class an extends Lt{getDefault(){return 1}set(c){(c!==this.current||this.dirty)&&(this.gl.clearDepth(c),this.current=c,this.dirty=!1)}}class jt extends Lt{getDefault(){return 0}set(c){(c!==this.current||this.dirty)&&(this.gl.clearStencil(c),this.current=c,this.dirty=!1)}}class vt extends Lt{getDefault(){return[!0,!0,!0,!0]}set(c){const h=this.current;(c[0]!==h[0]||c[1]!==h[1]||c[2]!==h[2]||c[3]!==h[3]||this.dirty)&&(this.gl.colorMask(c[0],c[1],c[2],c[3]),this.current=c,this.dirty=!1)}}class gn extends Lt{getDefault(){return!0}set(c){(c!==this.current||this.dirty)&&(this.gl.depthMask(c),this.current=c,this.dirty=!1)}}class on extends Lt{getDefault(){return 255}set(c){(c!==this.current||this.dirty)&&(this.gl.stencilMask(c),this.current=c,this.dirty=!1)}}class Bn extends Lt{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(c){const h=this.current;(c.func!==h.func||c.ref!==h.ref||c.mask!==h.mask||this.dirty)&&(this.gl.stencilFunc(c.func,c.ref,c.mask),this.current=c,this.dirty=!1)}}class Yn extends Lt{getDefault(){const c=this.gl;return[c.KEEP,c.KEEP,c.KEEP]}set(c){const h=this.current;(c[0]!==h[0]||c[1]!==h[1]||c[2]!==h[2]||this.dirty)&&(this.gl.stencilOp(c[0],c[1],c[2]),this.current=c,this.dirty=!1)}}class On extends Lt{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const h=this.gl;c?h.enable(h.STENCIL_TEST):h.disable(h.STENCIL_TEST),this.current=c,this.dirty=!1}}class zn extends Lt{getDefault(){return[0,1]}set(c){const h=this.current;(c[0]!==h[0]||c[1]!==h[1]||this.dirty)&&(this.gl.depthRange(c[0],c[1]),this.current=c,this.dirty=!1)}}class Mn extends Lt{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const h=this.gl;c?h.enable(h.DEPTH_TEST):h.disable(h.DEPTH_TEST),this.current=c,this.dirty=!1}}class jn extends Lt{getDefault(){return this.gl.LESS}set(c){(c!==this.current||this.dirty)&&(this.gl.depthFunc(c),this.current=c,this.dirty=!1)}}class yr extends Lt{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const h=this.gl;c?h.enable(h.BLEND):h.disable(h.BLEND),this.current=c,this.dirty=!1}}class pt extends Lt{getDefault(){const c=this.gl;return[c.ONE,c.ZERO]}set(c){const h=this.current;(c[0]!==h[0]||c[1]!==h[1]||this.dirty)&&(this.gl.blendFunc(c[0],c[1]),this.current=c,this.dirty=!1)}}class sn extends Lt{getDefault(){return a.Color.transparent}set(c){const h=this.current;(c.r!==h.r||c.g!==h.g||c.b!==h.b||c.a!==h.a||this.dirty)&&(this.gl.blendColor(c.r,c.g,c.b,c.a),this.current=c,this.dirty=!1)}}class dn extends Lt{getDefault(){return this.gl.FUNC_ADD}set(c){(c!==this.current||this.dirty)&&(this.gl.blendEquation(c),this.current=c,this.dirty=!1)}}class en extends Lt{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const h=this.gl;c?h.enable(h.CULL_FACE):h.disable(h.CULL_FACE),this.current=c,this.dirty=!1}}class ln extends Lt{getDefault(){return this.gl.BACK}set(c){(c!==this.current||this.dirty)&&(this.gl.cullFace(c),this.current=c,this.dirty=!1)}}class un extends Lt{getDefault(){return this.gl.CCW}set(c){(c!==this.current||this.dirty)&&(this.gl.frontFace(c),this.current=c,this.dirty=!1)}}let bn,Dn=class extends Lt{getDefault(){return null}set(m){(m!==this.current||this.dirty)&&(this.gl.useProgram(m),this.current=m,this.dirty=!1)}};class Fn extends Lt{getDefault(){return this.gl.TEXTURE0}set(c){(c!==this.current||this.dirty)&&(this.gl.activeTexture(c),this.current=c,this.dirty=!1)}}class er extends Lt{getDefault(){const c=this.gl;return[0,0,c.drawingBufferWidth,c.drawingBufferHeight]}set(c){const h=this.current;(c[0]!==h[0]||c[1]!==h[1]||c[2]!==h[2]||c[3]!==h[3]||this.dirty)&&(this.gl.viewport(c[0],c[1],c[2],c[3]),this.current=c,this.dirty=!1)}}class Ar extends Lt{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const h=this.gl;h.bindFramebuffer(h.FRAMEBUFFER,c),this.current=c,this.dirty=!1}}class pr extends Lt{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const h=this.gl;h.bindRenderbuffer(h.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class mi extends Lt{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const h=this.gl;h.bindTexture(h.TEXTURE_2D,c),this.current=c,this.dirty=!1}}class Hr extends Lt{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const h=this.gl;h.bindBuffer(h.ARRAY_BUFFER,c),this.current=c,this.dirty=!1}}class ke extends Lt{getDefault(){return null}set(c){const h=this.gl;h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,c),this.current=c,this.dirty=!1}}class oe extends Lt{constructor(c){super(c),this.vao=c.extVertexArrayObject}getDefault(){return null}set(c){this.vao&&(c!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(c),this.current=c,this.dirty=!1)}}class ae extends Lt{getDefault(){return 4}set(c){if(c===this.current&&!this.dirty)return;const h=this.gl;h.pixelStorei(h.UNPACK_ALIGNMENT,c),this.current=c,this.dirty=!1}}class xe extends Lt{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const h=this.gl;h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,c),this.current=c,this.dirty=!1}}class Fe extends Lt{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const h=this.gl;h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,c),this.current=c,this.dirty=!1}}class Be extends Lt{constructor(c,h){super(c),this.context=c,this.parent=h}getDefault(){return null}}class et extends Be{setDirty(){this.dirty=!0}set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const h=this.gl;h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,c,0),this.current=c,this.dirty=!1}}class nt extends Be{attachment(){return this.gl.DEPTH_ATTACHMENT}set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const h=this.gl;h.framebufferRenderbuffer(h.FRAMEBUFFER,this.attachment(),h.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class qe extends nt{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class He{constructor(c,h,_,x){this.context=c,this.width=h,this.height=_;const E=this.framebuffer=c.gl.createFramebuffer();this.colorAttachment=new et(c,E),x&&(this.depthAttachment=new nt(c,E))}destroy(){const c=this.context.gl,h=this.colorAttachment.get();if(h&&c.deleteTexture(h),this.depthAttachment){const _=this.depthAttachment.get();_&&c.deleteRenderbuffer(_)}c.deleteFramebuffer(this.framebuffer)}}class Je{constructor(c,h=!1){if(this.gl=c,this.isWebGL2=h,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),h){const _=c;this.extVertexArrayObject={createVertexArrayOES:_.createVertexArray.bind(c),deleteVertexArrayOES:_.deleteVertexArray.bind(c),bindVertexArrayOES:_.bindVertexArray.bind(c)}}this.clearColor=new qt(this),this.clearDepth=new an(this),this.clearStencil=new jt(this),this.colorMask=new vt(this),this.depthMask=new gn(this),this.stencilMask=new on(this),this.stencilFunc=new Bn(this),this.stencilOp=new Yn(this),this.stencilTest=new On(this),this.depthRange=new zn(this),this.depthTest=new Mn(this),this.depthFunc=new jn(this),this.blend=new yr(this),this.blendFunc=new pt(this),this.blendColor=new sn(this),this.blendEquation=new dn(this),this.cullFace=new en(this),this.cullFaceSide=new ln(this),this.frontFace=new un(this),this.program=new Dn(this),this.activeTexture=new Fn(this),this.viewport=new er(this),this.bindFramebuffer=new Ar(this),this.bindRenderbuffer=new pr(this),this.bindTexture=new mi(this),this.bindVertexBuffer=new Hr(this),this.bindElementBuffer=new ke(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new oe(this),this.pixelStoreUnpack=new ae(this),this.pixelStoreUnpackPremultiplyAlpha=new xe(this),this.pixelStoreUnpackFlipY=new Fe(this),this.extTextureFilterAnisotropic=c.getExtension("EXT_texture_filter_anisotropic")||c.getExtension("MOZ_EXT_texture_filter_anisotropic")||c.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=c.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extDebugRendererInfo=c.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=c.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=c.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),h||(this.extTextureHalfFloat=c.getExtension("OES_texture_half_float")),(h||this.extTextureHalfFloat&&c.getExtension("OES_texture_half_float_linear"))&&(this.extRenderToTextureHalfFloat=c.getExtension("EXT_color_buffer_half_float")),this.extStandardDerivatives=h||c.getExtension("OES_standard_derivatives"),this.extTimerQuery=c.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=c.getParameter(c.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(c,h){return new Rt(this,c,h)}createVertexBuffer(c,h,_){return new Qt(this,c,h,_)}createRenderbuffer(c,h,_){const x=this.gl,E=x.createRenderbuffer();return this.bindRenderbuffer.set(E),x.renderbufferStorage(x.RENDERBUFFER,c,h,_),this.bindRenderbuffer.set(null),E}createFramebuffer(c,h,_){return new He(this,c,h,_)}clear({color:c,depth:h,stencil:_}){const x=this.gl;let E=0;c&&(E|=x.COLOR_BUFFER_BIT,this.clearColor.set(c),this.colorMask.set([!0,!0,!0,!0])),h!==void 0&&(E|=x.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(h),this.depthMask.set(!0)),_!==void 0&&(E|=x.STENCIL_BUFFER_BIT,this.clearStencil.set(_),this.stencilMask.set(255)),x.clear(E)}setCullFace(c){c.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(c.mode),this.frontFace.set(c.frontFace))}setDepthMode(c){c.func!==this.gl.ALWAYS||c.mask?(this.depthTest.set(!0),this.depthFunc.set(c.func),this.depthMask.set(c.mask),this.depthRange.set(c.range)):this.depthTest.set(!1)}setStencilMode(c){c.test.func!==this.gl.ALWAYS||c.mask?(this.stencilTest.set(!0),this.stencilMask.set(c.mask),this.stencilOp.set([c.fail,c.depthFail,c.pass]),this.stencilFunc.set({func:c.test.func,ref:c.ref,mask:c.test.mask})):this.stencilTest.set(!1)}setColorMode(c){y(c.blendFunction,a.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(c.blendFunction),this.blendColor.set(c.blendColor)),this.colorMask.set(c.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class xt extends a.Evented{constructor(c,h,_,x){if(super(),this.id=c,this.dispatcher=_,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.extend(this,a.pick(h,["url","scheme","tileSize","promoteId"])),this._options=a.extend({type:"vector"},h),this._collectResourceTiming=h.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(x),this._tileWorkers={},this._deduped=new a.DedupedRequest}load(c){this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"}));const h=Array.isArray(this.map._language)?this.map._language.join():this.map._language,_=this.map._worldview;this._tileJSONRequest=yt(this._options,this.map._requestManager,h,_,(x,E)=>{this._tileJSONRequest=null,this._loaded=!0,x?(h&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${h}`),_&&_.length!==2&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${_}`),this.fire(new a.ErrorEvent(x))):E&&(a.extend(this,E),E.bounds&&(this.tileBounds=new Dt(E.bounds,this.minzoom,this.maxzoom)),a.postTurnstileEvent(E.tiles,this.map._requestManager._customAccessToken),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"}))),c&&c(x)})}loaded(){return this._loaded}hasTile(c){return!this.tileBounds||this.tileBounds.contains(c.canonical)}onAdd(c){this.map=c,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>this.map.style._clearSource(this.id))}setTiles(c){return this._options.tiles=c,this.reload(),this}setUrl(c){return this.url=c,this._options.url=c,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return a.extend({},this._options)}loadTile(c,h){const _=this.map._requestManager.normalizeTileURL(c.tileID.canonical.url(this.tiles,this.scheme)),x={request:this.map._requestManager.transformRequest(_,a.ResourceType.Tile),data:void 0,uid:c.uid,tileID:c.tileID,tileZoom:c.tileZoom,zoom:c.tileID.overscaledZ,tileSize:this.tileSize*c.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:a.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:c.isSymbolTile};if(x.request.collectResourceTiming=this._collectResourceTiming,c.actor&&c.state!=="expired")c.state==="loading"?c.reloadCallback=h:c.request=c.actor.send("reloadTile",x,E.bind(this));else if(c.actor=this._tileWorkers[_]=this._tileWorkers[_]||this.dispatcher.getActor(),this.dispatcher.ready)c.request=c.actor.send("loadTile",x,E.bind(this),void 0,!0);else{const P=a.loadVectorTile.call({deduped:this._deduped},x,(D,L)=>{D||!L?E.call(this,D):(x.data={cacheControl:L.cacheControl,expires:L.expires,rawData:L.rawData.slice(0)},c.actor&&c.actor.send("loadTile",x,E.bind(this),void 0,!0))},!0);c.request={cancel:P}}function E(P,D){return delete c.request,c.aborted?h(null):P&&P.status!==404?h(P):(D&&D.resourceTiming&&(c.resourceTiming=D.resourceTiming),this.map._refreshExpiredTiles&&D&&c.setExpiryData(D),c.loadVectorData(D,this.map.painter),a.cacheEntryPossiblyAdded(this.dispatcher),h(null),void(c.reloadCallback&&(this.loadTile(c,c.reloadCallback),c.reloadCallback=null)))}}abortTile(c){c.request&&(c.request.cancel(),delete c.request),c.actor&&c.actor.send("abortTile",{uid:c.uid,type:this.type,source:this.id})}unloadTile(c){c.unloadVectorData(),c.actor&&c.actor.send("removeTile",{uid:c.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}class kt extends a.Evented{constructor(c,h,_,x){super(),this.id=c,this.dispatcher=_,this.setEventedParent(x),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.extend({type:"raster"},h),a.extend(this,a.pick(h,["url","scheme","tileSize"]))}load(c){this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=yt(this._options,this.map._requestManager,null,null,(h,_)=>{this._tileJSONRequest=null,this._loaded=!0,h?this.fire(new a.ErrorEvent(h)):_&&(a.extend(this,_),_.bounds&&(this.tileBounds=new Dt(_.bounds,this.minzoom,this.maxzoom)),a.postTurnstileEvent(_.tiles),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"}))),c&&c(h)})}loaded(){return this._loaded}onAdd(c){this.map=c,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>this.map.style._clearSource(this.id))}setTiles(c){return this._options.tiles=c,this.reload(),this}setUrl(c){return this.url=c,this._options.url=c,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return a.extend({},this._options)}hasTile(c){return!this.tileBounds||this.tileBounds.contains(c.canonical)}loadTile(c,h){const _=a.exported.devicePixelRatio>=2,x=this.map._requestManager.normalizeTileURL(c.tileID.canonical.url(this.tiles,this.scheme),_,this.tileSize);c.request=a.getImage(this.map._requestManager.transformRequest(x,a.ResourceType.Tile),(E,P,D,L)=>(delete c.request,c.aborted?(c.state="unloaded",h(null)):E?(c.state="errored",h(E)):P?(this.map._refreshExpiredTiles&&c.setExpiryData({cacheControl:D,expires:L}),c.setTexture(P,this.map.painter),c.state="loaded",a.cacheEntryPossiblyAdded(this.dispatcher),void h(null)):h(null)))}static loadTileData(c,h,_){c.setTexture(h,_)}static unloadTileData(c,h){c.texture&&h.saveTileTexture(c.texture)}abortTile(c,h){c.request&&(c.request.cancel(),delete c.request),h()}unloadTile(c,h){c.texture&&this.map.painter.saveTileTexture(c.texture),h()}hasTransition(){return!1}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}function vn(m,c,h,_,x,E,P,D){const L=[m,h,x,c,_,E,1,1,1],q=[P,D,1],H=a.adjoint([],L),[ee,de,fe]=a.transformMat3(q,q,a.transpose(H,H));return a.multiply$1(L,[ee,0,0,0,de,0,0,0,fe],L)}class Nn extends a.Evented{constructor(c,h,_,x){super(),this.id=c,this.dispatcher=_,this.coordinates=h.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(x),this.options=h,this._dirty=!1}load(c,h){this._loaded=h||!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._imageRequest=a.getImage(this.map._requestManager.transformRequest(this.url,a.ResourceType.Image),(_,x)=>{if(this._imageRequest=null,this._loaded=!0,_)this.fire(new a.ErrorEvent(_));else if(x){const{HTMLImageElement:E}=a.window;this.image=x instanceof E?a.exported.getImageData(x):x,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,c&&(this.coordinates=c),this._finishLoading()}})}loaded(){return this._loaded}updateImage(c){return this.image&&c.url?(this._imageRequest&&c.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=c.url,this.load(c.coordinates,this._loaded),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(c){this.map=c,this.load()}onRemove(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),this.texture&&this.texture.destroy()}setCoordinates(c){this.coordinates=c,this._boundsArray=void 0;const h=c.map(a.MercatorCoordinate.fromLngLat);return this.tileID=function(_){let x=1/0,E=1/0,P=-1/0,D=-1/0;for(const ee of _)x=Math.min(x,ee.x),E=Math.min(E,ee.y),P=Math.max(P,ee.x),D=Math.max(D,ee.y);const L=Math.max(P-x,D-E),q=Math.max(0,Math.floor(-Math.log(L)/Math.LN2)),H=Math.pow(2,q);return new a.CanonicalTileID(q,Math.floor((x+P)/2*H),Math.floor((E+D)/2*H))}(h),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0}_prepareData(c){for(const L in this.tiles){const q=this.tiles[L];q.state!=="loaded"&&(q.state="loaded",q.texture=this.texture)}if(this._boundsArray)return;const h=a.tileTransform(this.tileID,this.map.transform.projection),[_,x,E,P]=this.coordinates.map(L=>{const q=h.projection.project(L[0],L[1]);return a.getTilePoint(h,q)._round()});this.perspectiveTransform=function(L,q,H,ee,de,fe,ye,ge,be,te){const pe=vn(0,0,L,0,0,q,L,q),Te=vn(H,ee,de,fe,ye,ge,be,te);return a.multiply$1(Te,a.adjoint(pe,pe),Te),[Te[6]/Te[8]*L/a.EXTENT,Te[7]/Te[8]*q/a.EXTENT]}(this.width,this.height,_.x,_.y,x.x,x.y,P.x,P.y,E.x,E.y);const D=this._boundsArray=new a.StructArrayLayout4i8;D.emplaceBack(_.x,_.y,0,0),D.emplaceBack(x.x,x.y,a.EXTENT,0),D.emplaceBack(P.x,P.y,0,a.EXTENT),D.emplaceBack(E.x,E.y,a.EXTENT,a.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=c.createVertexBuffer(D,a.boundsAttributes.members),this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const c=this.map.painter.context,h=c.gl;this._dirty&&(this.texture?this.texture.update(this.image):(this.texture=new a.Texture(c,this.image,h.RGBA),this.texture.bind(h.LINEAR,h.CLAMP_TO_EDGE)),this._dirty=!1),this._prepareData(c)}loadTile(c,h){this.tileID&&this.tileID.equals(c.tileID.canonical)?(this.tiles[String(c.tileID.wrap)]=c,c.buckets={},h(null)):(c.state="errored",h(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const Rn={vector:xt,raster:kt,"raster-dem":class extends kt{constructor(m,c,h,_){super(m,c,h,_),this.type="raster-dem",this.maxzoom=22,this._options=a.extend({type:"raster-dem"},c),this.encoding=c.encoding||"mapbox"}loadTile(m,c){const h=this.map._requestManager.normalizeTileURL(m.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function _(x,E){x&&(m.state="errored",c(x)),E&&(m.dem=E,m.dem.onDeserialize(),m.needsHillshadePrepare=!0,m.needsDEMTextureUpload=!0,m.state="loaded",c(null))}m.request=a.getImage(this.map._requestManager.transformRequest(h,a.ResourceType.Tile),function(x,E,P,D){if(delete m.request,m.aborted)m.state="unloaded",c(null);else if(x)m.state="errored",c(x);else if(E){this.map._refreshExpiredTiles&&m.setExpiryData({cacheControl:P,expires:D});const L=a.window.ImageBitmap&&E instanceof a.window.ImageBitmap&&(bn==null&&(bn=a.window.OffscreenCanvas&&new a.window.OffscreenCanvas(1,1).getContext("2d")&&typeof a.window.createImageBitmap=="function"),bn),q=1-(E.width-a.prevPowerOfTwo(E.width))/2;q<1||m.neighboringTiles||(m.neighboringTiles=this._getNeighboringTiles(m.tileID));const H=L?E:a.exported.getImageData(E,q),ee={uid:m.uid,coord:m.tileID,source:this.id,rawImageData:H,encoding:this.encoding,padding:q};m.actor&&m.state!=="expired"||(m.actor=this.dispatcher.getActor(),m.actor.send("loadDEMTile",ee,_.bind(this),void 0,!0))}}.bind(this))}_getNeighboringTiles(m){const c=m.canonical,h=Math.pow(2,c.z),_=(c.x-1+h)%h,x=c.x===0?m.wrap-1:m.wrap,E=(c.x+1+h)%h,P=c.x+1===h?m.wrap+1:m.wrap,D={};return D[new a.OverscaledTileID(m.overscaledZ,x,c.z,_,c.y).key]={backfilled:!1},D[new a.OverscaledTileID(m.overscaledZ,P,c.z,E,c.y).key]={backfilled:!1},c.y>0&&(D[new a.OverscaledTileID(m.overscaledZ,x,c.z,_,c.y-1).key]={backfilled:!1},D[new a.OverscaledTileID(m.overscaledZ,m.wrap,c.z,c.x,c.y-1).key]={backfilled:!1},D[new a.OverscaledTileID(m.overscaledZ,P,c.z,E,c.y-1).key]={backfilled:!1}),c.y+1<h&&(D[new a.OverscaledTileID(m.overscaledZ,x,c.z,_,c.y+1).key]={backfilled:!1},D[new a.OverscaledTileID(m.overscaledZ,m.wrap,c.z,c.x,c.y+1).key]={backfilled:!1},D[new a.OverscaledTileID(m.overscaledZ,P,c.z,E,c.y+1).key]={backfilled:!1}),D}unloadTile(m){m.demTexture&&this.map.painter.saveTileTexture(m.demTexture),m.fbo&&(m.fbo.destroy(),delete m.fbo),m.dem&&delete m.dem,delete m.neighboringTiles,m.state="unloaded"}},geojson:class extends a.Evented{constructor(m,c,h,_){super(),this.id=m,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=h.getActor(),this.setEventedParent(_),this._data=c.data,this._options=a.extend({},c),this._collectResourceTiming=c.collectResourceTiming,c.maxzoom!==void 0&&(this.maxzoom=c.maxzoom),c.type&&(this.type=c.type),c.attribution&&(this.attribution=c.attribution),this.promoteId=c.promoteId;const x=a.EXTENT/this.tileSize;this.workerOptions=a.extend({source:this.id,cluster:c.cluster||!1,geojsonVtOptions:{buffer:(c.buffer!==void 0?c.buffer:128)*x,tolerance:(c.tolerance!==void 0?c.tolerance:.375)*x,extent:a.EXTENT,maxZoom:this.maxzoom,lineMetrics:c.lineMetrics||!1,generateId:c.generateId||!1},superclusterOptions:{maxZoom:c.clusterMaxZoom!==void 0?c.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,c.clusterMinPoints||2),extent:a.EXTENT,radius:(c.clusterRadius!==void 0?c.clusterRadius:50)*x,log:!1,generateId:c.generateId||!1},clusterProperties:c.clusterProperties,filter:c.filter},c.workerOptions)}onAdd(m){this.map=m,this.setData(this._data)}setData(m){return this._data=m,this._updateWorkerData(),this}getClusterExpansionZoom(m,c){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:m,source:this.id},c),this}getClusterChildren(m,c){return this.actor.send("geojson.getClusterChildren",{clusterId:m,source:this.id},c),this}getClusterLeaves(m,c,h,_){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:m,limit:c,offset:h},_),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new a.Event("dataloading",{dataType:"source"})),this._loaded=!1;const m=a.extend({},this.workerOptions),c=this._data;typeof c=="string"?(m.request=this.map._requestManager.transformRequest(a.exported.resolveURL(c),a.ResourceType.Source),m.request.collectResourceTiming=this._collectResourceTiming):m.data=JSON.stringify(c),this._pendingLoad=this.actor.send(`${this.type}.loadData`,m,(h,_)=>{if(this._loaded=!0,this._pendingLoad=null,h)this.fire(new a.ErrorEvent(h));else{const x={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&_&&_.resourceTiming&&_.resourceTiming[this.id]&&(x.resourceTiming=_.resourceTiming[this.id]),this.fire(new a.Event("data",x)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(m,c){const h=m.actor?"reloadTile":"loadTile";m.actor=this.actor,m.request=this.actor.send(h,{type:this.type,uid:m.uid,tileID:m.tileID,tileZoom:m.tileZoom,zoom:m.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:a.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(_,x)=>(delete m.request,m.unloadVectorData(),m.aborted?c(null):_?c(_):(m.loadVectorData(x,this.map.painter,h==="reloadTile"),c(null))),void 0,h==="loadTile")}abortTile(m){m.request&&(m.request.cancel(),delete m.request),m.aborted=!0}unloadTile(m){m.unloadVectorData(),this.actor.send("removeTile",{uid:m.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return a.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends Nn{constructor(m,c,h,_){super(m,c,h,_),this.roundZoom=!0,this.type="video",this.options=c}load(){this._loaded=!1;const m=this.options;this.urls=[];for(const c of m.urls)this.urls.push(this.map._requestManager.transformRequest(c,a.ResourceType.Source).url);a.getVideo(this.urls,(c,h)=>{this._loaded=!0,c?this.fire(new a.ErrorEvent(c)):h&&(this.video=h,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(m){if(this.video){const c=this.video.seekable;m<c.start(0)||m>c.end(0)?this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${c.start(0)} and ${c.end(0)}-second mark.`))):this.video.currentTime=m}}getVideo(){return this.video}onAdd(m){this.map||(this.map=m,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const m=this.map.painter.context,c=m.gl;this.texture?this.video.paused||(this.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE),c.texSubImage2D(c.TEXTURE_2D,0,0,0,c.RGBA,c.UNSIGNED_BYTE,this.video)):(this.texture=new a.Texture(m,this.video,c.RGBA),this.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(m)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:Nn,canvas:class extends Nn{constructor(m,c,h,_){super(m,c,h,_),c.coordinates?Array.isArray(c.coordinates)&&c.coordinates.length===4&&!c.coordinates.some(x=>!Array.isArray(x)||x.length!==2||x.some(E=>typeof E!="number"))||this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${m}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${m}`,null,'missing required property "coordinates"'))),c.animate&&typeof c.animate!="boolean"&&this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${m}`,null,'optional "animate" property must be a boolean value'))),c.canvas?typeof c.canvas=="string"||c.canvas instanceof a.window.HTMLCanvasElement||this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${m}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${m}`,null,'missing required property "canvas"'))),this.options=c,this.animate=c.animate===void 0||c.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof a.window.HTMLCanvasElement?this.options.canvas:a.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(m){this.map=m,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let m=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,m=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,m=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const c=this.map.painter.context;this.texture?(m||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new a.Texture(c,this.canvas,c.gl.RGBA,{premultiply:!0}),this._prepareData(c)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const m of[this.canvas.width,this.canvas.height])if(isNaN(m)||m<=0)return!0;return!1}},custom:class extends a.Evented{constructor(m,c,h,_){super(),this.id=m,this.type="custom",this._dataType="raster",this._dispatcher=h,this._implementation=c,this.setEventedParent(_),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new a.ErrorEvent(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new a.ErrorEvent(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new Dt(this._implementation.bounds,this.minzoom,this.maxzoom)),c.update=this._update.bind(this),c.clearTiles=this._clearTiles.bind(this),c.coveringTiles=this._coveringTiles.bind(this),a.extend(this,a.pick(c,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return a.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(m){this._map=m,this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(m),this.load()}onRemove(m){this._implementation.onRemove&&this._implementation.onRemove(m)}hasTile(m){if(this._implementation.hasTile){const{x:c,y:h,z:_}=m.canonical;return this._implementation.hasTile({x:c,y:h,z:_})}return!this.tileBounds||this.tileBounds.contains(m.canonical)}loadTile(m,c){const{x:h,y:_,z:x}=m.tileID.canonical,E=new a.window.AbortController;m.request=Promise.resolve(this._implementation.loadTile({x:h,y:_,z:x},{signal:E.signal})).then(function(P){return delete m.request,m.aborted?(m.state="unloaded",c(null)):P===void 0?(m.state="errored",c(null)):P===null?(this.loadTileData(m,{width:this.tileSize,height:this.tileSize,data:null}),m.state="loaded",c(null)):function(D){return D instanceof a.window.ImageData||D instanceof a.window.HTMLCanvasElement||D instanceof a.window.ImageBitmap||D instanceof a.window.HTMLImageElement}(P)?(this.loadTileData(m,P),m.state="loaded",void c(null)):(m.state="errored",c(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}.bind(this)).catch(P=>{P.code!==20&&(m.state="errored",c(P))}),m.request.cancel=()=>E.abort()}loadTileData(m,c){kt.loadTileData(m,c,this._map.painter)}unloadTileData(m){kt.unloadTileData(m,this._map.painter)}unloadTile(m,c){if(this.unloadTileData(m),this._implementation.unloadTile){const{x:h,y:_,z:x}=m.tileID.canonical;this._implementation.unloadTile({x:h,y:_,z:x})}c()}abortTile(m,c){m.request&&m.request.cancel&&(m.request.cancel(),delete m.request),c()}hasTransition(){return!1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(m=>({x:m.canonical.x,y:m.canonical.y,z:m.canonical.z}))}_clearTiles(){this._map.style._clearSource(this.id)}_update(){this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"}))}}},$n=function(m,c,h,_){const x=new Rn[c.type](m,c,h,_);if(x.id!==m)throw new Error(`Expected Source id to be ${m} instead of ${x.id}`);return a.bindAll(["load","abort","unload","serialize","prepare"],x),x};function Xn(m,c){const h=a.identity([]);return a.scale(h,h,[.5*m.width,.5*-m.height,1]),a.translate(h,h,[1,-1,0]),a.multiply(h,h,m.calculateProjMatrix(c.toUnwrapped())),Float32Array.from(h)}function wr(m,c,h,_,x,E,P,D=!1){const L=m.tilesIn(_,P,D);L.sort(Rr);const q=[];for(const ee of L)q.push({wrappedTileID:ee.tile.tileID.wrapped().key,queryResults:ee.tile.queryRenderedFeatures(c,h,m._state,ee,x,E,Xn(m.transform,ee.tile.tileID),D)});const H=function(ee){const de={},fe={};for(const ye of ee){const ge=ye.queryResults,be=ye.wrappedTileID,te=fe[be]=fe[be]||{};for(const pe in ge){const Te=ge[pe],Ie=te[pe]=te[pe]||{},Ze=de[pe]=de[pe]||[];for(const Ke of Te)Ie[Ke.featureIndex]||(Ie[Ke.featureIndex]=!0,Ze.push(Ke))}}return de}(q);for(const ee in H)H[ee].forEach(de=>{const fe=de.feature,ye=fe.layer;ye&&ye.type!=="background"&&ye.type!=="sky"&&(fe.source=ye.source,ye["source-layer"]&&(fe.sourceLayer=ye["source-layer"]),fe.state=fe.id!==void 0?m.getFeatureState(ye["source-layer"],fe.id):{})});return H}function Er(m,c){const h=m.getRenderableIds().map(E=>m.getTileByID(E)),_=[],x={};for(let E=0;E<h.length;E++){const P=h[E],D=P.tileID.canonical.key;x[D]||(x[D]=!0,P.querySourceFeatures(_,c))}return _}function Rr(m,c){const h=m.tileID,_=c.tileID;return h.overscaledZ-_.overscaledZ||h.canonical.y-_.canonical.y||h.wrap-_.wrap||h.canonical.x-_.canonical.x}function tt(){return _d.workerClass!=null?new _d.workerClass:new a.window.Worker(_d.workerUrl)}const Ce="mapboxgl_preloaded_worker_pool";class ft{constructor(){this.active={}}acquire(c){if(!this.workers)for(this.workers=[];this.workers.length<ft.workerCount;)this.workers.push(new tt);return this.active[c]=!0,this.workers.slice()}release(c){delete this.active[c],this.numActive()===0&&(this.workers.forEach(h=>{h.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Ce]}numActive(){return Object.keys(this.active).length}}let Ut;function pn(){return Ut||(Ut=new ft),Ut}function fr(m,c){const h={};for(const _ in m)_!=="ref"&&(h[_]=m[_]);return a.refProperties.forEach(_=>{_ in c&&(h[_]=c[_])}),h}function Mr(m){m=m.slice();const c=Object.create(null);for(let h=0;h<m.length;h++)c[m[h].id]=m[h];for(let h=0;h<m.length;h++)"ref"in m[h]&&(m[h]=fr(m[h],c[m[h].ref]));return m}ft.workerCount=2;const Hn={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function Do(m,c,h){h.push({command:Hn.addSource,args:[m,c[m]]})}function _o(m,c,h){c.push({command:Hn.removeSource,args:[m]}),h[m]=!0}function yo(m,c,h,_){_o(m,h,_),Do(m,c,h)}function ra(m,c,h){let _;for(_ in m[h])if(m[h].hasOwnProperty(_)&&_!=="data"&&!y(m[h][_],c[h][_]))return!1;for(_ in c[h])if(c[h].hasOwnProperty(_)&&_!=="data"&&!y(m[h][_],c[h][_]))return!1;return!0}function $i(m,c,h,_,x,E){let P;for(P in c=c||{},m=m||{})m.hasOwnProperty(P)&&(y(m[P],c[P])||h.push({command:E,args:[_,P,c[P],x]}));for(P in c)c.hasOwnProperty(P)&&!m.hasOwnProperty(P)&&(y(m[P],c[P])||h.push({command:E,args:[_,P,c[P],x]}))}function Ui(m){return m.id}function vo(m,c){return m[c.id]=c,m}class Vi{constructor(c,h){this.reset(c,h)}reset(c,h){this.points=c||[],this._distances=[0];for(let _=1;_<this.points.length;_++)this._distances[_]=this._distances[_-1]+this.points[_].dist(this.points[_-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(h||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(c){if(this.points.length===1)return this.points[0];c=a.clamp(c,0,1);let h=1,_=this._distances[h];const x=c*this.paddedLength+this.padding;for(;_<x&&h<this._distances.length;)_=this._distances[++h];const E=h-1,P=this._distances[E],D=_-P,L=D>0?(x-P)/D:0;return this.points[E].mult(1-L).add(this.points[h].mult(L))}}class Ba{constructor(c,h,_){const x=this.boxCells=[],E=this.circleCells=[];this.xCellCount=Math.ceil(c/_),this.yCellCount=Math.ceil(h/_);for(let P=0;P<this.xCellCount*this.yCellCount;P++)x.push([]),E.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=c,this.height=h,this.xScale=this.xCellCount/c,this.yScale=this.yCellCount/h,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(c,h,_,x,E){this._forEachCell(h,_,x,E,this._insertBoxCell,this.boxUid++),this.boxKeys.push(c),this.bboxes.push(h),this.bboxes.push(_),this.bboxes.push(x),this.bboxes.push(E)}insertCircle(c,h,_,x){this._forEachCell(h-x,_-x,h+x,_+x,this._insertCircleCell,this.circleUid++),this.circleKeys.push(c),this.circles.push(h),this.circles.push(_),this.circles.push(x)}_insertBoxCell(c,h,_,x,E,P){this.boxCells[E].push(P)}_insertCircleCell(c,h,_,x,E,P){this.circleCells[E].push(P)}_query(c,h,_,x,E,P){if(_<0||c>this.width||x<0||h>this.height)return!E&&[];const D=[];if(c<=0&&h<=0&&this.width<=_&&this.height<=x){if(E)return!0;for(let L=0;L<this.boxKeys.length;L++)D.push({key:this.boxKeys[L],x1:this.bboxes[4*L],y1:this.bboxes[4*L+1],x2:this.bboxes[4*L+2],y2:this.bboxes[4*L+3]});for(let L=0;L<this.circleKeys.length;L++){const q=this.circles[3*L],H=this.circles[3*L+1],ee=this.circles[3*L+2];D.push({key:this.circleKeys[L],x1:q-ee,y1:H-ee,x2:q+ee,y2:H+ee})}return P?D.filter(P):D}return this._forEachCell(c,h,_,x,this._queryCell,D,{hitTest:E,seenUids:{box:{},circle:{}}},P),E?D.length>0:D}_queryCircle(c,h,_,x,E){const P=c-_,D=c+_,L=h-_,q=h+_;if(D<0||P>this.width||q<0||L>this.height)return!x&&[];const H=[];return this._forEachCell(P,L,D,q,this._queryCellCircle,H,{hitTest:x,circle:{x:c,y:h,radius:_},seenUids:{box:{},circle:{}}},E),x?H.length>0:H}query(c,h,_,x,E){return this._query(c,h,_,x,!1,E)}hitTest(c,h,_,x,E){return this._query(c,h,_,x,!0,E)}hitTestCircle(c,h,_,x){return this._queryCircle(c,h,_,!0,x)}_queryCell(c,h,_,x,E,P,D,L){const q=D.seenUids,H=this.boxCells[E];if(H!==null){const de=this.bboxes;for(const fe of H)if(!q.box[fe]){q.box[fe]=!0;const ye=4*fe;if(c<=de[ye+2]&&h<=de[ye+3]&&_>=de[ye+0]&&x>=de[ye+1]&&(!L||L(this.boxKeys[fe]))){if(D.hitTest)return P.push(!0),!0;P.push({key:this.boxKeys[fe],x1:de[ye],y1:de[ye+1],x2:de[ye+2],y2:de[ye+3]})}}}const ee=this.circleCells[E];if(ee!==null){const de=this.circles;for(const fe of ee)if(!q.circle[fe]){q.circle[fe]=!0;const ye=3*fe;if(this._circleAndRectCollide(de[ye],de[ye+1],de[ye+2],c,h,_,x)&&(!L||L(this.circleKeys[fe]))){if(D.hitTest)return P.push(!0),!0;{const ge=de[ye],be=de[ye+1],te=de[ye+2];P.push({key:this.circleKeys[fe],x1:ge-te,y1:be-te,x2:ge+te,y2:be+te})}}}}}_queryCellCircle(c,h,_,x,E,P,D,L){const q=D.circle,H=D.seenUids,ee=this.boxCells[E];if(ee!==null){const fe=this.bboxes;for(const ye of ee)if(!H.box[ye]){H.box[ye]=!0;const ge=4*ye;if(this._circleAndRectCollide(q.x,q.y,q.radius,fe[ge+0],fe[ge+1],fe[ge+2],fe[ge+3])&&(!L||L(this.boxKeys[ye])))return P.push(!0),!0}}const de=this.circleCells[E];if(de!==null){const fe=this.circles;for(const ye of de)if(!H.circle[ye]){H.circle[ye]=!0;const ge=3*ye;if(this._circlesCollide(fe[ge],fe[ge+1],fe[ge+2],q.x,q.y,q.radius)&&(!L||L(this.circleKeys[ye])))return P.push(!0),!0}}}_forEachCell(c,h,_,x,E,P,D,L){const q=this._convertToXCellCoord(c),H=this._convertToYCellCoord(h),ee=this._convertToXCellCoord(_),de=this._convertToYCellCoord(x);for(let fe=q;fe<=ee;fe++)for(let ye=H;ye<=de;ye++)if(E.call(this,c,h,_,x,this.xCellCount*ye+fe,P,D,L))return}_convertToXCellCoord(c){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(c*this.xScale)))}_convertToYCellCoord(c){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(c*this.yScale)))}_circlesCollide(c,h,_,x,E,P){const D=x-c,L=E-h,q=_+P;return q*q>D*D+L*L}_circleAndRectCollide(c,h,_,x,E,P,D){const L=(P-x)/2,q=Math.abs(c-(x+L));if(q>L+_)return!1;const H=(D-E)/2,ee=Math.abs(h-(E+H));if(ee>H+_)return!1;if(q<=L||ee<=H)return!0;const de=q-L,fe=ee-H;return de*de+fe*fe<=_*_}}const ja={unknown:0,flipRequired:1,flipNotRequired:2},Il=Math.tan(85*Math.PI/180);function Pt(m,c,h,_,x,E,P){const D=a.create();if(h)if(E.name==="globe"){const L=a.calculateGlobeLabelMatrix(x,c);a.multiply(D,D,L)}else{const L=le([],P);D[0]=L[0],D[1]=L[1],D[4]=L[2],D[5]=L[3],_||a.rotateZ(D,D,x.angle)}else a.multiply(D,x.labelPlaneMatrix,m);return D}function fa(m,c,h,_,x,E,P){const D=Pt(m,c,h,_,x,E,P);return E.name==="globe"&&h||(D[2]=D[6]=D[10]=D[14]=0),D}function ni(m,c,h,_,x,E,P){if(h){if(E.name==="globe"){const D=Pt(m,c,h,_,x,E,P);return a.invert(D,D),a.multiply(D,m,D),D}{const D=a.clone(m),L=a.identity([]);return L[0]=P[0],L[1]=P[1],L[4]=P[2],L[5]=P[3],a.multiply(D,D,L),_||a.rotateZ(D,D,-x.angle),D}}return x.glCoordMatrix}function Gi(m,c,h,_){const x=[m,c,h,1];h?a.transformMat4$1(x,x,_):gr(x,x,_);const E=x[3];return x[0]/=E,x[1]/=E,x[2]/=E,x}function Ro(m,c){return Math.min(.5+m/c*.5,1.5)}function Oo(m,c){const h=m[0]/m[3],_=m[1]/m[3];return h>=-c[0]&&h<=c[0]&&_>=-c[1]&&_<=c[1]}function mc(m,c,h,_,x,E,P,D,L,q){const H=h.transform,ee=_?m.textSizeData:m.iconSizeData,de=a.evaluateSizeForZoom(ee,h.transform.zoom),fe=H.projection.name==="globe",ye=[256/h.width*2+1,256/h.height*2+1],ge=_?m.text.dynamicLayoutVertexArray:m.icon.dynamicLayoutVertexArray;ge.clear();let be=null;fe&&(be=_?m.text.globeExtVertexArray:m.icon.globeExtVertexArray);const te=m.lineVertexArray,pe=_?m.text.placedSymbolArray:m.icon.placedSymbolArray,Te=h.transform.width/h.transform.height;let Ie,Ze=!1;for(let Ke=0;Ke<pe.length;Ke++){const Xe=pe.get(Ke),{numGlyphs:at,writingMode:it}=Xe;if(it!==a.WritingMode.vertical||Ze||Ie===a.WritingMode.horizontal||(Ze=!0),Ie=it,(Xe.hidden||it===a.WritingMode.vertical)&&!Ze){$a(at,ge);continue}Ze=!1;const gt=new a.Point(Xe.tileAnchorX,Xe.tileAnchorY);let{x:Kt,y:dt,z:Ft}=H.projection.projectTilePoint(gt.x,gt.y,q.canonical);if(L){const[nr,kn,Zn]=L(gt);Kt+=nr,dt+=kn,Ft+=Zn}const wt=[Kt,dt,Ft,1];if(a.transformMat4$1(wt,wt,c),!Oo(wt,ye)){$a(at,ge);continue}const Xt=Ro(h.transform.cameraToCenterDistance,wt[3]),mt=a.evaluateSizeForFeature(ee,de,Xe),zt=P?mt/Xt:mt*Xt,Jt=Gi(Kt,dt,Ft,x);if(Jt[3]<=0){$a(at,ge);continue}let Wt={};const tn=P?null:L,Un=fn(Xe,zt,!1,D,c,x,E,m.glyphOffsetArray,te,ge,be,Jt,gt,Wt,Te,tn,H.projection,q,P);Ze=Un.useVertical,tn&&Un.needsFlipping&&(Wt={}),(Un.notEnoughRoom||Ze||Un.needsFlipping&&fn(Xe,zt,!0,D,c,x,E,m.glyphOffsetArray,te,ge,be,Jt,gt,Wt,Te,tn,H.projection,q,P).notEnoughRoom)&&$a(at,ge)}_?(m.text.dynamicLayoutVertexBuffer.updateData(ge),be&&m.text.globeExtVertexBuffer.updateData(be)):(m.icon.dynamicLayoutVertexBuffer.updateData(ge),be&&m.icon.globeExtVertexBuffer.updateData(be))}function Gp(m,c,h,_,x,E,P,D,L,q,H,ee,de,fe,ye,ge){const{lineStartIndex:be,glyphStartIndex:te,segment:pe}=D,Te=te+D.numGlyphs,Ie=be+D.lineLength,Ze=c.getoffsetX(te),Ke=c.getoffsetX(Te-1),Xe=Vo(m*Ze,h,_,x,E,P,pe,be,Ie,L,q,H,ee,de,!0,fe,ye,ge);if(!Xe)return null;const at=Vo(m*Ke,h,_,x,E,P,pe,be,Ie,L,q,H,ee,de,!0,fe,ye,ge);return at?{first:Xe,last:at}:null}function gc(m,c,h,_){return m===a.WritingMode.horizontal&&Math.abs(_)>Math.abs(h)?{useVertical:!0}:m===a.WritingMode.vertical?_>0?{needsFlipping:!0}:null:c!==ja.unknown&&function(x,E){return x===0||Math.abs(E/x)>Il}(h,_)?c===ja.flipRequired?{needsFlipping:!0}:null:h<0?{needsFlipping:!0}:null}function fn(m,c,h,_,x,E,P,D,L,q,H,ee,de,fe,ye,ge,be,te,pe){const Te=c/24,Ie=m.lineOffsetX*Te,Ze=m.lineOffsetY*Te,{lineStartIndex:Ke,glyphStartIndex:Xe,numGlyphs:at,segment:it,writingMode:gt,flipState:Kt}=m,dt=Ke+m.lineLength,Ft=wt=>{if(H){const[Jt,Wt,tn]=wt.up,Un=q.length;a.updateGlobeVertexNormal(H,Un+0,Jt,Wt,tn),a.updateGlobeVertexNormal(H,Un+1,Jt,Wt,tn),a.updateGlobeVertexNormal(H,Un+2,Jt,Wt,tn),a.updateGlobeVertexNormal(H,Un+3,Jt,Wt,tn)}const[Xt,mt,zt]=wt.point;a.addDynamicAttributes(q,Xt,mt,zt,wt.angle)};if(at>1){const wt=Gp(Te,D,Ie,Ze,h,ee,de,m,L,E,fe,ge,!1,be,te,pe);if(!wt)return{notEnoughRoom:!0};if(_&&!h){let[Xt,mt,zt]=wt.first.point,[Jt,Wt,tn]=wt.last.point;[Xt,mt]=Gi(Xt,mt,zt,P),[Jt,Wt]=Gi(Jt,Wt,tn,P);const Un=gc(gt,Kt,(Jt-Xt)*ye,Wt-mt);if(m.flipState=Un&&Un.needsFlipping?ja.flipRequired:ja.flipNotRequired,Un)return Un}Ft(wt.first);for(let Xt=Xe+1;Xt<Xe+at-1;Xt++){const mt=Vo(Te*D.getoffsetX(Xt),Ie,Ze,h,ee,de,it,Ke,dt,L,E,fe,ge,!1,!1,be,te,pe);if(!mt)return q.length-=4*(Xt-Xe),{notEnoughRoom:!0};Ft(mt)}Ft(wt.last)}else{if(_&&!h){const Xt=Gi(de.x,de.y,0,x),mt=Ke+it+1,zt=new a.Point(L.getx(mt),L.gety(mt)),Jt=Gi(zt.x,zt.y,0,x),Wt=Jt[3]>0?Jt:ur(de,zt,Xt,1,x,void 0,be,te.canonical),tn=gc(gt,Kt,(Wt[0]-Xt[0])*ye,Wt[1]-Xt[1]);if(m.flipState=tn&&tn.needsFlipping?ja.flipRequired:ja.flipNotRequired,tn)return tn}const wt=Vo(Te*D.getoffsetX(Xe),Ie,Ze,h,ee,de,it,Ke,dt,L,E,fe,ge,!1,!1,be,te,pe);if(!wt)return{notEnoughRoom:!0};Ft(wt)}return{}}function vr(m,c,h,_,x){const{x:E,y:P,z:D}=_.projectTilePoint(m.x,m.y,c);if(!x)return Gi(E,P,D,h);const[L,q,H]=x(m);return Gi(E+L,P+q,D+H,h)}function ur(m,c,h,_,x,E,P,D){const L=vr(m.sub(c)._unit()._add(m),D,x,P,E);return a.sub(L,h,L),a.normalize(L,L),a.scaleAndAdd(L,h,L,_)}function Vo(m,c,h,_,x,E,P,D,L,q,H,ee,de,fe,ye,ge,be,te){const pe=_?m-c:m+c;let Te=pe>0?1:-1,Ie=0;_&&(Te*=-1,Ie=Math.PI),Te<0&&(Ie+=Math.PI);let Ze=D+P+(Te>0?0:1)|0,Ke=x,Xe=x,at=0,it=0;const gt=Math.abs(pe),Kt=[],dt=[];let Ft=E,wt=Ft;const Xt=()=>ur(wt,Ft,Xe,gt-at+1,H,de,ge,be.canonical);for(;at+it<=gt;){if(Ze+=Te,Ze<D||Ze>=L)return null;if(Xe=Ke,wt=Ft,Kt.push(Xe),fe&&dt.push(wt),Ft=new a.Point(q.getx(Ze),q.gety(Ze)),Ke=ee[Ze],!Ke){const Zn=vr(Ft,be.canonical,H,ge,de);Ke=Zn[3]>0?ee[Ze]=Zn:Xt()}at+=it,it=a.distance(Xe,Ke)}ye&&de&&(ee[Ze]&&(Ke=Xt(),it=a.distance(Xe,Ke)),ee[Ze]=Ke);const mt=(gt-at)/it,zt=Ft.sub(wt)._mult(mt)._add(wt),Jt=a.sub([],Ke,Xe),Wt=a.scaleAndAdd([],Xe,Jt,mt);let tn=[0,0,1],Un=Jt[0],nr=Jt[1];if(te&&(tn=ge.upVector(be.canonical,zt.x,zt.y),tn[0]!==0||tn[1]!==0||tn[2]!==1)){const Zn=[tn[2],0,-tn[0]],Tr=a.cross([],tn,Zn);a.normalize(Zn,Zn),a.normalize(Tr,Tr),Un=a.dot(Jt,Zn),nr=a.dot(Jt,Tr)}if(h){const Zn=a.cross([],tn,Jt);a.normalize(Zn,Zn),a.scaleAndAdd(Wt,Wt,Zn,h*Te)}const kn=Ie+Math.atan2(nr,Un);return Kt.push(Wt),fe&&dt.push(zt),{point:Wt,angle:kn,path:Kt,tilePath:dt,up:tn}}function $a(m,c){const h=c.length,_=h+4*m;c.resize(_),c.float32.fill(-1/0,4*h,4*_)}function gr(m,c,h){const _=c[0],x=c[1];return m[0]=h[0]*_+h[4]*x+h[12],m[1]=h[1]*_+h[5]*x+h[13],m[3]=h[3]*_+h[7]*x+h[15],m}const Ti=100;class _c{constructor(c,h,_=new Ba(c.width+200,c.height+200,25),x=new Ba(c.width+200,c.height+200,25)){this.transform=c,this.grid=_,this.ignoredGrid=x,this.pitchfactor=Math.cos(c._pitch)*c.cameraToCenterDistance,this.screenRightBoundary=c.width+Ti,this.screenBottomBoundary=c.height+Ti,this.gridRightBoundary=c.width+200,this.gridBottomBoundary=c.height+200,this.fogState=h}placeCollisionBox(c,h,_,x,E,P,D,L){let q=_.projectedAnchorX,H=_.projectedAnchorY,ee=_.projectedAnchorZ;const de=_.elevation,fe=_.tileID,ye=c.getProjection();if(de&&fe){const[Ke,Xe,at]=ye.upVector(fe.canonical,_.tileAnchorX,_.tileAnchorY),it=ye.upVectorScale(fe.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;q+=Ke*de*it,H+=Xe*de*it,ee+=at*de*it}const ge=this.projectAndGetPerspectiveRatio(D,q,H,ee,_.tileID,ye.name==="globe"||!!de||this.transform.pitch>0,ye),be=P*ge.perspectiveRatio,te=(_.x1*h+x.x-_.padding)*be+ge.point.x,pe=(_.y1*h+x.y-_.padding)*be+ge.point.y,Te=(_.x2*h+x.x+_.padding)*be+ge.point.x,Ie=(_.y2*h+x.y+_.padding)*be+ge.point.y,Ze=ge.perspectiveRatio<=.55||ge.occluded;return!this.isInsideGrid(te,pe,Te,Ie)||!E&&this.grid.hitTest(te,pe,Te,Ie,L)||Ze?{box:[],offscreen:!1,occluded:ge.occluded}:{box:[te,pe,Te,Ie],offscreen:this.isOffscreen(te,pe,Te,Ie),occluded:!1}}placeCollisionCircles(c,h,_,x,E,P,D,L,q,H,ee,de,fe,ye,ge){const be=[],te=this.transform.elevation,pe=c.getProjection(),Te=te?te.getAtTileOffsetFunc(ge,this.transform.center.lat,this.transform.worldSize,pe):null,Ie=new a.Point(_.tileAnchorX,_.tileAnchorY);let{x:Ze,y:Ke,z:Xe}=pe.projectTilePoint(Ie.x,Ie.y,ge.canonical);if(Te){const[zt,Jt,Wt]=Te(Ie);Ze+=zt,Ke+=Jt,Xe+=Wt}const at=pe.name==="globe",it=this.projectAndGetPerspectiveRatio(D,Ze,Ke,Xe,ge,at||!!te||this.transform.pitch>0,pe),{perspectiveRatio:gt}=it,Kt=(ee?P/gt:P*gt)/a.ONE_EM,dt=Gi(Ze,Ke,Xe,L),Ft=it.signedDistanceFromCamera>0?Gp(Kt,E,_.lineOffsetX*Kt,_.lineOffsetY*Kt,!1,dt,Ie,_,x,L,{},te&&!ee?Te:null,ee&&!!te,pe,ge,ee):null;let wt=!1,Xt=!1,mt=!0;if(Ft&&!it.occluded){const zt=.5*fe*gt+ye,Jt=new a.Point(-100,-100),Wt=new a.Point(this.screenRightBoundary,this.screenBottomBoundary),tn=new Vi,{first:Un,last:nr}=Ft,kn=Un.path.length;let Zn=[];for(let Ln=kn-1;Ln>=1;Ln--)Zn.push(Un.path[Ln]);for(let Ln=1;Ln<nr.path.length;Ln++)Zn.push(nr.path[Ln]);const Tr=2.5*zt;q&&(Zn=Zn.map(([Ln,jr,qr],Gr)=>(Te&&!at&&(qr=Te(Gr<kn-1?Un.tilePath[kn-1-Gr]:nr.tilePath[Gr-kn+2])[2]),Gi(Ln,jr,qr,q))),Zn.some(Ln=>Ln[3]<=0)&&(Zn=[]));let xr=[];if(Zn.length>0){let Ln=1/0,jr=-1/0,qr=1/0,Gr=-1/0;for(const Zr of Zn)Ln=Math.min(Ln,Zr[0]),qr=Math.min(qr,Zr[1]),jr=Math.max(jr,Zr[0]),Gr=Math.max(Gr,Zr[1]);jr>=Jt.x&&Ln<=Wt.x&&Gr>=Jt.y&&qr<=Wt.y&&(xr=[Zn.map(Zr=>new a.Point(Zr[0],Zr[1]))],(Ln<Jt.x||jr>Wt.x||qr<Jt.y||Gr>Wt.y)&&(xr=a.clipLine(xr,Jt.x,Jt.y,Wt.x,Wt.y)))}for(const Ln of xr){tn.reset(Ln,.25*zt);let jr=0;jr=tn.length<=.5*zt?1:Math.ceil(tn.paddedLength/Tr)+1;for(let qr=0;qr<jr;qr++){const Gr=qr/Math.max(jr-1,1),Zr=tn.lerp(Gr),Ko=Zr.x+Ti,To=Zr.y+Ti;be.push(Ko,To,zt,0);const is=Ko-zt,Qs=To-zt,Ei=Ko+zt,Xr=To+zt;if(mt=mt&&this.isOffscreen(is,Qs,Ei,Xr),Xt=Xt||this.isInsideGrid(is,Qs,Ei,Xr),!h&&this.grid.hitTestCircle(Ko,To,zt,de)&&(wt=!0,!H))return{circles:[],offscreen:!1,collisionDetected:wt,occluded:!1}}}}return{circles:!H&&wt||!Xt?[]:be,offscreen:mt,collisionDetected:wt,occluded:it.occluded}}queryRenderedSymbols(c){if(c.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const h=[];let _=1/0,x=1/0,E=-1/0,P=-1/0;for(const H of c){const ee=new a.Point(H.x+Ti,H.y+Ti);_=Math.min(_,ee.x),x=Math.min(x,ee.y),E=Math.max(E,ee.x),P=Math.max(P,ee.y),h.push(ee)}const D=this.grid.query(_,x,E,P).concat(this.ignoredGrid.query(_,x,E,P)),L={},q={};for(const H of D){const ee=H.key;if(L[ee.bucketInstanceId]===void 0&&(L[ee.bucketInstanceId]={}),L[ee.bucketInstanceId][ee.featureIndex])continue;const de=[new a.Point(H.x1,H.y1),new a.Point(H.x2,H.y1),new a.Point(H.x2,H.y2),new a.Point(H.x1,H.y2)];a.polygonIntersectsPolygon(h,de)&&(L[ee.bucketInstanceId][ee.featureIndex]=!0,q[ee.bucketInstanceId]===void 0&&(q[ee.bucketInstanceId]=[]),q[ee.bucketInstanceId].push(ee.featureIndex))}return q}insertCollisionBox(c,h,_,x,E){(h?this.ignoredGrid:this.grid).insert({bucketInstanceId:_,featureIndex:x,collisionGroupID:E},c[0],c[1],c[2],c[3])}insertCollisionCircles(c,h,_,x,E){const P=h?this.ignoredGrid:this.grid,D={bucketInstanceId:_,featureIndex:x,collisionGroupID:E};for(let L=0;L<c.length;L+=4)P.insertCircle(D,c[L],c[L+1],c[L+2])}projectAndGetPerspectiveRatio(c,h,_,x,E,P,D){const L=[h,_,x,1];let q=!1;x||this.transform.pitch>0?(a.transformMat4$1(L,L,c),this.fogState&&E&&D.name!=="globe"&&(q=function(de,fe,ye,ge,be,te){const pe=te.calculateFogTileMatrix(be),Te=[fe,ye,ge];return a.transformMat4(Te,Te,pe),Ye(de,Te,te.pitch,te._fov)}(this.fogState,h,_,x,E.toUnwrapped(),this.transform)>.9)):gr(L,L,c);const H=L[3];return{point:new a.Point((L[0]/H+1)/2*this.transform.width+Ti,(-L[1]/H+1)/2*this.transform.height+Ti),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(D)/H*.5,1.5),signedDistanceFromCamera:H,occluded:P&&L[2]>H||q}}isOffscreen(c,h,_,x){return _<Ti||c>=this.screenRightBoundary||x<Ti||h>this.screenBottomBoundary}isInsideGrid(c,h,_,x){return _>=0&&c<this.gridRightBoundary&&x>=0&&h<this.gridBottomBoundary}getViewportMatrix(){const c=a.identity([]);return a.translate(c,c,[-100,-100,0]),c}}function Ua(m,c,h){const _=c.createTileMatrix(m,m.worldSize,h.toUnwrapped());return a.multiply(new Float32Array(16),m.projMatrix,_)}function ma(m,c,h){if(c.projection.name===h.projection.name)return m.projMatrix;const _=h.clone();return _.setProjection(c.projection),Ua(_,c.getProjection(),m)}function di(m,c,h){return c.name===h.projection.name?m.projMatrix:Ua(h,c,m)}class Xs{constructor(c,h,_,x){this.opacity=c?Math.max(0,Math.min(1,c.opacity+(c.placed?h:-h))):x&&_?1:0,this.placed=_}isHidden(){return this.opacity===0&&!this.placed}}class Lo{constructor(c,h,_,x,E,P=!1){this.text=new Xs(c?c.text:null,h,_,E),this.icon=new Xs(c?c.icon:null,h,x,E),this.clipped=P}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Al{constructor(c,h,_,x=!1){this.text=c,this.icon=h,this.skipFade=_,this.clipped=x}}class cu{constructor(){this.invProjMatrix=a.create(),this.viewportMatrix=a.create(),this.circles=[]}}class Ml{constructor(c,h,_,x,E){this.bucketInstanceId=c,this.featureIndex=h,this.sourceLayerIndex=_,this.bucketIndex=x,this.tileID=E}}class Th{constructor(c){this.crossSourceCollisions=c,this.maxGroupID=0,this.collisionGroups={}}get(c){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[c]){const h=++this.maxGroupID;this.collisionGroups[c]={ID:h,predicate:_=>_.collisionGroupID===h}}return this.collisionGroups[c]}}function Dl(m,c,h,_,x){const{horizontalAlign:E,verticalAlign:P}=a.getAnchorAlignment(m),D=-(E-.5)*c,L=-(P-.5)*h,q=a.evaluateVariableOffset(m,_);return new a.Point(D+q[0]*x,L+q[1]*x)}function yc(m,c,h,_,x){const E=new a.Point(m,c);return h&&E._rotate(_?x:-x),E}class uu{constructor(c,h,_,x,E){this.transform=c.clone(),this.projection=c.projection.name,this.collisionIndex=new _c(this.transform,E),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=h,this.retainedQueryData={},this.collisionGroups=new Th(_),this.collisionCircleArrays={},this.prevPlacement=x,x&&(x.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(c,h,_,x){const E=_.getBucket(h),P=_.latestFeatureIndex;if(!E||!P||h.id!==E.layerIds[0])return;const D=E.layers[0].layout,L=_.collisionBoxArray,q=Math.pow(2,this.transform.zoom-_.tileID.overscaledZ),H=_.tileSize/a.EXTENT,ee=_.tileID.toUnwrapped();this.transform.setProjection(E.projection);const de=(fe=_.tileID,ye=E.getProjection(),ge=this.transform,ye.name===this.projection?ge.calculateProjMatrix(fe.toUnwrapped()):Ua(ge,ye,fe));var fe,ye,ge;const be=D.get("text-pitch-alignment")==="map",te=D.get("text-rotation-alignment")==="map";h.compileFilter();const pe=h.dynamicFilter(),Te=h.dynamicFilterNeedsFeature(),Ie=this.transform.calculatePixelsToTileUnitsMatrix(_),Ze=fa(de,_.tileID.canonical,be,te,this.transform,E.getProjection(),Ie);let Ke=null;if(be){const it=ni(de,_.tileID.canonical,be,te,this.transform,E.getProjection(),Ie);Ke=a.multiply([],this.transform.labelPlaneMatrix,it)}let Xe=null;pe&&_.latestFeatureIndex&&(Xe={unwrappedTileID:ee,dynamicFilter:pe,dynamicFilterNeedsFeature:Te,featureIndex:_.latestFeatureIndex}),this.retainedQueryData[E.bucketInstanceId]=new Ml(E.bucketInstanceId,P,E.sourceLayerIndex,E.index,_.tileID);const at={bucket:E,layout:D,posMatrix:de,textLabelPlaneMatrix:Ze,labelToScreenMatrix:Ke,clippingData:Xe,scale:q,textPixelRatio:H,holdingForFade:_.holdingForFade(),collisionBoxArray:L,partiallyEvaluatedTextSize:a.evaluateSizeForZoom(E.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:a.evaluateSizeForZoom(E.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(E.sourceID)};if(x)for(const it of E.sortKeyRanges){const{sortKey:gt,symbolInstanceStart:Kt,symbolInstanceEnd:dt}=it;c.push({sortKey:gt,symbolInstanceStart:Kt,symbolInstanceEnd:dt,parameters:at})}else c.push({symbolInstanceStart:0,symbolInstanceEnd:E.symbolInstances.length,parameters:at})}attemptAnchorPlacement(c,h,_,x,E,P,D,L,q,H,ee,de,fe,ye,ge,be,te,pe){const{textOffset0:Te,textOffset1:Ie,crossTileID:Ze}=de,Ke=[Te,Ie],Xe=Dl(c,_,x,Ke,E),at=this.collisionIndex.placeCollisionBox(ye,E,h,yc(Xe.x,Xe.y,P,D,this.transform.angle),ee,L,q,H.predicate);if(be){const it=ye.getSymbolInstanceIconSize(pe,this.transform.zoom,de.placedIconSymbolIndex);if(this.collisionIndex.placeCollisionBox(ye,it,be,yc(Xe.x,Xe.y,P,D,this.transform.angle),ee,L,q,H.predicate).box.length===0)return}if(at.box.length>0){let it;return this.prevPlacement&&this.prevPlacement.variableOffsets[Ze]&&this.prevPlacement.placements[Ze]&&this.prevPlacement.placements[Ze].text&&(it=this.prevPlacement.variableOffsets[Ze].anchor),this.variableOffsets[Ze]={textOffset:Ke,width:_,height:x,anchor:c,textScale:E,prevAnchor:it},this.markUsedJustification(ye,c,de,ge),ye.allowVerticalPlacement&&(this.markUsedOrientation(ye,ge,de),this.placedOrientations[Ze]=ge),{shift:Xe,placedGlyphBoxes:at}}}placeLayerBucketPart(c,h,_,x){const{bucket:E,layout:P,posMatrix:D,textLabelPlaneMatrix:L,labelToScreenMatrix:q,clippingData:H,textPixelRatio:ee,holdingForFade:de,collisionBoxArray:fe,partiallyEvaluatedTextSize:ye,partiallyEvaluatedIconSize:ge,collisionGroup:be}=c.parameters,te=P.get("text-optional"),pe=P.get("icon-optional"),Te=P.get("text-allow-overlap"),Ie=P.get("icon-allow-overlap"),Ze=P.get("text-rotation-alignment")==="map",Ke=P.get("text-pitch-alignment")==="map",Xe=P.get("icon-text-fit")!=="none",at=P.get("symbol-z-order")==="viewport-y";this.transform.setProjection(E.projection);let it=Te&&(Ie||!E.hasIconData()||pe),gt=Ie&&(Te||!E.hasTextData()||te);!E.collisionArrays&&fe&&E.deserializeCollisionBoxes(fe),_&&x&&E.updateCollisionDebugBuffers(this.transform.zoom,fe);const Kt=(dt,Ft,wt)=>{const{crossTileID:Xt,numVerticalGlyphVertices:mt}=dt;if(H){const Ei={zoom:this.transform.zoom,pitch:this.transform.pitch};let Xr=null;if(H.dynamicFilterNeedsFeature){const zr=this.retainedQueryData[E.bucketInstanceId];Xr=H.featureIndex.loadFeature({featureIndex:dt.featureIndex,bucketIndex:zr.bucketIndex,sourceLayerIndex:zr.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,H.dynamicFilter)(Ei,Xr,this.retainedQueryData[E.bucketInstanceId].tileID.canonical,new a.Point(dt.tileAnchorX,dt.tileAnchorY),this.transform.calculateDistanceTileData(H.unwrappedTileID)))return this.placements[Xt]=new Al(!1,!1,!1,!0),void h.add(Xt)}if(h.has(Xt))return;if(de)return void(this.placements[Xt]=new Al(!1,!1,!1));let zt=!1,Jt=!1,Wt=!0,tn=!1,Un=!1,nr=null,kn={box:null,offscreen:null,occluded:null},Zn={box:null,offscreen:null,occluded:null},Tr=null,xr=null,Ln=null,jr=0,qr=0,Gr=0;wt.textFeatureIndex?jr=wt.textFeatureIndex:dt.useRuntimeCollisionCircles&&(jr=dt.featureIndex),wt.verticalTextFeatureIndex&&(qr=wt.verticalTextFeatureIndex);const Zr=Ei=>{Ei.tileID=this.retainedQueryData[E.bucketInstanceId].tileID;const Xr=this.transform.elevation;(Xr||Ei.elevation)&&(Ei.elevation=Xr?Xr.getAtTileOffset(Ei.tileID,Ei.tileAnchorX,Ei.tileAnchorY):0)},Ko=wt.textBox;if(Ko){Zr(Ko);const Ei=zr=>{let Xi=a.WritingMode.horizontal;if(E.allowVerticalPlacement&&!zr&&this.prevPlacement){const la=this.prevPlacement.placedOrientations[Xt];la&&(this.placedOrientations[Xt]=la,Xi=la,this.markUsedOrientation(E,Xi,dt))}return Xi},Xr=(zr,Xi)=>{if(E.allowVerticalPlacement&&mt>0&&wt.verticalTextBox){for(const la of E.writingModes)if(la===a.WritingMode.vertical?(kn=Xi(),Zn=kn):kn=zr(),kn&&kn.box&&kn.box.length)break}else kn=zr()};if(P.get("text-variable-anchor")){let zr=P.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[Xt]){const gi=this.prevPlacement.variableOffsets[Xt];zr.indexOf(gi.anchor)>0&&(zr=zr.filter(xa=>xa!==gi.anchor),zr.unshift(gi.anchor))}const Xi=(gi,xa,uf)=>{const bu=E.getSymbolInstanceTextSize(ye,dt,this.transform.zoom,Ft),$h=(gi.x2-gi.x1)*bu+2*gi.padding,Fl=(gi.y2-gi.y1)*bu+2*gi.padding,Ic=Xe&&!Ie?xa:null;Ic&&Zr(Ic);let wu={box:[],offscreen:!1,occluded:!1};const df=Te?2*zr.length:zr.length;for(let Uh=0;Uh<df;++Uh){const z1=this.attemptAnchorPlacement(zr[Uh%zr.length],gi,$h,Fl,bu,Ze,Ke,ee,D,be,Uh>=zr.length,dt,Ft,E,uf,Ic,ye,ge);if(z1&&(wu=z1.placedGlyphBoxes,wu&&wu.box&&wu.box.length)){zt=!0,nr=z1.shift;break}}return wu};Xr(()=>Xi(Ko,wt.iconBox,a.WritingMode.horizontal),()=>{const gi=wt.verticalTextBox;return gi&&Zr(gi),E.allowVerticalPlacement&&!(kn&&kn.box&&kn.box.length)&&mt>0&&gi?Xi(gi,wt.verticalIconBox,a.WritingMode.vertical):{box:null,offscreen:null,occluded:null}}),kn&&(zt=kn.box,Wt=kn.offscreen,tn=kn.occluded);const la=Ei(!(!kn||!kn.box));if(!zt&&this.prevPlacement){const gi=this.prevPlacement.variableOffsets[Xt];gi&&(this.variableOffsets[Xt]=gi,this.markUsedJustification(E,gi.anchor,dt,la))}}else{const zr=(Xi,la)=>{const gi=E.getSymbolInstanceTextSize(ye,dt,this.transform.zoom,Ft),xa=this.collisionIndex.placeCollisionBox(E,gi,Xi,new a.Point(0,0),Te,ee,D,be.predicate);return xa&&xa.box&&xa.box.length&&(this.markUsedOrientation(E,la,dt),this.placedOrientations[Xt]=la),xa};Xr(()=>zr(Ko,a.WritingMode.horizontal),()=>{const Xi=wt.verticalTextBox;return E.allowVerticalPlacement&&mt>0&&Xi?(Zr(Xi),zr(Xi,a.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}}),Ei(!!(kn&&kn.box&&kn.box.length))}}if(Tr=kn,zt=Tr&&Tr.box&&Tr.box.length>0,Wt=Tr&&Tr.offscreen,tn=Tr&&Tr.occluded,dt.useRuntimeCollisionCircles){const Ei=E.text.placedSymbolArray.get(dt.centerJustifiedTextSymbolIndex>=0?dt.centerJustifiedTextSymbolIndex:dt.verticalPlacedTextSymbolIndex),Xr=a.evaluateSizeForFeature(E.textSizeData,ye,Ei),zr=P.get("text-padding");xr=this.collisionIndex.placeCollisionCircles(E,Te,Ei,E.lineVertexArray,E.glyphOffsetArray,Xr,D,L,q,_,Ke,be.predicate,dt.collisionCircleDiameter*Xr/a.ONE_EM,zr,this.retainedQueryData[E.bucketInstanceId].tileID),zt=Te||xr.circles.length>0&&!xr.collisionDetected,Wt=Wt&&xr.offscreen,tn=xr.occluded}if(wt.iconFeatureIndex&&(Gr=wt.iconFeatureIndex),wt.iconBox){const Ei=Xr=>{Zr(Xr);const zr=Xe&&nr?yc(nr.x,nr.y,Ze,Ke,this.transform.angle):new a.Point(0,0),Xi=E.getSymbolInstanceIconSize(ge,this.transform.zoom,dt.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(E,Xi,Xr,zr,Ie,ee,D,be.predicate)};Zn&&Zn.box&&Zn.box.length&&wt.verticalIconBox?(Ln=Ei(wt.verticalIconBox),Jt=Ln.box.length>0):(Ln=Ei(wt.iconBox),Jt=Ln.box.length>0),Wt=Wt&&Ln.offscreen,Un=Ln.occluded}const To=te||dt.numHorizontalGlyphVertices===0&&mt===0,is=pe||dt.numIconVertices===0;if(To||is?is?To||(Jt=Jt&&zt):zt=Jt&&zt:Jt=zt=Jt&&zt,zt&&Tr&&Tr.box&&this.collisionIndex.insertCollisionBox(Tr.box,P.get("text-ignore-placement"),E.bucketInstanceId,Zn&&Zn.box&&qr?qr:jr,be.ID),Jt&&Ln&&this.collisionIndex.insertCollisionBox(Ln.box,P.get("icon-ignore-placement"),E.bucketInstanceId,Gr,be.ID),xr&&(zt&&this.collisionIndex.insertCollisionCircles(xr.circles,P.get("text-ignore-placement"),E.bucketInstanceId,jr,be.ID),_)){const Ei=E.bucketInstanceId;let Xr=this.collisionCircleArrays[Ei];Xr===void 0&&(Xr=this.collisionCircleArrays[Ei]=new cu);for(let zr=0;zr<xr.circles.length;zr+=4)Xr.circles.push(xr.circles[zr+0]),Xr.circles.push(xr.circles[zr+1]),Xr.circles.push(xr.circles[zr+2]),Xr.circles.push(xr.collisionDetected?1:0)}const Qs=E.projection.name!=="globe";it=it&&(Qs||!tn),gt=gt&&(Qs||!Un),this.placements[Xt]=new Al(zt||it,Jt||gt,Wt||E.justReloaded),h.add(Xt)};if(at){const dt=E.getSortedSymbolIndexes(this.transform.angle);for(let Ft=dt.length-1;Ft>=0;--Ft){const wt=dt[Ft];Kt(E.symbolInstances.get(wt),wt,E.collisionArrays[wt])}}else for(let dt=c.symbolInstanceStart;dt<c.symbolInstanceEnd;dt++)Kt(E.symbolInstances.get(dt),dt,E.collisionArrays[dt]);if(_&&E.bucketInstanceId in this.collisionCircleArrays){const dt=this.collisionCircleArrays[E.bucketInstanceId];a.invert(dt.invProjMatrix,D),dt.viewportMatrix=this.collisionIndex.getViewportMatrix()}E.justReloaded=!1}markUsedJustification(c,h,_,x){const{leftJustifiedTextSymbolIndex:E,centerJustifiedTextSymbolIndex:P,rightJustifiedTextSymbolIndex:D,verticalPlacedTextSymbolIndex:L,crossTileID:q}=_,H=a.getAnchorJustification(h),ee=x===a.WritingMode.vertical?L:H==="left"?E:H==="center"?P:H==="right"?D:-1;E>=0&&(c.text.placedSymbolArray.get(E).crossTileID=ee>=0&&E!==ee?0:q),P>=0&&(c.text.placedSymbolArray.get(P).crossTileID=ee>=0&&P!==ee?0:q),D>=0&&(c.text.placedSymbolArray.get(D).crossTileID=ee>=0&&D!==ee?0:q),L>=0&&(c.text.placedSymbolArray.get(L).crossTileID=ee>=0&&L!==ee?0:q)}markUsedOrientation(c,h,_){const x=h===a.WritingMode.horizontal||h===a.WritingMode.horizontalOnly?h:0,E=h===a.WritingMode.vertical?h:0,{leftJustifiedTextSymbolIndex:P,centerJustifiedTextSymbolIndex:D,rightJustifiedTextSymbolIndex:L,verticalPlacedTextSymbolIndex:q}=_,H=c.text.placedSymbolArray;P>=0&&(H.get(P).placedOrientation=x),D>=0&&(H.get(D).placedOrientation=x),L>=0&&(H.get(L).placedOrientation=x),q>=0&&(H.get(q).placedOrientation=E)}commit(c){this.commitTime=c,this.zoomAtLastRecencyCheck=this.transform.zoom;const h=this.prevPlacement;let _=!1;this.prevZoomAdjustment=h?h.zoomAdjustment(this.transform.zoom):0;const x=h?h.symbolFadeChange(c):1,E=h?h.opacities:{},P=h?h.variableOffsets:{},D=h?h.placedOrientations:{};for(const L in this.placements){const q=this.placements[L],H=E[L];H?(this.opacities[L]=new Lo(H,x,q.text,q.icon,null,q.clipped),_=_||q.text!==H.text.placed||q.icon!==H.icon.placed):(this.opacities[L]=new Lo(null,x,q.text,q.icon,q.skipFade,q.clipped),_=_||q.text||q.icon)}for(const L in E){const q=E[L];if(!this.opacities[L]){const H=new Lo(q,x,!1,!1);H.isHidden()||(this.opacities[L]=H,_=_||q.text.placed||q.icon.placed)}}for(const L in P)this.variableOffsets[L]||!this.opacities[L]||this.opacities[L].isHidden()||(this.variableOffsets[L]=P[L]);for(const L in D)this.placedOrientations[L]||!this.opacities[L]||this.opacities[L].isHidden()||(this.placedOrientations[L]=D[L]);_?this.lastPlacementChangeTime=c:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=h?h.lastPlacementChangeTime:c)}updateLayerOpacities(c,h){const _=new Set;for(const x of h){const E=x.getBucket(c);E&&x.latestFeatureIndex&&c.id===E.layerIds[0]&&this.updateBucketOpacities(E,_,x.collisionBoxArray)}}updateBucketOpacities(c,h,_){c.hasTextData()&&c.text.opacityVertexArray.clear(),c.hasIconData()&&c.icon.opacityVertexArray.clear(),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexArray.clear(),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexArray.clear();const x=c.layers[0].layout,E=!!c.layers[0].dynamicFilter(),P=new Lo(null,0,!1,!1,!0),D=x.get("text-allow-overlap"),L=x.get("icon-allow-overlap"),q=x.get("text-variable-anchor"),H=x.get("text-rotation-alignment")==="map",ee=x.get("text-pitch-alignment")==="map",de=x.get("icon-text-fit")!=="none",fe=new Lo(null,0,D&&(L||!c.hasIconData()||x.get("icon-optional")),L&&(D||!c.hasTextData()||x.get("text-optional")),!0);!c.collisionArrays&&_&&(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData())&&c.deserializeCollisionBoxes(_);const ye=(be,te,pe)=>{for(let Te=0;Te<te/4;Te++)be.opacityVertexArray.emplaceBack(pe)};let ge=0;for(let be=0;be<c.symbolInstances.length;be++){const te=c.symbolInstances.get(be),{numHorizontalGlyphVertices:pe,numVerticalGlyphVertices:Te,crossTileID:Ie,numIconVertices:Ze}=te,Ke=h.has(Ie);let Xe=this.opacities[Ie];Ke?Xe=P:Xe||(Xe=fe,this.opacities[Ie]=Xe),h.add(Ie);const at=pe>0||Te>0,it=Ze>0,gt=this.placedOrientations[Ie],Kt=gt===a.WritingMode.vertical,dt=gt===a.WritingMode.horizontal||gt===a.WritingMode.horizontalOnly;if(!at&&!it||Xe.isHidden()||ge++,at){const Ft=hu(Xe.text);ye(c.text,pe,Kt?Ci:Ft),ye(c.text,Te,dt?Ci:Ft);const wt=Xe.text.isHidden(),{leftJustifiedTextSymbolIndex:Xt,centerJustifiedTextSymbolIndex:mt,rightJustifiedTextSymbolIndex:zt,verticalPlacedTextSymbolIndex:Jt}=te,Wt=c.text.placedSymbolArray,tn=wt||Kt?1:0;Xt>=0&&(Wt.get(Xt).hidden=tn),mt>=0&&(Wt.get(mt).hidden=tn),zt>=0&&(Wt.get(zt).hidden=tn),Jt>=0&&(Wt.get(Jt).hidden=wt||dt?1:0);const Un=this.variableOffsets[Ie];Un&&this.markUsedJustification(c,Un.anchor,te,gt);const nr=this.placedOrientations[Ie];nr&&(this.markUsedJustification(c,"left",te,nr),this.markUsedOrientation(c,nr,te))}if(it){const Ft=hu(Xe.icon),{placedIconSymbolIndex:wt,verticalPlacedIconSymbolIndex:Xt}=te,mt=c.icon.placedSymbolArray,zt=Xe.icon.isHidden()?1:0;wt>=0&&(ye(c.icon,Ze,Kt?Ci:Ft),mt.get(wt).hidden=zt),Xt>=0&&(ye(c.icon,te.numVerticalIconVertices,dt?Ci:Ft),mt.get(Xt).hidden=zt)}if(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData()){const Ft=c.collisionArrays[be];if(Ft){let wt=new a.Point(0,0),Xt=!0;if(Ft.textBox||Ft.verticalTextBox){if(q){const zt=this.variableOffsets[Ie];zt?(wt=Dl(zt.anchor,zt.width,zt.height,zt.textOffset,zt.textScale),H&&wt._rotate(ee?this.transform.angle:-this.transform.angle)):Xt=!1}E&&(Xt=!Xe.clipped),Ft.textBox&&vc(c.textCollisionBox.collisionVertexArray,Xe.text.placed,!Xt||Kt,wt.x,wt.y),Ft.verticalTextBox&&vc(c.textCollisionBox.collisionVertexArray,Xe.text.placed,!Xt||dt,wt.x,wt.y)}const mt=Xt&&!!(!dt&&Ft.verticalIconBox);Ft.iconBox&&vc(c.iconCollisionBox.collisionVertexArray,Xe.icon.placed,mt,de?wt.x:0,de?wt.y:0),Ft.verticalIconBox&&vc(c.iconCollisionBox.collisionVertexArray,Xe.icon.placed,!mt,de?wt.x:0,de?wt.y:0)}}}if(c.fullyClipped=ge===0,c.sortFeatures(this.transform.angle),this.retainedQueryData[c.bucketInstanceId]&&(this.retainedQueryData[c.bucketInstanceId].featureSortOrder=c.featureSortOrder),c.hasTextData()&&c.text.opacityVertexBuffer&&c.text.opacityVertexBuffer.updateData(c.text.opacityVertexArray),c.hasIconData()&&c.icon.opacityVertexBuffer&&c.icon.opacityVertexBuffer.updateData(c.icon.opacityVertexArray),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexBuffer&&c.iconCollisionBox.collisionVertexBuffer.updateData(c.iconCollisionBox.collisionVertexArray),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexBuffer&&c.textCollisionBox.collisionVertexBuffer.updateData(c.textCollisionBox.collisionVertexArray),c.bucketInstanceId in this.collisionCircleArrays){const be=this.collisionCircleArrays[c.bucketInstanceId];c.placementInvProjMatrix=be.invProjMatrix,c.placementViewportMatrix=be.viewportMatrix,c.collisionCircleArray=be.circles,delete this.collisionCircleArrays[c.bucketInstanceId]}}symbolFadeChange(c){return this.fadeDuration===0?1:(c-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(c){return Math.max(0,(this.transform.zoom-c)/1.5)}hasTransitions(c){return this.stale||c-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(c,h){const _=this.zoomAtLastRecencyCheck===h?1-this.zoomAdjustment(h):1;return this.zoomAtLastRecencyCheck=h,this.commitTime+this.fadeDuration*_>c}setStale(){this.stale=!0}}function vc(m,c,h,_,x){m.emplaceBack(c?1:0,h?1:0,_||0,x||0),m.emplaceBack(c?1:0,h?1:0,_||0,x||0),m.emplaceBack(c?1:0,h?1:0,_||0,x||0),m.emplaceBack(c?1:0,h?1:0,_||0,x||0)}const zo=Math.pow(2,25),Mi=Math.pow(2,24),Ch=Math.pow(2,17),du=Math.pow(2,16),Wo=Math.pow(2,9),ga=Math.pow(2,8),Zp=Math.pow(2,1);function hu(m){if(m.opacity===0&&!m.placed)return 0;if(m.opacity===1&&m.placed)return 4294967295;const c=m.placed?1:0,h=Math.floor(127*m.opacity);return h*zo+c*Mi+h*Ch+c*du+h*Wo+c*ga+h*Zp+c}const Ci=0;class pu{constructor(c){this._sortAcrossTiles=c.layout.get("symbol-z-order")!=="viewport-y"&&c.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs=new Set,this._bucketParts=[]}continuePlacement(c,h,_,x,E){const P=this._bucketParts;for(;this._currentTileIndex<c.length;)if(h.getBucketParts(P,x,c[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,E())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,P.sort((D,L)=>D.sortKey-L.sortKey));this._currentPartIndex<P.length;){const D=P[this._currentPartIndex];if(h.placeLayerBucketPart(D,this._seenCrossTileIDs,_,D.symbolInstanceStart===0),this._currentPartIndex++,E())return!0}return!1}}class kh{constructor(c,h,_,x,E,P,D,L){this.placement=new uu(c,E,P,D,L),this._currentPlacementIndex=h.length-1,this._forceFullPlacement=_,this._showCollisionBoxes=x,this._done=!1}isDone(){return this._done}continuePlacement(c,h,_){const x=a.exported.now(),E=()=>{const P=a.exported.now()-x;return!this._forceFullPlacement&&P>2};for(;this._currentPlacementIndex>=0;){const P=h[c[this._currentPlacementIndex]],D=this.placement.collisionIndex.transform.zoom;if(P.type==="symbol"&&(!P.minzoom||P.minzoom<=D)&&(!P.maxzoom||P.maxzoom>D)){if(this._inProgressLayer||(this._inProgressLayer=new pu(P)),this._inProgressLayer.continuePlacement(_[P.source],this.placement,this._showCollisionBoxes,P,E))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(c){return this.placement.commit(c),this.placement}}const Ks=512/a.EXTENT/2;class Zi{constructor(c,h,_){this.tileID=c,this.bucketInstanceId=_,this.index=new a.KDBush(h.length,16,Int32Array),this.keys=[],this.crossTileIDs=[];const x=c.canonical.x*a.EXTENT,E=c.canonical.y*a.EXTENT;for(let P=0;P<h.length;P++){const{key:D,crossTileID:L,tileAnchorX:q,tileAnchorY:H}=h.get(P),ee=Math.floor((x+q)*Ks),de=Math.floor((E+H)*Ks);this.index.add(ee,de),this.keys.push(D),this.crossTileIDs.push(L)}this.index.finish()}findMatches(c,h,_){const x=this.tileID.canonical.z<h.canonical.z?1:Math.pow(2,this.tileID.canonical.z-h.canonical.z),E=Ks/Math.pow(2,h.canonical.z-this.tileID.canonical.z),P=h.canonical.x*a.EXTENT,D=h.canonical.y*a.EXTENT;for(let L=0;L<c.length;L++){const q=c.get(L);if(q.crossTileID)continue;const{key:H,tileAnchorX:ee,tileAnchorY:de}=q,fe=Math.floor((P+ee)*E),ye=Math.floor((D+de)*E),ge=this.index.range(fe-x,ye-x,fe+x,ye+x);for(const be of ge){const te=this.crossTileIDs[be];if(this.keys[be]===H&&!_.has(te)){_.add(te),q.crossTileID=te;break}}}}}class ad{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class fu{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(c){const h=Math.round((c-this.lng)/360);if(h!==0)for(const _ in this.indexes){const x=this.indexes[_],E={};for(const P in x){const D=x[P];D.tileID=D.tileID.unwrapTo(D.tileID.wrap+h),E[D.tileID.key]=D}this.indexes[_]=E}this.lng=c}addBucket(c,h,_){if(this.indexes[c.overscaledZ]&&this.indexes[c.overscaledZ][c.key]){if(this.indexes[c.overscaledZ][c.key].bucketInstanceId===h.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(c.overscaledZ,this.indexes[c.overscaledZ][c.key])}for(let E=0;E<h.symbolInstances.length;E++)h.symbolInstances.get(E).crossTileID=0;this.usedCrossTileIDs[c.overscaledZ]||(this.usedCrossTileIDs[c.overscaledZ]=new Set);const x=this.usedCrossTileIDs[c.overscaledZ];for(const E in this.indexes){const P=this.indexes[E];if(Number(E)>c.overscaledZ)for(const D in P){const L=P[D];L.tileID.isChildOf(c)&&L.findMatches(h.symbolInstances,c,x)}else{const D=P[c.scaledTo(Number(E)).key];D&&D.findMatches(h.symbolInstances,c,x)}}for(let E=0;E<h.symbolInstances.length;E++){const P=h.symbolInstances.get(E);P.crossTileID||(P.crossTileID=_.generate(),x.add(P.crossTileID))}return this.indexes[c.overscaledZ]===void 0&&(this.indexes[c.overscaledZ]={}),this.indexes[c.overscaledZ][c.key]=new Zi(c,h.symbolInstances,h.bucketInstanceId),!0}removeBucketCrossTileIDs(c,h){for(const _ of h.crossTileIDs)this.usedCrossTileIDs[c].delete(_)}removeStaleBuckets(c){let h=!1;for(const _ in this.indexes){const x=this.indexes[_];for(const E in x)c[x[E].bucketInstanceId]||(this.removeBucketCrossTileIDs(_,x[E]),delete x[E],h=!0)}return h}}class es{constructor(){this.layerIndexes={},this.crossTileIDs=new ad,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(c,h,_,x){let E=this.layerIndexes[c.id];E===void 0&&(E=this.layerIndexes[c.id]=new fu);let P=!1;const D={};x.name!=="globe"&&E.handleWrapJump(_);for(const L of h){const q=L.getBucket(c);q&&c.id===q.layerIds[0]&&(q.bucketInstanceId||(q.bucketInstanceId=++this.maxBucketInstanceId),E.addBucket(L.tileID,q,this.crossTileIDs)&&(P=!0),D[q.bucketInstanceId]=!0)}return E.removeStaleBuckets(D)&&(P=!0),P}pruneUnusedLayers(c){const h={};c.forEach(_=>{h[_]=!0});for(const _ in this.layerIndexes)h[_]||delete this.layerIndexes[_]}}const ws=(m,c)=>a.emitValidationErrors(m,c&&c.filter(h=>h.identifier!=="source.canvas")),xc=a.pick(Hn,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),g1=a.pick(Hn,["setCenter","setZoom","setBearing","setPitch"]),Ph={version:8,layers:[],sources:{}},bc={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class Ho extends a.Evented{constructor(c,h={}){super(),this.map=c,this.dispatcher=new je(pn(),this),this.imageManager=new Ue,this.imageManager.setEventedParent(this),this.glyphManager=new a.GlyphManager(c._requestManager,h.localFontFamily?a.LocalGlyphMode.all:h.localIdeographFontFamily?a.LocalGlyphMode.ideographs:a.LocalGlyphMode.none,h.localFontFamily||h.localIdeographFontFamily),this.crossTileSymbolIndex=new es,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",a.getReferrer());const _=this;this._rtlTextPluginCallback=Ho.registerForPluginStateChange(x=>{_.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:x.pluginStatus,pluginURL:x.pluginURL},(E,P)=>{if(a.triggerPluginCompletionEvent(E),P&&P.every(D=>D))for(const D in _._sourceCaches){const L=_._sourceCaches[D],q=L.getSource().type;q!=="vector"&&q!=="geojson"||L.reload()}})}),this.on("data",x=>{if(x.dataType!=="source"||x.sourceDataType!=="metadata")return;const E=this.getSource(x.sourceId);if(E&&E.vectorLayerIds)for(const P in this._layers){const D=this._layers[P];D.source===E.id&&this._validateLayer(D)}})}loadURL(c,h={}){this.fire(new a.Event("dataloading",{dataType:"style"}));const _=typeof h.validate=="boolean"?h.validate:!a.isMapboxURL(c);c=this.map._requestManager.normalizeStyleURL(c,h.accessToken);const x=this.map._requestManager.transformRequest(c,a.ResourceType.Style);this._request=a.getJSON(x,(E,P)=>{this._request=null,E?this.fire(new a.ErrorEvent(E)):P&&this._load(P,_)})}loadJSON(c,h={}){this.fire(new a.Event("dataloading",{dataType:"style"})),this._request=a.exported.frame(()=>{this._request=null,this._load(c,h.validate!==!1)})}loadEmpty(){this.fire(new a.Event("dataloading",{dataType:"style"})),this._load(Ph,!1)}_updateLayerCount(c,h){const _=h?1:-1;c.is3D()&&(this._num3DLayers+=_),c.type==="circle"&&(this._numCircleLayers+=_),c.type==="symbol"&&(this._numSymbolLayers+=_)}_load(c,h){if(h&&ws(this,a.validateStyle(c)))return;this._loaded=!0,this.stylesheet=a.clone$1(c),this._updateMapProjection();for(const x in c.sources)this.addSource(x,c.sources[x],{validate:!1});this._changed=!1,c.sprite?this._loadSprite(c.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(c.glyphs);const _=Mr(this.stylesheet.layers);this._order=_.map(x=>x.id),this._layers={},this._serializedLayers={};for(const x of _){const E=a.createStyleLayer(x);E.setEventedParent(this,{layer:{id:E.id}}),this._layers[E.id]=E,this._serializedLayers[E.id]=E.serialize(),this._updateLayerCount(E,!0)}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new Ae(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new a.Event("data",{dataType:"style"})),this.fire(new a.Event("style.load"))}terrainSetForDrapingOnly(){return!!this.terrain&&this.terrain.drapeRenderMode===0}setProjection(c){c?this.stylesheet.projection=c:delete this.stylesheet.projection,this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}_updateMapProjection(){this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.stylesheet.projection)}_loadSprite(c){this._spriteRequest=function(h,_,x){let E,P,D;const L=a.exported.devicePixelRatio>1?"@2x":"";let q=a.getJSON(_.transformRequest(_.normalizeSpriteURL(h,L,".json"),a.ResourceType.SpriteJSON),(de,fe)=>{q=null,D||(D=de,E=fe,ee())}),H=a.getImage(_.transformRequest(_.normalizeSpriteURL(h,L,".png"),a.ResourceType.SpriteImage),(de,fe)=>{H=null,D||(D=de,P=fe,ee())});function ee(){if(D)x(D);else if(E&&P){const de=a.exported.getImageData(P),fe={};for(const ye in E){const{width:ge,height:be,x:te,y:pe,sdf:Te,pixelRatio:Ie,stretchX:Ze,stretchY:Ke,content:Xe}=E[ye],at=new a.RGBAImage({width:ge,height:be});a.RGBAImage.copy(de,at,{x:te,y:pe},{x:0,y:0},{width:ge,height:be}),fe[ye]={data:at,pixelRatio:Ie,sdf:Te,stretchX:Ze,stretchY:Ke,content:Xe}}x(null,fe)}}return{cancel(){q&&(q.cancel(),q=null),H&&(H.cancel(),H=null)}}}(c,this.map._requestManager,(h,_)=>{if(this._spriteRequest=null,h)this.fire(new a.ErrorEvent(h));else if(_)for(const x in _)this.imageManager.addImage(x,_[x]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new a.Event("data",{dataType:"style"}))})}_validateLayer(c){const h=this.getSource(c.source);if(!h)return;const _=c.sourceLayer;_&&(h.type==="geojson"||h.vectorLayerIds&&h.vectorLayerIds.indexOf(_)===-1)&&this.fire(new a.ErrorEvent(new Error(`Source layer "${_}" does not exist on source "${h.id}" as specified by style layer "${c.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const c in this._sourceCaches)if(!this._sourceCaches[c].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(c){const h=[];for(const _ of c){const x=this._layers[_];x.type!=="custom"&&h.push(x.serialize())}return h}hasTransitions(){if(this.light&&this.light.hasTransition()||this.fog&&this.fog.hasTransition())return!0;for(const c in this._sourceCaches)if(this._sourceCaches[c].hasTransition())return!0;for(const c in this._layers)if(this._layers[c].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(c){return!!this.terrain&&(typeof c.isLayerDraped=="function"?c.isLayerDraped():bc[c.type])}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(c){if(!this._loaded)return;const h=this._changed;if(this._changed){const x=Object.keys(this._updatedLayers),E=Object.keys(this._removedLayers);(x.length||E.length)&&this._updateWorkerLayers(x,E);for(const P in this._updatedSources){const D=this._updatedSources[P];D==="reload"?this._reloadSource(P):D==="clear"&&this._clearSource(P)}this._updateTilesForChangedImages();for(const P in this._updatedPaintProps)this._layers[P].updateTransitions(c);this.light.updateTransitions(c),this.fog&&this.fog.updateTransitions(c),this._resetUpdates()}const _={};for(const x in this._sourceCaches){const E=this._sourceCaches[x];_[x]=E.used,E.used=!1}for(const x of this._order){const E=this._layers[x];if(E.recalculate(c,this._availableImages),!E.isHidden(c.zoom)){const D=this._getLayerSourceCache(E);D&&(D.used=!0)}const P=this.map.painter;if(P){const D=E.getProgramIds();if(!D)continue;const L=E.getProgramConfiguration(c.zoom);for(const q of D)P.useProgram(q,L)}}for(const x in _){const E=this._sourceCaches[x];_[x]!==E.used&&E.getSource().fire(new a.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:E.getSource().id}))}this.light.recalculate(c),this.terrain&&this.terrain.recalculate(c),this.fog&&this.fog.recalculate(c),this.z=c.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),h&&this.fire(new a.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const c=Object.keys(this._changedImages);if(c.length){for(const h in this._sourceCaches)this._sourceCaches[h].reloadTilesForDependencies(["icons","patterns"],c);this._changedImages={}}}_updateWorkerLayers(c,h){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(c),removedIds:h})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(c){if(this._checkLoaded(),ws(this,a.validateStyle(c)))return!1;(c=a.clone$1(c)).layers=Mr(c.layers);const h=function(x,E){if(!x)return[{command:Hn.setStyle,args:[E]}];let P=[];try{if(!y(x.version,E.version))return[{command:Hn.setStyle,args:[E]}];y(x.center,E.center)||P.push({command:Hn.setCenter,args:[E.center]}),y(x.zoom,E.zoom)||P.push({command:Hn.setZoom,args:[E.zoom]}),y(x.bearing,E.bearing)||P.push({command:Hn.setBearing,args:[E.bearing]}),y(x.pitch,E.pitch)||P.push({command:Hn.setPitch,args:[E.pitch]}),y(x.sprite,E.sprite)||P.push({command:Hn.setSprite,args:[E.sprite]}),y(x.glyphs,E.glyphs)||P.push({command:Hn.setGlyphs,args:[E.glyphs]}),y(x.transition,E.transition)||P.push({command:Hn.setTransition,args:[E.transition]}),y(x.light,E.light)||P.push({command:Hn.setLight,args:[E.light]}),y(x.fog,E.fog)||P.push({command:Hn.setFog,args:[E.fog]}),y(x.projection,E.projection)||P.push({command:Hn.setProjection,args:[E.projection]});const D={},L=[];(function(ee,de,fe,ye){let ge;for(ge in de=de||{},ee=ee||{})ee.hasOwnProperty(ge)&&(de.hasOwnProperty(ge)||_o(ge,fe,ye));for(ge in de){if(!de.hasOwnProperty(ge))continue;const be=de[ge];ee.hasOwnProperty(ge)?y(ee[ge],be)||(ee[ge].type==="geojson"&&be.type==="geojson"&&ra(ee,de,ge)?fe.push({command:Hn.setGeoJSONSourceData,args:[ge,be.data]}):yo(ge,de,fe,ye)):Do(ge,de,fe)}})(x.sources,E.sources,L,D);const q=[];x.layers&&x.layers.forEach(ee=>{ee.source&&D[ee.source]?P.push({command:Hn.removeLayer,args:[ee.id]}):q.push(ee)});let H=x.terrain;H&&D[H.source]&&(P.push({command:Hn.setTerrain,args:[void 0]}),H=void 0),P=P.concat(L),y(H,E.terrain)||P.push({command:Hn.setTerrain,args:[E.terrain]}),function(ee,de,fe){de=de||[];const ye=(ee=ee||[]).map(Ui),ge=de.map(Ui),be=ee.reduce(vo,{}),te=de.reduce(vo,{}),pe=ye.slice(),Te=Object.create(null);let Ie,Ze,Ke,Xe,at,it,gt;for(Ie=0,Ze=0;Ie<ye.length;Ie++)Ke=ye[Ie],te.hasOwnProperty(Ke)?Ze++:(fe.push({command:Hn.removeLayer,args:[Ke]}),pe.splice(pe.indexOf(Ke,Ze),1));for(Ie=0,Ze=0;Ie<ge.length;Ie++)Ke=ge[ge.length-1-Ie],pe[pe.length-1-Ie]!==Ke&&(be.hasOwnProperty(Ke)?(fe.push({command:Hn.removeLayer,args:[Ke]}),pe.splice(pe.lastIndexOf(Ke,pe.length-Ze),1)):Ze++,it=pe[pe.length-Ie],fe.push({command:Hn.addLayer,args:[te[Ke],it]}),pe.splice(pe.length-Ie,0,Ke),Te[Ke]=!0);for(Ie=0;Ie<ge.length;Ie++)if(Ke=ge[Ie],Xe=be[Ke],at=te[Ke],!Te[Ke]&&!y(Xe,at))if(y(Xe.source,at.source)&&y(Xe["source-layer"],at["source-layer"])&&y(Xe.type,at.type)){for(gt in $i(Xe.layout,at.layout,fe,Ke,null,Hn.setLayoutProperty),$i(Xe.paint,at.paint,fe,Ke,null,Hn.setPaintProperty),y(Xe.filter,at.filter)||fe.push({command:Hn.setFilter,args:[Ke,at.filter]}),y(Xe.minzoom,at.minzoom)&&y(Xe.maxzoom,at.maxzoom)||fe.push({command:Hn.setLayerZoomRange,args:[Ke,at.minzoom,at.maxzoom]}),Xe)Xe.hasOwnProperty(gt)&&gt!=="layout"&&gt!=="paint"&&gt!=="filter"&&gt!=="metadata"&&gt!=="minzoom"&&gt!=="maxzoom"&&(gt.indexOf("paint.")===0?$i(Xe[gt],at[gt],fe,Ke,gt.slice(6),Hn.setPaintProperty):y(Xe[gt],at[gt])||fe.push({command:Hn.setLayerProperty,args:[Ke,gt,at[gt]]}));for(gt in at)at.hasOwnProperty(gt)&&!Xe.hasOwnProperty(gt)&&gt!=="layout"&&gt!=="paint"&&gt!=="filter"&&gt!=="metadata"&&gt!=="minzoom"&&gt!=="maxzoom"&&(gt.indexOf("paint.")===0?$i(Xe[gt],at[gt],fe,Ke,gt.slice(6),Hn.setPaintProperty):y(Xe[gt],at[gt])||fe.push({command:Hn.setLayerProperty,args:[Ke,gt,at[gt]]}))}else fe.push({command:Hn.removeLayer,args:[Ke]}),it=pe[pe.lastIndexOf(Ke)+1],fe.push({command:Hn.addLayer,args:[at,it]})}(q,E.layers,P)}catch(D){console.warn("Unable to compute style diff:",D),P=[{command:Hn.setStyle,args:[E]}]}return P}(this.serialize(),c).filter(x=>!(x.command in g1));if(h.length===0)return!1;const _=h.filter(x=>!(x.command in xc));if(_.length>0)throw new Error(`Unimplemented: ${_.map(x=>x.command).join(", ")}.`);return h.forEach(x=>{x.command!=="setTransition"&&x.command!=="setProjection"&&this[x.command].apply(this,x.args)}),this.stylesheet=c,this._updateMapProjection(),!0}addImage(c,h){return this.getImage(c)?this.fire(new a.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(c,h),this._afterImageUpdated(c),this)}updateImage(c,h){this.imageManager.updateImage(c,h)}getImage(c){return this.imageManager.getImage(c)}removeImage(c){return this.getImage(c)?(this.imageManager.removeImage(c),this._afterImageUpdated(c),this):this.fire(new a.ErrorEvent(new Error("No image with this name exists.")))}_afterImageUpdated(c){this._availableImages=this.imageManager.listImages(),this._changedImages[c]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(c,h,_={}){if(this._checkLoaded(),this.getSource(c)!==void 0)throw new Error("There is already a source with this ID");if(!h.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(h).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(h.type)>=0&&this._validate(a.validateSource,`sources.${c}`,h,null,_))return;this.map&&this.map._collectResourceTiming&&(h.collectResourceTiming=!0);const x=$n(c,h,this.dispatcher,this);x.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(c),source:x.serialize(),sourceId:c}));const E=P=>{const D=(P?"symbol:":"other:")+c,L=this._sourceCaches[D]=new a.SourceCache(D,x,P);(P?this._symbolSourceCaches:this._otherSourceCaches)[c]=L,L.style=this,L.onAdd(this.map)};E(!1),h.type!=="vector"&&h.type!=="geojson"||E(!0),x.onAdd&&x.onAdd(this.map),this._changed=!0}removeSource(c){this._checkLoaded();const h=this.getSource(c);if(!h)throw new Error("There is no source with this ID");for(const x in this._layers)if(this._layers[x].source===c)return this.fire(new a.ErrorEvent(new Error(`Source "${c}" cannot be removed while layer "${x}" is using it.`)));if(this.terrain&&this.terrain.get().source===c)return this.fire(new a.ErrorEvent(new Error(`Source "${c}" cannot be removed while terrain is using it.`)));const _=this._getSourceCaches(c);for(const x of _)delete this._sourceCaches[x.id],delete this._updatedSources[x.id],x.fire(new a.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:x.getSource().id})),x.setEventedParent(null),x.clearTiles();return delete this._otherSourceCaches[c],delete this._symbolSourceCaches[c],h.setEventedParent(null),h.onRemove&&h.onRemove(this.map),this._changed=!0,this}setGeoJSONSourceData(c,h){this._checkLoaded(),this.getSource(c).setData(h),this._changed=!0}getSource(c){const h=this._getSourceCache(c);return h&&h.getSource()}_getSources(){const c=[];for(const h in this._otherSourceCaches){const _=this._getSourceCache(h);_&&c.push(_.getSource())}return c}addLayer(c,h,_={}){this._checkLoaded();const x=c.id;if(this.getLayer(x))return void this.fire(new a.ErrorEvent(new Error(`Layer with id "${x}" already exists on this map`)));let E;if(c.type==="custom"){if(ws(this,a.validateCustomStyleLayer(c)))return;E=a.createStyleLayer(c)}else{if(typeof c.source=="object"&&(this.addSource(x,c.source),c=a.clone$1(c),c=a.extend(c,{source:x})),this._validate(a.validateLayer,`layers.${x}`,c,{arrayIndex:-1},_))return;E=a.createStyleLayer(c),this._validateLayer(E),E.setEventedParent(this,{layer:{id:x}}),this._serializedLayers[E.id]=E.serialize(),this._updateLayerCount(E,!0)}const P=h?this._order.indexOf(h):this._order.length;if(h&&P===-1)return void this.fire(new a.ErrorEvent(new Error(`Layer with id "${h}" does not exist on this map.`)));this._order.splice(P,0,x),this._layerOrderChanged=!0,this._layers[x]=E;const D=this._getLayerSourceCache(E);if(this._removedLayers[x]&&E.source&&D&&E.type!=="custom"){const L=this._removedLayers[x];delete this._removedLayers[x],L.type!==E.type?this._updatedSources[E.source]="clear":(this._updatedSources[E.source]="reload",D.pause())}this._updateLayer(E),E.onAdd&&E.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(c,h){if(this._checkLoaded(),this._changed=!0,!this._layers[c])return void this.fire(new a.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot be moved.`)));if(c===h)return;const _=this._order.indexOf(c);this._order.splice(_,1);const x=h?this._order.indexOf(h):this._order.length;h&&x===-1?this.fire(new a.ErrorEvent(new Error(`Layer with id "${h}" does not exist on this map.`))):(this._order.splice(x,0,c),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(c){this._checkLoaded();const h=this._layers[c];if(!h)return void this.fire(new a.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot be removed.`)));h.setEventedParent(null),this._updateLayerCount(h,!1);const _=this._order.indexOf(c);this._order.splice(_,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[c]=h,delete this._layers[c],delete this._serializedLayers[c],delete this._updatedLayers[c],delete this._updatedPaintProps[c],h.onRemove&&h.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(c){return this._layers[c]}hasLayer(c){return c in this._layers}hasLayerType(c){for(const h in this._layers)if(this._layers[h].type===c)return!0;return!1}setLayerZoomRange(c,h,_){this._checkLoaded();const x=this.getLayer(c);x?x.minzoom===h&&x.maxzoom===_||(h!=null&&(x.minzoom=h),_!=null&&(x.maxzoom=_),this._updateLayer(x)):this.fire(new a.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(c,h,_={}){this._checkLoaded();const x=this.getLayer(c);if(x){if(!y(x.filter,h))return h==null?(x.filter=void 0,void this._updateLayer(x)):void(this._validate(a.validateFilter,`layers.${x.id}.filter`,h,{layerType:x.type},_)||(x.filter=a.clone$1(h),this._updateLayer(x)))}else this.fire(new a.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot be filtered.`)))}getFilter(c){const h=this.getLayer(c);return h&&a.clone$1(h.filter)}setLayoutProperty(c,h,_,x={}){this._checkLoaded();const E=this.getLayer(c);E?y(E.getLayoutProperty(h),_)||(E.setLayoutProperty(h,_,x),this._updateLayer(E)):this.fire(new a.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(c,h){const _=this.getLayer(c);if(_)return _.getLayoutProperty(h);this.fire(new a.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style.`)))}setPaintProperty(c,h,_,x={}){this._checkLoaded();const E=this.getLayer(c);E?y(E.getPaintProperty(h),_)||(E.setPaintProperty(h,_,x)&&this._updateLayer(E),this._changed=!0,this._updatedPaintProps[c]=!0):this.fire(new a.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(c,h){const _=this.getLayer(c);return _&&_.getPaintProperty(h)}setFeatureState(c,h){this._checkLoaded();const _=c.source,x=c.sourceLayer,E=this.getSource(_);if(!E)return void this.fire(new a.ErrorEvent(new Error(`The source '${_}' does not exist in the map's style.`)));const P=E.type;if(P==="geojson"&&x)return void this.fire(new a.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if(P==="vector"&&!x)return void this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));c.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided.")));const D=this._getSourceCaches(_);for(const L of D)L.setFeatureState(x,c.id,h)}removeFeatureState(c,h){this._checkLoaded();const _=c.source,x=this.getSource(_);if(!x)return void this.fire(new a.ErrorEvent(new Error(`The source '${_}' does not exist in the map's style.`)));const E=x.type,P=E==="vector"?c.sourceLayer:void 0;if(E==="vector"&&!P)return void this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(h&&typeof c.id!="string"&&typeof c.id!="number")return void this.fire(new a.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const D=this._getSourceCaches(_);for(const L of D)L.removeFeatureState(P,c.id,h)}getFeatureState(c){this._checkLoaded();const h=c.source,_=c.sourceLayer,x=this.getSource(h);if(x){if(x.type!=="vector"||_)return c.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(h)[0].getFeatureState(_,c.id);this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new a.ErrorEvent(new Error(`The source '${h}' does not exist in the map's style.`)))}getTransition(){return a.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const c={};for(const h in this._sourceCaches){const _=this._sourceCaches[h].getSource();c[_.id]||(c[_.id]=_.serialize())}return a.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.getTerrain()||void 0,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:c,layers:this._serializeLayers(this._order)},h=>h!==void 0)}_updateLayer(c){this._updatedLayers[c.id]=!0;const h=this._getLayerSourceCache(c);c.source&&!this._updatedSources[c.source]&&h&&h.getSource().type!=="raster"&&(this._updatedSources[c.source]="reload",h.pause()),this._changed=!0,c.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(c){const h=P=>this._layers[P].type==="fill-extrusion",_={},x=[];for(let P=this._order.length-1;P>=0;P--){const D=this._order[P];if(h(D)){_[D]=P;for(const L of c){const q=L[D];if(q)for(const H of q)x.push(H)}}}x.sort((P,D)=>D.intersectionZ-P.intersectionZ);const E=[];for(let P=this._order.length-1;P>=0;P--){const D=this._order[P];if(h(D))for(let L=x.length-1;L>=0;L--){const q=x[L].feature;if(_[q.layer.id]<P)break;E.push(q),x.pop()}else for(const L of c){const q=L[D];if(q)for(const H of q)E.push(H.feature)}}return E}queryRenderedFeatures(c,h,_){h&&h.filter&&this._validate(a.validateFilter,"queryRenderedFeatures.filter",h.filter,null,h);const x={};if(h&&h.layers){if(!Array.isArray(h.layers))return this.fire(new a.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const L of h.layers){const q=this._layers[L];if(!q)return this.fire(new a.ErrorEvent(new Error(`The layer '${L}' does not exist in the map's style and cannot be queried for features.`))),[];x[q.source]=!0}}const E=[];h.availableImages=this._availableImages;const P=h&&h.layers?h.layers.some(L=>{const q=this.getLayer(L);return q&&q.is3D()}):this.has3DLayers(),D=ot.createFromScreenPoints(c,_);for(const L in this._sourceCaches){const q=this._sourceCaches[L].getSource().id;h.layers&&!x[q]||E.push(wr(this._sourceCaches[L],this._layers,this._serializedLayers,D,h,_,P,!!this.map._showQueryGeometry))}return this.placement&&E.push(function(L,q,H,ee,de,fe,ye){const ge={},be=fe.queryRenderedSymbols(ee),te=[];for(const pe of Object.keys(be).map(Number))te.push(ye[pe]);te.sort(Rr);for(const pe of te){const Te=pe.featureIndex.lookupSymbolFeatures(be[pe.bucketInstanceId],q,pe.bucketIndex,pe.sourceLayerIndex,de.filter,de.layers,de.availableImages,L);for(const Ie in Te){const Ze=ge[Ie]=ge[Ie]||[],Ke=Te[Ie];Ke.sort((Xe,at)=>{const it=pe.featureSortOrder;if(it){const gt=it.indexOf(Xe.featureIndex);return it.indexOf(at.featureIndex)-gt}return at.featureIndex-Xe.featureIndex});for(const Xe of Ke)Ze.push(Xe)}}for(const pe in ge)ge[pe].forEach(Te=>{const Ie=Te.feature,Ze=H(L[pe]);if(!Ze)return;const Ke=Ze.getFeatureState(Ie.layer["source-layer"],Ie.id);Ie.source=Ie.layer.source,Ie.layer["source-layer"]&&(Ie.sourceLayer=Ie.layer["source-layer"]),Ie.state=Ke});return ge}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),D.screenGeometry,h,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(E)}querySourceFeatures(c,h){h&&h.filter&&this._validate(a.validateFilter,"querySourceFeatures.filter",h.filter,null,h);const _=this._getSourceCaches(c);let x=[];for(const E of _)x=x.concat(Er(E,h));return x}addSourceType(c,h,_){return Ho.getSourceType(c)?_(new Error(`A source type called "${c}" already exists.`)):(Ho.setSourceType(c,h),h.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:c,url:h.workerSourceURL},_):_(null,null))}getLight(){return this.light.getLight()}setLight(c,h={}){this._checkLoaded();const _=this.light.getLight();let x=!1;for(const P in c)if(!y(c[P],_[P])){x=!0;break}if(!x)return;const E=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(c,h),this.light.updateTransitions(E)}getTerrain(){return this.terrain&&this.terrain.drapeRenderMode===1?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(c,h=1){if(this._checkLoaded(),!c)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);let _=c;if(h===1){if(typeof _.source=="object"){const x="terrain-dem-src";this.addSource(x,_.source),_=a.clone$1(_),_=a.extend(_,{source:x})}if(this._validate(a.validateTerrain,"terrain",_))return}if(!this.terrain||this.terrain&&h!==this.terrain.drapeRenderMode){if(!_)return;this._createTerrain(_,h)}else{const x=this.terrain,E=x.get();for(const P of Object.keys(a.spec.terrain))!_.hasOwnProperty(P)&&a.spec.terrain[P].default&&(_[P]=a.spec.terrain[P].default);for(const P in _)if(!y(_[P],E[P])){x.set(_),this.stylesheet.terrain=_;const D=this._setTransitionParameters({duration:0});x.updateTransitions(D);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(c){const h=this.fog=new Pe(c,this.map.transform);this.stylesheet.fog=c;const _=this._setTransitionParameters({duration:0});h.updateTransitions(_)}_updateMarkersOpacity(){this.map._markers.length!==0&&this.map._requestDomTask(()=>{for(const c of this.map._markers)c._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(c){if(this._checkLoaded(),!c)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const h=this.fog,_=h.get();Object.keys(c).length===0&&h.set(c);for(const x in c)if(!y(c[x],_[x])){h.set(c),this.stylesheet.fog=c;const E=this._setTransitionParameters({duration:0});h.updateTransitions(E);break}}else this._createFog(c);this._markersNeedUpdate=!0}_setTransitionParameters(c){return{now:a.exported.now(),transition:a.extend(c,this.stylesheet.transition)}}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const c=this._order.filter(_=>this.isLayerDraped(this._layers[_])),h=this._order.filter(_=>!this.isLayerDraped(this._layers[_]));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...c),this._drapedFirstOrder.push(...h)}_createTerrain(c,h){const _=this.terrain=new Oe(c,h);this.stylesheet.terrain=c,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();const x=this._setTransitionParameters({duration:0});_.updateTransitions(x)}_force3DLayerUpdate(){for(const c in this._layers){const h=this._layers[c];h.type==="fill-extrusion"&&this._updateLayer(h)}}_forceSymbolLayerUpdate(){for(const c in this._layers){const h=this._layers[c];h.type==="symbol"&&this._updateLayer(h)}}_validate(c,h,_,x,E={}){return(!E||E.validate!==!1)&&ws(this,c.call(a.validateStyle,a.extend({key:h,style:this.serialize(),value:_,styleSpec:a.spec},x)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const c in this._layers)this._layers[c].setEventedParent(null);for(const c in this._sourceCaches)this._sourceCaches[c].clearTiles(),this._sourceCaches[c].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(c){const h=this._getSourceCaches(c);for(const _ of h)_.clearTiles()}_reloadSource(c){const h=this._getSourceCaches(c);for(const _ of h)_.resume(),_.reload()}_reloadSources(){for(const c of this._getSources())c.reload&&c.reload()}_updateSources(c){for(const h in this._sourceCaches)this._sourceCaches[h].update(c)}_generateCollisionBoxes(){for(const c in this._sourceCaches){const h=this._sourceCaches[c];h.resume(),h.reload()}}_updatePlacement(c,h,_,x,E=!1){let P=!1,D=!1;const L={};for(const q of this._order){const H=this._layers[q];if(H.type!=="symbol")continue;if(!L[H.source]){const de=this._getLayerSourceCache(H);if(!de)continue;L[H.source]=de.getRenderableIds(!0).map(fe=>de.getTileByID(fe)).sort((fe,ye)=>ye.tileID.overscaledZ-fe.tileID.overscaledZ||(fe.tileID.isLessThan(ye.tileID)?-1:1))}const ee=this.crossTileSymbolIndex.addLayer(H,L[H.source],c.center.lng,c.projection);P=P||ee}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),E=E||this._layerOrderChanged||_===0,this._layerOrderChanged&&this.fire(new a.Event("neworder")),(E||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.exported.now(),c.zoom))&&(this.pauseablePlacement=new kh(c,this._order,E,h,_,x,this.placement,this.fog&&c.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,L),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.exported.now()),D=!0),P&&this.pauseablePlacement.placement.setStale()),D||P)for(const q of this._order){const H=this._layers[q];H.type==="symbol"&&this.placement.updateLayerOpacities(H,L[H.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.exported.now())}_releaseSymbolFadeTiles(){for(const c in this._sourceCaches)this._sourceCaches[c].releaseSymbolFadeTiles()}getImages(c,h,_){this.imageManager.getImages(h.icons,_),this._updateTilesForChangedImages();const x=E=>{E&&E.setDependencies(h.tileID.key,h.type,h.icons)};x(this._otherSourceCaches[h.source]),x(this._symbolSourceCaches[h.source])}getGlyphs(c,h,_){this.glyphManager.getGlyphs(h.stacks,_)}getResource(c,h,_){return a.makeRequest(h,_)}_getSourceCache(c){return this._otherSourceCaches[c]}_getLayerSourceCache(c){return c.type==="symbol"?this._symbolSourceCaches[c.source]:this._otherSourceCaches[c.source]}_getSourceCaches(c){const h=[];return this._otherSourceCaches[c]&&h.push(this._otherSourceCaches[c]),this._symbolSourceCaches[c]&&h.push(this._symbolSourceCaches[c]),h}_isSourceCacheLoaded(c){const h=this._getSourceCaches(c);return h.length===0?(this.fire(new a.ErrorEvent(new Error(`There is no source with ID '${c}'`))),!1):h.every(_=>_.loaded())}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}Ho.getSourceType=function(m){return Rn[m]},Ho.setSourceType=function(m,c){Rn[m]=c},Ho.registerForPluginStateChange=a.registerForPluginStateChange;var sd=`
#define EPSILON 0.0000001
#define PI 3.141592653589793
#define EXTENT 8192.0
#define HALF_PI PI/2.0
#define QUARTER_PI PI/4.0
#define RAD_TO_DEG 180.0/PI
#define DEG_TO_RAD PI/180.0
#define GLOBE_RADIUS EXTENT/PI/2.0`,Es="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",Ss=`
#define ELEVATION_SCALE 7.0
#define ELEVATION_OFFSET 450.0
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(
mix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}
#else
vec3 elevationVector(vec2 pos) { return vec3(0,0,1); }
#endif
const float skirtOffset=24575.0;vec3 decomposeToPosAndSkirt(vec2 posWithComposedSkirt)
{float skirt=float(posWithComposedSkirt.x >=skirtOffset);vec2 pos=posWithComposedSkirt-vec2(skirt*skirtOffset,0.0);return vec3(pos,skirt);}
#ifdef TERRAIN
#ifdef TERRAIN_DEM_FLOAT_FORMAT
uniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;
#else
uniform sampler2D u_dem;uniform sampler2D u_dem_prev;
#endif
uniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));
#ifdef TERRAIN_DEM_NEAREST_FILTER
return u_exaggeration*tl;
#endif
float tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}float prevElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}
#ifdef TERRAIN_VERTEX_MORPHING
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}
#else
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
return currentElevation(apos);}
#endif
highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(
unpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))
);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
float tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;
#else
vec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);
#endif
return vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}
#else
float elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }
#endif`,mu=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}
#endif`,Ts=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}
#endif`;let S={},I={};const j=[];Ge(sd,j),Ge(Ss,j),Ge(mu,j),Ge(Ts,j),S=Me("",Ss),I=Me(Ts,mu);const X=Me(`
#if __VERSION__ >=300
#define varying in
#define gl_FragColor glFragColor
#define texture2D texture
#define textureCube texture
out vec4 glFragColor;
#endif
highp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}`,`
#if __VERSION__ >=300
#define attribute in
#define varying out
#define texture2D texture
#endif
float wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}
#ifdef PROJECTION_GLOBE_VIEW
vec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {
#ifndef PROJECTED_POS_ON_VIEWPORT
float tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;
#else
return vec3(0.0);
#endif
}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(
unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered.`),re=sd,ie=`
#ifdef GL_ES
precision mediump float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`;var ue={background:Me(`uniform vec4 u_color;uniform float u_opacity;
#ifdef LIGHTING_3D_MODE
varying vec4 v_color;
#endif
void main() {vec4 out_color;
#ifdef LIGHTING_3D_MODE
out_color=v_color;
#else
out_color=u_color;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#ifdef LIGHTING_3D_MODE
uniform vec4 u_color;varying vec4 v_color;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(u_color);
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),backgroundPattern:Me(`uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos;void main() {vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),circle:Me(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(
antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)
);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_apply_premultiplied(out_color,v_fog_pos);
#endif
gl_FragColor=out_color*(v_visibility*opacity_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`#define NUM_VISIBILITY_RINGS 2
#define INV_SQRT2 0.70710678
#define ELEVATION_BIAS 0.0001
#define NUM_SAMPLES_PER_RING 16
uniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
vec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {
#if defined(TERRAIN)
return elevation(pos)+ELEVATION_BIAS;
#else
return 0.0;
#endif
}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);
#ifdef PITCH_WITH_MAP
#ifdef PROJECTION_GLOBE_VIEW
return u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );
#else
return u_matrix*( world_center+vec4(sample_offset,0,0) );
#endif
#else
return projected_center+vec4(sample_offset,0,0);
#endif
}float get_sample_step() {
#ifdef PITCH_WITH_MAP
return 2.0*PI/float(NUM_SAMPLES_PER_RING);
#else
return PI/float(NUM_SAMPLES_PER_RING);
#endif
}void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);
#else 
surface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);
#endif
vec4 projected_center=u_matrix*world_center;float view_scale=0.0;
#ifdef PITCH_WITH_MAP
#ifdef SCALE_WITH_MAP
view_scale=1.0;
#else
view_scale=projected_center.w/u_camera_to_center_distance;
#endif
#else
#ifdef SCALE_WITH_MAP
view_scale=u_camera_to_center_distance;
#else
view_scale=projected_center.w;
#endif
#endif
gl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;
#ifdef TERRAIN
float step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;
#ifdef PITCH_WITH_MAP
float cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;
#else
occlusion_world_center=world_center;occlusion_projected_center=projected_center;
#endif
for(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);
#else
visibility=1.0;
#endif
#ifdef PROJECTION_GLOBE_VIEW
visibility=1.0;
#endif
v_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);
#ifdef FOG
v_fog_pos=fog_position(world_center.xyz);
#endif
}`),clippingMask:Me("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Me(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef FOG
if (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#else
pos=vec3(tilePos+extrude,elevation(tilePos));
#endif
gl_Position=u_matrix*vec4(pos,1);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),heatmapTexture:Me(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:Me("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}",`attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}`),collisionCircle:Me("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",`attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(
mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}`),debug:Me("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",`attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;
#endif
varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
gl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);
#else
gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);
#endif
}`),fill:Me(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
vec4 out_color=color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutline:Me(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutlinePattern:Me(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillPattern:Me(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillExtrusion:Me(`varying vec4 v_color;
#ifdef RENDER_SHADOWS
varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
void main() {
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
vec3 normal=v_normal;
#endif
float z;vec4 color;
#ifdef ZERO_ROOF_RADIUS
z=float(normal.z > 0.00001);color=mix(v_color,v_roof_color,z);
#else
color=v_color;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;
#ifdef ZERO_ROOF_RADIUS
concave*=(1.0-z);
#endif
float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);color.rgb=color.rgb*shade;
#endif
#ifdef RENDER_SHADOWS
#ifdef ZERO_ROOF_RADIUS
normal=mix(normal,vec3(0.0,0.0,1.0),z);
#endif
color.xyz=shadowed_color_normal(color.xyz,normalize(normal),v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec4 v_color;
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
v_normal=normal;
#endif
base=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=0.0;float c_ele;vec3 pos;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);
#else
h=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);
#ifdef RENDER_SHADOWS
v_pos_light_view_0=u_light_matrix_0*vec4(pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1);v_depth=gl_Position.w;
#endif
float NdotL=0.0;float colorvalue=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}v_color=vec4(0.0,0.0,0.0,1.0);
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(color,NdotL);
#else
v_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_color*=u_opacity;
#ifdef ZERO_ROOF_RADIUS
v_roof_color=vec4(0.0,0.0,0.0,1.0);
#ifdef LIGHTING_3D_MODE
v_roof_color=apply_lighting(color,calculate_NdotL(vec3(0.0,0.0,1.0)));
#else
float roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_roof_color*=u_opacity;
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),fillExtrusionPattern:Me(`uniform vec2 u_texsize;uniform sampler2D u_image;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
varying vec2 v_pos;varying vec4 v_lighting;uniform lowp float u_opacity;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color,v_NdotL)*u_opacity;
#else
out_color=out_color*v_lighting;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec2 v_pos;varying vec4 v_lighting;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=z;vec3 p;float c_ele;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);
#else
p=vec3(pos_nx.xy,z);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0
? pos_nx.xy
: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_NdotL=NdotL;
#else
v_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;
#endif 
#ifdef FOG
v_fog_pos=fog_position(p);
#endif
}`),hillshadePrepare:Me(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
return texture2D(u_image,coord).a/4.0;
#else
vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;
#endif
}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(
(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)
)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(
deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Me(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef LIGHTING_3D_MODE
gl_FragColor=apply_lighting(gl_FragColor);
#endif
#ifdef FOG
gl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),line:Me(`uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform sampler2D u_dash_image;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform sampler2D u_gradient_image;
#endif
uniform float u_border_width;uniform vec4 u_border_color;float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
float linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);
#ifdef RENDER_LINE_DASH
float sdfdist=texture2D(u_dash_image,v_tex).a;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;alpha*=linearstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);
#endif
highp vec4 out_color;
#ifdef RENDER_LINE_GRADIENT
out_color=texture2D(u_gradient_image,v_uv.xy);
#else
out_color=color;
#endif
float trimmed=1.0;
#ifdef RENDER_LINE_TRIM_OFFSET
highp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);trimmed=0.0;}}
#endif
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
#ifdef RENDER_LINE_ALPHA_DISCARD
if (alpha < u_alpha_discard_threshold) {discard;}
#endif
#ifdef RENDER_LINE_BORDER
float edgeBlur=(u_border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);
#ifdef RENDER_LINE_BORDER_AUTO
float Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}
#else
out_color.rgb=mix(u_border_color.rgb*u_border_color.a*trimmed,out_color.rgb,smoothAlpha);
#endif
}
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define EXTRUDE_SCALE 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
attribute highp vec4 a_packed;
#endif
#ifdef RENDER_LINE_DASH
attribute float a_linesofar;
#endif
uniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform float u_image_height;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
float a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];
#ifdef RENDER_LINE_GRADIENT
highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);
#else
v_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);
#endif
#endif
#ifdef RENDER_LINE_DASH
float scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/floorwidth,(-normal.y*height+dash.x+0.5)/u_texsize.y);
#endif
v_width2=vec2(outset,inset);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),linePattern:Me(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;vec2 pattern_size=vec2(display_size.x/u_tile_units_to_pixels,display_size.y);float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x=mod(v_linesofar/pattern_size.x*aspect,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));vec4 color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
color=apply_lighting(color);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),raster:Me(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(
dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply(out_color,v_fog_pos));
#endif
gl_FragColor=vec4(out_color*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),symbolIcon:Me(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}`),symbolSDF:Me(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}`),symbolTextAndIcon:Me(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}`),terrainRaster:Me(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
void main() {vec4 color=texture2D(u_image0,v_pos0);
#ifdef RENDER_SHADOWS
color.xyz=shadowed_color(color.xyz,v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
#ifdef ZERO_EXAGGERATION
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#else
color=fog_dither(fog_apply_from_vert(color,v_fog_opacity));
#endif
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
const float wireframeOffset=0.00015;void main() {vec3 decomposedPosAndSkirt=decomposeToPosAndSkirt(a_pos);float skirt=decomposedPosAndSkirt.z;vec2 decodedPos=decomposedPosAndSkirt.xy;float elevation=elevation(decodedPos)-skirt*u_skirt_height;
#ifdef TERRAIN_WIREFRAME
elevation+=wireframeOffset;
#endif
v_pos0=decodedPos/8192.0;gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);
#ifdef FOG
#ifdef ZERO_EXAGGERATION
v_fog_pos=fog_position(decodedPos);
#else
v_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));
#endif
#endif
#ifdef RENDER_SHADOWS
vec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;
#endif
}`),terrainDepth:Me(`#ifdef GL_ES
precision highp float;
#endif
varying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}`,"uniform mat4 u_matrix;attribute vec2 a_pos;varying float v_depth;void main() {float elevation=elevation(a_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:Me(`
varying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(
cos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;
#ifdef FOG
sky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);
#endif
sky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Es),skyboxGradient:Me(`varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));
#ifdef FOG
color.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;
#endif
color*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Es),skyboxCapture:Me(`
varying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;
#ifdef GL_ES
precision highp float;
#endif
#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)
#define BETA_M                  vec3(21e-6,21e-6,21e-6)
#define MIE_G                   0.76
#define DENSITY_HEIGHT_SCALE_R  8000.0
#define DENSITY_HEIGHT_SCALE_M  1200.0
#define PLANET_RADIUS           6360e3
#define ATMOSPHERE_RADIUS       6420e3
#define SAMPLE_STEPS            10
#define DENSITY_STEPS           4
float ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}`,"attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:Me(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifndef FOG
uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;
#endif
void main() {vec4 color;
#ifdef CUSTOM_ANTIALIASING
vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);color=vec4(raster.rgb*antialias,raster.a*antialias);
#else
color=texture2D(u_image0,v_pos0);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;uniform float u_skirt_height;
#ifdef GLOBE_POLES
attribute vec3 a_globe_pos;attribute vec2 a_uv;
#else
attribute vec2 a_pos;
#endif
varying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;vec2 uv=a_uv;
#else
float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);
#endif
v_pos0=uv;vec2 tile_pos=uv*EXTENT;vec3 globe_derived_up_vector=normalize(globe_pos)*u_tile_up_scale;
#ifdef GLOBE_POLES
vec3 up_vector=globe_derived_up_vector;
#else
vec3 up_vector=elevationVector(tile_pos);
#endif
float height=elevation(tile_pos);
#ifdef TERRAIN_WIREFRAME
height+=wireframeOffset;
#endif
globe_pos+=up_vector*height;
#ifndef GLOBE_POLES
globe_pos-=globe_derived_up_vector*u_skirt_height*decomposed_pos_and_skirt.z;
#endif
#ifdef GLOBE_POLES
vec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);
#else
vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height-u_skirt_height*decomposed_pos_and_skirt.z,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);
#endif
gl_Position=u_proj_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
}`),globeAtmosphere:Me(`uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;
#ifdef PROJECTION_GLOBE_VIEW
globe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}
#endif
highp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?
0.0 : max(acos(dot(dir,horizon_dir)),0.0);float horizon_angle;
#ifdef PROJECTION_GLOBE_VIEW
highp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?
PI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);
#else
horizon_angle=horizon_angle_mercator;
#endif
horizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:
(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:
uv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}`,`attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(
mix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}`)};function Ge(m,c){const h=m.replace(/\s*\/\/[^\n]*\n/g,`
`).split(`
`);for(let _ of h)if(_=_.trim(),_[0]==="#"&&_.includes("if")&&!_.includes("endif")){_=_.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const x=_.split(" ");for(const E of x)c.includes(E)||c.push(E)}}function Me(m,c){const h=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,_=c.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),x={},E=[...j];return Ge(m,E),Ge(c,E),{fragmentSource:m=m.replace(h,(P,D,L,q,H)=>(x[H]=!0,D==="define"?`
#ifndef HAS_UNIFORM_u_${H}
varying ${L} ${q} ${H};
#else
uniform ${L} ${q} u_${H};
#endif
`:`
#ifdef HAS_UNIFORM_u_${H}
    ${L} ${q} ${H} = u_${H};
#endif
`)),vertexSource:c=c.replace(h,(P,D,L,q,H)=>{const ee=q==="float"?"vec2":"vec4",de=H.match(/color/)?"color":ee;return x[H]?D==="define"?`
#ifndef HAS_UNIFORM_u_${H}
uniform lowp float u_${H}_t;
attribute ${L} ${ee} a_${H};
varying ${L} ${q} ${H};
#else
uniform ${L} ${q} u_${H};
#endif
`:de==="vec4"?`
#ifndef HAS_UNIFORM_u_${H}
    ${H} = a_${H};
#else
    ${L} ${q} ${H} = u_${H};
#endif
`:`
#ifndef HAS_UNIFORM_u_${H}
    ${H} = unpack_mix_${de}(a_${H}, u_${H}_t);
#else
    ${L} ${q} ${H} = u_${H};
#endif
`:D==="define"?`
#ifndef HAS_UNIFORM_u_${H}
uniform lowp float u_${H}_t;
attribute ${L} ${ee} a_${H};
#else
uniform ${L} ${q} u_${H};
#endif
`:de==="vec4"?`
#ifndef HAS_UNIFORM_u_${H}
    ${L} ${q} ${H} = a_${H};
#else
    ${L} ${q} ${H} = u_${H};
#endif
`:`
#ifndef HAS_UNIFORM_u_${H}
    ${L} ${q} ${H} = unpack_mix_${de}(a_${H}, u_${H}_t);
#else
    ${L} ${q} ${H} = u_${H};
#endif
`}),staticAttributes:_,usedDefines:E}}class st{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(c,h,_,x,E,P,D){this.context=c;let L=this.boundPaintVertexBuffers.length!==x.length;for(let H=0;!L&&H<x.length;H++)this.boundPaintVertexBuffers[H]!==x[H]&&(L=!0);let q=this.boundDynamicVertexBuffers.length!==D.length;for(let H=0;!q&&H<D.length;H++)this.boundDynamicVertexBuffers[H]!==D[H]&&(q=!0);if(!c.extVertexArrayObject||!this.vao||this.boundProgram!==h||this.boundLayoutVertexBuffer!==_||L||q||this.boundIndexBuffer!==E||this.boundVertexOffset!==P)this.freshBind(h,_,x,E,P,D);else{c.bindVertexArrayOES.set(this.vao);for(const H of D)H&&H.bind();E&&E.dynamicDraw&&E.bind()}}freshBind(c,h,_,x,E,P){let D;const L=c.numAttributes,q=this.context,H=q.gl;if(q.extVertexArrayObject)this.vao&&this.destroy(),this.vao=q.extVertexArrayObject.createVertexArrayOES(),q.bindVertexArrayOES.set(this.vao),D=0,this.boundProgram=c,this.boundLayoutVertexBuffer=h,this.boundPaintVertexBuffers=_,this.boundIndexBuffer=x,this.boundVertexOffset=E,this.boundDynamicVertexBuffers=P;else{D=q.currentNumAttributes||0;for(let ee=L;ee<D;ee++)H.disableVertexAttribArray(ee)}h.enableAttributes(H,c),h.bind(),h.setVertexAttribPointers(H,c,E);for(const ee of _)ee.enableAttributes(H,c),ee.bind(),ee.setVertexAttribPointers(H,c,E);for(const ee of P)ee&&(ee.enableAttributes(H,c),ee.bind(),ee.setVertexAttribPointers(H,c,E));x&&x.bind(),q.currentNumAttributes=L}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function Ot(m,c){const h=Math.pow(2,c.canonical.z),_=c.canonical.y;return[new a.MercatorCoordinate(0,_/h).toLngLat().lat,new a.MercatorCoordinate(0,(_+1)/h).toLngLat().lat]}function Vt(m,c,h,_,x,E,P){const D=m.context,L=D.gl,q=h.fbo;if(!q)return;m.prepareDrawTile();const H=m.useProgram("hillshade");D.activeTexture.set(L.TEXTURE0),L.bindTexture(L.TEXTURE_2D,q.colorAttachment.get());const ee=((ge,be,te,pe)=>{const Te=te.paint.get("hillshade-shadow-color"),Ie=te.paint.get("hillshade-highlight-color"),Ze=te.paint.get("hillshade-accent-color");let Ke=te.paint.get("hillshade-illumination-direction")*(Math.PI/180);te.paint.get("hillshade-illumination-anchor")==="viewport"&&(Ke-=ge.transform.angle);const Xe=!ge.options.moving;return{u_matrix:pe||ge.transform.calculateProjMatrix(be.tileID.toUnwrapped(),Xe),u_image:0,u_latrange:Ot(0,be.tileID),u_light:[te.paint.get("hillshade-exaggeration"),Ke],u_shadow:Te,u_highlight:Ie,u_accent:Ze}})(m,h,_,m.terrain?c.projMatrix:null);m.prepareDrawProgram(D,H,c.toUnwrapped());const{tileBoundsBuffer:de,tileBoundsIndexBuffer:fe,tileBoundsSegments:ye}=m.getTileBoundsBuffers(h);H.draw(D,L.TRIANGLES,x,E,P,a.CullFaceMode.disabled,ee,_.id,de,fe,ye)}function Tt(m,c,h){if(!c.needsDEMTextureUpload)return;const _=m.context,x=_.gl;_.pixelStoreUnpackPremultiplyAlpha.set(!1),c.demTexture=c.demTexture||m.getTileTexture(h.stride);const E=h.getPixels();c.demTexture?c.demTexture.update(E,{premultiply:!1}):c.demTexture=new a.Texture(_,E,x.RGBA,{premultiply:!1}),c.needsDEMTextureUpload=!1}function cn(m,c,h,_,x,E){const P=m.context,D=P.gl;if(!c.dem)return;const L=c.dem;if(P.activeTexture.set(D.TEXTURE1),Tt(m,c,L),!c.demTexture)return;c.demTexture.bind(D.NEAREST,D.CLAMP_TO_EDGE);const q=L.dim;P.activeTexture.set(D.TEXTURE0);let H=c.fbo;if(!H){const ye=new a.Texture(P,{width:q,height:q,data:null},D.RGBA);ye.bind(D.LINEAR,D.CLAMP_TO_EDGE),H=c.fbo=P.createFramebuffer(q,q,!0),H.colorAttachment.set(ye.texture)}P.bindFramebuffer.set(H.framebuffer),P.viewport.set([0,0,q,q]);const{tileBoundsBuffer:ee,tileBoundsIndexBuffer:de,tileBoundsSegments:fe}=m.getMercatorTileBoundsBuffers();m.useProgram("hillshadePrepare").draw(P,D.TRIANGLES,_,x,E,a.CullFaceMode.disabled,((ye,ge)=>{const be=ge.stride,te=a.create();return a.ortho(te,0,a.EXTENT,-a.EXTENT,0,0,1),a.translate(te,te,[0,-a.EXTENT,0]),{u_matrix:te,u_image:1,u_dimension:[be,be],u_zoom:ye.overscaledZ,u_unpack:ge.unpackVector}})(c.tileID,L),h.id,ee,de,fe),c.needsHillshadePrepare=!1}const rr=m=>({u_matrix:new a.UniformMatrix4f(m),u_image0:new a.Uniform1i(m),u_skirt_height:new a.Uniform1f(m)}),Cr=(m,c)=>({u_matrix:m,u_image0:0,u_skirt_height:c}),_r=(m,c,h,_,x,E,P,D,L,q,H,ee,de,fe,ye)=>({u_proj_matrix:Float32Array.from(m),u_globe_matrix:c,u_normalize_matrix:Float32Array.from(_),u_merc_matrix:h,u_zoom_transition:x,u_merc_center:E,u_image0:0,u_frustum_tl:P,u_frustum_tr:D,u_frustum_br:L,u_frustum_bl:q,u_globe_pos:H,u_globe_radius:ee,u_viewport:de,u_grid_matrix:ye?Float32Array.from(ye):new Float32Array(9),u_skirt_height:fe});function Di(m,c){return m!=null&&c!=null&&!(!m.hasData()||!c.hasData())&&m.demTexture!=null&&c.demTexture!=null&&m.tileID.key!==c.tileID.key}const ri=new class{constructor(){this.operations={}}newMorphing(m,c,h,_,x){if(m in this.operations){const E=this.operations[m];E.to.tileID.key!==h.tileID.key&&(E.queued=h)}else this.operations[m]={startTime:_,phase:0,duration:x,from:c,to:h,queued:null}}getMorphValuesForProxy(m){if(!(m in this.operations))return null;const c=this.operations[m];return{from:c.from,to:c.to,phase:c.phase}}update(m){for(const c in this.operations){const h=this.operations[c];for(h.phase=(m-h.startTime)/h.duration;h.phase>=1||!this._validOp(h);)if(!this._nextOp(h,m)){delete this.operations[c];break}}}_nextOp(m,c){return!!m.queued&&(m.from=m.to,m.to=m.queued,m.queued=null,m.phase=0,m.startTime=c,!0)}_validOp(m){return m.from.hasData()&&m.to.hasData()}},Eo={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function ia(m){return 6*Math.pow(1.5,22-m)}function kr(m,c){const h=1<<m.z;return!c&&(m.x===0||m.x===h-1)||m.y===0||m.y===h-1}const Va=m=>({u_matrix:m});function Dr(m,c,h,_,x){if(x>0){const E=a.exported.now(),P=(E-m.timeAdded)/x,D=c?(E-c.timeAdded)/x:-1,L=h.getSource(),q=_.coveringZoomLevel({tileSize:L.tileSize,roundZoom:L.roundZoom}),H=!c||Math.abs(c.tileID.overscaledZ-q)>Math.abs(m.tileID.overscaledZ-q),ee=H&&m.refreshedUponExpiration?1:a.clamp(H?P:1-D,0,1);return m.refreshedUponExpiration&&P>=1&&(m.refreshedUponExpiration=!1),c?{opacity:1,mix:1-ee}:{opacity:ee,mix:0}}return{opacity:1,mix:0}}class wi extends a.SourceCache{constructor(c){const h={type:"raster-dem",maxzoom:c.transform.maxZoom},_=new je(pn(),null),x=$n("mock-dem",h,_,c.style);super("mock-dem",x,!1),x.setEventedParent(this),this._sourceLoaded=!0}_loadTile(c,h){c.state="loaded",h(null)}}class Ys extends a.SourceCache{constructor(c){const h=$n("proxy",{type:"geojson",maxzoom:c.transform.maxZoom},new je(pn(),null),c.style);super("proxy",h,!1),h.setEventedParent(this),this.map=this.getSource().map=c,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(c,h,_){if(c.freezeTileCoverage)return;this.transform=c;const x=c.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((E,P)=>{if(E[P.key]="",!this._tiles[P.key]){const D=new a.Tile(P,this._source.tileSize*P.overscaleFactor(),c.tileZoom);D.state="loaded",this._tiles[P.key]=D}return E},{});for(const E in this._tiles)E in x||(this.freeFBO(E),this._tiles[E].unloadVectorData(),delete this._tiles[E])}freeFBO(c){const h=this.proxyCachedFBO[c];if(h!==void 0){const _=Object.values(h);this.renderCachePool.push(..._),delete this.proxyCachedFBO[c]}}deallocRenderCache(){this.renderCache.forEach(c=>c.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class wc extends a.OverscaledTileID{constructor(c,h,_){super(c.overscaledZ,c.wrap,c.canonical.z,c.canonical.x,c.canonical.y),this.proxyTileKey=h,this.projMatrix=_}}class _a extends a.Elevation{constructor(c,h){super(),this.painter=c,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[_,x,E]=function(L){const q=new a.StructArrayLayout2i4,H=new a.StructArrayLayout3ui6,ee=131;q.reserve(17161),H.reserve(33800);const de=a.EXTENT/128,fe=a.EXTENT+de/2,ye=fe+de;for(let be=-de;be<ye;be+=de)for(let te=-de;te<ye;te+=de){const pe=te<0||te>fe||be<0||be>fe?24575:0,Te=a.clamp(Math.round(te),0,a.EXTENT),Ie=a.clamp(Math.round(be),0,a.EXTENT);q.emplaceBack(Te+pe,Ie)}const ge=(be,te)=>{const pe=te*ee+be;H.emplaceBack(pe+1,pe,pe+ee),H.emplaceBack(pe+ee,pe+ee+1,pe+1)};for(let be=1;be<129;be++)for(let te=1;te<129;te++)ge(te,be);return[0,129].forEach(be=>{for(let te=0;te<130;te++)ge(te,be),ge(be,te)}),[q,H,32768]}(),P=c.context;this.gridBuffer=P.createVertexBuffer(_,a.posAttributes.members),this.gridIndexBuffer=P.createIndexBuffer(x),this.gridSegments=a.SegmentVector.simpleSegment(0,0,_.length,x.length),this.gridNoSkirtSegments=a.SegmentVector.simpleSegment(0,0,_.length,E),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new Ys(h.map),this.orthoMatrix=a.create(),a.ortho(this.orthoMatrix,this.painter.transform.projection.name==="globe"?.015:0,a.EXTENT,0,a.EXTENT,0,1);const D=P.gl;this._overlapStencilMode=new a.StencilMode({func:D.GEQUAL,mask:255},0,255,D.KEEP,D.KEEP,D.REPLACE),this._previousZoom=c.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=h,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new wi(h.map)}set style(c){c.on("data",this._onStyleDataEvent.bind(this)),c.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=c,this._checkRenderCacheEfficiency(),this._style.map.on("moveend",()=>{this._clearLineLayersFromRenderCache()})}update(c,h,_){if(c&&c.terrain){this._style!==c&&(this.style=c),this.enabled=!0;const x=c.terrain.properties;this.sourceCache=c.terrain.drapeRenderMode===0?this._mockSourceCache:c._getSourceCache(x.get("source")),this._exaggeration=x.get("exaggeration");const E=()=>{this.sourceCache.used&&a.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.
This leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const P=this.getScaledDemTileSize();this.sourceCache.update(h,P,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,E(),this._initializing=!0),E(),h.updateElevation(!0,_),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(h),this._emptyDEMTextureDirty=!0}else this._disable()}resetTileLookupCache(c){this._findCoveringTileCache[c]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_checkRenderCacheEfficiency(){const c=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||c.efficiency!==100&&a.warnOnce(`Terrain render cache efficiency is not optimal (${c.efficiency}%) and performance
                may be affected negatively, consider placing all background, fill and line layers before layer
                with id '${c.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(c){c.coord&&c.dataType==="source"?this._clearRenderCacheForTile(c.sourceCacheId,c.coord):c.dataType==="style"&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const c in this._style._sourceCaches)this._style._sourceCaches[c].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach(c=>c.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const c=2*this.proxySourceCache.getSource().tileSize;return[c,c]}set useVertexMorphing(c){this._useVertexMorphing=c}updateTileBinding(c){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const h=this.proxySourceCache,_=this.painter.transform;this._initializing&&(this._initializing=_._centerAltitude===0&&this.getAtPointOrZero(a.MercatorCoordinate.fromLngLat(_.center),-1)===-1,this._emptyDEMTextureDirty=!this._initializing);const x=this.proxyCoords=h.getIds().map(L=>{const q=h.getTileByID(L).tileID;return q.projMatrix=_.calculateProjMatrix(q.toUnwrapped()),q});(function(L,q){const H=q.transform.pointCoordinate(q.transform.getCameraPoint()),ee=new a.Point(H.x,H.y);L.sort((de,fe)=>{if(fe.overscaledZ-de.overscaledZ)return fe.overscaledZ-de.overscaledZ;const ye=new a.Point(de.canonical.x+(1<<de.canonical.z)*de.wrap,de.canonical.y),ge=new a.Point(fe.canonical.x+(1<<fe.canonical.z)*fe.wrap,fe.canonical.y),be=ee.mult(1<<de.canonical.z);return be.x-=.5,be.y-=.5,be.distSqr(ye)-be.distSqr(ge)})})(x,this.painter),this._previousZoom=_.zoom;const E=this.proxyToSource||{};this.proxyToSource={},x.forEach(L=>{this.proxyToSource[L.key]={}}),this.terrainTileForTile={};const P=this._style._sourceCaches;for(const L in P){const q=P[L];if(!q.used||(q!==this.sourceCache&&this.resetTileLookupCache(q.id),this._setupProxiedCoordsForOrtho(q,c[L],E),q.usedForTerrain))continue;const H=c[L];q.getSource().reparseOverscaled&&this._assignTerrainTiles(H)}this.proxiedCoords[h.id]=x.map(L=>new wc(L,L.key,this.orthoMatrix)),this._assignTerrainTiles(x),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(E),this.renderingToTexture=!1,this._updateTimestamp=a.exported.now();const D={};this._visibleDemTiles=[];for(const L of this.proxyCoords){const q=this.terrainTileForTile[L.key];if(!q)continue;const H=q.tileID.key;H in D||(this._visibleDemTiles.push(q),D[H]=H)}}_assignTerrainTiles(c){this._initializing||c.forEach(h=>{if(this.terrainTileForTile[h.key])return;const _=this._findTileCoveringTileID(h,this.sourceCache);_&&(this.terrainTileForTile[h.key]=_)})}_prepareDEMTextures(){const c=this.painter.context,h=c.gl;for(const _ in this.terrainTileForTile){const x=this.terrainTileForTile[_],E=x.dem;!E||x.demTexture&&!x.needsDEMTextureUpload||(c.activeTexture.set(h.TEXTURE1),Tt(this.painter,x,E))}}_prepareDemTileUniforms(c,h,_,x){if(!h||h.demTexture==null)return!1;const E=c.tileID.canonical,P=Math.pow(2,h.tileID.canonical.z-E.z),D=x||"";return _[`u_dem_tl${D}`]=[E.x*P%1,E.y*P%1],_[`u_dem_scale${D}`]=P,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const c=this.painter.context,h=c.gl;if(!this._emptyDepthBufferTexture){const _=new a.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new a.Texture(c,_,h.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let c=0;const h=this._visibleDemTiles.reduce((_,x)=>{if(!x.dem)return _;const E=x.dem.tree.minimums[0];return E>0&&c++,_+E},0);return c?h/c:0}_updateEmptyDEMTexture(){const c=this.painter.context,h=c.gl;c.activeTexture.set(h.TEXTURE2);const _=this._getLoadedAreaMinimum(),x=new a.RGBAImage({width:1,height:1},new Uint8Array(a.DEMData.pack(_,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;let E=this._emptyDEMTexture;return E?E.update(x,{premultiply:!1}):E=this._emptyDEMTexture=new a.Texture(c,x,h.RGBA,{premultiply:!1}),E}setupElevationDraw(c,h,_){const x=this.painter.context,E=x.gl,P=(D=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:a.DEMData.getUnpackVector(D),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var D;P.u_dem_size=this.sourceCache.getSource().tileSize,P.u_exaggeration=this.exaggeration();let L=null,q=null,H=1;if(_&&_.morphing&&this._useVertexMorphing){const ee=_.morphing.srcDemTile,de=_.morphing.dstDemTile;H=_.morphing.phase,ee&&de&&(this._prepareDemTileUniforms(c,ee,P,"_prev")&&(q=ee),this._prepareDemTileUniforms(c,de,P)&&(L=de))}if(q&&L?(x.activeTexture.set(E.TEXTURE2),L.demTexture.bind(E.NEAREST,E.CLAMP_TO_EDGE,E.NEAREST),x.activeTexture.set(E.TEXTURE4),q.demTexture.bind(E.NEAREST,E.CLAMP_TO_EDGE,E.NEAREST),P.u_dem_lerp=H):(L=this.terrainTileForTile[c.tileID.key],x.activeTexture.set(E.TEXTURE2),(this._prepareDemTileUniforms(c,L,P)?L.demTexture:this.emptyDEMTexture).bind(E.NEAREST,E.CLAMP_TO_EDGE)),x.activeTexture.set(E.TEXTURE3),_&&_.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(E.NEAREST,E.CLAMP_TO_EDGE),this._depthFBO&&(P.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(E.NEAREST,E.CLAMP_TO_EDGE),P.u_depth_size_inv=[1,1]),_&&_.useMeterToDem&&L){const ee=(1<<L.tileID.canonical.z)*a.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;P.u_meter_to_dem=ee}if(_&&_.labelPlaneMatrixInv&&(P.u_label_plane_matrix_inv=_.labelPlaneMatrixInv),h.setTerrainUniformValues(x,P),this.painter.transform.projection.name==="globe"){const ee=this.globeUniformValues(this.painter.transform,c.tileID.canonical,_&&_.useDenormalizedUpVectorScale);h.setGlobeUniformValues(x,ee)}}globeUniformValues(c,h,_){const x=c.projection;return{u_tile_tl_up:x.upVector(h,0,0),u_tile_tr_up:x.upVector(h,a.EXTENT,0),u_tile_br_up:x.upVector(h,a.EXTENT,a.EXTENT),u_tile_bl_up:x.upVector(h,0,a.EXTENT),u_tile_up_scale:_?a.globeMetersToEcef(1):x.upVectorScale(h,c.center.lat,c.worldSize).metersToTile}}renderToBackBuffer(c){const h=this.painter,_=this.painter.context;c.length!==0&&(_.bindFramebuffer.set(null),_.viewport.set([0,0,h.width,h.height]),h.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(x,E,P,D,L){if(x.transform.projection.name==="globe")(function(q,H,ee,de,fe){const ye=q.context,ge=ye.gl;let be,te;const pe=q.options.showTerrainWireframe?2:0,Te=q.transform,Ie=a.globeUseCustomAntiAliasing(q,ye,Te),Ze=(Xt,mt)=>{if(te===Xt)return;const zt=[Eo[Xt],"PROJECTION_GLOBE_VIEW"];Ie&&zt.push("CUSTOM_ANTIALIASING"),mt&&zt.push(Eo[pe]),be=q.useProgram("globeRaster",null,zt),te=Xt},Ke=q.colorModeForRenderPass(),Xe=new a.DepthMode(ge.LEQUAL,a.DepthMode.ReadWrite,q.depthRangeFor3D);ri.update(fe);const at=a.calculateGlobeMercatorMatrix(Te),it=[a.mercatorXfromLng(Te.center.lng),a.mercatorYfromLat(Te.center.lat)],gt=pe?[!1,!0]:[!1],Kt=q.globeSharedBuffers,dt=[Te.width*a.exported.devicePixelRatio,Te.height*a.exported.devicePixelRatio],Ft=Float32Array.from(Te.globeMatrix),wt={useDenormalizedUpVectorScale:!0};if(gt.forEach(Xt=>{const mt=q.transform,zt=ia(mt.zoom)*H.exaggeration();te=-1;const Jt=Xt?ge.LINES:ge.TRIANGLES;for(const Wt of de){const tn=ee.getTile(Wt),Un=a.StencilMode.disabled,nr=H.prevTerrainTileForTile[Wt.key],kn=H.terrainTileForTile[Wt.key];Di(nr,kn)&&ri.newMorphing(Wt.key,nr,kn,fe,250),ye.activeTexture.set(ge.TEXTURE0),tn.texture.bind(ge.LINEAR,ge.CLAMP_TO_EDGE);const Zn=ri.getMorphValuesForProxy(Wt.key),Tr=Zn?1:0;Zn&&a.extend$1(wt,{morphing:{srcDemTile:Zn.from,dstDemTile:Zn.to,phase:a.easeCubicInOut(Zn.phase)}});const xr=a.tileCornersToBounds(Wt.canonical),Ln=a.getLatitudinalLod(xr.getCenter().lat),jr=a.getGridMatrix(Wt.canonical,xr,Ln,mt.worldSize/mt._pixelsPerMercatorPixel),qr=a.globeNormalizeECEF(a.globeTileBounds(Wt.canonical)),Gr=_r(mt.projMatrix,Ft,at,qr,a.globeToMercatorTransition(mt.zoom),it,mt.frustumCorners.TL,mt.frustumCorners.TR,mt.frustumCorners.BR,mt.frustumCorners.BL,mt.globeCenterInViewSpace,mt.globeRadius,dt,zt,jr);if(Ze(Tr,Xt),H.setupElevationDraw(tn,be,wt),q.prepareDrawProgram(ye,be,Wt.toUnwrapped()),Kt){const[Zr,Ko,To]=Xt?Kt.getWirefameBuffers(q.context,Ln):Kt.getGridBuffers(Ln,zt!==0);be.draw(ye,Jt,Xe,Un,Ke,a.CullFaceMode.backCCW,Gr,"globe_raster",Zr,Ko,To)}}}),Kt){const Xt=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];Ie&&Xt.push("CUSTOM_ANTIALIASING"),be=q.useProgram("globeRaster",null,Xt);for(const mt of de){const{x:zt,y:Jt,z:Wt}=mt.canonical,tn=Jt===0,Un=Jt===(1<<Wt)-1,[nr,kn,Zn,Tr]=Kt.getPoleBuffers(Wt);if(Tr&&(tn||Un)){const xr=ee.getTile(mt);ye.activeTexture.set(ge.TEXTURE0),xr.texture.bind(ge.LINEAR,ge.CLAMP_TO_EDGE);let Ln=a.globePoleMatrixForTile(Wt,zt,Te);const jr=a.globeNormalizeECEF(a.globeTileBounds(mt.canonical)),qr=(Gr,Zr)=>Gr.draw(ye,ge.TRIANGLES,Xe,a.StencilMode.disabled,Ke,a.CullFaceMode.disabled,_r(Te.projMatrix,Ln,Ln,jr,0,it,Te.frustumCorners.TL,Te.frustumCorners.TR,Te.frustumCorners.BR,Te.frustumCorners.BL,Te.globeCenterInViewSpace,Te.globeRadius,dt,0),"globe_pole_raster",Zr,Zn,Tr);H.setupElevationDraw(xr,be,wt),q.prepareDrawProgram(ye,be,mt.toUnwrapped()),tn&&qr(be,nr),Un&&(Ln=a.scale(a.create(),Ln,[1,-1,1]),qr(be,kn))}}}})(x,E,P,D,L);else{const q=x.context,H=q.gl;let ee,de;const fe=x.options.showTerrainWireframe?2:0,ye=(Te,Ie)=>{if(de===Te)return;const Ze=[Eo[Te]];Ie&&Ze.push(Eo[fe]),ee=x.useProgram("terrainRaster",null,Ze),de=Te},ge=x.colorModeForRenderPass(),be=new a.DepthMode(H.LEQUAL,a.DepthMode.ReadWrite,x.depthRangeFor3D);ri.update(L);const te=x.transform,pe=ia(te.zoom)*E.exaggeration();(fe?[!1,!0]:[!1]).forEach(Te=>{de=-1;const Ie=Te?H.LINES:H.TRIANGLES,[Ze,Ke]=Te?E.getWirefameBuffer():[E.gridIndexBuffer,E.gridSegments];for(const Xe of D){const at=P.getTile(Xe),it=a.StencilMode.disabled,gt=E.prevTerrainTileForTile[Xe.key],Kt=E.terrainTileForTile[Xe.key];Di(gt,Kt)&&ri.newMorphing(Xe.key,gt,Kt,L,250),q.activeTexture.set(H.TEXTURE0),at.texture.bind(H.LINEAR,H.CLAMP_TO_EDGE,H.LINEAR_MIPMAP_NEAREST);const dt=ri.getMorphValuesForProxy(Xe.key),Ft=dt?1:0;let wt;dt&&(wt={morphing:{srcDemTile:dt.from,dstDemTile:dt.to,phase:a.easeCubicInOut(dt.phase)}});const Xt=Cr(Xe.projMatrix,kr(Xe.canonical,te.renderWorldCopies)?pe/10:pe);ye(Ft,Te),E.setupElevationDraw(at,ee,wt),x.prepareDrawProgram(q,ee,Xe.toUnwrapped()),ee.draw(q,Ie,be,it,ge,a.CullFaceMode.backCCW,Xt,"terrain_raster",E.gridBuffer,Ze,Ke)}})}}(h,this,this.proxySourceCache,c,this._updateTimestamp),this.renderingToTexture=!0,h.gpuTimingDeferredRenderEnd(),c.splice(0,c.length))}renderBatch(c){if(this._drapedRenderBatches.length===0)return c+1;this.renderingToTexture=!0;const h=this.painter,_=this.painter.context,x=this.proxySourceCache,E=this.proxiedCoords[x.id],P=this._drapedRenderBatches.shift(),D=[],L=h.style.order;let q=0;for(const H of E){const ee=x.getTileByID(H.proxyTileKey),de=x.proxyCachedFBO[H.key]?x.proxyCachedFBO[H.key][c]:void 0,fe=de!==void 0?x.renderCache[de]:this.pool[q++],ye=de!==void 0;if(ee.texture=fe.tex,ye&&!fe.dirty){D.push(ee.tileID);continue}let ge;_.bindFramebuffer.set(fe.fb.framebuffer),this.renderedToTile=!1,fe.dirty&&(_.clear({color:a.Color.transparent,stencil:0}),fe.dirty=!1);for(let be=P.start;be<=P.end;++be){const te=h.style._layers[L[be]];if(te.isHidden(h.transform.zoom))continue;const pe=h.style._getLayerSourceCache(te),Te=pe?this.proxyToSource[H.key][pe.id]:[H];if(!Te)continue;const Ie=Te;_.viewport.set([0,0,fe.fb.width,fe.fb.height]),ge!==(pe?pe.id:null)&&(this._setupStencil(fe,Te,te,pe),ge=pe?pe.id:null),h.renderLayer(h,pe,te,Ie)}this.renderedToTile?(fe.dirty=!0,D.push(ee.tileID)):ye||--q,q===5&&(q=0,this.renderToBackBuffer(D))}return this.renderToBackBuffer(D),this.renderingToTexture=!1,_.bindFramebuffer.set(null),_.viewport.set([0,0,h.width,h.height]),P.end+1}postRender(){}renderCacheEfficiency(c){const h=c.order.length;if(h===0)return{efficiency:100};let _,x=0,E=0,P=!1;for(let D=0;D<h;++D){const L=c._layers[c.order[D]];this._style.isLayerDraped(L)?(P&&++x,++E):P||(P=!0,_=L.id)}return E===0?{efficiency:100}:{efficiency:100*(1-x/E),firstUndrapedLayer:_}}getMinElevationBelowMSL(){let c=0;return this._visibleDemTiles.filter(h=>h.dem).forEach(h=>{c=Math.min(c,h.dem.tree.minimums[0])}),c===0?c:(c-30)*this._exaggeration}raycast(c,h,_){if(!this._visibleDemTiles)return null;const x=this._visibleDemTiles.filter(E=>E.dem).map(E=>{const P=E.tileID,D=1<<P.overscaledZ,{x:L,y:q}=P.canonical,H=L/D,ee=(L+1)/D,de=q/D,fe=(q+1)/D;return{minx:H,miny:de,maxx:ee,maxy:fe,t:E.dem.tree.raycastRoot(H,de,ee,fe,c,h,_),tile:E}});x.sort((E,P)=>(E.t!==null?E.t:Number.MAX_VALUE)-(P.t!==null?P.t:Number.MAX_VALUE));for(const E of x){if(E.t==null)return null;const P=E.tile.dem.tree.raycast(E.minx,E.miny,E.maxx,E.maxy,c,h,_);if(P!=null)return P}return null}_createFBO(){const c=this.painter.context,h=c.gl,_=this.drapeBufferSize;c.activeTexture.set(h.TEXTURE0);const x=new a.Texture(c,{width:_[0],height:_[1],data:null},h.RGBA);x.bind(h.LINEAR,h.CLAMP_TO_EDGE);const E=c.createFramebuffer(_[0],_[1],!1);return E.colorAttachment.set(x.texture),E.depthAttachment=new qe(c,E.framebuffer),this._sharedDepthStencil===void 0?(this._sharedDepthStencil=c.createRenderbuffer(c.gl.DEPTH_STENCIL,_[0],_[1]),this._stencilRef=0,E.depthAttachment.set(this._sharedDepthStencil),c.clear({stencil:0})):E.depthAttachment.set(this._sharedDepthStencil),c.extTextureFilterAnisotropic&&!c.extTextureFilterAnisotropicForceOff&&h.texParameterf(h.TEXTURE_2D,c.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,c.extTextureFilterAnisotropicMax),{fb:E,tex:x,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const c in this._style._sourceCaches)if(this._style._sourceCaches[c].hasTransition())return!0;return this._style.order.some(c=>{const h=this._style._layers[c],_=h.isHidden(this.painter.transform.zoom);return h.type==="custom"?!_&&h.shouldRedrape():!_&&h.hasTransition()})}_clearLineLayersFromRenderCache(){let c=!1;for(const _ of this._style._getSources())if(_ instanceof xt){c=!0;break}if(!c)return;const h={};for(let _=0;_<this._style.order.length;++_){const x=this._style._layers[this._style.order[_]],E=this._style._getLayerSourceCache(x);if(E&&!h[E.id]&&!x.isHidden(this.painter.transform.zoom)&&x.type==="line"&&x.widthExpression()instanceof a.ZoomDependentExpression){h[E.id]=!0;for(const P of this.proxyCoords){const D=this.proxyToSource[P.key][E.id];if(D)for(const L of D)this._clearRenderCacheForTile(E.id,L)}}}}_clearRasterLayersFromRenderCache(){let c=!1;for(const _ in this._style._sourceCaches)if(this._style._sourceCaches[_]._source instanceof kt){c=!0;break}if(!c)return;const h={};for(let _=0;_<this._style.order.length;++_){const x=this._style._layers[this._style.order[_]],E=this._style._getLayerSourceCache(x);if(!E||h[E.id]||x.isHidden(this.painter.transform.zoom)||x.type!=="raster")continue;const P=x.paint.get("raster-fade-duration");for(const D of this.proxyCoords){const L=this.proxyToSource[D.key][E.id];if(L)for(const q of L){const H=Dr(E.getTile(q),E.findLoadedParent(q,0),E,this.painter.transform,P);(H.opacity!==1||H.mix!==0)&&this._clearRenderCacheForTile(E.id,q)}}}}_setupDrapedRenderBatches(){const c=this._style.order,h=c.length;if(h===0)return;const _=[];let x,E=0,P=this._style._layers[c[E]];for(;!this._style.isLayerDraped(P)&&P.isHidden(this.painter.transform.zoom)&&++E<h;)P=this._style._layers[c[E]];for(;E<h;++E){const D=this._style._layers[c[E]];D.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(D)?x===void 0&&(x=E):x!==void 0&&(_.push({start:x,end:E-1}),x=void 0))}x!==void 0&&_.push({start:x,end:E-1}),this._drapedRenderBatches=_}_setupRenderCache(c){const h=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,h.renderCache.length>h.renderCachePool.length){const P=Object.values(h.proxyCachedFBO);h.proxyCachedFBO={};for(let D=0;D<P.length;++D){const L=Object.values(P[D]);h.renderCachePool.push(...L)}}return}this._clearRasterLayersFromRenderCache();const _=this.proxyCoords,x=this._tilesDirty;for(let P=_.length-1;P>=0;P--){const D=_[P];if(h.getTileByID(D.key),h.proxyCachedFBO[D.key]!==void 0){const L=c[D.key],q=this.proxyToSource[D.key];let H=0;for(const ee in q){const de=q[ee],fe=L[ee];if(!fe||fe.length!==de.length||de.some((ye,ge)=>ye!==fe[ge]||x[ee]&&x[ee].hasOwnProperty(ye.key))){H=-1;break}++H}for(const ee in h.proxyCachedFBO[D.key])h.renderCache[h.proxyCachedFBO[D.key][ee]].dirty=H<0||H!==Object.values(L).length}}const E=[...this._drapedRenderBatches];E.sort((P,D)=>D.end-D.start-(P.end-P.start));for(const P of E)for(const D of _){if(h.proxyCachedFBO[D.key])continue;let L=h.renderCachePool.pop();L===void 0&&h.renderCache.length<50&&(L=h.renderCache.length,h.renderCache.push(this._createFBO())),L!==void 0&&(h.proxyCachedFBO[D.key]={},h.proxyCachedFBO[D.key][P.start]=L,h.renderCache[L].dirty=!0)}this._tilesDirty={}}_setupStencil(c,h,_,x){if(!x||!this._sourceTilesOverlap[x.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const E=this.painter.context,P=E.gl;if(h.length<=1)return void(this._overlapStencilType=!1);let D;if(_.isTileClipped())D=h.length,this._overlapStencilMode.test={func:P.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(h[0].overscaledZ>h[h.length-1].overscaledZ))return void(this._overlapStencilType=!1);D=1,this._overlapStencilMode.test={func:P.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+D>255&&(E.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=D,this._overlapStencilMode.ref=this._stencilRef,_.isTileClipped()&&this._renderTileClippingMasks(h,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return this._overlapStencilType==="Clip"||this._overlapStencilType==="Mask"}stencilModeForRTTOverlap(c){return this.renderingToTexture&&this._overlapStencilType?(this._overlapStencilType==="Clip"&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[c.key]),this._overlapStencilMode):a.StencilMode.disabled}_renderTileClippingMasks(c,h){const _=this.painter,x=this.painter.context,E=x.gl;_._tileClippingMaskIDs={},x.setColorMode(a.ColorMode.disabled),x.setDepthMode(a.DepthMode.disabled);const P=_.useProgram("clippingMask");for(const D of c){const L=_._tileClippingMaskIDs[D.key]=--h;P.draw(x,E.TRIANGLES,a.DepthMode.disabled,new a.StencilMode({func:E.ALWAYS,mask:0},L,255,E.KEEP,E.KEEP,E.REPLACE),a.ColorMode.disabled,a.CullFaceMode.disabled,Va(D.projMatrix),"$clipping",_.tileExtentBuffer,_.quadTriangleIndexBuffer,_.tileExtentSegments)}}pointCoordinate(c){const h=this.painter.transform;if(c.x<0||c.x>h.width||c.y<0||c.y>h.height)return null;const _=[c.x,c.y,1,1];a.transformMat4$1(_,_,h.pixelMatrixInverse),a.scale$1(_,_,1/_[3]),_[0]/=h.worldSize,_[1]/=h.worldSize;const x=h._camera.position,E=a.mercatorZfromAltitude(1,h.center.lat),P=[x[0],x[1],x[2]/E,0],D=a.subtract([],_.slice(0,3),P);a.normalize(D,D);const L=this.raycast(P,D,this._exaggeration);return L!==null&&L?(a.scaleAndAdd(P,P,D,L),P[3]=P[2],P[2]*=E,P):null}drawDepth(){const c=this.painter,h=c.context,_=this.proxySourceCache,x=Math.ceil(c.width),E=Math.ceil(c.height);if(!this._depthFBO||this._depthFBO.width===x&&this._depthFBO.height===E||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const P=h.gl,D=h.createFramebuffer(x,E,!0);h.activeTexture.set(P.TEXTURE0);const L=new a.Texture(h,{width:x,height:E,data:null},P.RGBA);L.bind(P.NEAREST,P.CLAMP_TO_EDGE),D.colorAttachment.set(L.texture);const q=h.createRenderbuffer(h.gl.DEPTH_COMPONENT16,x,E);D.depthAttachment.set(q),this._depthFBO=D,this._depthTexture=L}h.bindFramebuffer.set(this._depthFBO.framebuffer),h.viewport.set([0,0,x,E]),function(P,D,L,q){if(P.transform.projection.name==="globe")return;const H=P.context,ee=H.gl;H.clear({depth:1});const de=P.useProgram("terrainDepth"),fe=new a.DepthMode(ee.LESS,a.DepthMode.ReadWrite,P.depthRangeFor3D);for(const ye of q){const ge=L.getTile(ye),be=Cr(ye.projMatrix,0);D.setupElevationDraw(ge,de),de.draw(H,ee.TRIANGLES,fe,a.StencilMode.disabled,a.ColorMode.unblended,a.CullFaceMode.backCCW,be,"terrain_depth",D.gridBuffer,D.gridIndexBuffer,D.gridNoSkirtSegments)}}(c,this,_,this.proxyCoords)}_setupProxiedCoordsForOrtho(c,h,_){if(c.getSource()instanceof Nn)return this._setupProxiedCoordsForImageSource(c,h,_);this._findCoveringTileCache[c.id]=this._findCoveringTileCache[c.id]||{};const x=this.proxiedCoords[c.id]=[],E=this.proxyCoords;for(let D=0;D<E.length;D++){const L=E[D],q=this._findTileCoveringTileID(L,c);if(q){const H=this._createProxiedId(L,q,_[L.key]&&_[L.key][c.id]);x.push(H),this.proxyToSource[L.key][c.id]=[H]}}let P=!1;for(let D=0;D<h.length;D++){const L=c.getTile(h[D]);if(!L||!L.hasData())continue;const q=this._findTileCoveringTileID(L.tileID,this.proxySourceCache);if(q&&q.tileID.canonical.z!==L.tileID.canonical.z){const H=this.proxyToSource[q.tileID.key][c.id],ee=this._createProxiedId(q.tileID,L,_[q.tileID.key]&&_[q.tileID.key][c.id]);H?H.splice(H.length-1,0,ee):this.proxyToSource[q.tileID.key][c.id]=[ee],x.push(ee),P=!0}}this._sourceTilesOverlap[c.id]=P}_setupProxiedCoordsForImageSource(c,h,_){if(!c.getSource().loaded())return;const x=this.proxiedCoords[c.id]=[],E=this.proxyCoords,P=c.getSource(),D=new a.Point(P.tileID.x,P.tileID.y)._div(1<<P.tileID.z),L=P.coordinates.map(a.MercatorCoordinate.fromLngLat).reduce((H,ee)=>(H.min.x=Math.min(H.min.x,ee.x-D.x),H.min.y=Math.min(H.min.y,ee.y-D.y),H.max.x=Math.max(H.max.x,ee.x-D.x),H.max.y=Math.max(H.max.y,ee.y-D.y),H),{min:new a.Point(Number.MAX_VALUE,Number.MAX_VALUE),max:new a.Point(-Number.MAX_VALUE,-Number.MAX_VALUE)}),q=(H,ee)=>{const de=H.wrap+H.canonical.x/(1<<H.canonical.z),fe=H.canonical.y/(1<<H.canonical.z),ye=a.EXTENT/(1<<H.canonical.z),ge=ee.wrap+ee.canonical.x/(1<<ee.canonical.z),be=ee.canonical.y/(1<<ee.canonical.z);return de+ye<ge+L.min.x||de>ge+L.max.x||fe+ye<be+L.min.y||fe>be+L.max.y};for(let H=0;H<E.length;H++){const ee=E[H];for(let de=0;de<h.length;de++){const fe=c.getTile(h[de]);if(!fe||!fe.hasData()||q(ee,fe.tileID))continue;const ye=this._createProxiedId(ee,fe,_[ee.key]&&_[ee.key][c.id]),ge=this.proxyToSource[ee.key][c.id];ge?ge.push(ye):this.proxyToSource[ee.key][c.id]=[ye],x.push(ye)}}}_createProxiedId(c,h,_){let x=this.orthoMatrix;if(_){const E=_.find(P=>P.key===h.tileID.key);if(E)return E}if(h.tileID.key!==c.key){const E=c.canonical.z-h.tileID.canonical.z;let P,D,L;x=a.create();const q=h.tileID.wrap-c.wrap<<c.overscaledZ;E>0?(P=a.EXTENT>>E,D=P*((h.tileID.canonical.x<<E)-c.canonical.x+q),L=P*((h.tileID.canonical.y<<E)-c.canonical.y)):(P=a.EXTENT<<-E,D=a.EXTENT*(h.tileID.canonical.x-(c.canonical.x+q<<-E)),L=a.EXTENT*(h.tileID.canonical.y-(c.canonical.y<<-E))),a.ortho(x,0,P,0,P,0,1),a.translate(x,x,[D,L,0])}return new wc(h.tileID,c.key,x)}_findTileCoveringTileID(c,h){let _=h.getTile(c);if(_&&_.hasData())return _;const x=this._findCoveringTileCache[h.id],E=x[c.key];if(_=E?h.getTileByID(E):null,_&&_.hasData()||E===null)return _;let P=_?_.tileID:c,D=P.overscaledZ;const L=h.getSource().minzoom,q=[];if(!E){const ee=h.getSource().maxzoom;if(c.canonical.z>=ee){const de=c.canonical.z-ee;h.getSource().reparseOverscaled?(D=Math.max(c.canonical.z+2,h.transform.tileZoom),P=new a.OverscaledTileID(D,c.wrap,ee,c.canonical.x>>de,c.canonical.y>>de)):de!==0&&(D=ee,P=new a.OverscaledTileID(D,c.wrap,ee,c.canonical.x>>de,c.canonical.y>>de))}P.key!==c.key&&(q.push(P.key),_=h.getTile(P))}const H=ee=>{q.forEach(de=>{x[de]=ee}),q.length=0};for(D-=1;D>=L&&(!_||!_.hasData());D--){_&&H(_.tileID.key);const ee=P.calculateScaledKey(D);if(_=h.getTileByID(ee),_&&_.hasData())break;const de=x[ee];if(de===null)break;de===void 0?q.push(ee):_=h.getTileByID(de)}return H(_?_.tileID.key:null),_&&_.hasData()?_:null}findDEMTileFor(c){return this.enabled?this._findTileCoveringTileID(c,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(c,h){let _=this._tilesDirty[c];_||(_=this._tilesDirty[c]={}),_[h.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const c=function(h){let _=0;const x=new a.StructArrayLayout2ui4,E=131;for(let P=1;P<129;P++){for(let D=1;D<129;D++)_=P*E+D,x.emplaceBack(_,_+1),x.emplaceBack(_,_+E),x.emplaceBack(_+1,_+E),P===128&&x.emplaceBack(_+E,_+E+1);x.emplaceBack(_+1,_+1+E)}return x}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(c),this.wireframeSegments=a.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,c.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}class Sr{static cacheKey(c,h,_,x){let E=`${h}${x?x.cacheKey:""}`;for(const P of _)c.usedDefines.includes(P)&&(E+=`/${P}`);return E}constructor(c,h,_,x,E,P){const D=c.gl;this.program=D.createProgram();const L=function(te){const pe=[];for(let Te=0;Te<te.length;Te++){if(te[Te]===null)continue;const Ie=te[Te].split(" ");pe.push(Ie.pop())}return pe}(_.staticAttributes),q=x?x.getBinderAttributes():[],H=L.concat(q);let ee=x?x.defines():[];ee=ee.concat(P.map(te=>`#define ${te}`));const de=c.isWebGL2?`#version 300 es
`:"",fe=de+ee.concat(c.extStandardDerivatives&&de.length===0?`#extension GL_OES_standard_derivatives : enable
`.concat(ie):ie,ie,re,X.fragmentSource,I.fragmentSource,_.fragmentSource).join(`
`),ye=de+ee.concat(`
#ifdef GL_ES
precision highp float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`,re,X.vertexSource,I.vertexSource,S.vertexSource,_.vertexSource).join(`
`),ge=D.createShader(D.FRAGMENT_SHADER);if(D.isContextLost())return void(this.failedToCreate=!0);D.shaderSource(ge,fe),D.compileShader(ge),D.attachShader(this.program,ge);const be=D.createShader(D.VERTEX_SHADER);if(D.isContextLost())this.failedToCreate=!0;else{D.shaderSource(be,ye),D.compileShader(be),D.attachShader(this.program,be),this.attributes={},this.numAttributes=H.length;for(let te=0;te<this.numAttributes;te++)H[te]&&(D.bindAttribLocation(this.program,te,H[te]),this.attributes[H[te]]=te);D.linkProgram(this.program),D.deleteShader(be),D.deleteShader(ge),this.fixedUniforms=E(c),this.binderUniforms=x?x.getUniforms(c):[],P.includes("TERRAIN")&&(this.terrainUniforms=(te=>({u_dem:new a.Uniform1i(te),u_dem_prev:new a.Uniform1i(te),u_dem_unpack:new a.Uniform4f(te),u_dem_tl:new a.Uniform2f(te),u_dem_scale:new a.Uniform1f(te),u_dem_tl_prev:new a.Uniform2f(te),u_dem_scale_prev:new a.Uniform1f(te),u_dem_size:new a.Uniform1f(te),u_dem_lerp:new a.Uniform1f(te),u_exaggeration:new a.Uniform1f(te),u_depth:new a.Uniform1i(te),u_depth_size_inv:new a.Uniform2f(te),u_meter_to_dem:new a.Uniform1f(te),u_label_plane_matrix_inv:new a.UniformMatrix4f(te)}))(c)),P.includes("GLOBE")&&(this.globeUniforms=(te=>({u_tile_tl_up:new a.Uniform3f(te),u_tile_tr_up:new a.Uniform3f(te),u_tile_br_up:new a.Uniform3f(te),u_tile_bl_up:new a.Uniform3f(te),u_tile_up_scale:new a.Uniform1f(te)}))(c)),P.includes("FOG")&&(this.fogUniforms=(te=>({u_fog_matrix:new a.UniformMatrix4f(te),u_fog_range:new a.Uniform2f(te),u_fog_color:new a.Uniform4f(te),u_fog_horizon_blend:new a.Uniform1f(te),u_fog_temporal_offset:new a.Uniform1f(te),u_frustum_tl:new a.Uniform3f(te),u_frustum_tr:new a.Uniform3f(te),u_frustum_br:new a.Uniform3f(te),u_frustum_bl:new a.Uniform3f(te),u_globe_pos:new a.Uniform3f(te),u_globe_radius:new a.Uniform1f(te),u_globe_transition:new a.Uniform1f(te),u_is_globe:new a.Uniform1i(te),u_viewport:new a.Uniform2f(te)}))(c))}}setTerrainUniformValues(c,h){if(!this.terrainUniforms)return;const _=this.terrainUniforms;if(!this.failedToCreate){c.program.set(this.program);for(const x in h)_[x]&&_[x].set(this.program,x,h[x])}}setGlobeUniformValues(c,h){if(!this.globeUniforms)return;const _=this.globeUniforms;if(!this.failedToCreate){c.program.set(this.program);for(const x in h)_[x]&&_[x].set(this.program,x,h[x])}}setFogUniformValues(c,h){if(!this.fogUniforms)return;const _=this.fogUniforms;if(!this.failedToCreate){c.program.set(this.program);for(const x in h)_[x].set(this.program,x,h[x])}}draw(c,h,_,x,E,P,D,L,q,H,ee,de,fe,ye,ge){const be=c.gl;if(this.failedToCreate)return;c.program.set(this.program),c.setDepthMode(_),c.setStencilMode(x),c.setColorMode(E),c.setCullFace(P);for(const pe of Object.keys(this.fixedUniforms))this.fixedUniforms[pe].set(this.program,pe,D[pe]);ye&&ye.setUniforms(this.program,c,this.binderUniforms,de,{zoom:fe});const te={[be.LINES]:2,[be.TRIANGLES]:3,[be.LINE_STRIP]:1}[h];for(const pe of ee.get()){const Te=pe.vaos||(pe.vaos={});(Te[L]||(Te[L]=new st)).bind(c,this,q,ye?ye.getPaintVertexBuffers():[],H,pe.vertexOffset,ge||[]),be.drawElements(h,pe.primitiveLength*te,be.UNSIGNED_SHORT,pe.primitiveOffset*te*2)}}}function qo(m,c){const h=Math.pow(2,c.tileID.overscaledZ),_=c.tileSize*Math.pow(2,m.transform.tileZoom)/h,x=_*(c.tileID.canonical.x+c.tileID.wrap*h),E=_*c.tileID.canonical.y;return{u_image:0,u_texsize:c.imageAtlasTexture.size,u_tile_units_to_pixels:1/lt(c,1,m.transform.tileZoom),u_pixel_coord_upper:[x>>16,E>>16],u_pixel_coord_lower:[65535&x,65535&E]}}const Cs=a.create(),ts=(m,c,h,_,x,E,P,D,L,q,H)=>{const ee=c.style.light,de=ee.properties.get("position"),fe=[de.x,de.y,de.z],ye=a.create$1();ee.properties.get("anchor")==="viewport"&&(a.fromRotation(ye,-c.transform.angle),a.transformMat3(fe,fe,ye));const ge=ee.properties.get("color"),be=c.transform,te={u_matrix:m,u_lightpos:fe,u_lightintensity:ee.properties.get("intensity"),u_lightcolor:[ge.r,ge.g,ge.b],u_vertical_gradient:+h,u_opacity:_,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Cs,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:x,u_edge_radius:E};return be.projection.name==="globe"&&(te.u_tile_id=[P.canonical.x,P.canonical.y,1<<P.canonical.z],te.u_zoom_transition=L,te.u_inv_rot_matrix=H,te.u_merc_center=q,te.u_up_dir=be.projection.upVector(new a.CanonicalTileID(0,0,0),q[0]*a.EXTENT,q[1]*a.EXTENT),te.u_height_lift=D),te},oa=(m,c,h,_,x,E,P,D,L,q,H,ee)=>{const de=ts(m,c,h,_,x,E,P,L,q,H,ee),fe={u_height_factor:-Math.pow(2,P.overscaledZ)/D.tileSize/8};return a.extend(de,qo(c,D),fe)},ks=m=>({u_matrix:m}),Wa=(m,c,h)=>a.extend(ks(m),qo(c,h)),Ps=(m,c)=>({u_matrix:m,u_world:c}),_1=(m,c,h,_)=>a.extend(Wa(m,c,h),{u_world:_}),y1=a.create(),Ih=(m,c,h,_,x,E)=>{const P=m.transform,D=P.projection.name==="globe";let L;if(E.paint.get("circle-pitch-alignment")==="map")if(D){const H=a.globePixelsToTileUnits(P.zoom,c.canonical)*P._pixelsPerMercatorPixel;L=Float32Array.from([H,0,0,H])}else L=P.calculatePixelsToTileUnitsMatrix(h);else L=new Float32Array([P.pixelsToGLUnits[0],0,0,P.pixelsToGLUnits[1]]);const q={u_camera_to_center_distance:P.cameraToCenterDistance,u_matrix:m.translatePosMatrix(c.projMatrix,h,E.paint.get("circle-translate"),E.paint.get("circle-translate-anchor")),u_device_pixel_ratio:a.exported.devicePixelRatio,u_extrude_scale:L,u_inv_rot_matrix:y1,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(D){q.u_inv_rot_matrix=_,q.u_merc_center=x,q.u_tile_id=[c.canonical.x,c.canonical.y,1<<c.canonical.z],q.u_zoom_transition=a.globeToMercatorTransition(P.zoom);const H=x[0]*a.EXTENT,ee=x[1]*a.EXTENT;q.u_up_dir=P.projection.upVector(new a.CanonicalTileID(0,0,0),H,ee)}return q},Ur=m=>{const c=[];return m.paint.get("circle-pitch-alignment")==="map"&&c.push("PITCH_WITH_MAP"),m.paint.get("circle-pitch-scale")==="map"&&c.push("SCALE_WITH_MAP"),c},Ec=(m,c,h,_)=>{const x=a.EXTENT/h.tileSize;return{u_matrix:m,u_camera_to_center_distance:c.getCameraToCenterDistance(_),u_extrude_scale:[c.pixelsToGLUnits[0]/x,c.pixelsToGLUnits[1]/x]}},Go=(m,c,h=1)=>({u_matrix:m,u_color:c,u_overlay:0,u_overlay_scale:h}),Rl=a.create(),Xp=(m,c,h,_,x,E,P)=>{const D=m.transform,L=D.projection.name==="globe",q=L?a.globePixelsToTileUnits(D.zoom,c.canonical)*D._pixelsPerMercatorPixel:lt(h,1,E),H={u_matrix:c.projMatrix,u_extrude_scale:q,u_intensity:P,u_inv_rot_matrix:Rl,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(L){H.u_inv_rot_matrix=_,H.u_merc_center=x,H.u_tile_id=[c.canonical.x,c.canonical.y,1<<c.canonical.z],H.u_zoom_transition=a.globeToMercatorTransition(D.zoom);const ee=x[0]*a.EXTENT,de=x[1]*a.EXTENT;H.u_up_dir=D.projection.upVector(new a.CanonicalTileID(0,0,0),ee,de)}return H},v1=(m,c,h,_,x,E,P)=>{const D=m.transform,L=D.calculatePixelsToTileUnitsMatrix(c);return{u_matrix:gu(m,c,h,_),u_pixels_to_tile_units:L,u_device_pixel_ratio:E,u_units_to_pixels:[1/D.pixelsToGLUnits[0],1/D.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:x,u_texsize:va(h)?c.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:ya(c,m.transform),u_alpha_discard_threshold:0,u_trim_offset:P}},Sc=(m,c,h,_,x)=>{const E=m.transform;return{u_matrix:gu(m,c,h,_),u_texsize:c.imageAtlasTexture.size,u_pixels_to_tile_units:E.calculatePixelsToTileUnitsMatrix(c),u_device_pixel_ratio:x,u_image:0,u_tile_units_to_pixels:ya(c,E),u_units_to_pixels:[1/E.pixelsToGLUnits[0],1/E.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function ya(m,c){return 1/lt(m,1,c.tileZoom)}function gu(m,c,h,_){return m.translatePosMatrix(_||c.tileID.projMatrix,c,h.paint.get("line-translate"),h.paint.get("line-translate-anchor"))}function va(m){const c=m.paint.get("line-dasharray").value;return c.value||c.kind!=="constant"}const ld=(m,c,h,_,x,E)=>{return{u_matrix:m,u_tl_parent:c,u_scale_parent:h,u_fade_t:_.mix,u_opacity:_.opacity*x.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:x.paint.get("raster-brightness-min"),u_brightness_high:x.paint.get("raster-brightness-max"),u_saturation_factor:(D=x.paint.get("raster-saturation"),D>0?1-1/(1.001-D):-D),u_contrast_factor:(P=x.paint.get("raster-contrast"),P>0?1/(1-P):1+P),u_spin_weights:aa(x.paint.get("raster-hue-rotate")),u_perspective_transform:E};var P,D};function aa(m){m*=Math.PI/180;const c=Math.sin(m),h=Math.cos(m);return[(2*h+1)/3,(-Math.sqrt(3)*c-h+1)/3,(Math.sqrt(3)*c-h+1)/3]}const Ol=a.create(),Tc=(m,c,h,_,x,E,P,D,L,q,H,ee,de,fe,ye,ge)=>{const be=x.transform,te={u_is_size_zoom_constant:+(m==="constant"||m==="source"),u_is_size_feature_constant:+(m==="constant"||m==="camera"),u_size_t:c?c.uSizeT:0,u_size:c?c.uSize:0,u_camera_to_center_distance:be.cameraToCenterDistance,u_rotate_symbol:+h,u_aspect_ratio:be.width/be.height,u_fade_change:x.options.fadeDuration?x.symbolFadeChange:1,u_matrix:E,u_label_plane_matrix:P,u_coord_matrix:D,u_is_text:+L,u_pitch_with_map:+_,u_texsize:q,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Ol,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:Ol,u_up_vector:[0,-1,0]};return ge.name==="globe"&&(te.u_tile_id=[H.canonical.x,H.canonical.y,1<<H.canonical.z],te.u_zoom_transition=ee,te.u_inv_rot_matrix=fe,te.u_merc_center=de,te.u_camera_forward=be._camera.forward(),te.u_ecef_origin=a.globeECEFOrigin(be.globeMatrix,H.toUnwrapped()),te.u_tile_matrix=Float32Array.from(be.globeMatrix),te.u_up_vector=ye),te},Cc=(m,c,h,_,x,E,P,D,L,q,H,ee,de,fe,ye,ge,be)=>a.extend(Tc(m,c,h,_,x,E,P,D,L,q,ee,de,fe,ye,ge,be),{u_gamma_scale:_?x.transform.cameraToCenterDistance*Math.cos(x.terrain?0:x.transform._pitch):1,u_device_pixel_ratio:a.exported.devicePixelRatio,u_is_halo:+H}),Kp=(m,c,h,_,x,E,P,D,L,q,H,ee,de,fe,ye,ge)=>a.extend(Cc(m,c,h,_,x,E,P,D,!0,L,!0,H,ee,de,fe,ye,ge),{u_texsize_icon:q,u_texture_icon:1}),kc=(m,c,h)=>({u_matrix:m,u_opacity:c,u_color:h}),Ah=(m,c,h,_,x)=>a.extend(function(E,P,D){const L=P.imageManager.getPattern(E.toString()),{width:q,height:H}=P.imageManager.getPixelSize(),ee=Math.pow(2,D.tileID.overscaledZ),de=D.tileSize*Math.pow(2,P.transform.tileZoom)/ee,fe=de*(D.tileID.canonical.x+D.tileID.wrap*ee),ye=de*D.tileID.canonical.y;return{u_image:0,u_pattern_tl:L.tl,u_pattern_br:L.br,u_texsize:[q,H],u_pattern_size:L.displaySize,u_tile_units_to_pixels:1/lt(D,1,P.transform.tileZoom),u_pixel_coord_upper:[fe>>16,ye>>16],u_pixel_coord_lower:[65535&fe,65535&ye]}}(_,h,x),{u_matrix:m,u_opacity:c}),_u={fillExtrusion:m=>({u_matrix:new a.UniformMatrix4f(m),u_lightpos:new a.Uniform3f(m),u_lightintensity:new a.Uniform1f(m),u_lightcolor:new a.Uniform3f(m),u_vertical_gradient:new a.Uniform1f(m),u_opacity:new a.Uniform1f(m),u_edge_radius:new a.Uniform1f(m),u_ao:new a.Uniform2f(m),u_tile_id:new a.Uniform3f(m),u_zoom_transition:new a.Uniform1f(m),u_inv_rot_matrix:new a.UniformMatrix4f(m),u_merc_center:new a.Uniform2f(m),u_up_dir:new a.Uniform3f(m),u_height_lift:new a.Uniform1f(m)}),fillExtrusionPattern:m=>({u_matrix:new a.UniformMatrix4f(m),u_lightpos:new a.Uniform3f(m),u_lightintensity:new a.Uniform1f(m),u_lightcolor:new a.Uniform3f(m),u_vertical_gradient:new a.Uniform1f(m),u_height_factor:new a.Uniform1f(m),u_edge_radius:new a.Uniform1f(m),u_ao:new a.Uniform2f(m),u_tile_id:new a.Uniform3f(m),u_zoom_transition:new a.Uniform1f(m),u_inv_rot_matrix:new a.UniformMatrix4f(m),u_merc_center:new a.Uniform2f(m),u_up_dir:new a.Uniform3f(m),u_height_lift:new a.Uniform1f(m),u_image:new a.Uniform1i(m),u_texsize:new a.Uniform2f(m),u_pixel_coord_upper:new a.Uniform2f(m),u_pixel_coord_lower:new a.Uniform2f(m),u_tile_units_to_pixels:new a.Uniform1f(m),u_opacity:new a.Uniform1f(m)}),fill:m=>({u_matrix:new a.UniformMatrix4f(m)}),fillPattern:m=>({u_matrix:new a.UniformMatrix4f(m),u_image:new a.Uniform1i(m),u_texsize:new a.Uniform2f(m),u_pixel_coord_upper:new a.Uniform2f(m),u_pixel_coord_lower:new a.Uniform2f(m),u_tile_units_to_pixels:new a.Uniform1f(m)}),fillOutline:m=>({u_matrix:new a.UniformMatrix4f(m),u_world:new a.Uniform2f(m)}),fillOutlinePattern:m=>({u_matrix:new a.UniformMatrix4f(m),u_world:new a.Uniform2f(m),u_image:new a.Uniform1i(m),u_texsize:new a.Uniform2f(m),u_pixel_coord_upper:new a.Uniform2f(m),u_pixel_coord_lower:new a.Uniform2f(m),u_tile_units_to_pixels:new a.Uniform1f(m)}),circle:m=>({u_camera_to_center_distance:new a.Uniform1f(m),u_extrude_scale:new a.UniformMatrix2f(m),u_device_pixel_ratio:new a.Uniform1f(m),u_matrix:new a.UniformMatrix4f(m),u_inv_rot_matrix:new a.UniformMatrix4f(m),u_merc_center:new a.Uniform2f(m),u_tile_id:new a.Uniform3f(m),u_zoom_transition:new a.Uniform1f(m),u_up_dir:new a.Uniform3f(m)}),collisionBox:m=>({u_matrix:new a.UniformMatrix4f(m),u_camera_to_center_distance:new a.Uniform1f(m),u_extrude_scale:new a.Uniform2f(m)}),collisionCircle:m=>({u_matrix:new a.UniformMatrix4f(m),u_inv_matrix:new a.UniformMatrix4f(m),u_camera_to_center_distance:new a.Uniform1f(m),u_viewport_size:new a.Uniform2f(m)}),debug:m=>({u_color:new a.UniformColor(m),u_matrix:new a.UniformMatrix4f(m),u_overlay:new a.Uniform1i(m),u_overlay_scale:new a.Uniform1f(m)}),clippingMask:m=>({u_matrix:new a.UniformMatrix4f(m)}),heatmap:m=>({u_extrude_scale:new a.Uniform1f(m),u_intensity:new a.Uniform1f(m),u_matrix:new a.UniformMatrix4f(m),u_inv_rot_matrix:new a.UniformMatrix4f(m),u_merc_center:new a.Uniform2f(m),u_tile_id:new a.Uniform3f(m),u_zoom_transition:new a.Uniform1f(m),u_up_dir:new a.Uniform3f(m)}),heatmapTexture:m=>({u_image:new a.Uniform1i(m),u_color_ramp:new a.Uniform1i(m),u_opacity:new a.Uniform1f(m)}),hillshade:m=>({u_matrix:new a.UniformMatrix4f(m),u_image:new a.Uniform1i(m),u_latrange:new a.Uniform2f(m),u_light:new a.Uniform2f(m),u_shadow:new a.UniformColor(m),u_highlight:new a.UniformColor(m),u_accent:new a.UniformColor(m)}),hillshadePrepare:m=>({u_matrix:new a.UniformMatrix4f(m),u_image:new a.Uniform1i(m),u_dimension:new a.Uniform2f(m),u_zoom:new a.Uniform1f(m),u_unpack:new a.Uniform4f(m)}),line:m=>({u_matrix:new a.UniformMatrix4f(m),u_pixels_to_tile_units:new a.UniformMatrix2f(m),u_device_pixel_ratio:new a.Uniform1f(m),u_units_to_pixels:new a.Uniform2f(m),u_dash_image:new a.Uniform1i(m),u_gradient_image:new a.Uniform1i(m),u_image_height:new a.Uniform1f(m),u_texsize:new a.Uniform2f(m),u_tile_units_to_pixels:new a.Uniform1f(m),u_alpha_discard_threshold:new a.Uniform1f(m),u_trim_offset:new a.Uniform2f(m)}),linePattern:m=>({u_matrix:new a.UniformMatrix4f(m),u_texsize:new a.Uniform2f(m),u_pixels_to_tile_units:new a.UniformMatrix2f(m),u_device_pixel_ratio:new a.Uniform1f(m),u_image:new a.Uniform1i(m),u_units_to_pixels:new a.Uniform2f(m),u_tile_units_to_pixels:new a.Uniform1f(m),u_alpha_discard_threshold:new a.Uniform1f(m)}),raster:m=>({u_matrix:new a.UniformMatrix4f(m),u_tl_parent:new a.Uniform2f(m),u_scale_parent:new a.Uniform1f(m),u_fade_t:new a.Uniform1f(m),u_opacity:new a.Uniform1f(m),u_image0:new a.Uniform1i(m),u_image1:new a.Uniform1i(m),u_brightness_low:new a.Uniform1f(m),u_brightness_high:new a.Uniform1f(m),u_saturation_factor:new a.Uniform1f(m),u_contrast_factor:new a.Uniform1f(m),u_spin_weights:new a.Uniform3f(m),u_perspective_transform:new a.Uniform2f(m)}),symbolIcon:m=>({u_is_size_zoom_constant:new a.Uniform1i(m),u_is_size_feature_constant:new a.Uniform1i(m),u_size_t:new a.Uniform1f(m),u_size:new a.Uniform1f(m),u_camera_to_center_distance:new a.Uniform1f(m),u_rotate_symbol:new a.Uniform1i(m),u_aspect_ratio:new a.Uniform1f(m),u_fade_change:new a.Uniform1f(m),u_matrix:new a.UniformMatrix4f(m),u_label_plane_matrix:new a.UniformMatrix4f(m),u_coord_matrix:new a.UniformMatrix4f(m),u_is_text:new a.Uniform1i(m),u_pitch_with_map:new a.Uniform1i(m),u_texsize:new a.Uniform2f(m),u_tile_id:new a.Uniform3f(m),u_zoom_transition:new a.Uniform1f(m),u_inv_rot_matrix:new a.UniformMatrix4f(m),u_merc_center:new a.Uniform2f(m),u_camera_forward:new a.Uniform3f(m),u_tile_matrix:new a.UniformMatrix4f(m),u_up_vector:new a.Uniform3f(m),u_ecef_origin:new a.Uniform3f(m),u_texture:new a.Uniform1i(m)}),symbolSDF:m=>({u_is_size_zoom_constant:new a.Uniform1i(m),u_is_size_feature_constant:new a.Uniform1i(m),u_size_t:new a.Uniform1f(m),u_size:new a.Uniform1f(m),u_camera_to_center_distance:new a.Uniform1f(m),u_rotate_symbol:new a.Uniform1i(m),u_aspect_ratio:new a.Uniform1f(m),u_fade_change:new a.Uniform1f(m),u_matrix:new a.UniformMatrix4f(m),u_label_plane_matrix:new a.UniformMatrix4f(m),u_coord_matrix:new a.UniformMatrix4f(m),u_is_text:new a.Uniform1i(m),u_pitch_with_map:new a.Uniform1i(m),u_texsize:new a.Uniform2f(m),u_texture:new a.Uniform1i(m),u_gamma_scale:new a.Uniform1f(m),u_device_pixel_ratio:new a.Uniform1f(m),u_tile_id:new a.Uniform3f(m),u_zoom_transition:new a.Uniform1f(m),u_inv_rot_matrix:new a.UniformMatrix4f(m),u_merc_center:new a.Uniform2f(m),u_camera_forward:new a.Uniform3f(m),u_tile_matrix:new a.UniformMatrix4f(m),u_up_vector:new a.Uniform3f(m),u_ecef_origin:new a.Uniform3f(m),u_is_halo:new a.Uniform1i(m)}),symbolTextAndIcon:m=>({u_is_size_zoom_constant:new a.Uniform1i(m),u_is_size_feature_constant:new a.Uniform1i(m),u_size_t:new a.Uniform1f(m),u_size:new a.Uniform1f(m),u_camera_to_center_distance:new a.Uniform1f(m),u_rotate_symbol:new a.Uniform1i(m),u_aspect_ratio:new a.Uniform1f(m),u_fade_change:new a.Uniform1f(m),u_matrix:new a.UniformMatrix4f(m),u_label_plane_matrix:new a.UniformMatrix4f(m),u_coord_matrix:new a.UniformMatrix4f(m),u_is_text:new a.Uniform1i(m),u_pitch_with_map:new a.Uniform1i(m),u_texsize:new a.Uniform2f(m),u_texsize_icon:new a.Uniform2f(m),u_texture:new a.Uniform1i(m),u_texture_icon:new a.Uniform1i(m),u_gamma_scale:new a.Uniform1f(m),u_device_pixel_ratio:new a.Uniform1f(m),u_is_halo:new a.Uniform1i(m)}),background:m=>({u_matrix:new a.UniformMatrix4f(m),u_opacity:new a.Uniform1f(m),u_color:new a.UniformColor(m)}),backgroundPattern:m=>({u_matrix:new a.UniformMatrix4f(m),u_opacity:new a.Uniform1f(m),u_image:new a.Uniform1i(m),u_pattern_tl:new a.Uniform2f(m),u_pattern_br:new a.Uniform2f(m),u_texsize:new a.Uniform2f(m),u_pattern_size:new a.Uniform2f(m),u_pixel_coord_upper:new a.Uniform2f(m),u_pixel_coord_lower:new a.Uniform2f(m),u_tile_units_to_pixels:new a.Uniform1f(m)}),terrainRaster:rr,terrainDepth:rr,skybox:m=>({u_matrix:new a.UniformMatrix4f(m),u_sun_direction:new a.Uniform3f(m),u_cubemap:new a.Uniform1i(m),u_opacity:new a.Uniform1f(m),u_temporal_offset:new a.Uniform1f(m)}),skyboxGradient:m=>({u_matrix:new a.UniformMatrix4f(m),u_color_ramp:new a.Uniform1i(m),u_center_direction:new a.Uniform3f(m),u_radius:new a.Uniform1f(m),u_opacity:new a.Uniform1f(m),u_temporal_offset:new a.Uniform1f(m)}),skyboxCapture:m=>({u_matrix_3f:new a.UniformMatrix3f(m),u_sun_direction:new a.Uniform3f(m),u_sun_intensity:new a.Uniform1f(m),u_color_tint_r:new a.Uniform4f(m),u_color_tint_m:new a.Uniform4f(m),u_luminance:new a.Uniform1f(m)}),globeRaster:m=>({u_proj_matrix:new a.UniformMatrix4f(m),u_globe_matrix:new a.UniformMatrix4f(m),u_normalize_matrix:new a.UniformMatrix4f(m),u_merc_matrix:new a.UniformMatrix4f(m),u_zoom_transition:new a.Uniform1f(m),u_merc_center:new a.Uniform2f(m),u_image0:new a.Uniform1i(m),u_grid_matrix:new a.UniformMatrix3f(m),u_skirt_height:new a.Uniform1f(m),u_frustum_tl:new a.Uniform3f(m),u_frustum_tr:new a.Uniform3f(m),u_frustum_br:new a.Uniform3f(m),u_frustum_bl:new a.Uniform3f(m),u_globe_pos:new a.Uniform3f(m),u_globe_radius:new a.Uniform1f(m),u_viewport:new a.Uniform2f(m)}),globeAtmosphere:m=>({u_frustum_tl:new a.Uniform3f(m),u_frustum_tr:new a.Uniform3f(m),u_frustum_br:new a.Uniform3f(m),u_frustum_bl:new a.Uniform3f(m),u_horizon:new a.Uniform1f(m),u_transition:new a.Uniform1f(m),u_fadeout_range:new a.Uniform1f(m),u_color:new a.Uniform4f(m),u_high_color:new a.Uniform4f(m),u_space_color:new a.Uniform4f(m),u_star_intensity:new a.Uniform1f(m),u_star_density:new a.Uniform1f(m),u_star_size:new a.Uniform1f(m),u_temporal_offset:new a.Uniform1f(m),u_horizon_angle:new a.Uniform1f(m),u_rotation_matrix:new a.UniformMatrix4f(m)})};let cd;function Ll(m,c,h,_,x,E,P){const D=m.context,L=D.gl,q=m.transform,H=m.useProgram("collisionBox"),ee=[];let de=0,fe=0;for(let Ie=0;Ie<_.length;Ie++){const Ze=_[Ie],Ke=c.getTile(Ze),Xe=Ke.getBucket(h);if(!Xe)continue;const at=ma(Ze,Xe,q);let it=at;x[0]===0&&x[1]===0||(it=m.translatePosMatrix(at,Ke,x,E));const gt=P?Xe.textCollisionBox:Xe.iconCollisionBox,Kt=Xe.collisionCircleArray;if(Kt.length>0){const dt=a.create(),Ft=it;a.mul(dt,Xe.placementInvProjMatrix,q.glCoordMatrix),a.mul(dt,dt,Xe.placementViewportMatrix),ee.push({circleArray:Kt,circleOffset:fe,transform:Ft,invTransform:dt,projection:Xe.getProjection()}),de+=Kt.length/4,fe=de}gt&&(m.terrain&&m.terrain.setupElevationDraw(Ke,H),H.draw(D,L.LINES,a.DepthMode.disabled,a.StencilMode.disabled,m.colorModeForRenderPass(),a.CullFaceMode.disabled,Ec(it,q,Ke,Xe.getProjection()),h.id,gt.layoutVertexBuffer,gt.indexBuffer,gt.segments,null,q.zoom,null,[gt.collisionVertexBuffer,gt.collisionVertexBufferExt]))}if(!P||!ee.length)return;const ye=m.useProgram("collisionCircle"),ge=new a.StructArrayLayout2f1f2i16;ge.resize(4*de),ge._trim();let be=0;for(const Ie of ee)for(let Ze=0;Ze<Ie.circleArray.length/4;Ze++){const Ke=4*Ze,Xe=Ie.circleArray[Ke+0],at=Ie.circleArray[Ke+1],it=Ie.circleArray[Ke+2],gt=Ie.circleArray[Ke+3];ge.emplace(be++,Xe,at,it,gt,0),ge.emplace(be++,Xe,at,it,gt,1),ge.emplace(be++,Xe,at,it,gt,2),ge.emplace(be++,Xe,at,it,gt,3)}(!cd||cd.length<2*de)&&(cd=function(Ie){const Ze=2*Ie,Ke=new a.StructArrayLayout3ui6;Ke.resize(Ze),Ke._trim();for(let Xe=0;Xe<Ze;Xe++){const at=6*Xe;Ke.uint16[at+0]=4*Xe+0,Ke.uint16[at+1]=4*Xe+1,Ke.uint16[at+2]=4*Xe+2,Ke.uint16[at+3]=4*Xe+2,Ke.uint16[at+4]=4*Xe+3,Ke.uint16[at+5]=4*Xe+0}return Ke}(de));const te=D.createIndexBuffer(cd,!0),pe=D.createVertexBuffer(ge,a.collisionCircleLayout.members,!0);for(const Ie of ee){const Ze={u_matrix:Ie.transform,u_inv_matrix:Ie.invTransform,u_camera_to_center_distance:(Te=q).getCameraToCenterDistance(Ie.projection),u_viewport_size:[Te.width,Te.height]};ye.draw(D,L.TRIANGLES,a.DepthMode.disabled,a.StencilMode.disabled,m.colorModeForRenderPass(),a.CullFaceMode.disabled,Ze,h.id,pe,te,a.SegmentVector.simpleSegment(0,2*Ie.circleOffset,Ie.circleArray.length,Ie.circleArray.length/2),null,q.zoom)}var Te;pe.destroy(),te.destroy()}const Mh=a.create();function De({width:m,height:c,anchor:h,textOffset:_,textScale:x},E){const{horizontalAlign:P,verticalAlign:D}=a.getAnchorAlignment(h),L=-(P-.5)*m,q=-(D-.5)*c,H=a.evaluateVariableOffset(h,_);return new a.Point((L/x+H[0])*E,(q/x+H[1])*E)}function rt(m,c,h,_,x,E,P,D,L,q,H){const ee=m.text.placedSymbolArray,de=m.text.dynamicLayoutVertexArray,fe=m.icon.dynamicLayoutVertexArray,ye={},ge=m.getProjection(),be=di(D,ge,E),te=E.elevation,pe=ge.upVectorScale(D.canonical,E.center.lat,E.worldSize).metersToTile;de.clear();for(let Te=0;Te<ee.length;Te++){const Ie=ee.get(Te),{tileAnchorX:Ze,tileAnchorY:Ke,numGlyphs:Xe}=Ie,at=Ie.hidden||!Ie.crossTileID||m.allowVerticalPlacement&&!Ie.placedOrientation?null:_[Ie.crossTileID];if(at){let it=0,gt=0,Kt=0;if(te){const tn=te?te.getAtTileOffset(D,Ze,Ke):0,[Un,nr,kn]=ge.upVector(D.canonical,Ze,Ke);it=tn*Un*pe,gt=tn*nr*pe,Kt=tn*kn*pe}let[dt,Ft,wt,Xt]=Gi(Ie.projectedAnchorX+it,Ie.projectedAnchorY+gt,Ie.projectedAnchorZ+Kt,h?be:P);const mt=Ro(E.getCameraToCenterDistance(ge),Xt);let zt=x.evaluateSizeForFeature(m.textSizeData,q,Ie)*mt/a.ONE_EM;h&&(zt*=m.tilePixelRatio/L);const Jt=De(at,zt);h?({x:dt,y:Ft,z:wt}=ge.projectTilePoint(Ze+Jt.x,Ke+Jt.y,D.canonical),[dt,Ft,wt]=Gi(dt+it,Ft+gt,wt+Kt,P)):(c&&Jt._rotate(-E.angle),dt+=Jt.x,Ft+=Jt.y,wt=0);const Wt=m.allowVerticalPlacement&&Ie.placedOrientation===a.WritingMode.vertical?Math.PI/2:0;for(let tn=0;tn<Xe;tn++)a.addDynamicAttributes(de,dt,Ft,wt,Wt);H&&Ie.associatedIconIndex>=0&&(ye[Ie.associatedIconIndex]={x:dt,y:Ft,z:wt,angle:Wt})}else $a(Xe,de)}if(H){fe.clear();const Te=m.icon.placedSymbolArray;for(let Ie=0;Ie<Te.length;Ie++){const Ze=Te.get(Ie),{numGlyphs:Ke}=Ze,Xe=ye[Ie];if(Ze.hidden||!Xe)$a(Ke,fe);else{const{x:at,y:it,z:gt,angle:Kt}=Xe;for(let dt=0;dt<Ke;dt++)a.addDynamicAttributes(fe,at,it,gt,Kt)}}m.icon.dynamicLayoutVertexBuffer.updateData(fe)}m.text.dynamicLayoutVertexBuffer.updateData(de)}function bt(m,c,h){return h.iconsInText&&c?"symbolTextAndIcon":m?"symbolSDF":"symbolIcon"}function It(m,c,h,_,x,E,P,D,L,q,H,ee){const de=m.context,fe=de.gl,ye=m.transform,ge=D==="map",be=L==="map",te=ge&&h.layout.get("symbol-placement")!=="point",pe=ge&&!be&&!te,Te=h.layout.get("symbol-sort-key").constantOr(1)!==void 0;let Ie=!1;const Ze=m.depthModeForSublayer(0,a.DepthMode.ReadOnly),Ke=[a.mercatorXfromLng(ye.center.lng),a.mercatorYfromLat(ye.center.lat)],Xe=h.layout.get("text-variable-anchor"),at=ye.projection.name==="globe",it=[],gt=[0,-1,0];let Kt=gt;!at&&!ye.mercatorFromTransition||ge||(Kt=function(dt){const Ft=dt._camera.getWorldToCamera(dt.worldSize,1),wt=a.multiply([],Ft,dt.globeMatrix);a.invert(wt,wt);const Xt=[0,0,0],mt=[0,1,0,0];return a.transformMat4$1(mt,mt,wt),Xt[0]=mt[0],Xt[1]=mt[1],Xt[2]=mt[2],a.normalize(Xt,Xt),Xt}(ye));for(const dt of _){const Ft=c.getTile(dt),wt=Ft.getBucket(h);if(!wt||wt.projection.name==="mercator"&&at)continue;const Xt=x?wt.text:wt.icon;if(!Xt||wt.fullyClipped||!Xt.segments.get().length)continue;const mt=Xt.programConfigurations.get(h.id),zt=x||wt.sdfIcons,Jt=x?wt.textSizeData:wt.iconSizeData,Wt=be||ye.pitch!==0,tn=a.evaluateSizeForZoom(Jt,ye.zoom);let Un,nr,kn,Zn,Tr=[0,0],xr=null;if(x)nr=Ft.glyphAtlasTexture,kn=fe.LINEAR,Un=Ft.glyphAtlasTexture.size,wt.iconsInText&&(Tr=Ft.imageAtlasTexture.size,xr=Ft.imageAtlasTexture,Zn=Wt||m.options.rotating||m.options.zooming||Jt.kind==="composite"||Jt.kind==="camera"?fe.LINEAR:fe.NEAREST);else{const Fl=h.layout.get("icon-size").constantOr(0)!==1||wt.iconsNeedLinear;nr=Ft.imageAtlasTexture,kn=zt||m.options.rotating||m.options.zooming||Fl||Wt?fe.LINEAR:fe.NEAREST,Un=Ft.imageAtlasTexture.size}const Ln=wt.projection.name==="globe",jr=Ln?Kt:gt,qr=Ln?a.globeToMercatorTransition(ye.zoom):0,Gr=di(dt,wt.getProjection(),ye),Zr=ye.calculatePixelsToTileUnitsMatrix(Ft),Ko=Pt(Gr,Ft.tileID.canonical,be,ge,ye,wt.getProjection(),Zr),To=m.terrain&&be&&te?a.invert(a.create(),Ko):Mh,is=ni(Gr,Ft.tileID.canonical,be,ge,ye,wt.getProjection(),Zr),Qs=Xe&&wt.hasTextData(),Ei=h.layout.get("icon-text-fit")!=="none"&&Qs&&wt.hasIconData();if(te){const Fl=ye.elevation,Ic=Fl?Fl.getAtTileOffsetFunc(dt,ye.center.lat,ye.worldSize,wt.getProjection()):null,wu=fa(Gr,Ft.tileID.canonical,be,ge,ye,wt.getProjection(),Zr);mc(wt,Gr,m,x,wu,is,be,q,Ic,dt)}const Xr=te||x&&Xe||Ei,zr=m.translatePosMatrix(Gr,Ft,E,P),Xi=Xr?Mh:Ko,la=m.translatePosMatrix(is,Ft,E,P,!0),gi=wt.getProjection().createInversionMatrix(ye,dt.canonical),xa=[];m.terrainRenderModeElevated()&&be&&xa.push("PITCH_WITH_MAP_TERRAIN"),Ln&&xa.push("PROJECTION_GLOBE_VIEW"),Xr&&xa.push("PROJECTED_POS_ON_VIEWPORT");const uf=zt&&h.paint.get(x?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let bu;bu=zt?wt.iconsInText?Kp(Jt.kind,tn,pe,be,m,zr,Xi,la,Un,Tr,dt,qr,Ke,gi,jr,wt.getProjection()):Cc(Jt.kind,tn,pe,be,m,zr,Xi,la,x,Un,!0,dt,qr,Ke,gi,jr,wt.getProjection()):Tc(Jt.kind,tn,pe,be,m,zr,Xi,la,x,Un,dt,qr,Ke,gi,jr,wt.getProjection());const $h={program:m.useProgram(bt(zt,x,wt),mt,xa),buffers:Xt,uniformValues:bu,atlasTexture:nr,atlasTextureIcon:xr,atlasInterpolation:kn,atlasInterpolationIcon:Zn,isSDF:zt,hasHalo:uf,tile:Ft,labelPlaneMatrixInv:To};if(Te&&wt.canOverlap){Ie=!0;const Fl=Xt.segments.get();for(const Ic of Fl)it.push({segments:new a.SegmentVector([Ic]),sortKey:Ic.sortKey,state:$h})}else it.push({segments:Xt.segments,sortKey:0,state:$h})}Ie&&it.sort((dt,Ft)=>dt.sortKey-Ft.sortKey);for(const dt of it){const Ft=dt.state;if(m.terrain&&m.terrain.setupElevationDraw(Ft.tile,Ft.program,{useDepthForOcclusion:!at,labelPlaneMatrixInv:Ft.labelPlaneMatrixInv}),de.activeTexture.set(fe.TEXTURE0),Ft.atlasTexture.bind(Ft.atlasInterpolation,fe.CLAMP_TO_EDGE),Ft.atlasTextureIcon&&(de.activeTexture.set(fe.TEXTURE1),Ft.atlasTextureIcon&&Ft.atlasTextureIcon.bind(Ft.atlasInterpolationIcon,fe.CLAMP_TO_EDGE)),Ft.isSDF){const wt=Ft.uniformValues;Ft.hasHalo&&(wt.u_is_halo=1,$t(Ft.buffers,dt.segments,h,m,Ft.program,Ze,H,ee,wt)),wt.u_is_halo=0}$t(Ft.buffers,dt.segments,h,m,Ft.program,Ze,H,ee,Ft.uniformValues)}}function $t(m,c,h,_,x,E,P,D,L){const q=_.context,H=[m.dynamicLayoutVertexBuffer,m.opacityVertexBuffer,m.globeExtVertexBuffer];x.draw(q,q.gl.TRIANGLES,E,P,D,a.CullFaceMode.disabled,L,h.id,m.layoutVertexBuffer,m.indexBuffer,c,h.paint,_.transform.zoom,m.programConfigurations.get(h.id),H)}function xn(m,c,h,_,x,E,P){const D=m.context.gl,L=h.paint.get("fill-pattern"),q=L&&L.constantOr(1);let H,ee,de,fe,ye;P?(ee=q&&!h.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",H=D.LINES):(ee=q?"fillPattern":"fill",H=D.TRIANGLES);for(const ge of _){const be=c.getTile(ge);if(q&&!be.patternsLoaded())continue;const te=be.getBucket(h);if(!te)continue;m.prepareDrawTile();const pe=te.programConfigurations.get(h.id),Te=m.useProgram(ee,pe);q&&(m.context.activeTexture.set(D.TEXTURE0),be.imageAtlasTexture.bind(D.LINEAR,D.CLAMP_TO_EDGE),pe.updatePaintBuffers());const Ie=L.constantOr(null);if(Ie&&be.imageAtlas){const Ke=be.imageAtlas.patternPositions[Ie.toString()];Ke&&pe.setConstantPatternPositions(Ke)}const Ze=m.translatePosMatrix(ge.projMatrix,be,h.paint.get("fill-translate"),h.paint.get("fill-translate-anchor"));if(P){fe=te.indexBuffer2,ye=te.segments2;const Ke=m.terrain&&m.terrain.renderingToTexture?m.terrain.drapeBufferSize:[D.drawingBufferWidth,D.drawingBufferHeight];de=ee==="fillOutlinePattern"&&q?_1(Ze,m,be,Ke):Ps(Ze,Ke)}else fe=te.indexBuffer,ye=te.segments,de=q?Wa(Ze,m,be):ks(Ze);m.prepareDrawProgram(m.context,Te,ge.toUnwrapped()),Te.draw(m.context,H,x,m.stencilModeForClipping(ge),E,a.CullFaceMode.disabled,de,h.id,te.layoutVertexBuffer,fe,ye,h.paint,m.transform.zoom,pe)}}function In(m,c,h,_,x,E,P){const D=m.context,L=D.gl,q=m.transform,H=h.paint.get("fill-extrusion-pattern"),ee=H.constantOr(1),de=h.paint.get("fill-extrusion-opacity"),fe=[h.paint.get("fill-extrusion-ambient-occlusion-intensity"),h.paint.get("fill-extrusion-ambient-occlusion-radius")],ye=h.layout.get("fill-extrusion-edge-radius"),ge=ye>0&&!h.paint.get("fill-extrusion-rounded-roof"),be=ge?0:ye,te=q.projection.name==="globe"?a.fillExtrusionHeightLift():0,pe=q.projection.name==="globe",Te=pe?a.globeToMercatorTransition(q.zoom):0,Ie=[a.mercatorXfromLng(q.center.lng),a.mercatorYfromLat(q.center.lat)],Ze=[];pe&&Ze.push("PROJECTION_GLOBE_VIEW"),fe[0]>0&&Ze.push("FAUX_AO"),ge&&Ze.push("ZERO_ROOF_RADIUS");for(const Ke of _){const Xe=c.getTile(Ke),at=Xe.getBucket(h);if(!at||at.projection.name!==q.projection.name)continue;const it=at.programConfigurations.get(h.id),gt=m.useProgram(ee?"fillExtrusionPattern":"fillExtrusion",it,Ze);if(m.terrain){const zt=m.terrain;if(m.style.terrainSetForDrapingOnly())zt.setupElevationDraw(Xe,gt,{useMeterToDem:!0});else{if(!at.enableTerrain)continue;if(zt.setupElevationDraw(Xe,gt,{useMeterToDem:!0}),qn(D,c,Ke,at,h,zt),!at.centroidVertexBuffer){const Jt=gt.attributes.a_centroid_pos;Jt!==void 0&&L.vertexAttrib2f(Jt,0,0)}}}ee&&(m.context.activeTexture.set(L.TEXTURE0),Xe.imageAtlasTexture.bind(L.LINEAR,L.CLAMP_TO_EDGE),it.updatePaintBuffers());const Kt=H.constantOr(null);if(Kt&&Xe.imageAtlas){const zt=Xe.imageAtlas.patternPositions[Kt.toString()];zt&&it.setConstantPatternPositions(zt)}const dt=m.translatePosMatrix(Ke.projMatrix,Xe,h.paint.get("fill-extrusion-translate"),h.paint.get("fill-extrusion-translate-anchor")),Ft=q.projection.createInversionMatrix(q,Ke.canonical),wt=h.paint.get("fill-extrusion-vertical-gradient"),Xt=ee?oa(dt,m,wt,de,fe,be,Ke,Xe,te,Te,Ie,Ft):ts(dt,m,wt,de,fe,be,Ke,te,Te,Ie,Ft);m.prepareDrawProgram(D,gt,Ke.toUnwrapped());const mt=[];m.terrain&&mt.push(at.centroidVertexBuffer),pe&&mt.push(at.layoutVertexExtBuffer),gt.draw(D,D.gl.TRIANGLES,x,E,P,a.CullFaceMode.backCCW,Xt,h.id,at.layoutVertexBuffer,at.indexBuffer,at.segments,h.paint,m.transform.zoom,it,mt)}}function qn(m,c,h,_,x,E){const P=[te=>{let pe=te.canonical.x-1,Te=te.wrap;return pe<0&&(pe=(1<<te.canonical.z)-1,Te--),new a.OverscaledTileID(te.overscaledZ,Te,te.canonical.z,pe,te.canonical.y)},te=>{let pe=te.canonical.x+1,Te=te.wrap;return pe===1<<te.canonical.z&&(pe=0,Te++),new a.OverscaledTileID(te.overscaledZ,Te,te.canonical.z,pe,te.canonical.y)},te=>new a.OverscaledTileID(te.overscaledZ,te.wrap,te.canonical.z,te.canonical.x,(te.canonical.y===0?1<<te.canonical.z:te.canonical.y)-1),te=>new a.OverscaledTileID(te.overscaledZ,te.wrap,te.canonical.z,te.canonical.x,te.canonical.y===(1<<te.canonical.z)-1?0:te.canonical.y+1)],D=te=>{const pe=c.getSource().minzoom,Te=Ze=>{const Ke=c.getTileByID(Ze);if(Ke&&Ke.hasData())return Ke.getBucket(x)},Ie=[0,-1,1];for(const Ze of Ie){if(te.overscaledZ+Ze<pe)continue;const Ke=Te(te.calculateScaledKey(te.overscaledZ+Ze));if(Ke)return Ke}},L=[0,0,0],q=(te,pe)=>(L[0]=Math.min(te.min.y,pe.min.y),L[1]=Math.max(te.max.y,pe.max.y),L[2]=a.EXTENT-pe.min.x>te.max.x?pe.min.x-a.EXTENT:te.max.x,L),H=(te,pe)=>(L[0]=Math.min(te.min.x,pe.min.x),L[1]=Math.max(te.max.x,pe.max.x),L[2]=a.EXTENT-pe.min.y>te.max.y?pe.min.y-a.EXTENT:te.max.y,L),ee=[(te,pe)=>q(te,pe),(te,pe)=>q(pe,te),(te,pe)=>H(te,pe),(te,pe)=>H(pe,te)],de=new a.Point(0,0);let fe,ye,ge;const be=(te,pe,Te,Ie,Ze)=>{const Ke=[[Ie?Te:te,Ie?te:Te,0],[Ie?Te:pe,Ie?pe:Te,0]],Xe=Ze<0?a.EXTENT+Ze:Ze,at=[Ie?Xe:(te+pe)/2,Ie?(te+pe)/2:Xe,0];return Te===0&&Ze<0||Te!==0&&Ze>0?E.getForTilePoints(ge,[at],!0,ye):Ke.push(at),E.getForTilePoints(h,Ke,!0,fe),Math.max(Ke[0][2],Ke[1][2],at[2])/E.exaggeration()};for(let te=0;te<4;te++){const pe=(te<2?1:5)-te,Te=_.borders[te];if(Te.length===0)continue;const Ie=ge=P[te](h),Ze=D(Ie);if(!(Ze&&Ze instanceof a.FillExtrusionBucket&&Ze.enableTerrain)||_.borderDoneWithNeighborZ[te]===Ze.canonical.z&&Ze.borderDoneWithNeighborZ[pe]===_.canonical.z||(ye=E.findDEMTileFor(Ie),!ye||!ye.dem))continue;if(!fe){const it=E.findDEMTileFor(h);if(!it||!it.dem)return;fe=it}const Ke=Ze.borders[pe];let Xe=0;const at=Ze.borderDoneWithNeighborZ[pe]!==_.canonical.z;if(_.canonical.z===Ze.canonical.z){for(let it=0;it<Te.length;it++){const gt=_.featuresOnBorder[Te[it]],Kt=gt.borders[te];let dt;for(;Xe<Ke.length&&(dt=Ze.featuresOnBorder[Ke[Xe]],!(dt.borders[pe][1]>Kt[0]+3));)at&&Ze.encodeCentroid(void 0,dt,!1),Xe++;if(dt&&Xe<Ke.length){const Ft=Xe;let wt=0;for(;!(dt.borders[pe][0]>Kt[1]-3)&&(wt++,++Xe!==Ke.length);)dt=Ze.featuresOnBorder[Ke[Xe]];if(dt=Ze.featuresOnBorder[Ke[Ft]],gt.intersectsCount()>1||dt.intersectsCount()>1||wt!==1){wt!==1&&(Xe=Ft),_.encodeCentroid(void 0,gt,!1),at&&Ze.encodeCentroid(void 0,dt,!1);continue}const Xt=ee[te](gt,dt),mt=te%2?a.EXTENT-1:0;de.x=be(Xt[0],Math.min(a.EXTENT-1,Xt[1]),mt,te<2,Xt[2]),de.y=0,_.encodeCentroid(de,gt,!1),at&&Ze.encodeCentroid(de,dt,!1)}else _.encodeCentroid(void 0,gt,!1)}_.borderDoneWithNeighborZ[te]=Ze.canonical.z,_.needsCentroidUpdate=!0,at&&(Ze.borderDoneWithNeighborZ[pe]=_.canonical.z,Ze.needsCentroidUpdate=!0)}else{for(const it of Te)_.encodeCentroid(void 0,_.featuresOnBorder[it],!1);if(at){for(const it of Ke)Ze.encodeCentroid(void 0,Ze.featuresOnBorder[it],!1);Ze.borderDoneWithNeighborZ[pe]=_.canonical.z,Ze.needsCentroidUpdate=!0}_.borderDoneWithNeighborZ[te]=Ze.canonical.z,_.needsCentroidUpdate=!0}}(_.needsCentroidUpdate||!_.centroidVertexBuffer&&_.centroidVertexArray.length!==0)&&_.uploadCentroid(m)}const Cn=new a.Color(1,0,0,1),Pr=new a.Color(0,1,0,1),ir=new a.Color(0,0,1,1),mr=new a.Color(1,0,1,1),Ir=new a.Color(0,1,1,1);function tr(m,c,h){const _=m.context,x=m.transform,E=_.gl,P=x.projection.name==="globe",D=P?["PROJECTION_GLOBE_VIEW"]:null;let L=h.projMatrix;if(P&&a.globeToMercatorTransition(x.zoom)>0){const gt=a.transitionTileAABBinECEF(h.canonical,x),Kt=a.globeDenormalizeECEF(gt);L=a.multiply(new Float32Array(16),x.globeMatrix,Kt),a.multiply(L,x.projMatrix,L)}const q=m.useProgram("debug",null,D),H=c.getTileByID(h.key);m.terrain&&m.terrain.setupElevationDraw(H,q);const ee=a.DepthMode.disabled,de=a.StencilMode.disabled,fe=m.colorModeForRenderPass(),ye="$debug";_.activeTexture.set(E.TEXTURE0),m.emptyTexture.bind(E.LINEAR,E.CLAMP_TO_EDGE),P?H._makeGlobeTileDebugBuffers(m.context,x):H._makeDebugTileBoundsBuffers(m.context,x.projection);const ge=H._tileDebugBuffer||m.debugBuffer,be=H._tileDebugIndexBuffer||m.debugIndexBuffer,te=H._tileDebugSegments||m.debugSegments;q.draw(_,E.LINE_STRIP,ee,de,fe,a.CullFaceMode.disabled,Go(L,a.Color.red),ye,ge,be,te,null,null,null,[H._globeTileDebugBorderBuffer]);const pe=H.latestRawTileData,Te=Math.floor((pe&&pe.byteLength||0)/1024),Ie=c.getTile(h).tileSize,Ze=512/Math.min(Ie,512)*(h.overscaledZ/x.zoom)*.5;let Ke=h.canonical.toString();h.overscaledZ!==h.canonical.z&&(Ke+=` => ${h.overscaledZ}`),Ke+=` ${Te}kb`,function(gt,Kt){gt.initDebugOverlayCanvas();const dt=gt.debugOverlayCanvas,Ft=gt.context.gl,wt=gt.debugOverlayCanvas.getContext("2d");wt.clearRect(0,0,dt.width,dt.height),wt.shadowColor="white",wt.shadowBlur=2,wt.lineWidth=1.5,wt.strokeStyle="white",wt.textBaseline="top",wt.font="bold 36px Open Sans, sans-serif",wt.fillText(Kt,5,5),wt.strokeText(Kt,5,5),gt.debugOverlayTexture.update(dt),gt.debugOverlayTexture.bind(Ft.LINEAR,Ft.CLAMP_TO_EDGE)}(m,Ke);const Xe=H._tileDebugTextBuffer||m.debugBuffer,at=H._tileDebugTextIndexBuffer||m.quadTriangleIndexBuffer,it=H._tileDebugTextSegments||m.debugSegments;q.draw(_,E.TRIANGLES,ee,de,a.ColorMode.alphaBlended,a.CullFaceMode.disabled,Go(L,a.Color.transparent,Ze),ye,Xe,at,it,null,null,null,[H._globeTileDebugTextBuffer])}function ii(m,c,h,_){Li(m,0,c+h/2,m.transform.width,h,_)}function xo(m,c,h,_){Li(m,c-h/2,0,h,m.transform.height,_)}function Li(m,c,h,_,x,E){const P=m.context,D=P.gl;D.enable(D.SCISSOR_TEST),D.scissor(c*a.exported.devicePixelRatio,h*a.exported.devicePixelRatio,_*a.exported.devicePixelRatio,x*a.exported.devicePixelRatio),P.clear({color:E}),D.disable(D.SCISSOR_TEST)}const sa=a.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:Ha}=sa;function Zo(m,c,h,_){m.emplaceBack(c,h,_)}class so{constructor(c){this.vertexArray=new a.StructArrayLayout3f12,this.indices=new a.StructArrayLayout3ui6,Zo(this.vertexArray,-1,-1,1),Zo(this.vertexArray,1,-1,1),Zo(this.vertexArray,-1,1,1),Zo(this.vertexArray,1,1,1),Zo(this.vertexArray,-1,-1,-1),Zo(this.vertexArray,1,-1,-1),Zo(this.vertexArray,-1,1,-1),Zo(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=c.createVertexBuffer(this.vertexArray,Ha),this.indexBuffer=c.createIndexBuffer(this.indices),this.segment=a.SegmentVector.simpleSegment(0,0,36,12)}}function ns(m,c,h,_,x,E){const P=m.gl,D=c.paint.get("sky-atmosphere-color"),L=c.paint.get("sky-atmosphere-halo-color"),q=c.paint.get("sky-atmosphere-sun-intensity"),H=((ee,de,fe,ye,ge)=>({u_matrix_3f:ee,u_sun_direction:de,u_sun_intensity:fe,u_color_tint_r:[ye.r,ye.g,ye.b,ye.a],u_color_tint_m:[ge.r,ge.g,ge.b,ge.a],u_luminance:5e-5}))(a.fromMat4(a.create$1(),_),x,q,D,L);P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_CUBE_MAP_POSITIVE_X+E,c.skyboxTexture,0),h.draw(m,P.TRIANGLES,a.DepthMode.disabled,a.StencilMode.disabled,a.ColorMode.unblended,a.CullFaceMode.frontCW,H,"skyboxCapture",c.skyboxGeometry.vertexBuffer,c.skyboxGeometry.indexBuffer,c.skyboxGeometry.segment)}const Dh=a.createLayout([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class G_{constructor(c){const h=new a.StructArrayLayout5f20;h.emplaceBack(-1,1,1,0,0),h.emplaceBack(1,1,1,1,0),h.emplaceBack(1,-1,1,1,1),h.emplaceBack(-1,-1,1,0,1);const _=new a.StructArrayLayout3ui6;_.emplaceBack(0,1,2),_.emplaceBack(2,3,0),this.vertexBuffer=c.createVertexBuffer(h,Dh.members),this.indexBuffer=c.createIndexBuffer(_),this.segments=a.SegmentVector.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const yu={symbol:function(m,c,h,_,x){if(m.renderPass!=="translucent")return;const E=a.StencilMode.disabled,P=m.colorModeForRenderPass();h.layout.get("text-variable-anchor")&&function(D,L,q,H,ee,de,fe){const ye=L.transform,ge=ee==="map",be=de==="map";for(const te of D){const pe=H.getTile(te),Te=pe.getBucket(q);if(!Te||!Te.text||!Te.text.segments.get().length)continue;const Ie=a.evaluateSizeForZoom(Te.textSizeData,ye.zoom),Ze=di(te,Te.getProjection(),ye),Ke=ye.calculatePixelsToTileUnitsMatrix(pe),Xe=Pt(Ze,pe.tileID.canonical,be,ge,ye,Te.getProjection(),Ke),at=q.layout.get("icon-text-fit")!=="none"&&Te.hasIconData();if(Ie){const it=Math.pow(2,ye.zoom-pe.tileID.overscaledZ);rt(Te,ge,be,fe,a.symbolSize,ye,Xe,te,it,Ie,at)}}}(_,m,h,c,h.layout.get("text-rotation-alignment"),h.layout.get("text-pitch-alignment"),x),h.paint.get("icon-opacity").constantOr(1)!==0&&It(m,c,h,_,!1,h.paint.get("icon-translate"),h.paint.get("icon-translate-anchor"),h.layout.get("icon-rotation-alignment"),h.layout.get("icon-pitch-alignment"),h.layout.get("icon-keep-upright"),E,P),h.paint.get("text-opacity").constantOr(1)!==0&&It(m,c,h,_,!0,h.paint.get("text-translate"),h.paint.get("text-translate-anchor"),h.layout.get("text-rotation-alignment"),h.layout.get("text-pitch-alignment"),h.layout.get("text-keep-upright"),E,P),c.map.showCollisionBoxes&&(Ll(m,c,h,_,h.paint.get("text-translate"),h.paint.get("text-translate-anchor"),!0),Ll(m,c,h,_,h.paint.get("icon-translate"),h.paint.get("icon-translate-anchor"),!1))},circle:function(m,c,h,_){if(m.renderPass!=="translucent")return;const x=h.paint.get("circle-opacity"),E=h.paint.get("circle-stroke-width"),P=h.paint.get("circle-stroke-opacity"),D=h.layout.get("circle-sort-key").constantOr(1)!==void 0;if(x.constantOr(1)===0&&(E.constantOr(1)===0||P.constantOr(1)===0))return;const L=m.context,q=L.gl,H=m.transform,ee=m.depthModeForSublayer(0,a.DepthMode.ReadOnly),de=a.StencilMode.disabled,fe=m.colorModeForRenderPass(),ye=H.projection.name==="globe",ge=[a.mercatorXfromLng(H.center.lng),a.mercatorYfromLat(H.center.lat)],be=[];for(let pe=0;pe<_.length;pe++){const Te=_[pe],Ie=c.getTile(Te),Ze=Ie.getBucket(h);if(!Ze||Ze.projection.name!==H.projection.name)continue;const Ke=Ze.programConfigurations.get(h.id),Xe=Ur(h);ye&&Xe.push("PROJECTION_GLOBE_VIEW");const at=m.useProgram("circle",Ke,Xe),it=Ze.layoutVertexBuffer,gt=Ze.globeExtVertexBuffer,Kt=Ze.indexBuffer,dt=H.projection.createInversionMatrix(H,Te.canonical),Ft={programConfiguration:Ke,program:at,layoutVertexBuffer:it,globeExtVertexBuffer:gt,indexBuffer:Kt,uniformValues:Ih(m,Te,Ie,dt,ge,h),tile:Ie};if(D){const wt=Ze.segments.get();for(const Xt of wt)be.push({segments:new a.SegmentVector([Xt]),sortKey:Xt.sortKey,state:Ft})}else be.push({segments:Ze.segments,sortKey:0,state:Ft})}D&&be.sort((pe,Te)=>pe.sortKey-Te.sortKey);const te={useDepthForOcclusion:!ye};for(const pe of be){const{programConfiguration:Te,program:Ie,layoutVertexBuffer:Ze,globeExtVertexBuffer:Ke,indexBuffer:Xe,uniformValues:at,tile:it}=pe.state,gt=pe.segments;m.terrain&&m.terrain.setupElevationDraw(it,Ie,te),m.prepareDrawProgram(L,Ie,it.tileID.toUnwrapped()),Ie.draw(L,q.TRIANGLES,ee,de,fe,a.CullFaceMode.disabled,at,h.id,Ze,Xe,gt,h.paint,H.zoom,Te,[Ke])}},heatmap:function(m,c,h,_){if(h.paint.get("heatmap-opacity")!==0)if(m.renderPass==="offscreen"){const x=m.context,E=x.gl,P=a.StencilMode.disabled,D=new a.ColorMode([E.ONE,E.ONE],a.Color.transparent,[!0,!0,!0,!0]);(function(fe,ye,ge,be){const te=fe.gl,pe=ye.width*be,Te=ye.height*be;fe.activeTexture.set(te.TEXTURE1),fe.viewport.set([0,0,pe,Te]);let Ie=ge.heatmapFbo;if(!Ie||Ie&&(Ie.width!==pe||Ie.height!==Te)){Ie&&Ie.destroy();const Ze=te.createTexture();te.bindTexture(te.TEXTURE_2D,Ze),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_WRAP_S,te.CLAMP_TO_EDGE),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_WRAP_T,te.CLAMP_TO_EDGE),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_MIN_FILTER,te.LINEAR),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_MAG_FILTER,te.LINEAR),Ie=ge.heatmapFbo=fe.createFramebuffer(pe,Te,!1),function(Ke,Xe,at,it,gt,Kt){const dt=Ke.gl;dt.texImage2D(dt.TEXTURE_2D,0,Ke.isWebGL2&&Ke.extRenderToTextureHalfFloat?dt.RGBA16F:dt.RGBA,gt,Kt,0,dt.RGBA,Ke.extRenderToTextureHalfFloat?Ke.isWebGL2?dt.HALF_FLOAT:Ke.extTextureHalfFloat.HALF_FLOAT_OES:dt.UNSIGNED_BYTE,null),it.colorAttachment.set(at)}(fe,0,Ze,Ie,pe,Te)}else te.bindTexture(te.TEXTURE_2D,Ie.colorAttachment.get()),fe.bindFramebuffer.set(Ie.framebuffer)})(x,m,h,m.transform.projection.name==="globe"?.5:.25),x.clear({color:a.Color.transparent});const L=m.transform,q=L.projection.name==="globe",H=q?["PROJECTION_GLOBE_VIEW"]:null,ee=q?a.CullFaceMode.frontCCW:a.CullFaceMode.disabled,de=[a.mercatorXfromLng(L.center.lng),a.mercatorYfromLat(L.center.lat)];for(let fe=0;fe<_.length;fe++){const ye=_[fe];if(c.hasRenderableParent(ye))continue;const ge=c.getTile(ye),be=ge.getBucket(h);if(!be||be.projection.name!==L.projection.name)continue;const te=be.programConfigurations.get(h.id),pe=m.useProgram("heatmap",te,H),{zoom:Te}=m.transform;m.terrain&&m.terrain.setupElevationDraw(ge,pe),m.prepareDrawProgram(x,pe,ye.toUnwrapped());const Ie=L.projection.createInversionMatrix(L,ye.canonical);pe.draw(x,E.TRIANGLES,a.DepthMode.disabled,P,D,ee,Xp(m,ye,ge,Ie,de,Te,h.paint.get("heatmap-intensity")),h.id,be.layoutVertexBuffer,be.indexBuffer,be.segments,h.paint,m.transform.zoom,te,q?[be.globeExtVertexBuffer]:null)}x.viewport.set([0,0,m.width,m.height])}else m.renderPass==="translucent"&&(m.context.setColorMode(m.colorModeForRenderPass()),function(x,E){const P=x.context,D=P.gl,L=E.heatmapFbo;if(!L)return;P.activeTexture.set(D.TEXTURE0),D.bindTexture(D.TEXTURE_2D,L.colorAttachment.get()),P.activeTexture.set(D.TEXTURE1);let q=E.colorRampTexture;q||(q=E.colorRampTexture=new a.Texture(P,E.colorRamp,D.RGBA)),q.bind(D.LINEAR,D.CLAMP_TO_EDGE),x.useProgram("heatmapTexture").draw(P,D.TRIANGLES,a.DepthMode.disabled,a.StencilMode.disabled,x.colorModeForRenderPass(),a.CullFaceMode.disabled,((H,ee,de,fe)=>({u_image:0,u_color_ramp:1,u_opacity:ee.paint.get("heatmap-opacity")}))(0,E),E.id,x.viewportBuffer,x.quadTriangleIndexBuffer,x.viewportSegments,E.paint,x.transform.zoom)}(m,h))},line:function(m,c,h,_){if(m.renderPass!=="translucent")return;const x=h.paint.get("line-opacity"),E=h.paint.get("line-width");if(x.constantOr(1)===0||E.constantOr(1)===0)return;const P=m.depthModeForSublayer(0,a.DepthMode.ReadOnly),D=m.colorModeForRenderPass(),L=m.terrain&&m.terrain.renderingToTexture?1:a.exported.devicePixelRatio,q=h.paint.get("line-dasharray"),H=q.constantOr(1),ee=h.layout.get("line-cap"),de=h.paint.get("line-pattern"),fe=de.constantOr(1),ye=h.paint.get("line-gradient"),ge=fe?"linePattern":"line",be=m.context,te=be.gl,pe=(Ie=>{const Ze=[];va(Ie)&&Ze.push("RENDER_LINE_DASH"),Ie.paint.get("line-gradient")&&Ze.push("RENDER_LINE_GRADIENT");const Ke=Ie.paint.get("line-trim-offset");Ke[0]===0&&Ke[1]===0||Ze.push("RENDER_LINE_TRIM_OFFSET");const Xe=Ie.paint.get("line-pattern").constantOr(1),at=Ie.paint.get("line-opacity").constantOr(1)!==1;return!Xe&&at&&Ze.push("RENDER_LINE_ALPHA_DISCARD"),Ze})(h);let Te=pe.includes("RENDER_LINE_ALPHA_DISCARD");m.terrain&&m.terrain.clipOrMaskOverlapStencilType()&&(Te=!1);for(const Ie of _){const Ze=c.getTile(Ie);if(fe&&!Ze.patternsLoaded())continue;const Ke=Ze.getBucket(h);if(!Ke)continue;m.prepareDrawTile();const Xe=Ke.programConfigurations.get(h.id),at=m.useProgram(ge,Xe,pe),it=de.constantOr(null);if(it&&Ze.imageAtlas){const zt=Ze.imageAtlas.patternPositions[it.toString()];zt&&Xe.setConstantPatternPositions(zt)}const gt=q.constantOr(null),Kt=ee.constantOr(null);if(!fe&&gt&&Kt&&Ze.lineAtlas){const zt=Ze.lineAtlas.getDash(gt,Kt);zt&&Xe.setConstantPatternPositions(zt)}let[dt,Ft]=h.paint.get("line-trim-offset");(Kt==="round"||Kt==="square")&&dt!==Ft&&(dt===0&&(dt-=1),Ft===1&&(Ft+=1));const wt=m.terrain?Ie.projMatrix:null,Xt=fe?Sc(m,Ze,h,wt,L):v1(m,Ze,h,wt,Ke.lineClipsArray.length,L,[dt,Ft]);if(ye){const zt=Ke.gradients[h.id];let Jt=zt.texture;if(h.gradientVersion!==zt.version){let Wt=256;if(h.stepInterpolant){const tn=c.getSource().maxzoom,Un=Ie.canonical.z===tn?Math.ceil(1<<m.transform.maxZoom-Ie.canonical.z):1;Wt=a.clamp(a.nextPowerOfTwo(Ke.maxLineLength/a.EXTENT*1024*Un),256,be.maxTextureSize)}zt.gradient=a.renderColorRamp({expression:h.gradientExpression(),evaluationKey:"lineProgress",resolution:Wt,image:zt.gradient||void 0,clips:Ke.lineClipsArray}),zt.texture?zt.texture.update(zt.gradient):zt.texture=new a.Texture(be,zt.gradient,te.RGBA),zt.version=h.gradientVersion,Jt=zt.texture}be.activeTexture.set(te.TEXTURE1),Jt.bind(h.stepInterpolant?te.NEAREST:te.LINEAR,te.CLAMP_TO_EDGE)}H&&(be.activeTexture.set(te.TEXTURE0),Ze.lineAtlasTexture.bind(te.LINEAR,te.REPEAT),Xe.updatePaintBuffers()),fe&&(be.activeTexture.set(te.TEXTURE0),Ze.imageAtlasTexture.bind(te.LINEAR,te.CLAMP_TO_EDGE),Xe.updatePaintBuffers()),m.prepareDrawProgram(be,at,Ie.toUnwrapped());const mt=zt=>{at.draw(be,te.TRIANGLES,P,zt,D,a.CullFaceMode.disabled,Xt,h.id,Ke.layoutVertexBuffer,Ke.indexBuffer,Ke.segments,h.paint,m.transform.zoom,Xe,[Ke.layoutVertexBuffer2])};if(Te){const zt=m.stencilModeForClipping(Ie).ref;zt===0&&m.terrain&&be.clear({stencil:0});const Jt={func:te.EQUAL,mask:255};Xt.u_alpha_discard_threshold=.8,mt(new a.StencilMode(Jt,zt,255,te.KEEP,te.KEEP,te.INVERT)),Xt.u_alpha_discard_threshold=0,mt(new a.StencilMode(Jt,zt,255,te.KEEP,te.KEEP,te.KEEP))}else mt(m.stencilModeForClipping(Ie))}Te&&(m.resetStencilClippingMasks(),m.terrain&&be.clear({stencil:0}))},fill:function(m,c,h,_){const x=h.paint.get("fill-color"),E=h.paint.get("fill-opacity");if(E.constantOr(1)===0)return;const P=m.colorModeForRenderPass(),D=h.paint.get("fill-pattern"),L=m.opaquePassEnabledForLayer()&&!D.constantOr(1)&&x.constantOr(a.Color.transparent).a===1&&E.constantOr(0)===1?"opaque":"translucent";if(m.renderPass===L){const q=m.depthModeForSublayer(1,m.renderPass==="opaque"?a.DepthMode.ReadWrite:a.DepthMode.ReadOnly);xn(m,c,h,_,q,P,!1)}if(m.renderPass==="translucent"&&h.paint.get("fill-antialias")){const q=m.depthModeForSublayer(h.getPaintProperty("fill-outline-color")?2:0,a.DepthMode.ReadOnly);xn(m,c,h,_,q,P,!0)}},"fill-extrusion":function(m,c,h,_){const x=h.paint.get("fill-extrusion-opacity");if(x!==0&&m.renderPass==="translucent"){const E=new a.DepthMode(m.context.gl.LEQUAL,a.DepthMode.ReadWrite,m.depthRangeFor3D);if(x!==1||h.paint.get("fill-extrusion-pattern").constantOr(1))In(m,c,h,_,E,a.StencilMode.disabled,a.ColorMode.disabled),In(m,c,h,_,E,m.stencilModeFor3D(),m.colorModeForRenderPass()),m.resetStencilClippingMasks();else{const P=m.colorModeForRenderPass();In(m,c,h,_,E,a.StencilMode.disabled,P)}}},hillshade:function(m,c,h,_){if(m.renderPass!=="offscreen"&&m.renderPass!=="translucent")return;const x=m.context,E=m.depthModeForSublayer(0,a.DepthMode.ReadOnly),P=m.colorModeForRenderPass(),D=m.terrain&&m.terrain.renderingToTexture,[L,q]=m.renderPass!=="translucent"||D?[{},_]:m.stencilConfigForOverlap(_);for(const H of q){const ee=c.getTile(H);if(ee.needsHillshadePrepare&&m.renderPass==="offscreen")cn(m,ee,h,E,a.StencilMode.disabled,P);else if(m.renderPass==="translucent"){const de=D&&m.terrain?m.terrain.stencilModeForRTTOverlap(H):L[H.overscaledZ];Vt(m,H,ee,h,E,de,P)}}x.viewport.set([0,0,m.width,m.height]),m.resetStencilClippingMasks()},raster:function(m,c,h,_,x,E){if(m.renderPass!=="translucent"||h.paint.get("raster-opacity")===0||!_.length)return;const P=m.context,D=P.gl,L=c.getSource(),q=m.useProgram("raster"),H=m.colorModeForRenderPass(),ee=m.terrain&&m.terrain.renderingToTexture,[de,fe]=L instanceof Nn||ee?[{},_]:m.stencilConfigForOverlap(_),ye=fe[fe.length-1].overscaledZ,ge=!m.options.moving;for(const be of fe){const te=ee?a.DepthMode.disabled:m.depthModeForSublayer(be.overscaledZ-ye,h.paint.get("raster-opacity")===1?a.DepthMode.ReadWrite:a.DepthMode.ReadOnly,D.LESS),pe=be.toUnwrapped(),Te=c.getTile(be);if(ee&&(!Te||!Te.hasData()))continue;const Ie=ee?be.projMatrix:m.transform.calculateProjMatrix(pe,ge),Ze=m.terrain&&ee?m.terrain.stencilModeForRTTOverlap(be):de[be.overscaledZ],Ke=E?0:h.paint.get("raster-fade-duration");Te.registerFadeDuration(Ke);const Xe=c.findLoadedParent(be,0),at=Dr(Te,Xe,c,m.transform,Ke);let it,gt;m.terrain&&m.terrain.prepareDrawTile();const Kt=h.paint.get("raster-resampling")==="nearest"?D.NEAREST:D.LINEAR;P.activeTexture.set(D.TEXTURE0),Te.texture.bind(Kt,D.CLAMP_TO_EDGE),P.activeTexture.set(D.TEXTURE1),Xe?(Xe.texture.bind(Kt,D.CLAMP_TO_EDGE),it=Math.pow(2,Xe.tileID.overscaledZ-Te.tileID.overscaledZ),gt=[Te.tileID.canonical.x*it%1,Te.tileID.canonical.y*it%1]):Te.texture.bind(Kt,D.CLAMP_TO_EDGE),Te.texture.useMipmap&&P.extTextureFilterAnisotropic&&m.transform.pitch>20&&D.texParameterf(D.TEXTURE_2D,P.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,P.extTextureFilterAnisotropicMax);const dt=ld(Ie,gt||[0,0],it||1,at,h,L instanceof Nn?L.perspectiveTransform:[0,0]);if(m.prepareDrawProgram(P,q,pe),L instanceof Nn)L.boundsBuffer&&L.boundsSegments&&q.draw(P,D.TRIANGLES,te,a.StencilMode.disabled,H,a.CullFaceMode.disabled,dt,h.id,L.boundsBuffer,m.quadTriangleIndexBuffer,L.boundsSegments);else{const{tileBoundsBuffer:Ft,tileBoundsIndexBuffer:wt,tileBoundsSegments:Xt}=m.getTileBoundsBuffers(Te);q.draw(P,D.TRIANGLES,te,Ze,H,a.CullFaceMode.disabled,dt,h.id,Ft,wt,Xt)}}m.resetStencilClippingMasks()},background:function(m,c,h,_){const x=h.paint.get("background-color"),E=h.paint.get("background-opacity");if(E===0)return;const P=m.context,D=P.gl,L=m.transform,q=L.tileSize,H=h.paint.get("background-pattern");if(m.isPatternMissing(H))return;const ee=!H&&x.a===1&&E===1&&m.opaquePassEnabledForLayer()?"opaque":"translucent";if(m.renderPass!==ee)return;const de=a.StencilMode.disabled,fe=m.depthModeForSublayer(0,ee==="opaque"?a.DepthMode.ReadWrite:a.DepthMode.ReadOnly),ye=m.colorModeForRenderPass(),ge=m.useProgram(H?"backgroundPattern":"background");let be,te=_;te||(be=m.getBackgroundTiles(),te=Object.values(be).map(pe=>pe.tileID)),H&&(P.activeTexture.set(D.TEXTURE0),m.imageManager.bind(m.context));for(const pe of te){const Te=pe.toUnwrapped(),Ie=_?pe.projMatrix:m.transform.calculateProjMatrix(Te);m.prepareDrawTile();const Ze=c?c.getTile(pe):be?be[pe.key]:new a.Tile(pe,q,L.zoom,m),Ke=H?Ah(Ie,E,m,H,{tileID:pe,tileSize:q}):kc(Ie,E,x);m.prepareDrawProgram(P,ge,Te);const{tileBoundsBuffer:Xe,tileBoundsIndexBuffer:at,tileBoundsSegments:it}=m.getTileBoundsBuffers(Ze);ge.draw(P,D.TRIANGLES,fe,de,ye,a.CullFaceMode.disabled,Ke,h.id,Xe,at,it)}},sky:function(m,c,h){const _=m.transform,x=_.projection.name==="mercator"||_.projection.name==="globe"?1:a.smoothstep(7,8,_.zoom),E=h.paint.get("sky-opacity")*x;if(E===0)return;const P=m.context,D=h.paint.get("sky-type"),L=new a.DepthMode(P.gl.LEQUAL,a.DepthMode.ReadOnly,[0,1]),q=m.frameCounter/1e3%1;D==="atmosphere"?m.renderPass==="offscreen"?h.needsSkyboxCapture(m)&&(function(H,ee,de,fe){const ye=H.context,ge=ye.gl;let be=ee.skyboxFbo;if(!be){be=ee.skyboxFbo=ye.createFramebuffer(32,32,!1),ee.skyboxGeometry=new so(ye),ee.skyboxTexture=ye.gl.createTexture(),ge.bindTexture(ge.TEXTURE_CUBE_MAP,ee.skyboxTexture),ge.texParameteri(ge.TEXTURE_CUBE_MAP,ge.TEXTURE_WRAP_S,ge.CLAMP_TO_EDGE),ge.texParameteri(ge.TEXTURE_CUBE_MAP,ge.TEXTURE_WRAP_T,ge.CLAMP_TO_EDGE),ge.texParameteri(ge.TEXTURE_CUBE_MAP,ge.TEXTURE_MIN_FILTER,ge.LINEAR),ge.texParameteri(ge.TEXTURE_CUBE_MAP,ge.TEXTURE_MAG_FILTER,ge.LINEAR);for(let Ie=0;Ie<6;++Ie)ge.texImage2D(ge.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,0,ge.RGBA,32,32,0,ge.RGBA,ge.UNSIGNED_BYTE,null)}ye.bindFramebuffer.set(be.framebuffer),ye.viewport.set([0,0,32,32]);const te=ee.getCenter(H,!0),pe=H.useProgram("skyboxCapture"),Te=new Float64Array(16);a.identity(Te),a.rotateY(Te,Te,.5*-Math.PI),ns(ye,ee,pe,Te,te,0),a.identity(Te),a.rotateY(Te,Te,.5*Math.PI),ns(ye,ee,pe,Te,te,1),a.identity(Te),a.rotateX(Te,Te,.5*-Math.PI),ns(ye,ee,pe,Te,te,2),a.identity(Te),a.rotateX(Te,Te,.5*Math.PI),ns(ye,ee,pe,Te,te,3),a.identity(Te),ns(ye,ee,pe,Te,te,4),a.identity(Te),a.rotateY(Te,Te,Math.PI),ns(ye,ee,pe,Te,te,5),ye.viewport.set([0,0,H.width,H.height])}(m,h),h.markSkyboxValid(m)):m.renderPass==="sky"&&function(H,ee,de,fe,ye){const ge=H.context,be=ge.gl,te=H.transform,pe=H.useProgram("skybox");ge.activeTexture.set(be.TEXTURE0),be.bindTexture(be.TEXTURE_CUBE_MAP,ee.skyboxTexture);const Te=((Ie,Ze,Ke,Xe,at)=>({u_matrix:Ie,u_sun_direction:Ze,u_cubemap:0,u_opacity:Xe,u_temporal_offset:at}))(te.skyboxMatrix,ee.getCenter(H,!1),0,fe,ye);H.prepareDrawProgram(ge,pe),pe.draw(ge,be.TRIANGLES,de,a.StencilMode.disabled,H.colorModeForRenderPass(),a.CullFaceMode.backCW,Te,"skybox",ee.skyboxGeometry.vertexBuffer,ee.skyboxGeometry.indexBuffer,ee.skyboxGeometry.segment)}(m,h,L,E,q):D==="gradient"&&m.renderPass==="sky"&&function(H,ee,de,fe,ye){const ge=H.context,be=ge.gl,te=H.transform,pe=H.useProgram("skyboxGradient");ee.skyboxGeometry||(ee.skyboxGeometry=new so(ge)),ge.activeTexture.set(be.TEXTURE0);let Te=ee.colorRampTexture;Te||(Te=ee.colorRampTexture=new a.Texture(ge,ee.colorRamp,be.RGBA)),Te.bind(be.LINEAR,be.CLAMP_TO_EDGE);const Ie=((Ze,Ke,Xe,at,it)=>({u_matrix:Ze,u_color_ramp:0,u_center_direction:Ke,u_radius:a.degToRad(Xe),u_opacity:at,u_temporal_offset:it}))(te.skyboxMatrix,ee.getCenter(H,!1),ee.paint.get("sky-gradient-radius"),fe,ye);H.prepareDrawProgram(ge,pe),pe.draw(ge,be.TRIANGLES,de,a.StencilMode.disabled,H.colorModeForRenderPass(),a.CullFaceMode.backCW,Ie,"skyboxGradient",ee.skyboxGeometry.vertexBuffer,ee.skyboxGeometry.indexBuffer,ee.skyboxGeometry.segment)}(m,h,L,E,q)},debug:function(m,c,h){for(let _=0;_<h.length;_++)tr(m,c,h[_])},custom:function(m,c,h,_){const x=m.context,E=h.implementation;if(!m.transform.projection.unsupportedLayers||!m.transform.projection.unsupportedLayers.includes("custom")||m.terrain&&(m.terrain.renderingToTexture||m.renderPass==="offscreen")&&h.isLayerDraped()){if(m.renderPass==="offscreen"){const P=E.prerender;if(P){if(m.setCustomLayerDefaults(),x.setColorMode(m.colorModeForRenderPass()),m.transform.projection.name==="globe"){const D=m.transform.pointMerc;P.call(E,x.gl,m.transform.customLayerMatrix(),m.transform.getProjection(),m.transform.globeToMercatorMatrix(),a.globeToMercatorTransition(m.transform.zoom),[D.x,D.y],m.transform.pixelsPerMeterRatio)}else P.call(E,x.gl,m.transform.customLayerMatrix());x.setDirty(),m.setBaseState()}}else if(m.renderPass==="translucent"){if(m.terrain&&m.terrain.renderingToTexture){const D=E.renderToTile;if(D){const L=_[0].canonical,q=new a.MercatorCoordinate(L.x+_[0].wrap*(1<<L.z),L.y,L.z);x.setDepthMode(a.DepthMode.disabled),x.setStencilMode(a.StencilMode.disabled),x.setColorMode(m.colorModeForRenderPass()),m.setCustomLayerDefaults(),D.call(E,x.gl,q),x.setDirty(),m.setBaseState()}return}m.setCustomLayerDefaults(),x.setColorMode(m.colorModeForRenderPass()),x.setStencilMode(a.StencilMode.disabled);const P=E.renderingMode==="3d"?new a.DepthMode(m.context.gl.LEQUAL,a.DepthMode.ReadWrite,m.depthRangeFor3D):m.depthModeForSublayer(0,a.DepthMode.ReadOnly);if(x.setDepthMode(P),m.transform.projection.name==="globe"){const D=m.transform.pointMerc;E.render(x.gl,m.transform.customLayerMatrix(),m.transform.getProjection(),m.transform.globeToMercatorMatrix(),a.globeToMercatorTransition(m.transform.zoom),[D.x,D.y],m.transform.pixelsPerMeterRatio)}else E.render(x.gl,m.transform.customLayerMatrix());x.setDirty(),m.setBaseState(),x.bindFramebuffer.set(null)}}else a.warnOnce("Custom layers are not yet supported with this projection. Use mercator or globe to enable usage of custom layers.")}};class ud{constructor(c,h,_=!1){this.context=new Je(c,_),this.transform=h,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=a.SourceCache.maxUnderzooming+a.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}updateTerrain(c,h){const _=!!c&&!!c.terrain&&this.transform.projection.supportsTerrain;if(!(_||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new _a(this,c));const x=this._terrain;this.transform.elevation=_?x:null,x.update(c,this.transform,h)}_updateFog(c){const h=c.fog;if(!h||this.transform.projection.name==="globe"||h.getOpacity(this.transform.pitch)<1||h.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[_,x]=h.getFovAdjustedRange(this.transform._fov);if(_>x)return void(this.transform.fogCullDistSq=null);const E=_+.78*(x-_);this.transform.fogCullDistSq=E*E}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(c,h){if(this.width=c*a.exported.devicePixelRatio,this.height=h*a.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const _ of this.style.order)this.style._layers[_].resize()}setup(){const c=this.context,h=new a.StructArrayLayout2i4;h.emplaceBack(0,0),h.emplaceBack(a.EXTENT,0),h.emplaceBack(0,a.EXTENT),h.emplaceBack(a.EXTENT,a.EXTENT),this.tileExtentBuffer=c.createVertexBuffer(h,a.posAttributes.members),this.tileExtentSegments=a.SegmentVector.simpleSegment(0,0,4,2);const _=new a.StructArrayLayout2i4;_.emplaceBack(0,0),_.emplaceBack(a.EXTENT,0),_.emplaceBack(0,a.EXTENT),_.emplaceBack(a.EXTENT,a.EXTENT),this.debugBuffer=c.createVertexBuffer(_,a.posAttributes.members),this.debugSegments=a.SegmentVector.simpleSegment(0,0,4,5);const x=new a.StructArrayLayout2i4;x.emplaceBack(-1,-1),x.emplaceBack(1,-1),x.emplaceBack(-1,1),x.emplaceBack(1,1),this.viewportBuffer=c.createVertexBuffer(x,a.posAttributes.members),this.viewportSegments=a.SegmentVector.simpleSegment(0,0,4,2);const E=new a.StructArrayLayout4i8;E.emplaceBack(0,0,0,0),E.emplaceBack(a.EXTENT,0,a.EXTENT,0),E.emplaceBack(0,a.EXTENT,0,a.EXTENT),E.emplaceBack(a.EXTENT,a.EXTENT,a.EXTENT,a.EXTENT),this.mercatorBoundsBuffer=c.createVertexBuffer(E,a.boundsAttributes.members),this.mercatorBoundsSegments=a.SegmentVector.simpleSegment(0,0,4,2);const P=new a.StructArrayLayout3ui6;P.emplaceBack(0,1,2),P.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=c.createIndexBuffer(P);const D=new a.StructArrayLayout1ui2;for(const q of[0,1,3,2,0])D.emplaceBack(q);this.debugIndexBuffer=c.createIndexBuffer(D),this.emptyTexture=new a.Texture(c,new a.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),c.gl.RGBA),this.identityMat=a.create();const L=this.context.gl;this.stencilClearMode=new a.StencilMode({func:L.ALWAYS,mask:0},0,255,L.ZERO,L.ZERO,L.ZERO),this.loadTimeStamps.push(a.window.performance.now()),this.atmosphereBuffer=new G_(this.context)}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(c){return c._makeTileBoundsBuffers(this.context,this.transform.projection),c._tileBoundsBuffer?{tileBoundsBuffer:c._tileBoundsBuffer,tileBoundsIndexBuffer:c._tileBoundsIndexBuffer,tileBoundsSegments:c._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const c=this.context,h=c.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram("clippingMask").draw(c,h.TRIANGLES,a.DepthMode.disabled,this.stencilClearMode,a.ColorMode.disabled,a.CullFaceMode.disabled,Va(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(c,h,_){if(!h||this.currentStencilSource===h.id||!c.isTileClipped()||!_||_.length===0)return;if(this._tileClippingMaskIDs&&!this.terrain){let D=!1;for(const L of _)if(this._tileClippingMaskIDs[L.key]===void 0){D=!0;break}if(!D)return}this.currentStencilSource=h.id;const x=this.context,E=x.gl;this.nextStencilID+_.length>256&&this.clearStencil(),x.setColorMode(a.ColorMode.disabled),x.setDepthMode(a.DepthMode.disabled);const P=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const D of _){const L=h.getTile(D),q=this._tileClippingMaskIDs[D.key]=this.nextStencilID++,{tileBoundsBuffer:H,tileBoundsIndexBuffer:ee,tileBoundsSegments:de}=this.getTileBoundsBuffers(L);P.draw(x,E.TRIANGLES,a.DepthMode.disabled,new a.StencilMode({func:E.ALWAYS,mask:0},q,255,E.KEEP,E.KEEP,E.REPLACE),a.ColorMode.disabled,a.CullFaceMode.disabled,Va(D.projMatrix),"$clipping",H,ee,de)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const c=this.nextStencilID++,h=this.context.gl;return new a.StencilMode({func:h.NOTEQUAL,mask:255},c,255,h.KEEP,h.KEEP,h.REPLACE)}stencilModeForClipping(c){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(c);const h=this.context.gl;return new a.StencilMode({func:h.EQUAL,mask:255},this._tileClippingMaskIDs[c.key],0,h.KEEP,h.KEEP,h.REPLACE)}stencilConfigForOverlap(c){const h=this.context.gl,_=c.sort((P,D)=>D.overscaledZ-P.overscaledZ),x=_[_.length-1].overscaledZ,E=_[0].overscaledZ-x+1;if(E>1){this.currentStencilSource=void 0,this.nextStencilID+E>256&&this.clearStencil();const P={};for(let D=0;D<E;D++)P[D+x]=new a.StencilMode({func:h.GEQUAL,mask:255},D+this.nextStencilID,255,h.KEEP,h.KEEP,h.REPLACE);return this.nextStencilID+=E,[P,_]}return[{[x]:a.StencilMode.disabled},_]}colorModeForRenderPass(){const c=this.context.gl;return this._showOverdrawInspector?new a.ColorMode([c.CONSTANT_COLOR,c.ONE],new a.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?a.ColorMode.unblended:a.ColorMode.alphaBlended}depthModeForSublayer(c,h,_){if(!this.opaquePassEnabledForLayer())return a.DepthMode.disabled;const x=1-((1+this.currentLayer)*this.numSublayers+c)*this.depthEpsilon;return new a.DepthMode(_||this.context.gl.LEQUAL,h,[x,x])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(c,h){this.style=c,this.options=h,this.imageManager=c.imageManager,this.glyphManager=c.glyphManager,this.symbolFadeChange=c.placement.symbolFadeChange(a.exported.now()),this.imageManager.beginFrame();const _=this.style.order,x=this.style._sourceCaches;for(const q in x){const H=x[q];H.used&&H.prepare(this.context)}const E={},P={},D={};for(const q in x){const H=x[q];E[q]=H.getVisibleCoordinates(),P[q]=E[q].slice().reverse(),D[q]=H.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let q=0;q<_.length;q++)if(this.style._layers[_[q]].is3D()){this.opaquePassCutoff=q;break}if(this.terrain&&(this.terrain.updateTileBinding(D),this.opaquePassCutoff=0),this.transform.projection.name!=="globe"||this.globeSharedBuffers||(this.globeSharedBuffers=new a.GlobeSharedBuffers(this.context)),!a.isMapAuthenticated(this.context.gl))return;this.renderPass="offscreen";for(const q of _){const H=this.style._layers[q],ee=c._getLayerSourceCache(H);if(!H.hasOffscreenPass()||H.isHidden(this.transform.zoom))continue;const de=ee?P[ee.id]:void 0;(H.type==="custom"||H.isSky()||de&&de.length)&&this.renderLayer(this,ee,H,de)}this.depthRangeFor3D=[0,1-(c.order.length+2)*this.numSublayers*this.depthEpsilon];const L=this.terrain;if(L&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&L.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:h.showOverdrawInspector?a.Color.black:a.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=h.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=_.length-1;this.currentLayer>=0;this.currentLayer--){const q=this.style._layers[_[this.currentLayer]],H=c._getLayerSourceCache(q);if(q.isSky())continue;const ee=H?P[H.id]:void 0;this._renderTileClippingMasks(q,H,ee),this.renderLayer(this,H,q,ee)}if(this.style.fog&&this.transform.projection.supportsFog&&function(q,H){const ee=q.context,de=ee.gl,fe=q.transform,ye=new a.DepthMode(de.LEQUAL,a.DepthMode.ReadOnly,[0,1]),ge=q.useProgram("globeAtmosphere",null,fe.projection.name==="globe"?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"]),be=a.globeToMercatorTransition(fe.zoom),te=H.properties.get("color").toArray01(),pe=H.properties.get("high-color").toArray01(),Te=H.properties.get("space-color").toArray01PremultipliedAlpha(),Ie=a.identity$1([]);a.rotateY$1(Ie,Ie,-a.degToRad(fe._center.lng)),a.rotateX$1(Ie,Ie,a.degToRad(fe._center.lat)),a.rotateZ$1(Ie,Ie,fe.angle),a.rotateX$1(Ie,Ie,-fe._pitch);const Ze=a.fromQuat(new Float32Array(16),Ie),Ke=a.mapValue(H.properties.get("star-intensity"),0,1,0,.25),Xe=5e-4,at=a.mapValue(H.properties.get("horizon-blend"),0,1,Xe,.25),it=a.globeUseCustomAntiAliasing(q,ee,fe)&&at===Xe?fe.worldSize/(2*Math.PI*1.025)-1:fe.globeRadius,gt=q.frameCounter/1e3%1,Kt=a.length(fe.globeCenterInViewSpace),dt=Math.sqrt(Math.pow(Kt,2)-Math.pow(it,2)),Ft=Math.acos(dt/Kt),wt=((mt,zt,Jt,Wt,tn,Un,nr,kn,Zn,Tr,xr,Ln,jr,qr)=>({u_frustum_tl:mt,u_frustum_tr:zt,u_frustum_br:Jt,u_frustum_bl:Wt,u_horizon:tn,u_transition:Un,u_fadeout_range:nr,u_color:kn,u_high_color:Zn,u_space_color:Tr,u_star_intensity:xr,u_star_size:5*a.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:Ln,u_horizon_angle:jr,u_rotation_matrix:qr}))(fe.frustumCorners.TL,fe.frustumCorners.TR,fe.frustumCorners.BR,fe.frustumCorners.BL,fe.frustumCorners.horizon,be,at,te,pe,Te,Ke,gt,Ft,Ze);q.prepareDrawProgram(ee,ge);const Xt=q.atmosphereBuffer;Xt&&ge.draw(ee,de.TRIANGLES,ye,a.StencilMode.disabled,a.ColorMode.alphaBlended,a.CullFaceMode.backCW,wt,"skybox",Xt.vertexBuffer,Xt.indexBuffer,Xt.segments)}(this,this.style.fog),this.renderPass="sky",(a.globeToMercatorTransition(this.transform.zoom)>0||this.transform.projection.name!=="globe")&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<_.length;this.currentLayer++){const q=this.style._layers[_[this.currentLayer]],H=c._getLayerSourceCache(q);q.isSky()&&this.renderLayer(this,H,q,H?P[H.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<_.length;){const q=this.style._layers[_[this.currentLayer]],H=c._getLayerSourceCache(q);if(q.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(q)){if(q.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const ee=H?(q.type==="symbol"?D:P)[H.id]:void 0;this._renderTileClippingMasks(q,H,H?E[H.id]:void 0),this.renderLayer(this,H,q,ee),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let q=null;a.values(this.style._layers).forEach(H=>{const ee=c._getLayerSourceCache(H);ee&&!H.isHidden(this.transform.zoom)&&(!q||q.getSource().maxzoom<ee.getSource().maxzoom)&&(q=ee)}),q&&this.options.showTileBoundaries&&yu.debug(this,q,q.getVisibleCoordinates())}this.options.showPadding&&function(q){const H=q.transform.padding;ii(q,q.transform.height-(H.top||0),3,Cn),ii(q,H.bottom||0,3,Pr),xo(q,H.left||0,3,ir),xo(q,q.transform.width-(H.right||0),3,mr);const ee=q.transform.centerPoint;(function(de,fe,ye,ge){Li(de,fe-1,ye-10,2,20,ge),Li(de,fe-10,ye-1,20,2,ge)})(q,ee.x,q.transform.height-ee.y,Ir)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(a.window.performance.now()),this.saveCanvasCopy())}renderLayer(c,h,_,x){_.isHidden(this.transform.zoom)||(_.type==="background"||_.type==="sky"||_.type==="custom"||x&&x.length)&&(this.id=_.id,this.gpuTimingStart(_),(!c.transform.projection.unsupportedLayers||!c.transform.projection.unsupportedLayers.includes(_.type)||c.terrain&&_.type==="custom")&&yu[_.type](c,h,_,x,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(c){if(!this.options.gpuTiming)return;const h=this.context.extTimerQuery;let _=this.gpuTimers[c.id];_||(_=this.gpuTimers[c.id]={calls:0,cpuTime:0,query:h.createQueryEXT()}),_.calls++,h.beginQueryEXT(h.TIME_ELAPSED_EXT,_.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const c=this.context.extTimerQuery,h=c.createQueryEXT();this.deferredRenderGpuTimeQueries.push(h),c.beginQueryEXT(c.TIME_ELAPSED_EXT,h)}}gpuTimingDeferredRenderEnd(){if(!this.options.gpuTimingDeferredRender)return;const c=this.context.extTimerQuery;c.endQueryEXT(c.TIME_ELAPSED_EXT)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const c=this.context.extTimerQuery;c.endQueryEXT(c.TIME_ELAPSED_EXT)}collectGpuTimers(){const c=this.gpuTimers;return this.gpuTimers={},c}collectDeferredRenderGpuQueries(){const c=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],c}queryGpuTimers(c){const h={};for(const _ in c){const x=c[_],E=this.context.extTimerQuery,P=E.getQueryObjectEXT(x.query,E.QUERY_RESULT_EXT)/1e6;E.deleteQueryEXT(x.query),h[_]=P}return h}queryGpuTimeDeferredRender(c){if(!this.options.gpuTimingDeferredRender)return 0;const h=this.context.extTimerQuery;let _=0;for(const x of c)_+=h.getQueryObjectEXT(x,h.QUERY_RESULT_EXT)/1e6,h.deleteQueryEXT(x);return _}translatePosMatrix(c,h,_,x,E){if(!_[0]&&!_[1])return c;const P=E?x==="map"?this.transform.angle:0:x==="viewport"?-this.transform.angle:0;if(P){const q=Math.sin(P),H=Math.cos(P);_=[_[0]*H-_[1]*q,_[0]*q+_[1]*H]}const D=[E?_[0]:lt(h,_[0],this.transform.zoom),E?_[1]:lt(h,_[1],this.transform.zoom),0],L=new Float32Array(16);return a.translate(L,c,D),L}saveTileTexture(c){const h=this._tileTextures[c.size[0]];h?h.push(c):this._tileTextures[c.size[0]]=[c]}getTileTexture(c){const h=this._tileTextures[c];return h&&h.length>0?h.pop():null}isPatternMissing(c){return c===null||c!==void 0&&!this.imageManager.getPattern(c.toString())}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}currentGlobalDefines(){const c=this.terrain&&this.terrain.renderingToTexture,h=this.terrain&&this.terrain.exaggeration()===0,_=this.style&&this.style.fog,x=[];return this.terrainRenderModeElevated()&&x.push("TERRAIN"),this.transform.projection.name==="globe"&&x.push("GLOBE"),h&&x.push("ZERO_EXAGGERATION"),_&&!c&&_.getOpacity(this.transform.pitch)!==0&&x.push("FOG"),c&&x.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&x.push("OVERDRAW_INSPECTOR"),x}useProgram(c,h,_){this.cache=this.cache||{};const x=_||[],E=this.currentGlobalDefines().concat(x),P=Sr.cacheKey(ue[c],c,E,h);return this.cache[P]||(this.cache[P]=new Sr(this.context,c,ue[c],h,_u[c],E)),this.cache[P]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const c=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(c.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=a.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new a.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}prepareDrawProgram(c,h,_){if(this.terrain&&this.terrain.renderingToTexture)return;const x=this.style.fog;if(x){const E=x.getOpacity(this.transform.pitch),P=((D,L,q,H,ee,de,fe,ye,ge,be,te)=>{const pe=D.transform,Te=L.properties.get("color").toArray01();Te[3]=H;const Ie=D.frameCounter/1e3%1;return{u_fog_matrix:q?pe.calculateFogTileMatrix(q):D.identityMat,u_fog_range:L.getFovAdjustedRange(pe._fov),u_fog_color:Te,u_fog_horizon_blend:L.properties.get("horizon-blend"),u_fog_temporal_offset:Ie,u_frustum_tl:ee,u_frustum_tr:de,u_frustum_br:fe,u_frustum_bl:ye,u_globe_pos:ge,u_globe_radius:be,u_viewport:te,u_globe_transition:a.globeToMercatorTransition(pe.zoom),u_is_globe:+(pe.projection.name==="globe")}})(this,x,_,E,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*a.exported.devicePixelRatio,this.transform.height*a.exported.devicePixelRatio]);h.setFogUniformValues(c,P)}}setTileLoadedFlag(c){this.tileLoaded=c}saveCanvasCopy(){const c=this.canvasCopy();c&&(this.frameCopies.push(c),this.tileLoaded=!1)}canvasCopy(){const c=this.context.gl,h=c.createTexture();return c.bindTexture(c.TEXTURE_2D,h),c.copyTexImage2D(c.TEXTURE_2D,0,c.RGBA,0,0,c.drawingBufferWidth,c.drawingBufferHeight,0),h}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const c=this.style&&this.style.fog;return!!c&&c.getOpacity(this.transform.pitch)!==0}getBackgroundTiles(){const c=this._backgroundTiles,h=this._backgroundTiles={},_=this.transform.coveringTiles({tileSize:512});for(const x of _)h[x.key]=c[x.key]||new a.Tile(x,512,this.transform.tileZoom,this);return h}clearBackgroundTiles(){this._backgroundTiles={}}}class Yp{constructor(c=0,h=0,_=0,x=0){if(isNaN(c)||c<0||isNaN(h)||h<0||isNaN(_)||_<0||isNaN(x)||x<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=c,this.bottom=h,this.left=_,this.right=x}interpolate(c,h,_){return h.top!=null&&c.top!=null&&(this.top=a.number(c.top,h.top,_)),h.bottom!=null&&c.bottom!=null&&(this.bottom=a.number(c.bottom,h.bottom,_)),h.left!=null&&c.left!=null&&(this.left=a.number(c.left,h.left,_)),h.right!=null&&c.right!=null&&(this.right=a.number(c.right,h.right,_)),this}getCenter(c,h){const _=a.clamp((this.left+c-this.right)/2,0,c),x=a.clamp((this.top+h-this.bottom)/2,0,h);return new a.Point(_,x)}equals(c){return this.top===c.top&&this.bottom===c.bottom&&this.left===c.left&&this.right===c.right}clone(){return new Yp(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function Jp(m,c){const h=a.getColumn(m,3);a.fromQuat(m,c),a.setColumn(m,3,h)}function Or(m,c){const h=a.identity$1([]);return a.rotateZ$1(h,h,-c),a.rotateX$1(h,h,-m),h}function Rh(m,c){const h=[m[0],m[1],0],_=[c[0],c[1],0];if(a.length(h)>=1e-15){const P=a.normalize([],h);a.scale$2(_,P,a.dot(_,P)),c[0]=_[0],c[1]=_[1]}const x=a.cross([],c,m);if(a.len(x)<1e-15)return null;const E=Math.atan2(-x[1],x[0]);return Or(Math.atan2(Math.sqrt(m[0]*m[0]+m[1]*m[1]),-m[2]),E)}class Z_{constructor(c,h){this.position=c,this.orientation=h}get position(){return this._position}set position(c){if(c){const h=c instanceof a.MercatorCoordinate?c:new a.MercatorCoordinate(c[0],c[1],c[2]);this._renderWorldCopies&&(h.x=a.wrap(h.x,0,1)),this._position=h}else this._position=null}lookAtPoint(c,h){if(this.orientation=null,!this.position)return;const _=this.position,x=this._elevation?this._elevation.getAtPointOrZero(a.MercatorCoordinate.fromLngLat(c)):0,E=a.MercatorCoordinate.fromLngLat(c,x),P=[E.x-_.x,E.y-_.y,E.z-_.z];h||(h=[0,0,1]),h[2]=Math.abs(h[2]),this.orientation=Rh(P,h)}setPitchBearing(c,h){this.orientation=Or(a.degToRad(c),a.degToRad(-h))}}class Qp{constructor(c,h){this._transform=a.identity([]),this.orientation=h,this.position=c}get mercatorPosition(){const c=this.position;return new a.MercatorCoordinate(c[0],c[1],c[2])}get position(){const c=a.getColumn(this._transform,3);return[c[0],c[1],c[2]]}set position(c){var h;c&&a.setColumn(this._transform,3,[(h=c)[0],h[1],h[2],1])}get orientation(){return this._orientation}set orientation(c){this._orientation=c||a.identity$1([]),c&&Jp(this._transform,this._orientation)}getPitchBearing(){const c=this.forward(),h=this.right();return{bearing:Math.atan2(-h[1],h[0]),pitch:Math.atan2(Math.sqrt(c[0]*c[0]+c[1]*c[1]),-c[2])}}setPitchBearing(c,h){this._orientation=Or(c,h),Jp(this._transform,this._orientation)}forward(){const c=a.getColumn(this._transform,2);return[-c[0],-c[1],-c[2]]}up(){const c=a.getColumn(this._transform,1);return[-c[0],-c[1],-c[2]]}right(){const c=a.getColumn(this._transform,0);return[c[0],c[1],c[2]]}getCameraToWorld(c,h){const _=new Float64Array(16);return a.invert(_,this.getWorldToCamera(c,h)),_}getWorldToCameraPosition(c,h,_){const x=this.position;a.scale$2(x,x,-c);const E=new Float64Array(16);return a.fromScaling(E,[_,_,_]),a.translate(E,E,x),E[10]*=h,E}getWorldToCamera(c,h){const _=new Float64Array(16),x=new Float64Array(4),E=this.position;return a.conjugate(x,this._orientation),a.scale$2(E,E,-c),a.fromQuat(_,x),a.translate(_,_,E),_[1]*=-1,_[5]*=-1,_[9]*=-1,_[13]*=-1,_[8]*=h,_[9]*=h,_[10]*=h,_[11]*=h,_}getCameraToClipPerspective(c,h,_,x){const E=new Float64Array(16);return a.perspective(E,c,h,_,x),E}getDistanceToElevation(c,h=!1){const _=c===0?0:a.mercatorZfromAltitude(c,h?a.latFromMercatorY(this.position[1]):this.position[1]),x=this.forward();return(_-this.position[2])/x[2]}clone(){return new Qp([...this.position],[...this.orientation])}}function dd(m,c){const h=ef(m.projection,m.zoom,m.width,m.height),_=function(E,P,D,L,q){const H=new a.LngLat(D.lng-180*zl,D.lat),ee=new a.LngLat(D.lng+180*zl,D.lat),de=E.project(H.lng,H.lat),fe=E.project(ee.lng,ee.lat),ye=-Math.atan2(fe.y-de.y,fe.x-de.x),ge=a.MercatorCoordinate.fromLngLat(D);ge.y=a.clamp(ge.y,-1+zl,1-zl);const be=ge.toLngLat(),te=E.project(be.lng,be.lat),pe=a.MercatorCoordinate.fromLngLat(be);pe.x+=zl;const Te=pe.toLngLat(),Ie=E.project(Te.lng,Te.lat),Ze=tf(Ie.x-te.x,Ie.y-te.y,ye),Ke=a.MercatorCoordinate.fromLngLat(be);Ke.y+=zl;const Xe=Ke.toLngLat(),at=E.project(Xe.lng,Xe.lat),it=tf(at.x-te.x,at.y-te.y,ye),gt=Math.abs(Ze.x)/Math.abs(it.y),Kt=a.identity([]);a.rotateZ(Kt,Kt,-ye*(1-(q?0:L)));const dt=a.identity([]);return a.scale(dt,dt,[1,1-(1-gt)*L,1]),dt[4]=-it.x/it.y*L,a.rotateZ(dt,dt,ye),a.multiply(dt,Kt,dt),dt}(m.projection,0,m.center,h,c),x=X_(m);return a.scale(_,_,[x,x,1]),_}function X_(m){const c=m.projection,h=ef(m.projection,m.zoom,m.width,m.height),_=K_(c,m.center),x=K_(c,a.LngLat.convert(c.center));return Math.pow(2,_*h+(1-h)*x)}function ef(m,c,h,_,x=1/0){const E=m.range;if(!E)return 0;const P=Math.min(x,Math.max(h,_)),D=Math.log(P/1024)/Math.LN2;return a.smoothstep(E[0]+D,E[1]+D,c)}const zl=1/4e4;function K_(m,c){const h=a.clamp(c.lat,-a.MAX_MERCATOR_LATITUDE,a.MAX_MERCATOR_LATITUDE),_=new a.LngLat(c.lng-180*zl,h),x=new a.LngLat(c.lng+180*zl,h),E=m.project(_.lng,h),P=m.project(x.lng,h),D=a.MercatorCoordinate.fromLngLat(_),L=a.MercatorCoordinate.fromLngLat(x),q=P.x-E.x,H=P.y-E.y,ee=L.x-D.x,de=L.y-D.y,fe=Math.sqrt((ee*ee+de*de)/(q*q+H*H));return Math.log(fe)/Math.LN2}function tf(m,c,h){const _=Math.cos(h),x=Math.sin(h);return{x:m*_-c*x,y:m*x+c*_}}class hd{constructor(c,h,_,x,E,P,D){this.tileSize=512,this._renderWorldCopies=E===void 0||E,this._minZoom=c||0,this._maxZoom=h||22,this._minPitch=_??0,this._maxPitch=x??60,this.setProjection(P),this.setMaxBounds(D),this.width=0,this.height=0,this._center=new a.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new Yp,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new Qp,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1}clone(){const c=new hd(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return c._elevation=this._elevation,c._centerAltitude=this._centerAltitude,c._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,c.tileSize=this.tileSize,c.mercatorFromTransition=this.mercatorFromTransition,c.width=this.width,c.height=this.height,c.cameraElevationReference=this.cameraElevationReference,c._center=this._center,c._setZoom(this.zoom),c._seaLevelZoom=this._seaLevelZoom,c.angle=this.angle,c._fov=this._fov,c._pitch=this._pitch,c._nearZ=this._nearZ,c._farZ=this._farZ,c._averageElevation=this._averageElevation,c._unmodified=this._unmodified,c._edgeInsets=this._edgeInsets.clone(),c._camera=this._camera.clone(),c._calcMatrices(),c.freezeTileCoverage=this.freezeTileCoverage,c.frustumCorners=this.frustumCorners,c}get elevation(){return this._elevation}set elevation(c){this._elevation!==c&&(this._elevation=c,this._updateCameraOnTerrain(),this._calcMatrices())}updateElevation(c,h=!1){const _=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(this._seaLevelZoom==null||_)&&this._updateCameraOnTerrain(),(c||_)&&this._constrainCamera(h),this._calcMatrices()}getProjection(){return a.pick(this.projection,["name","center","parallels"])}setProjection(c){this.projectionOptions=c||{name:"mercator"};const h=this.projection?this.getProjection():void 0;this.projection=a.getProjection(this.projectionOptions);const _=!y(h,this.getProjection());return _&&this._calcMatrices(),this.mercatorFromTransition=!1,_}setMercatorFromTransition(){const c=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=a.getProjection({name:"mercator"});const h=c!==this.projection.name;return h&&this._calcMatrices(),h}get minZoom(){return this._minZoom}set minZoom(c){this._minZoom!==c&&(this._minZoom=c,this.zoom=Math.max(this.zoom,c))}get maxZoom(){return this._maxZoom}set maxZoom(c){this._maxZoom!==c&&(this._maxZoom=c,this.zoom=Math.min(this.zoom,c))}get minPitch(){return this._minPitch}set minPitch(c){this._minPitch!==c&&(this._minPitch=c,this.pitch=Math.max(this.pitch,c))}get maxPitch(){return this._maxPitch}set maxPitch(c){this._maxPitch!==c&&(this._maxPitch=c,this.pitch=Math.min(this.pitch,c))}get renderWorldCopies(){return this._renderWorldCopies&&this.projection.supportsWorldCopies===!0}set renderWorldCopies(c){c===void 0?c=!0:c===null&&(c=!1),this._renderWorldCopies=c}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const c=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(c))}get cameraWorldSize(){const c=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(c))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return a.mercatorZfromAltitude(this.center.lat,this.cameraWorldSizeForFog)}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new a.Point(this.width,this.height)}get bearing(){return a.wrap(this.rotation,-180,180)}set bearing(c){this.rotation=c}get rotation(){return-this.angle/Math.PI*180}set rotation(c){const h=-c*Math.PI/180;var _;this.angle!==h&&(this._unmodified=!1,this.angle=h,this._calcMatrices(),this.rotationMatrix=(_=new a.ARRAY_TYPE(4),a.ARRAY_TYPE!=Float32Array&&(_[1]=0,_[2]=0),_[0]=1,_[3]=1,_),function(x,E,P){var D=E[0],L=E[1],q=E[2],H=E[3],ee=Math.sin(P),de=Math.cos(P);x[0]=D*de+q*ee,x[1]=L*de+H*ee,x[2]=D*-ee+q*de,x[3]=L*-ee+H*de}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(c){const h=a.clamp(c,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==h&&(this._unmodified=!1,this._pitch=h,this._calcMatrices())}get aspect(){return this.width/this.height}get fov(){return this._fov/Math.PI*180}get fovX(){return this._fov}get fovY(){const c=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/c)}set fov(c){c=Math.max(.01,Math.min(60,c)),this._fov!==c&&(this._unmodified=!1,this._fov=a.degToRad(c),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(c){this._averageElevation=c,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(c){const h=Math.min(Math.max(c,this.minZoom),this.maxZoom);this._zoom!==h&&(this._unmodified=!1,this._setZoom(h),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(c){this._zoom=c,this.scale=this.zoomScale(c),this.tileZoom=Math.floor(c),this.zoomFraction=c-this.tileZoom}_updateCameraOnTerrain(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const c=this._elevation;this._centerAltitude=c.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=c.exaggeration(),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){this._centerAltitudeValidForExaggeration!==void 0&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const c=this._elevation,h=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],_=this.horizonLineFromTop();let x=0,E=0;for(let P=0;P<h.length;P++){const D=new a.Point(h[P][0]*this.width,_+h[P][1]*(this.height-_)),L=c.pointCoordinate(D);if(!L)continue;const q=1/Math.hypot(L[0]-this._camera.position[0],L[1]-this._camera.position[1]);x+=L[3]*q,E+=q}return E===0?NaN:x/E}get center(){return this._center}set center(c){c.lat===this._center.lat&&c.lng===this._center.lng||(this._unmodified=!1,this._center=c,this._terrainEnabled()&&(this.cameraElevationReference==="ground"?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(this._seaLevelZoom==null||!this._elevation)return;const c=this._seaLevelZoom,h=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),_=this.pixelsPerMeter/this.worldSize*h,x=this._mercatorZfromZoom(c),E=this._mercatorZfromZoom(this._maxZoom),P=Math.max(x-_,E);this._setZoom(this._zoomFromMercatorZ(P))}get padding(){return this._edgeInsets.toJSON()}set padding(c){this._edgeInsets.equals(c)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,c,1),this._calcMatrices())}computeZoomRelativeTo(c){const h=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,c.toAltitude()));let _;_=c.z<this._camera.position[2]?[h.x,h.y,h.z]:[c.x,c.y,c.z];const x=a.length(a.sub([],this._camera.position,_));return a.clamp(this._zoomFromMercatorZ(x),this._minZoom,this._maxZoom)}setFreeCameraOptions(c){if(!this.height||!c.position&&!c.orientation)return;this._updateCameraState();let h=!1;if(c.orientation&&!a.exactEquals(c.orientation,this._camera.orientation)&&(h=this._setCameraOrientation(c.orientation)),c.position){const _=[c.position.x,c.position.y,c.position.z];a.exactEquals$1(_,this._camera.position)||(this._setCameraPosition(_),h=!0)}h&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const c=this._camera.position,h=new Z_;return h.position=new a.MercatorCoordinate(c[0],c[1],c[2]),h.orientation=this._camera.orientation,h._elevation=this.elevation,h._renderWorldCopies=this.renderWorldCopies,h}_setCameraOrientation(c){if(!a.length$1(c))return!1;a.normalize$1(c,c);const h=a.transformQuat([],[0,0,-1],c),_=a.transformQuat([],[0,-1,0],c);if(_[2]<0)return!1;const x=Rh(h,_);return!!x&&(this._camera.orientation=x,!0)}_setCameraPosition(c){const h=this.zoomScale(this.minZoom)*this.tileSize,_=this.zoomScale(this.maxZoom)*this.tileSize,x=this.cameraToCenterDistance;c[2]=a.clamp(c[2],x/_,x/h),this._camera.position=c}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(c){return this._edgeInsets.equals(c)}interpolatePadding(c,h,_){this._unmodified=!1,this._edgeInsets.interpolate(c,h,_),this._constrain(),this._calcMatrices()}coveringZoomLevel(c){const h=(c.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/c.tileSize));return Math.max(0,h)}getVisibleUnwrappedCoordinates(c){const h=[new a.UnwrappedTileID(0,c)];if(this.renderWorldCopies){const _=this.pointCoordinate(new a.Point(0,0)),x=this.pointCoordinate(new a.Point(this.width,0)),E=this.pointCoordinate(new a.Point(this.width,this.height)),P=this.pointCoordinate(new a.Point(0,this.height)),D=Math.floor(Math.min(_.x,x.x,E.x,P.x)),L=Math.floor(Math.max(_.x,x.x,E.x,P.x)),q=1;for(let H=D-q;H<=L+q;H++)H!==0&&h.push(new a.UnwrappedTileID(H,c))}return h}coveringTiles(c){let h=this.coveringZoomLevel(c);const _=h,x=this.elevation&&!c.isTerrainDEM,E=this.projection.name==="mercator";if(c.minzoom!==void 0&&h<c.minzoom)return[];c.maxzoom!==void 0&&h>c.maxzoom&&(h=c.maxzoom);const P=this.locationCoordinate(this.center),D=this.center.lat,L=1<<h,q=[L*P.x,L*P.y,0],H=this.projection.name==="globe",ee=!H,de=a.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,h,ee),fe=H?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),ye=L*a.mercatorZfromAltitude(1,this.center.lat),ge=this._camera.position[2]/a.mercatorZfromAltitude(1,this.center.lat),be=[L*fe.x,L*fe.y,ge*(ee?1:ye)],te=this.cameraToCenterDistance/c.tileSize*(c.roundZoom?1:.502),pe=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?h:0,Te=c.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,Ie=c.isTerrainDEM?-Te:this._elevation?this._elevation.getMinElevationBelowMSL():0,Ze=this.projection.isReprojectedInTileSpace?X_(this):1,Ke=mt=>{const Jt=new a.MercatorCoordinate(mt.x+25e-6,mt.y,mt.z),Wt=new a.MercatorCoordinate(mt.x,mt.y+25e-6,mt.z),tn=mt.toLngLat(),Un=Jt.toLngLat(),nr=Wt.toLngLat(),kn=this.locationCoordinate(tn),Zn=this.locationCoordinate(Un),Tr=this.locationCoordinate(nr),xr=Math.hypot(Zn.x-kn.x,Zn.y-kn.y),Ln=Math.hypot(Tr.x-kn.x,Tr.y-kn.y);return Math.sqrt(xr*Ln)*Ze/25e-6},Xe=mt=>{const zt=Te,Jt=Ie;return{aabb:a.tileAABB(this,L,0,0,0,mt,Jt,zt,this.projection),zoom:0,x:0,y:0,minZ:Jt,maxZ:zt,wrap:mt,fullyVisible:!1}},at=[];let it=[];const gt=h,Kt=c.reparseOverscaled?_:h,dt=mt=>mt*mt,Ft=dt((ge-this._centerAltitude)*ye),wt=mt=>{if(!this._elevation||!mt.tileID||!E)return;const zt=this._elevation.getMinMaxForTile(mt.tileID),Jt=mt.aabb;zt?(Jt.min[2]=zt.min,Jt.max[2]=zt.max,Jt.center[2]=(Jt.min[2]+Jt.max[2])/2):(mt.shouldSplit=Xt(mt),mt.shouldSplit||(Jt.min[2]=Jt.max[2]=Jt.center[2]=this._centerAltitude))},Xt=mt=>{if(mt.zoom<pe)return!0;if(mt.zoom===gt)return!1;if(mt.shouldSplit!=null)return mt.shouldSplit;const zt=mt.aabb.distanceX(be),Jt=mt.aabb.distanceY(be);let Wt=Ft,tn=1;if(H){Wt=dt(mt.aabb.distanceZ(be));const kn=Math.pow(2,mt.zoom),Zn=a.latFromMercatorY((mt.y+1)/kn),Tr=a.latFromMercatorY(mt.y/kn),xr=Math.min(Math.max(D,Zn),Tr),Ln=a.circumferenceAtLatitude(xr)/a.circumferenceAtLatitude(D);if(tn=xr===D?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,Ln/this._mercatorScaleRatio),this.zoom<=a.GLOBE_ZOOM_THRESHOLD_MIN&&mt.zoom===gt-1&&Ln>=.9)return!0}else if(x&&(Wt=dt(mt.aabb.distanceZ(be)*ye)),this.projection.isReprojectedInTileSpace&&_<=5){const kn=Math.pow(2,mt.zoom),Zn=Ke(new a.MercatorCoordinate((mt.x+.5)/kn,(mt.y+.5)/kn));tn=Zn>.85?1:Zn}const Un=zt*zt+Jt*Jt+Wt,nr=dt((1<<gt-mt.zoom)*te*tn*((kn,Zn)=>{if(Zn*dt(.707)<kn)return 1;const Tr=Math.sqrt(Zn/kn);return Tr/(1.4144271570014144+(Math.pow(1.1,Tr-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(Wt,Ft),Un));return Un<nr};if(this.renderWorldCopies)for(let mt=1;mt<=3;mt++)at.push(Xe(-mt)),at.push(Xe(mt));for(at.push(Xe(0));at.length>0;){const mt=at.pop(),zt=mt.x,Jt=mt.y;let Wt=mt.fullyVisible;if(!Wt){const tn=mt.aabb.intersects(de);if(tn===0)continue;Wt=tn===2}if(mt.zoom!==gt&&Xt(mt))for(let tn=0;tn<4;tn++){const Un=(zt<<1)+tn%2,nr=(Jt<<1)+(tn>>1),kn={aabb:E?mt.aabb.quadrant(tn):a.tileAABB(this,L,mt.zoom+1,Un,nr,mt.wrap,mt.minZ,mt.maxZ,this.projection),zoom:mt.zoom+1,x:Un,y:nr,wrap:mt.wrap,fullyVisible:Wt,tileID:void 0,shouldSplit:void 0,minZ:mt.minZ,maxZ:mt.maxZ};x&&!H&&(kn.tileID=new a.OverscaledTileID(mt.zoom+1===gt?Kt:mt.zoom+1,mt.wrap,mt.zoom+1,Un,nr),wt(kn)),at.push(kn)}else{const tn=mt.zoom===gt?Kt:mt.zoom;if(c.minzoom&&c.minzoom>tn)continue;const Un=q[0]-(.5+zt+(mt.wrap<<mt.zoom))*(1<<h-mt.zoom),nr=q[1]-.5-Jt,kn=mt.tileID?mt.tileID:new a.OverscaledTileID(tn,mt.wrap,mt.zoom,zt,Jt);it.push({tileID:kn,distanceSq:Un*Un+nr*nr})}}if(this.fogCullDistSq){const mt=this.fogCullDistSq,zt=this.horizonLineFromTop();it=it.filter(Jt=>{const Wt=[0,0,0,1],tn=[a.EXTENT,a.EXTENT,0,1],Un=this.calculateFogTileMatrix(Jt.tileID.toUnwrapped());a.transformMat4$1(Wt,Wt,Un),a.transformMat4$1(tn,tn,Un);const nr=a.getAABBPointSquareDist(Wt,tn);if(nr===0)return!0;let kn=!1;const Zn=this._elevation;if(Zn&&nr>mt&&zt!==0){const Tr=this.calculateProjMatrix(Jt.tileID.toUnwrapped());let xr;c.isTerrainDEM||(xr=Zn.getMinMaxForTile(Jt.tileID)),xr||(xr={min:Ie,max:Te});const Ln=a.furthestTileCorner(this.rotation),jr=[Ln[0]*a.EXTENT,Ln[1]*a.EXTENT,xr.max];a.transformMat4(jr,jr,Tr),kn=(1-jr[1])*this.height*.5<zt}return nr<mt||kn})}return it.sort((mt,zt)=>mt.distanceSq-zt.distanceSq).map(mt=>mt.tileID)}resize(c,h){this.width=c,this.height=h,this.pixelsToGLUnits=[2/c,-2/h],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(c){return Math.pow(2,c)}scaleZoom(c){return Math.log(c)/Math.LN2}project(c){const h=a.clamp(c.lat,-a.MAX_MERCATOR_LATITUDE,a.MAX_MERCATOR_LATITUDE),_=this.projection.project(c.lng,h);return new a.Point(_.x*this.worldSize,_.y*this.worldSize)}unproject(c){return this.projection.unproject(c.x/this.worldSize,c.y/this.worldSize)}get point(){return this.project(this.center)}get pointMerc(){return this.point._div(this.worldSize)}get pixelsPerMeterRatio(){return this.pixelsPerMeter/a.mercatorZfromAltitude(1,this.center.lat)/this.worldSize}setLocationAtPoint(c,h){let _,x;const E=this.centerPoint;if(this.projection.name==="globe"){const D=this.worldSize;_=(h.x-E.x)/D,x=(h.y-E.y)/D}else{const D=this.pointCoordinate(h),L=this.pointCoordinate(E);_=D.x-L.x,x=D.y-L.y}const P=this.locationCoordinate(c);this.setLocation(new a.MercatorCoordinate(P.x-_,P.y-x))}setLocation(c){this.center=this.coordinateLocation(c),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(c){return this.projection.locationPoint(this,c)}locationPoint3D(c){return this.projection.locationPoint(this,c,!0)}pointLocation(c){return this.coordinateLocation(this.pointCoordinate(c))}pointLocation3D(c){return this.coordinateLocation(this.pointCoordinate3D(c))}locationCoordinate(c,h){const _=h?a.mercatorZfromAltitude(h,c.lat):void 0,x=this.projection.project(c.lng,c.lat);return new a.MercatorCoordinate(x.x,x.y,_)}coordinateLocation(c){return this.projection.unproject(c.x,c.y)}pointRayIntersection(c,h){const _=h??this._centerAltitude,x=[c.x,c.y,0,1],E=[c.x,c.y,1,1];a.transformMat4$1(x,x,this.pixelMatrixInverse),a.transformMat4$1(E,E,this.pixelMatrixInverse);const P=E[3];a.scale$1(x,x,1/x[3]),a.scale$1(E,E,1/P);const D=x[2],L=E[2];return{p0:x,p1:E,t:D===L?0:(_-D)/(L-D)}}screenPointToMercatorRay(c){const h=[c.x,c.y,0,1],_=[c.x,c.y,1,1];return a.transformMat4$1(h,h,this.pixelMatrixInverse),a.transformMat4$1(_,_,this.pixelMatrixInverse),a.scale$1(h,h,1/h[3]),a.scale$1(_,_,1/_[3]),h[2]=a.mercatorZfromAltitude(h[2],this._center.lat)*this.worldSize,_[2]=a.mercatorZfromAltitude(_[2],this._center.lat)*this.worldSize,a.scale$1(h,h,1/this.worldSize),a.scale$1(_,_,1/this.worldSize),new a.Ray([h[0],h[1],h[2]],a.normalize([],a.sub([],_,h)))}rayIntersectionCoordinate(c){const{p0:h,p1:_,t:x}=c,E=a.mercatorZfromAltitude(h[2],this._center.lat),P=a.mercatorZfromAltitude(_[2],this._center.lat);return new a.MercatorCoordinate(a.number(h[0],_[0],x)/this.worldSize,a.number(h[1],_[1],x)/this.worldSize,a.number(E,P,x))}pointCoordinate(c,h=this._centerAltitude){return this.projection.pointCoordinate(this,c.x,c.y,h)}pointCoordinate3D(c){if(!this.elevation)return this.pointCoordinate(c);let h=this.projection.pointCoordinate3D(this,c.x,c.y);if(h)return new a.MercatorCoordinate(h[0],h[1],h[2]);let _=0,x=this.horizonLineFromTop();if(c.y>x)return this.pointCoordinate(c);const E=.02*x,P=c.clone();for(let D=0;D<10&&x-_>E;D++){P.y=a.number(_,x,.66);const L=this.projection.pointCoordinate3D(this,P.x,P.y);L?(x=P.y,h=L):_=P.y}return h?new a.MercatorCoordinate(h[0],h[1],h[2]):this.pointCoordinate(c)}isPointAboveHorizon(c){return this.projection.isPointAboveHorizon(this,c)}isPointOnSurface(c){if(c.y<0||c.y>this.height||c.x<0||c.x>this.width)return!1;if(this.elevation||this.zoom>=a.GLOBE_ZOOM_THRESHOLD_MAX)return!this.isPointAboveHorizon(c);const h=this.pointCoordinate(c);return h.y>=0&&h.y<=1}_coordinatePoint(c,h){const _=h&&this.elevation?this.elevation.getAtPointOrZero(c,this._centerAltitude):this._centerAltitude,x=[c.x*this.worldSize,c.y*this.worldSize,_+c.toAltitude(),1];return a.transformMat4$1(x,x,this.pixelMatrix),x[3]>0?new a.Point(x[0]/x[3],x[1]/x[3]):new a.Point(Number.MAX_VALUE,Number.MAX_VALUE)}_getBoundsNonRectangular(){const{top:c,left:h}=this._edgeInsets,_=this.height-this._edgeInsets.bottom,x=this.width-this._edgeInsets.right,E=this.pointLocation3D(new a.Point(h,c)),P=this.pointLocation3D(new a.Point(x,c)),D=this.pointLocation3D(new a.Point(x,_)),L=this.pointLocation3D(new a.Point(h,_));let q=Math.min(E.lng,P.lng,D.lng,L.lng),H=Math.max(E.lng,P.lng,D.lng,L.lng),ee=Math.min(E.lat,P.lat,D.lat,L.lat),de=Math.max(E.lat,P.lat,D.lat,L.lat);const fe=Math.pow(2,-this.zoom)/16*270,ye=this.projection.name==="globe"?1:4,ge=(be,te,pe,Te,Ie)=>{const Ze=(be+pe)/2,Ke=(te+Te)/2,Xe=new a.Point(Ze,Ke),{lng:at,lat:it}=this.pointLocation3D(Xe),gt=Math.max(0,q-at,ee-it,at-H,it-de);q=Math.min(q,at),H=Math.max(H,at),ee=Math.min(ee,it),de=Math.max(de,it),(Ie<ye||gt>fe)&&(ge(be,te,Ze,Ke,Ie+1),ge(Ze,Ke,pe,Te,Ie+1))};if(ge(h,c,x,c,1),ge(x,c,x,_,1),ge(x,_,h,_,1),ge(h,_,h,c,1),this.projection.name==="globe"){const[be,te]=a.polesInViewport(this);be?(de=90,H=180,q=-180):te&&(ee=-90,H=180,q=-180)}return new a.LngLatBounds(new a.LngLat(q,ee),new a.LngLat(H,de))}_getBoundsRectangular(c,h){const{top:_,left:x}=this._edgeInsets,E=this.height-this._edgeInsets.bottom,P=this.width-this._edgeInsets.right,D=new a.Point(x,_),L=new a.Point(P,_),q=new a.Point(P,E),H=new a.Point(x,E);let ee=this.pointCoordinate(D,c),de=this.pointCoordinate(L,c);const fe=this.pointCoordinate(q,h),ye=this.pointCoordinate(H,h),ge=(be,te)=>(te.y-be.y)/(te.x-be.x);return ee.y>1&&de.y>=0?ee=new a.MercatorCoordinate((1-ye.y)/ge(ye,ee)+ye.x,1):ee.y<0&&de.y<=1&&(ee=new a.MercatorCoordinate(-ye.y/ge(ye,ee)+ye.x,0)),de.y>1&&ee.y>=0?de=new a.MercatorCoordinate((1-fe.y)/ge(fe,de)+fe.x,1):de.y<0&&ee.y<=1&&(de=new a.MercatorCoordinate(-fe.y/ge(fe,de)+fe.x,0)),new a.LngLatBounds().extend(this.coordinateLocation(ee)).extend(this.coordinateLocation(de)).extend(this.coordinateLocation(ye)).extend(this.coordinateLocation(fe))}_getBoundsRectangularTerrain(){const c=this.elevation;if(!c.visibleDemTiles.length||c.isUsingMockSource())return this._getBoundsRectangular(0,0);const h=c.visibleDemTiles.reduce((_,x)=>{if(x.dem){const E=x.dem.tree;_.min=Math.min(_.min,E.minimums[0]),_.max=Math.max(_.max,E.maximums[0])}return _},{min:Number.MAX_VALUE,max:0});return this._getBoundsRectangular(h.min*c.exaggeration(),h.max*c.exaggeration())}getBounds(){return this.projection.name==="mercator"||this.projection.name==="equirectangular"?this._terrainEnabled()?this._getBoundsRectangularTerrain():this._getBoundsRectangular(0,0):this._getBoundsNonRectangular()}horizonLineFromTop(c=!0){const h=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,_=this.height/2-h*(1-this._horizonShift);return c?Math.max(0,_):_}getMaxBounds(){return this.maxBounds}setMaxBounds(c){this.maxBounds=c,this.minLat=-a.MAX_MERCATOR_LATITUDE,this.maxLat=a.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,c&&(this.minLat=c.getSouth(),this.maxLat=c.getNorth(),this.minLng=c.getWest(),this.maxLng=c.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=a.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=a.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=a.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=a.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(c,h){return this.projection.createTileMatrix(this,h,c)}calculateDistanceTileData(c){const h=c.key,_=this._distanceTileDataCache;if(_[h])return _[h];const x=c.canonical,E=1/this.height,P=this.cameraWorldSize,D=P/this.zoomScale(x.z),L=(x.x+Math.pow(2,x.z)*c.wrap)*D,q=x.y*D,H=this.point;H.x*=P/this.worldSize,H.y*=P/this.worldSize;const ee=this.angle,de=Math.sin(-ee),fe=-Math.cos(-ee);return _[h]={bearing:[de,fe],center:[(H.x-L)*E,(H.y-q)*E],scale:D/a.EXTENT*E},_[h]}calculateFogTileMatrix(c){const h=c.key,_=this._fogTileMatrixCache;if(_[h])return _[h];const x=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,c);return a.multiply(x,this.worldToFogMatrix,x),_[h]=new Float32Array(x),_[h]}calculateProjMatrix(c,h=!1){const _=c.key,x=h?this._alignedProjMatrixCache:this._projMatrixCache;if(x[_])return x[_];const E=this.calculatePosMatrix(c,this.worldSize);return a.multiply(E,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:h?this.alignedProjMatrix:this.projMatrix,E),x[_]=new Float32Array(E),x[_]}calculatePixelsToTileUnitsMatrix(c){const h=c.tileID.key,_=this._pixelsToTileUnitsCache;if(_[h])return _[h];const x=function(E,P){const{scale:D}=E.tileTransform,L=D*a.EXTENT/(E.tileSize*Math.pow(2,P.zoom-E.tileID.overscaledZ+E.tileID.canonical.z));return q=new Float32Array(4),de=(H=P.inverseAdjustmentMatrix)[1],fe=H[2],ye=H[3],be=(ee=[L,L])[1],q[0]=H[0]*(ge=ee[0]),q[1]=de*ge,q[2]=fe*be,q[3]=ye*be,q;var q,H,ee,de,fe,ye,ge,be}(c,this);return _[h]=x,_[h]}customLayerMatrix(){return this.mercatorMatrix.slice()}globeToMercatorMatrix(){if(this.projection.name==="globe"){const c=1/this.worldSize,h=a.fromScaling([],[c,c,c]);return a.multiply(h,h,this.globeMatrix),h}}recenterOnTerrain(){if(!this._elevation||this.projection.name==="globe")return;const c=this._elevation;this._updateCameraState();const h=a.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,_=this._computeCameraPosition(h),x=this._camera.forward(),E=a.mercatorZfromAltitude(1,this._center.lat);_[2]/=E,x[2]/=E,a.normalize(x,x);const P=c.raycast(_,x,c.exaggeration());if(P){const D=a.scaleAndAdd([],_,x,P),L=new a.MercatorCoordinate(D[0],D[1],a.mercatorZfromAltitude(D[2],a.latFromMercatorY(D[1]))),q=(L.z+a.length([L.x-_[0],L.y-_[1],L.z-_[2]*E]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(q),this._centerAltitude=L.toAltitude(),this._center=this.coordinateLocation(L),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCamera(c=!1){if(!this._elevation)return;const h=this._elevation,_=a.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,x=this._computeCameraPosition(_),E=h.getAtPointOrZero(new a.MercatorCoordinate(...x)),P=this.pixelsPerMeter/this.worldSize*E,D=this._minimumHeightOverTerrain(),L=x[2]-P;if(L<=D)if(L<0||c){const q=this.locationCoordinate(this._center,this._centerAltitude),H=[x[0],x[1],q.z-x[2]],ee=a.length(H);H[2]-=(D-L)/this._pixelsPerMercatorPixel;const de=a.length(H);if(de===0)return;a.scale$2(H,H,ee/de*this._pixelsPerMercatorPixel),this._camera.position=[x[0],x[1],q.z*this._pixelsPerMercatorPixel-H[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const c=this.projection.name==="globe"||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||c){const de=this.center;return de.lat=a.clamp(de.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!c)&&(de.lng=a.clamp(de.lng,this.minLng,this.maxLng)),this.center=de,void(this._constraining=!1)}const h=this._unmodified,{x:_,y:x}=this.point;let E=0,P=_,D=x;const L=this.width/2,q=this.height/2,H=this.worldMinY*this.scale,ee=this.worldMaxY*this.scale;if(x-q<H&&(D=H+q),x+q>ee&&(D=ee-q),ee-H<this.height&&(E=Math.max(E,this.height/(ee-H)),D=(ee+H)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const de=this.worldMinX*this.scale,fe=this.worldMaxX*this.scale,ye=this.worldSize/2-(de+fe)/2;P=(_+ye+this.worldSize)%this.worldSize-ye,P-L<de&&(P=de+L),P+L>fe&&(P=fe-L),fe-de<this.width&&(E=Math.max(E,this.width/(fe-de)),P=(fe+de)/2)}P===_&&D===x||(this.center=this.unproject(new a.Point(P,D))),E&&(this.zoom+=this.scaleZoom(E)),this._constrainCamera(),this._unmodified=h,this._constraining=!1}_minZoomForBounds(){let c=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(c=Math.max(c,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),c}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const c=this.centerOffset,h=this.pixelsPerMeter;this.projection.name==="globe"&&(this._mercatorScaleRatio=a.mercatorZfromAltitude(1,this.center.lat)/a.mercatorZfromAltitude(1,a.GLOBE_SCALE_MATCH_LATITUDE));const _=ef(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,_),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const x=this.projection.zAxisUnit==="meters"?h:1,E=this._camera.getWorldToCamera(this.worldSize,x),P=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);P[8]=2*-c.x/this.width,P[9]=2*c.y/this.height;let D=a.mul([],P,E);if(this.projection.isReprojectedInTileSpace){const Ke=this.locationCoordinate(this.center),Xe=a.identity([]);a.translate(Xe,Xe,[Ke.x*this.worldSize,Ke.y*this.worldSize,0]),a.multiply(Xe,Xe,dd(this)),a.translate(Xe,Xe,[-Ke.x*this.worldSize,-Ke.y*this.worldSize,0]),a.multiply(D,D,Xe),this.inverseAdjustmentMatrix=function(at){const it=dd(at,!0);return le([],[it[0],it[1],it[4],it[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=a.scale([],D,[this.worldSize,this.worldSize,this.worldSize/x,1]),this.projMatrix=D,this.invProjMatrix=a.invert(new Float64Array(16),this.projMatrix);const L=a.invert([],P);this.frustumCorners=a.FrustumCorners.fromInvProjectionMatrix(L,this.horizonLineFromTop(),this.height);const q=new Float32Array(16);a.identity(q),a.scale(q,q,[1,-1,1]),a.rotateX(q,q,this._pitch),a.rotateZ(q,q,this.angle);const H=a.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),ee=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;H[8]=2*-c.x/this.width,H[9]=2*(c.y+ee)/this.height,this.skyboxMatrix=a.multiply(q,H,q);const de=this.point,fe=de.x,ye=de.y,ge=this.width%2/2,be=this.height%2/2,te=Math.cos(this.angle),pe=Math.sin(this.angle),Te=fe-Math.round(fe)+te*ge+pe*be,Ie=ye-Math.round(ye)+te*be+pe*ge,Ze=new Float64Array(D);if(a.translate(Ze,Ze,[Te>.5?Te-1:Te,Ie>.5?Ie-1:Ie,0]),this.alignedProjMatrix=Ze,D=a.create(),a.scale(D,D,[this.width/2,-this.height/2,1]),a.translate(D,D,[1,-1,0]),this.labelPlaneMatrix=D,D=a.create(),a.scale(D,D,[1,-1,1]),a.translate(D,D,[-1,-1,0]),a.scale(D,D,[2/this.width,2/this.height,1]),this.glCoordMatrix=D,this.pixelMatrix=a.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},D=a.invert(new Float64Array(16),this.pixelMatrix),!D)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=D,this.projection.name==="globe"||this.mercatorFromTransition){this.globeMatrix=a.calculateGlobeMatrix(this);const Ke=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=a.transformMat4(Ke,Ke,E),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=D;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const c=this.cameraWorldSizeForFog,h=this.cameraPixelsPerMeter,_=this._camera.position,x=1/this.height/this._pixelsPerMercatorPixel,E=[c,c,h];a.scale$2(E,E,x),a.scale$2(_,_,-1),a.multiply$2(_,_,E);const P=a.create();a.translate(P,P,_),a.scale(P,P,E),this.mercatorFogMatrix=P,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(c,h,x)}_computeCameraPosition(c){const h=(c=c||this.pixelsPerMeter)/this.pixelsPerMeter,_=this._camera.forward(),x=this.point,E=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*h-c/this.worldSize*this._centerAltitude;return[x.x/this.worldSize-_[0]*E,x.y/this.worldSize-_[1]*E,c/this.worldSize*this._centerAltitude-_[2]*E]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(c){const h=this._maxCameraBoundsDistance()*Math.cos(this._pitch),_=this._camera.position[2],x=c[2];let E=1;this.projection.wrap&&(this.center=this.center.wrap()),x>0&&(E=Math.min((h-_)/x,1)),this._camera.position=a.scaleAndAdd([],this._camera.position,c,E),this._updateStateFromCamera()}_updateStateFromCamera(){const c=this._camera.position,h=this._camera.forward(),{pitch:_,bearing:x}=this._camera.getPitchBearing(),E=a.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,P=this._mercatorZfromZoom(this._maxZoom)*Math.cos(a.degToRad(this._maxPitch)),D=Math.max((c[2]-E)/Math.cos(_),P),L=this._zoomFromMercatorZ(D);a.scaleAndAdd(c,c,h,D),this._pitch=a.clamp(_,a.degToRad(this.minPitch),a.degToRad(this.maxPitch)),this.angle=a.wrap(x,-Math.PI,Math.PI),this._setZoom(a.clamp(L,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new a.MercatorCoordinate(c[0],c[1],c[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(c){return Math.pow(2,c)*this.tileSize}_mercatorZfromZoom(c){return this.cameraToCenterDistance/this._worldSizeFromZoom(c)}_minimumHeightOverTerrain(){const c=Math.min((this._seaLevelZoom!=null?this._seaLevelZoom:this._zoom)+4,this._maxZoom);return this._mercatorZfromZoom(c)}_zoomFromMercatorZ(c){return this.scaleZoom(this.cameraToCenterDistance/(c*this.tileSize))}zoomFromMercatorZAdjusted(c){let h=0,_=a.GLOBE_ZOOM_THRESHOLD_MAX,x=0,E=1/0;for(;_-h>1e-6&&_>h;){const P=h+.5*(_-h),D=this.tileSize*Math.pow(2,P),L=this.getCameraToCenterDistance(this.projection,P,D),q=this.scaleZoom(L/(c*this.tileSize)),H=Math.abs(P-q);H<E&&(E=H,x=P),P<q?h=P:_=P}return x}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(a.warnOnce("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(c,h){const _=Math.min(c.x,h.x),x=Math.max(c.x,h.x),E=Math.min(c.y,h.y),P=Math.max(c.y,h.y);if(E<this.horizonLineFromTop(!1))return!0;if(this.projection.name!=="mercator")return!1;const D=[new a.Point(_,E),new a.Point(x,P),new a.Point(_,P),new a.Point(x,E)],L=this.renderWorldCopies?-3:0,q=this.renderWorldCopies?4:1;for(const H of D){const ee=this.pointRayIntersection(H);if(ee.t<0)return!0;const de=this.rayIntersectionCoordinate(ee);if(de.x<L||de.y<0||de.x>q||de.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+a.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new a.Point(0,0),new a.Point(this.width,this.height))}zoomDeltaToMovement(c,h){const _=a.length(a.sub([],this._camera.position,c)),x=this._zoomFromMercatorZ(_)+h;return _-this._mercatorZfromZoom(x)}getCameraPoint(){if(this.projection.name==="globe"){const c=function([h,_,x],E){const P=[h,_,x,1];a.transformMat4$1(P,P,E);const D=P[3]=Math.max(P[3],1e-6);return P[0]/=D,P[1]/=D,P[2]/=D,P}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new a.Point(c[0],c[1])}{const c=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.Point(0,c))}}getCameraToCenterDistance(c,h=this.zoom,_=this.worldSize){const x=ef(c,h,this.width,this.height,1024),E=c.pixelSpaceConversion(this.center.lat,_,x);return .5/Math.tan(.5*this._fov)*this.height*E}getWorldToCameraMatrix(){const c=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?this.pixelsPerMeter:1);return this.projection.name==="globe"&&a.multiply(c,c,this.globeMatrix),c}}function pd(m,c){let h=!1,_=null;const x=()=>{_=null,h&&(m(),_=setTimeout(x,c),h=!1)};return()=>(h=!0,_||x(),_)}class x1{constructor(c){this._hashName=c&&encodeURIComponent(c),a.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=pd(this._updateHashUnthrottled.bind(this),300)}addTo(c){return this._map=c,a.window.addEventListener("hashchange",this._onHashChange,!1),c.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),a.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const c=this._map;if(!c)return"";const h=Oh(c);if(this._hashName){const _=this._hashName;let x=!1;const E=a.window.location.hash.slice(1).split("&").map(P=>{const D=P.split("=")[0];return D===_?(x=!0,`${D}=${h}`):P}).filter(P=>P);return x||E.push(`${_}=${h}`),`#${E.join("&")}`}return`#${h}`}_getCurrentHash(){const c=a.window.location.hash.replace("#","");if(this._hashName){let h;return c.split("&").map(_=>_.split("=")).forEach(_=>{_[0]===this._hashName&&(h=_)}),(h&&h[1]||"").split("/")}return c.split("/")}_onHashChange(){const c=this._map;if(!c)return!1;const h=this._getCurrentHash();if(h.length>=3&&!h.some(_=>isNaN(_))){const _=c.dragRotate.isEnabled()&&c.touchZoomRotate.isEnabled()?+(h[3]||0):c.getBearing();return c.jumpTo({center:[+h[2],+h[1]],zoom:+h[0],bearing:_,pitch:+(h[4]||0)}),!0}return!1}_updateHashUnthrottled(){const c=a.window.location.href.replace(/(#.+)?$/,this.getHashString());a.window.history.replaceState(a.window.history.state,null,c)}}function Oh(m,c){const h=m.getCenter(),_=Math.round(100*m.getZoom())/100,x=Math.ceil((_*Math.LN2+Math.log(512/360/.5))/Math.LN10),E=Math.pow(10,x),P=Math.round(h.lng*E)/E,D=Math.round(h.lat*E)/E,L=m.getBearing(),q=m.getPitch();let H=c?`/${P}/${D}/${_}`:`${_}/${D}/${P}`;return(L||q)&&(H+="/"+Math.round(10*L)/10),q&&(H+=`/${Math.round(q)}`),H}const Lh={linearity:.3,easing:a.bezier(0,0,.3,1)},nf=a.extend({deceleration:2500,maxSpeed:1400},Lh),rf=a.extend({deceleration:20,maxSpeed:1400},Lh),wn=a.extend({deceleration:1e3,maxSpeed:360},Lh),Is=a.extend({deceleration:1e3,maxSpeed:90},Lh);class Y_{constructor(c){this._map=c,this.clear()}clear(){this._inertiaBuffer=[]}record(c){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:a.exported.now(),settings:c})}_drainInertiaBuffer(){const c=this._inertiaBuffer,h=a.exported.now();for(;c.length>0&&h-c[0].time>160;)c.shift()}_onMoveEnd(c){if(this._map._prefersReducedMotion()||(this._drainInertiaBuffer(),this._inertiaBuffer.length<2))return;const h={zoom:0,bearing:0,pitch:0,pan:new a.Point(0,0),pinchAround:void 0,around:void 0};for(const{settings:E}of this._inertiaBuffer)h.zoom+=E.zoomDelta||0,h.bearing+=E.bearingDelta||0,h.pitch+=E.pitchDelta||0,E.panDelta&&h.pan._add(E.panDelta),E.around&&(h.around=E.around),E.pinchAround&&(h.pinchAround=E.pinchAround);const _=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,x={};if(h.pan.mag()){const E=Fh(h.pan.mag(),_,a.extend({},nf,c||{}));x.offset=h.pan.mult(E.amount/h.pan.mag()),x.center=this._map.transform.center,zh(x,E)}if(h.zoom){const E=Fh(h.zoom,_,rf);x.zoom=this._map.transform.zoom+E.amount,zh(x,E)}if(h.bearing){const E=Fh(h.bearing,_,wn);x.bearing=this._map.transform.bearing+a.clamp(E.amount,-179,179),zh(x,E)}if(h.pitch){const E=Fh(h.pitch,_,Is);x.pitch=this._map.transform.pitch+E.amount,zh(x,E)}if(x.zoom||x.bearing){const E=h.pinchAround===void 0?h.around:h.pinchAround;x.around=E?this._map.unproject(E):this._map.getCenter()}return this.clear(),x.noMoveStart=!0,x}}function zh(m,c){(!m.duration||m.duration<c.duration)&&(m.duration=c.duration,m.easing=c.easing)}function Fh(m,c,h){const{maxSpeed:_,linearity:x,deceleration:E}=h,P=a.clamp(m*x/(c/1e3),-_,_),D=Math.abs(P)/(E*x);return{easing:h.easing,duration:1e3*D,amount:P*(D/2)}}class So extends a.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,h,_,x={}){const E=se(h.getCanvasContainer(),_),P=h.unproject(E);super(c,a.extend({point:E,lngLat:P,originalEvent:_},x)),this._defaultPrevented=!1,this.target=h}}class Nh extends a.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,h,_){const x=c==="touchend"?_.changedTouches:_.touches,E=ce(h.getCanvasContainer(),x),P=E.map(L=>h.unproject(L)),D=E.reduce((L,q,H,ee)=>L.add(q.div(ee.length)),new a.Point(0,0));super(c,{points:E,point:D,lngLats:P,lngLat:h.unproject(D),originalEvent:_}),this._defaultPrevented=!1}}class of extends a.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,h,_){super(c,{originalEvent:_}),this._defaultPrevented=!1}}class b1{constructor(c,h){this._map=c,this._clickTolerance=h.clickTolerance}reset(){this._mousedownPos=void 0}wheel(c){return this._firePreventable(new of(c.type,this._map,c))}mousedown(c,h){return this._mousedownPos=h,this._firePreventable(new So(c.type,this._map,c))}mouseup(c){this._map.fire(new So(c.type,this._map,c))}preclick(c){const h=a.extend({},c);h.type="preclick",this._map.fire(new So(h.type,this._map,h))}click(c,h){this._mousedownPos&&this._mousedownPos.dist(h)>=this._clickTolerance||(this.preclick(c),this._map.fire(new So(c.type,this._map,c)))}dblclick(c){return this._firePreventable(new So(c.type,this._map,c))}mouseover(c){this._map.fire(new So(c.type,this._map,c))}mouseout(c){this._map.fire(new So(c.type,this._map,c))}touchstart(c){return this._firePreventable(new Nh(c.type,this._map,c))}touchmove(c){this._map.fire(new Nh(c.type,this._map,c))}touchend(c){this._map.fire(new Nh(c.type,this._map,c))}touchcancel(c){this._map.fire(new Nh(c.type,this._map,c))}_firePreventable(c){if(this._map.fire(c),c.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class af{constructor(c){this._map=c}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(c){this._map.fire(new So(c.type,this._map,c))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new So("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(c){this._delayContextMenu?this._contextMenuEvent=c:this._map.fire(new So(c.type,this._map,c)),this._map.listens("contextmenu")&&c.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class J_{constructor(c,h){this._map=c,this._el=c.getCanvasContainer(),this._container=c.getContainer(),this._clickTolerance=h.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(c,h){this.isEnabled()&&c.shiftKey&&c.button===0&&(U(),this._startPos=this._lastPos=h,this._active=!0)}mousemoveWindow(c,h){if(!this._active)return;const _=h,x=this._startPos,E=this._lastPos;if(!x||!E||E.equals(_)||!this._box&&_.dist(x)<this._clickTolerance)return;this._lastPos=_,this._box||(this._box=O("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",c));const P=Math.min(x.x,_.x),D=Math.max(x.x,_.x),L=Math.min(x.y,_.y),q=Math.max(x.y,_.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${P}px,${L}px)`,this._box.style.width=D-P+"px",this._box.style.height=q-L+"px")})}mouseupWindow(c,h){if(!this._active)return;const _=this._startPos,x=h;if(_&&c.button===0){if(this.reset(),Q(),_.x!==x.x||_.y!==x.y)return this._map.fire(new a.Event("boxzoomend",{originalEvent:c})),{cameraAnimation:E=>E.fitScreenCoordinates(_,x,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",c)}}keydown(c){this._active&&c.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",c))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),G(),delete this._startPos,delete this._lastPos}_fireEvent(c,h){return this._map.fire(new a.Event(c,{originalEvent:h}))}}function sf(m,c){const h={};for(let _=0;_<m.length;_++)h[m[_].identifier]=c[_];return h}class fd{constructor(c){this.reset(),this.numTouches=c.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(c,h,_){(this.centroid||_.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===0&&(this.startTime=c.timeStamp),_.length===this.numTouches&&(this.centroid=function(x){const E=new a.Point(0,0);for(const P of x)E._add(P);return E.div(x.length)}(h),this.touches=sf(_,h)))}touchmove(c,h,_){if(this.aborted||!this.centroid)return;const x=sf(_,h);for(const E in this.touches){const P=x[E];(!P||P.dist(this.touches[E])>30)&&(this.aborted=!0)}}touchend(c,h,_){if((!this.centroid||c.timeStamp-this.startTime>500)&&(this.aborted=!0),_.length===0){const x=!this.aborted&&this.centroid;if(this.reset(),x)return x}}}class w1{constructor(c){this.singleTap=new fd(c),this.numTaps=c.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(c,h,_){this.singleTap.touchstart(c,h,_)}touchmove(c,h,_){this.singleTap.touchmove(c,h,_)}touchend(c,h,_){const x=this.singleTap.touchend(c,h,_);if(x){const E=c.timeStamp-this.lastTime<500,P=!this.lastTap||this.lastTap.dist(x)<30;if(E&&P||this.reset(),this.count++,this.lastTime=c.timeStamp,this.lastTap=x,this.count===this.numTaps)return this.reset(),x}}}class w3{constructor(){this._zoomIn=new w1({numTouches:1,numTaps:2}),this._zoomOut=new w1({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(c,h,_){this._zoomIn.touchstart(c,h,_),this._zoomOut.touchstart(c,h,_)}touchmove(c,h,_){this._zoomIn.touchmove(c,h,_),this._zoomOut.touchmove(c,h,_)}touchend(c,h,_){const x=this._zoomIn.touchend(c,h,_),E=this._zoomOut.touchend(c,h,_);return x?(this._active=!0,c.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:P=>P.easeTo({duration:300,zoom:P.getZoom()+1,around:P.unproject(x)},{originalEvent:c})}):E?(this._active=!0,c.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:P=>P.easeTo({duration:300,zoom:P.getZoom()-1,around:P.unproject(E)},{originalEvent:c})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const Q_={0:1,2:2};class md{constructor(c){this.reset(),this._clickTolerance=c.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(c,h){return!1}_move(c,h){return{}}mousedown(c,h){if(this._lastPoint)return;const _=A(c);this._correctButton(c,_)&&(this._lastPoint=h,this._eventButton=_)}mousemoveWindow(c,h){const _=this._lastPoint;if(_){if(c.preventDefault(),this._eventButton!=null&&function(x,E){const P=Q_[E];return x.buttons===void 0||(x.buttons&P)!==P}(c,this._eventButton))this.reset();else if(this._moved||!(h.dist(_)<this._clickTolerance))return this._moved=!0,this._lastPoint=h,this._move(_,h)}}mouseupWindow(c){this._lastPoint&&A(c)===this._eventButton&&(this._moved&&Q(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class E1 extends md{mousedown(c,h){super.mousedown(c,h),this._lastPoint&&(this._active=!0)}_correctButton(c,h){return h===0&&!c.ctrlKey}_move(c,h){return{around:h,panDelta:h.sub(c)}}}class S1 extends md{_correctButton(c,h){return h===0&&c.ctrlKey||h===2}_move(c,h){const _=.8*(h.x-c.x);if(_)return this._active=!0,{bearingDelta:_}}contextmenu(c){c.preventDefault()}}class T1 extends md{_correctButton(c,h){return h===0&&c.ctrlKey||h===2}_move(c,h){const _=-.5*(h.y-c.y);if(_)return this._active=!0,{pitchDelta:_}}contextmenu(c){c.preventDefault()}}class lf{constructor(c,h){this._map=c,this._el=c.getCanvasContainer(),this._minTouches=1,this._clickTolerance=h.clickTolerance||1,this.reset(),a.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new a.Point(0,0)}touchstart(c,h,_){return this._calculateTransform(c,h,_)}touchmove(c,h,_){if(this._active&&!(_.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(_.length===1&&!a.isFullscreen())return void this._showTouchPanBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return c.cancelable&&c.preventDefault(),this._calculateTransform(c,h,_)}}touchend(c,h,_){this._calculateTransform(c,h,_),this._active&&_.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(c,h,_){_.length>0&&(this._active=!0);const x=sf(_,h),E=new a.Point(0,0),P=new a.Point(0,0);let D=0;for(const q in x){const H=x[q],ee=this._touches[q];ee&&(E._add(H),P._add(H.sub(ee)),D++,x[q]=H)}if(this._touches=x,D<this._minTouches||!P.mag())return;const L=P.div(D);return this._sum._add(L),this._sum.mag()<this._clickTolerance?void 0:{around:E.div(D),panDelta:L}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=O("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","null")},500)}}class Bh{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(c){}_move(c,h,_){return{}}touchstart(c,h,_){this._firstTwoTouches||_.length<2||(this._firstTwoTouches=[_[0].identifier,_[1].identifier],this._start([h[0],h[1]]))}touchmove(c,h,_){const x=this._firstTwoTouches;if(!x)return;c.preventDefault();const[E,P]=x,D=jh(_,h,E),L=jh(_,h,P);if(!D||!L)return;const q=this._aroundCenter?null:D.add(L).div(2);return this._move([D,L],q,c)}touchend(c,h,_){if(!this._firstTwoTouches)return;const[x,E]=this._firstTwoTouches,P=jh(_,h,x),D=jh(_,h,E);P&&D||(this._active&&Q(),this.reset())}touchcancel(){this.reset()}enable(c){this._enabled=!0,this._aroundCenter=!!c&&c.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function jh(m,c,h){for(let _=0;_<m.length;_++)if(m[_].identifier===h)return c[_]}function C1(m,c){return Math.log(m/c)/Math.LN2}class ey extends Bh{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(c){this._startDistance=this._distance=c[0].dist(c[1])}_move(c,h){const _=this._distance;if(this._distance=c[0].dist(c[1]),this._active||!(Math.abs(C1(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:C1(this._distance,_),pinchAround:h}}}function k1(m,c){return 180*m.angleWith(c)/Math.PI}class ty extends Bh{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(c){this._startVector=this._vector=c[0].sub(c[1]),this._minDiameter=c[0].dist(c[1])}_move(c,h){const _=this._vector;if(this._vector=c[0].sub(c[1]),_&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:k1(this._vector,_),pinchAround:h}}_isBelowThreshold(c){this._minDiameter=Math.min(this._minDiameter,c.mag());const h=25/(Math.PI*this._minDiameter)*360,_=this._startVector;if(!_)return!1;const x=k1(c,_);return Math.abs(x)<h}}function Pc(m){return Math.abs(m.y)>Math.abs(m.x)}class ny extends Bh{constructor(c){super(),this._map=c}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(c){this._lastPoints=c,Pc(c[0].sub(c[1]))&&(this._valid=!1)}_move(c,h,_){const x=this._lastPoints;if(!x)return;const E=c[0].sub(x[0]),P=c[1].sub(x[1]);return this._map._cooperativeGestures&&!a.isFullscreen()&&_.touches.length<3||(this._valid=this.gestureBeginsVertically(E,P,_.timeStamp),!this._valid)?void 0:(this._lastPoints=c,this._active=!0,{pitchDelta:(E.y+P.y)/2*-.5})}gestureBeginsVertically(c,h,_){if(this._valid!==void 0)return this._valid;const x=c.mag()>=2,E=h.mag()>=2;if(!x&&!E)return;if(!x||!E)return this._firstMove==null&&(this._firstMove=_),_-this._firstMove<100&&void 0;const P=c.y>0==h.y>0;return Pc(c)&&Pc(h)&&P}}const ry={panStep:100,bearingStep:15,pitchStep:10};class E3{constructor(){const c=ry;this._panStep=c.panStep,this._bearingStep=c.bearingStep,this._pitchStep=c.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(c){if(c.altKey||c.ctrlKey||c.metaKey)return;let h=0,_=0,x=0,E=0,P=0;switch(c.keyCode){case 61:case 107:case 171:case 187:h=1;break;case 189:case 109:case 173:h=-1;break;case 37:c.shiftKey?_=-1:(c.preventDefault(),E=-1);break;case 39:c.shiftKey?_=1:(c.preventDefault(),E=1);break;case 38:c.shiftKey?x=1:(c.preventDefault(),P=-1);break;case 40:c.shiftKey?x=-1:(c.preventDefault(),P=1);break;default:return}return this._rotationDisabled&&(_=0,x=0),{cameraAnimation:D=>{const L=D.getZoom();D.easeTo({duration:300,easeId:"keyboardHandler",easing:iy,zoom:h?Math.round(L)+h*(c.shiftKey?2:1):L,bearing:D.getBearing()+_*this._bearingStep,pitch:D.getPitch()+x*this._pitchStep,offset:[-E*this._panStep,-P*this._panStep],center:D.getCenter()},{originalEvent:c})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function iy(m){return m*(2-m)}const P1=4.000244140625;class oy{constructor(c,h){this._map=c,this._el=c.getCanvasContainer(),this._handler=h,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,a.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(c){this._defaultZoomRate=c}setWheelZoomRate(c){this._wheelZoomRate=c}isEnabled(){return!!this._enabled}isActive(){return this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(c){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!c&&c.around==="center",this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(c){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(c.ctrlKey||c.metaKey||this.isZooming()||a.isFullscreen()))return void this._showBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let h=c.deltaMode===a.window.WheelEvent.DOM_DELTA_LINE?40*c.deltaY:c.deltaY;const _=a.exported.now(),x=_-(this._lastWheelEventTime||0);this._lastWheelEventTime=_,h!==0&&h%P1==0?this._type="wheel":h!==0&&Math.abs(h)<4?this._type="trackpad":x>400?(this._type=null,this._lastValue=h,this._timeout=setTimeout(this._onTimeout,40,c)):this._type||(this._type=Math.abs(x*h)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,h+=this._lastValue)),c.shiftKey&&h&&(h/=4),this._type&&(this._lastWheelEvent=c,this._delta-=h,this._active||this._start(c)),c.preventDefault()}_onTimeout(c){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(c)}_start(c){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const h=se(this._el,c);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:h,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const c=this._map.transform;this._type==="wheel"&&c.projection.wrap&&(c._center.lng>=180||c._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const h=()=>c._terrainEnabled()&&this._aroundCoord?c.computeZoomRelativeTo(this._aroundCoord):c.zoom;if(this._delta!==0){const L=this._type==="wheel"&&Math.abs(this._delta)>P1?this._wheelZoomRate:this._defaultZoomRate;let q=2/(1+Math.exp(-Math.abs(this._delta*L)));this._delta<0&&q!==0&&(q=1/q);const H=h(),ee=Math.pow(2,H),de=typeof this._targetZoom=="number"?c.zoomScale(this._targetZoom):ee;this._targetZoom=Math.min(c.maxZoom,Math.max(c.minZoom,c.scaleZoom(de*q))),this._type==="wheel"&&(this._startZoom=H,this._easing=this._smoothOutEasing(200)),this._delta=0}const _=typeof this._targetZoom=="number"?this._targetZoom:h(),x=this._startZoom,E=this._easing;let P,D=!1;if(this._type==="wheel"&&x&&E){const L=Math.min((a.exported.now()-this._lastWheelEventTime)/200,1),q=E(L);P=a.number(x,_,q),L<1?this._frameId||(this._frameId=!0):D=!0}else P=_,D=!0;return this._active=!0,D&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!D,zoomDelta:P-h(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(c){let h=a.ease;if(this._prevEase){const _=this._prevEase,x=(a.exported.now()-_.start)/_.duration,E=_.easing(x+.01)-_.easing(x),P=.27/Math.sqrt(E*E+1e-4)*.01,D=Math.sqrt(.0729-P*P);h=a.bezier(P,D,.25,1)}return this._prevEase={start:a.exported.now(),duration:c,easing:h},h}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=O("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(a.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","null")},200)}}class ay{constructor(c,h){this._clickZoom=c,this._tapZoom=h}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Xo{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(c,h){return c.preventDefault(),{cameraAnimation:_=>{_.easeTo({duration:300,zoom:_.getZoom()+(c.shiftKey?-1:1),around:_.unproject(h)},{originalEvent:c})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class S3{constructor(){this._tap=new w1({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(c,h,_){this._swipePoint||(this._tapTime&&c.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?_.length>0&&(this._swipePoint=h[0],this._swipeTouch=_[0].identifier):this._tap.touchstart(c,h,_))}touchmove(c,h,_){if(this._tapTime){if(this._swipePoint){if(_[0].identifier!==this._swipeTouch)return;const x=h[0],E=x.y-this._swipePoint.y;return this._swipePoint=x,c.preventDefault(),this._active=!0,{zoomDelta:E/128}}}else this._tap.touchmove(c,h,_)}touchend(c,h,_){this._tapTime?this._swipePoint&&_.length===0&&this.reset():this._tap.touchend(c,h,_)&&(this._tapTime=c.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class sy{constructor(c,h,_){this._el=c,this._mousePan=h,this._touchPan=_}enable(c){this._inertiaOptions=c||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class T3{constructor(c,h,_){this._pitchWithRotate=c.pitchWithRotate,this._mouseRotate=h,this._mousePitch=_}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class C3{constructor(c,h,_,x){this._el=c,this._touchZoom=h,this._touchRotate=_,this._tapDragZoom=x,this._rotationDisabled=!1,this._enabled=!0}enable(c){this._touchZoom.enable(c),this._rotationDisabled||this._touchRotate.enable(c),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const rs=m=>m.zoom||m.drag||m.pitch||m.rotate;class ly extends a.Event{}class k3{constructor(){this.constants=[1,1,.01],this.radius=0}setup(c,h){const _=a.sub([],h,c);this.radius=a.length(_[2]<0?a.div([],_,this.constants):[_[0],_[1],0])}projectRay(c){a.div(c,c,this.constants),a.normalize(c,c),a.mul$1(c,c,this.constants);const h=a.scale$2([],c,this.radius);if(h[2]>0){const _=a.scale$2([],[0,0,1],a.dot(h,[0,0,1])),x=a.scale$2([],a.normalize([],[h[0],h[1],0]),this.radius),E=a.add([],h,a.scale$2([],a.sub([],a.add([],x,_),h),2));h[0]=E[0],h[1]=E[1]}return h}}function As(m){return m.panDelta&&m.panDelta.mag()||m.zoomDelta||m.bearingDelta||m.pitchDelta}class Js{constructor(c,h){this._map=c,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Y_(c),this._bearingSnap=h.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new k3,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(h),a.bindAll(["handleEvent","handleWindowEvent"],this);const _=this._el;this._listeners=[[_,"touchstart",{passive:!0}],[_,"touchmove",{passive:!1}],[_,"touchend",void 0],[_,"touchcancel",void 0],[_,"mousedown",void 0],[_,"mousemove",void 0],[_,"mouseup",void 0],[a.window.document,"mousemove",{capture:!0}],[a.window.document,"mouseup",void 0],[_,"mouseover",void 0],[_,"mouseout",void 0],[_,"dblclick",void 0],[_,"click",void 0],[_,"keydown",{capture:!1}],[_,"keyup",void 0],[_,"wheel",{passive:!1}],[_,"contextmenu",void 0],[a.window,"blur",void 0]];for(const[x,E,P]of this._listeners)x.addEventListener(E,x===a.window.document?this.handleWindowEvent:this.handleEvent,P)}destroy(){for(const[c,h,_]of this._listeners)c.removeEventListener(h,c===a.window.document?this.handleWindowEvent:this.handleEvent,_)}_addDefaultHandlers(c){const h=this._map,_=h.getCanvasContainer();this._add("mapEvent",new b1(h,c));const x=h.boxZoom=new J_(h,c);this._add("boxZoom",x);const E=new w3,P=new Xo;h.doubleClickZoom=new ay(P,E),this._add("tapZoom",E),this._add("clickZoom",P);const D=new S3;this._add("tapDragZoom",D);const L=h.touchPitch=new ny(h);this._add("touchPitch",L);const q=new S1(c),H=new T1(c);h.dragRotate=new T3(c,q,H),this._add("mouseRotate",q,["mousePitch"]),this._add("mousePitch",H,["mouseRotate"]);const ee=new E1(c),de=new lf(h,c);h.dragPan=new sy(_,ee,de),this._add("mousePan",ee),this._add("touchPan",de,["touchZoom","touchRotate"]);const fe=new ty,ye=new ey;h.touchZoomRotate=new C3(_,ye,fe,D),this._add("touchRotate",fe,["touchPan","touchZoom"]),this._add("touchZoom",ye,["touchPan","touchRotate"]),this._add("blockableMapEvent",new af(h));const ge=h.scrollZoom=new oy(h,this);this._add("scrollZoom",ge,["mousePan"]);const be=h.keyboard=new E3;this._add("keyboard",be);for(const te of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])c.interactive&&c[te]&&h[te].enable(c[te])}_add(c,h,_){this._handlers.push({handlerName:c,handler:h,allowed:_}),this._handlersById[c]=h}stop(c){if(!this._updatingCamera){for(const{handler:h}of this._handlers)h.reset();this._inertia.clear(),this._fireEvents({},{},c),this._changes=[]}}isActive(){for(const{handler:c}of this._handlers)if(c.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!rs(this._eventsInProgress)||this.isZooming()}_isDragging(){return!!this._eventsInProgress.drag}_blockedByActive(c,h,_){for(const x in c)if(x!==_&&(!h||h.indexOf(x)<0))return!0;return!1}handleWindowEvent(c){this.handleEvent(c,`${c.type}Window`)}_getMapTouches(c){const h=[];for(const _ of c)this._el.contains(_.target)&&h.push(_);return h}handleEvent(c,h){this._updatingCamera=!0;const _=c.type==="renderFrame",x=_?void 0:c,E={needsRenderFrame:!1},P={},D={},L=c.touches?this._getMapTouches(c.touches):void 0,q=L?ce(this._el,L):_?void 0:se(this._el,c);for(const{handlerName:de,handler:fe,allowed:ye}of this._handlers){if(!fe.isEnabled())continue;let ge;this._blockedByActive(D,ye,de)?fe.reset():fe[h||c.type]&&(ge=fe[h||c.type](c,q,L),this.mergeHandlerResult(E,P,ge,de,x),ge&&ge.needsRenderFrame&&this._triggerRenderFrame()),(ge||fe.isActive())&&(D[de]=fe)}const H={};for(const de in this._previousActiveHandlers)D[de]||(H[de]=x);this._previousActiveHandlers=D,(Object.keys(H).length||As(E))&&(this._changes.push([E,P,H]),this._triggerRenderFrame()),(Object.keys(D).length||As(E))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:ee}=E;ee&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],ee(this._map))}mergeHandlerResult(c,h,_,x,E){if(!_)return;a.extend(c,_);const P={handlerName:x,originalEvent:_.originalEvent||E};_.zoomDelta!==void 0&&(h.zoom=P),_.panDelta!==void 0&&(h.drag=P),_.pitchDelta!==void 0&&(h.pitch=P),_.bearingDelta!==void 0&&(h.rotate=P)}_applyChanges(){const c={},h={},_={};for(const[x,E,P]of this._changes)x.panDelta&&(c.panDelta=(c.panDelta||new a.Point(0,0))._add(x.panDelta)),x.zoomDelta&&(c.zoomDelta=(c.zoomDelta||0)+x.zoomDelta),x.bearingDelta&&(c.bearingDelta=(c.bearingDelta||0)+x.bearingDelta),x.pitchDelta&&(c.pitchDelta=(c.pitchDelta||0)+x.pitchDelta),x.around!==void 0&&(c.around=x.around),x.aroundCoord!==void 0&&(c.aroundCoord=x.aroundCoord),x.pinchAround!==void 0&&(c.pinchAround=x.pinchAround),x.noInertia&&(c.noInertia=x.noInertia),a.extend(h,E),a.extend(_,P);this._updateMapTransform(c,h,_),this._changes=[]}_updateMapTransform(c,h,_){const x=this._map,E=x.transform,P=pe=>[pe.x,pe.y,pe.z];if((pe=>{const Te=this._eventsInProgress.drag;return Te&&!this._handlersById[Te.handlerName].isActive()})()&&!As(c)){const pe=E.zoom;E.cameraElevationReference="sea",E.recenterOnTerrain(),E.cameraElevationReference="ground",pe!==E.zoom&&this._map._update(!0)}if(E._isCameraConstrained&&x._stop(!0),!As(c))return void this._fireEvents(h,_,!0);let{panDelta:D,zoomDelta:L,bearingDelta:q,pitchDelta:H,around:ee,aroundCoord:de,pinchAround:fe}=c;E._isCameraConstrained&&(L>0&&(L=0),E._isCameraConstrained=!1),fe!==void 0&&(ee=fe),(L||(pe=>h[pe]&&!this._eventsInProgress[pe])("drag"))&&ee&&(this._dragOrigin=P(E.pointCoordinate3D(ee)),this._trackingEllipsoid.setup(E._camera.position,this._dragOrigin)),E.cameraElevationReference="sea",x._stop(!0),ee=ee||x.transform.centerPoint,q&&(E.bearing+=q),H&&(E.pitch+=H),E._updateCameraState();const ye=[0,0,0];if(D)if(E.projection.name==="mercator"){const pe=this._trackingEllipsoid.projectRay(E.screenPointToMercatorRay(ee).dir),Te=this._trackingEllipsoid.projectRay(E.screenPointToMercatorRay(ee.sub(D)).dir);ye[0]=Te[0]-pe[0],ye[1]=Te[1]-pe[1]}else{const pe=E.pointCoordinate(ee);if(E.projection.name==="globe"){D=D.rotate(-E.angle);const Te=E._pixelsPerMercatorPixel/E.worldSize;ye[0]=-D.x*a.mercatorScale(a.latFromMercatorY(pe.y))*Te,ye[1]=-D.y*a.mercatorScale(E.center.lat)*Te}else{const Te=E.pointCoordinate(ee.sub(D));pe&&Te&&(ye[0]=Te.x-pe.x,ye[1]=Te.y-pe.y)}}const ge=E.zoom,be=[0,0,0];if(L){const pe=P(de||E.pointCoordinate3D(ee)),Te={dir:a.normalize([],a.sub([],pe,E._camera.position))};if(Te.dir[2]<0){const Ie=E.zoomDeltaToMovement(pe,L);a.scale$2(be,Te.dir,Ie)}}const te=a.add(ye,ye,be);E._translateCameraConstrained(te),L&&Math.abs(E.zoom-ge)>1e-4&&E.recenterOnTerrain(),E.cameraElevationReference="ground",this._map._update(),c.noInertia||this._inertia.record(c),this._fireEvents(h,_,!0)}_fireEvents(c,h,_){const x=rs(this._eventsInProgress),E=rs(c),P={};for(const H in c){const{originalEvent:ee}=c[H];this._eventsInProgress[H]||(P[`${H}start`]=ee),this._eventsInProgress[H]=c[H]}!x&&E&&this._fireEvent("movestart",E.originalEvent);for(const H in P)this._fireEvent(H,P[H]);E&&this._fireEvent("move",E.originalEvent);for(const H in c){const{originalEvent:ee}=c[H];this._fireEvent(H,ee)}const D={};let L;for(const H in this._eventsInProgress){const{handlerName:ee,originalEvent:de}=this._eventsInProgress[H];this._handlersById[ee].isActive()||(delete this._eventsInProgress[H],L=h[ee]||de,D[`${H}end`]=L)}for(const H in D)this._fireEvent(H,D[H]);const q=rs(this._eventsInProgress);if(_&&(x||E)&&!q){this._updatingCamera=!0;const H=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),ee=de=>de!==0&&-this._bearingSnap<de&&de<this._bearingSnap;H?(ee(H.bearing||this._map.getBearing())&&(H.bearing=0),this._map.easeTo(H,{originalEvent:L})):(this._map.fire(new a.Event("moveend",{originalEvent:L})),ee(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(c,h){this._map.fire(new a.Event(c,h?{originalEvent:h}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(c=>{this._frameId=void 0,this.handleEvent(new ly("renderFrame",{timeStamp:c})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const vu="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class cf extends a.Evented{constructor(c,h){super(),this._moving=!1,this._zooming=!1,this.transform=c,this._bearingSnap=h.bearingSnap,this._respectPrefersReducedMotion=h.respectPrefersReducedMotion!==!1,a.bindAll(["_renderFrameCallback"],this)}getCenter(){return new a.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(c,h){return this.jumpTo({center:c},h)}panBy(c,h,_){return c=a.Point.convert(c).mult(-1),this.panTo(this.transform.center,a.extend({offset:c},h),_)}panTo(c,h,_){return this.easeTo(a.extend({center:c},h),_)}getZoom(){return this.transform.zoom}setZoom(c,h){return this.jumpTo({zoom:c},h),this}zoomTo(c,h,_){return this.easeTo(a.extend({zoom:c},h),_)}zoomIn(c,h){return this.zoomTo(this.getZoom()+1,c,h),this}zoomOut(c,h){return this.zoomTo(this.getZoom()-1,c,h),this}getBearing(){return this.transform.bearing}setBearing(c,h){return this.jumpTo({bearing:c},h),this}getPadding(){return this.transform.padding}setPadding(c,h){return this.jumpTo({padding:c},h),this}rotateTo(c,h,_){return this.easeTo(a.extend({bearing:c},h),_)}resetNorth(c,h){return this.rotateTo(0,a.extend({duration:1e3},c),h),this}resetNorthPitch(c,h){return this.easeTo(a.extend({bearing:0,pitch:0,duration:1e3},c),h),this}snapToNorth(c,h){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(c,h):this}getPitch(){return this.transform.pitch}setPitch(c,h){return this.jumpTo({pitch:c},h),this}cameraForBounds(c,h){c=a.LngLatBounds.convert(c);const _=h&&h.bearing||0,x=h&&h.pitch||0,E=c.getNorthWest(),P=c.getSouthEast();return this._cameraForBounds(this.transform,E,P,_,x,h)}_extendCameraOptions(c){const h={top:0,bottom:0,right:0,left:0};if(typeof(c=a.extend({padding:h,offset:[0,0],maxZoom:this.transform.maxZoom},c)).padding=="number"){const _=c.padding;c.padding={top:_,bottom:_,right:_,left:_}}return c.padding=a.extend(h,c.padding),c}_minimumAABBFrustumDistance(c,h){const _=h.max[0]-h.min[0],x=h.max[1]-h.min[1];return _/x>c.aspect?_/(2*Math.tan(.5*c.fovX)*c.aspect):x/(2*Math.tan(.5*c.fovY)*c.aspect)}_cameraForBoundsOnGlobe(c,h,_,x,E,P){const D=c.clone(),L=this._extendCameraOptions(P);D.bearing=x,D.pitch=E;const q=a.LngLat.convert(h),H=a.LngLat.convert(_),ee=.5*(q.lat+H.lat),de=.5*(q.lng+H.lng),fe=a.latLngToECEF(ee,de),ye=a.normalize([],fe),ge=a.normalize([],a.cross([],ye,[0,1,0])),be=a.cross([],ge,ye),te=[ge[0],ge[1],ge[2],0,be[0],be[1],be[2],0,ye[0],ye[1],ye[2],0,0,0,0,1],pe=[fe,a.latLngToECEF(q.lat,q.lng),a.latLngToECEF(H.lat,q.lng),a.latLngToECEF(H.lat,H.lng),a.latLngToECEF(q.lat,H.lng),a.latLngToECEF(ee,q.lng),a.latLngToECEF(ee,H.lng),a.latLngToECEF(q.lat,de),a.latLngToECEF(H.lat,de)];let Te=a.Aabb.fromPoints(pe.map(Wt=>[a.dot(ge,Wt),a.dot(be,Wt),a.dot(ye,Wt)]));const Ie=a.transformMat4([],Te.center,te);a.squaredLength(Ie)===0&&a.set(Ie,0,0,1),a.normalize(Ie,Ie),a.scale$2(Ie,Ie,a.GLOBE_RADIUS),D.center=a.ecefToLatLng(Ie);const Ze=D.getWorldToCameraMatrix(),Ke=a.invert(new Float64Array(16),Ze);Te=a.Aabb.applyTransform(Te,a.multiply([],Ze,te)),a.transformMat4(Ie,Ie,Ze);const Xe=.5*(Te.max[2]-Te.min[2]),at=this._minimumAABBFrustumDistance(D,Te),it=a.scale$2([],[0,0,1],Xe),gt=a.add(it,Ie,it),Kt=at+(D.pitch===0?0:a.distance(Ie,gt)),dt=D.globeCenterInViewSpace,Ft=a.sub([],Ie,[dt[0],dt[1],dt[2]]);a.normalize(Ft,Ft),a.scale$2(Ft,Ft,Kt);const wt=a.add([],Ie,Ft);a.transformMat4(wt,wt,Ke);const Xt=a.earthRadius/a.GLOBE_RADIUS,mt=a.length(wt),zt=a.mercatorZfromAltitude(Math.max(mt*Xt-a.earthRadius,Number.EPSILON),0),Jt=Math.min(D.zoomFromMercatorZAdjusted(zt),L.maxZoom);return Jt>.5*(a.GLOBE_ZOOM_THRESHOLD_MIN+a.GLOBE_ZOOM_THRESHOLD_MAX)?(D.setProjection({name:"mercator"}),D.zoom=Jt,this._cameraForBounds(D,h,_,x,E,P)):{center:D.center,zoom:Jt,bearing:x,pitch:E}}queryTerrainElevation(c,h){const _=this.transform.elevation;return _?(h=a.extend({},{exaggerated:!0},h),_.getAtPoint(a.MercatorCoordinate.fromLngLat(c),null,h.exaggerated)):null}_cameraForBounds(c,h,_,x,E,P){if(c.projection.name==="globe")return this._cameraForBoundsOnGlobe(c,h,_,x,E,P);const D=c.clone(),L=this._extendCameraOptions(P),q=D.padding;D.bearing=x,D.pitch=E;const H=a.LngLat.convert(h),ee=a.LngLat.convert(_),de=new a.LngLat(H.lng,ee.lat),fe=new a.LngLat(ee.lng,H.lat),ye=D.project(H),ge=D.project(ee),be=this.queryTerrainElevation(H),te=this.queryTerrainElevation(ee),pe=this.queryTerrainElevation(de),Te=this.queryTerrainElevation(fe),Ie=[[ye.x,ye.y,Math.min(be||0,te||0,pe||0,Te||0)],[ge.x,ge.y,Math.max(be||0,te||0,pe||0,Te||0)]];let Ze=a.Aabb.fromPoints(Ie);const Ke=D.getWorldToCameraMatrix(),Xe=a.invert(new Float64Array(16),Ke);Ze=a.Aabb.applyTransform(Ze,Ke);const at=a.sub([],Ze.max,Ze.min),it=q.left||0,gt=q.right||0,Kt=q.bottom||0,dt=q.top||0,{left:Ft,right:wt,top:Xt,bottom:mt}=L.padding,zt=.5*(it+gt),Jt=.5*(dt+Kt),Wt=Math.min(D.scaleZoom(D.scale*Math.min((D.width-(it+gt+Ft+wt))/at[0],(D.height-(Kt+dt+mt+Xt))/at[1])),L.maxZoom),tn=D.scale/D.zoomScale(Wt);Ze=new a.Aabb([Ze.min[0]-(Ft+zt)*tn,Ze.min[1]-(mt+Jt)*tn,Ze.min[2]],[Ze.max[0]+(wt+zt)*tn,Ze.max[1]+(Xt+Jt)*tn,Ze.max[2]]);const Un=.5*at[2],nr=this._minimumAABBFrustumDistance(D,Ze),kn=[0,0,1,0];a.transformMat4$1(kn,kn,Ke),a.normalize$2(kn,kn);const Zn=a.scale$2([],kn,nr+Un),Tr=a.add([],Ze.center,Zn),xr=(typeof L.offset.x=="number"&&typeof L.offset.y=="number"?new a.Point(L.offset.x,L.offset.y):a.Point.convert(L.offset)).rotate(-a.degToRad(x));Ze.center[0]-=xr.x*tn,Ze.center[1]+=xr.y*tn,a.transformMat4(Ze.center,Ze.center,Xe),a.transformMat4(Tr,Tr,Xe);const Ln=[Ze.center[0],Ze.center[1],Tr[2]*D.pixelsPerMeter];a.scale$2(Ln,Ln,1/D.worldSize);const jr=a.lngFromMercatorX(Ln[0]),qr=a.latFromMercatorY(Ln[1]),Gr=Math.min(D._zoomFromMercatorZ(Ln[2]),L.maxZoom),Zr=new a.LngLat(jr,qr);return D.mercatorFromTransition&&Gr<.5*(a.GLOBE_ZOOM_THRESHOLD_MIN+a.GLOBE_ZOOM_THRESHOLD_MAX)?(D.setProjection({name:"globe"}),D.zoom=Gr,this._cameraForBounds(D,h,_,x,E,P)):{center:Zr,zoom:Gr,bearing:x,pitch:E}}fitBounds(c,h,_){const x=this.cameraForBounds(c,h);return this._fitInternal(x,h,_)}fitScreenCoordinates(c,h,_,x,E){const P=a.Point.convert(c),D=a.Point.convert(h),L=new a.Point(Math.min(P.x,D.x),Math.min(P.y,D.y)),q=new a.Point(Math.max(P.x,D.x),Math.max(P.y,D.y));if(this.transform.projection.name==="mercator"&&this.transform.anyCornerOffEdge(P,D))return this;const H=this.transform.pointLocation3D(L),ee=this.transform.pointLocation3D(q),de=this.transform.pointLocation3D(new a.Point(L.x,q.y)),fe=this.transform.pointLocation3D(new a.Point(q.x,L.y)),ye=[Math.min(H.lng,ee.lng,de.lng,fe.lng),Math.min(H.lat,ee.lat,de.lat,fe.lat)],ge=[Math.max(H.lng,ee.lng,de.lng,fe.lng),Math.max(H.lat,ee.lat,de.lat,fe.lat)],be=x&&x.pitch?x.pitch:this.getPitch(),te=this._cameraForBounds(this.transform,ye,ge,_,be,x);return this._fitInternal(te,x,E)}_fitInternal(c,h,_){return c?(delete(h=a.extend(c,h)).padding,h.linear?this.easeTo(h,_):this.flyTo(h,_)):this}jumpTo(c,h){this.stop();const _=c.preloadOnly?this.transform.clone():this.transform;let x=!1,E=!1,P=!1;return"zoom"in c&&_.zoom!==+c.zoom&&(x=!0,_.zoom=+c.zoom),c.center!==void 0&&(_.center=a.LngLat.convert(c.center)),"bearing"in c&&_.bearing!==+c.bearing&&(E=!0,_.bearing=+c.bearing),"pitch"in c&&_.pitch!==+c.pitch&&(P=!0,_.pitch=+c.pitch),c.padding==null||_.isPaddingEqual(c.padding)||(_.padding=c.padding),c.preloadOnly?(this._preloadTiles(_),this):(this.fire(new a.Event("movestart",h)).fire(new a.Event("move",h)),x&&this.fire(new a.Event("zoomstart",h)).fire(new a.Event("zoom",h)).fire(new a.Event("zoomend",h)),E&&this.fire(new a.Event("rotatestart",h)).fire(new a.Event("rotate",h)).fire(new a.Event("rotateend",h)),P&&this.fire(new a.Event("pitchstart",h)).fire(new a.Event("pitch",h)).fire(new a.Event("pitchend",h)),this.fire(new a.Event("moveend",h)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||a.warnOnce(vu),this.transform.getFreeCameraOptions()}setFreeCameraOptions(c,h){const _=this.transform;if(!_.projection.supportsFreeCamera)return a.warnOnce(vu),this;this.stop();const x=_.zoom,E=_.pitch,P=_.bearing;_.setFreeCameraOptions(c);const D=x!==_.zoom,L=E!==_.pitch,q=P!==_.bearing;return this.fire(new a.Event("movestart",h)).fire(new a.Event("move",h)),D&&this.fire(new a.Event("zoomstart",h)).fire(new a.Event("zoom",h)).fire(new a.Event("zoomend",h)),q&&this.fire(new a.Event("rotatestart",h)).fire(new a.Event("rotate",h)).fire(new a.Event("rotateend",h)),L&&this.fire(new a.Event("pitchstart",h)).fire(new a.Event("pitch",h)).fire(new a.Event("pitchend",h)),this.fire(new a.Event("moveend",h)),this}easeTo(c,h){this._stop(!1,c.easeId),((c=a.extend({offset:[0,0],duration:500,easing:a.ease},c)).animate===!1||this._prefersReducedMotion(c))&&(c.duration=0);const _=this.transform,x=this.getZoom(),E=this.getBearing(),P=this.getPitch(),D=this.getPadding(),L="zoom"in c?+c.zoom:x,q="bearing"in c?this._normalizeBearing(c.bearing,E):E,H="pitch"in c?+c.pitch:P,ee="padding"in c?c.padding:_.padding,de=a.Point.convert(c.offset);let fe,ye,ge;if(_.projection.name==="globe"){const it=a.MercatorCoordinate.fromLngLat(_.center),gt=de.rotate(-_.angle);it.x+=gt.x/_.worldSize,it.y+=gt.y/_.worldSize;const Kt=it.toLngLat(),dt=a.LngLat.convert(c.center||Kt);this._normalizeCenter(dt),fe=_.centerPoint.add(gt),ye=new a.Point(it.x,it.y).mult(_.worldSize),ge=new a.Point(a.mercatorXfromLng(dt.lng),a.mercatorYfromLat(dt.lat)).mult(_.worldSize).sub(ye)}else{fe=_.centerPoint.add(de);const it=_.pointLocation(fe),gt=a.LngLat.convert(c.center||it);this._normalizeCenter(gt),ye=_.project(it),ge=_.project(gt).sub(ye)}const be=_.zoomScale(L-x);let te,pe;c.around&&(te=a.LngLat.convert(c.around),pe=_.locationPoint(te));const Te=this._zooming||L!==x,Ie=this._rotating||E!==q,Ze=this._pitching||H!==P,Ke=!_.isPaddingEqual(ee),Xe=it=>gt=>{if(Te&&(it.zoom=a.number(x,L,gt)),Ie&&(it.bearing=a.number(E,q,gt)),Ze&&(it.pitch=a.number(P,H,gt)),Ke&&(it.interpolatePadding(D,ee,gt),fe=it.centerPoint.add(de)),te)it.setLocationAtPoint(te,pe);else{const Kt=it.zoomScale(it.zoom-x),dt=L>x?Math.min(2,be):Math.max(.5,be),Ft=Math.pow(dt,1-gt),wt=it.unproject(ye.add(ge.mult(gt*Ft)).mult(Kt));it.setLocationAtPoint(it.renderWorldCopies?wt.wrap():wt,fe)}return c.preloadOnly||this._fireMoveEvents(h),it};if(c.preloadOnly){const it=this._emulate(Xe,c.duration,_);return this._preloadTiles(it),this}const at={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=Te,this._rotating=Ie,this._pitching=Ze,this._padding=Ke,this._easeId=c.easeId,this._prepareEase(h,c.noMoveStart,at),this._ease(Xe(_),it=>{_.recenterOnTerrain(),this._afterEase(h,it)},c),this}_prepareEase(c,h,_={}){this._moving=!0,this.transform.cameraElevationReference="sea",h||_.moving||this.fire(new a.Event("movestart",c)),this._zooming&&!_.zooming&&this.fire(new a.Event("zoomstart",c)),this._rotating&&!_.rotating&&this.fire(new a.Event("rotatestart",c)),this._pitching&&!_.pitching&&this.fire(new a.Event("pitchstart",c))}_fireMoveEvents(c){this.fire(new a.Event("move",c)),this._zooming&&this.fire(new a.Event("zoom",c)),this._rotating&&this.fire(new a.Event("rotate",c)),this._pitching&&this.fire(new a.Event("pitch",c))}_afterEase(c,h){if(this._easeId&&h&&this._easeId===h)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const _=this._zooming,x=this._rotating,E=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,_&&this.fire(new a.Event("zoomend",c)),x&&this.fire(new a.Event("rotateend",c)),E&&this.fire(new a.Event("pitchend",c)),this.fire(new a.Event("moveend",c))}flyTo(c,h){if(this._prefersReducedMotion(c)){const Wt=a.pick(c,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Wt,h)}this.stop(),c=a.extend({offset:[0,0],speed:1.2,curve:1.42,easing:a.ease},c);const _=this.transform,x=this.getZoom(),E=this.getBearing(),P=this.getPitch(),D=this.getPadding(),L="zoom"in c?a.clamp(+c.zoom,_.minZoom,_.maxZoom):x,q="bearing"in c?this._normalizeBearing(c.bearing,E):E,H="pitch"in c?+c.pitch:P,ee="padding"in c?c.padding:_.padding,de=_.zoomScale(L-x),fe=a.Point.convert(c.offset);let ye=_.centerPoint.add(fe);const ge=_.pointLocation(ye),be=a.LngLat.convert(c.center||ge);this._normalizeCenter(be);const te=_.project(ge),pe=_.project(be).sub(te);let Te=c.curve;const Ie=Math.max(_.width,_.height),Ze=Ie/de,Ke=pe.mag();if("minZoom"in c){const Wt=a.clamp(Math.min(c.minZoom,x,L),_.minZoom,_.maxZoom),tn=Ie/_.zoomScale(Wt-x);Te=Math.sqrt(tn/Ke*2)}const Xe=Te*Te;function at(Wt){const tn=(Ze*Ze-Ie*Ie+(Wt?-1:1)*Xe*Xe*Ke*Ke)/(2*(Wt?Ze:Ie)*Xe*Ke);return Math.log(Math.sqrt(tn*tn+1)-tn)}function it(Wt){return(Math.exp(Wt)-Math.exp(-Wt))/2}function gt(Wt){return(Math.exp(Wt)+Math.exp(-Wt))/2}const Kt=at(0);let dt=function(Wt){return gt(Kt)/gt(Kt+Te*Wt)},Ft=function(Wt){return Ie*((gt(Kt)*(it(tn=Kt+Te*Wt)/gt(tn))-it(Kt))/Xe)/Ke;var tn},wt=(at(1)-Kt)/Te;if(Math.abs(Ke)<1e-6||!isFinite(wt)){if(Math.abs(Ie-Ze)<1e-6)return this.easeTo(c,h);const Wt=Ze<Ie?-1:1;wt=Math.abs(Math.log(Ze/Ie))/Te,Ft=function(){return 0},dt=function(tn){return Math.exp(Wt*Te*tn)}}c.duration="duration"in c?+c.duration:1e3*wt/("screenSpeed"in c?+c.screenSpeed/Te:+c.speed),c.maxDuration&&c.duration>c.maxDuration&&(c.duration=0);const Xt=E!==q,mt=H!==P,zt=!_.isPaddingEqual(ee),Jt=Wt=>tn=>{const Un=tn*wt,nr=1/dt(Un);Wt.zoom=tn===1?L:x+Wt.scaleZoom(nr),Xt&&(Wt.bearing=a.number(E,q,tn)),mt&&(Wt.pitch=a.number(P,H,tn)),zt&&(Wt.interpolatePadding(D,ee,tn),ye=Wt.centerPoint.add(fe));const kn=tn===1?be:Wt.unproject(te.add(pe.mult(Ft(Un))).mult(nr));return Wt.setLocationAtPoint(Wt.renderWorldCopies?kn.wrap():kn,ye),Wt._updateCameraOnTerrain(),c.preloadOnly||this._fireMoveEvents(h),Wt};if(c.preloadOnly){const Wt=this._emulate(Jt,c.duration,_);return this._preloadTiles(Wt),this}return this._zooming=!0,this._rotating=Xt,this._pitching=mt,this._padding=zt,this._prepareEase(h,!1),this._ease(Jt(_),()=>this._afterEase(h),c),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(c,h){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const _=this._onEaseEnd;this._onEaseEnd=void 0,_.call(this,h)}if(!c){const _=this.handlers;_&&_.stop(!1)}return this}_ease(c,h,_){_.animate===!1||_.duration===0?(c(1),h()):(this._easeStart=a.exported.now(),this._easeOptions=_,this._onEaseFrame=c,this._onEaseEnd=h,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const c=Math.min((a.exported.now()-this._easeStart)/this._easeOptions.duration,1),h=this._onEaseFrame;h&&h(this._easeOptions.easing(c)),c<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(c,h){c=a.wrap(c,-180,180);const _=Math.abs(c-h);return Math.abs(c-360-h)<_&&(c-=360),Math.abs(c+360-h)<_&&(c+=360),c}_normalizeCenter(c){const h=this.transform;if(!h.renderWorldCopies||h.maxBounds)return;const _=c.lng-h.center.lng;c.lng+=_>180?-360:_<-180?360:0}_prefersReducedMotion(c){return this._respectPrefersReducedMotion&&a.exported.prefersReducedMotion&&!(c&&c.essential)}_emulate(c,h,_){const x=Math.ceil(15*h/1e3),E=[],P=c(_.clone());for(let D=0;D<=x;D++){const L=P(D/x);E.push(L.clone())}return E}}class Sn{constructor(c={}){this.options=c,a.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(c){const h=this.options&&this.options.compact;return this._map=c,this._container=O("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=O("button","mapboxgl-ctrl-attrib-button",this._container),O("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=O("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),h&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),h===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(c,h){const _=this._map._getUIString(`AttributionControl.${h}`);c.setAttribute("aria-label",_),c.removeAttribute("title"),c.firstElementChild&&c.firstElementChild.setAttribute("title",_)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let c=this._editLink;c||(c=this._editLink=this._container.querySelector(".mapbox-improve-map"));const h=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||a.config.ACCESS_TOKEN}];if(c){const _=h.reduce((x,E,P)=>(E.value&&(x+=`${E.key}=${E.value}${P<h.length-1?"&":""}`),x),"?");c.href=`${a.config.FEEDBACK_URL}/${_}#${Oh(this._map,!0)}`,c.rel="noopener nofollow",this._setElementTitle(c,"MapFeedback")}}_updateData(c){!c||c.sourceDataType!=="metadata"&&c.sourceDataType!=="visibility"&&c.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let c=[];if(this._map.style.stylesheet){const x=this._map.style.stylesheet;this.styleOwner=x.owner,this.styleId=x.id}const h=this._map.style._sourceCaches;for(const x in h){const E=h[x];if(E.used){const P=E.getSource();P.attribution&&c.indexOf(P.attribution)<0&&c.push(P.attribution)}}c.sort((x,E)=>x.length-E.length),c=c.filter((x,E)=>{for(let P=E+1;P<c.length;P++)if(c[P].indexOf(x)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?c=[...this.options.customAttribution,...c]:c.unshift(this.options.customAttribution));const _=c.join(" | ");_!==this._attribHTML&&(this._attribHTML=_,c.length?(this._innerContainer.innerHTML=_,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class I1{constructor(){a.bindAll(["_updateLogo","_updateCompact"],this)}onAdd(c){this._map=c,this._container=O("div","mapboxgl-ctrl");const h=O("a","mapboxgl-ctrl-logo");return h.target="_blank",h.rel="noopener nofollow",h.href="https://www.mapbox.com/",h.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),h.setAttribute("rel","noopener nofollow"),this._container.appendChild(h),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(c){c&&c.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const c=this._map.style._sourceCaches;if(Object.entries(c).length===0)return!0;for(const h in c){const _=c[h].getSource();if(_.hasOwnProperty("mapbox_logo")&&!_.mapbox_logo)return!1}return!0}_updateCompact(){const c=this._container.children;if(c.length){const h=c[0];this._map.getCanvasContainer().offsetWidth<250?h.classList.add("mapboxgl-compact"):h.classList.remove("mapboxgl-compact")}}}class A1{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(c){const h=++this._id;return this._queue.push({callback:c,id:h,cancelled:!1}),h}remove(c){const h=this._currentlyRunning,_=h?this._queue.concat(h):this._queue;for(const x of _)if(x.id===c)return void(x.cancelled=!0)}run(c=0){const h=this._currentlyRunning=this._queue;this._queue=[];for(const _ of h)if(!_.cancelled&&(_.callback(c),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function gd(m,c,h){if(m=new a.LngLat(m.lng,m.lat),c){const _=new a.LngLat(m.lng-360,m.lat),x=new a.LngLat(m.lng+360,m.lat),E=360*Math.ceil(Math.abs(m.lng-h.center.lng)/360),P=h.locationPoint(m).distSqr(c),D=c.x<0||c.y<0||c.x>h.width||c.y>h.height;h.locationPoint(_).distSqr(c)<P&&(D||Math.abs(_.lng-h.center.lng)<E)?m=_:h.locationPoint(x).distSqr(c)<P&&(D||Math.abs(x.lng-h.center.lng)<E)&&(m=x)}for(;Math.abs(m.lng-h.center.lng)>180;){const _=h.locationPoint(m);if(_.x>=0&&_.y>=0&&_.x<=h.width&&_.y<=h.height)break;m.lng>h.center.lng?m.lng-=360:m.lng+=360}return m}const xu={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class yn extends a.Evented{constructor(c,h){if(super(),(c instanceof a.window.HTMLElement||h)&&(c=a.extend({element:c},h)),a.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=c&&c.anchor||"center",this._color=c&&c.color||"#3FB1CE",this._scale=c&&c.scale||1,this._draggable=c&&c.draggable||!1,this._clickTolerance=c&&c.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=c&&c.rotation||0,this._rotationAlignment=c&&c.rotationAlignment||"auto",this._pitchAlignment=c&&c.pitchAlignment&&c.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=c&&c.occludedOpacity||.2,c&&c.element)this._element=c.element,this._offset=a.Point.convert(c&&c.offset||[0,0]);else{this._defaultMarker=!0,this._element=O("div");const x=41,E=27,P=$("svg",{display:"block",height:x*this._scale+"px",width:E*this._scale+"px",viewBox:`0 0 ${E} ${x}`},this._element),D=$("radialGradient",{id:"shadowGradient"},$("defs",{},P));$("stop",{offset:"10%","stop-opacity":.4},D),$("stop",{offset:"100%","stop-opacity":.05},D),$("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},P),$("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},P),$("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},P),$("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},P),this._offset=a.Point.convert(c&&c.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",x=>{x.preventDefault()}),this._element.addEventListener("mousedown",x=>{x.preventDefault()});const _=this._element.classList;for(const x in xu)_.remove(`mapboxgl-marker-anchor-${x}`);_.add(`mapboxgl-marker-anchor-${this._anchor}`),this._popup=null}addTo(c){return c===this._map||(this.remove(),this._map=c,c.getCanvasContainer().appendChild(this._element),c.on("move",this._updateMoving),c.on("moveend",this._update),c.on("remove",this._clearFadeTimer),c._addMarker(this),this.setDraggable(this._draggable),this._update(),c.on("click",this._onMapClick)),this}remove(){const c=this._map;return c&&(c.off("click",this._onMapClick),c.off("move",this._updateMoving),c.off("moveend",this._update),c.off("mousedown",this._addDragHandler),c.off("touchstart",this._addDragHandler),c.off("mouseup",this._onUp),c.off("touchend",this._onUp),c.off("mousemove",this._onMove),c.off("touchmove",this._onMove),c.off("remove",this._clearFadeTimer),c._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(c){return this._lngLat=a.LngLat.convert(c),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(c){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),c){if(!("offset"in c.options)){const x=Math.sqrt(Math.pow(13.5,2)/2);c.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[x,-1*(38.1-13.5+x)],"bottom-right":[-x,-1*(38.1-13.5+x)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=c,c._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(c){const h=c.code,_=c.charCode||c.keyCode;h!=="Space"&&h!=="Enter"&&_!==32&&_!==13||this.togglePopup()}_onMapClick(c){const h=c.originalEvent.target,_=this._element;this._popup&&(h===_||_.contains(h))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const c=this._popup;return c?(c.isOpen()?(c.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(c.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const c=this._map,h=this._pos;if(!c||!h)return!1;const _=c.unproject(h),x=c.getFreeCameraOptions();if(!x.position)return!1;const E=x.position.toLngLat();return E.distanceTo(_)<.9*E.distanceTo(this._lngLat)}_evaluateOpacity(){const c=this._map;if(!c)return;const h=this._pos;if(!h||h.x<0||h.x>c.transform.width||h.y<0||h.y>c.transform.height)return void this._clearFadeTimer();const _=c.unproject(h);let x;c._showingGlobe()&&a.isLngLatBehindGlobe(c.transform,this._lngLat)?x=0:(x=1-c._queryFogOpacity(_),c.transform._terrainEnabled()&&c.getTerrain()&&this._behindTerrain()&&(x*=this._occludedOpacity)),this._element.style.opacity=`${x}`,this._element.style.pointerEvents=x>0?"auto":"none",this._popup&&this._popup._setOpacity(x),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const c=this._pos;if(!c||!this._map)return;const h=this._offset.mult(this._scale);this._element.style.transform=`
            translate(${c.x}px,${c.y}px)
            ${xu[this._anchor]}
            ${this._calculateXYTransform()} ${this._calculateZTransform()}
            translate(${h.x}px,${h.y}px)
        `}_calculateXYTransform(){const c=this._pos,h=this._map,_=this.getPitchAlignment();if(!h||!c||_!=="map")return"";if(!h._showingGlobe()){const L=h.getPitch();return L?`rotateX(${L}deg)`:""}const x=a.radToDeg(a.globeTiltAtLngLat(h.transform,this._lngLat)),E=c.sub(a.globeCenterToScreenPoint(h.transform)),P=Math.abs(E.x)+Math.abs(E.y);if(P===0)return"";const D=x/P;return`rotateX(${-E.y*D}deg) rotateY(${E.x*D}deg)`}_calculateZTransform(){const c=this._pos,h=this._map;if(!h||!c)return"";let _=0;const x=this.getRotationAlignment();if(x==="map")if(h._showingGlobe()){const E=h.project(new a.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),P=h.project(new a.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(E);_=a.radToDeg(Math.atan2(P.y,P.x))-90}else _=-h.getBearing();else if(x==="horizon"){const E=a.smoothstep(4,6,h.getZoom()),P=a.globeCenterToScreenPoint(h.transform);P.y+=E*h.transform.height;const D=c.sub(P),L=a.radToDeg(Math.atan2(D.y,D.x));_=(L>90?L-270:L+90)*(1-E)}return _+=this._rotation,_?`rotateZ(${_}deg)`:""}_update(c){a.window.cancelAnimationFrame(this._updateFrameId);const h=this._map;h&&(h.transform.renderWorldCopies&&(this._lngLat=gd(this._lngLat,this._pos,h.transform)),this._pos=h.project(this._lngLat),c===!0?this._updateFrameId=a.window.requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),h._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(h._showingGlobe()||h.getTerrain()||h.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(c){return this._offset=a.Point.convert(c),this._update(),this}_onMove(c){const h=this._map;if(!h)return;const _=this._pointerdownPos,x=this._positionDelta;if(_&&x){if(!this._isDragging){const E=this._clickTolerance||h._clickTolerance;if(c.point.dist(_)<E)return;this._isDragging=!0}this._pos=c.point.sub(x),this._lngLat=h.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.Event("dragstart"))),this.fire(new a.Event("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const c=this._map;c&&(c.off("mousemove",this._onMove),c.off("touchmove",this._onMove)),this._state==="active"&&this.fire(new a.Event("dragend")),this._state="inactive"}_addDragHandler(c){const h=this._map,_=this._pos;h&&_&&this._element.contains(c.originalEvent.target)&&(c.preventDefault(),this._positionDelta=c.point.sub(_),this._pointerdownPos=c.point,this._state="pending",h.on("mousemove",this._onMove),h.on("touchmove",this._onMove),h.once("mouseup",this._onUp),h.once("touchend",this._onUp))}setDraggable(c){this._draggable=!!c;const h=this._map;return h&&(c?(h.on("mousedown",this._addDragHandler),h.on("touchstart",this._addDragHandler)):(h.off("mousedown",this._addDragHandler),h.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(c){return this._rotation=c||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(c){return this._rotationAlignment=c||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment==="auto"||this._rotationAlignment==="horizon"&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(c){return this._pitchAlignment=c||"auto",this._update(),this}getPitchAlignment(){return this._pitchAlignment==="auto"?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(c){return this._occludedOpacity=c||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const M1={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},P3=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function cy(m=new a.Point(0,0),c="bottom"){if(typeof m=="number"){const h=Math.round(Math.sqrt(.5*Math.pow(m,2)));switch(c){case"top":return new a.Point(0,m);case"top-left":return new a.Point(h,h);case"top-right":return new a.Point(-h,h);case"bottom":return new a.Point(0,-m);case"bottom-left":return new a.Point(h,-h);case"bottom-right":return new a.Point(-h,-h);case"left":return new a.Point(m,0);case"right":return new a.Point(-m,0)}return new a.Point(0,0)}return m instanceof a.Point||Array.isArray(m)?a.Point.convert(m):a.Point.convert(m[c]||[0,0])}class D1{constructor(c){this.jumpTo(c)}getValue(c){if(c<=this._startTime)return this._start;if(c>=this._endTime)return this._end;const h=a.easeCubicInOut((c-this._startTime)/(this._endTime-this._startTime));return this._start*(1-h)+this._end*h}isEasing(c){return c>=this._startTime&&c<=this._endTime}jumpTo(c){this._startTime=-1/0,this._endTime=-1/0,this._start=c,this._end=c}easeTo(c,h,_){this._start=this.getValue(h),this._end=c,this._startTime=h,this._endTime=h+_}}const uy={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use ⌘ + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},dy={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,respectPrefersReducedMotion:!0,crossSourceCollisions:!0},I3={showCompass:!0,showZoom:!0,visualizePitch:!1};class A3{constructor(c,h,_=!1){this._clickTolerance=10,this.element=h,this.mouseRotate=new S1({clickTolerance:c.dragRotate._mouseRotate._clickTolerance}),this.map=c,_&&(this.mousePitch=new T1({clickTolerance:c.dragRotate._mousePitch._clickTolerance})),a.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),h.addEventListener("mousedown",this.mousedown),h.addEventListener("touchstart",this.touchstart,{passive:!1}),h.addEventListener("touchmove",this.touchmove),h.addEventListener("touchend",this.touchend),h.addEventListener("touchcancel",this.reset)}down(c,h){this.mouseRotate.mousedown(c,h),this.mousePitch&&this.mousePitch.mousedown(c,h),U()}move(c,h){const _=this.map,x=this.mouseRotate.mousemoveWindow(c,h),E=x&&x.bearingDelta;if(E&&_.setBearing(_.getBearing()+E),this.mousePitch){const P=this.mousePitch.mousemoveWindow(c,h),D=P&&P.pitchDelta;D&&_.setPitch(_.getPitch()+D)}}off(){const c=this.element;c.removeEventListener("mousedown",this.mousedown),c.removeEventListener("touchstart",this.touchstart,{passive:!1}),c.removeEventListener("touchmove",this.touchmove),c.removeEventListener("touchend",this.touchend),c.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){G(),a.window.removeEventListener("mousemove",this.mousemove),a.window.removeEventListener("mouseup",this.mouseup)}mousedown(c){this.down(a.extend({},c,{ctrlKey:!0,preventDefault:()=>c.preventDefault()}),se(this.element,c)),a.window.addEventListener("mousemove",this.mousemove),a.window.addEventListener("mouseup",this.mouseup)}mousemove(c){this.move(c,se(this.element,c))}mouseup(c){this.mouseRotate.mouseupWindow(c),this.mousePitch&&this.mousePitch.mouseupWindow(c),this.offTemp()}touchstart(c){c.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=ce(this.element,c.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>c.preventDefault()},this._startPos))}touchmove(c){c.targetTouches.length!==1?this.reset():(this._lastPos=ce(this.element,c.targetTouches)[0],this.move({preventDefault:()=>c.preventDefault()},this._lastPos))}touchend(c){c.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const R1={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},O1={maxWidth:100,unit:"metric"},L1={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"},_d={version:a.version,supported:w,setRTLTextPlugin:a.setRTLTextPlugin,getRTLTextPluginStatus:a.getRTLTextPluginStatus,Map:class extends cf{constructor(m){if(a.LivePerformanceUtils.mark(a.PerformanceMarkers.create),(m=a.extend({},dy,m)).minZoom!=null&&m.maxZoom!=null&&m.minZoom>m.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(m.minPitch!=null&&m.maxPitch!=null&&m.minPitch>m.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(m.minPitch!=null&&m.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(m.maxPitch!=null&&m.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(m.antialias&&a.isSafariWithAntialiasingBug(a.window)&&(m.antialias=!1,a.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new hd(m.minZoom,m.maxZoom,m.minPitch,m.maxPitch,m.renderWorldCopies),m),this._interactive=m.interactive,this._minTileCacheSize=m.minTileCacheSize,this._maxTileCacheSize=m.maxTileCacheSize,this._failIfMajorPerformanceCaveat=m.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=m.preserveDrawingBuffer,this._antialias=m.antialias,this._useWebGL2=m.useWebGL2,this._trackResize=m.trackResize,this._bearingSnap=m.bearingSnap,this._refreshExpiredTiles=m.refreshExpiredTiles,this._fadeDuration=m.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=m.crossSourceCollisions,this._collectResourceTiming=m.collectResourceTiming,this._optimizeForTerrain=m.optimizeForTerrain,this._language=this._parseLanguage(m.language),this._worldview=m.worldview,this._renderTaskQueue=new A1,this._domRenderTaskQueue=new A1,this._controls=[],this._markers=[],this._popups=[],this._mapId=a.uniqueId(),this._locale=a.extend({},uy,m.locale),this._clickTolerance=m.clickTolerance,this._cooperativeGestures=m.cooperativeGestures,this._performanceMetricsCollection=m.performanceMetricsCollection,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new D1(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._requestManager=new a.RequestManager(m.transformRequest,m.accessToken,m.testMode),this._silenceAuthErrors=!!m.testMode,typeof m.container=="string"){if(this._container=a.window.document.getElementById(m.container),!this._container)throw new Error(`Container '${m.container}' not found.`)}else{if(!(m.container instanceof a.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=m.container}if(this._container.childNodes.length>0&&a.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),m.maxBounds&&this.setMaxBounds(m.maxBounds),a.bindAll(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),a.window!==void 0&&(a.window.addEventListener("online",this._onWindowOnline,!1),a.window.addEventListener("resize",this._onWindowResize,!1),a.window.addEventListener("orientationchange",this._onWindowResize,!1),a.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1),a.window.addEventListener("visibilitychange",this._onVisibilityChange,!1)),this.handlers=new Js(this,m),this._localFontFamily=m.localFontFamily,this._localIdeographFontFamily=m.localIdeographFontFamily,m.style&&this.setStyle(m.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),m.projection&&this.setProjection(m.projection),this._hash=m.hash&&new x1(typeof m.hash=="string"&&m.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:m.center,zoom:m.zoom,bearing:m.bearing,pitch:m.pitch}),m.bounds&&(this.resize(),this.fitBounds(m.bounds,a.extend({},m.fitBoundsOptions,{duration:0})))),this.resize(),m.attributionControl&&this.addControl(new Sn({customAttribution:m.customAttribution})),this._logoControl=new I1,this.addControl(this._logoControl,m.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",c=>{this._update(c.dataType==="style"),this.fire(new a.Event(`${c.dataType}data`,c))}),this.on("dataloading",c=>{this.fire(new a.Event(`${c.dataType}dataloading`,c))})}_getMapId(){return this._mapId}addControl(m,c){if(c===void 0&&(c=m.getDefaultPosition?m.getDefaultPosition():"top-right"),!m||!m.onAdd)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const h=m.onAdd(this);this._controls.push(m);const _=this._controlPositions[c];return c.indexOf("bottom")!==-1?_.insertBefore(h,_.firstChild):_.appendChild(h),this}removeControl(m){if(!m||!m.onRemove)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const c=this._controls.indexOf(m);return c>-1&&this._controls.splice(c,1),m.onRemove(this),this}hasControl(m){return this._controls.indexOf(m)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(m){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const c=!this._moving;return c&&this.fire(new a.Event("movestart",m)).fire(new a.Event("move",m)),this.fire(new a.Event("resize",m)),c&&this.fire(new a.Event("moveend",m)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(m){return this.transform.setMaxBounds(a.LngLatBounds.convert(m)),this._update()}setMinZoom(m){if((m=m??-2)>=-2&&m<=this.transform.maxZoom)return this.transform.minZoom=m,this._update(),this.getZoom()<m?this.setZoom(m):this.fire(new a.Event("zoomstart")).fire(new a.Event("zoom")).fire(new a.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(m){if((m=m??22)>=this.transform.minZoom)return this.transform.maxZoom=m,this._update(),this.getZoom()>m?this.setZoom(m):this.fire(new a.Event("zoomstart")).fire(new a.Event("zoom")).fire(new a.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(m){if((m=m??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(m>=0&&m<=this.transform.maxPitch)return this.transform.minPitch=m,this._update(),this.getPitch()<m?this.setPitch(m):this.fire(new a.Event("pitchstart")).fire(new a.Event("pitch")).fire(new a.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(m){if((m=m??85)>85)throw new Error("maxPitch must be less than or equal to 85");if(m>=this.transform.minPitch)return this.transform.maxPitch=m,this._update(),this.getPitch()>m?this.setPitch(m):this.fire(new a.Event("pitchstart")).fire(new a.Event("pitch")).fire(new a.Event("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(m){return this.transform.renderWorldCopies=m,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(m){return m==="auto"?a.window.navigator.language:Array.isArray(m)?m.length===0?void 0:m.map(c=>c==="auto"?a.window.navigator.language:c):m}setLanguage(m){const c=this._parseLanguage(m);if(!this.style||c===this._language)return this;this._language=c,this.style._reloadSources();for(const h of this._controls)h._setLanguage&&h._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(m){return this.style&&m!==this._worldview?(this._worldview=m,this.style._reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return this.transform.projection.name==="globe"}setProjection(m){return this._lazyInitEmptyStyle(),m?typeof m=="string"&&(m={name:m}):m=null,this._useExplicitProjection=!!m,this._prioritizeAndUpdateProjection(m,this.style.stylesheet?this.style.stylesheet.projection:null)}_updateProjectionTransition(){if(this.getProjection().name!=="globe")return;const m=this.transform,c=m.projection.name;let h;c==="globe"&&m.zoom>=a.GLOBE_ZOOM_THRESHOLD_MAX?(m.setMercatorFromTransition(),h=!0):c==="mercator"&&m.zoom<a.GLOBE_ZOOM_THRESHOLD_MAX&&(m.setProjection({name:"globe"}),h=!0),h&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(m,c){return this._updateProjection(m||c||{name:"mercator"})}_updateProjection(m){let c;if(c=m.name==="globe"&&this.transform.zoom>=a.GLOBE_ZOOM_THRESHOLD_MAX?this.transform.setMercatorFromTransition():this.transform.setProjection(m),this.style.applyProjectionUpdate(),c){this.painter.clearBackgroundTiles();for(const h in this.style._sourceCaches)this.style._sourceCaches[h].clearTiles();this._update(!0),this._forceMarkerAndPopupUpdate(!0)}return this}project(m){return this.transform.locationPoint3D(a.LngLat.convert(m))}unproject(m){return this.transform.pointLocation3D(a.Point.convert(m))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(m,c,h){if(m==="mouseenter"||m==="mouseover"){let _=!1;const x=P=>{const D=c.filter(q=>this.getLayer(q)),L=D.length?this.queryRenderedFeatures(P.point,{layers:D}):[];L.length?_||(_=!0,h.call(this,new So(m,this,P.originalEvent,{features:L}))):_=!1},E=()=>{_=!1};return{layers:new Set(c),listener:h,delegates:{mousemove:x,mouseout:E}}}if(m==="mouseleave"||m==="mouseout"){let _=!1;const x=P=>{const D=c.filter(L=>this.getLayer(L));(D.length?this.queryRenderedFeatures(P.point,{layers:D}):[]).length?_=!0:_&&(_=!1,h.call(this,new So(m,this,P.originalEvent)))},E=P=>{_&&(_=!1,h.call(this,new So(m,this,P.originalEvent)))};return{layers:new Set(c),listener:h,delegates:{mousemove:x,mouseout:E}}}{const _=x=>{const E=c.filter(D=>this.getLayer(D)),P=E.length?this.queryRenderedFeatures(x.point,{layers:E}):[];P.length&&(x.features=P,h.call(this,x),delete x.features)};return{layers:new Set(c),listener:h,delegates:{[m]:_}}}}on(m,c,h){if(h===void 0)return super.on(m,c);Array.isArray(c)||(c=[c]);const _=this._createDelegatedListener(m,c,h);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[m]=this._delegatedListeners[m]||[],this._delegatedListeners[m].push(_);for(const x in _.delegates)this.on(x,_.delegates[x]);return this}once(m,c,h){if(h===void 0)return super.once(m,c);Array.isArray(c)||(c=[c]);const _=this._createDelegatedListener(m,c,h);for(const x in _.delegates)this.once(x,_.delegates[x]);return this}off(m,c,h){if(h===void 0)return super.off(m,c);c=new Set(Array.isArray(c)?c:[c]);const _=(E,P)=>{if(E.size!==P.size)return!1;for(const D of E)if(!P.has(D))return!1;return!0},x=this._delegatedListeners?this._delegatedListeners[m]:void 0;return x&&(E=>{for(let P=0;P<E.length;P++){const D=E[P];if(D.listener===h&&_(D.layers,c)){for(const L in D.delegates)this.off(L,D.delegates[L]);return E.splice(P,1),this}}})(x),this}queryRenderedFeatures(m,c){return this.style?(c!==void 0||m===void 0||m instanceof a.Point||Array.isArray(m)||(c=m,m=void 0),this.style.queryRenderedFeatures(m=m||[[0,0],[this.transform.width,this.transform.height]],c=c||{},this.transform)):[]}querySourceFeatures(m,c){return this.style.querySourceFeatures(m,c)}isPointOnSurface(m){const{name:c}=this.transform.projection;return c!=="globe"&&c!=="mercator"&&a.warnOnce(`${c} projection does not support isPointOnSurface, this API may behave unexpectedly.`),this.transform.isPointOnSurface(a.Point.convert(m))}setStyle(m,c){return(c=a.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},c)).diff!==!1&&c.localIdeographFontFamily===this._localIdeographFontFamily&&c.localFontFamily===this._localFontFamily&&this.style&&m?(this._diffStyle(m,c),this):(this._localIdeographFontFamily=c.localIdeographFontFamily,this._localFontFamily=c.localFontFamily,this._updateStyle(m,c))}_getUIString(m){const c=this._locale[m];if(c==null)throw new Error(`Missing UI string '${m}'`);return c}_updateStyle(m,c){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),m&&(this.style=new Ho(this,c||{}),this.style.setEventedParent(this,{style:this.style}),typeof m=="string"?this.style.loadURL(m):this.style.loadJSON(m)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new Ho(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(m,c){if(typeof m=="string"){const h=this._requestManager.normalizeStyleURL(m),_=this._requestManager.transformRequest(h,a.ResourceType.Style);a.getJSON(_,(x,E)=>{x?this.fire(new a.ErrorEvent(x)):E&&this._updateDiff(E,c)})}else typeof m=="object"&&this._updateDiff(m,c)}_updateDiff(m,c){try{this.style.setState(m)&&this._update(!0)}catch(h){a.warnOnce(`Unable to perform style diff: ${h.message||h.error||h}.  Rebuilding the style from scratch.`),this._updateStyle(m,c)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(a.warnOnce("There is no style added to the map."),!1)}addSource(m,c){return this._lazyInitEmptyStyle(),this.style.addSource(m,c),this._update(!0)}isSourceLoaded(m){return!!this.style&&this.style._isSourceCacheLoaded(m)}areTilesLoaded(){const m=this.style&&this.style._sourceCaches;for(const c in m){const h=m[c]._tiles;for(const _ in h){const x=h[_];if(x.state!=="loaded"&&x.state!=="errored")return!1}}return!0}addSourceType(m,c,h){this._lazyInitEmptyStyle(),this.style.addSourceType(m,c,h)}removeSource(m){return this.style.removeSource(m),this._updateTerrain(),this._update(!0)}getSource(m){return this.style.getSource(m)}addImage(m,c,{pixelRatio:h=1,sdf:_=!1,stretchX:x,stretchY:E,content:P}={}){if(this._lazyInitEmptyStyle(),c instanceof a.window.HTMLImageElement||a.window.ImageBitmap&&c instanceof a.window.ImageBitmap){const{width:D,height:L,data:q}=a.exported.getImageData(c);this.style.addImage(m,{data:new a.RGBAImage({width:D,height:L},q),pixelRatio:h,stretchX:x,stretchY:E,content:P,sdf:_,version:0})}else if(c.width===void 0||c.height===void 0)this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:D,height:L}=c,q=c;this.style.addImage(m,{data:new a.RGBAImage({width:D,height:L},new Uint8Array(q.data)),pixelRatio:h,stretchX:x,stretchY:E,content:P,sdf:_,version:0,userImage:q}),q.onAdd&&q.onAdd(this,m)}}updateImage(m,c){const h=this.style.getImage(m);if(!h)return void this.fire(new a.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const _=c instanceof a.window.HTMLImageElement||a.window.ImageBitmap&&c instanceof a.window.ImageBitmap?a.exported.getImageData(c):c,{width:x,height:E}=_;x!==void 0&&E!==void 0?x===h.data.width&&E===h.data.height?(h.data.replace(_.data,!(c instanceof a.window.HTMLImageElement||a.window.ImageBitmap&&c instanceof a.window.ImageBitmap)),this.style.updateImage(m,h)):this.fire(new a.ErrorEvent(new Error(`The width and height of the updated image (${x}, ${E})
                must be that same as the previous version of the image
                (${h.data.width}, ${h.data.height})`))):this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}hasImage(m){return m?!!this.style.getImage(m):(this.fire(new a.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(m){this.style.removeImage(m)}loadImage(m,c){a.getImage(this._requestManager.transformRequest(m,a.ResourceType.Image),(h,_)=>{c(h,_ instanceof a.window.HTMLImageElement?a.exported.getImageData(_):_)})}listImages(){return this.style.listImages()}addLayer(m,c){return this._lazyInitEmptyStyle(),this.style.addLayer(m,c),this._update(!0)}moveLayer(m,c){return this.style.moveLayer(m,c),this._update(!0)}removeLayer(m){return this.style.removeLayer(m),this._update(!0)}getLayer(m){return this.style.getLayer(m)}setLayerZoomRange(m,c,h){return this.style.setLayerZoomRange(m,c,h),this._update(!0)}setFilter(m,c,h={}){return this.style.setFilter(m,c,h),this._update(!0)}getFilter(m){return this.style.getFilter(m)}setPaintProperty(m,c,h,_={}){return this.style.setPaintProperty(m,c,h,_),this._update(!0)}getPaintProperty(m,c){return this.style.getPaintProperty(m,c)}setLayoutProperty(m,c,h,_={}){return this.style.setLayoutProperty(m,c,h,_),this._update(!0)}getLayoutProperty(m,c){return this.style.getLayoutProperty(m,c)}setLight(m,c={}){return this._lazyInitEmptyStyle(),this.style.setLight(m,c),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(m){return this._lazyInitEmptyStyle(),!m&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(m),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(m){return this._lazyInitEmptyStyle(),this.style.setFog(m),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(m){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(a.LngLat.convert(m),this.transform):0}setFeatureState(m,c){return this.style.setFeatureState(m,c),this._update()}removeFeatureState(m,c){return this.style.removeFeatureState(m,c),this._update()}getFeatureState(m){return this.style.getFeatureState(m)}_updateContainerDimensions(){if(!this._container)return;const m=this._container.getBoundingClientRect().width||400,c=this._container.getBoundingClientRect().height||300;let h,_,x,E=this._container;for(;E&&(!_||!x);){const P=a.window.getComputedStyle(E).transform;P&&P!=="none"&&(h=P.match(/matrix.*\((.+)\)/)[1].split(", "),h[0]&&h[0]!=="0"&&h[0]!=="1"&&(_=h[0]),h[3]&&h[3]!=="0"&&h[3]!=="1"&&(x=h[3])),E=E.parentElement}this._containerWidth=_?Math.abs(m/_):m,this._containerHeight=x?Math.abs(c/x):c}_detectMissingCSS(){a.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&a.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const m=this._container;m.classList.add("mapboxgl-map"),(this._missingCSSCanary=O("div","mapboxgl-canary",m)).style.visibility="hidden",this._detectMissingCSS();const c=this._canvasContainer=O("div","mapboxgl-canvas-container",m);this._interactive&&c.classList.add("mapboxgl-interactive"),this._canvas=O("canvas","mapboxgl-canvas",c),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const h=this._controlContainer=O("div","mapboxgl-control-container",m),_=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(x=>{_[x]=O("div",`mapboxgl-ctrl-${x}`,h)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(m,c){const h=a.exported.devicePixelRatio||1;this._canvas.width=h*Math.ceil(m),this._canvas.height=h*Math.ceil(c),this._canvas.style.width=`${m}px`,this._canvas.style.height=`${c}px`}_addMarker(m){this._markers.push(m)}_removeMarker(m){const c=this._markers.indexOf(m);c!==-1&&this._markers.splice(c,1)}_addPopup(m){this._popups.push(m)}_removePopup(m){const c=this._popups.indexOf(m);c!==-1&&this._popups.splice(c,1)}_setupPainter(){const m=a.extend({},w.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),c=this._useWebGL2&&this._canvas.getContext("webgl2",m),h=c||this._canvas.getContext("webgl",m)||this._canvas.getContext("experimental-webgl",m);h?(this._useWebGL2&&!c&&a.warnOnce("Failed to create WebGL 2 context. Using WebGL 1."),a.storeAuthState(h,!0),this.painter=new ud(h,this.transform,!!c),this.on("data",_=>{_.dataType==="source"&&this.painter.setTileLoadedFlag(!0)}),a.exported$1.testSupport(h)):this.fire(new a.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(m){m.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.Event("webglcontextlost",{originalEvent:m}))}_contextRestored(m){this._setupPainter(),this.resize(),this._update(),this.fire(new a.Event("webglcontextrestored",{originalEvent:m}))}_onMapScroll(m){if(m.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(m){return this.style?(this._styleDirty=this._styleDirty||m,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(m){return this._update(),this._renderTaskQueue.add(m)}_cancelRenderFrame(m){this._renderTaskQueue.remove(m)}_requestDomTask(m){!this.loaded()||this.loaded()&&!this.isMoving()?m():this._domRenderTaskQueue.add(m)}_render(m){let c;const h=this.painter.context.extTimerQuery,_=a.exported.now();if(this.listens("gpu-timing-frame")&&(c=h.createQueryEXT(),h.beginQueryEXT(h.TIME_ELAPSED_EXT,c)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],a.window.performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],a.window.performance.now())),this._renderTaskQueue.run(m),this._domRenderTaskQueue.run(m),this._removed)return;this._updateProjectionTransition();const x=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const D=this.transform.zoom,L=this.transform.pitch,q=a.exported.now(),H=new a.EvaluationParameters(D,{now:q,fadeDuration:x,pitch:L,transition:this.style.getTransition()});this.style.update(H)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let E=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),E=this._updateAverageElevation(_),this.style._updateSources(this.transform),this._forceMarkerAndPopupUpdate()):E=this._updateAverageElevation(_),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,x,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:x,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new a.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new a.Event("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),c){const D=a.exported.now()-_;h.endQueryEXT(h.TIME_ELAPSED_EXT,c),setTimeout(()=>{const L=h.getQueryObjectEXT(c,h.QUERY_RESULT_EXT)/1e6;h.deleteQueryEXT(c),this.fire(new a.Event("gpu-timing-frame",{cpuTime:D,gpuTime:L})),a.window.performance.mark("frame-gpu",{startTime:_,detail:{gpuTime:L}})},50)}if(this.listens("gpu-timing-layer")){const D=this.painter.collectGpuTimers();setTimeout(()=>{const L=this.painter.queryGpuTimers(D);this.fire(new a.Event("gpu-timing-layer",{layerTimes:L}))},50)}if(this.listens("gpu-timing-deferred-render")){const D=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{const L=this.painter.queryGpuTimeDeferredRender(D);this.fire(new a.Event("gpu-timing-deferred-render",{gpuTime:L}))},50)}const P=this._sourcesDirty||this._styleDirty||this._placementDirty||E;if(P||this._repaint)this.triggerRepaint();else{const D=!this.isMoving()&&this.loaded();if(D&&(E=this._updateAverageElevation(_,!0)),E)this.triggerRepaint();else if(this._triggerFrame(!1),D&&(this.fire(new a.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const L=this._calculateSpeedIndex();this.fire(new a.Event("speedindexcompleted",{speedIndex:L})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||P||(this._fullyLoaded=!0,a.LivePerformanceUtils.mark(a.PerformanceMarkers.fullLoad),this._performanceMetricsCollection&&a.postPerformanceEvent(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(m){for(const c of this._markers)m&&!this.getRenderWorldCopies()&&(c._lngLat=c._lngLat.wrap()),c._update();for(const c of this._popups)!m||this.getRenderWorldCopies()||c._trackPointer||(c._lngLat=c._lngLat.wrap()),c._update()}_updateAverageElevation(m,c=!1){const h=_=>(this.transform.averageElevation=_,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return this.transform.averageElevation!==0&&h(0);if((c||m-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(m)){const _=this.transform.averageElevation;let x=this.transform.sampleAverageElevation(),E=!1;this.transform.elevation&&(E=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(x)?x=0:this._averageElevationLastSampledAt=m;const P=Math.abs(_-x);if(P>1){if(this._isInitialLoad||E)return this._averageElevation.jumpTo(x),h(x);this._averageElevation.easeTo(x,m,300)}else if(P>1e-4)return this._averageElevation.jumpTo(x),h(x)}return!!this._averageElevation.isEasing(m)&&h(this._averageElevation.getValue(m))}_authenticate(){a.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,m=>{if(m&&(m.message===a.AUTH_ERR_MSG||m.status===401)){const c=this.painter.context.gl;a.storeAuthState(c,!1),this._logoControl instanceof I1&&this._logoControl._updateLogo(),c&&c.clear(c.DEPTH_BUFFER_BIT|c.COLOR_BUFFER_BIT|c.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new a.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),a.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){const m=this._isDragging();this.painter.updateTerrain(this.style,m)}_calculateSpeedIndex(){const m=this.painter.canvasCopy(),c=this.painter.getCanvasCopiesAndTimestamps();c.timeStamps.push(performance.now());const h=this.painter.context.gl,_=h.createFramebuffer();function x(E){h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,E,0);const P=new Uint8Array(h.drawingBufferWidth*h.drawingBufferHeight*4);return h.readPixels(0,0,h.drawingBufferWidth,h.drawingBufferHeight,h.RGBA,h.UNSIGNED_BYTE,P),P}return h.bindFramebuffer(h.FRAMEBUFFER,_),this._canvasPixelComparison(x(m),c.canvasCopies.map(x),c.timeStamps)}_canvasPixelComparison(m,c,h){let _=h[1]-h[0];const x=m.length/4;for(let E=0;E<c.length;E++){const P=c[E];let D=0;for(let L=0;L<P.length;L+=4)P[L]===m[L]&&P[L+1]===m[L+1]&&P[L+2]===m[L+2]&&P[L+3]===m[L+3]&&(D+=1);_+=(h[E+2]-h[E+1])*(1-D/x)}return _}remove(){this._hash&&this._hash.remove();for(const c of this._controls)c.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),a.window!==void 0&&(a.window.removeEventListener("resize",this._onWindowResize,!1),a.window.removeEventListener("orientationchange",this._onWindowResize,!1),a.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),a.window.removeEventListener("online",this._onWindowOnline,!1),a.window.removeEventListener("visibilitychange",this._onVisibilityChange,!1));const m=this.painter.context.gl.getExtension("WEBGL_lose_context");m&&m.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),a.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new a.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(m){this._renderNextFrame=this._renderNextFrame||m,this.style&&!this._frame&&(this._frame=a.exported.frame(c=>{const h=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,h&&this._render(c)}))}_preloadTiles(m){const c=this.style?Object.values(this.style._sourceCaches):[];return a.asyncAll(c,(h,_)=>h._preloadTiles(m,_),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(m){this._trackResize&&this.resize({originalEvent:m})._update()}_onVisibilityChange(){a.window.document.visibilityState==="hidden"&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(m){this._showTileBoundaries!==m&&(this._showTileBoundaries=m,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(m){this._showTerrainWireframe!==m&&(this._showTerrainWireframe=m,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(m){this._speedIndexTiming!==m&&(this._speedIndexTiming=m,this._update())}get showPadding(){return!!this._showPadding}set showPadding(m){this._showPadding!==m&&(this._showPadding=m,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(m){this._showCollisionBoxes!==m&&(this._showCollisionBoxes=m,m?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(m){this._showOverdrawInspector!==m&&(this._showOverdrawInspector=m,this._update())}get repaint(){return!!this._repaint}set repaint(m){this._repaint!==m&&(this._repaint=m,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(m){this._vertices=m,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(m){this._showTileAABBs!==m&&(this._showTileAABBs=m,m&&this._update())}_setCacheLimits(m,c){a.setCacheLimits(m,c)}get version(){return a.version}},NavigationControl:class{constructor(m){this.options=a.extend({},I3,m),this._container=O("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",c=>c.preventDefault()),this.options.showZoom&&(a.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",c=>{this._map&&this._map.zoomIn({},{originalEvent:c})}),O("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",c=>{this._map&&this._map.zoomOut({},{originalEvent:c})}),O("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(a.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",c=>{const h=this._map;h&&(this.options.visualizePitch?h.resetNorthPitch({},{originalEvent:c}):h.resetNorth({},{originalEvent:c}))}),this._compassIcon=O("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const m=this._map;if(!m)return;const c=m.getZoom(),h=c===m.getMaxZoom(),_=c===m.getMinZoom();this._zoomInButton.disabled=h,this._zoomOutButton.disabled=_,this._zoomInButton.setAttribute("aria-disabled",h.toString()),this._zoomOutButton.setAttribute("aria-disabled",_.toString())}_rotateCompassArrow(){const m=this._map;if(!m)return;const c=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(m.transform.pitch*(Math.PI/180)),.5)}) rotateX(${m.transform.pitch}deg) rotateZ(${m.transform.angle*(180/Math.PI)}deg)`:`rotate(${m.transform.angle*(180/Math.PI)}deg)`;m._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=c)})}onAdd(m){return this._map=m,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),m.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&m.on("pitch",this._rotateCompassArrow),m.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new A3(m,this._compass,this.options.visualizePitch)),this._container}onRemove(){const m=this._map;m&&(this._container.remove(),this.options.showZoom&&m.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&m.off("pitch",this._rotateCompassArrow),m.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(m,c){const h=O("button",m,this._container);return h.type="button",h.addEventListener("click",c),h}_setButtonTitle(m,c){if(!this._map)return;const h=this._map._getUIString(`NavigationControl.${c}`);m.setAttribute("aria-label",h),m.firstElementChild&&m.firstElementChild.setAttribute("title",h)}},GeolocateControl:class extends a.Evented{constructor(m){super(),this.options=a.extend({geolocation:a.window.navigator.geolocation},R1,m),a.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=pd(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(m){return this._map=m,this._container=O("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(m){const c=(h=!!this.options.geolocation)=>{this._supportsGeolocation=h,m(h)};this._supportsGeolocation!==void 0?m(this._supportsGeolocation):a.window.navigator.permissions!==void 0?a.window.navigator.permissions.query({name:"geolocation"}).then(h=>c(h.state!=="denied")).catch(()=>c()):c()}_isOutOfMapMaxBounds(m){const c=this._map.getMaxBounds(),h=m.coords;return!!c&&(h.longitude<c.getWest()||h.longitude>c.getEast()||h.latitude<c.getSouth()||h.latitude>c.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(m){if(this._map){if(this._isOutOfMapMaxBounds(m))return this._setErrorState(),this.fire(new a.Event("outofmaxbounds",m)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=m,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(m),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(m),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("geolocate",m)),this._finish()}}_updateCamera(m){const c=new a.LngLat(m.coords.longitude,m.coords.latitude),h=m.coords.accuracy,_=this._map.getBearing(),x=a.extend({bearing:_},this.options.fitBoundsOptions);this._map.fitBounds(c.toBounds(h),x,{geolocateSource:!0})}_updateMarker(m){if(m){const c=new a.LngLat(m.coords.longitude,m.coords.latitude);this._accuracyCircleMarker.setLngLat(c).addTo(this._map),this._userLocationDotMarker.setLngLat(c).addTo(this._map),this._accuracy=m.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const m=this._map.transform,c=a.mercatorZfromAltitude(1,m._center.lat)*m.worldSize,h=Math.ceil(2*this._accuracy*c);this._circleElement.style.width=`${h}px`,this._circleElement.style.height=`${h}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&typeof this._heading=="number"?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(m){if(this._map){if(this.options.trackUserLocation)if(m.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const c=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",c),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",c),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(m.code===3&&this._noTimeout)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("error",m)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(m){if(this._map!==void 0){if(this._container.addEventListener("contextmenu",c=>c.preventDefault()),this._geolocateButton=O("button","mapboxgl-ctrl-geolocate",this._container),O("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",m===!1){a.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const c=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",c),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",c)}else{const c=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",c),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",c)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=O("div","mapboxgl-user-location"),this._dotElement.appendChild(O("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(O("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new yn({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=O("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new yn({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",c=>{c.geolocateSource||this._watchState!=="ACTIVE_LOCK"||c.originalEvent&&c.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new a.Event("trackuserlocationend")))})}}_onDeviceOrientation(m){this._userLocationDotMarker&&(m.webkitCompassHeading?this._heading=m.webkitCompassHeading:m.absolute===!0&&(this._heading=-1*m.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return a.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new a.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let m;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(m={maximumAge:6e5,timeout:0},this._noTimeout=!0):(m=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,m),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const m=()=>{a.window.addEventListener("ondeviceorientationabsolute"in a.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientation)};a.window.DeviceMotionEvent!==void 0&&typeof a.window.DeviceMotionEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(c=>{c==="granted"&&m()}).catch(console.error):m()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),a.window.removeEventListener("deviceorientation",this._onDeviceOrientation),a.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:Sn,ScaleControl:class{constructor(m){this.options=a.extend({},O1,m),this._isNumberFormatSupported=function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"short",unit:"meter"}),!0}catch{return!1}}(),a.bindAll(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const m=this.options.maxWidth||100,c=this._map,h=c._containerHeight/2,_=c._containerWidth/2-m/2,x=c.unproject([_,h]),E=c.unproject([_+m,h]),P=x.distanceTo(E);if(this.options.unit==="imperial"){const D=3.2808*P;D>5280?this._setScale(m,D/5280,"mile"):this._setScale(m,D,"foot")}else this.options.unit==="nautical"?this._setScale(m,P/1852,"nautical-mile"):P>=1e3?this._setScale(m,P/1e3,"kilometer"):this._setScale(m,P,"meter")}_setScale(m,c,h){this._map._requestDomTask(()=>{const _=function(E){const P=Math.pow(10,`${Math.floor(E)}`.length-1);let D=E/P;return D=D>=10?10:D>=5?5:D>=3?3:D>=2?2:D>=1?1:function(L){const q=Math.pow(10,Math.ceil(-Math.log(L)/Math.LN10));return Math.round(L*q)/q}(D),P*D}(c),x=_/c;this._container.innerHTML=this._isNumberFormatSupported&&h!=="nautical-mile"?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"short",unit:h}).format(_):`${_}&nbsp;${L1[h]}`,this._container.style.width=m*x+"px"})}onAdd(m){return this._map=m,this._language=m.getLanguage(),this._container=O("div","mapboxgl-ctrl mapboxgl-ctrl-scale",m.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(m){this._language=m,this._update()}setUnit(m){this.options.unit=m,this._update()}},FullscreenControl:class{constructor(m){this._fullscreen=!1,m&&m.container&&(m.container instanceof a.window.HTMLElement?this._container=m.container:a.warnOnce("Full screen control 'container' must be a DOM element.")),a.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in a.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in a.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(m){return this._map=m,this._container||(this._container=this._map.getContainer()),this._controlContainer=O("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",a.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,a.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!a.window.document.fullscreenEnabled&&!a.window.document.webkitFullscreenEnabled)}_setupUI(){const m=this._fullscreenButton=O("button","mapboxgl-ctrl-fullscreen",this._controlContainer);O("span","mapboxgl-ctrl-icon",m).setAttribute("aria-hidden","true"),m.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),a.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const m=this._getTitle();this._fullscreenButton.setAttribute("aria-label",m),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",m)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(a.window.document.fullscreenElement||a.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?a.window.document.exitFullscreen?a.window.document.exitFullscreen():a.window.document.webkitCancelFullScreen&&a.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends a.Evented{constructor(m){super(),this.options=a.extend(Object.create(M1),m),a.bindAll(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(m&&m.className?m.className.trim().split(/\s+/):[])}addTo(m){return this._map&&this.remove(),this._map=m,this.options.closeOnClick&&m.on("preclick",this._onClose),this.options.closeOnMove&&m.on("move",this._onClose),m.on("remove",this.remove),this._update(),m._addPopup(this),this._focusFirstElement(),this._trackPointer?(m.on("mousemove",this._onMouseEvent),m.on("mouseup",this._onMouseEvent),m._canvasContainer.classList.add("mapboxgl-track-pointer")):m.on("move",this._update),this.fire(new a.Event("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const m=this._map;return m&&(m.off("move",this._update),m.off("move",this._onClose),m.off("preclick",this._onClose),m.off("click",this._onClose),m.off("remove",this.remove),m.off("mousemove",this._onMouseEvent),m.off("mouseup",this._onMouseEvent),m.off("drag",this._onMouseEvent),m._canvasContainer&&m._canvasContainer.classList.remove("mapboxgl-track-pointer"),m._removePopup(this),this._map=void 0),this.fire(new a.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(m){this._lngLat=a.LngLat.convert(m),this._pos=null,this._trackPointer=!1,this._update();const c=this._map;return c&&(c.on("move",this._update),c.off("mousemove",this._onMouseEvent),c._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const m=this._map;return m&&(m.off("move",this._update),m.on("mousemove",this._onMouseEvent),m.on("drag",this._onMouseEvent),m._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(m){return this.setDOMContent(a.window.document.createTextNode(m))}setHTML(m){const c=a.window.document.createDocumentFragment(),h=a.window.document.createElement("body");let _;for(h.innerHTML=m;_=h.firstChild,_;)c.appendChild(_);return this.setDOMContent(c)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(m){return this.options.maxWidth=m,this._update(),this}setDOMContent(m){let c=this._content;if(c)for(;c.hasChildNodes();)c.firstChild&&c.removeChild(c.firstChild);else c=this._content=O("div","mapboxgl-popup-content",this._container||void 0);if(c.appendChild(m),this.options.closeButton){const h=this._closeButton=O("button","mapboxgl-popup-close-button",c);h.type="button",h.setAttribute("aria-label","Close popup"),h.setAttribute("aria-hidden","true"),h.innerHTML="&#215;",h.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(m){return this._classList.add(m),this._updateClassList(),this}removeClassName(m){return this._classList.delete(m),this._updateClassList(),this}setOffset(m){return this.options.offset=m,this._update(),this}toggleClassName(m){let c;return this._classList.delete(m)?c=!1:(this._classList.add(m),c=!0),this._updateClassList(),c}_onMouseEvent(m){this._update(m.point)}_getAnchor(m){if(this.options.anchor)return this.options.anchor;const c=this._map,h=this._container,_=this._pos;if(!c||!h||!_)return"bottom";const x=h.offsetWidth,E=h.offsetHeight,P=_.x<x/2,D=_.x>c.transform.width-x/2;if(_.y+m<E)return P?"top-left":D?"top-right":"top";if(_.y>c.transform.height-E){if(P)return"bottom-left";if(D)return"bottom-right"}return P?"left":D?"right":"bottom"}_updateClassList(){const m=this._container;if(!m)return;const c=[...this._classList];c.push("mapboxgl-popup"),this._anchor&&c.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&c.push("mapboxgl-popup-track-pointer"),m.className=c.join(" ")}_update(m){const c=this._map,h=this._content;if(!c||!this._lngLat&&!this._trackPointer||!h)return;let _=this._container;if(_||(_=this._container=O("div","mapboxgl-popup",c.getContainer()),this._tip=O("div","mapboxgl-popup-tip",_),_.appendChild(h)),this.options.maxWidth&&_.style.maxWidth!==this.options.maxWidth&&(_.style.maxWidth=this.options.maxWidth),c.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=gd(this._lngLat,this._pos,c.transform)),!this._trackPointer||m){const x=this._pos=this._trackPointer&&m?m:c.project(this._lngLat),E=cy(this.options.offset),P=this._anchor=this._getAnchor(E.y),D=cy(this.options.offset,P),L=x.add(D).round();c._requestDomTask(()=>{this._container&&P&&(this._container.style.transform=`${xu[P]} translate(${L.x}px,${L.y}px)`)})}if(!this._marker&&c._showingGlobe()){const x=a.isLngLatBehindGlobe(c.transform,this._lngLat)?0:1;this._setOpacity(x)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const m=this._container.querySelector(P3);m&&m.focus()}_onClose(){this.remove()}_setOpacity(m){this._container&&(this._container.style.opacity=`${m}`),this._content&&(this._content.style.pointerEvents=m?"auto":"none")}},Marker:yn,Style:Ho,LngLat:a.LngLat,LngLatBounds:a.LngLatBounds,Point:a.Point,MercatorCoordinate:a.MercatorCoordinate,FreeCameraOptions:Z_,Evented:a.Evented,config:a.config,prewarm:function(){pn().acquire(Ce)},clearPrewarmedResources:function(){const m=Ut;m&&(m.isPreloaded()&&m.numActive()===1?(m.release(Ce),Ut=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return a.config.ACCESS_TOKEN},set accessToken(m){a.config.ACCESS_TOKEN=m},get baseApiUrl(){return a.config.API_URL},set baseApiUrl(m){a.config.API_URL=m},get workerCount(){return ft.workerCount},set workerCount(m){ft.workerCount=m},get maxParallelImageRequests(){return a.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(m){a.config.MAX_PARALLEL_IMAGE_REQUESTS=m},clearStorage(m){a.clearTileCache(m)},workerUrl:"",workerClass:null,setNow:a.exported.setNow,restoreNow:a.exported.restoreNow};return _d});var f=o;return f})})(OR);var WH=OR.exports;const ds=Np(WH);var zR={exports:{}},HH="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",qH=HH,GH=qH;function FR(){}function NR(){}NR.resetWarningCache=FR;var ZH=function(){function e(i,o,u,f,a,y){if(y!==GH){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:NR,resetWarningCache:FR};return n.PropTypes=n,n};zR.exports=ZH();var bs=zR.exports;const Se=Np(bs);var Qo=globalThis&&globalThis.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var i=0,o=t.length,u;i<o;i++)(u||!(i in t))&&(u||(u=Array.prototype.slice.call(t,0,i)),u[i]=t[i]);return e.concat(u||Array.prototype.slice.call(t))},XH=["onCopy","onCut","onPaste"],KH=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],YH=["onFocus","onBlur"],JH=["onInput","onInvalid","onReset","onSubmit"],QH=["onLoad","onError"],eq=["onKeyDown","onKeyPress","onKeyUp"],tq=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],nq=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],rq=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],iq=["onSelect"],oq=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],aq=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],sq=["onScroll"],lq=["onWheel"],cq=["onAnimationStart","onAnimationEnd","onAnimationIteration"],uq=["onTransitionEnd"],dq=["onToggle"],hq=["onChange"],pq=Qo(Qo(Qo(Qo(Qo(Qo(Qo(Qo(Qo(Qo(Qo(Qo(Qo(Qo(Qo(Qo(Qo(Qo([],XH,!0),KH,!0),YH,!0),JH,!0),QH,!0),eq,!0),tq,!0),nq,!0),rq,!0),iq,!0),oq,!0),aq,!0),sq,!0),lq,!0),cq,!0),uq,!0),hq,!0),dq,!0);function fq(e,t){var n={};return pq.forEach(function(i){var o=e[i];o&&(t?n[i]=function(u){return o(u,t(i))}:n[i]=o)}),n}function BR(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=BR(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function f6(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=BR(e))&&(i&&(i+=" "),i+=t);return i}function jR(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=jR(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function Qx(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=jR(e))&&(i&&(i+=" "),i+=t);return i}var mq="Expected a function",$R="__lodash_hash_undefined__",gq="[object Function]",_q="[object GeneratorFunction]",yq=/[\\^$.*+?()[\]{}|]/g,vq=/^\[object .+?Constructor\]$/,xq=typeof En=="object"&&En&&En.Object===Object&&En,bq=typeof self=="object"&&self&&self.Object===Object&&self,UR=xq||bq||Function("return this")();function wq(e,t){return e==null?void 0:e[t]}function Eq(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}var Sq=Array.prototype,Tq=Function.prototype,VR=Object.prototype,m6=UR["__core-js_shared__"],Hk=function(){var e=/[^.]+$/.exec(m6&&m6.keys&&m6.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),WR=Tq.toString,$7=VR.hasOwnProperty,Cq=VR.toString,kq=RegExp("^"+WR.call($7).replace(yq,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pq=Sq.splice,Iq=HR(UR,"Map"),Fg=HR(Object,"create");function Cp(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Aq(){this.__data__=Fg?Fg(null):{}}function Mq(e){return this.has(e)&&delete this.__data__[e]}function Dq(e){var t=this.__data__;if(Fg){var n=t[e];return n===$R?void 0:n}return $7.call(t,e)?t[e]:void 0}function Rq(e){var t=this.__data__;return Fg?t[e]!==void 0:$7.call(t,e)}function Oq(e,t){var n=this.__data__;return n[e]=Fg&&t===void 0?$R:t,this}Cp.prototype.clear=Aq;Cp.prototype.delete=Mq;Cp.prototype.get=Dq;Cp.prototype.has=Rq;Cp.prototype.set=Oq;function J0(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Lq(){this.__data__=[]}function zq(e){var t=this.__data__,n=eb(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():Pq.call(t,n,1),!0}function Fq(e){var t=this.__data__,n=eb(t,e);return n<0?void 0:t[n][1]}function Nq(e){return eb(this.__data__,e)>-1}function Bq(e,t){var n=this.__data__,i=eb(n,e);return i<0?n.push([e,t]):n[i][1]=t,this}J0.prototype.clear=Lq;J0.prototype.delete=zq;J0.prototype.get=Fq;J0.prototype.has=Nq;J0.prototype.set=Bq;function $p(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function jq(){this.__data__={hash:new Cp,map:new(Iq||J0),string:new Cp}}function $q(e){return tb(this,e).delete(e)}function Uq(e){return tb(this,e).get(e)}function Vq(e){return tb(this,e).has(e)}function Wq(e,t){return tb(this,e).set(e,t),this}$p.prototype.clear=jq;$p.prototype.delete=$q;$p.prototype.get=Uq;$p.prototype.has=Vq;$p.prototype.set=Wq;function eb(e,t){for(var n=e.length;n--;)if(Xq(e[n][0],t))return n;return-1}function Hq(e){if(!qR(e)||Gq(e))return!1;var t=Kq(e)||Eq(e)?kq:vq;return t.test(Zq(e))}function tb(e,t){var n=e.__data__;return qq(t)?n[typeof t=="string"?"string":"hash"]:n.map}function HR(e,t){var n=wq(e,t);return Hq(n)?n:void 0}function qq(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Gq(e){return!!Hk&&Hk in e}function Zq(e){if(e!=null){try{return WR.call(e)}catch{}try{return e+""}catch{}}return""}function U7(e,t){if(typeof e!="function"||t&&typeof t!="function")throw new TypeError(mq);var n=function(){var i=arguments,o=t?t.apply(this,i):i[0],u=n.cache;if(u.has(o))return u.get(o);var f=e.apply(this,i);return n.cache=u.set(o,f),f};return n.cache=new(U7.Cache||$p),n}U7.Cache=$p;function Xq(e,t){return e===t||e!==e&&t!==t}function Kq(e){var t=qR(e)?Cq.call(e):"";return t==gq||t==_q}function qR(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}var Yq=U7;const GR=Np(Yq);function ZR(e){return JSON.stringify(e)}function Jq(e){return typeof e=="string"}function Qq(e,t,n){return n.indexOf(e)===t}function eG(e){return e.toLowerCase()===e}function qk(e){return e.indexOf(",")===-1?e:e.split(",")}function T5(e){if(!e)return e;if(e==="C"||e==="posix"||e==="POSIX")return"en-US";if(e.indexOf(".")!==-1){var t=e.split(".")[0],n=t===void 0?"":t;return T5(n)}if(e.indexOf("@")!==-1){var i=e.split("@")[0],n=i===void 0?"":i;return T5(n)}if(e.indexOf("-")===-1||!eG(e))return e;var o=e.split("-"),u=o[0],f=o[1],a=f===void 0?"":f;return"".concat(u,"-").concat(a.toUpperCase())}function tG(e){var t=e===void 0?{}:e,n=t.useFallbackLocale,i=n===void 0?!0:n,o=t.fallbackLocale,u=o===void 0?"en-US":o,f=[];if(typeof navigator<"u"){for(var a=navigator.languages||[],y=[],w=0,k=a;w<k.length;w++){var M=k[w];y=y.concat(qk(M))}var O=navigator.language,$=O&&qk(O);f=f.concat(y,$)}return i&&f.push(u),f.filter(Jq).map(T5).filter(Qq)}var XR=GR(tG,ZR);function nG(e){return XR(e)[0]||null}var V7=GR(nG,ZR);const x_=V7,rG=Object.freeze(Object.defineProperty({__proto__:null,default:x_,getUserLocale:V7,getUserLocales:XR},Symbol.toStringTag,{value:"Module"}));function kl(e,t,n){return function(o,u){u===void 0&&(u=n);var f=e(o)+u;return t(f)}}function b_(e){return function(n){return new Date(e(n).getTime()-1)}}function w_(e,t){return function(i){return[e(i),t(i)]}}function ti(e){if(e instanceof Date)return e.getFullYear();if(typeof e=="number")return e;var t=parseInt(e,10);if(typeof e=="string"&&!isNaN(t))return t;throw new Error("Failed to get year from date: ".concat(e,"."))}function Ju(e){if(e instanceof Date)return e.getMonth();throw new Error("Failed to get month from date: ".concat(e,"."))}function E_(e){if(e instanceof Date)return e.getMonth()+1;throw new Error("Failed to get human-readable month from date: ".concat(e,"."))}function xh(e){if(e instanceof Date)return e.getDate();throw new Error("Failed to get year from date: ".concat(e,"."))}function uh(e){if(e instanceof Date)return e.getHours();if(typeof e=="string"){var t=e.split(":");if(t.length>=2){var n=t[0];if(n){var i=parseInt(n,10);if(!isNaN(i))return i}}}throw new Error("Failed to get hours from date: ".concat(e,"."))}function fp(e){if(e instanceof Date)return e.getMinutes();if(typeof e=="string"){var t=e.split(":");if(t.length>=2){var n=t[1]||"0",i=parseInt(n,10);if(!isNaN(i))return i}}throw new Error("Failed to get minutes from date: ".concat(e,"."))}function _0(e){if(e instanceof Date)return e.getSeconds();if(typeof e=="string"){var t=e.split(":");if(t.length>=2){var n=t[2]||"0",i=parseInt(n,10);if(!isNaN(i))return i}}throw new Error("Failed to get seconds from date: ".concat(e,"."))}function Q0(e){var t=ti(e),n=t+(-t+1)%100,i=new Date;return i.setFullYear(n,0,1),i.setHours(0,0,0,0),i}var KR=kl(ti,Q0,-100),W7=kl(ti,Q0,100),S_=b_(W7),YR=kl(ti,S_,-100),iG=kl(ti,S_,100),H7=w_(Q0,S_);function bh(e){var t=ti(e),n=t+(-t+1)%10,i=new Date;return i.setFullYear(n,0,1),i.setHours(0,0,0,0),i}var q7=kl(ti,bh,-10),nb=kl(ti,bh,10),e1=b_(nb),G7=kl(ti,e1,-10),oG=kl(ti,e1,10),Z7=w_(bh,e1);function t1(e){var t=ti(e),n=new Date;return n.setFullYear(t,0,1),n.setHours(0,0,0,0),n}var X7=kl(ti,t1,-1),rb=kl(ti,t1,1),n1=b_(rb),K7=kl(ti,n1,-1),aG=kl(ti,n1,1),JR=w_(t1,n1);function ib(e,t){return function(i,o){o===void 0&&(o=t);var u=ti(i),f=Ju(i)+o,a=new Date;return a.setFullYear(u,f,1),a.setHours(0,0,0,0),e(a)}}function Up(e){var t=ti(e),n=Ju(e),i=new Date;return i.setFullYear(t,n,1),i.setHours(0,0,0,0),i}var Y7=ib(Up,-1),ob=ib(Up,1),Vp=b_(ob),J7=ib(Vp,-1),sG=ib(Vp,1),QR=w_(Up,Vp);function ab(e,t){return function(i,o){o===void 0&&(o=t);var u=ti(i),f=Ju(i),a=xh(i)+o,y=new Date;return y.setFullYear(u,f,a),y.setHours(0,0,0,0),e(y)}}function r1(e){var t=ti(e),n=Ju(e),i=xh(e),o=new Date;return o.setFullYear(t,n,i),o.setHours(0,0,0,0),o}var lG=ab(r1,-1),eO=ab(r1,1),i1=b_(eO),cG=ab(i1,-1),uG=ab(i1,1),tO=w_(r1,i1);function Q7(e){return xh(Vp(e))}function Kc(e,t){t===void 0&&(t=2);var n="".concat(e);return n.length>=t?e:"0000".concat(n).slice(-t)}function nO(e){var t=Kc(uh(e)),n=Kc(fp(e));return"".concat(t,":").concat(n)}function V2(e){var t=Kc(uh(e)),n=Kc(fp(e)),i=Kc(_0(e));return"".concat(t,":").concat(n,":").concat(i)}function dG(e){var t=Kc(ti(e),4),n=Kc(E_(e));return"".concat(t,"-").concat(n)}function W2(e){var t=Kc(ti(e),4),n=Kc(E_(e)),i=Kc(xh(e));return"".concat(t,"-").concat(n,"-").concat(i)}function rO(e){return"".concat(W2(e),"T").concat(V2(e))}const hG=Object.freeze(Object.defineProperty({__proto__:null,getCenturyEnd:S_,getCenturyRange:H7,getCenturyStart:Q0,getDate:xh,getDayEnd:i1,getDayRange:tO,getDayStart:r1,getDaysInMonth:Q7,getDecadeEnd:e1,getDecadeRange:Z7,getDecadeStart:bh,getHours:uh,getHoursMinutes:nO,getHoursMinutesSeconds:V2,getISOLocalDate:W2,getISOLocalDateTime:rO,getISOLocalMonth:dG,getMinutes:fp,getMonth:Ju,getMonthEnd:Vp,getMonthHuman:E_,getMonthRange:QR,getMonthStart:Up,getNextCenturyEnd:iG,getNextCenturyStart:W7,getNextDayEnd:uG,getNextDayStart:eO,getNextDecadeEnd:oG,getNextDecadeStart:nb,getNextMonthEnd:sG,getNextMonthStart:ob,getNextYearEnd:aG,getNextYearStart:rb,getPreviousCenturyEnd:YR,getPreviousCenturyStart:KR,getPreviousDayEnd:cG,getPreviousDayStart:lG,getPreviousDecadeEnd:G7,getPreviousDecadeStart:q7,getPreviousMonthEnd:J7,getPreviousMonthStart:Y7,getPreviousYearEnd:K7,getPreviousYearStart:X7,getSeconds:_0,getYear:ti,getYearEnd:n1,getYearRange:JR,getYearStart:t1},Symbol.toStringTag,{value:"Module"}));var Cm,Bi={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},n0={ARABIC:"Arabic",HEBREW:"Hebrew",ISO_8601:"ISO 8601",US:"US"},pG=(Cm={},Cm[Bi.GREGORY]=["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],Cm[Bi.HEBREW]=["he","he-IL"],Cm[Bi.ISLAMIC]=["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"],Cm),e9=[0,1,2,3,4,5,6],g6=new Map;function fG(e){return function(n,i){var o=n||x_();g6.has(o)||g6.set(o,new Map);var u=g6.get(o);return u.has(e)||u.set(e,new Intl.DateTimeFormat(o||void 0,e).format),u.get(e)(i)}}function mG(e){var t=new Date(e);return new Date(t.setHours(12))}function Wp(e){return function(t,n){return fG(e)(t,mG(n))}}var gG={day:"numeric"},_G={day:"numeric",month:"long",year:"numeric"},yG={month:"long"},vG={month:"long",year:"numeric"},xG={weekday:"short"},bG={weekday:"long"},wG={year:"numeric"},EG=Wp(gG),SG=Wp(_G),TG=Wp(yG),iO=Wp(vG),CG=Wp(xG),kG=Wp(bG),sb=Wp(wG),PG=e9[0],IG=e9[5],Gk=e9[6];function Ng(e,t){t===void 0&&(t=Bi.ISO_8601);var n=e.getDay();switch(t){case Bi.ISO_8601:return(n+6)%7;case Bi.ISLAMIC:return(n+1)%7;case Bi.HEBREW:case Bi.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function AG(e){var t=Q0(e);return ti(t)}function MG(e){var t=bh(e);return ti(t)}function C5(e,t){t===void 0&&(t=Bi.ISO_8601);var n=ti(e),i=Ju(e),o=e.getDate()-Ng(e,t);return new Date(n,i,o)}function DG(e,t){t===void 0&&(t=Bi.ISO_8601);var n=t===Bi.GREGORY?Bi.GREGORY:Bi.ISO_8601,i=C5(e,t),o=ti(e)+1,u,f;do u=new Date(o,0,n===Bi.ISO_8601?4:1),f=C5(u,t),o-=1;while(e<f);return Math.round((i.getTime()-f.getTime())/(864e5*7))+1}function mp(e,t){switch(e){case"century":return Q0(t);case"decade":return bh(t);case"year":return t1(t);case"month":return Up(t);case"day":return r1(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function RG(e,t){switch(e){case"century":return KR(t);case"decade":return q7(t);case"year":return X7(t);case"month":return Y7(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function oO(e,t){switch(e){case"century":return W7(t);case"decade":return nb(t);case"year":return rb(t);case"month":return ob(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function OG(e,t){switch(e){case"decade":return q7(t,-100);case"year":return X7(t,-10);case"month":return Y7(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}function LG(e,t){switch(e){case"decade":return nb(t,100);case"year":return rb(t,10);case"month":return ob(t,12);default:throw new Error("Invalid rangeType: ".concat(e))}}function aO(e,t){switch(e){case"century":return S_(t);case"decade":return e1(t);case"year":return n1(t);case"month":return Vp(t);case"day":return i1(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function zG(e,t){switch(e){case"century":return YR(t);case"decade":return G7(t);case"year":return K7(t);case"month":return J7(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function FG(e,t){switch(e){case"decade":return G7(t,-100);case"year":return K7(t,-10);case"month":return J7(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}function Zk(e,t){switch(e){case"century":return H7(t);case"decade":return Z7(t);case"year":return JR(t);case"month":return QR(t);case"day":return tO(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function NG(e,t,n){var i=[t,n].sort(function(o,u){return o.getTime()-u.getTime()});return[mp(e,i[0]),aO(e,i[1])]}function sO(e,t,n){return t===void 0&&(t=sb),n.map(function(i){return t(e,i)}).join(" – ")}function BG(e,t,n){return sO(e,t,H7(n))}function lO(e,t,n){return sO(e,t,Z7(n))}function jG(e){return e.getDay()===new Date().getDay()}function cO(e,t){t===void 0&&(t=Bi.ISO_8601);var n=e.getDay();switch(t){case Bi.ISLAMIC:case Bi.HEBREW:return n===IG||n===Gk;case Bi.ISO_8601:case Bi.GREGORY:return n===Gk||n===PG;default:throw new Error("Unsupported calendar type.")}}var Xk=globalThis&&globalThis.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var i=0,o=t.length,u;i<o;i++)(u||!(i in t))&&(u||(u=Array.prototype.slice.call(t,0,i)),u[i]=t[i]);return e.concat(u||Array.prototype.slice.call(t))},$G=Object.values(Bi),UG=Object.values(n0),k5=["century","decade","year","month"],T_=Se.oneOf(Xk(Xk([],$G,!0),UG,!0)),H2=Se.oneOfType([Se.string,Se.arrayOf(Se.string)]),t9=function(t,n,i){var o=t,u=n,f=o[u];if(!f)return null;if(!(f instanceof Date))return new Error("Invalid prop `".concat(n,"` of type `").concat(typeof f,"` supplied to `").concat(i,"`, expected instance of `Date`."));var a=t.maxDate;return a&&f>a?new Error("Invalid prop `".concat(n,"` of type `").concat(typeof f,"` supplied to `").concat(i,"`, minDate cannot be larger than maxDate.")):null},n9=function(t,n,i){var o=t,u=n,f=o[u];if(!f)return null;if(!(f instanceof Date))return new Error("Invalid prop `".concat(n,"` of type `").concat(typeof f,"` supplied to `").concat(i,"`, expected instance of `Date`."));var a=t.minDate;return a&&f<a?new Error("Invalid prop `".concat(n,"` of type `").concat(typeof f,"` supplied to `").concat(i,"`, maxDate cannot be smaller than minDate.")):null},VG=Se.oneOfType([Se.func,Se.exact({current:Se.any})]),WG=Se.oneOfType([Se.instanceOf(Date),Se.arrayOf(Se.instanceOf(Date))]),HG=Se.arrayOf(Se.oneOf(k5)),Bg=function(t,n,i){var o=t,u=n,f=o[u];return f!==void 0&&(typeof f!="string"||k5.indexOf(f)===-1)?new Error("Invalid prop `".concat(n,"` of value `").concat(f,"` supplied to `").concat(i,"`, expected one of [").concat(k5.map(function(a){return'"'.concat(a,'"')}).join(", "),"].")):null};Bg.isRequired=function(t,n,i,o,u){var f=t,a=n,y=f[a];return y?Bg(t,n,i):new Error("The prop `".concat(n,"` is marked as required in `").concat(i,"`, but its value is `").concat(y,"`."))};var qG=function(e){return Se.arrayOf(e)},o1={activeStartDate:Se.instanceOf(Date).isRequired,hover:Se.instanceOf(Date),locale:Se.string,maxDate:n9,minDate:t9,onClick:Se.func,onMouseOver:Se.func,tileClassName:Se.oneOfType([Se.func,H2]),tileContent:Se.oneOfType([Se.func,Se.node]),value:WG,valueType:Se.string},C_={activeStartDate:Se.instanceOf(Date).isRequired,classes:Se.arrayOf(Se.string).isRequired,date:Se.instanceOf(Date).isRequired,locale:Se.string,maxDate:n9,minDate:t9,onClick:Se.func,onMouseOver:Se.func,style:Se.objectOf(Se.oneOfType([Se.string,Se.number])),tileClassName:Se.oneOfType([Se.func,H2]),tileContent:Se.oneOfType([Se.func,Se.node]),tileDisabled:Se.func},Bc="react-calendar__navigation";function uO(e){var t=e.activeStartDate,n=e.drillUp,i=e.formatMonthYear,o=i===void 0?iO:i,u=e.formatYear,f=u===void 0?sb:u,a=e.locale,y=e.maxDate,w=e.minDate,k=e.navigationAriaLabel,M=k===void 0?"":k,O=e.navigationAriaLive,$=e.navigationLabel,N=e.next2AriaLabel,B=N===void 0?"":N,J=e.next2Label,U=J===void 0?"»":J,G=e.nextAriaLabel,Z=G===void 0?"":G,Q=e.nextLabel,se=Q===void 0?"›":Q,ce=e.prev2AriaLabel,A=ce===void 0?"":ce,_e=e.prev2Label,le=_e===void 0?"«":_e,ve=e.prevAriaLabel,Ue=ve===void 0?"":ve,$e=e.prevLabel,Ae=$e===void 0?"‹":$e,Re=e.setActiveStartDate,Oe=e.showDoubleView,Ye=e.view,Qe=e.views,ze=Qe.indexOf(Ye)>0,Pe=Ye!=="century",je=RG(Ye,t),lt=Pe?OG(Ye,t):void 0,ot=oO(Ye,t),ct=Pe?LG(Ye,t):void 0,Ct=function(){if(je.getFullYear()<0)return!0;var jt=zG(Ye,t);return w&&w>=jt}(),ut=Pe&&function(){if(lt.getFullYear()<0)return!0;var jt=FG(Ye,t);return w&&w>=jt}(),yt=y&&y<ot,Dt=Pe&&y&&y<ct;function Rt(){Re(je,"prev")}function St(){Re(lt,"prev2")}function Qt(){Re(ot,"next")}function Lt(){Re(ct,"next2")}function qt(jt){var vt=function(){switch(Ye){case"century":return BG(a,f,jt);case"decade":return lO(a,f,jt);case"year":return f(a,jt);case"month":return o(a,jt);default:throw new Error("Invalid view: ".concat(Ye,"."))}}();return $?$({date:jt,label:vt,locale:a||V7()||void 0,view:Ye}):vt}function an(){var jt="".concat(Bc,"__label");return Zt.createElement("button",{"aria-label":M,"aria-live":O,className:jt,disabled:!ze,onClick:n,style:{flexGrow:1},type:"button"},Zt.createElement("span",{className:"".concat(jt,"__labelText ").concat(jt,"__labelText--from")},qt(t)),Oe?Zt.createElement(Zt.Fragment,null,Zt.createElement("span",{className:"".concat(jt,"__divider")}," – "),Zt.createElement("span",{className:"".concat(jt,"__labelText ").concat(jt,"__labelText--to")},qt(ot))):null)}return Zt.createElement("div",{className:Bc},le!==null&&Pe?Zt.createElement("button",{"aria-label":A,className:"".concat(Bc,"__arrow ").concat(Bc,"__prev2-button"),disabled:ut,onClick:St,type:"button"},le):null,Ae!==null&&Zt.createElement("button",{"aria-label":Ue,className:"".concat(Bc,"__arrow ").concat(Bc,"__prev-button"),disabled:Ct,onClick:Rt,type:"button"},Ae),an(),se!==null&&Zt.createElement("button",{"aria-label":Z,className:"".concat(Bc,"__arrow ").concat(Bc,"__next-button"),disabled:yt,onClick:Qt,type:"button"},se),U!==null&&Pe?Zt.createElement("button",{"aria-label":B,className:"".concat(Bc,"__arrow ").concat(Bc,"__next2-button"),disabled:Dt,onClick:Lt,type:"button"},U):null)}uO.propTypes={activeStartDate:Se.instanceOf(Date).isRequired,drillUp:Se.func.isRequired,formatMonthYear:Se.func,formatYear:Se.func,locale:Se.string,maxDate:Se.instanceOf(Date),minDate:Se.instanceOf(Date),navigationAriaLabel:Se.string,navigationAriaLive:Se.string,navigationLabel:Se.func,next2AriaLabel:Se.string,next2Label:Se.node,nextAriaLabel:Se.string,nextLabel:Se.node,prev2AriaLabel:Se.string,prev2Label:Se.node,prevAriaLabel:Se.string,prevLabel:Se.node,setActiveStartDate:Se.func.isRequired,showDoubleView:Se.bool,view:Bg.isRequired,views:HG.isRequired};var r0=globalThis&&globalThis.__assign||function(){return r0=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},r0.apply(this,arguments)},GG=globalThis&&globalThis.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n};function Kk(e){return"".concat(e,"%")}function lb(e){var t=e.children,n=e.className,i=e.count,o=e.direction,u=e.offset,f=e.style,a=e.wrap,y=GG(e,["children","className","count","direction","offset","style","wrap"]);return Zt.createElement("div",r0({className:n,style:r0({display:"flex",flexDirection:o,flexWrap:a?"wrap":"nowrap"},f)},y),Zt.Children.map(t,function(w,k){var M=u&&k===0?Kk(100*u/i):null;return Zt.cloneElement(w,r0(r0({},w.props),{style:{flexBasis:Kk(100/i),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:M,marginInlineStart:M,marginInlineEnd:0}}))}))}lb.propTypes={children:Se.node,className:Se.string,count:Se.number.isRequired,direction:Se.string,offset:Se.number,style:Se.objectOf(Se.oneOfType([Se.string,Se.number])),wrap:Se.bool};var ZG=!0;function P5(e,t){if(!ZG){if(e)return;var n="Warning: "+t;typeof console<"u"&&console.warn(n);try{throw Error(n)}catch{}}}var Of;function XG(e,t,n){return t&&t>e?t:n&&n<e?n:e}function jg(e,t){return t[0]<=e&&t[1]>=e}function KG(e,t){return e[0]<=t[0]&&e[1]>=t[1]}function dO(e,t){return jg(e[0],t)||jg(e[1],t)}function Yk(e,t,n){var i=dO(t,e),o=[];if(i){o.push(n);var u=jg(e[0],t),f=jg(e[1],t);u&&o.push("".concat(n,"Start")),f&&o.push("".concat(n,"End")),u&&f&&o.push("".concat(n,"BothEnds"))}return o}function YG(e){if(!e)throw new Error("args is required");var t=e.value,n=e.date,i=e.hover,o="react-calendar__tile",u=[o];if(!n)return u;var f=new Date,a=function(){if(Array.isArray(n))return n;var $=e.dateType;if(!$)throw new Error("dateType is required when date is not an array of two dates");return Zk($,n)}();if(jg(f,a)&&u.push("".concat(o,"--now")),!t)return u;var y=function(){if(Array.isArray(t))return t;var $=e.valueType;if(!$)throw new Error("valueType is required when value is not an array of two dates");return Zk($,t)}();KG(y,a)?u.push("".concat(o,"--active")):dO(y,a)&&u.push("".concat(o,"--hasActive"));var w=Yk(y,a,"".concat(o,"--range"));u.push.apply(u,w);var k=Array.isArray(t)?t:[t];if(i&&k.length===1){var M=i>y[0]?[y[0],i]:[i,y[0]],O=Yk(M,a,"".concat(o,"--hover"));u.push.apply(u,O)}return u}var JG=(Of={},Of[n0.ARABIC]=Bi.ISLAMIC,Of[n0.HEBREW]=Bi.HEBREW,Of[n0.ISO_8601]=Bi.ISO_8601,Of[n0.US]=Bi.GREGORY,Of);function QG(e){return e!==void 0&&e in n0}var Jk=!1;function cb(e){if(QG(e)){var t=JG[e];return P5(Jk,'Specifying calendarType="'.concat(e,'" is deprecated. Use calendarType="').concat(t,'" instead.')),Jk=!0,t}return e}var $g=globalThis&&globalThis.__assign||function(){return $g=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},$g.apply(this,arguments)},eZ=globalThis&&globalThis.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n};function k_(e){for(var t=e.className,n=e.count,i=n===void 0?3:n,o=e.dateTransform,u=e.dateType,f=e.end,a=e.hover,y=e.offset,w=e.start,k=e.step,M=k===void 0?1:k,O=e.tile,$=e.value,N=e.valueType,B=eZ(e,["className","count","dateTransform","dateType","end","hover","offset","start","step","tile","value","valueType"]),J=[],U=w;U<=f;U+=M){var G=o(U);J.push(Zt.createElement(O,$g({key:G.getTime(),classes:YG({value:$,valueType:N,date:G,dateType:u,hover:a}),date:G,point:U},B)))}return Zt.createElement(lb,{className:t,count:i,offset:y,wrap:!0},J)}k_.propTypes=$g($g({},o1),{className:Se.string,count:Se.number,dateTransform:Se.func.isRequired,dateType:Se.string,end:Se.number.isRequired,offset:Se.number,step:Se.number,start:Se.number.isRequired,tile:Se.func.isRequired});var q2=globalThis&&globalThis.__assign||function(){return q2=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},q2.apply(this,arguments)};function P_(e){var t=e.activeStartDate,n=e.children,i=e.classes,o=e.date,u=e.formatAbbr,f=e.locale,a=e.maxDate,y=e.maxDateTransform,w=e.minDate,k=e.minDateTransform,M=e.onClick,O=e.onMouseOver,$=e.style,N=e.tileClassName,B=e.tileContent,J=e.tileDisabled,U=e.view,G=V.useMemo(function(){var Q={activeStartDate:t,date:o,view:U};return typeof N=="function"?N(Q):N},[t,o,N,U]),Z=V.useMemo(function(){var Q={activeStartDate:t,date:o,view:U};return typeof B=="function"?B(Q):B},[t,o,B,U]);return Zt.createElement("button",{className:Qx(i,G),disabled:w&&k(w)>o||a&&y(a)<o||J&&J({activeStartDate:t,date:o,view:U}),onClick:M?function(Q){return M(o,Q)}:void 0,onFocus:O?function(){return O(o)}:void 0,onMouseOver:O?function(){return O(o)}:void 0,style:$,type:"button"},u?Zt.createElement("abbr",{"aria-label":u(f,o)},n):n,Z)}P_.propTypes=q2(q2({},C_),{children:Se.node.isRequired,formatAbbr:Se.func,maxDateTransform:Se.func.isRequired,minDateTransform:Se.func.isRequired});var Ug=globalThis&&globalThis.__assign||function(){return Ug=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Ug.apply(this,arguments)},tZ=globalThis&&globalThis.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n},Qk=globalThis&&globalThis.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var i=0,o=t.length,u;i<o;i++)(u||!(i in t))&&(u||(u=Array.prototype.slice.call(t,0,i)),u[i]=t[i]);return e.concat(u||Array.prototype.slice.call(t))},nZ="react-calendar__century-view__decades__decade";function hO(e){var t=e.classes,n=t===void 0?[]:t,i=e.formatYear,o=i===void 0?sb:i,u=tZ(e,["classes","formatYear"]),f=u.date,a=u.locale;return Zt.createElement(P_,Ug({},u,{classes:Qk(Qk([],n,!0),[nZ],!1),maxDateTransform:e1,minDateTransform:bh,view:"century"}),lO(a,o,f))}hO.propTypes=Ug(Ug({},C_),{formatYear:Se.func});var G2=globalThis&&globalThis.__assign||function(){return G2=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},G2.apply(this,arguments)};function pO(e){var t=e.activeStartDate,n=AG(t),i=n+99;return Zt.createElement(k_,G2({},e,{className:"react-calendar__century-view__decades",dateTransform:bh,dateType:"decade",end:i,start:n,step:10,tile:hO}))}pO.propTypes=G2({},o1);var I5=globalThis&&globalThis.__assign||function(){return I5=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},I5.apply(this,arguments)};function rZ(e){function t(){return Zt.createElement(pO,I5({},e))}return Zt.createElement("div",{className:"react-calendar__century-view"},t())}var Vg=globalThis&&globalThis.__assign||function(){return Vg=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Vg.apply(this,arguments)},iZ=globalThis&&globalThis.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n},eP=globalThis&&globalThis.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var i=0,o=t.length,u;i<o;i++)(u||!(i in t))&&(u||(u=Array.prototype.slice.call(t,0,i)),u[i]=t[i]);return e.concat(u||Array.prototype.slice.call(t))},oZ="react-calendar__decade-view__years__year";function fO(e){var t=e.classes,n=t===void 0?[]:t,i=e.formatYear,o=i===void 0?sb:i,u=iZ(e,["classes","formatYear"]),f=u.date,a=u.locale;return Zt.createElement(P_,Vg({},u,{classes:eP(eP([],n,!0),[oZ],!1),maxDateTransform:n1,minDateTransform:t1,view:"decade"}),o(a,f))}fO.propTypes=Vg(Vg({},C_),{formatYear:Se.func});var Z2=globalThis&&globalThis.__assign||function(){return Z2=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Z2.apply(this,arguments)};function mO(e){var t=e.activeStartDate,n=MG(t),i=n+9;return Zt.createElement(k_,Z2({},e,{className:"react-calendar__decade-view__years",dateTransform:function(o){var u=new Date;return u.setFullYear(o,0,1),u.setHours(0,0,0,0),u},dateType:"year",end:i,start:n,tile:fO}))}mO.propTypes=Z2({},o1);var A5=globalThis&&globalThis.__assign||function(){return A5=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},A5.apply(this,arguments)};function aZ(e){function t(){return Zt.createElement(mO,A5({},e))}return Zt.createElement("div",{className:"react-calendar__decade-view"},t())}var Wg=globalThis&&globalThis.__assign||function(){return Wg=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Wg.apply(this,arguments)},sZ=globalThis&&globalThis.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n},tP=globalThis&&globalThis.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var i=0,o=t.length,u;i<o;i++)(u||!(i in t))&&(u||(u=Array.prototype.slice.call(t,0,i)),u[i]=t[i]);return e.concat(u||Array.prototype.slice.call(t))},lZ="react-calendar__year-view__months__month";function gO(e){var t=e.classes,n=t===void 0?[]:t,i=e.formatMonth,o=i===void 0?TG:i,u=e.formatMonthYear,f=u===void 0?iO:u,a=sZ(e,["classes","formatMonth","formatMonthYear"]),y=a.date,w=a.locale;return Zt.createElement(P_,Wg({},a,{classes:tP(tP([],n,!0),[lZ],!1),formatAbbr:f,maxDateTransform:Vp,minDateTransform:Up,view:"year"}),o(w,y))}gO.propTypes=Wg(Wg({},C_),{formatMonth:Se.func,formatMonthYear:Se.func});var Hg=globalThis&&globalThis.__assign||function(){return Hg=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Hg.apply(this,arguments)};function _O(e){var t=e.activeStartDate,n=0,i=11,o=ti(t);return Zt.createElement(k_,Hg({},e,{className:"react-calendar__year-view__months",dateTransform:function(u){var f=new Date;return f.setFullYear(o,u,1),f.setHours(0,0,0,0),f},dateType:"month",end:i,start:n,tile:gO}))}_O.propTypes=Hg(Hg({},o1),{locale:Se.string});var M5=globalThis&&globalThis.__assign||function(){return M5=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},M5.apply(this,arguments)};function cZ(e){function t(){return Zt.createElement(_O,M5({},e))}return Zt.createElement("div",{className:"react-calendar__year-view"},t())}var qg=globalThis&&globalThis.__assign||function(){return qg=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},qg.apply(this,arguments)},uZ=globalThis&&globalThis.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n},fv="react-calendar__month-view__days__day";function yO(e){var t=e.calendarType,n=e.classes,i=n===void 0?[]:n,o=e.currentMonthIndex,u=e.formatDay,f=u===void 0?EG:u,a=e.formatLongDate,y=a===void 0?SG:a,w=uZ(e,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),k=cb(t),M=w.date,O=w.locale,$=[];return i&&$.push.apply($,i),fv&&$.push(fv),cO(M,k)&&$.push("".concat(fv,"--weekend")),M.getMonth()!==o&&$.push("".concat(fv,"--neighboringMonth")),Zt.createElement(P_,qg({},w,{classes:$,formatAbbr:y,maxDateTransform:i1,minDateTransform:r1,view:"month"}),f(O,M))}yO.propTypes=qg(qg({},C_),{currentMonthIndex:Se.number.isRequired,formatDay:Se.func,formatLongDate:Se.func});var X2=globalThis&&globalThis.__assign||function(){return X2=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},X2.apply(this,arguments)},dZ=globalThis&&globalThis.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n};function vO(e){var t=e.activeStartDate,n=e.calendarType,i=e.showFixedNumberOfWeeks,o=e.showNeighboringMonth,u=dZ(e,["showFixedNumberOfWeeks","showNeighboringMonth"]),f=cb(n),a=ti(t),y=Ju(t),w=i||o,k=Ng(t,f),M=w?0:k,O=(w?-k:0)+1,$=function(){if(i)return O+6*7-1;var N=Q7(t);if(o){var B=new Date;B.setFullYear(a,y,N),B.setHours(0,0,0,0);var J=7-Ng(B,f)-1;return N+J}return N}();return Zt.createElement(k_,X2({},u,{className:"react-calendar__month-view__days",count:7,currentMonthIndex:y,dateTransform:function(N){var B=new Date;return B.setFullYear(a,y,N),B.setHours(0,0,0,0),B},dateType:"day",end:$,offset:M,start:O,tile:yO}))}vO.propTypes=X2({calendarType:T_,showFixedNumberOfWeeks:Se.bool,showNeighboringMonth:Se.bool},o1);var xO="react-calendar__month-view__weekdays",_6="".concat(xO,"__weekday");function bO(e){for(var t=e.calendarType,n=e.formatShortWeekday,i=n===void 0?CG:n,o=e.formatWeekday,u=o===void 0?kG:o,f=e.locale,a=e.onMouseLeave,y=cb(t),w=new Date,k=Up(w),M=ti(k),O=Ju(k),$=[],N=1;N<=7;N+=1){var B=new Date(M,O,N-Ng(k,y)),J=u(f,B);$.push(Zt.createElement("div",{key:N,className:Qx(_6,jG(B)&&"".concat(_6,"--current"),cO(B,y)&&"".concat(_6,"--weekend"))},Zt.createElement("abbr",{"aria-label":J,title:J},i(f,B).replace(".",""))))}return Zt.createElement(lb,{className:xO,count:7,onFocus:a,onMouseOver:a},$)}bO.propTypes={calendarType:T_,formatShortWeekday:Se.func,formatWeekday:Se.func,locale:Se.string,onMouseLeave:Se.func};var K2=globalThis&&globalThis.__assign||function(){return K2=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},K2.apply(this,arguments)},nP=globalThis&&globalThis.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n},rP="react-calendar__tile";function wO(e){var t=e.onClickWeekNumber,n=e.weekNumber,i=Zt.createElement("span",null,n);if(t){var o=e.date,u=e.onClickWeekNumber,f=e.weekNumber,a=nP(e,["date","onClickWeekNumber","weekNumber"]);return Zt.createElement("button",K2({},a,{className:rP,onClick:function(y){return u(f,o,y)},type:"button"}),i)}else{e.date,e.onClickWeekNumber,e.weekNumber;var a=nP(e,["date","onClickWeekNumber","weekNumber"]);return Zt.createElement("div",K2({},a,{className:rP}),i)}}wO.propTypes={date:Se.instanceOf(Date).isRequired,onClickWeekNumber:Se.func,weekNumber:Se.node.isRequired};function EO(e){var t=e.activeStartDate,n=e.calendarType,i=e.onClickWeekNumber,o=e.onMouseLeave,u=e.showFixedNumberOfWeeks,f=cb(n),a=function(){if(u)return 6;var k=Q7(t),M=Ng(t,f),O=k-(7-M);return 1+Math.ceil(O/7)}(),y=function(){for(var k=ti(t),M=Ju(t),O=xh(t),$=[],N=0;N<a;N+=1)$.push(C5(new Date(k,M,O+N*7),f));return $}(),w=y.map(function(k){return DG(k,f)});return Zt.createElement(lb,{className:"react-calendar__month-view__weekNumbers",count:a,direction:"column",onFocus:o,onMouseOver:o,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0}},w.map(function(k,M){var O=y[M];if(!O)throw new Error("date is not defined");return Zt.createElement(wO,{key:k,date:O,onClickWeekNumber:i,weekNumber:k})}))}EO.propTypes={activeStartDate:Se.instanceOf(Date).isRequired,calendarType:T_,onClickWeekNumber:Se.func,onMouseLeave:Se.func,showFixedNumberOfWeeks:Se.bool};var Gg=globalThis&&globalThis.__assign||function(){return Gg=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Gg.apply(this,arguments)},hZ=globalThis&&globalThis.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n};function pZ(e){for(var t=0,n=Object.entries(pG);t<n.length;t++){var i=n[t],o=i[0],u=i[1];if(u.includes(e))return o}return Bi.ISO_8601}function SO(e){var t=e.activeStartDate,n=e.locale,i=e.onMouseLeave,o=e.showFixedNumberOfWeeks,u=e.calendarType,f=u===void 0?pZ(n):u,a=e.formatShortWeekday,y=e.formatWeekday,w=e.onClickWeekNumber,k=e.showWeekNumbers,M=hZ(e,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function O(){return Zt.createElement(bO,{calendarType:f,formatShortWeekday:a,formatWeekday:y,locale:n,onMouseLeave:i})}function $(){return k?Zt.createElement(EO,{activeStartDate:t,calendarType:f,onClickWeekNumber:w,onMouseLeave:i,showFixedNumberOfWeeks:o}):null}function N(){return Zt.createElement(vO,Gg({calendarType:f},M))}var B="react-calendar__month-view";return Zt.createElement("div",{className:Qx(B,k?"".concat(B,"--weekNumbers"):"")},Zt.createElement("div",{style:{display:"flex",alignItems:"flex-end"}},$(),Zt.createElement("div",{style:{flexGrow:1,width:"100%"}},O(),N())))}SO.propTypes=Gg(Gg({},o1),{calendarType:T_,formatDay:Se.func,formatLongDate:Se.func,formatShortWeekday:Se.func,formatWeekday:Se.func,onClickWeekNumber:Se.func,onMouseLeave:Se.func,showFixedNumberOfWeeks:Se.bool,showNeighboringMonth:Se.bool,showWeekNumbers:Se.bool});var i0=globalThis&&globalThis.__assign||function(){return i0=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},i0.apply(this,arguments)},mv="react-calendar",y0=["century","decade","year","month"],fZ=["decade","year","month","day"],r9=new Date;r9.setFullYear(1,0,1);r9.setHours(0,0,0,0);var mZ=new Date(864e13);function Um(e){return e instanceof Date?e:new Date(e)}function TO(e,t){return y0.slice(y0.indexOf(e),y0.indexOf(t)+1)}function gZ(e,t,n){var i=TO(t,n);return i.indexOf(e)!==-1}function i9(e,t,n){return e&&gZ(e,t,n)?e:n}function CO(e){var t=y0.indexOf(e);return fZ[t]}function _Z(e,t){var n=Array.isArray(e)?e[t]:e;if(!n)return null;var i=Um(n);if(isNaN(i.getTime()))throw new Error("Invalid date: ".concat(e));return i}function kO(e,t){var n=e.value,i=e.minDate,o=e.maxDate,u=e.maxDetail,f=_Z(n,t);if(!f)return null;var a=CO(u),y=function(){switch(t){case 0:return mp(a,f);case 1:return aO(a,f);default:throw new Error("Invalid index value: ".concat(t))}}();return XG(y,i,o)}var o9=function(e){return kO(e,0)},PO=function(e){return kO(e,1)},yZ=function(e){return[o9,PO].map(function(t){return t(e)})};function IO(e){var t=e.maxDate,n=e.maxDetail,i=e.minDate,o=e.minDetail,u=e.value,f=e.view,a=i9(f,o,n),y=o9({value:u,minDate:i,maxDate:t,maxDetail:n})||new Date;return mp(a,y)}function vZ(e){var t=e.activeStartDate,n=e.defaultActiveStartDate,i=e.defaultValue,o=e.defaultView,u=e.maxDate,f=e.maxDetail,a=e.minDate,y=e.minDetail,w=e.value,k=e.view,M=i9(k,y,f),O=t||n;return O?mp(M,O):IO({maxDate:u,maxDetail:f,minDate:a,minDetail:y,value:w||i,view:k||o})}function y6(e){return e&&(!Array.isArray(e)||e.length===1)}function gv(e,t){return e instanceof Date&&t instanceof Date&&e.getTime()===t.getTime()}var AO=V.forwardRef(function(t,n){var i=t.activeStartDate,o=t.allowPartialRange,u=t.calendarType,f=t.className,a=t.defaultActiveStartDate,y=t.defaultValue,w=t.defaultView,k=t.formatDay,M=t.formatLongDate,O=t.formatMonth,$=t.formatMonthYear,N=t.formatShortWeekday,B=t.formatWeekday,J=t.formatYear,U=t.goToRangeStartOnSelect,G=U===void 0?!0:U,Z=t.inputRef,Q=t.locale,se=t.maxDate,ce=se===void 0?mZ:se,A=t.maxDetail,_e=A===void 0?"month":A,le=t.minDate,ve=le===void 0?r9:le,Ue=t.minDetail,$e=Ue===void 0?"century":Ue,Ae=t.navigationAriaLabel,Re=t.navigationAriaLive,Oe=t.navigationLabel,Ye=t.next2AriaLabel,Qe=t.next2Label,ze=t.nextAriaLabel,Pe=t.nextLabel,je=t.onActiveStartDateChange,lt=t.onChange,ot=t.onClickDay,ct=t.onClickDecade,Ct=t.onClickMonth,ut=t.onClickWeekNumber,yt=t.onClickYear,Dt=t.onDrillDown,Rt=t.onDrillUp,St=t.onViewChange,Qt=t.prev2AriaLabel,Lt=t.prev2Label,qt=t.prevAriaLabel,an=t.prevLabel,jt=t.returnValue,vt=jt===void 0?"start":jt,gn=t.selectRange,on=t.showDoubleView,Bn=t.showFixedNumberOfWeeks,Yn=t.showNavigation,On=Yn===void 0?!0:Yn,zn=t.showNeighboringMonth,Mn=zn===void 0?!0:zn,jn=t.showWeekNumbers,yr=t.tileClassName,pt=t.tileContent,sn=t.tileDisabled,dn=t.value,en=t.view,ln=V.useState(a),un=ln[0],bn=ln[1],Dn=V.useState(null),Fn=Dn[0],er=Dn[1],Ar=V.useState(Array.isArray(y)?y.map(function(tt){return tt!==null?Um(tt):tt}):y!=null?Um(y):y),pr=Ar[0],mi=Ar[1],Hr=V.useState(w),ke=Hr[0],oe=Hr[1],ae=i||un||vZ({activeStartDate:i,defaultActiveStartDate:a,defaultValue:y,defaultView:w,maxDate:ce,maxDetail:_e,minDate:ve,minDetail:$e,value:dn,view:en}),xe=function(){var tt=function(){return gn&&y6(pr)?pr:dn!==void 0?dn:pr}();return tt?Array.isArray(tt)?tt.map(function(Ce){return Ce!==null?Um(Ce):Ce}):tt!==null?Um(tt):tt:null}(),Fe=CO(_e),Be=i9(en||ke,$e,_e),et=TO($e,_e),nt=gn?Fn:null,qe=et.indexOf(Be)<et.length-1,He=et.indexOf(Be)>0,Je=V.useCallback(function(tt){var Ce=function(){switch(vt){case"start":return o9;case"end":return PO;case"range":return yZ;default:throw new Error("Invalid returnValue.")}}();return Ce({maxDate:ce,maxDetail:_e,minDate:ve,value:tt})},[ce,_e,ve,vt]),xt=V.useCallback(function(tt,Ce){bn(tt);var ft={action:Ce,activeStartDate:tt,value:xe,view:Be};je&&!gv(ae,tt)&&je(ft)},[ae,je,xe,Be]),kt=V.useCallback(function(tt,Ce){var ft=function(){switch(Be){case"century":return ct;case"decade":return yt;case"year":return Ct;case"month":return ot;default:throw new Error("Invalid view: ".concat(Be,"."))}}();ft&&ft(tt,Ce)},[ot,ct,Ct,yt,Be]),vn=V.useCallback(function(tt,Ce){if(qe){kt(tt,Ce);var ft=et[et.indexOf(Be)+1];if(!ft)throw new Error("Attempted to drill down from the lowest view.");bn(tt),oe(ft);var Ut={action:"drillDown",activeStartDate:tt,value:xe,view:ft};je&&!gv(ae,tt)&&je(Ut),St&&Be!==ft&&St(Ut),Dt&&Dt(Ut)}},[ae,qe,je,kt,Dt,St,xe,Be,et]),Nn=V.useCallback(function(){if(He){var tt=et[et.indexOf(Be)-1];if(!tt)throw new Error("Attempted to drill up from the highest view.");var Ce=mp(tt,ae);bn(Ce),oe(tt);var ft={action:"drillUp",activeStartDate:Ce,value:xe,view:tt};je&&!gv(ae,Ce)&&je(ft),St&&Be!==tt&&St(ft),Rt&&Rt(ft)}},[ae,He,je,Rt,St,xe,Be,et]),Rn=V.useCallback(function(tt,Ce){var ft=xe;kt(tt,Ce);var Ut=gn&&!y6(ft),pn;if(gn)if(Ut)pn=mp(Fe,tt);else{if(!ft)throw new Error("previousValue is required");if(Array.isArray(ft))throw new Error("previousValue must not be an array");pn=NG(Fe,ft,tt)}else pn=Je(tt);var fr=!gn||Ut||G?IO({maxDate:ce,maxDetail:_e,minDate:ve,minDetail:$e,value:pn,view:Be}):null;Ce.persist(),bn(fr),mi(pn);var Mr={action:"onChange",activeStartDate:fr,value:pn,view:Be};if(je&&!gv(ae,fr)&&je(Mr),lt)if(gn){var Hn=y6(pn);if(!Hn)lt(pn||null,Ce);else if(o){if(Array.isArray(pn))throw new Error("value must not be an array");lt([pn||null,null],Ce)}}else lt(pn||null,Ce)},[ae,o,Je,G,ce,_e,ve,$e,je,lt,kt,gn,xe,Fe,Be]);function $n(tt){er(tt)}function Xn(){er(null)}V.useImperativeHandle(n,function(){return{activeStartDate:ae,drillDown:vn,drillUp:Nn,onChange:Rn,setActiveStartDate:xt,value:xe,view:Be}},[ae,vn,Nn,Rn,xt,xe,Be]);function wr(tt){var Ce=tt?oO(Be,ae):mp(Be,ae),ft=qe?vn:Rn,Ut={activeStartDate:Ce,hover:nt,locale:Q,maxDate:ce,minDate:ve,onClick:ft,onMouseOver:gn?$n:null,tileClassName:yr,tileContent:pt,tileDisabled:sn,value:xe,valueType:Fe};switch(Be){case"century":return Zt.createElement(rZ,i0({formatYear:J},Ut));case"decade":return Zt.createElement(aZ,i0({formatYear:J},Ut));case"year":return Zt.createElement(cZ,i0({formatMonth:O,formatMonthYear:$},Ut));case"month":return Zt.createElement(SO,i0({calendarType:u,formatDay:k,formatLongDate:M,formatShortWeekday:N,formatWeekday:B,onClickWeekNumber:ut,onMouseLeave:gn?Xn:null,showFixedNumberOfWeeks:typeof Bn<"u"?Bn:on,showNeighboringMonth:Mn,showWeekNumbers:jn},Ut));default:throw new Error("Invalid view: ".concat(Be,"."))}}function Er(){return On?Zt.createElement(uO,{activeStartDate:ae,drillUp:Nn,formatMonthYear:$,formatYear:J,locale:Q,maxDate:ce,minDate:ve,navigationAriaLabel:Ae,navigationAriaLive:Re,navigationLabel:Oe,next2AriaLabel:Ye,next2Label:Qe,nextAriaLabel:ze,nextLabel:Pe,prev2AriaLabel:Qt,prev2Label:Lt,prevAriaLabel:qt,prevLabel:an,setActiveStartDate:xt,showDoubleView:on,view:Be,views:et}):null}var Rr=Array.isArray(xe)?xe:[xe];return Zt.createElement("div",{className:Qx(mv,gn&&Rr.length===1&&"".concat(mv,"--selectRange"),on&&"".concat(mv,"--doubleView"),f),ref:Z},Er(),Zt.createElement("div",{className:"".concat(mv,"__viewContainer"),onBlur:gn?Xn:void 0,onMouseLeave:gn?Xn:void 0},wr(),on?wr(!0):null))}),iP=Se.instanceOf(Date),oP=Se.oneOfType([Se.string,Se.instanceOf(Date)]),aP=Se.oneOfType([oP,qG(oP)]);AO.propTypes={activeStartDate:iP,allowPartialRange:Se.bool,calendarType:T_,className:H2,defaultActiveStartDate:iP,defaultValue:aP,defaultView:Bg,formatDay:Se.func,formatLongDate:Se.func,formatMonth:Se.func,formatMonthYear:Se.func,formatShortWeekday:Se.func,formatWeekday:Se.func,formatYear:Se.func,goToRangeStartOnSelect:Se.bool,inputRef:VG,locale:Se.string,maxDate:n9,maxDetail:Se.oneOf(y0),minDate:t9,minDetail:Se.oneOf(y0),navigationAriaLabel:Se.string,navigationAriaLive:Se.oneOf(["off","polite","assertive"]),navigationLabel:Se.func,next2AriaLabel:Se.string,next2Label:Se.node,nextAriaLabel:Se.string,nextLabel:Se.node,onActiveStartDateChange:Se.func,onChange:Se.func,onClickDay:Se.func,onClickDecade:Se.func,onClickMonth:Se.func,onClickWeekNumber:Se.func,onClickYear:Se.func,onDrillDown:Se.func,onDrillUp:Se.func,onViewChange:Se.func,prev2AriaLabel:Se.string,prev2Label:Se.node,prevAriaLabel:Se.string,prevLabel:Se.node,returnValue:Se.oneOf(["start","end","range"]),selectRange:Se.bool,showDoubleView:Se.bool,showFixedNumberOfWeeks:Se.bool,showNavigation:Se.bool,showNeighboringMonth:Se.bool,showWeekNumbers:Se.bool,tileClassName:Se.oneOfType([Se.func,H2]),tileContent:Se.oneOfType([Se.func,Se.node]),tileDisabled:Se.func,value:aP,view:Bg};const xZ=AO;function MO(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=MO(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function bZ(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=MO(e))&&(i&&(i+=" "),i+=t);return i}function DO(e,t){return function(n,i,o){var u=n,f=i,a=u[f];if(typeof a<"u"){if(typeof a!="number")return new Error("Invalid prop `".concat(i,"` of type `").concat(typeof a,"` supplied to `").concat(o,"`, expected `number`."));if(a<e||a>t)return new Error("Invalid prop `".concat(i,"` of type `").concat(typeof a,"` supplied to `").concat(o,"`, length must be between ").concat(e," and ").concat(t,"."))}return null}}var v0=DO(0,100),v6=DO(-100,100),ig=function(t,n,i){var o=t,u=n,f=o[u];if(typeof f<"u"){if(typeof f!="number")return new Error("Invalid prop `".concat(n,"` of type `").concat(typeof f,"` supplied to `").concat(i,"`, expected `number`."));if(f<0)return new Error("Invalid prop `".concat(n,"` of type `").concat(typeof f,"` supplied to `").concat(i,"`, width must be greater or equal to 0."))}return null},D5=v0,R5=ig;function Qv(e){var t=e.angle,n=t===void 0?0:t,i=e.name,o=e.length,u=o===void 0?100:o,f=e.oppositeLength,a=f===void 0?10:f,y=e.width,w=y===void 0?1:y;return Zt.createElement("div",{className:"react-clock__hand react-clock__".concat(i,"-hand"),style:{transform:"rotate(".concat(n,"deg)")}},Zt.createElement("div",{className:"react-clock__hand__body react-clock__".concat(i,"-hand__body"),style:{width:"".concat(w,"px"),top:"".concat(50-u/2,"%"),bottom:"".concat(50-a/2,"%")}}))}Qv.propTypes={angle:Se.number,length:v0,name:Se.string.isRequired,oppositeLength:v0,width:ig};function a9(e){var t=e.angle,n=t===void 0?0:t,i=e.length,o=i===void 0?10:i,u=e.name,f=e.width,a=f===void 0?1:f,y=e.number;return Zt.createElement("div",{className:"react-clock__mark react-clock__".concat(u,"-mark"),style:{transform:"rotate(".concat(n,"deg)")}},Zt.createElement("div",{className:"react-clock__mark__body react-clock__".concat(u,"-mark__body"),style:{width:"".concat(a,"px"),top:0,bottom:"".concat(100-o/2,"%")}}),y?Zt.createElement("div",{className:"react-clock__mark__number",style:{transform:"rotate(-".concat(n,"deg)"),top:"".concat(o/2,"%")}},y):null)}a9.propTypes={angle:Se.number,length:D5,name:Se.string.isRequired,number:Se.node,width:R5};var O5=globalThis&&globalThis.__assign||function(){return O5=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},O5.apply(this,arguments)};function wZ(e){return Zt.createElement(a9,O5({},e))}function EZ(e,t){return t.toLocaleString(e||x_()||void 0)}var L5=globalThis&&globalThis.__assign||function(){return L5=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},L5.apply(this,arguments)},SZ=globalThis&&globalThis.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n};function RO(e){var t=e.formatHour,n=t===void 0?EZ:t,i=e.locale,o=e.number,u=SZ(e,["formatHour","locale","number"]);return Zt.createElement(a9,L5({number:o?n(i,o):null},u))}RO.propTypes={formatHour:Se.func,locale:Se.string,number:Se.number};function OO(e){var t=e.className,n=e.formatHour,i=e.hourHandLength,o=i===void 0?50:i,u=e.hourHandOppositeLength,f=e.hourHandWidth,a=f===void 0?4:f,y=e.hourMarksLength,w=y===void 0?10:y,k=e.hourMarksWidth,M=k===void 0?3:k,O=e.locale,$=e.minuteHandLength,N=$===void 0?70:$,B=e.minuteHandOppositeLength,J=e.minuteHandWidth,U=J===void 0?2:J,G=e.minuteMarksLength,Z=G===void 0?6:G,Q=e.minuteMarksWidth,se=Q===void 0?1:Q,ce=e.renderHourMarks,A=ce===void 0?!0:ce,_e=e.renderMinuteHand,le=_e===void 0?!0:_e,ve=e.renderMinuteMarks,Ue=ve===void 0?!0:ve,$e=e.renderNumbers,Ae=e.renderSecondHand,Re=Ae===void 0?!0:Ae,Oe=e.secondHandLength,Ye=Oe===void 0?90:Oe,Qe=e.secondHandOppositeLength,ze=e.secondHandWidth,Pe=ze===void 0?1:ze,je=e.size,lt=je===void 0?150:je,ot=e.value;function ct(){if(!Ue)return null;for(var St=[],Qt=1;Qt<=60;Qt+=1){var Lt=A&&!(Qt%5);Lt||St.push(Zt.createElement(wZ,{key:"minute_".concat(Qt),angle:Qt*6,length:Z,name:"minute",width:se}))}return St}function Ct(){if(!A)return null;for(var St=[],Qt=1;Qt<=12;Qt+=1)St.push(Zt.createElement(RO,{key:"hour_".concat(Qt),angle:Qt*30,formatHour:n,length:w,locale:O,name:"hour",number:$e?Qt:void 0,width:M}));return St}function ut(){return Zt.createElement("div",{className:"react-clock__face"},ct(),Ct())}function yt(){var St=ot?uh(ot)*30+fp(ot)/2+_0(ot)/600:0;return Zt.createElement(Qv,{angle:St,length:o,name:"hour",oppositeLength:u,width:a})}function Dt(){if(!le)return null;var St=ot?uh(ot)*360+fp(ot)*6+_0(ot)/10:0;return Zt.createElement(Qv,{angle:St,length:N,name:"minute",oppositeLength:B,width:U})}function Rt(){if(!Re)return null;var St=ot?fp(ot)*360+_0(ot)*6:0;return Zt.createElement(Qv,{angle:St,length:Ye,name:"second",oppositeLength:Qe,width:Pe})}return Zt.createElement("time",{className:bZ("react-clock",t),dateTime:ot instanceof Date?ot.toISOString():ot||void 0,style:{width:lt,height:lt}},ut(),yt(),Dt(),Rt())}OO.propTypes={className:Se.oneOfType([Se.string,Se.arrayOf(Se.string)]),formatHour:Se.func,hourHandLength:v0,hourHandOppositeLength:v6,hourHandWidth:ig,hourMarksLength:D5,hourMarksWidth:R5,locale:Se.string,minuteHandLength:v0,minuteHandOppositeLength:v6,minuteHandWidth:ig,minuteMarksLength:D5,minuteMarksWidth:R5,renderHourMarks:Se.bool,renderMinuteHand:Se.bool,renderMinuteMarks:Se.bool,renderNumbers:Se.bool,renderSecondHand:Se.bool,secondHandLength:v0,secondHandOppositeLength:v6,secondHandWidth:ig,size:Se.oneOfType([Se.number,Se.string]),value:Se.oneOfType([Se.string,Se.instanceOf(Date)])};function Pa(e){return e.getBoundingClientRect()}function sP(e,t){return{get collidedTop(){return Pa(e).top<Pa(t).top},get collidedBottom(){return Pa(e).bottom>Pa(t).bottom},get collidedLeft(){return Pa(e).left<Pa(t).left},get collidedRight(){return Pa(e).right>Pa(t).right},get overflowTop(){return Pa(t).top-Pa(e).top},get overflowBottom(){return Pa(e).bottom-Pa(t).bottom},get overflowLeft(){return Pa(t).left-Pa(e).left},get overflowRight(){return Pa(e).right-Pa(t).right}}}var TZ=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(i[u]=o[u])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Wd=globalThis&&globalThis.__assign||function(){return Wd=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Wd.apply(this,arguments)},CZ=globalThis&&globalThis.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n},LO=typeof document<"u",lP=LO&&"CSS"in window&&"supports"in window.CSS&&CSS.supports("display","contents"),kZ=LO&&"MutationObserver"in window;function _v(e){return e.charAt(0).toUpperCase()+e.slice(1)}function cP(e){for(var t=e.parentElement;t;){var n=window.getComputedStyle(t).overflow;if(n.split(" ").every(function(i){return i==="auto"||i==="scroll"}))return t;t=t.parentElement}return document.documentElement}function zO(e){var t=e.axis,n=e.container,i=e.element,o=e.invertAxis,u=e.secondary,f=e.scrollContainer,a=e.spacing,y=window.getComputedStyle(i),w=n.parentElement;if(!w)return;var k=sP(w,f),M=sP(w,document.documentElement),O=t==="x",$=O?"left":"top",N=O?"right":"bottom",B=O?"width":"height",J="overflow".concat(_v($)),U="overflow".concat(_v(N)),G="scroll".concat(_v($)),Z=_v(B),Q="offset".concat(Z),se="client".concat(Z),ce="min-".concat(B),A=f[Q]-f[se],_e=typeof a=="object"?a[$]:a,le=-Math.max(k[J],M[J]+document.documentElement[G])-_e,ve=typeof a=="object"?a[N]:a,Ue=-Math.max(k[U],M[U]-document.documentElement[G])-ve-A;u&&(le+=w[se],Ue+=w[se]);var $e=i[Q];function Ae(){i.style[$]="auto",i.style[N]=u?"0":"100%"}function Re(){i.style[$]=u?"0":"100%",i.style[N]="auto"}function Oe(je,lt){var ot=$e<=je;return ot&&lt(),ot}function Ye(){return Oe(le,Ae)}function Qe(){return Oe(Ue,Re)}function ze(){var je=le>Ue,lt=y.getPropertyValue(ce),ot=lt?parseInt(lt,10):null;function ct(Ct){P5(!ot||Ct>=ot,"<Fit />'s child will not fit anywhere with its current ".concat(ce," of ").concat(ot,"px."));var ut=Math.max(Ct,ot||0);P5(!1,"<Fit />'s child needed to have its ".concat(B," decreased to ").concat(ut,"px.")),i.style[B]="".concat(ut,"px")}je?(ct(le),Ae()):(ct(Ue),Re())}var Pe;o?Pe=Ye()||Qe():Pe=Qe()||Ye(),Pe||ze()}function PZ(e){zO(e)}function IZ(e){zO(Wd(Wd({},e),{axis:e.axis==="x"?"y":"x",secondary:!0}))}function AZ(e){var t=e.invertAxis,n=e.invertSecondaryAxis,i=CZ(e,["invertAxis","invertSecondaryAxis"]);PZ(Wd(Wd({},i),{invertAxis:t})),IZ(Wd(Wd({},i),{invertAxis:n}))}var uP=function(e){TZ(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.fit=function(){var i=n,o=i.scrollContainer,u=i.container,f=i.element;if(!(!o||!u||!f)){var a=f.clientWidth,y=f.clientHeight;if(!(n.elementWidth===a&&n.elementHeight===y)){n.elementWidth=a,n.elementHeight=y;var w=u.parentElement;if(w){var k=window.getComputedStyle(f),M=k.position;M!=="absolute"&&(f.style.position="absolute");var O=window.getComputedStyle(w),$=O.position;$!=="relative"&&$!=="absolute"&&(w.style.position="relative");var N=n.props,B=N.invertAxis,J=N.invertSecondaryAxis,U=N.mainAxis,G=U===void 0?"y":U,Z=N.spacing,Q=Z===void 0?8:Z;AZ({container:u,element:f,invertAxis:B,invertSecondaryAxis:J,axis:G,scrollContainer:o,spacing:Q})}}}},n}return t.prototype.componentDidMount=function(){var n=this;if(!lP){var i=ch.findDOMNode(this);if(!i||!(i instanceof HTMLElement))return;this.container=i,this.element=i,this.scrollContainer=cP(i)}this.fit();var o=function(){n.fit()};if(kZ&&this.element){var u=new MutationObserver(o);u.observe(this.element,{attributes:!0,attributeFilter:["class","style"]})}},t.prototype.render=function(){var n=this,i=this.props.children,o=Zt.Children.only(i);return lP?Zt.createElement("span",{ref:function(u){n.container=u;var f=u&&u.firstElementChild;!f||!(f instanceof HTMLElement)||(n.element=f,n.scrollContainer=cP(f))},style:{display:"contents"}},o):o},t.propTypes={children:Se.node.isRequired,invertAxis:Se.bool,invertSecondaryAxis:Se.bool,mainAxis:Se.oneOf(["x","y"]),spacing:Se.oneOfType([Se.number,Se.shape({bottom:Se.number.isRequired,left:Se.number.isRequired,right:Se.number.isRequired,top:Se.number.isRequired})])},t}(V.Component);function FO(e){var t=e.children;return Zt.createElement("span",{className:"react-datetime-picker__inputGroup__divider"},t)}FO.propTypes={children:Se.node};var NO={};const Qu=$8(hG);var I_={},z5={exports:{}};function BO(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=BO(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function dP(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=BO(e))&&(i&&(i+=" "),i+=t);return i}z5.exports=dP,z5.exports.clsx=dP;var jO=z5.exports,Yc={};Object.defineProperty(Yc,"__esModule",{value:!0});Yc.updateInputWidth=Yc.measureText=Yc.getFontShorthand=void 0;var MZ=["normal","small-caps"];function $O(e){if(!e)return"";var t=window.getComputedStyle(e);if(t.font)return t.font;var n=t.fontFamily!=="";if(!n)return"";var i=MZ.includes(t.fontVariant)?t.fontVariant:"normal";return"".concat(t.fontStyle," ").concat(i," ").concat(t.fontWeight," ").concat(t.fontSize," / ").concat(t.lineHeight," ").concat(t.fontFamily)}Yc.getFontShorthand=$O;var hP;function UO(e,t){var n=hP||(hP=document.createElement("canvas")),i=n.getContext("2d");if(!i)return null;i.font=t;var o=i.measureText(e).width;return Math.ceil(o)}Yc.measureText=UO;function VO(e){if(typeof document>"u"||!e)return null;var t=$O(e),n=e.value||e.placeholder,i=UO(n,t);return i===null?null:(e.style.width="".concat(i,"px"),i)}Yc.updateInputWidth=VO;Yc.default=VO;var Ra={},pP=En&&En.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var i=0,o=t.length,u;i<o;i++)(u||!(i in t))&&(u||(u=Array.prototype.slice.call(t,0,i)),u[i]=t[i]);return e.concat(u||Array.prototype.slice.call(t))},DZ=En&&En.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ra,"__esModule",{value:!0});Ra.rangeOf=Ra.isRef=Ra.isMaxDate=Ra.isMinDate=Ra.isValueType=void 0;var o0=DZ(bs),RZ=["century","decade","year","month"],OZ=pP(pP([],RZ.slice(1),!0),["day"],!1);Ra.isValueType=o0.default.oneOf(OZ);var LZ=function(t,n,i){var o=t,u=n,f=o[u];if(!f)return null;if(!(f instanceof Date))return new Error("Invalid prop `".concat(n,"` of type `").concat(typeof f,"` supplied to `").concat(i,"`, expected instance of `Date`."));var a=t.maxDate;return a&&f>a?new Error("Invalid prop `".concat(n,"` of type `").concat(typeof f,"` supplied to `").concat(i,"`, minDate cannot be larger than maxDate.")):null};Ra.isMinDate=LZ;var zZ=function(t,n,i){var o=t,u=n,f=o[u];if(!f)return null;if(!(f instanceof Date))return new Error("Invalid prop `".concat(n,"` of type `").concat(typeof f,"` supplied to `").concat(i,"`, expected instance of `Date`."));var a=t.minDate;return a&&f<a?new Error("Invalid prop `".concat(n,"` of type `").concat(typeof f,"` supplied to `").concat(i,"`, maxDate cannot be smaller than minDate.")):null};Ra.isMaxDate=zZ;Ra.isRef=o0.default.oneOfType([o0.default.func,o0.default.exact({current:o0.default.any})]);var FZ=function(e){return o0.default.arrayOf(e)};Ra.rangeOf=FZ;var NZ=En&&En.__createBinding||(Object.create?function(e,t,n,i){i===void 0&&(i=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,o)}:function(e,t,n,i){i===void 0&&(i=n),e[i]=t[n]}),BZ=En&&En.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),WO=En&&En.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&NZ(t,e,n);return BZ(t,e),t},HO=En&&En.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(I_,"__esModule",{value:!0});var a0=WO(V),Ia=HO(bs),jZ=HO(jO),Zg=WO(Yc),$Z=Ra,s9=typeof document<"u",UZ=s9?a0.useLayoutEffect:a0.useEffect,VZ=s9&&/(MSIE|Trident\/|Edge\/)/.test(navigator.userAgent),WZ=s9&&/Firefox/.test(navigator.userAgent);function HZ(e){var t=e.target;VZ?requestAnimationFrame(function(){return t.select()}):t.select()}function qZ(e){if(document.readyState==="complete")return;function t(){(0,Zg.default)(e)}window.addEventListener("load",t)}function GZ(e){if(!document.fonts)return;var t=(0,Zg.getFontShorthand)(e);if(!t)return;var n=document.fonts.check(t);if(n)return;function i(){(0,Zg.default)(e)}document.fonts.addEventListener("loadingdone",i)}function ZZ(e){if(e&&"selectionStart"in e&&e.selectionStart!==null&&"selectionEnd"in e&&e.selectionEnd!==null)return e.value.slice(e.selectionStart,e.selectionEnd);if("getSelection"in window){var t=window.getSelection();return t&&t.toString()}return null}function XZ(e){if(e!==null)return function(n){if(!WZ){var i=n.key,o=n.target,u=o.value,f=i.length===1&&/\d/.test(i),a=ZZ(o);(!f||!(a||u.length<e))&&n.preventDefault()}}}function qO(e){var t=e.ariaLabel,n=e.autoFocus,i=e.className,o=e.disabled,u=e.inputRef,f=e.max,a=e.min,y=e.name,w=e.nameForClass,k=e.onChange,M=e.onKeyDown,O=e.onKeyUp,$=e.placeholder,N=$===void 0?"--":$,B=e.required,J=e.showLeadingZeros,U=e.step,G=e.value;UZ(function(){!u||!u.current||((0,Zg.default)(u.current),qZ(u.current),GZ(u.current))},[u,G]);var Z=J&&G&&Number(G)<10&&(G==="0"||!G.toString().startsWith("0")),Q=f?f.toString().length:null;return a0.default.createElement(a0.default.Fragment,null,Z?a0.default.createElement("span",{className:"".concat(i,"__leadingZero")},"0"):null,a0.default.createElement("input",{"aria-label":t,autoComplete:"off",autoFocus:n,className:(0,jZ.default)("".concat(i,"__input"),"".concat(i,"__").concat(w||y),Z&&"".concat(i,"__input--hasLeadingZero")),"data-input":"true",disabled:o,inputMode:"numeric",max:f,min:a,name:y,onChange:k,onFocus:HZ,onKeyDown:M,onKeyPress:XZ(Q),onKeyUp:function(se){(0,Zg.default)(se.target),O&&O(se)},placeholder:N,ref:u,required:B,step:U,type:"number",value:G!==null?G:""}))}I_.default=qO;qO.propTypes={ariaLabel:Ia.default.string,autoFocus:Ia.default.bool,className:Ia.default.string.isRequired,disabled:Ia.default.bool,inputRef:$Z.isRef,max:Ia.default.number,min:Ia.default.number,name:Ia.default.string,nameForClass:Ia.default.string,onChange:Ia.default.func,onKeyDown:Ia.default.func,onKeyUp:Ia.default.func,placeholder:Ia.default.string,required:Ia.default.bool,showLeadingZeros:Ia.default.bool,step:Ia.default.number,value:Ia.default.string};var lc={};Object.defineProperty(lc,"__esModule",{value:!0});lc.safeMax=lc.safeMin=lc.between=void 0;function KZ(e,t,n){return t&&t>e?t:n&&n<e?n:e}lc.between=KZ;function GO(e){return e!==null&&e!==!1&&!Number.isNaN(Number(e))}function YZ(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Math.min.apply(Math,e.filter(GO))}lc.safeMin=YZ;function JZ(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Math.max.apply(Math,e.filter(GO))}lc.safeMax=JZ;var F5=En&&En.__assign||function(){return F5=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},F5.apply(this,arguments)},QZ=En&&En.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n},l9=En&&En.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(NO,"__esModule",{value:!0});var eX=l9(V),il=l9(bs),km=Qu,tX=l9(I_),x6=Ra,fP=lc;function ZO(e){var t=e.maxDate,n=e.minDate,i=e.month,o=e.year,u=QZ(e,["maxDate","minDate","month","year"]),f=function(){return i?(0,km.getDaysInMonth)(new Date(Number(o),Number(i)-1,1)):31}();function a(k){return o===(0,km.getYear)(k).toString()&&i===(0,km.getMonthHuman)(k).toString()}var y=(0,fP.safeMin)(f,t&&a(t)&&(0,km.getDate)(t)),w=(0,fP.safeMax)(1,n&&a(n)&&(0,km.getDate)(n));return eX.default.createElement(tX.default,F5({max:y,min:w,name:"day"},u))}var nX=NO.default=ZO;ZO.propTypes={ariaLabel:il.default.string,className:il.default.string.isRequired,disabled:il.default.bool,inputRef:x6.isRef,maxDate:x6.isMaxDate,minDate:x6.isMinDate,month:il.default.string,onChange:il.default.func,onKeyDown:il.default.func,onKeyUp:il.default.func,placeholder:il.default.string,required:il.default.bool,showLeadingZeros:il.default.bool,value:il.default.string,year:il.default.string};var XO={},N5=En&&En.__assign||function(){return N5=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},N5.apply(this,arguments)},rX=En&&En.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n},c9=En&&En.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(XO,"__esModule",{value:!0});var iX=c9(V),Zl=c9(bs),b6=Qu,oX=c9(I_),w6=Ra,mP=lc;function KO(e){var t=e.maxDate,n=e.minDate,i=e.year,o=rX(e,["maxDate","minDate","year"]);function u(y){return y&&i===(0,b6.getYear)(y).toString()}var f=(0,mP.safeMin)(12,t&&u(t)&&(0,b6.getMonthHuman)(t)),a=(0,mP.safeMax)(1,n&&u(n)&&(0,b6.getMonthHuman)(n));return iX.default.createElement(oX.default,N5({max:f,min:a,name:"month"},o))}var aX=XO.default=KO;KO.propTypes={ariaLabel:Zl.default.string,className:Zl.default.string.isRequired,disabled:Zl.default.bool,inputRef:w6.isRef,maxDate:w6.isMaxDate,minDate:w6.isMinDate,onChange:Zl.default.func,onKeyDown:Zl.default.func,onKeyUp:Zl.default.func,placeholder:Zl.default.string,required:Zl.default.bool,showLeadingZeros:Zl.default.bool,value:Zl.default.string,year:Zl.default.string};var YO={},nh={};const JO=$8(rG);var sX=En&&En.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nh,"__esModule",{value:!0});nh.formatShortMonth=nh.formatMonth=nh.getFormatter=void 0;var lX=sX(JO),E6=new Map;function QO(e){return function(n,i){var o=n||(0,lX.default)();E6.has(o)||E6.set(o,new Map);var u=E6.get(o);return u.has(e)||u.set(e,new Intl.DateTimeFormat(o||void 0,e).format),u.get(e)(i)}}nh.getFormatter=QO;function cX(e){var t=new Date(e);return new Date(t.setHours(12))}function eL(e){return function(t,n){return QO(e)(t,cX(n))}}var uX={month:"long"},dX={month:"short"};nh.formatMonth=eL(uX);nh.formatShortMonth=eL(dX);var hX=En&&En.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var i=0,o=t.length,u;i<o;i++)(u||!(i in t))&&(u||(u=Array.prototype.slice.call(t,0,i)),u[i]=t[i]);return e.concat(u||Array.prototype.slice.call(t))},u9=En&&En.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(YO,"__esModule",{value:!0});var S6=u9(V),ol=u9(bs),pX=u9(jO),yv=Qu,gP=nh,T6=Ra,_P=lc;function tL(e){var t=e.ariaLabel,n=e.autoFocus,i=e.className,o=e.disabled,u=e.inputRef,f=e.locale,a=e.maxDate,y=e.minDate,w=e.onChange,k=e.onKeyDown,M=e.placeholder,O=M===void 0?"--":M,$=e.required,N=e.short,B=e.value,J=e.year;function U(A){return A&&J===(0,yv.getYear)(A).toString()}var G=(0,_P.safeMin)(12,a&&U(a)&&(0,yv.getMonthHuman)(a)),Z=(0,_P.safeMax)(1,y&&U(y)&&(0,yv.getMonthHuman)(y)),Q=hX([],Array(12),!0).map(function(A,_e){return new Date(2019,_e,1)}),se="month",ce=N?gP.formatShortMonth:gP.formatMonth;return S6.default.createElement("select",{"aria-label":t,autoFocus:n,className:(0,pX.default)("".concat(i,"__input"),"".concat(i,"__").concat(se)),"data-input":"true","data-select":"true",disabled:o,name:se,onChange:w,onKeyDown:k,ref:u,required:$,value:B!==null?B:""},!B&&S6.default.createElement("option",{value:""},O),Q.map(function(A){var _e=(0,yv.getMonthHuman)(A),le=_e<Z||_e>G;return S6.default.createElement("option",{key:_e,disabled:le,value:_e},ce(f,A))}))}var fX=YO.default=tL;tL.propTypes={ariaLabel:ol.default.string,autoFocus:ol.default.bool,className:ol.default.string.isRequired,disabled:ol.default.bool,inputRef:T6.isRef,locale:ol.default.string,maxDate:T6.isMaxDate,minDate:T6.isMinDate,onChange:ol.default.func,onKeyDown:ol.default.func,placeholder:ol.default.string,required:ol.default.bool,short:ol.default.bool,value:ol.default.string,year:ol.default.string};var nL={},B5=En&&En.__assign||function(){return B5=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},B5.apply(this,arguments)},mX=En&&En.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n},d9=En&&En.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nL,"__esModule",{value:!0});var gX=d9(V),Au=d9(bs),yP=Qu,_X=d9(I_),vv=Ra,vP=lc;function rL(e){var t=e.maxDate,n=e.minDate,i=e.placeholder,o=i===void 0?"----":i,u=e.valueType,f=mX(e,["maxDate","minDate","placeholder","valueType"]),a=(0,vP.safeMin)(275760,t&&(0,yP.getYear)(t)),y=(0,vP.safeMax)(1,n&&(0,yP.getYear)(n)),w=function(){return u==="century"?10:1}();return gX.default.createElement(_X.default,B5({max:a,min:y,name:"year",placeholder:o,step:w},f))}var yX=nL.default=rL;rL.propTypes={ariaLabel:Au.default.string,className:Au.default.string.isRequired,disabled:Au.default.bool,inputRef:vv.isRef,maxDate:vv.isMaxDate,minDate:vv.isMinDate,onChange:Au.default.func,onKeyDown:Au.default.func,onKeyUp:Au.default.func,placeholder:Au.default.string,required:Au.default.bool,value:Au.default.string,valueType:vv.isValueType};var iL={},a1={},j5={exports:{}};function oL(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=oL(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function xP(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=oL(e))&&(i&&(i+=" "),i+=t);return i}j5.exports=xP,j5.exports.clsx=xP;var aL=j5.exports,Ka={},vX=En&&En.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var i=0,o=t.length,u;i<o;i++)(u||!(i in t))&&(u||(u=Array.prototype.slice.call(t,0,i)),u[i]=t[i]);return e.concat(u||Array.prototype.slice.call(t))},xX=En&&En.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ka,"__esModule",{value:!0});Ka.rangeOf=Ka.isRef=Ka.isValueType=Ka.isTime=void 0;var s0=xX(bs),bX=["hour","minute","second"],wX=vX([],bX,!0),EX=/^(([0-1])?[0-9]|2[0-3]):[0-5][0-9](:([0-5][0-9]))?$/,SX=function(t,n,i){var o=t,u=n,f=o[u];return f&&(typeof f!="string"||!EX.test(f))?new Error("Invalid prop `".concat(n,"` of type `").concat(typeof f,"` supplied to `").concat(i,"`, expected time in HH:mm(:ss) format.")):null};Ka.isTime=SX;Ka.isValueType=s0.default.oneOf(wX);Ka.isRef=s0.default.oneOfType([s0.default.func,s0.default.exact({current:s0.default.any})]);var TX=function(e){return s0.default.arrayOf(e)};Ka.rangeOf=TX;var CX=En&&En.__createBinding||(Object.create?function(e,t,n,i){i===void 0&&(i=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,o)}:function(e,t,n,i){i===void 0&&(i=n),e[i]=t[n]}),kX=En&&En.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),sL=En&&En.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&CX(t,e,n);return kX(t,e),t},lL=En&&En.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(a1,"__esModule",{value:!0});var l0=sL(V),Aa=lL(bs),PX=lL(aL),Xg=sL(Yc),IX=Ka,h9=typeof document<"u",AX=h9?l0.useLayoutEffect:l0.useEffect,MX=h9&&/(MSIE|Trident\/|Edge\/)/.test(navigator.userAgent),DX=h9&&/Firefox/.test(navigator.userAgent);function RX(e){var t=e.target;MX?requestAnimationFrame(function(){return t.select()}):t.select()}function OX(e){if(document.readyState==="complete")return;function t(){(0,Xg.default)(e)}window.addEventListener("load",t)}function LX(e){if(!document.fonts)return;var t=(0,Xg.getFontShorthand)(e);if(!t)return;var n=document.fonts.check(t);if(n)return;function i(){(0,Xg.default)(e)}document.fonts.addEventListener("loadingdone",i)}function zX(e){if(e&&"selectionStart"in e&&e.selectionStart!==null&&"selectionEnd"in e&&e.selectionEnd!==null)return e.value.slice(e.selectionStart,e.selectionEnd);if("getSelection"in window){var t=window.getSelection();return t&&t.toString()}return null}function FX(e){if(e!==null)return function(n){if(!DX){var i=n.key,o=n.target,u=o.value,f=i.length===1&&/\d/.test(i),a=zX(o);(!f||!(a||u.length<e))&&n.preventDefault()}}}function cL(e){var t=e.ariaLabel,n=e.autoFocus,i=e.className,o=e.disabled,u=e.inputRef,f=e.max,a=e.min,y=e.name,w=e.nameForClass,k=e.onChange,M=e.onKeyDown,O=e.onKeyUp,$=e.placeholder,N=$===void 0?"--":$,B=e.required,J=e.showLeadingZeros,U=e.step,G=e.value;AX(function(){!u||!u.current||((0,Xg.default)(u.current),OX(u.current),LX(u.current))},[u,G]);var Z=J&&G&&Number(G)<10&&(G==="0"||!G.toString().startsWith("0")),Q=f?f.toString().length:null;return l0.default.createElement(l0.default.Fragment,null,Z?l0.default.createElement("span",{className:"".concat(i,"__leadingZero")},"0"):null,l0.default.createElement("input",{"aria-label":t,autoComplete:"off",autoFocus:n,className:(0,PX.default)("".concat(i,"__input"),"".concat(i,"__").concat(w||y),Z&&"".concat(i,"__input--hasLeadingZero")),"data-input":"true",disabled:o,inputMode:"numeric",max:f,min:a,name:y,onChange:k,onFocus:RX,onKeyDown:M,onKeyPress:FX(Q),onKeyUp:function(se){(0,Xg.default)(se.target),O&&O(se)},placeholder:N,ref:u,required:B,step:U,type:"number",value:G!==null?G:""}))}a1.default=cL;cL.propTypes={ariaLabel:Aa.default.string,autoFocus:Aa.default.bool,className:Aa.default.string.isRequired,disabled:Aa.default.bool,inputRef:IX.isRef,max:Aa.default.number,min:Aa.default.number,name:Aa.default.string,nameForClass:Aa.default.string,onChange:Aa.default.func,onKeyDown:Aa.default.func,onKeyUp:Aa.default.func,placeholder:Aa.default.string,required:Aa.default.bool,showLeadingZeros:Aa.default.bool,step:Aa.default.number,value:Aa.default.string};var kp={};Object.defineProperty(kp,"__esModule",{value:!0});kp.convert24to12=kp.convert12to24=void 0;function NX(e,t){var n=Number(e);return t==="am"&&n===12?n=0:t==="pm"&&n<12&&(n+=12),n}kp.convert12to24=NX;function BX(e){var t=Number(e)%12||12;return[t,Number(e)<12?"am":"pm"]}kp.convert24to12=BX;var vl={},R0={},jX=En&&En.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(R0,"__esModule",{value:!0});R0.getNumberFormatter=R0.getFormatter=void 0;var uL=jX(JO),C6=new Map;function $X(e){return function(n,i){var o=n||(0,uL.default)();C6.has(o)||C6.set(o,new Map);var u=C6.get(o);return u.has(e)||u.set(e,new Intl.DateTimeFormat(o||void 0,e).format),u.get(e)(i)}}R0.getFormatter=$X;var k6=new Map;function UX(e){return function(t,n){var i=t||(0,uL.default)();k6.has(i)||k6.set(i,new Map);var o=k6.get(i);return o.has(e)||o.set(e,new Intl.NumberFormat(i||void 0,e).format),o.get(e)(n)}}R0.getNumberFormatter=UX;Object.defineProperty(vl,"__esModule",{value:!0});vl.safeMax=vl.safeMin=vl.getAmPmLabels=void 0;var VX=R0,WX=["9","٩"],bP=new RegExp("[".concat(WX.join(""),"]")),wP=(0,VX.getFormatter)({hour:"numeric"});function HX(e){var t=wP(e,new Date(2017,0,1,9)),n=wP(e,new Date(2017,0,1,21)),i=t.split(bP),o=i[0],u=i[1],f=n.split(bP),a=f[0],y=f[1];if(y!==void 0){if(o!==a)return[o,a].map(function(w){return w.trim()});if(u!==y)return[u,y].map(function(w){return w.trim()})}return["AM","PM"]}vl.getAmPmLabels=HX;function dL(e){return e!==null&&e!==!1&&!Number.isNaN(Number(e))}function qX(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Math.min.apply(Math,e.filter(dL))}vl.safeMin=qX;function GX(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Math.max.apply(Math,e.filter(dL))}vl.safeMax=GX;var $5=En&&En.__assign||function(){return $5=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},$5.apply(this,arguments)},ZX=En&&En.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n},p9=En&&En.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(iL,"__esModule",{value:!0});var XX=p9(V),al=p9(bs),EP=Qu,KX=p9(a1),P6=kp,I6=Ka,SP=vl;function hL(e){var t=e.amPm,n=e.maxTime,i=e.minTime,o=e.value,u=ZX(e,["amPm","maxTime","minTime","value"]),f=(0,SP.safeMin)(12,n&&function(){var w=(0,P6.convert24to12)((0,EP.getHours)(n)),k=w[0],M=w[1];return M!==t?null:k}()),a=(0,SP.safeMax)(1,i&&function(){var w=(0,P6.convert24to12)((0,EP.getHours)(i)),k=w[0],M=w[1];return M!==t||k===12?null:k}()),y=o?(0,P6.convert24to12)(o)[0].toString():"";return XX.default.createElement(KX.default,$5({max:f,min:a,name:"hour12",nameForClass:"hour",value:y},u))}var YX=iL.default=hL;hL.propTypes={amPm:al.default.string,ariaLabel:al.default.string,className:al.default.string.isRequired,disabled:al.default.bool,hour:al.default.string,inputRef:I6.isRef,maxTime:I6.isTime,minTime:I6.isTime,onChange:al.default.func,onKeyDown:al.default.func,onKeyUp:al.default.func,placeholder:al.default.string,required:al.default.bool,showLeadingZeros:al.default.bool,value:al.default.string};var pL={},U5=En&&En.__assign||function(){return U5=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},U5.apply(this,arguments)},JX=En&&En.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n},f9=En&&En.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pL,"__esModule",{value:!0});var QX=f9(V),Xl=f9(bs),TP=Qu,eK=f9(a1),A6=Ka,CP=vl;function fL(e){var t=e.maxTime,n=e.minTime,i=JX(e,["maxTime","minTime"]),o=(0,CP.safeMin)(23,t&&(0,TP.getHours)(t)),u=(0,CP.safeMax)(0,n&&(0,TP.getHours)(n));return QX.default.createElement(eK.default,U5({max:o,min:u,name:"hour24",nameForClass:"hour"},i))}var tK=pL.default=fL;fL.propTypes={ariaLabel:Xl.default.string,className:Xl.default.string.isRequired,disabled:Xl.default.bool,hour:Xl.default.string,inputRef:A6.isRef,maxTime:A6.isTime,minTime:A6.isTime,onChange:Xl.default.func,onKeyDown:Xl.default.func,onKeyUp:Xl.default.func,placeholder:Xl.default.string,required:Xl.default.bool,showLeadingZeros:Xl.default.bool,value:Xl.default.string};var mL={},V5=En&&En.__assign||function(){return V5=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},V5.apply(this,arguments)},nK=En&&En.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n},m9=En&&En.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mL,"__esModule",{value:!0});var rK=m9(V),Kl=m9(bs),M6=Qu,iK=m9(a1),D6=Ka,kP=vl;function gL(e){var t=e.hour,n=e.maxTime,i=e.minTime,o=e.showLeadingZeros,u=o===void 0?!0:o,f=nK(e,["hour","maxTime","minTime","showLeadingZeros"]);function a(k){return t===(0,M6.getHours)(k).toString()}var y=(0,kP.safeMin)(59,n&&a(n)&&(0,M6.getMinutes)(n)),w=(0,kP.safeMax)(0,i&&a(i)&&(0,M6.getMinutes)(i));return rK.default.createElement(iK.default,V5({max:y,min:w,name:"minute",showLeadingZeros:u},f))}var oK=mL.default=gL;gL.propTypes={ariaLabel:Kl.default.string,className:Kl.default.string.isRequired,disabled:Kl.default.bool,hour:Kl.default.string,inputRef:D6.isRef,maxTime:D6.isTime,minTime:D6.isTime,onChange:Kl.default.func,onKeyDown:Kl.default.func,onKeyUp:Kl.default.func,placeholder:Kl.default.string,required:Kl.default.bool,showLeadingZeros:Kl.default.bool,value:Kl.default.string};var _L={},W5=En&&En.__assign||function(){return W5=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},W5.apply(this,arguments)},aK=En&&En.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n},g9=En&&En.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_L,"__esModule",{value:!0});var sK=g9(V),sl=g9(bs),xv=Qu,lK=g9(a1),R6=Ka,PP=vl;function yL(e){var t=e.hour,n=e.maxTime,i=e.minTime,o=e.minute,u=e.showLeadingZeros,f=u===void 0?!0:u,a=aK(e,["hour","maxTime","minTime","minute","showLeadingZeros"]);function y(M){return t===(0,xv.getHours)(M).toString()&&o===(0,xv.getMinutes)(M).toString()}var w=(0,PP.safeMin)(59,n&&y(n)&&(0,xv.getSeconds)(n)),k=(0,PP.safeMax)(0,i&&y(i)&&(0,xv.getSeconds)(i));return sK.default.createElement(lK.default,W5({max:w,min:k,name:"second",showLeadingZeros:f},a))}var cK=_L.default=yL;yL.propTypes={ariaLabel:sl.default.string,className:sl.default.string.isRequired,disabled:sl.default.bool,hour:sl.default.string,inputRef:R6.isRef,maxTime:R6.isTime,minTime:R6.isTime,minute:sl.default.string,onChange:sl.default.func,onKeyDown:sl.default.func,onKeyUp:sl.default.func,placeholder:sl.default.string,required:sl.default.bool,showLeadingZeros:sl.default.bool,value:sl.default.string};var vL={},_9=En&&En.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vL,"__esModule",{value:!0});var bv=_9(V),Mu=_9(bs),uK=_9(aL),IP=Qu,AP=kp,O6=Ka,dK=vl;function xL(e){var t=e.ariaLabel,n=e.autoFocus,i=e.className,o=e.disabled,u=e.inputRef,f=e.locale,a=e.maxTime,y=e.minTime,w=e.onChange,k=e.onKeyDown,M=e.required,O=e.value,$=y?(0,AP.convert24to12)((0,IP.getHours)(y))[1]==="pm":!1,N=a?(0,AP.convert24to12)((0,IP.getHours)(a))[1]==="am":!1,B="amPm",J=(0,dK.getAmPmLabels)(f),U=J[0],G=J[1];return bv.default.createElement("select",{"aria-label":t,autoFocus:n,className:(0,uK.default)("".concat(i,"__input"),"".concat(i,"__").concat(B)),"data-input":"true","data-select":"true",disabled:o,name:B,onChange:w,onKeyDown:k,ref:u,required:M,value:O!==null?O:""},!O&&bv.default.createElement("option",{value:""},"--"),bv.default.createElement("option",{disabled:$,value:"am"},U),bv.default.createElement("option",{disabled:N,value:"pm"},G))}var hK=vL.default=xL;xL.propTypes={ariaLabel:Mu.default.string,autoFocus:Mu.default.bool,className:Mu.default.string.isRequired,disabled:Mu.default.bool,inputRef:O6.isRef,locale:Mu.default.string,maxTime:O6.isTime,minTime:O6.isTime,onChange:Mu.default.func,onKeyDown:Mu.default.func,required:Mu.default.bool,value:Mu.default.oneOf(["am","pm"])};var pK=globalThis&&globalThis.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var i=0,o=t.length,u;i<o;i++)(u||!(i in t))&&(u||(u=Array.prototype.slice.call(t,0,i)),u[i]=t[i]);return e.concat(u||Array.prototype.slice.call(t))},fK=["hour","minute","second"],mK=pK([],fK,!0),y9=function(t,n,i){var o=t,u=n,f=o[u];if(!f)return null;if(!(f instanceof Date))return new Error("Invalid prop `".concat(n,"` of type `").concat(typeof f,"` supplied to `").concat(i,"`, expected instance of `Date`."));var a=t.maxDate;return a&&f>a?new Error("Invalid prop `".concat(n,"` of type `").concat(typeof f,"` supplied to `").concat(i,"`, minDate cannot be larger than maxDate.")):null},v9=function(t,n,i){var o=t,u=n,f=o[u];if(!f)return null;if(!(f instanceof Date))return new Error("Invalid prop `".concat(n,"` of type `").concat(typeof f,"` supplied to `").concat(i,"`, expected instance of `Date`."));var a=t.minDate;return a&&f<a?new Error("Invalid prop `".concat(n,"` of type `").concat(typeof f,"` supplied to `").concat(i,"`, maxDate cannot be smaller than minDate.")):null},gK=Se.oneOf(mK),_K=function(e){return Se.arrayOf(e)};function bL(e){var t=e.ariaLabel,n=e.disabled,i=e.maxDate,o=e.minDate,u=e.name,f=e.onChange,a=e.required,y=e.value,w=e.valueType,k=function(){switch(w){case"hour":return function($){return"".concat(W2($),"T").concat(uh($),":00")};case"minute":return function($){return"".concat(W2($),"T").concat(nO($))};case"second":return rO;default:throw new Error("Invalid valueType")}}(),M=function(){switch(w){case"hour":return 3600;case"minute":return 60;case"second":return 1;default:throw new Error("Invalid valueType")}}();function O($){$.stopPropagation()}return Zt.createElement("input",{"aria-label":t,disabled:n,hidden:!0,max:i?k(i):void 0,min:o?k(o):void 0,name:u,onChange:f,onFocus:O,required:a,step:M,style:{visibility:"hidden",position:"absolute",zIndex:"-999"},type:"datetime-local",value:y?k(y):""})}bL.propTypes={ariaLabel:Se.string,disabled:Se.bool,maxDate:v9,minDate:y9,name:Se.string,onChange:Se.func,required:Se.bool,value:Se.oneOfType([Se.string,Se.instanceOf(Date)]),valueType:gK};var L6=new Map;function Y2(e){return function(n,i){var o=n||x_();L6.has(o)||L6.set(o,new Map);var u=L6.get(o);return u.has(e)||u.set(e,new Intl.DateTimeFormat(o||void 0,e).format),u.get(e)(i)}}var z6=new Map;function yK(e){return function(t,n){var i=t||x_();z6.has(i)||z6.set(i,new Map);var o=z6.get(i);return o.has(e)||o.set(e,new Intl.NumberFormat(i||void 0,e).format),o.get(e)(n)}}var vK={day:"numeric",month:"numeric",year:"numeric"},xK=Y2(vK);function MP(e,t){var n=Number(e);return t==="am"&&n===12?n=0:t==="pm"&&n<12&&(n+=12),n}function bK(e){var t=Number(e)%12||12;return[t,Number(e)<12?"am":"pm"]}function wK(e,t,n){return t&&t>e?t:n&&n<e?n:e}var EK=["9","٩"],DP=new RegExp("[".concat(EK.join(""),"]")),RP=Y2({hour:"numeric"});function SK(e){var t=RP(e,new Date(2017,0,1,9)),n=RP(e,new Date(2017,0,1,21)),i=t.split(DP),o=i[0],u=i[1],f=n.split(DP),a=f[0],y=f[1];if(y!==void 0){if(o!==a)return[o,a].map(function(w){return w.trim()});if(u!==y)return[u,y].map(function(w){return w.trim()})}return["AM","PM"]}var Yl=globalThis&&globalThis.__assign||function(){return Yl=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Yl.apply(this,arguments)},OP=globalThis&&globalThis.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var i=0,o=t.length,u;i<o;i++)(u||!(i in t))&&(u||(u=Array.prototype.slice.call(t,0,i)),u[i]=t[i]);return e.concat(u||Array.prototype.slice.call(t))},wv={},og=new Date;og.setFullYear(1,0,1);og.setHours(0,0,0,0);var F6=new Date(864e13),wL=["hour","minute","second"];function EL(e){return e instanceof Date?e:new Date(e)}function LP(e,t,n,i){return t===ti(e).toString()&&n===E_(e).toString()&&i===xh(e).toString()}function TK(e,t){var n=Array.isArray(e)?e[t]:e;if(!n)return null;var i=EL(n);if(isNaN(i.getTime()))throw new Error("Invalid date: ".concat(e));return i}function CK(e,t){var n=e.value,i=e.minDate,o=e.maxDate,u=TK(n,t);return u?wK(u,i,o):null}var kK=function(e){return CK(e,0)};function PK(e){return e.dataset.input==="true"}function zP(e,t){var n=e;do n=n[t];while(n&&!PK(n));return n}function N6(e){e&&e.focus()}function IK(e,t,n){var i=[],o=new RegExp(Object.keys(t).map(function(f){return"".concat(f,"+")}).join("|"),"g"),u=e.match(o);return e.split(o).reduce(function(f,a,y){var w=a&&Zt.createElement(FO,{key:"separator_".concat(y)},a),k=OP(OP([],f,!0),[w],!1),M=u&&u[y];if(M){var O=t[M]||t[Object.keys(t).find(function($){return M.match($)})];if(!O)return k;!n&&i.includes(O)?k.push(M):(k.push(O(M,y)),i.push(O))}return k},[])}var Ev=yK({useGrouping:!1});function SL(e){var t=e.amPmAriaLabel,n=e.autoFocus,i=e.className,o=e.dayAriaLabel,u=e.dayPlaceholder,f=e.disabled,a=e.format,y=e.hourAriaLabel,w=e.hourPlaceholder,k=e.isWidgetOpen,M=e.locale,O=e.maxDate,$=e.maxDetail,N=$===void 0?"minute":$,B=e.minDate,J=e.minuteAriaLabel,U=e.minutePlaceholder,G=e.monthAriaLabel,Z=e.monthPlaceholder,Q=e.name,se=Q===void 0?"datetime":Q,ce=e.nativeInputAriaLabel,A=e.onChange,_e=e.onInvalidChange,le=e.required,ve=e.secondAriaLabel,Ue=e.secondPlaceholder,$e=e.showLeadingZeros,Ae=e.value,Re=e.yearAriaLabel,Oe=e.yearPlaceholder,Ye=V.useState(null),Qe=Ye[0],ze=Ye[1],Pe=V.useState(null),je=Pe[0],lt=Pe[1],ot=V.useState(null),ct=ot[0],Ct=ot[1],ut=V.useState(null),yt=ut[0],Dt=ut[1],Rt=V.useState(null),St=Rt[0],Qt=Rt[1],Lt=V.useState(null),qt=Lt[0],an=Lt[1],jt=V.useState(null),vt=jt[0],gn=jt[1],on=V.useState(null),Bn=on[0],Yn=on[1],On=V.useRef(null),zn=V.useRef(null),Mn=V.useRef(null),jn=V.useRef(null),yr=V.useRef(null),pt=V.useRef(null),sn=V.useRef(null),dn=V.useRef(null),en=V.useRef(null),ln=V.useState(k),un=ln[0],bn=ln[1],Dn=V.useRef();V.useEffect(function(){bn(k)},[k]),V.useEffect(function(){var Ce=kK({value:Ae,minDate:B,maxDate:O});Ce?(ze(bK(uh(Ce))[1]),lt(ti(Ce).toString()),Ct(E_(Ce).toString()),Dt(xh(Ce).toString()),Qt(uh(Ce).toString()),an(fp(Ce).toString()),gn(_0(Ce).toString()),Yn(EL(Ce))):(ze(null),lt(null),Ct(null),Dt(null),Qt(null),an(null),gn(null),Yn(null))},[Ae,B,O,un]);var Fn=N,er=function(){var Ce=wL.indexOf(N),ft=wv[Ce]||function(){var Ut={hour:"numeric"};return Ce>=1&&(Ut.minute="numeric"),Ce>=2&&(Ut.second="numeric"),wv[Ce]=Ut,Ut}();return Y2(ft)}(),Ar=function(){var Ce=2017,ft=11,Ut=11,pn=new Date(Ce,ft,Ut),fr=xK(M,pn),Mr=["year","month","day"],Hn=["y","M","d"];function Do(yo,ra){var $i=wv[yo]||function(){var Ui,vo=(Ui={},Ui[yo]="numeric",Ui);return wv[yo]=vo,vo}();return Y2($i)(M,ra).match(/\d{1,}/)}var _o=fr;return Mr.forEach(function(yo,ra){var $i=Do(yo,pn);if($i){var Ui=$i[0],vo=Hn[ra];_o=_o.replace(Ui,vo)}}),_o=_o.replace("17","y"),_o}(),pr=function(){var Ce=21,ft=9,Ut=13,pn=14,fr=new Date(2017,0,1,Ce,Ut,pn);return er(M,fr).replace(Ev(M,ft),"h").replace(Ev(M,Ce),"H").replace(Ev(M,Ut),"mm").replace(Ev(M,pn),"ss").replace(new RegExp(SK(M).join("|")),"a")}(),mi=a||"".concat(Ar," ").concat(pr),Hr=function(){var Ce=Ar.match(/[^0-9a-z]/i);return Ce?Ce[0]:null}(),ke=function(){var Ce=pr.match(/[^0-9a-z]/i);return Ce?Ce[0]:null}(),oe=function(){if(O&&LP(O,je,ct,yt))return V2(O||F6)}(),ae=function(){if(B&&LP(B,je,ct,yt))return V2(B||og)}();function xe(Ce){if(Ce.target===Ce.currentTarget){var ft=Ce.target.children[1];N6(ft)}}function Fe(Ce){switch(Dn.current=Ce.key,Ce.key){case"ArrowLeft":case"ArrowRight":case Hr:case ke:{Ce.preventDefault();var ft=Ce.target,Ut=Ce.key==="ArrowLeft"?"previousElementSibling":"nextElementSibling",pn=zP(ft,Ut);N6(pn);break}}}function Be(Ce){var ft=Ce.key,Ut=Ce.target,pn=Dn.current===ft;if(pn){var fr=!isNaN(Number(ft));if(fr){var Mr=Ut.getAttribute("max");if(Mr){var Hn=Ut.value;if(Number(Hn)*10>Number(Mr)||Hn.length>=Mr.length){var Do="nextElementSibling",_o=zP(Ut,Do);N6(_o)}}}}}function et(){if(!A)return;function Ce(Vi){return!!Vi}var ft=[On.current,yr.current,Mn.current,jn.current,zn.current,pt.current,sn.current,dn.current,en.current].filter(Ce),Ut=ft.slice(1),pn={};ft.forEach(function(Vi){pn[Vi.name]=Vi.type==="number"?"valueAsNumber"in Vi?Vi.valueAsNumber:Number(Vi.value):Vi.value});var fr=Ut.every(function(Vi){return!Vi.value});if(fr){A(null,!1);return}var Mr=ft.every(function(Vi){return Vi.value}),Hn=ft.every(function(Vi){return Vi.validity.valid});if(Mr&&Hn){var Do=Number(pn.year||new Date().getFullYear()),_o=Number(pn.month||1)-1,yo=Number(pn.day||1),ra=Number(pn.hour24||pn.hour12&&pn.amPm&&MP(pn.hour12,pn.amPm)||0),$i=Number(pn.minute||0),Ui=Number(pn.second||0),vo=new Date;vo.setFullYear(Do,_o,yo),vo.setHours(ra,$i,Ui,0),A(vo,!1);return}_e&&_e()}function nt(Ce){var ft=Ce.target,Ut=ft.name,pn=ft.value;switch(Ut){case"amPm":ze(pn);break;case"year":lt(pn);break;case"month":Ct(pn);break;case"day":Dt(pn);break;case"hour12":Qt(pn?MP(pn,Qe||"am").toString():"");break;case"hour24":Qt(pn);break;case"minute":an(pn);break;case"second":gn(pn);break}et()}function qe(Ce){var ft=Ce.target.value;if(A){var Ut=function(){if(!ft)return null;var pn=ft.split("T"),fr=pn[0],Mr=pn[1],Hn=fr.split("-"),Do=Hn[0],_o=Hn[1],yo=Hn[2],ra=Number(Do),$i=Number(_o)-1||0,Ui=Number(yo)||1,vo=Mr.split(":"),Vi=vo[0],Ba=vo[1],ja=vo[2],Il=Number(Vi)||0,Pt=Number(Ba)||0,fa=Number(ja)||0,ni=new Date;return ni.setFullYear(ra,$i,Ui),ni.setHours(Il,Pt,fa,0),ni}();A(Ut,!1)}}var He={className:i,disabled:f,maxDate:O||F6,minDate:B||og,onChange:nt,onKeyDown:Fe,onKeyUp:Be,required:!!(le||un)},Je={maxTime:oe,minTime:ae};function xt(Ce,ft){if(Ce&&Ce.length>2)throw new Error("Unsupported token: ".concat(Ce));var Ut=Ce&&Ce.length===2;return Zt.createElement(nX,Yl({key:"day"},He,{ariaLabel:o,autoFocus:ft===0&&n,inputRef:yr,month:ct,placeholder:u,showLeadingZeros:Ut||$e,value:yt,year:je}))}function kt(Ce,ft){if(Ce&&Ce.length>4)throw new Error("Unsupported token: ".concat(Ce));if(Ce.length>2)return Zt.createElement(fX,Yl({key:"month"},He,{ariaLabel:G,autoFocus:ft===0&&n,inputRef:jn,locale:M,placeholder:Z,short:Ce.length===3,value:ct,year:je}));var Ut=Ce&&Ce.length===2;return Zt.createElement(aX,Yl({key:"month"},He,{ariaLabel:G,autoFocus:ft===0&&n,inputRef:Mn,placeholder:Z,showLeadingZeros:Ut||$e,value:ct,year:je}))}function vn(Ce,ft){return Zt.createElement(yX,Yl({key:"year"},He,{ariaLabel:Re,autoFocus:ft===0&&n,inputRef:zn,placeholder:Oe,value:je,valueType:"day"}))}function Nn(Ce,ft){if(Ce&&Ce.length>2)throw new Error("Unsupported token: ".concat(Ce));var Ut=Ce?Ce.length===2:!1;return Zt.createElement(YX,Yl({key:"hour12"},He,Je,{amPm:Qe,ariaLabel:y,autoFocus:ft===0&&n,inputRef:pt,placeholder:w,showLeadingZeros:Ut,value:St}))}function Rn(Ce,ft){if(Ce&&Ce.length>2)throw new Error("Unsupported token: ".concat(Ce));var Ut=Ce?Ce.length===2:!1;return Zt.createElement(tK,Yl({key:"hour24"},He,Je,{ariaLabel:y,autoFocus:ft===0&&n,inputRef:sn,placeholder:w,showLeadingZeros:Ut,value:St}))}function $n(Ce,ft){return/h/.test(Ce)?Nn(Ce,ft):Rn(Ce,ft)}function Xn(Ce,ft){if(Ce&&Ce.length>2)throw new Error("Unsupported token: ".concat(Ce));var Ut=Ce?Ce.length===2:!1;return Zt.createElement(oK,Yl({key:"minute"},He,Je,{ariaLabel:J,autoFocus:ft===0&&n,hour:St,inputRef:dn,placeholder:U,showLeadingZeros:Ut,value:qt}))}function wr(Ce,ft){if(Ce&&Ce.length>2)throw new Error("Unsupported token: ".concat(Ce));var Ut=Ce?Ce.length===2:!0;return Zt.createElement(cK,Yl({key:"second"},He,Je,{ariaLabel:ve,autoFocus:ft===0&&n,hour:St,inputRef:en,minute:qt,placeholder:Ue,showLeadingZeros:Ut,value:vt}))}function Er(Ce,ft){return Zt.createElement(hK,Yl({key:"ampm"},He,Je,{ariaLabel:t,autoFocus:ft===0&&n,inputRef:On,locale:M,onChange:nt,value:Qe}))}function Rr(){var Ce={d:xt,M:kt,y:vn,h:$n,H:$n,m:Xn,s:wr,a:Er},ft=typeof a<"u";return IK(mi,Ce,ft)}function tt(){return Zt.createElement(bL,{key:"datetime",ariaLabel:ce,disabled:f,maxDate:O||F6,minDate:B||og,name:se,onChange:qe,required:le,value:Bn,valueType:Fn})}return Zt.createElement("div",{className:i,onClick:xe},tt(),Rr())}var AK=Se.oneOfType([Se.string,Se.instanceOf(Date)]);SL.propTypes={amPmAriaLabel:Se.string,autoFocus:Se.bool,className:Se.string.isRequired,dayAriaLabel:Se.string,dayPlaceholder:Se.string,disabled:Se.bool,format:Se.string,hourAriaLabel:Se.string,hourPlaceholder:Se.string,isWidgetOpen:Se.bool,locale:Se.string,maxDate:v9,maxDetail:Se.oneOf(wL),minDate:y9,minuteAriaLabel:Se.string,minutePlaceholder:Se.string,monthAriaLabel:Se.string,monthPlaceholder:Se.string,name:Se.string,nativeInputAriaLabel:Se.string,onChange:Se.func,required:Se.bool,secondAriaLabel:Se.string,secondPlaceholder:Se.string,showLeadingZeros:Se.bool,value:AK,yearAriaLabel:Se.string,yearPlaceholder:Se.string};var Hd=globalThis&&globalThis.__assign||function(){return Hd=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Hd.apply(this,arguments)},B6=globalThis&&globalThis.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n},Za="react-datetime-picker",MK=["mousedown","focusin","touchstart"],TL=["hour","minute","second"],CL={xmlns:"http://www.w3.org/2000/svg",width:19,height:19,viewBox:"0 0 19 19",stroke:"black",strokeWidth:2},DK=Zt.createElement("svg",Hd({},CL,{className:"".concat(Za,"__calendar-button__icon ").concat(Za,"__button__icon")}),Zt.createElement("rect",{fill:"none",height:"15",width:"15",x:"2",y:"2"}),Zt.createElement("line",{x1:"6",x2:"6",y1:"0",y2:"4"}),Zt.createElement("line",{x1:"13",x2:"13",y1:"0",y2:"4"})),RK=Zt.createElement("svg",Hd({},CL,{className:"".concat(Za,"__clear-button__icon ").concat(Za,"__button__icon")}),Zt.createElement("line",{x1:"4",x2:"15",y1:"4",y2:"15"}),Zt.createElement("line",{x1:"15",x2:"4",y1:"4",y2:"15"}));function kL(e){var t=e.amPmAriaLabel,n=e.autoFocus,i=e.calendarAriaLabel,o=e.calendarIcon,u=o===void 0?DK:o,f=e.className,a=e.clearAriaLabel,y=e.clearIcon,w=y===void 0?RK:y,k=e.closeWidgets,M=k===void 0?!0:k,O=e["data-testid"],$=e.dayAriaLabel,N=e.dayPlaceholder,B=e.disableCalendar,J=e.disableClock,U=e.disabled,G=e.format,Z=e.hourAriaLabel,Q=e.hourPlaceholder,se=e.id,ce=e.isCalendarOpen,A=ce===void 0?null:ce,_e=e.isClockOpen,le=_e===void 0?null:_e,ve=e.locale,Ue=e.maxDate,$e=e.maxDetail,Ae=$e===void 0?"minute":$e,Re=e.minDate,Oe=e.minuteAriaLabel,Ye=e.minutePlaceholder,Qe=e.monthAriaLabel,ze=e.monthPlaceholder,Pe=e.name,je=Pe===void 0?"datetime":Pe,lt=e.nativeInputAriaLabel,ot=e.onCalendarClose,ct=e.onCalendarOpen,Ct=e.onChange,ut=e.onClockClose,yt=e.onClockOpen,Dt=e.onFocus,Rt=e.onInvalidChange,St=e.openWidgetsOnFocus,Qt=St===void 0?!0:St,Lt=e.required,qt=e.secondAriaLabel,an=e.secondPlaceholder,jt=e.shouldCloseWidgets,vt=e.shouldOpenWidgets,gn=e.showLeadingZeros,on=e.value,Bn=e.yearAriaLabel,Yn=e.yearPlaceholder,On=B6(e,["amPmAriaLabel","autoFocus","calendarAriaLabel","calendarIcon","className","clearAriaLabel","clearIcon","closeWidgets","data-testid","dayAriaLabel","dayPlaceholder","disableCalendar","disableClock","disabled","format","hourAriaLabel","hourPlaceholder","id","isCalendarOpen","isClockOpen","locale","maxDate","maxDetail","minDate","minuteAriaLabel","minutePlaceholder","monthAriaLabel","monthPlaceholder","name","nativeInputAriaLabel","onCalendarClose","onCalendarOpen","onChange","onClockClose","onClockOpen","onFocus","onInvalidChange","openWidgetsOnFocus","required","secondAriaLabel","secondPlaceholder","shouldCloseWidgets","shouldOpenWidgets","showLeadingZeros","value","yearAriaLabel","yearPlaceholder"]),zn=V.useState(A),Mn=zn[0],jn=zn[1],yr=V.useState(le),pt=yr[0],sn=yr[1],dn=V.useRef(null),en=V.useRef(null),ln=V.useRef(null);V.useEffect(function(){jn(A)},[A]),V.useEffect(function(){sn(le)},[le]);function un(He){var Je=He.reason;vt&&!vt({reason:Je,widget:"calendar"})||(sn(pt&&!1),jn(!0),ct&&ct())}var bn=V.useCallback(function(He){var Je=He.reason;jt&&!jt({reason:Je,widget:"calendar"})||(jn(!1),ot&&ot())},[ot,jt]);function Dn(){Mn?bn({reason:"buttonClick"}):un({reason:"buttonClick"})}function Fn(He){var Je=He.reason;vt&&!vt({reason:Je,widget:"clock"})||(jn(Mn&&!1),sn(!0),yt&&yt())}var er=V.useCallback(function(He){var Je=He.reason;jt&&!jt({reason:Je,widget:"clock"})||(sn(!1),ut&&ut())},[ut,jt]),Ar=V.useCallback(function(He){var Je=He.reason;bn({reason:Je}),er({reason:Je})},[bn,er]);function pr(He,Je){Je===void 0&&(Je=M),Je&&Ar({reason:"select"}),Ct&&Ct(He)}function mi(He,Je){var xt=(Array.isArray(He)?He:[He])[0],kt=(Array.isArray(on)?on:[on])[0];if(kt&&xt){var vn=new Date(kt),Nn=new Date(xt);Nn.setHours(vn.getHours(),vn.getMinutes(),vn.getSeconds(),vn.getMilliseconds()),pr(Nn,Je)}else pr(xt,Je)}function Hr(He){if(Dt&&Dt(He),!(U||!Qt||He.target.dataset.select==="true"))switch(He.target.name){case"day":case"month":case"year":{if(Mn)return;un({reason:"focus"});break}case"hour12":case"hour24":case"minute":case"second":{if(pt)return;Fn({reason:"focus"});break}}}var ke=V.useCallback(function(He){He.key==="Escape"&&Ar({reason:"escape"})},[Ar]);function oe(){pr(null)}function ae(He){He.stopPropagation()}var xe=V.useCallback(function(He){var Je=dn.current,xt=en.current,kt=ln.current,vn="composedPath"in He?He.composedPath()[0]:He.target;vn&&Je&&!Je.contains(vn)&&(!xt||!xt.contains(vn))&&(!kt||!kt.contains(vn))&&Ar({reason:"outsideAction"})},[en,ln,Ar,dn]),Fe=V.useCallback(function(He){He===void 0&&(He=Mn||pt),MK.forEach(function(Je){He?document.addEventListener(Je,xe):document.removeEventListener(Je,xe)}),He?document.addEventListener("keydown",ke):document.removeEventListener("keydown",ke)},[Mn,pt,xe,ke]);V.useEffect(function(){return Fe(),function(){Fe(!1)}},[Fe]);function Be(){var He=(Array.isArray(on)?on:[on])[0],Je={amPmAriaLabel:t,dayAriaLabel:$,hourAriaLabel:Z,minuteAriaLabel:Oe,monthAriaLabel:Qe,nativeInputAriaLabel:lt,secondAriaLabel:qt,yearAriaLabel:Bn},xt={dayPlaceholder:N,hourPlaceholder:Q,minutePlaceholder:Ye,monthPlaceholder:ze,secondPlaceholder:an,yearPlaceholder:Yn};return Zt.createElement("div",{className:"".concat(Za,"__wrapper")},Zt.createElement(SL,Hd({},Je,xt,{autoFocus:n,className:"".concat(Za,"__inputGroup"),disabled:U,format:G,isWidgetOpen:Mn||pt,locale:ve,maxDate:Ue,maxDetail:Ae,minDate:Re,name:je,onChange:pr,onInvalidChange:Rt,required:Lt,showLeadingZeros:gn,value:He})),w!==null&&Zt.createElement("button",{"aria-label":a,className:"".concat(Za,"__clear-button ").concat(Za,"__button"),disabled:U,onClick:oe,onFocus:ae,type:"button"},typeof w=="function"?Zt.createElement(w):w),u!==null&&!B&&Zt.createElement("button",{"aria-label":i,className:"".concat(Za,"__calendar-button ").concat(Za,"__button"),disabled:U,onClick:Dn,onFocus:ae,type:"button"},typeof u=="function"?Zt.createElement(u):u))}function et(){if(Mn===null||B)return null;var He=e.calendarClassName;e.className,e.maxDetail,e.onChange;var Je=e.portalContainer,xt=e.value,kt=B6(e,["calendarClassName","className","maxDetail","onChange","portalContainer","value"]),vn="".concat(Za,"__calendar"),Nn=f6(vn,"".concat(vn,"--").concat(Mn?"open":"closed")),Rn=Zt.createElement(xZ,Hd({className:He,onChange:function($n){return mi($n)},value:xt},kt));return Je?ch.createPortal(Zt.createElement("div",{ref:en,className:Nn},Rn),Je):Zt.createElement(uP,null,Zt.createElement("div",{ref:function($n){$n&&!Mn&&$n.removeAttribute("style")},className:Nn},Rn))}function nt(){if(pt===null||J)return null;var He=e.clockClassName;e.className;var Je=e.maxDetail,xt=Je===void 0?"minute":Je;e.onChange;var kt=e.portalContainer,vn=e.value,Nn=B6(e,["clockClassName","className","maxDetail","onChange","portalContainer","value"]),Rn="".concat(Za,"__clock"),$n=f6(Rn,"".concat(Rn,"--").concat(pt?"open":"closed")),Xn=(Array.isArray(vn)?vn:[vn])[0],wr=TL.indexOf(xt),Er=Zt.createElement(OO,Hd({className:He,renderMinuteHand:wr>0,renderSecondHand:wr>1,value:Xn},Nn));return kt?ch.createPortal(Zt.createElement("div",{ref:ln,className:$n},Er),kt):Zt.createElement(uP,null,Zt.createElement("div",{ref:function(Rr){Rr&&!pt&&Rr.removeAttribute("style")},className:$n},Er))}var qe=V.useMemo(function(){return fq(On)},[On]);return Zt.createElement("div",Hd({className:f6(Za,"".concat(Za,"--").concat(Mn||pt?"open":"closed"),"".concat(Za,"--").concat(U?"disabled":"enabled"),f),"data-testid":O,id:se},qe,{onFocus:Hr,ref:dn}),Be(),et(),nt())}var FP=Se.oneOfType([Se.string,Se.instanceOf(Date)]),OK=Se.oneOfType([FP,_K(FP)]);kL.propTypes={amPmAriaLabel:Se.string,autoFocus:Se.bool,calendarAriaLabel:Se.string,calendarClassName:Se.oneOfType([Se.string,Se.arrayOf(Se.string)]),calendarIcon:Se.oneOfType([Se.node,Se.func]),className:Se.oneOfType([Se.string,Se.arrayOf(Se.string)]),clearAriaLabel:Se.string,clearIcon:Se.oneOfType([Se.node,Se.func]),clockClassName:Se.oneOfType([Se.string,Se.arrayOf(Se.string)]),closeWidgets:Se.bool,"data-testid":Se.string,dayAriaLabel:Se.string,dayPlaceholder:Se.string,disableCalendar:Se.bool,disableClock:Se.bool,disabled:Se.bool,format:Se.string,hourAriaLabel:Se.string,hourPlaceholder:Se.string,id:Se.string,isCalendarOpen:Se.bool,isClockOpen:Se.bool,locale:Se.string,maxDate:v9,maxDetail:Se.oneOf(TL),minDate:y9,minuteAriaLabel:Se.string,minutePlaceholder:Se.string,monthAriaLabel:Se.string,monthPlaceholder:Se.string,name:Se.string,nativeInputAriaLabel:Se.string,onCalendarClose:Se.func,onCalendarOpen:Se.func,onChange:Se.func,onClockClose:Se.func,onClockOpen:Se.func,onFocus:Se.func,openWidgetsOnFocus:Se.bool,portalContainer:Se.object,required:Se.bool,secondAriaLabel:Se.string,secondPlaceholder:Se.string,showLeadingZeros:Se.bool,value:OK,yearAriaLabel:Se.string,yearPlaceholder:Se.string};function PL(e,t){return function(){return e.apply(t,arguments)}}const{toString:LK}=Object.prototype,{getPrototypeOf:x9}=Object,ub=(e=>t=>{const n=LK.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),su=e=>(e=e.toLowerCase(),t=>ub(t)===e),db=e=>t=>typeof t===e,{isArray:s1}=Array,Kg=db("undefined");function zK(e){return e!==null&&!Kg(e)&&e.constructor!==null&&!Kg(e.constructor)&&xl(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const IL=su("ArrayBuffer");function FK(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&IL(e.buffer),t}const NK=db("string"),xl=db("function"),AL=db("number"),hb=e=>e!==null&&typeof e=="object",BK=e=>e===!0||e===!1,e2=e=>{if(ub(e)!=="object")return!1;const t=x9(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},jK=su("Date"),$K=su("File"),UK=su("Blob"),VK=su("FileList"),WK=e=>hb(e)&&xl(e.pipe),HK=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||xl(e.append)&&((t=ub(e))==="formdata"||t==="object"&&xl(e.toString)&&e.toString()==="[object FormData]"))},qK=su("URLSearchParams"),GK=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function A_(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let i,o;if(typeof e!="object"&&(e=[e]),s1(e))for(i=0,o=e.length;i<o;i++)t.call(null,e[i],i,e);else{const u=n?Object.getOwnPropertyNames(e):Object.keys(e),f=u.length;let a;for(i=0;i<f;i++)a=u[i],t.call(null,e[a],a,e)}}function ML(e,t){t=t.toLowerCase();const n=Object.keys(e);let i=n.length,o;for(;i-- >0;)if(o=n[i],t===o.toLowerCase())return o;return null}const DL=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),RL=e=>!Kg(e)&&e!==DL;function H5(){const{caseless:e}=RL(this)&&this||{},t={},n=(i,o)=>{const u=e&&ML(t,o)||o;e2(t[u])&&e2(i)?t[u]=H5(t[u],i):e2(i)?t[u]=H5({},i):s1(i)?t[u]=i.slice():t[u]=i};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&A_(arguments[i],n);return t}const ZK=(e,t,n,{allOwnKeys:i}={})=>(A_(t,(o,u)=>{n&&xl(o)?e[u]=PL(o,n):e[u]=o},{allOwnKeys:i}),e),XK=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),KK=(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},YK=(e,t,n,i)=>{let o,u,f;const a={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),u=o.length;u-- >0;)f=o[u],(!i||i(f,e,t))&&!a[f]&&(t[f]=e[f],a[f]=!0);e=n!==!1&&x9(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},JK=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return i!==-1&&i===n},QK=e=>{if(!e)return null;if(s1(e))return e;let t=e.length;if(!AL(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},eY=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&x9(Uint8Array)),tY=(e,t)=>{const i=(e&&e[Symbol.iterator]).call(e);let o;for(;(o=i.next())&&!o.done;){const u=o.value;t.call(e,u[0],u[1])}},nY=(e,t)=>{let n;const i=[];for(;(n=e.exec(t))!==null;)i.push(n);return i},rY=su("HTMLFormElement"),iY=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,o){return i.toUpperCase()+o}),NP=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),oY=su("RegExp"),OL=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};A_(n,(o,u)=>{t(o,u,e)!==!1&&(i[u]=o)}),Object.defineProperties(e,i)},aY=e=>{OL(e,(t,n)=>{if(xl(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=e[n];if(xl(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},sY=(e,t)=>{const n={},i=o=>{o.forEach(u=>{n[u]=!0})};return s1(e)?i(e):i(String(e).split(t)),n},lY=()=>{},cY=(e,t)=>(e=+e,Number.isFinite(e)?e:t),j6="abcdefghijklmnopqrstuvwxyz",BP="0123456789",LL={DIGIT:BP,ALPHA:j6,ALPHA_DIGIT:j6+j6.toUpperCase()+BP},uY=(e=16,t=LL.ALPHA_DIGIT)=>{let n="";const{length:i}=t;for(;e--;)n+=t[Math.random()*i|0];return n};function dY(e){return!!(e&&xl(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const hY=e=>{const t=new Array(10),n=(i,o)=>{if(hb(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[o]=i;const u=s1(i)?[]:{};return A_(i,(f,a)=>{const y=n(f,o+1);!Kg(y)&&(u[a]=y)}),t[o]=void 0,u}}return i};return n(e,0)},pY=su("AsyncFunction"),fY=e=>e&&(hb(e)||xl(e))&&xl(e.then)&&xl(e.catch),Gt={isArray:s1,isArrayBuffer:IL,isBuffer:zK,isFormData:HK,isArrayBufferView:FK,isString:NK,isNumber:AL,isBoolean:BK,isObject:hb,isPlainObject:e2,isUndefined:Kg,isDate:jK,isFile:$K,isBlob:UK,isRegExp:oY,isFunction:xl,isStream:WK,isURLSearchParams:qK,isTypedArray:eY,isFileList:VK,forEach:A_,merge:H5,extend:ZK,trim:GK,stripBOM:XK,inherits:KK,toFlatObject:YK,kindOf:ub,kindOfTest:su,endsWith:JK,toArray:QK,forEachEntry:tY,matchAll:nY,isHTMLForm:rY,hasOwnProperty:NP,hasOwnProp:NP,reduceDescriptors:OL,freezeMethods:aY,toObjectSet:sY,toCamelCase:iY,noop:lY,toFiniteNumber:cY,findKey:ML,global:DL,isContextDefined:RL,ALPHABET:LL,generateString:uY,isSpecCompliantForm:dY,toJSONObject:hY,isAsyncFn:pY,isThenable:fY};function Vr(e,t,n,i,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),o&&(this.response=o)}Gt.inherits(Vr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Gt.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const zL=Vr.prototype,FL={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{FL[e]={value:e}});Object.defineProperties(Vr,FL);Object.defineProperty(zL,"isAxiosError",{value:!0});Vr.from=(e,t,n,i,o,u)=>{const f=Object.create(zL);return Gt.toFlatObject(e,f,function(y){return y!==Error.prototype},a=>a!=="isAxiosError"),Vr.call(f,e.message,t,n,i,o),f.cause=e,f.name=e.name,u&&Object.assign(f,u),f};const mY=null;function q5(e){return Gt.isPlainObject(e)||Gt.isArray(e)}function NL(e){return Gt.endsWith(e,"[]")?e.slice(0,-2):e}function jP(e,t,n){return e?e.concat(t).map(function(o,u){return o=NL(o),!n&&u?"["+o+"]":o}).join(n?".":""):t}function gY(e){return Gt.isArray(e)&&!e.some(q5)}const _Y=Gt.toFlatObject(Gt,{},null,function(t){return/^is[A-Z]/.test(t)});function pb(e,t,n){if(!Gt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=Gt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(B,J){return!Gt.isUndefined(J[B])});const i=n.metaTokens,o=n.visitor||k,u=n.dots,f=n.indexes,y=(n.Blob||typeof Blob<"u"&&Blob)&&Gt.isSpecCompliantForm(t);if(!Gt.isFunction(o))throw new TypeError("visitor must be a function");function w(N){if(N===null)return"";if(Gt.isDate(N))return N.toISOString();if(!y&&Gt.isBlob(N))throw new Vr("Blob is not supported. Use a Buffer instead.");return Gt.isArrayBuffer(N)||Gt.isTypedArray(N)?y&&typeof Blob=="function"?new Blob([N]):Buffer.from(N):N}function k(N,B,J){let U=N;if(N&&!J&&typeof N=="object"){if(Gt.endsWith(B,"{}"))B=i?B:B.slice(0,-2),N=JSON.stringify(N);else if(Gt.isArray(N)&&gY(N)||(Gt.isFileList(N)||Gt.endsWith(B,"[]"))&&(U=Gt.toArray(N)))return B=NL(B),U.forEach(function(Z,Q){!(Gt.isUndefined(Z)||Z===null)&&t.append(f===!0?jP([B],Q,u):f===null?B:B+"[]",w(Z))}),!1}return q5(N)?!0:(t.append(jP(J,B,u),w(N)),!1)}const M=[],O=Object.assign(_Y,{defaultVisitor:k,convertValue:w,isVisitable:q5});function $(N,B){if(!Gt.isUndefined(N)){if(M.indexOf(N)!==-1)throw Error("Circular reference detected in "+B.join("."));M.push(N),Gt.forEach(N,function(U,G){(!(Gt.isUndefined(U)||U===null)&&o.call(t,U,Gt.isString(G)?G.trim():G,B,O))===!0&&$(U,B?B.concat(G):[G])}),M.pop()}}if(!Gt.isObject(e))throw new TypeError("data must be an object");return $(e),t}function $P(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function b9(e,t){this._pairs=[],e&&pb(e,this,t)}const BL=b9.prototype;BL.append=function(t,n){this._pairs.push([t,n])};BL.toString=function(t){const n=t?function(i){return t.call(this,i,$P)}:$P;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function yY(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function jL(e,t,n){if(!t)return e;const i=n&&n.encode||yY,o=n&&n.serialize;let u;if(o?u=o(t,n):u=Gt.isURLSearchParams(t)?t.toString():new b9(t,n).toString(i),u){const f=e.indexOf("#");f!==-1&&(e=e.slice(0,f)),e+=(e.indexOf("?")===-1?"?":"&")+u}return e}class vY{constructor(){this.handlers=[]}use(t,n,i){return this.handlers.push({fulfilled:t,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Gt.forEach(this.handlers,function(i){i!==null&&t(i)})}}const UP=vY,$L={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},xY=typeof URLSearchParams<"u"?URLSearchParams:b9,bY=typeof FormData<"u"?FormData:null,wY=typeof Blob<"u"?Blob:null,EY=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),SY=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Gc={isBrowser:!0,classes:{URLSearchParams:xY,FormData:bY,Blob:wY},isStandardBrowserEnv:EY,isStandardBrowserWebWorkerEnv:SY,protocols:["http","https","file","blob","url","data"]};function TY(e,t){return pb(e,new Gc.classes.URLSearchParams,Object.assign({visitor:function(n,i,o,u){return Gc.isNode&&Gt.isBuffer(n)?(this.append(i,n.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},t))}function CY(e){return Gt.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function kY(e){const t={},n=Object.keys(e);let i;const o=n.length;let u;for(i=0;i<o;i++)u=n[i],t[u]=e[u];return t}function UL(e){function t(n,i,o,u){let f=n[u++];const a=Number.isFinite(+f),y=u>=n.length;return f=!f&&Gt.isArray(o)?o.length:f,y?(Gt.hasOwnProp(o,f)?o[f]=[o[f],i]:o[f]=i,!a):((!o[f]||!Gt.isObject(o[f]))&&(o[f]=[]),t(n,i,o[f],u)&&Gt.isArray(o[f])&&(o[f]=kY(o[f])),!a)}if(Gt.isFormData(e)&&Gt.isFunction(e.entries)){const n={};return Gt.forEachEntry(e,(i,o)=>{t(CY(i),o,n,0)}),n}return null}const PY={"Content-Type":void 0};function IY(e,t,n){if(Gt.isString(e))try{return(t||JSON.parse)(e),Gt.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(e)}const fb={transitional:$L,adapter:["xhr","http"],transformRequest:[function(t,n){const i=n.getContentType()||"",o=i.indexOf("application/json")>-1,u=Gt.isObject(t);if(u&&Gt.isHTMLForm(t)&&(t=new FormData(t)),Gt.isFormData(t))return o&&o?JSON.stringify(UL(t)):t;if(Gt.isArrayBuffer(t)||Gt.isBuffer(t)||Gt.isStream(t)||Gt.isFile(t)||Gt.isBlob(t))return t;if(Gt.isArrayBufferView(t))return t.buffer;if(Gt.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(u){if(i.indexOf("application/x-www-form-urlencoded")>-1)return TY(t,this.formSerializer).toString();if((a=Gt.isFileList(t))||i.indexOf("multipart/form-data")>-1){const y=this.env&&this.env.FormData;return pb(a?{"files[]":t}:t,y&&new y,this.formSerializer)}}return u||o?(n.setContentType("application/json",!1),IY(t)):t}],transformResponse:[function(t){const n=this.transitional||fb.transitional,i=n&&n.forcedJSONParsing,o=this.responseType==="json";if(t&&Gt.isString(t)&&(i&&!this.responseType||o)){const f=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(a){if(f)throw a.name==="SyntaxError"?Vr.from(a,Vr.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Gc.classes.FormData,Blob:Gc.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Gt.forEach(["delete","get","head"],function(t){fb.headers[t]={}});Gt.forEach(["post","put","patch"],function(t){fb.headers[t]=Gt.merge(PY)});const w9=fb,AY=Gt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),MY=e=>{const t={};let n,i,o;return e&&e.split(`
`).forEach(function(f){o=f.indexOf(":"),n=f.substring(0,o).trim().toLowerCase(),i=f.substring(o+1).trim(),!(!n||t[n]&&AY[n])&&(n==="set-cookie"?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)}),t},VP=Symbol("internals");function Pm(e){return e&&String(e).trim().toLowerCase()}function t2(e){return e===!1||e==null?e:Gt.isArray(e)?e.map(t2):String(e)}function DY(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(e);)t[i[1]]=i[2];return t}const RY=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function $6(e,t,n,i,o){if(Gt.isFunction(i))return i.call(this,t,n);if(o&&(t=n),!!Gt.isString(t)){if(Gt.isString(i))return t.indexOf(i)!==-1;if(Gt.isRegExp(i))return i.test(t)}}function OY(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,i)=>n.toUpperCase()+i)}function LY(e,t){const n=Gt.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+n,{value:function(o,u,f){return this[i].call(this,t,o,u,f)},configurable:!0})})}class mb{constructor(t){t&&this.set(t)}set(t,n,i){const o=this;function u(a,y,w){const k=Pm(y);if(!k)throw new Error("header name must be a non-empty string");const M=Gt.findKey(o,k);(!M||o[M]===void 0||w===!0||w===void 0&&o[M]!==!1)&&(o[M||y]=t2(a))}const f=(a,y)=>Gt.forEach(a,(w,k)=>u(w,k,y));return Gt.isPlainObject(t)||t instanceof this.constructor?f(t,n):Gt.isString(t)&&(t=t.trim())&&!RY(t)?f(MY(t),n):t!=null&&u(n,t,i),this}get(t,n){if(t=Pm(t),t){const i=Gt.findKey(this,t);if(i){const o=this[i];if(!n)return o;if(n===!0)return DY(o);if(Gt.isFunction(n))return n.call(this,o,i);if(Gt.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Pm(t),t){const i=Gt.findKey(this,t);return!!(i&&this[i]!==void 0&&(!n||$6(this,this[i],i,n)))}return!1}delete(t,n){const i=this;let o=!1;function u(f){if(f=Pm(f),f){const a=Gt.findKey(i,f);a&&(!n||$6(i,i[a],a,n))&&(delete i[a],o=!0)}}return Gt.isArray(t)?t.forEach(u):u(t),o}clear(t){const n=Object.keys(this);let i=n.length,o=!1;for(;i--;){const u=n[i];(!t||$6(this,this[u],u,t,!0))&&(delete this[u],o=!0)}return o}normalize(t){const n=this,i={};return Gt.forEach(this,(o,u)=>{const f=Gt.findKey(i,u);if(f){n[f]=t2(o),delete n[u];return}const a=t?OY(u):String(u).trim();a!==u&&delete n[u],n[a]=t2(o),i[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return Gt.forEach(this,(i,o)=>{i!=null&&i!==!1&&(n[o]=t&&Gt.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const i=new this(t);return n.forEach(o=>i.set(o)),i}static accessor(t){const i=(this[VP]=this[VP]={accessors:{}}).accessors,o=this.prototype;function u(f){const a=Pm(f);i[a]||(LY(o,f),i[a]=!0)}return Gt.isArray(t)?t.forEach(u):u(t),this}}mb.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Gt.freezeMethods(mb.prototype);Gt.freezeMethods(mb);const $u=mb;function U6(e,t){const n=this||w9,i=t||n,o=$u.from(i.headers);let u=i.data;return Gt.forEach(e,function(a){u=a.call(n,u,o.normalize(),t?t.status:void 0)}),o.normalize(),u}function VL(e){return!!(e&&e.__CANCEL__)}function M_(e,t,n){Vr.call(this,e??"canceled",Vr.ERR_CANCELED,t,n),this.name="CanceledError"}Gt.inherits(M_,Vr,{__CANCEL__:!0});function zY(e,t,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?e(n):t(new Vr("Request failed with status code "+n.status,[Vr.ERR_BAD_REQUEST,Vr.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const FY=Gc.isStandardBrowserEnv?function(){return{write:function(n,i,o,u,f,a){const y=[];y.push(n+"="+encodeURIComponent(i)),Gt.isNumber(o)&&y.push("expires="+new Date(o).toGMTString()),Gt.isString(u)&&y.push("path="+u),Gt.isString(f)&&y.push("domain="+f),a===!0&&y.push("secure"),document.cookie=y.join("; ")},read:function(n){const i=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function NY(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function BY(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function WL(e,t){return e&&!NY(t)?BY(e,t):t}const jY=Gc.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let i;function o(u){let f=u;return t&&(n.setAttribute("href",f),f=n.href),n.setAttribute("href",f),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=o(window.location.href),function(f){const a=Gt.isString(f)?o(f):f;return a.protocol===i.protocol&&a.host===i.host}}():function(){return function(){return!0}}();function $Y(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function UY(e,t){e=e||10;const n=new Array(e),i=new Array(e);let o=0,u=0,f;return t=t!==void 0?t:1e3,function(y){const w=Date.now(),k=i[u];f||(f=w),n[o]=y,i[o]=w;let M=u,O=0;for(;M!==o;)O+=n[M++],M=M%e;if(o=(o+1)%e,o===u&&(u=(u+1)%e),w-f<t)return;const $=k&&w-k;return $?Math.round(O*1e3/$):void 0}}function WP(e,t){let n=0;const i=UY(50,250);return o=>{const u=o.loaded,f=o.lengthComputable?o.total:void 0,a=u-n,y=i(a),w=u<=f;n=u;const k={loaded:u,total:f,progress:f?u/f:void 0,bytes:a,rate:y||void 0,estimated:y&&f&&w?(f-u)/y:void 0,event:o};k[t?"download":"upload"]=!0,e(k)}}const VY=typeof XMLHttpRequest<"u",WY=VY&&function(e){return new Promise(function(n,i){let o=e.data;const u=$u.from(e.headers).normalize(),f=e.responseType;let a;function y(){e.cancelToken&&e.cancelToken.unsubscribe(a),e.signal&&e.signal.removeEventListener("abort",a)}Gt.isFormData(o)&&(Gc.isStandardBrowserEnv||Gc.isStandardBrowserWebWorkerEnv?u.setContentType(!1):u.setContentType("multipart/form-data;",!1));let w=new XMLHttpRequest;if(e.auth){const $=e.auth.username||"",N=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";u.set("Authorization","Basic "+btoa($+":"+N))}const k=WL(e.baseURL,e.url);w.open(e.method.toUpperCase(),jL(k,e.params,e.paramsSerializer),!0),w.timeout=e.timeout;function M(){if(!w)return;const $=$u.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),B={data:!f||f==="text"||f==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:$,config:e,request:w};zY(function(U){n(U),y()},function(U){i(U),y()},B),w=null}if("onloadend"in w?w.onloadend=M:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(M)},w.onabort=function(){w&&(i(new Vr("Request aborted",Vr.ECONNABORTED,e,w)),w=null)},w.onerror=function(){i(new Vr("Network Error",Vr.ERR_NETWORK,e,w)),w=null},w.ontimeout=function(){let N=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const B=e.transitional||$L;e.timeoutErrorMessage&&(N=e.timeoutErrorMessage),i(new Vr(N,B.clarifyTimeoutError?Vr.ETIMEDOUT:Vr.ECONNABORTED,e,w)),w=null},Gc.isStandardBrowserEnv){const $=(e.withCredentials||jY(k))&&e.xsrfCookieName&&FY.read(e.xsrfCookieName);$&&u.set(e.xsrfHeaderName,$)}o===void 0&&u.setContentType(null),"setRequestHeader"in w&&Gt.forEach(u.toJSON(),function(N,B){w.setRequestHeader(B,N)}),Gt.isUndefined(e.withCredentials)||(w.withCredentials=!!e.withCredentials),f&&f!=="json"&&(w.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&w.addEventListener("progress",WP(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&w.upload&&w.upload.addEventListener("progress",WP(e.onUploadProgress)),(e.cancelToken||e.signal)&&(a=$=>{w&&(i(!$||$.type?new M_(null,e,w):$),w.abort(),w=null)},e.cancelToken&&e.cancelToken.subscribe(a),e.signal&&(e.signal.aborted?a():e.signal.addEventListener("abort",a)));const O=$Y(k);if(O&&Gc.protocols.indexOf(O)===-1){i(new Vr("Unsupported protocol "+O+":",Vr.ERR_BAD_REQUEST,e));return}w.send(o||null)})},n2={http:mY,xhr:WY};Gt.forEach(n2,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const HY={getAdapter:e=>{e=Gt.isArray(e)?e:[e];const{length:t}=e;let n,i;for(let o=0;o<t&&(n=e[o],!(i=Gt.isString(n)?n2[n.toLowerCase()]:n));o++);if(!i)throw i===!1?new Vr(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(Gt.hasOwnProp(n2,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!Gt.isFunction(i))throw new TypeError("adapter is not a function");return i},adapters:n2};function V6(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new M_(null,e)}function HP(e){return V6(e),e.headers=$u.from(e.headers),e.data=U6.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),HY.getAdapter(e.adapter||w9.adapter)(e).then(function(i){return V6(e),i.data=U6.call(e,e.transformResponse,i),i.headers=$u.from(i.headers),i},function(i){return VL(i)||(V6(e),i&&i.response&&(i.response.data=U6.call(e,e.transformResponse,i.response),i.response.headers=$u.from(i.response.headers))),Promise.reject(i)})}const qP=e=>e instanceof $u?e.toJSON():e;function O0(e,t){t=t||{};const n={};function i(w,k,M){return Gt.isPlainObject(w)&&Gt.isPlainObject(k)?Gt.merge.call({caseless:M},w,k):Gt.isPlainObject(k)?Gt.merge({},k):Gt.isArray(k)?k.slice():k}function o(w,k,M){if(Gt.isUndefined(k)){if(!Gt.isUndefined(w))return i(void 0,w,M)}else return i(w,k,M)}function u(w,k){if(!Gt.isUndefined(k))return i(void 0,k)}function f(w,k){if(Gt.isUndefined(k)){if(!Gt.isUndefined(w))return i(void 0,w)}else return i(void 0,k)}function a(w,k,M){if(M in t)return i(w,k);if(M in e)return i(void 0,w)}const y={url:u,method:u,data:u,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:a,headers:(w,k)=>o(qP(w),qP(k),!0)};return Gt.forEach(Object.keys(Object.assign({},e,t)),function(k){const M=y[k]||o,O=M(e[k],t[k],k);Gt.isUndefined(O)&&M!==a||(n[k]=O)}),n}const HL="1.4.0",E9={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{E9[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});const GP={};E9.transitional=function(t,n,i){function o(u,f){return"[Axios v"+HL+"] Transitional option '"+u+"'"+f+(i?". "+i:"")}return(u,f,a)=>{if(t===!1)throw new Vr(o(f," has been removed"+(n?" in "+n:"")),Vr.ERR_DEPRECATED);return n&&!GP[f]&&(GP[f]=!0,console.warn(o(f," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(u,f,a):!0}};function qY(e,t,n){if(typeof e!="object")throw new Vr("options must be an object",Vr.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let o=i.length;for(;o-- >0;){const u=i[o],f=t[u];if(f){const a=e[u],y=a===void 0||f(a,u,e);if(y!==!0)throw new Vr("option "+u+" must be "+y,Vr.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Vr("Unknown option "+u,Vr.ERR_BAD_OPTION)}}const G5={assertOptions:qY,validators:E9},Ad=G5.validators;class J2{constructor(t){this.defaults=t,this.interceptors={request:new UP,response:new UP}}request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=O0(this.defaults,n);const{transitional:i,paramsSerializer:o,headers:u}=n;i!==void 0&&G5.assertOptions(i,{silentJSONParsing:Ad.transitional(Ad.boolean),forcedJSONParsing:Ad.transitional(Ad.boolean),clarifyTimeoutError:Ad.transitional(Ad.boolean)},!1),o!=null&&(Gt.isFunction(o)?n.paramsSerializer={serialize:o}:G5.assertOptions(o,{encode:Ad.function,serialize:Ad.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let f;f=u&&Gt.merge(u.common,u[n.method]),f&&Gt.forEach(["delete","get","head","post","put","patch","common"],N=>{delete u[N]}),n.headers=$u.concat(f,u);const a=[];let y=!0;this.interceptors.request.forEach(function(B){typeof B.runWhen=="function"&&B.runWhen(n)===!1||(y=y&&B.synchronous,a.unshift(B.fulfilled,B.rejected))});const w=[];this.interceptors.response.forEach(function(B){w.push(B.fulfilled,B.rejected)});let k,M=0,O;if(!y){const N=[HP.bind(this),void 0];for(N.unshift.apply(N,a),N.push.apply(N,w),O=N.length,k=Promise.resolve(n);M<O;)k=k.then(N[M++],N[M++]);return k}O=a.length;let $=n;for(M=0;M<O;){const N=a[M++],B=a[M++];try{$=N($)}catch(J){B.call(this,J);break}}try{k=HP.call(this,$)}catch(N){return Promise.reject(N)}for(M=0,O=w.length;M<O;)k=k.then(w[M++],w[M++]);return k}getUri(t){t=O0(this.defaults,t);const n=WL(t.baseURL,t.url);return jL(n,t.params,t.paramsSerializer)}}Gt.forEach(["delete","get","head","options"],function(t){J2.prototype[t]=function(n,i){return this.request(O0(i||{},{method:t,url:n,data:(i||{}).data}))}});Gt.forEach(["post","put","patch"],function(t){function n(i){return function(u,f,a){return this.request(O0(a||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:u,data:f}))}}J2.prototype[t]=n(),J2.prototype[t+"Form"]=n(!0)});const r2=J2;class S9{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(u){n=u});const i=this;this.promise.then(o=>{if(!i._listeners)return;let u=i._listeners.length;for(;u-- >0;)i._listeners[u](o);i._listeners=null}),this.promise.then=o=>{let u;const f=new Promise(a=>{i.subscribe(a),u=a}).then(o);return f.cancel=function(){i.unsubscribe(u)},f},t(function(u,f,a){i.reason||(i.reason=new M_(u,f,a),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new S9(function(o){t=o}),cancel:t}}}const GY=S9;function ZY(e){return function(n){return e.apply(null,n)}}function XY(e){return Gt.isObject(e)&&e.isAxiosError===!0}const Z5={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Z5).forEach(([e,t])=>{Z5[t]=e});const KY=Z5;function qL(e){const t=new r2(e),n=PL(r2.prototype.request,t);return Gt.extend(n,r2.prototype,t,{allOwnKeys:!0}),Gt.extend(n,t,null,{allOwnKeys:!0}),n.create=function(o){return qL(O0(e,o))},n}const Uo=qL(w9);Uo.Axios=r2;Uo.CanceledError=M_;Uo.CancelToken=GY;Uo.isCancel=VL;Uo.VERSION=HL;Uo.toFormData=pb;Uo.AxiosError=Vr;Uo.Cancel=Uo.CanceledError;Uo.all=function(t){return Promise.all(t)};Uo.spread=ZY;Uo.isAxiosError=XY;Uo.mergeConfig=O0;Uo.AxiosHeaders=$u;Uo.formToJSON=e=>UL(Gt.isHTMLForm(e)?new FormData(e):e);Uo.HttpStatusCode=KY;Uo.default=Uo;const Hp=Uo;function Qn(e,t){if(e==null)return{};var n={},i=Object.keys(e),o,u;for(u=0;u<i.length;u++)o=i[u],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function me(){return me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},me.apply(this,arguments)}function GL(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=GL(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function Jn(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=GL(e))&&(i&&(i+=" "),i+=t);return i}function sp(e){return e!==null&&typeof e=="object"&&e.constructor===Object}function ZL(e){if(!sp(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=ZL(e[n])}),t}function gs(e,t,n={clone:!0}){const i=n.clone?me({},e):e;return sp(e)&&sp(t)&&Object.keys(t).forEach(o=>{o!=="__proto__"&&(sp(t[o])&&o in e&&sp(e[o])?i[o]=gs(e[o],t[o],n):n.clone?i[o]=sp(t[o])?ZL(t[o]):t[o]:i[o]=t[o])}),i}function dh(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function Tn(e){if(typeof e!="string")throw new Error(dh(7));return e.charAt(0).toUpperCase()+e.slice(1)}function X5(...e){return e.reduce((t,n)=>n==null?t:function(...o){t.apply(this,o),n.apply(this,o)},()=>{})}function T9(e,t=166){let n;function i(...o){const u=()=>{e.apply(this,o)};clearTimeout(n),n=setTimeout(u,t)}return i.clear=()=>{clearTimeout(n)},i}function YY(e,t){return()=>null}function i2(e,t){return V.isValidElement(e)&&t.indexOf(e.type.muiName)!==-1}function Mo(e){return e&&e.ownerDocument||document}function hh(e){return Mo(e).defaultView||window}function JY(e,t){return()=>null}function Yg(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const QY=typeof window<"u"?V.useLayoutEffect:V.useEffect,nu=QY;let ZP=0;function eJ(e){const[t,n]=V.useState(e),i=e||t;return V.useEffect(()=>{t==null&&(ZP+=1,n(`mui-${ZP}`))},[t]),i}const XP=g2["useId".toString()];function D_(e){if(XP!==void 0){const t=XP();return e??t}return eJ(e)}function tJ(e,t,n,i,o){return null}function rh({controlled:e,default:t,name:n,state:i="value"}){const{current:o}=V.useRef(e!==void 0),[u,f]=V.useState(t),a=o?e:u,y=V.useCallback(w=>{o||f(w)},[]);return[a,y]}function hs(e){const t=V.useRef(e);return nu(()=>{t.current=e}),V.useCallback((...n)=>(0,t.current)(...n),[])}function go(...e){return V.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{Yg(n,t)})},e)}let gb=!0,K5=!1,KP;const nJ={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function rJ(e){const{type:t,tagName:n}=e;return!!(n==="INPUT"&&nJ[t]&&!e.readOnly||n==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function iJ(e){e.metaKey||e.altKey||e.ctrlKey||(gb=!0)}function W6(){gb=!1}function oJ(){this.visibilityState==="hidden"&&K5&&(gb=!0)}function aJ(e){e.addEventListener("keydown",iJ,!0),e.addEventListener("mousedown",W6,!0),e.addEventListener("pointerdown",W6,!0),e.addEventListener("touchstart",W6,!0),e.addEventListener("visibilitychange",oJ,!0)}function sJ(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return gb||rJ(t)}function _b(){const e=V.useCallback(o=>{o!=null&&aJ(o.ownerDocument)},[]),t=V.useRef(!1);function n(){return t.current?(K5=!0,window.clearTimeout(KP),KP=window.setTimeout(()=>{K5=!1},100),t.current=!1,!0):!1}function i(o){return sJ(o)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:i,onBlur:n,ref:e}}function XL(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}const lJ=e=>{const t=V.useRef({});return V.useEffect(()=>{t.current=e}),t.current},cJ=lJ,uJ={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},KL=uJ;function C9(e,t){const n=me({},t);return Object.keys(e).forEach(i=>{if(i.toString().match(/^(components|slots)$/))n[i]=me({},e[i],n[i]);else if(i.toString().match(/^(componentsProps|slotProps)$/)){const o=e[i]||{},u=t[i];n[i]={},!u||!Object.keys(u)?n[i]=o:!o||!Object.keys(o)?n[i]=u:(n[i]=me({},u),Object.keys(o).forEach(f=>{n[i][f]=C9(o[f],u[f])}))}else n[i]===void 0&&(n[i]=e[i])}),n}function yi(e,t,n=void 0){const i={};return Object.keys(e).forEach(o=>{i[o]=e[o].reduce((u,f)=>{if(f){const a=t(f);a!==""&&u.push(a),n&&n[f]&&u.push(n[f])}return u},[]).join(" ")}),i}const YP=e=>e,dJ=()=>{let e=YP;return{configure(t){e=t},generate(t){return e(t)},reset(){e=YP}}},hJ=dJ(),k9=hJ,pJ={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function pi(e,t,n="Mui"){const i=pJ[t];return i?`${n}-${i}`:`${k9.generate(e)}-${t}`}function vi(e,t,n="Mui"){const i={};return t.forEach(o=>{i[o]=pi(e,o,n)}),i}function Uu(e){return typeof e=="string"}function fJ(e,t,n){return e===void 0||Uu(e)?t:me({},t,{ownerState:me({},t.ownerState,n)})}function mJ(e,t,n=(i,o)=>i===o){return e.length===t.length&&e.every((i,o)=>n(i,t[o]))}const gJ={disableDefaultClasses:!1},_J=V.createContext(gJ);function YL(e){const{disableDefaultClasses:t}=V.useContext(_J);return n=>t?"":e(n)}function yJ(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(i=>i.match(/^on[A-Z]/)&&typeof e[i]=="function"&&!t.includes(i)).forEach(i=>{n[i]=e[i]}),n}function Y5(e,t,n){return typeof e=="function"?e(t,n):e}function JP(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function vJ(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:i,externalForwardedProps:o,className:u}=e;if(!t){const $=Jn(o==null?void 0:o.className,i==null?void 0:i.className,u,n==null?void 0:n.className),N=me({},n==null?void 0:n.style,o==null?void 0:o.style,i==null?void 0:i.style),B=me({},n,o,i);return $.length>0&&(B.className=$),Object.keys(N).length>0&&(B.style=N),{props:B,internalRef:void 0}}const f=yJ(me({},o,i)),a=JP(i),y=JP(o),w=t(f),k=Jn(w==null?void 0:w.className,n==null?void 0:n.className,u,o==null?void 0:o.className,i==null?void 0:i.className),M=me({},w==null?void 0:w.style,n==null?void 0:n.style,o==null?void 0:o.style,i==null?void 0:i.style),O=me({},w,n,y,a);return k.length>0&&(O.className=k),Object.keys(M).length>0&&(O.style=M),{props:O,internalRef:w.ref}}const xJ=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Ls(e){var t;const{elementType:n,externalSlotProps:i,ownerState:o,skipResolvingSlotProps:u=!1}=e,f=Qn(e,xJ),a=u?{}:Y5(i,o),{props:y,internalRef:w}=vJ(me({},f,{externalSlotProps:a})),k=go(w,a==null?void 0:a.ref,(t=e.additionalProps)==null?void 0:t.ref);return fJ(n,me({},y,{ref:k}),o)}const bJ=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function wJ(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function EJ(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=i=>e.ownerDocument.querySelector(`input[type="radio"]${i}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function SJ(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||EJ(e))}function TJ(e){const t=[],n=[];return Array.from(e.querySelectorAll(bJ)).forEach((i,o)=>{const u=wJ(i);u===-1||!SJ(i)||(u===0?t.push(i):n.push({documentOrder:o,tabIndex:u,node:i}))}),n.sort((i,o)=>i.tabIndex===o.tabIndex?i.documentOrder-o.documentOrder:i.tabIndex-o.tabIndex).map(i=>i.node).concat(t)}function CJ(){return!0}function kJ(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:i=!1,disableRestoreFocus:o=!1,getTabbable:u=TJ,isEnabled:f=CJ,open:a}=e,y=V.useRef(!1),w=V.useRef(null),k=V.useRef(null),M=V.useRef(null),O=V.useRef(null),$=V.useRef(!1),N=V.useRef(null),B=go(t.ref,N),J=V.useRef(null);V.useEffect(()=>{!a||!N.current||($.current=!n)},[n,a]),V.useEffect(()=>{if(!a||!N.current)return;const Z=Mo(N.current);return N.current.contains(Z.activeElement)||(N.current.hasAttribute("tabIndex")||N.current.setAttribute("tabIndex","-1"),$.current&&N.current.focus()),()=>{o||(M.current&&M.current.focus&&(y.current=!0,M.current.focus()),M.current=null)}},[a]),V.useEffect(()=>{if(!a||!N.current)return;const Z=Mo(N.current),Q=A=>{const{current:_e}=N;if(_e!==null){if(!Z.hasFocus()||i||!f()||y.current){y.current=!1;return}if(!_e.contains(Z.activeElement)){if(A&&O.current!==A.target||Z.activeElement!==O.current)O.current=null;else if(O.current!==null)return;if(!$.current)return;let Ue=[];if((Z.activeElement===w.current||Z.activeElement===k.current)&&(Ue=u(N.current)),Ue.length>0){var le,ve;const $e=!!((le=J.current)!=null&&le.shiftKey&&((ve=J.current)==null?void 0:ve.key)==="Tab"),Ae=Ue[0],Re=Ue[Ue.length-1];typeof Ae!="string"&&typeof Re!="string"&&($e?Re.focus():Ae.focus())}else _e.focus()}}},se=A=>{J.current=A,!(i||!f()||A.key!=="Tab")&&Z.activeElement===N.current&&A.shiftKey&&(y.current=!0,k.current&&k.current.focus())};Z.addEventListener("focusin",Q),Z.addEventListener("keydown",se,!0);const ce=setInterval(()=>{Z.activeElement&&Z.activeElement.tagName==="BODY"&&Q(null)},50);return()=>{clearInterval(ce),Z.removeEventListener("focusin",Q),Z.removeEventListener("keydown",se,!0)}},[n,i,o,f,a,u]);const U=Z=>{M.current===null&&(M.current=Z.relatedTarget),$.current=!0,O.current=Z.target;const Q=t.props.onFocus;Q&&Q(Z)},G=Z=>{M.current===null&&(M.current=Z.relatedTarget),$.current=!0};return z.jsxs(V.Fragment,{children:[z.jsx("div",{tabIndex:a?0:-1,onFocus:G,ref:w,"data-testid":"sentinelStart"}),V.cloneElement(t,{ref:B,onFocus:U}),z.jsx("div",{tabIndex:a?0:-1,onFocus:G,ref:k,"data-testid":"sentinelEnd"})]})}var _s="top",Sl="bottom",Tl="right",ys="left",P9="auto",R_=[_s,Sl,Tl,ys],L0="start",Jg="end",PJ="clippingParents",JL="viewport",Im="popper",IJ="reference",QP=R_.reduce(function(e,t){return e.concat([t+"-"+L0,t+"-"+Jg])},[]),QL=[].concat(R_,[P9]).reduce(function(e,t){return e.concat([t,t+"-"+L0,t+"-"+Jg])},[]),AJ="beforeRead",MJ="read",DJ="afterRead",RJ="beforeMain",OJ="main",LJ="afterMain",zJ="beforeWrite",FJ="write",NJ="afterWrite",BJ=[AJ,MJ,DJ,RJ,OJ,LJ,zJ,FJ,NJ];function ru(e){return e?(e.nodeName||"").toLowerCase():null}function Ws(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Pp(e){var t=Ws(e).Element;return e instanceof t||e instanceof Element}function bl(e){var t=Ws(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function I9(e){if(typeof ShadowRoot>"u")return!1;var t=Ws(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function jJ(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var i=t.styles[n]||{},o=t.attributes[n]||{},u=t.elements[n];!bl(u)||!ru(u)||(Object.assign(u.style,i),Object.keys(o).forEach(function(f){var a=o[f];a===!1?u.removeAttribute(f):u.setAttribute(f,a===!0?"":a)}))})}function $J(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(i){var o=t.elements[i],u=t.attributes[i]||{},f=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:n[i]),a=f.reduce(function(y,w){return y[w]="",y},{});!bl(o)||!ru(o)||(Object.assign(o.style,a),Object.keys(u).forEach(function(y){o.removeAttribute(y)}))})}}const UJ={name:"applyStyles",enabled:!0,phase:"write",fn:jJ,effect:$J,requires:["computeStyles"]};function Jc(e){return e.split("-")[0]}var gp=Math.max,Q2=Math.min,z0=Math.round;function J5(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function ez(){return!/^((?!chrome|android).)*safari/i.test(J5())}function F0(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var i=e.getBoundingClientRect(),o=1,u=1;t&&bl(e)&&(o=e.offsetWidth>0&&z0(i.width)/e.offsetWidth||1,u=e.offsetHeight>0&&z0(i.height)/e.offsetHeight||1);var f=Pp(e)?Ws(e):window,a=f.visualViewport,y=!ez()&&n,w=(i.left+(y&&a?a.offsetLeft:0))/o,k=(i.top+(y&&a?a.offsetTop:0))/u,M=i.width/o,O=i.height/u;return{width:M,height:O,top:k,right:w+M,bottom:k+O,left:w,x:w,y:k}}function A9(e){var t=F0(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function tz(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&I9(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Zu(e){return Ws(e).getComputedStyle(e)}function VJ(e){return["table","td","th"].indexOf(ru(e))>=0}function wh(e){return((Pp(e)?e.ownerDocument:e.document)||window.document).documentElement}function yb(e){return ru(e)==="html"?e:e.assignedSlot||e.parentNode||(I9(e)?e.host:null)||wh(e)}function eI(e){return!bl(e)||Zu(e).position==="fixed"?null:e.offsetParent}function WJ(e){var t=/firefox/i.test(J5()),n=/Trident/i.test(J5());if(n&&bl(e)){var i=Zu(e);if(i.position==="fixed")return null}var o=yb(e);for(I9(o)&&(o=o.host);bl(o)&&["html","body"].indexOf(ru(o))<0;){var u=Zu(o);if(u.transform!=="none"||u.perspective!=="none"||u.contain==="paint"||["transform","perspective"].indexOf(u.willChange)!==-1||t&&u.willChange==="filter"||t&&u.filter&&u.filter!=="none")return o;o=o.parentNode}return null}function O_(e){for(var t=Ws(e),n=eI(e);n&&VJ(n)&&Zu(n).position==="static";)n=eI(n);return n&&(ru(n)==="html"||ru(n)==="body"&&Zu(n).position==="static")?t:n||WJ(e)||t}function M9(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ag(e,t,n){return gp(e,Q2(t,n))}function HJ(e,t,n){var i=ag(e,t,n);return i>n?n:i}function nz(){return{top:0,right:0,bottom:0,left:0}}function rz(e){return Object.assign({},nz(),e)}function iz(e,t){return t.reduce(function(n,i){return n[i]=e,n},{})}var qJ=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,rz(typeof t!="number"?t:iz(t,R_))};function GJ(e){var t,n=e.state,i=e.name,o=e.options,u=n.elements.arrow,f=n.modifiersData.popperOffsets,a=Jc(n.placement),y=M9(a),w=[ys,Tl].indexOf(a)>=0,k=w?"height":"width";if(!(!u||!f)){var M=qJ(o.padding,n),O=A9(u),$=y==="y"?_s:ys,N=y==="y"?Sl:Tl,B=n.rects.reference[k]+n.rects.reference[y]-f[y]-n.rects.popper[k],J=f[y]-n.rects.reference[y],U=O_(u),G=U?y==="y"?U.clientHeight||0:U.clientWidth||0:0,Z=B/2-J/2,Q=M[$],se=G-O[k]-M[N],ce=G/2-O[k]/2+Z,A=ag(Q,ce,se),_e=y;n.modifiersData[i]=(t={},t[_e]=A,t.centerOffset=A-ce,t)}}function ZJ(e){var t=e.state,n=e.options,i=n.element,o=i===void 0?"[data-popper-arrow]":i;o!=null&&(typeof o=="string"&&(o=t.elements.popper.querySelector(o),!o)||tz(t.elements.popper,o)&&(t.elements.arrow=o))}const XJ={name:"arrow",enabled:!0,phase:"main",fn:GJ,effect:ZJ,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function N0(e){return e.split("-")[1]}var KJ={top:"auto",right:"auto",bottom:"auto",left:"auto"};function YJ(e,t){var n=e.x,i=e.y,o=t.devicePixelRatio||1;return{x:z0(n*o)/o||0,y:z0(i*o)/o||0}}function tI(e){var t,n=e.popper,i=e.popperRect,o=e.placement,u=e.variation,f=e.offsets,a=e.position,y=e.gpuAcceleration,w=e.adaptive,k=e.roundOffsets,M=e.isFixed,O=f.x,$=O===void 0?0:O,N=f.y,B=N===void 0?0:N,J=typeof k=="function"?k({x:$,y:B}):{x:$,y:B};$=J.x,B=J.y;var U=f.hasOwnProperty("x"),G=f.hasOwnProperty("y"),Z=ys,Q=_s,se=window;if(w){var ce=O_(n),A="clientHeight",_e="clientWidth";if(ce===Ws(n)&&(ce=wh(n),Zu(ce).position!=="static"&&a==="absolute"&&(A="scrollHeight",_e="scrollWidth")),ce=ce,o===_s||(o===ys||o===Tl)&&u===Jg){Q=Sl;var le=M&&ce===se&&se.visualViewport?se.visualViewport.height:ce[A];B-=le-i.height,B*=y?1:-1}if(o===ys||(o===_s||o===Sl)&&u===Jg){Z=Tl;var ve=M&&ce===se&&se.visualViewport?se.visualViewport.width:ce[_e];$-=ve-i.width,$*=y?1:-1}}var Ue=Object.assign({position:a},w&&KJ),$e=k===!0?YJ({x:$,y:B},Ws(n)):{x:$,y:B};if($=$e.x,B=$e.y,y){var Ae;return Object.assign({},Ue,(Ae={},Ae[Q]=G?"0":"",Ae[Z]=U?"0":"",Ae.transform=(se.devicePixelRatio||1)<=1?"translate("+$+"px, "+B+"px)":"translate3d("+$+"px, "+B+"px, 0)",Ae))}return Object.assign({},Ue,(t={},t[Q]=G?B+"px":"",t[Z]=U?$+"px":"",t.transform="",t))}function JJ(e){var t=e.state,n=e.options,i=n.gpuAcceleration,o=i===void 0?!0:i,u=n.adaptive,f=u===void 0?!0:u,a=n.roundOffsets,y=a===void 0?!0:a,w={placement:Jc(t.placement),variation:N0(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,tI(Object.assign({},w,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:f,roundOffsets:y})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,tI(Object.assign({},w,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:y})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const QJ={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:JJ,data:{}};var Sv={passive:!0};function eQ(e){var t=e.state,n=e.instance,i=e.options,o=i.scroll,u=o===void 0?!0:o,f=i.resize,a=f===void 0?!0:f,y=Ws(t.elements.popper),w=[].concat(t.scrollParents.reference,t.scrollParents.popper);return u&&w.forEach(function(k){k.addEventListener("scroll",n.update,Sv)}),a&&y.addEventListener("resize",n.update,Sv),function(){u&&w.forEach(function(k){k.removeEventListener("scroll",n.update,Sv)}),a&&y.removeEventListener("resize",n.update,Sv)}}const tQ={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:eQ,data:{}};var nQ={left:"right",right:"left",bottom:"top",top:"bottom"};function o2(e){return e.replace(/left|right|bottom|top/g,function(t){return nQ[t]})}var rQ={start:"end",end:"start"};function nI(e){return e.replace(/start|end/g,function(t){return rQ[t]})}function D9(e){var t=Ws(e),n=t.pageXOffset,i=t.pageYOffset;return{scrollLeft:n,scrollTop:i}}function R9(e){return F0(wh(e)).left+D9(e).scrollLeft}function iQ(e,t){var n=Ws(e),i=wh(e),o=n.visualViewport,u=i.clientWidth,f=i.clientHeight,a=0,y=0;if(o){u=o.width,f=o.height;var w=ez();(w||!w&&t==="fixed")&&(a=o.offsetLeft,y=o.offsetTop)}return{width:u,height:f,x:a+R9(e),y}}function oQ(e){var t,n=wh(e),i=D9(e),o=(t=e.ownerDocument)==null?void 0:t.body,u=gp(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),f=gp(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-i.scrollLeft+R9(e),y=-i.scrollTop;return Zu(o||n).direction==="rtl"&&(a+=gp(n.clientWidth,o?o.clientWidth:0)-u),{width:u,height:f,x:a,y}}function O9(e){var t=Zu(e),n=t.overflow,i=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+i)}function oz(e){return["html","body","#document"].indexOf(ru(e))>=0?e.ownerDocument.body:bl(e)&&O9(e)?e:oz(yb(e))}function sg(e,t){var n;t===void 0&&(t=[]);var i=oz(e),o=i===((n=e.ownerDocument)==null?void 0:n.body),u=Ws(i),f=o?[u].concat(u.visualViewport||[],O9(i)?i:[]):i,a=t.concat(f);return o?a:a.concat(sg(yb(f)))}function Q5(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function aQ(e,t){var n=F0(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function rI(e,t,n){return t===JL?Q5(iQ(e,n)):Pp(t)?aQ(t,n):Q5(oQ(wh(e)))}function sQ(e){var t=sg(yb(e)),n=["absolute","fixed"].indexOf(Zu(e).position)>=0,i=n&&bl(e)?O_(e):e;return Pp(i)?t.filter(function(o){return Pp(o)&&tz(o,i)&&ru(o)!=="body"}):[]}function lQ(e,t,n,i){var o=t==="clippingParents"?sQ(e):[].concat(t),u=[].concat(o,[n]),f=u[0],a=u.reduce(function(y,w){var k=rI(e,w,i);return y.top=gp(k.top,y.top),y.right=Q2(k.right,y.right),y.bottom=Q2(k.bottom,y.bottom),y.left=gp(k.left,y.left),y},rI(e,f,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function az(e){var t=e.reference,n=e.element,i=e.placement,o=i?Jc(i):null,u=i?N0(i):null,f=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,y;switch(o){case _s:y={x:f,y:t.y-n.height};break;case Sl:y={x:f,y:t.y+t.height};break;case Tl:y={x:t.x+t.width,y:a};break;case ys:y={x:t.x-n.width,y:a};break;default:y={x:t.x,y:t.y}}var w=o?M9(o):null;if(w!=null){var k=w==="y"?"height":"width";switch(u){case L0:y[w]=y[w]-(t[k]/2-n[k]/2);break;case Jg:y[w]=y[w]+(t[k]/2-n[k]/2);break}}return y}function Qg(e,t){t===void 0&&(t={});var n=t,i=n.placement,o=i===void 0?e.placement:i,u=n.strategy,f=u===void 0?e.strategy:u,a=n.boundary,y=a===void 0?PJ:a,w=n.rootBoundary,k=w===void 0?JL:w,M=n.elementContext,O=M===void 0?Im:M,$=n.altBoundary,N=$===void 0?!1:$,B=n.padding,J=B===void 0?0:B,U=rz(typeof J!="number"?J:iz(J,R_)),G=O===Im?IJ:Im,Z=e.rects.popper,Q=e.elements[N?G:O],se=lQ(Pp(Q)?Q:Q.contextElement||wh(e.elements.popper),y,k,f),ce=F0(e.elements.reference),A=az({reference:ce,element:Z,strategy:"absolute",placement:o}),_e=Q5(Object.assign({},Z,A)),le=O===Im?_e:ce,ve={top:se.top-le.top+U.top,bottom:le.bottom-se.bottom+U.bottom,left:se.left-le.left+U.left,right:le.right-se.right+U.right},Ue=e.modifiersData.offset;if(O===Im&&Ue){var $e=Ue[o];Object.keys(ve).forEach(function(Ae){var Re=[Tl,Sl].indexOf(Ae)>=0?1:-1,Oe=[_s,Sl].indexOf(Ae)>=0?"y":"x";ve[Ae]+=$e[Oe]*Re})}return ve}function cQ(e,t){t===void 0&&(t={});var n=t,i=n.placement,o=n.boundary,u=n.rootBoundary,f=n.padding,a=n.flipVariations,y=n.allowedAutoPlacements,w=y===void 0?QL:y,k=N0(i),M=k?a?QP:QP.filter(function(N){return N0(N)===k}):R_,O=M.filter(function(N){return w.indexOf(N)>=0});O.length===0&&(O=M);var $=O.reduce(function(N,B){return N[B]=Qg(e,{placement:B,boundary:o,rootBoundary:u,padding:f})[Jc(B)],N},{});return Object.keys($).sort(function(N,B){return $[N]-$[B]})}function uQ(e){if(Jc(e)===P9)return[];var t=o2(e);return[nI(e),t,nI(t)]}function dQ(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var o=n.mainAxis,u=o===void 0?!0:o,f=n.altAxis,a=f===void 0?!0:f,y=n.fallbackPlacements,w=n.padding,k=n.boundary,M=n.rootBoundary,O=n.altBoundary,$=n.flipVariations,N=$===void 0?!0:$,B=n.allowedAutoPlacements,J=t.options.placement,U=Jc(J),G=U===J,Z=y||(G||!N?[o2(J)]:uQ(J)),Q=[J].concat(Z).reduce(function(Ct,ut){return Ct.concat(Jc(ut)===P9?cQ(t,{placement:ut,boundary:k,rootBoundary:M,padding:w,flipVariations:N,allowedAutoPlacements:B}):ut)},[]),se=t.rects.reference,ce=t.rects.popper,A=new Map,_e=!0,le=Q[0],ve=0;ve<Q.length;ve++){var Ue=Q[ve],$e=Jc(Ue),Ae=N0(Ue)===L0,Re=[_s,Sl].indexOf($e)>=0,Oe=Re?"width":"height",Ye=Qg(t,{placement:Ue,boundary:k,rootBoundary:M,altBoundary:O,padding:w}),Qe=Re?Ae?Tl:ys:Ae?Sl:_s;se[Oe]>ce[Oe]&&(Qe=o2(Qe));var ze=o2(Qe),Pe=[];if(u&&Pe.push(Ye[$e]<=0),a&&Pe.push(Ye[Qe]<=0,Ye[ze]<=0),Pe.every(function(Ct){return Ct})){le=Ue,_e=!1;break}A.set(Ue,Pe)}if(_e)for(var je=N?3:1,lt=function(ut){var yt=Q.find(function(Dt){var Rt=A.get(Dt);if(Rt)return Rt.slice(0,ut).every(function(St){return St})});if(yt)return le=yt,"break"},ot=je;ot>0;ot--){var ct=lt(ot);if(ct==="break")break}t.placement!==le&&(t.modifiersData[i]._skip=!0,t.placement=le,t.reset=!0)}}const hQ={name:"flip",enabled:!0,phase:"main",fn:dQ,requiresIfExists:["offset"],data:{_skip:!1}};function iI(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function oI(e){return[_s,Tl,Sl,ys].some(function(t){return e[t]>=0})}function pQ(e){var t=e.state,n=e.name,i=t.rects.reference,o=t.rects.popper,u=t.modifiersData.preventOverflow,f=Qg(t,{elementContext:"reference"}),a=Qg(t,{altBoundary:!0}),y=iI(f,i),w=iI(a,o,u),k=oI(y),M=oI(w);t.modifiersData[n]={referenceClippingOffsets:y,popperEscapeOffsets:w,isReferenceHidden:k,hasPopperEscaped:M},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":k,"data-popper-escaped":M})}const fQ={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:pQ};function mQ(e,t,n){var i=Jc(e),o=[ys,_s].indexOf(i)>=0?-1:1,u=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,f=u[0],a=u[1];return f=f||0,a=(a||0)*o,[ys,Tl].indexOf(i)>=0?{x:a,y:f}:{x:f,y:a}}function gQ(e){var t=e.state,n=e.options,i=e.name,o=n.offset,u=o===void 0?[0,0]:o,f=QL.reduce(function(k,M){return k[M]=mQ(M,t.rects,u),k},{}),a=f[t.placement],y=a.x,w=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=y,t.modifiersData.popperOffsets.y+=w),t.modifiersData[i]=f}const _Q={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:gQ};function yQ(e){var t=e.state,n=e.name;t.modifiersData[n]=az({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const vQ={name:"popperOffsets",enabled:!0,phase:"read",fn:yQ,data:{}};function xQ(e){return e==="x"?"y":"x"}function bQ(e){var t=e.state,n=e.options,i=e.name,o=n.mainAxis,u=o===void 0?!0:o,f=n.altAxis,a=f===void 0?!1:f,y=n.boundary,w=n.rootBoundary,k=n.altBoundary,M=n.padding,O=n.tether,$=O===void 0?!0:O,N=n.tetherOffset,B=N===void 0?0:N,J=Qg(t,{boundary:y,rootBoundary:w,padding:M,altBoundary:k}),U=Jc(t.placement),G=N0(t.placement),Z=!G,Q=M9(U),se=xQ(Q),ce=t.modifiersData.popperOffsets,A=t.rects.reference,_e=t.rects.popper,le=typeof B=="function"?B(Object.assign({},t.rects,{placement:t.placement})):B,ve=typeof le=="number"?{mainAxis:le,altAxis:le}:Object.assign({mainAxis:0,altAxis:0},le),Ue=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,$e={x:0,y:0};if(ce){if(u){var Ae,Re=Q==="y"?_s:ys,Oe=Q==="y"?Sl:Tl,Ye=Q==="y"?"height":"width",Qe=ce[Q],ze=Qe+J[Re],Pe=Qe-J[Oe],je=$?-_e[Ye]/2:0,lt=G===L0?A[Ye]:_e[Ye],ot=G===L0?-_e[Ye]:-A[Ye],ct=t.elements.arrow,Ct=$&&ct?A9(ct):{width:0,height:0},ut=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:nz(),yt=ut[Re],Dt=ut[Oe],Rt=ag(0,A[Ye],Ct[Ye]),St=Z?A[Ye]/2-je-Rt-yt-ve.mainAxis:lt-Rt-yt-ve.mainAxis,Qt=Z?-A[Ye]/2+je+Rt+Dt+ve.mainAxis:ot+Rt+Dt+ve.mainAxis,Lt=t.elements.arrow&&O_(t.elements.arrow),qt=Lt?Q==="y"?Lt.clientTop||0:Lt.clientLeft||0:0,an=(Ae=Ue==null?void 0:Ue[Q])!=null?Ae:0,jt=Qe+St-an-qt,vt=Qe+Qt-an,gn=ag($?Q2(ze,jt):ze,Qe,$?gp(Pe,vt):Pe);ce[Q]=gn,$e[Q]=gn-Qe}if(a){var on,Bn=Q==="x"?_s:ys,Yn=Q==="x"?Sl:Tl,On=ce[se],zn=se==="y"?"height":"width",Mn=On+J[Bn],jn=On-J[Yn],yr=[_s,ys].indexOf(U)!==-1,pt=(on=Ue==null?void 0:Ue[se])!=null?on:0,sn=yr?Mn:On-A[zn]-_e[zn]-pt+ve.altAxis,dn=yr?On+A[zn]+_e[zn]-pt-ve.altAxis:jn,en=$&&yr?HJ(sn,On,dn):ag($?sn:Mn,On,$?dn:jn);ce[se]=en,$e[se]=en-On}t.modifiersData[i]=$e}}const wQ={name:"preventOverflow",enabled:!0,phase:"main",fn:bQ,requiresIfExists:["offset"]};function EQ(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function SQ(e){return e===Ws(e)||!bl(e)?D9(e):EQ(e)}function TQ(e){var t=e.getBoundingClientRect(),n=z0(t.width)/e.offsetWidth||1,i=z0(t.height)/e.offsetHeight||1;return n!==1||i!==1}function CQ(e,t,n){n===void 0&&(n=!1);var i=bl(t),o=bl(t)&&TQ(t),u=wh(t),f=F0(e,o,n),a={scrollLeft:0,scrollTop:0},y={x:0,y:0};return(i||!i&&!n)&&((ru(t)!=="body"||O9(u))&&(a=SQ(t)),bl(t)?(y=F0(t,!0),y.x+=t.clientLeft,y.y+=t.clientTop):u&&(y.x=R9(u))),{x:f.left+a.scrollLeft-y.x,y:f.top+a.scrollTop-y.y,width:f.width,height:f.height}}function kQ(e){var t=new Map,n=new Set,i=[];e.forEach(function(u){t.set(u.name,u)});function o(u){n.add(u.name);var f=[].concat(u.requires||[],u.requiresIfExists||[]);f.forEach(function(a){if(!n.has(a)){var y=t.get(a);y&&o(y)}}),i.push(u)}return e.forEach(function(u){n.has(u.name)||o(u)}),i}function PQ(e){var t=kQ(e);return BJ.reduce(function(n,i){return n.concat(t.filter(function(o){return o.phase===i}))},[])}function IQ(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function AQ(e){var t=e.reduce(function(n,i){var o=n[i.name];return n[i.name]=o?Object.assign({},o,i,{options:Object.assign({},o.options,i.options),data:Object.assign({},o.data,i.data)}):i,n},{});return Object.keys(t).map(function(n){return t[n]})}var aI={placement:"bottom",modifiers:[],strategy:"absolute"};function sI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function MQ(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,i=n===void 0?[]:n,o=t.defaultOptions,u=o===void 0?aI:o;return function(a,y,w){w===void 0&&(w=u);var k={placement:"bottom",orderedModifiers:[],options:Object.assign({},aI,u),modifiersData:{},elements:{reference:a,popper:y},attributes:{},styles:{}},M=[],O=!1,$={state:k,setOptions:function(U){var G=typeof U=="function"?U(k.options):U;B(),k.options=Object.assign({},u,k.options,G),k.scrollParents={reference:Pp(a)?sg(a):a.contextElement?sg(a.contextElement):[],popper:sg(y)};var Z=PQ(AQ([].concat(i,k.options.modifiers)));return k.orderedModifiers=Z.filter(function(Q){return Q.enabled}),N(),$.update()},forceUpdate:function(){if(!O){var U=k.elements,G=U.reference,Z=U.popper;if(sI(G,Z)){k.rects={reference:CQ(G,O_(Z),k.options.strategy==="fixed"),popper:A9(Z)},k.reset=!1,k.placement=k.options.placement,k.orderedModifiers.forEach(function(ve){return k.modifiersData[ve.name]=Object.assign({},ve.data)});for(var Q=0;Q<k.orderedModifiers.length;Q++){if(k.reset===!0){k.reset=!1,Q=-1;continue}var se=k.orderedModifiers[Q],ce=se.fn,A=se.options,_e=A===void 0?{}:A,le=se.name;typeof ce=="function"&&(k=ce({state:k,options:_e,name:le,instance:$})||k)}}}},update:IQ(function(){return new Promise(function(J){$.forceUpdate(),J(k)})}),destroy:function(){B(),O=!0}};if(!sI(a,y))return $;$.setOptions(w).then(function(J){!O&&w.onFirstUpdate&&w.onFirstUpdate(J)});function N(){k.orderedModifiers.forEach(function(J){var U=J.name,G=J.options,Z=G===void 0?{}:G,Q=J.effect;if(typeof Q=="function"){var se=Q({state:k,name:U,instance:$,options:Z}),ce=function(){};M.push(se||ce)}})}function B(){M.forEach(function(J){return J()}),M=[]}return $}}var DQ=[tQ,vQ,QJ,UJ,_Q,hQ,wQ,XJ,fQ],RQ=MQ({defaultModifiers:DQ});function OQ(e){return typeof e=="function"?e():e}const LQ=V.forwardRef(function(t,n){const{children:i,container:o,disablePortal:u=!1}=t,[f,a]=V.useState(null),y=go(V.isValidElement(i)?i.ref:null,n);if(nu(()=>{u||a(OQ(o)||document.body)},[o,u]),nu(()=>{if(f&&!u)return Yg(n,f),()=>{Yg(n,null)}},[n,f,u]),u){if(V.isValidElement(i)){const w={ref:y};return V.cloneElement(i,w)}return z.jsx(V.Fragment,{children:i})}return z.jsx(V.Fragment,{children:f&&ch.createPortal(i,f)})}),sz=LQ;function zQ(e){return pi("MuiPopper",e)}vi("MuiPopper",["root"]);const FQ=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],NQ=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function BQ(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function e8(e){return typeof e=="function"?e():e}function jQ(e){return e.nodeType!==void 0}const $Q=()=>yi({root:["root"]},YL(zQ)),UQ={},VQ=V.forwardRef(function(t,n){var i;const{anchorEl:o,children:u,direction:f,disablePortal:a,modifiers:y,open:w,placement:k,popperOptions:M,popperRef:O,slotProps:$={},slots:N={},TransitionProps:B}=t,J=Qn(t,FQ),U=V.useRef(null),G=go(U,n),Z=V.useRef(null),Q=go(Z,O),se=V.useRef(Q);nu(()=>{se.current=Q},[Q]),V.useImperativeHandle(O,()=>Z.current,[]);const ce=BQ(k,f),[A,_e]=V.useState(ce),[le,ve]=V.useState(e8(o));V.useEffect(()=>{Z.current&&Z.current.forceUpdate()}),V.useEffect(()=>{o&&ve(e8(o))},[o]),nu(()=>{if(!le||!w)return;const Oe=ze=>{_e(ze.placement)};let Ye=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:ze})=>{Oe(ze)}}];y!=null&&(Ye=Ye.concat(y)),M&&M.modifiers!=null&&(Ye=Ye.concat(M.modifiers));const Qe=RQ(le,U.current,me({placement:ce},M,{modifiers:Ye}));return se.current(Qe),()=>{Qe.destroy(),se.current(null)}},[le,a,y,w,M,ce]);const Ue={placement:A};B!==null&&(Ue.TransitionProps=B);const $e=$Q(),Ae=(i=N.root)!=null?i:"div",Re=Ls({elementType:Ae,externalSlotProps:$.root,externalForwardedProps:J,additionalProps:{role:"tooltip",ref:G},ownerState:t,className:$e.root});return z.jsx(Ae,me({},Re,{children:typeof u=="function"?u(Ue):u}))}),WQ=V.forwardRef(function(t,n){const{anchorEl:i,children:o,container:u,direction:f="ltr",disablePortal:a=!1,keepMounted:y=!1,modifiers:w,open:k,placement:M="bottom",popperOptions:O=UQ,popperRef:$,style:N,transition:B=!1,slotProps:J={},slots:U={}}=t,G=Qn(t,NQ),[Z,Q]=V.useState(!0),se=()=>{Q(!1)},ce=()=>{Q(!0)};if(!y&&!k&&(!B||Z))return null;let A;if(u)A=u;else if(i){const ve=e8(i);A=ve&&jQ(ve)?Mo(ve).body:Mo(null).body}const _e=!k&&y&&(!B||Z)?"none":void 0,le=B?{in:k,onEnter:se,onExited:ce}:void 0;return z.jsx(sz,{disablePortal:a,container:A,children:z.jsx(VQ,me({anchorEl:i,direction:f,disablePortal:a,modifiers:w,ref:n,open:B?!Z:k,placement:M,popperOptions:O,popperRef:$,slotProps:J,slots:U},G,{style:me({position:"fixed",top:0,left:0,display:_e},N),TransitionProps:le,children:o}))})}),HQ=WQ;function qQ(e){const t=Mo(e);return t.body===e?hh(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function lg(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function lI(e){return parseInt(hh(e).getComputedStyle(e).paddingRight,10)||0}function GQ(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,i=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||i}function cI(e,t,n,i,o){const u=[t,n,...i];[].forEach.call(e.children,f=>{const a=u.indexOf(f)===-1,y=!GQ(f);a&&y&&lg(f,o)})}function H6(e,t){let n=-1;return e.some((i,o)=>t(i)?(n=o,!0):!1),n}function ZQ(e,t){const n=[],i=e.container;if(!t.disableScrollLock){if(qQ(i)){const f=XL(Mo(i));n.push({value:i.style.paddingRight,property:"padding-right",el:i}),i.style.paddingRight=`${lI(i)+f}px`;const a=Mo(i).querySelectorAll(".mui-fixed");[].forEach.call(a,y=>{n.push({value:y.style.paddingRight,property:"padding-right",el:y}),y.style.paddingRight=`${lI(y)+f}px`})}let u;if(i.parentNode instanceof DocumentFragment)u=Mo(i).body;else{const f=i.parentElement,a=hh(i);u=(f==null?void 0:f.nodeName)==="HTML"&&a.getComputedStyle(f).overflowY==="scroll"?f:i}n.push({value:u.style.overflow,property:"overflow",el:u},{value:u.style.overflowX,property:"overflow-x",el:u},{value:u.style.overflowY,property:"overflow-y",el:u}),u.style.overflow="hidden"}return()=>{n.forEach(({value:u,el:f,property:a})=>{u?f.style.setProperty(a,u):f.style.removeProperty(a)})}}function XQ(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class KQ{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,n){let i=this.modals.indexOf(t);if(i!==-1)return i;i=this.modals.length,this.modals.push(t),t.modalRef&&lg(t.modalRef,!1);const o=XQ(n);cI(n,t.mount,t.modalRef,o,!0);const u=H6(this.containers,f=>f.container===n);return u!==-1?(this.containers[u].modals.push(t),i):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:o}),i)}mount(t,n){const i=H6(this.containers,u=>u.modals.indexOf(t)!==-1),o=this.containers[i];o.restore||(o.restore=ZQ(o,n))}remove(t,n=!0){const i=this.modals.indexOf(t);if(i===-1)return i;const o=H6(this.containers,f=>f.modals.indexOf(t)!==-1),u=this.containers[o];if(u.modals.splice(u.modals.indexOf(t),1),this.modals.splice(i,1),u.modals.length===0)u.restore&&u.restore(),t.modalRef&&lg(t.modalRef,n),cI(u.container,t.mount,t.modalRef,u.hiddenSiblings,!1),this.containers.splice(o,1);else{const f=u.modals[u.modals.length-1];f.modalRef&&lg(f.modalRef,!1)}return i}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}function YQ(e){return pi("MuiModal",e)}vi("MuiModal",["root","hidden","backdrop"]);const JQ=["children","closeAfterTransition","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited","slotProps","slots"],QQ=e=>{const{open:t,exited:n}=e;return yi({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},YL(YQ))};function eee(e){return typeof e=="function"?e():e}function tee(e){return e?e.props.hasOwnProperty("in"):!1}const nee=new KQ,ree=V.forwardRef(function(t,n){var i,o;const{children:u,closeAfterTransition:f=!1,container:a,disableAutoFocus:y=!1,disableEnforceFocus:w=!1,disableEscapeKeyDown:k=!1,disablePortal:M=!1,disableRestoreFocus:O=!1,disableScrollLock:$=!1,hideBackdrop:N=!1,keepMounted:B=!1,manager:J=nee,onBackdropClick:U,onClose:G,onKeyDown:Z,open:Q,onTransitionEnter:se,onTransitionExited:ce,slotProps:A={},slots:_e={}}=t,le=Qn(t,JQ),ve=J,[Ue,$e]=V.useState(!Q),Ae=V.useRef({}),Re=V.useRef(null),Oe=V.useRef(null),Ye=go(Oe,n),Qe=tee(u),ze=(i=t["aria-hidden"])!=null?i:!0,Pe=()=>Mo(Re.current),je=()=>(Ae.current.modalRef=Oe.current,Ae.current.mountNode=Re.current,Ae.current),lt=()=>{ve.mount(je(),{disableScrollLock:$}),Oe.current&&(Oe.current.scrollTop=0)},ot=hs(()=>{const on=eee(a)||Pe().body;ve.add(je(),on),Oe.current&&lt()}),ct=V.useCallback(()=>ve.isTopModal(je()),[ve]),Ct=hs(on=>{Re.current=on,!(!on||!Oe.current)&&(Q&&ct()?lt():lg(Oe.current,ze))}),ut=V.useCallback(()=>{ve.remove(je(),ze)},[ve,ze]);V.useEffect(()=>()=>{ut()},[ut]),V.useEffect(()=>{Q?ot():(!Qe||!f)&&ut()},[Q,ut,Qe,f,ot]);const yt=me({},t,{closeAfterTransition:f,disableAutoFocus:y,disableEnforceFocus:w,disableEscapeKeyDown:k,disablePortal:M,disableRestoreFocus:O,disableScrollLock:$,exited:Ue,hideBackdrop:N,keepMounted:B}),Dt=QQ(yt),Rt=()=>{$e(!1),se&&se()},St=()=>{$e(!0),ce&&ce(),f&&ut()},Qt=on=>{on.target===on.currentTarget&&(U&&U(on),G&&G(on,"backdropClick"))},Lt=on=>{Z&&Z(on),!(on.key!=="Escape"||!ct())&&(k||(on.stopPropagation(),G&&G(on,"escapeKeyDown")))},qt={};u.props.tabIndex===void 0&&(qt.tabIndex="-1"),Qe&&(qt.onEnter=X5(Rt,u.props.onEnter),qt.onExited=X5(St,u.props.onExited));const an=(o=_e.root)!=null?o:"div",jt=Ls({elementType:an,externalSlotProps:A.root,externalForwardedProps:le,additionalProps:{ref:Ye,role:"presentation",onKeyDown:Lt},className:Dt.root,ownerState:yt}),vt=_e.backdrop,gn=Ls({elementType:vt,externalSlotProps:A.backdrop,additionalProps:{"aria-hidden":!0,onClick:Qt,open:Q},className:Dt.backdrop,ownerState:yt});return!B&&!Q&&(!Qe||Ue)?null:z.jsx(sz,{ref:Ct,container:a,disablePortal:M,children:z.jsxs(an,me({},jt,{children:[!N&&vt?z.jsx(vt,me({},gn)):null,z.jsx(kJ,{disableEnforceFocus:w,disableAutoFocus:y,disableRestoreFocus:O,isEnabled:ct,open:Q,children:V.cloneElement(u,qt)})]}))})}),iee=ree,oee=2;function lz(e,t){return e-t}function Am(e,t,n){return e==null?t:Math.min(Math.max(t,e),n)}function uI(e,t){var n;const{index:i}=(n=e.reduce((o,u,f)=>{const a=Math.abs(t-u);return o===null||a<o.distance||a===o.distance?{distance:a,index:f}:o},null))!=null?n:{};return i}function Tv(e,t){if(t.current!==void 0&&e.changedTouches){const n=e;for(let i=0;i<n.changedTouches.length;i+=1){const o=n.changedTouches[i];if(o.identifier===t.current)return{x:o.clientX,y:o.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function ex(e,t,n){return(e-t)*100/(n-t)}function aee(e,t,n){return(n-t)*e+t}function see(e){if(Math.abs(e)<1){const n=e.toExponential().split("e-"),i=n[0].split(".")[1];return(i?i.length:0)+parseInt(n[1],10)}const t=e.toString().split(".")[1];return t?t.length:0}function lee(e,t,n){const i=Math.round((e-n)/t)*t+n;return Number(i.toFixed(see(t)))}function dI({values:e,newValue:t,index:n}){const i=e.slice();return i[n]=t,i.sort(lz)}function Cv({sliderRef:e,activeIndex:t,setActive:n}){var i,o;const u=Mo(e.current);if(!((i=e.current)!=null&&i.contains(u.activeElement))||Number(u==null||(o=u.activeElement)==null?void 0:o.getAttribute("data-index"))!==t){var f;(f=e.current)==null||f.querySelector(`[type="range"][data-index="${t}"]`).focus()}n&&n(t)}function kv(e,t){return typeof e=="number"&&typeof t=="number"?e===t:typeof e=="object"&&typeof t=="object"?mJ(e,t):!1}const cee={horizontal:{offset:e=>({left:`${e}%`}),leap:e=>({width:`${e}%`})},"horizontal-reverse":{offset:e=>({right:`${e}%`}),leap:e=>({width:`${e}%`})},vertical:{offset:e=>({bottom:`${e}%`}),leap:e=>({height:`${e}%`})}},uee=e=>e;let Pv;function q6(){return Pv===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?Pv=CSS.supports("touch-action","none"):Pv=!0),Pv}function dee(e){const{"aria-labelledby":t,defaultValue:n,disabled:i=!1,disableSwap:o=!1,isRtl:u=!1,marks:f=!1,max:a=100,min:y=0,name:w,onChange:k,onChangeCommitted:M,orientation:O="horizontal",rootRef:$,scale:N=uee,step:B=1,tabIndex:J,value:U}=e,G=V.useRef(),[Z,Q]=V.useState(-1),[se,ce]=V.useState(-1),[A,_e]=V.useState(!1),le=V.useRef(0),[ve,Ue]=rh({controlled:U,default:n??y,name:"Slider"}),$e=k&&((pt,sn,dn)=>{const en=pt.nativeEvent||pt,ln=new en.constructor(en.type,en);Object.defineProperty(ln,"target",{writable:!0,value:{value:sn,name:w}}),k(ln,sn,dn)}),Ae=Array.isArray(ve);let Re=Ae?ve.slice().sort(lz):[ve];Re=Re.map(pt=>Am(pt,y,a));const Oe=f===!0&&B!==null?[...Array(Math.floor((a-y)/B)+1)].map((pt,sn)=>({value:y+B*sn})):f||[],Ye=Oe.map(pt=>pt.value),{isFocusVisibleRef:Qe,onBlur:ze,onFocus:Pe,ref:je}=_b(),[lt,ot]=V.useState(-1),ct=V.useRef(),Ct=go(je,ct),ut=go($,Ct),yt=pt=>sn=>{var dn;const en=Number(sn.currentTarget.getAttribute("data-index"));Pe(sn),Qe.current===!0&&ot(en),ce(en),pt==null||(dn=pt.onFocus)==null||dn.call(pt,sn)},Dt=pt=>sn=>{var dn;ze(sn),Qe.current===!1&&ot(-1),ce(-1),pt==null||(dn=pt.onBlur)==null||dn.call(pt,sn)};nu(()=>{if(i&&ct.current.contains(document.activeElement)){var pt;(pt=document.activeElement)==null||pt.blur()}},[i]),i&&Z!==-1&&Q(-1),i&&lt!==-1&&ot(-1);const Rt=pt=>sn=>{var dn;(dn=pt.onChange)==null||dn.call(pt,sn);const en=Number(sn.currentTarget.getAttribute("data-index")),ln=Re[en],un=Ye.indexOf(ln);let bn=sn.target.valueAsNumber;if(Oe&&B==null){const Dn=Ye[Ye.length-1];bn>Dn?bn=Dn:bn<Ye[0]?bn=Ye[0]:bn=bn<ln?Ye[un-1]:Ye[un+1]}if(bn=Am(bn,y,a),Ae){o&&(bn=Am(bn,Re[en-1]||-1/0,Re[en+1]||1/0));const Dn=bn;bn=dI({values:Re,newValue:bn,index:en});let Fn=en;o||(Fn=bn.indexOf(Dn)),Cv({sliderRef:ct,activeIndex:Fn})}Ue(bn),ot(en),$e&&!kv(bn,ve)&&$e(sn,bn,en),M&&M(sn,bn)},St=V.useRef();let Qt=O;u&&O==="horizontal"&&(Qt+="-reverse");const Lt=({finger:pt,move:sn=!1})=>{const{current:dn}=ct,{width:en,height:ln,bottom:un,left:bn}=dn.getBoundingClientRect();let Dn;Qt.indexOf("vertical")===0?Dn=(un-pt.y)/ln:Dn=(pt.x-bn)/en,Qt.indexOf("-reverse")!==-1&&(Dn=1-Dn);let Fn;if(Fn=aee(Dn,y,a),B)Fn=lee(Fn,B,y);else{const Ar=uI(Ye,Fn);Fn=Ye[Ar]}Fn=Am(Fn,y,a);let er=0;if(Ae){sn?er=St.current:er=uI(Re,Fn),o&&(Fn=Am(Fn,Re[er-1]||-1/0,Re[er+1]||1/0));const Ar=Fn;Fn=dI({values:Re,newValue:Fn,index:er}),o&&sn||(er=Fn.indexOf(Ar),St.current=er)}return{newValue:Fn,activeIndex:er}},qt=hs(pt=>{const sn=Tv(pt,G);if(!sn)return;if(le.current+=1,pt.type==="mousemove"&&pt.buttons===0){an(pt);return}const{newValue:dn,activeIndex:en}=Lt({finger:sn,move:!0});Cv({sliderRef:ct,activeIndex:en,setActive:Q}),Ue(dn),!A&&le.current>oee&&_e(!0),$e&&!kv(dn,ve)&&$e(pt,dn,en)}),an=hs(pt=>{const sn=Tv(pt,G);if(_e(!1),!sn)return;const{newValue:dn}=Lt({finger:sn,move:!0});Q(-1),pt.type==="touchend"&&ce(-1),M&&M(pt,dn),G.current=void 0,vt()}),jt=hs(pt=>{if(i)return;q6()||pt.preventDefault();const sn=pt.changedTouches[0];sn!=null&&(G.current=sn.identifier);const dn=Tv(pt,G);if(dn!==!1){const{newValue:ln,activeIndex:un}=Lt({finger:dn});Cv({sliderRef:ct,activeIndex:un,setActive:Q}),Ue(ln),$e&&!kv(ln,ve)&&$e(pt,ln,un)}le.current=0;const en=Mo(ct.current);en.addEventListener("touchmove",qt),en.addEventListener("touchend",an)}),vt=V.useCallback(()=>{const pt=Mo(ct.current);pt.removeEventListener("mousemove",qt),pt.removeEventListener("mouseup",an),pt.removeEventListener("touchmove",qt),pt.removeEventListener("touchend",an)},[an,qt]);V.useEffect(()=>{const{current:pt}=ct;return pt.addEventListener("touchstart",jt,{passive:q6()}),()=>{pt.removeEventListener("touchstart",jt,{passive:q6()}),vt()}},[vt,jt]),V.useEffect(()=>{i&&vt()},[i,vt]);const gn=pt=>sn=>{var dn;if((dn=pt.onMouseDown)==null||dn.call(pt,sn),i||sn.defaultPrevented||sn.button!==0)return;sn.preventDefault();const en=Tv(sn,G);if(en!==!1){const{newValue:un,activeIndex:bn}=Lt({finger:en});Cv({sliderRef:ct,activeIndex:bn,setActive:Q}),Ue(un),$e&&!kv(un,ve)&&$e(sn,un,bn)}le.current=0;const ln=Mo(ct.current);ln.addEventListener("mousemove",qt),ln.addEventListener("mouseup",an)},on=ex(Ae?Re[0]:y,y,a),Bn=ex(Re[Re.length-1],y,a)-on,Yn=(pt={})=>{const sn={onMouseDown:gn(pt||{})},dn=me({},pt,sn);return me({ref:ut},dn)},On=pt=>sn=>{var dn;(dn=pt.onMouseOver)==null||dn.call(pt,sn);const en=Number(sn.currentTarget.getAttribute("data-index"));ce(en)},zn=pt=>sn=>{var dn;(dn=pt.onMouseLeave)==null||dn.call(pt,sn),ce(-1)};return{active:Z,axis:Qt,axisProps:cee,dragging:A,focusedThumbIndex:lt,getHiddenInputProps:(pt={})=>{var sn;const dn={onChange:Rt(pt||{}),onFocus:yt(pt||{}),onBlur:Dt(pt||{})},en=me({},pt,dn);return me({tabIndex:J,"aria-labelledby":t,"aria-orientation":O,"aria-valuemax":N(a),"aria-valuemin":N(y),name:w,type:"range",min:e.min,max:e.max,step:e.step===null&&e.marks?"any":(sn=e.step)!=null?sn:void 0,disabled:i},en,{style:me({},KL,{direction:u?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:Yn,getThumbProps:(pt={})=>{const sn={onMouseOver:On(pt||{}),onMouseLeave:zn(pt||{})};return me({},pt,sn)},marks:Oe,open:se,range:Ae,rootRef:ut,trackLeap:Bn,trackOffset:on,values:Re,getThumbStyle:pt=>({pointerEvents:Z!==-1&&Z!==pt?"none":void 0})}}const hee=["onChange","maxRows","minRows","style","value"];function Iv(e){return parseInt(e,10)||0}const pee={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function hI(e){return e==null||Object.keys(e).length===0||e.outerHeightStyle===0&&!e.overflow}const fee=V.forwardRef(function(t,n){const{onChange:i,maxRows:o,minRows:u=1,style:f,value:a}=t,y=Qn(t,hee),{current:w}=V.useRef(a!=null),k=V.useRef(null),M=go(n,k),O=V.useRef(null),$=V.useRef(0),[N,B]=V.useState({outerHeightStyle:0}),J=V.useCallback(()=>{const se=k.current,A=hh(se).getComputedStyle(se);if(A.width==="0px")return{outerHeightStyle:0};const _e=O.current;_e.style.width=A.width,_e.value=se.value||t.placeholder||"x",_e.value.slice(-1)===`
`&&(_e.value+=" ");const le=A.boxSizing,ve=Iv(A.paddingBottom)+Iv(A.paddingTop),Ue=Iv(A.borderBottomWidth)+Iv(A.borderTopWidth),$e=_e.scrollHeight;_e.value="x";const Ae=_e.scrollHeight;let Re=$e;u&&(Re=Math.max(Number(u)*Ae,Re)),o&&(Re=Math.min(Number(o)*Ae,Re)),Re=Math.max(Re,Ae);const Oe=Re+(le==="border-box"?ve+Ue:0),Ye=Math.abs(Re-$e)<=1;return{outerHeightStyle:Oe,overflow:Ye}},[o,u,t.placeholder]),U=(se,ce)=>{const{outerHeightStyle:A,overflow:_e}=ce;return $.current<20&&(A>0&&Math.abs((se.outerHeightStyle||0)-A)>1||se.overflow!==_e)?($.current+=1,{overflow:_e,outerHeightStyle:A}):se},G=V.useCallback(()=>{const se=J();hI(se)||B(ce=>U(ce,se))},[J]),Z=()=>{const se=J();hI(se)||ch.flushSync(()=>{B(ce=>U(ce,se))})};V.useEffect(()=>{const se=T9(()=>{$.current=0,k.current&&Z()});let ce;const A=k.current,_e=hh(A);return _e.addEventListener("resize",se),typeof ResizeObserver<"u"&&(ce=new ResizeObserver(se),ce.observe(A)),()=>{se.clear(),_e.removeEventListener("resize",se),ce&&ce.disconnect()}}),nu(()=>{G()}),V.useEffect(()=>{$.current=0},[a]);const Q=se=>{$.current=0,w||G(),i&&i(se)};return z.jsxs(V.Fragment,{children:[z.jsx("textarea",me({value:a,onChange:Q,ref:M,rows:u,style:me({height:N.outerHeightStyle,overflow:N.overflow?"hidden":void 0},f)},y)),z.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:O,tabIndex:-1,style:me({},pee.shadow,f,{paddingTop:0,paddingBottom:0})})]})}),mee=fee;function pI(e){return typeof e.normalize<"u"?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e}function gee(e={}){const{ignoreAccents:t=!0,ignoreCase:n=!0,limit:i,matchFrom:o="any",stringify:u,trim:f=!1}=e;return(a,{inputValue:y,getOptionLabel:w})=>{let k=f?y.trim():y;n&&(k=k.toLowerCase()),t&&(k=pI(k));const M=k?a.filter(O=>{let $=(u||w)(O);return n&&($=$.toLowerCase()),t&&($=pI($)),o==="start"?$.indexOf(k)===0:$.indexOf(k)>-1}):a;return typeof i=="number"?M.slice(0,i):M}}function G6(e,t){for(let n=0;n<e.length;n+=1)if(t(e[n]))return n;return-1}const _ee=gee(),fI=5,yee=e=>{var t;return e.current!==null&&((t=e.current.parentElement)==null?void 0:t.contains(document.activeElement))};function vee(e){const{unstable_isActiveElementInListbox:t=yee,unstable_classNamePrefix:n="Mui",autoComplete:i=!1,autoHighlight:o=!1,autoSelect:u=!1,blurOnSelect:f=!1,clearOnBlur:a=!e.freeSolo,clearOnEscape:y=!1,componentName:w="useAutocomplete",defaultValue:k=e.multiple?[]:null,disableClearable:M=!1,disableCloseOnSelect:O=!1,disabled:$,disabledItemsFocusable:N=!1,disableListWrap:B=!1,filterOptions:J=_ee,filterSelectedOptions:U=!1,freeSolo:G=!1,getOptionDisabled:Z,getOptionLabel:Q=tt=>{var Ce;return(Ce=tt.label)!=null?Ce:tt},groupBy:se,handleHomeEndKeys:ce=!e.freeSolo,id:A,includeInputInList:_e=!1,inputValue:le,isOptionEqualToValue:ve=(tt,Ce)=>tt===Ce,multiple:Ue=!1,onChange:$e,onClose:Ae,onHighlightChange:Re,onInputChange:Oe,onOpen:Ye,open:Qe,openOnFocus:ze=!1,options:Pe,readOnly:je=!1,selectOnFocus:lt=!e.freeSolo,value:ot}=e,ct=D_(A);let Ct=Q;Ct=tt=>{const Ce=Q(tt);return typeof Ce!="string"?String(Ce):Ce};const ut=V.useRef(!1),yt=V.useRef(!0),Dt=V.useRef(null),Rt=V.useRef(null),[St,Qt]=V.useState(null),[Lt,qt]=V.useState(-1),an=o?0:-1,jt=V.useRef(an),[vt,gn]=rh({controlled:ot,default:k,name:w}),[on,Bn]=rh({controlled:le,default:"",name:w,state:"inputValue"}),[Yn,On]=V.useState(!1),zn=V.useCallback((tt,Ce)=>{if(!(Ue?vt.length<Ce.length:Ce!==null)&&!a)return;let Ut;if(Ue)Ut="";else if(Ce==null)Ut="";else{const pn=Ct(Ce);Ut=typeof pn=="string"?pn:""}on!==Ut&&(Bn(Ut),Oe&&Oe(tt,Ut,"reset"))},[Ct,on,Ue,Oe,Bn,a,vt]),[Mn,jn]=rh({controlled:Qe,default:!1,name:w,state:"open"}),[yr,pt]=V.useState(!0),sn=!Ue&&vt!=null&&on===Ct(vt),dn=Mn&&!je,en=dn?J(Pe.filter(tt=>!(U&&(Ue?vt:[vt]).some(Ce=>Ce!==null&&ve(tt,Ce)))),{inputValue:sn&&yr?"":on,getOptionLabel:Ct}):[],ln=cJ({filteredOptions:en,value:vt,inputValue:on});V.useEffect(()=>{const tt=vt!==ln.value;Yn&&!tt||G&&!tt||zn(null,vt)},[vt,zn,Yn,ln.value,G]);const un=Mn&&en.length>0&&!je,bn=hs(tt=>{tt===-1?Dt.current.focus():St.querySelector(`[data-tag-index="${tt}"]`).focus()});V.useEffect(()=>{Ue&&Lt>vt.length-1&&(qt(-1),bn(-1))},[vt,Ue,Lt,bn]);function Dn(tt,Ce){if(!Rt.current||tt===-1)return-1;let ft=tt;for(;;){if(Ce==="next"&&ft===en.length||Ce==="previous"&&ft===-1)return-1;const Ut=Rt.current.querySelector(`[data-option-index="${ft}"]`),pn=N?!1:!Ut||Ut.disabled||Ut.getAttribute("aria-disabled")==="true";if(Ut&&!Ut.hasAttribute("tabindex")||pn)ft+=Ce==="next"?1:-1;else return ft}}const Fn=hs(({event:tt,index:Ce,reason:ft="auto"})=>{if(jt.current=Ce,Ce===-1?Dt.current.removeAttribute("aria-activedescendant"):Dt.current.setAttribute("aria-activedescendant",`${ct}-option-${Ce}`),Re&&Re(tt,Ce===-1?null:en[Ce],ft),!Rt.current)return;const Ut=Rt.current.querySelector(`[role="option"].${n}-focused`);Ut&&(Ut.classList.remove(`${n}-focused`),Ut.classList.remove(`${n}-focusVisible`));let pn=Rt.current;if(Rt.current.getAttribute("role")!=="listbox"&&(pn=Rt.current.parentElement.querySelector('[role="listbox"]')),!pn)return;if(Ce===-1){pn.scrollTop=0;return}const fr=Rt.current.querySelector(`[data-option-index="${Ce}"]`);if(fr&&(fr.classList.add(`${n}-focused`),ft==="keyboard"&&fr.classList.add(`${n}-focusVisible`),pn.scrollHeight>pn.clientHeight&&ft!=="mouse"&&ft!=="touch")){const Mr=fr,Hn=pn.clientHeight+pn.scrollTop,Do=Mr.offsetTop+Mr.offsetHeight;Do>Hn?pn.scrollTop=Do-pn.clientHeight:Mr.offsetTop-Mr.offsetHeight*(se?1.3:0)<pn.scrollTop&&(pn.scrollTop=Mr.offsetTop-Mr.offsetHeight*(se?1.3:0))}}),er=hs(({event:tt,diff:Ce,direction:ft="next",reason:Ut="auto"})=>{if(!dn)return;const fr=Dn((()=>{const Mr=en.length-1;if(Ce==="reset")return an;if(Ce==="start")return 0;if(Ce==="end")return Mr;const Hn=jt.current+Ce;return Hn<0?Hn===-1&&_e?-1:B&&jt.current!==-1||Math.abs(Ce)>1?0:Mr:Hn>Mr?Hn===Mr+1&&_e?-1:B||Math.abs(Ce)>1?Mr:0:Hn})(),ft);if(Fn({index:fr,reason:Ut,event:tt}),i&&Ce!=="reset")if(fr===-1)Dt.current.value=on;else{const Mr=Ct(en[fr]);Dt.current.value=Mr,Mr.toLowerCase().indexOf(on.toLowerCase())===0&&on.length>0&&Dt.current.setSelectionRange(on.length,Mr.length)}}),Ar=()=>{const tt=(Ce,ft)=>{const Ut=Ce?Ct(Ce):"",pn=ft?Ct(ft):"";return Ut===pn};if(jt.current!==-1&&ln.filteredOptions&&ln.filteredOptions.length!==en.length&&ln.inputValue===on&&(Ue?vt.length===ln.value.length&&ln.value.every((Ce,ft)=>Ct(vt[ft])===Ct(Ce)):tt(ln.value,vt))){const Ce=ln.filteredOptions[jt.current];if(Ce&&en.some(Ut=>Ct(Ut)===Ct(Ce)))return!0}return!1},pr=V.useCallback(()=>{if(!dn||Ar())return;const tt=Ue?vt[0]:vt;if(en.length===0||tt==null){er({diff:"reset"});return}if(Rt.current){if(tt!=null){const Ce=en[jt.current];if(Ue&&Ce&&G6(vt,Ut=>ve(Ce,Ut))!==-1)return;const ft=G6(en,Ut=>ve(Ut,tt));ft===-1?er({diff:"reset"}):Fn({index:ft});return}if(jt.current>=en.length-1){Fn({index:en.length-1});return}Fn({index:jt.current})}},[en.length,Ue?!1:vt,U,er,Fn,dn,on,Ue]),mi=hs(tt=>{Yg(Rt,tt),tt&&pr()});V.useEffect(()=>{pr()},[pr]);const Hr=tt=>{Mn||(jn(!0),pt(!0),Ye&&Ye(tt))},ke=(tt,Ce)=>{Mn&&(jn(!1),Ae&&Ae(tt,Ce))},oe=(tt,Ce,ft,Ut)=>{if(Ue){if(vt.length===Ce.length&&vt.every((pn,fr)=>pn===Ce[fr]))return}else if(vt===Ce)return;$e&&$e(tt,Ce,ft,Ut),gn(Ce)},ae=V.useRef(!1),xe=(tt,Ce,ft="selectOption",Ut="options")=>{let pn=ft,fr=Ce;if(Ue){fr=Array.isArray(vt)?vt.slice():[];const Mr=G6(fr,Hn=>ve(Ce,Hn));Mr===-1?fr.push(Ce):Ut!=="freeSolo"&&(fr.splice(Mr,1),pn="removeOption")}zn(tt,fr),oe(tt,fr,pn,{option:Ce}),!O&&(!tt||!tt.ctrlKey&&!tt.metaKey)&&ke(tt,pn),(f===!0||f==="touch"&&ae.current||f==="mouse"&&!ae.current)&&Dt.current.blur()};function Fe(tt,Ce){if(tt===-1)return-1;let ft=tt;for(;;){if(Ce==="next"&&ft===vt.length||Ce==="previous"&&ft===-1)return-1;const Ut=St.querySelector(`[data-tag-index="${ft}"]`);if(!Ut||!Ut.hasAttribute("tabindex")||Ut.disabled||Ut.getAttribute("aria-disabled")==="true")ft+=Ce==="next"?1:-1;else return ft}}const Be=(tt,Ce)=>{if(!Ue)return;on===""&&ke(tt,"toggleInput");let ft=Lt;Lt===-1?on===""&&Ce==="previous"&&(ft=vt.length-1):(ft+=Ce==="next"?1:-1,ft<0&&(ft=0),ft===vt.length&&(ft=-1)),ft=Fe(ft,Ce),qt(ft),bn(ft)},et=tt=>{ut.current=!0,Bn(""),Oe&&Oe(tt,"","clear"),oe(tt,Ue?[]:null,"clear")},nt=tt=>Ce=>{if(tt.onKeyDown&&tt.onKeyDown(Ce),!Ce.defaultMuiPrevented&&(Lt!==-1&&["ArrowLeft","ArrowRight"].indexOf(Ce.key)===-1&&(qt(-1),bn(-1)),Ce.which!==229))switch(Ce.key){case"Home":dn&&ce&&(Ce.preventDefault(),er({diff:"start",direction:"next",reason:"keyboard",event:Ce}));break;case"End":dn&&ce&&(Ce.preventDefault(),er({diff:"end",direction:"previous",reason:"keyboard",event:Ce}));break;case"PageUp":Ce.preventDefault(),er({diff:-fI,direction:"previous",reason:"keyboard",event:Ce}),Hr(Ce);break;case"PageDown":Ce.preventDefault(),er({diff:fI,direction:"next",reason:"keyboard",event:Ce}),Hr(Ce);break;case"ArrowDown":Ce.preventDefault(),er({diff:1,direction:"next",reason:"keyboard",event:Ce}),Hr(Ce);break;case"ArrowUp":Ce.preventDefault(),er({diff:-1,direction:"previous",reason:"keyboard",event:Ce}),Hr(Ce);break;case"ArrowLeft":Be(Ce,"previous");break;case"ArrowRight":Be(Ce,"next");break;case"Enter":if(jt.current!==-1&&dn){const ft=en[jt.current],Ut=Z?Z(ft):!1;if(Ce.preventDefault(),Ut)return;xe(Ce,ft,"selectOption"),i&&Dt.current.setSelectionRange(Dt.current.value.length,Dt.current.value.length)}else G&&on!==""&&sn===!1&&(Ue&&Ce.preventDefault(),xe(Ce,on,"createOption","freeSolo"));break;case"Escape":dn?(Ce.preventDefault(),Ce.stopPropagation(),ke(Ce,"escape")):y&&(on!==""||Ue&&vt.length>0)&&(Ce.preventDefault(),Ce.stopPropagation(),et(Ce));break;case"Backspace":if(Ue&&!je&&on===""&&vt.length>0){const ft=Lt===-1?vt.length-1:Lt,Ut=vt.slice();Ut.splice(ft,1),oe(Ce,Ut,"removeOption",{option:vt[ft]})}break;case"Delete":if(Ue&&!je&&on===""&&vt.length>0&&Lt!==-1){const ft=Lt,Ut=vt.slice();Ut.splice(ft,1),oe(Ce,Ut,"removeOption",{option:vt[ft]})}break}},qe=tt=>{On(!0),ze&&!ut.current&&Hr(tt)},He=tt=>{if(t(Rt)){Dt.current.focus();return}On(!1),yt.current=!0,ut.current=!1,u&&jt.current!==-1&&dn?xe(tt,en[jt.current],"blur"):u&&G&&on!==""?xe(tt,on,"blur","freeSolo"):a&&zn(tt,vt),ke(tt,"blur")},Je=tt=>{const Ce=tt.target.value;on!==Ce&&(Bn(Ce),pt(!1),Oe&&Oe(tt,Ce,"input")),Ce===""?!M&&!Ue&&oe(tt,null,"clear"):Hr(tt)},xt=tt=>{const Ce=Number(tt.currentTarget.getAttribute("data-option-index"));jt.current!==Ce&&Fn({event:tt,index:Ce,reason:"mouse"})},kt=tt=>{Fn({event:tt,index:Number(tt.currentTarget.getAttribute("data-option-index")),reason:"touch"}),ae.current=!0},vn=tt=>{const Ce=Number(tt.currentTarget.getAttribute("data-option-index"));xe(tt,en[Ce],"selectOption"),ae.current=!1},Nn=tt=>Ce=>{const ft=vt.slice();ft.splice(tt,1),oe(Ce,ft,"removeOption",{option:vt[tt]})},Rn=tt=>{Mn?ke(tt,"toggleInput"):Hr(tt)},$n=tt=>{tt.currentTarget.contains(tt.target)&&tt.target.getAttribute("id")!==ct&&tt.preventDefault()},Xn=tt=>{tt.currentTarget.contains(tt.target)&&(Dt.current.focus(),lt&&yt.current&&Dt.current.selectionEnd-Dt.current.selectionStart===0&&Dt.current.select(),yt.current=!1)},wr=tt=>{(on===""||!Mn)&&Rn(tt)};let Er=G&&on.length>0;Er=Er||(Ue?vt.length>0:vt!==null);let Rr=en;return se&&(Rr=en.reduce((tt,Ce,ft)=>{const Ut=se(Ce);return tt.length>0&&tt[tt.length-1].group===Ut?tt[tt.length-1].options.push(Ce):tt.push({key:ft,index:ft,group:Ut,options:[Ce]}),tt},[])),$&&Yn&&He(),{getRootProps:(tt={})=>me({"aria-owns":un?`${ct}-listbox`:null},tt,{onKeyDown:nt(tt),onMouseDown:$n,onClick:Xn}),getInputLabelProps:()=>({id:`${ct}-label`,htmlFor:ct}),getInputProps:()=>({id:ct,value:on,onBlur:He,onFocus:qe,onChange:Je,onMouseDown:wr,"aria-activedescendant":dn?"":null,"aria-autocomplete":i?"both":"list","aria-controls":un?`${ct}-listbox`:void 0,"aria-expanded":un,autoComplete:"off",ref:Dt,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:$}),getClearProps:()=>({tabIndex:-1,onClick:et}),getPopupIndicatorProps:()=>({tabIndex:-1,onClick:Rn}),getTagProps:({index:tt})=>me({key:tt,"data-tag-index":tt,tabIndex:-1},!je&&{onDelete:Nn(tt)}),getListboxProps:()=>({role:"listbox",id:`${ct}-listbox`,"aria-labelledby":`${ct}-label`,ref:mi,onMouseDown:tt=>{tt.preventDefault()}}),getOptionProps:({index:tt,option:Ce})=>{const ft=(Ue?vt:[vt]).some(pn=>pn!=null&&ve(Ce,pn)),Ut=Z?Z(Ce):!1;return{key:Ct(Ce),tabIndex:-1,role:"option",id:`${ct}-option-${tt}`,onMouseMove:xt,onClick:vn,onTouchStart:kt,"data-option-index":tt,"aria-disabled":Ut,"aria-selected":ft}},id:ct,inputValue:on,value:vt,dirty:Er,expanded:dn&&St,popupOpen:dn,focused:Yn||Lt!==-1,anchorEl:St,setAnchorEl:Qt,focusedTag:Lt,groupedOptions:Rr}}function cz(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var xee=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,bee=cz(function(e){return xee.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function wee(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function Eee(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var See=function(){function e(n){var i=this;this._insertTag=function(o){var u;i.tags.length===0?i.insertionPoint?u=i.insertionPoint.nextSibling:i.prepend?u=i.container.firstChild:u=i.before:u=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(o,u),i.tags.push(o)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(i){i.forEach(this._insertTag)},t.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Eee(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var u=wee(o);try{u.insertRule(i,u.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(i));this.ctr++},t.flush=function(){this.tags.forEach(function(i){return i.parentNode&&i.parentNode.removeChild(i)}),this.tags=[],this.ctr=0},e}(),Ma="-ms-",tx="-moz-",ci="-webkit-",uz="comm",L9="rule",z9="decl",Tee="@import",dz="@keyframes",Cee="@layer",kee=Math.abs,vb=String.fromCharCode,Pee=Object.assign;function Iee(e,t){return ua(e,0)^45?(((t<<2^ua(e,0))<<2^ua(e,1))<<2^ua(e,2))<<2^ua(e,3):0}function hz(e){return e.trim()}function Aee(e,t){return(e=t.exec(e))?e[0]:e}function ui(e,t,n){return e.replace(t,n)}function t8(e,t){return e.indexOf(t)}function ua(e,t){return e.charCodeAt(t)|0}function e_(e,t,n){return e.slice(t,n)}function Uc(e){return e.length}function F9(e){return e.length}function Av(e,t){return t.push(e),e}function Mee(e,t){return e.map(t).join("")}var xb=1,B0=1,pz=0,xs=0,Io=0,l1="";function bb(e,t,n,i,o,u,f){return{value:e,root:t,parent:n,type:i,props:o,children:u,line:xb,column:B0,length:f,return:""}}function Mm(e,t){return Pee(bb("",null,null,"",null,null,0),e,{length:-e.length},t)}function Dee(){return Io}function Ree(){return Io=xs>0?ua(l1,--xs):0,B0--,Io===10&&(B0=1,xb--),Io}function Us(){return Io=xs<pz?ua(l1,xs++):0,B0++,Io===10&&(B0=1,xb++),Io}function Qc(){return ua(l1,xs)}function a2(){return xs}function L_(e,t){return e_(l1,e,t)}function t_(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function fz(e){return xb=B0=1,pz=Uc(l1=e),xs=0,[]}function mz(e){return l1="",e}function s2(e){return hz(L_(xs-1,n8(e===91?e+2:e===40?e+1:e)))}function Oee(e){for(;(Io=Qc())&&Io<33;)Us();return t_(e)>2||t_(Io)>3?"":" "}function Lee(e,t){for(;--t&&Us()&&!(Io<48||Io>102||Io>57&&Io<65||Io>70&&Io<97););return L_(e,a2()+(t<6&&Qc()==32&&Us()==32))}function n8(e){for(;Us();)switch(Io){case e:return xs;case 34:case 39:e!==34&&e!==39&&n8(Io);break;case 40:e===41&&n8(e);break;case 92:Us();break}return xs}function zee(e,t){for(;Us()&&e+Io!==47+10;)if(e+Io===42+42&&Qc()===47)break;return"/*"+L_(t,xs-1)+"*"+vb(e===47?e:Us())}function Fee(e){for(;!t_(Qc());)Us();return L_(e,xs)}function Nee(e){return mz(l2("",null,null,null,[""],e=fz(e),0,[0],e))}function l2(e,t,n,i,o,u,f,a,y){for(var w=0,k=0,M=f,O=0,$=0,N=0,B=1,J=1,U=1,G=0,Z="",Q=o,se=u,ce=i,A=Z;J;)switch(N=G,G=Us()){case 40:if(N!=108&&ua(A,M-1)==58){t8(A+=ui(s2(G),"&","&\f"),"&\f")!=-1&&(U=-1);break}case 34:case 39:case 91:A+=s2(G);break;case 9:case 10:case 13:case 32:A+=Oee(N);break;case 92:A+=Lee(a2()-1,7);continue;case 47:switch(Qc()){case 42:case 47:Av(Bee(zee(Us(),a2()),t,n),y);break;default:A+="/"}break;case 123*B:a[w++]=Uc(A)*U;case 125*B:case 59:case 0:switch(G){case 0:case 125:J=0;case 59+k:U==-1&&(A=ui(A,/\f/g,"")),$>0&&Uc(A)-M&&Av($>32?gI(A+";",i,n,M-1):gI(ui(A," ","")+";",i,n,M-2),y);break;case 59:A+=";";default:if(Av(ce=mI(A,t,n,w,k,o,a,Z,Q=[],se=[],M),u),G===123)if(k===0)l2(A,t,ce,ce,Q,u,M,a,se);else switch(O===99&&ua(A,3)===110?100:O){case 100:case 108:case 109:case 115:l2(e,ce,ce,i&&Av(mI(e,ce,ce,0,0,o,a,Z,o,Q=[],M),se),o,se,M,a,i?Q:se);break;default:l2(A,ce,ce,ce,[""],se,0,a,se)}}w=k=$=0,B=U=1,Z=A="",M=f;break;case 58:M=1+Uc(A),$=N;default:if(B<1){if(G==123)--B;else if(G==125&&B++==0&&Ree()==125)continue}switch(A+=vb(G),G*B){case 38:U=k>0?1:(A+="\f",-1);break;case 44:a[w++]=(Uc(A)-1)*U,U=1;break;case 64:Qc()===45&&(A+=s2(Us())),O=Qc(),k=M=Uc(Z=A+=Fee(a2())),G++;break;case 45:N===45&&Uc(A)==2&&(B=0)}}return u}function mI(e,t,n,i,o,u,f,a,y,w,k){for(var M=o-1,O=o===0?u:[""],$=F9(O),N=0,B=0,J=0;N<i;++N)for(var U=0,G=e_(e,M+1,M=kee(B=f[N])),Z=e;U<$;++U)(Z=hz(B>0?O[U]+" "+G:ui(G,/&\f/g,O[U])))&&(y[J++]=Z);return bb(e,t,n,o===0?L9:a,y,w,k)}function Bee(e,t,n){return bb(e,t,n,uz,vb(Dee()),e_(e,2,-2),0)}function gI(e,t,n,i){return bb(e,t,n,z9,e_(e,0,i),e_(e,i+1,-1),i)}function x0(e,t){for(var n="",i=F9(e),o=0;o<i;o++)n+=t(e[o],o,e,t)||"";return n}function jee(e,t,n,i){switch(e.type){case Cee:if(e.children.length)break;case Tee:case z9:return e.return=e.return||e.value;case uz:return"";case dz:return e.return=e.value+"{"+x0(e.children,i)+"}";case L9:e.value=e.props.join(",")}return Uc(n=x0(e.children,i))?e.return=e.value+"{"+n+"}":""}function $ee(e){var t=F9(e);return function(n,i,o,u){for(var f="",a=0;a<t;a++)f+=e[a](n,i,o,u)||"";return f}}function Uee(e){return function(t){t.root||(t=t.return)&&e(t)}}var Vee=function(t,n,i){for(var o=0,u=0;o=u,u=Qc(),o===38&&u===12&&(n[i]=1),!t_(u);)Us();return L_(t,xs)},Wee=function(t,n){var i=-1,o=44;do switch(t_(o)){case 0:o===38&&Qc()===12&&(n[i]=1),t[i]+=Vee(xs-1,n,i);break;case 2:t[i]+=s2(o);break;case 4:if(o===44){t[++i]=Qc()===58?"&\f":"",n[i]=t[i].length;break}default:t[i]+=vb(o)}while(o=Us());return t},Hee=function(t,n){return mz(Wee(fz(t),n))},_I=new WeakMap,qee=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,i=t.parent,o=t.column===i.column&&t.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!_I.get(i))&&!o){_I.set(t,!0);for(var u=[],f=Hee(n,u),a=i.props,y=0,w=0;y<f.length;y++)for(var k=0;k<a.length;k++,w++)t.props[w]=u[y]?f[y].replace(/&\f/g,a[k]):a[k]+" "+f[y]}}},Gee=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function gz(e,t){switch(Iee(e,t)){case 5103:return ci+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ci+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ci+e+tx+e+Ma+e+e;case 6828:case 4268:return ci+e+Ma+e+e;case 6165:return ci+e+Ma+"flex-"+e+e;case 5187:return ci+e+ui(e,/(\w+).+(:[^]+)/,ci+"box-$1$2"+Ma+"flex-$1$2")+e;case 5443:return ci+e+Ma+"flex-item-"+ui(e,/flex-|-self/,"")+e;case 4675:return ci+e+Ma+"flex-line-pack"+ui(e,/align-content|flex-|-self/,"")+e;case 5548:return ci+e+Ma+ui(e,"shrink","negative")+e;case 5292:return ci+e+Ma+ui(e,"basis","preferred-size")+e;case 6060:return ci+"box-"+ui(e,"-grow","")+ci+e+Ma+ui(e,"grow","positive")+e;case 4554:return ci+ui(e,/([^-])(transform)/g,"$1"+ci+"$2")+e;case 6187:return ui(ui(ui(e,/(zoom-|grab)/,ci+"$1"),/(image-set)/,ci+"$1"),e,"")+e;case 5495:case 3959:return ui(e,/(image-set\([^]*)/,ci+"$1$`$1");case 4968:return ui(ui(e,/(.+:)(flex-)?(.*)/,ci+"box-pack:$3"+Ma+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ci+e+e;case 4095:case 3583:case 4068:case 2532:return ui(e,/(.+)-inline(.+)/,ci+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Uc(e)-1-t>6)switch(ua(e,t+1)){case 109:if(ua(e,t+4)!==45)break;case 102:return ui(e,/(.+:)(.+)-([^]+)/,"$1"+ci+"$2-$3$1"+tx+(ua(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~t8(e,"stretch")?gz(ui(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(ua(e,t+1)!==115)break;case 6444:switch(ua(e,Uc(e)-3-(~t8(e,"!important")&&10))){case 107:return ui(e,":",":"+ci)+e;case 101:return ui(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ci+(ua(e,14)===45?"inline-":"")+"box$3$1"+ci+"$2$3$1"+Ma+"$2box$3")+e}break;case 5936:switch(ua(e,t+11)){case 114:return ci+e+Ma+ui(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ci+e+Ma+ui(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ci+e+Ma+ui(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ci+e+Ma+e+e}return e}var Zee=function(t,n,i,o){if(t.length>-1&&!t.return)switch(t.type){case z9:t.return=gz(t.value,t.length);break;case dz:return x0([Mm(t,{value:ui(t.value,"@","@"+ci)})],o);case L9:if(t.length)return Mee(t.props,function(u){switch(Aee(u,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return x0([Mm(t,{props:[ui(u,/:(read-\w+)/,":"+tx+"$1")]})],o);case"::placeholder":return x0([Mm(t,{props:[ui(u,/:(plac\w+)/,":"+ci+"input-$1")]}),Mm(t,{props:[ui(u,/:(plac\w+)/,":"+tx+"$1")]}),Mm(t,{props:[ui(u,/:(plac\w+)/,Ma+"input-$1")]})],o)}return""})}},Xee=[Zee],Kee=function(t){var n=t.key;if(n==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(B){var J=B.getAttribute("data-emotion");J.indexOf(" ")!==-1&&(document.head.appendChild(B),B.setAttribute("data-s",""))})}var o=t.stylisPlugins||Xee,u={},f,a=[];f=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(B){for(var J=B.getAttribute("data-emotion").split(" "),U=1;U<J.length;U++)u[J[U]]=!0;a.push(B)});var y,w=[qee,Gee];{var k,M=[jee,Uee(function(B){k.insert(B)})],O=$ee(w.concat(o,M)),$=function(J){return x0(Nee(J),O)};y=function(J,U,G,Z){k=G,$(J?J+"{"+U.styles+"}":U.styles),Z&&(N.inserted[U.name]=!0)}}var N={key:n,sheet:new See({key:n,container:f,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:u,registered:{},insert:y};return N.sheet.hydrate(a),N},_z={exports:{}},xi={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var na=typeof Symbol=="function"&&Symbol.for,N9=na?Symbol.for("react.element"):60103,B9=na?Symbol.for("react.portal"):60106,wb=na?Symbol.for("react.fragment"):60107,Eb=na?Symbol.for("react.strict_mode"):60108,Sb=na?Symbol.for("react.profiler"):60114,Tb=na?Symbol.for("react.provider"):60109,Cb=na?Symbol.for("react.context"):60110,j9=na?Symbol.for("react.async_mode"):60111,kb=na?Symbol.for("react.concurrent_mode"):60111,Pb=na?Symbol.for("react.forward_ref"):60112,Ib=na?Symbol.for("react.suspense"):60113,Yee=na?Symbol.for("react.suspense_list"):60120,Ab=na?Symbol.for("react.memo"):60115,Mb=na?Symbol.for("react.lazy"):60116,Jee=na?Symbol.for("react.block"):60121,Qee=na?Symbol.for("react.fundamental"):60117,ete=na?Symbol.for("react.responder"):60118,tte=na?Symbol.for("react.scope"):60119;function Zs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case N9:switch(e=e.type,e){case j9:case kb:case wb:case Sb:case Eb:case Ib:return e;default:switch(e=e&&e.$$typeof,e){case Cb:case Pb:case Mb:case Ab:case Tb:return e;default:return t}}case B9:return t}}}function yz(e){return Zs(e)===kb}xi.AsyncMode=j9;xi.ConcurrentMode=kb;xi.ContextConsumer=Cb;xi.ContextProvider=Tb;xi.Element=N9;xi.ForwardRef=Pb;xi.Fragment=wb;xi.Lazy=Mb;xi.Memo=Ab;xi.Portal=B9;xi.Profiler=Sb;xi.StrictMode=Eb;xi.Suspense=Ib;xi.isAsyncMode=function(e){return yz(e)||Zs(e)===j9};xi.isConcurrentMode=yz;xi.isContextConsumer=function(e){return Zs(e)===Cb};xi.isContextProvider=function(e){return Zs(e)===Tb};xi.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===N9};xi.isForwardRef=function(e){return Zs(e)===Pb};xi.isFragment=function(e){return Zs(e)===wb};xi.isLazy=function(e){return Zs(e)===Mb};xi.isMemo=function(e){return Zs(e)===Ab};xi.isPortal=function(e){return Zs(e)===B9};xi.isProfiler=function(e){return Zs(e)===Sb};xi.isStrictMode=function(e){return Zs(e)===Eb};xi.isSuspense=function(e){return Zs(e)===Ib};xi.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===wb||e===kb||e===Sb||e===Eb||e===Ib||e===Yee||typeof e=="object"&&e!==null&&(e.$$typeof===Mb||e.$$typeof===Ab||e.$$typeof===Tb||e.$$typeof===Cb||e.$$typeof===Pb||e.$$typeof===Qee||e.$$typeof===ete||e.$$typeof===tte||e.$$typeof===Jee)};xi.typeOf=Zs;_z.exports=xi;var nte=_z.exports,vz=nte,rte={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ite={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},xz={};xz[vz.ForwardRef]=rte;xz[vz.Memo]=ite;var ote=!0;function bz(e,t,n){var i="";return n.split(" ").forEach(function(o){e[o]!==void 0?t.push(e[o]+";"):i+=o+" "}),i}var $9=function(t,n,i){var o=t.key+"-"+n.name;(i===!1||ote===!1)&&t.registered[o]===void 0&&(t.registered[o]=n.styles)},U9=function(t,n,i){$9(t,n,i);var o=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var u=n;do t.insert(n===u?"."+o:"",u,t.sheet,!0),u=u.next;while(u!==void 0)}};function ate(e){for(var t=0,n,i=0,o=e.length;o>=4;++i,o-=4)n=e.charCodeAt(i)&255|(e.charCodeAt(++i)&255)<<8|(e.charCodeAt(++i)&255)<<16|(e.charCodeAt(++i)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(o){case 3:t^=(e.charCodeAt(i+2)&255)<<16;case 2:t^=(e.charCodeAt(i+1)&255)<<8;case 1:t^=e.charCodeAt(i)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var ste={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},lte=/[A-Z]|^ms/g,cte=/_EMO_([^_]+?)_([^]*?)_EMO_/g,wz=function(t){return t.charCodeAt(1)===45},yI=function(t){return t!=null&&typeof t!="boolean"},Z6=cz(function(e){return wz(e)?e:e.replace(lte,"-$&").toLowerCase()}),vI=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(cte,function(i,o,u){return Vc={name:o,styles:u,next:Vc},o})}return ste[t]!==1&&!wz(t)&&typeof n=="number"&&n!==0?n+"px":n};function n_(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Vc={name:n.name,styles:n.styles,next:Vc},n.name;if(n.styles!==void 0){var i=n.next;if(i!==void 0)for(;i!==void 0;)Vc={name:i.name,styles:i.styles,next:Vc},i=i.next;var o=n.styles+";";return o}return ute(e,t,n)}case"function":{if(e!==void 0){var u=Vc,f=n(e);return Vc=u,n_(e,t,f)}break}}if(t==null)return n;var a=t[n];return a!==void 0?a:n}function ute(e,t,n){var i="";if(Array.isArray(n))for(var o=0;o<n.length;o++)i+=n_(e,t,n[o])+";";else for(var u in n){var f=n[u];if(typeof f!="object")t!=null&&t[f]!==void 0?i+=u+"{"+t[f]+"}":yI(f)&&(i+=Z6(u)+":"+vI(u,f)+";");else if(Array.isArray(f)&&typeof f[0]=="string"&&(t==null||t[f[0]]===void 0))for(var a=0;a<f.length;a++)yI(f[a])&&(i+=Z6(u)+":"+vI(u,f[a])+";");else{var y=n_(e,t,f);switch(u){case"animation":case"animationName":{i+=Z6(u)+":"+y+";";break}default:i+=u+"{"+y+"}"}}}return i}var xI=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Vc,Db=function(t,n,i){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var o=!0,u="";Vc=void 0;var f=t[0];f==null||f.raw===void 0?(o=!1,u+=n_(i,n,f)):u+=f[0];for(var a=1;a<t.length;a++)u+=n_(i,n,t[a]),o&&(u+=f[a]);xI.lastIndex=0;for(var y="",w;(w=xI.exec(u))!==null;)y+="-"+w[1];var k=ate(u)+y;return{name:k,styles:u,next:Vc}},dte=function(t){return t()},Ez=g2["useInsertionEffect"]?g2["useInsertionEffect"]:!1,Sz=Ez||dte,bI=Ez||V.useLayoutEffect,V9={}.hasOwnProperty,Tz=V.createContext(typeof HTMLElement<"u"?Kee({key:"css"}):null);Tz.Provider;var W9=function(t){return V.forwardRef(function(n,i){var o=V.useContext(Tz);return t(n,o,i)})},z_=V.createContext({}),r8="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",hte=function(t,n){var i={};for(var o in n)V9.call(n,o)&&(i[o]=n[o]);return i[r8]=t,i},pte=function(t){var n=t.cache,i=t.serialized,o=t.isStringTag;return $9(n,i,o),Sz(function(){return U9(n,i,o)}),null},fte=W9(function(e,t,n){var i=e.css;typeof i=="string"&&t.registered[i]!==void 0&&(i=t.registered[i]);var o=e[r8],u=[i],f="";typeof e.className=="string"?f=bz(t.registered,u,e.className):e.className!=null&&(f=e.className+" ");var a=Db(u,void 0,V.useContext(z_));f+=t.key+"-"+a.name;var y={};for(var w in e)V9.call(e,w)&&w!=="css"&&w!==r8&&(y[w]=e[w]);return y.ref=n,y.className=f,V.createElement(V.Fragment,null,V.createElement(pte,{cache:t,serialized:a,isStringTag:typeof o=="string"}),V.createElement(o,y))}),mte=fte,cr=function(t,n){var i=arguments;if(n==null||!V9.call(n,"css"))return V.createElement.apply(void 0,i);var o=i.length,u=new Array(o);u[0]=mte,u[1]=hte(t,n);for(var f=2;f<o;f++)u[f]=i[f];return V.createElement.apply(null,u)},gte=W9(function(e,t){var n=e.styles,i=Db([n],void 0,V.useContext(z_)),o=V.useRef();return bI(function(){var u=t.key+"-global",f=new t.sheet.constructor({key:u,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,y=document.querySelector('style[data-emotion="'+u+" "+i.name+'"]');return t.sheet.tags.length&&(f.before=t.sheet.tags[0]),y!==null&&(a=!0,y.setAttribute("data-emotion",u),f.hydrate([y])),o.current=[f,a],function(){f.flush()}},[t]),bI(function(){var u=o.current,f=u[0],a=u[1];if(a){u[1]=!1;return}if(i.next!==void 0&&U9(t,i.next,!0),f.tags.length){var y=f.tags[f.tags.length-1].nextElementSibling;f.before=y,f.flush()}t.insert("",i,f,!1)},[t,i.name]),null});function H9(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Db(t)}var Rb=function(){var t=H9.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},_te=bee,yte=function(t){return t!=="theme"},wI=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?_te:yte},EI=function(t,n,i){var o;if(n){var u=n.shouldForwardProp;o=t.__emotion_forwardProp&&u?function(f){return t.__emotion_forwardProp(f)&&u(f)}:u}return typeof o!="function"&&i&&(o=t.__emotion_forwardProp),o},vte=function(t){var n=t.cache,i=t.serialized,o=t.isStringTag;return $9(n,i,o),Sz(function(){return U9(n,i,o)}),null},xte=function e(t,n){var i=t.__emotion_real===t,o=i&&t.__emotion_base||t,u,f;n!==void 0&&(u=n.label,f=n.target);var a=EI(t,n,i),y=a||wI(o),w=!y("as");return function(){var k=arguments,M=i&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(u!==void 0&&M.push("label:"+u+";"),k[0]==null||k[0].raw===void 0)M.push.apply(M,k);else{M.push(k[0][0]);for(var O=k.length,$=1;$<O;$++)M.push(k[$],k[0][$])}var N=W9(function(B,J,U){var G=w&&B.as||o,Z="",Q=[],se=B;if(B.theme==null){se={};for(var ce in B)se[ce]=B[ce];se.theme=V.useContext(z_)}typeof B.className=="string"?Z=bz(J.registered,Q,B.className):B.className!=null&&(Z=B.className+" ");var A=Db(M.concat(Q),J.registered,se);Z+=J.key+"-"+A.name,f!==void 0&&(Z+=" "+f);var _e=w&&a===void 0?wI(G):y,le={};for(var ve in B)w&&ve==="as"||_e(ve)&&(le[ve]=B[ve]);return le.className=Z,le.ref=U,V.createElement(V.Fragment,null,V.createElement(vte,{cache:J,serialized:A,isStringTag:typeof G=="string"}),V.createElement(G,le))});return N.displayName=u!==void 0?u:"Styled("+(typeof o=="string"?o:o.displayName||o.name||"Component")+")",N.defaultProps=t.defaultProps,N.__emotion_real=N,N.__emotion_base=o,N.__emotion_styles=M,N.__emotion_forwardProp=a,Object.defineProperty(N,"toString",{value:function(){return"."+f}}),N.withComponent=function(B,J){return e(B,me({},n,J,{shouldForwardProp:EI(N,J,!0)})).apply(void 0,M)},N}},bte=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],i8=xte.bind();bte.forEach(function(e){i8[e]=i8(e)});function wte(e){return e==null||Object.keys(e).length===0}function Ete(e){const{styles:t,defaultTheme:n={}}=e,i=typeof t=="function"?o=>t(wte(o)?n:o):t;return z.jsx(gte,{styles:i})}/**
 * @mui/styled-engine v5.13.2
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Cz(e,t){return i8(e,t)}const Ste=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},Tte=["values","unit","step"],Cte=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,i)=>n.val-i.val),t.reduce((n,i)=>me({},n,{[i.key]:i.val}),{})};function kte(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:i=5}=e,o=Qn(e,Tte),u=Cte(t),f=Object.keys(u);function a(O){return`@media (min-width:${typeof t[O]=="number"?t[O]:O}${n})`}function y(O){return`@media (max-width:${(typeof t[O]=="number"?t[O]:O)-i/100}${n})`}function w(O,$){const N=f.indexOf($);return`@media (min-width:${typeof t[O]=="number"?t[O]:O}${n}) and (max-width:${(N!==-1&&typeof t[f[N]]=="number"?t[f[N]]:$)-i/100}${n})`}function k(O){return f.indexOf(O)+1<f.length?w(O,f[f.indexOf(O)+1]):a(O)}function M(O){const $=f.indexOf(O);return $===0?a(f[1]):$===f.length-1?y(f[$]):w(O,f[f.indexOf(O)+1]).replace("@media","@media not all and")}return me({keys:f,values:u,up:a,down:y,between:w,only:k,not:M,unit:n},o)}const Pte={borderRadius:4},Ite=Pte;function cg(e,t){return t?gs(e,t,{clone:!1}):e}const q9={xs:0,sm:600,md:900,lg:1200,xl:1536},SI={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${q9[e]}px)`};function uc(e,t,n){const i=e.theme||{};if(Array.isArray(t)){const u=i.breakpoints||SI;return t.reduce((f,a,y)=>(f[u.up(u.keys[y])]=n(t[y]),f),{})}if(typeof t=="object"){const u=i.breakpoints||SI;return Object.keys(t).reduce((f,a)=>{if(Object.keys(u.values||q9).indexOf(a)!==-1){const y=u.up(a);f[y]=n(t[a],a)}else{const y=a;f[y]=t[y]}return f},{})}return n(t)}function kz(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((i,o)=>{const u=e.up(o);return i[u]={},i},{}))||{}}function Pz(e,t){return e.reduce((n,i)=>{const o=n[i];return(!o||Object.keys(o).length===0)&&delete n[i],n},t)}function Ate(e,...t){const n=kz(e),i=[n,...t].reduce((o,u)=>gs(o,u),{});return Pz(Object.keys(n),i)}function Mte(e,t){if(typeof e!="object")return{};const n={},i=Object.keys(t);return Array.isArray(e)?i.forEach((o,u)=>{u<e.length&&(n[o]=!0)}):i.forEach(o=>{e[o]!=null&&(n[o]=!0)}),n}function X6({values:e,breakpoints:t,base:n}){const i=n||Mte(e,t),o=Object.keys(i);if(o.length===0)return e;let u;return o.reduce((f,a,y)=>(Array.isArray(e)?(f[a]=e[y]!=null?e[y]:e[u],u=y):typeof e=="object"?(f[a]=e[a]!=null?e[a]:e[u],u=a):f[a]=e,f),{})}function Ob(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const i=`vars.${t}`.split(".").reduce((o,u)=>o&&o[u]?o[u]:null,e);if(i!=null)return i}return t.split(".").reduce((i,o)=>i&&i[o]!=null?i[o]:null,e)}function nx(e,t,n,i=n){let o;return typeof e=="function"?o=e(n):Array.isArray(e)?o=e[n]||i:o=Ob(e,n)||i,t&&(o=t(o,i,e)),o}function fi(e){const{prop:t,cssProperty:n=e.prop,themeKey:i,transform:o}=e,u=f=>{if(f[t]==null)return null;const a=f[t],y=f.theme,w=Ob(y,i)||{};return uc(f,a,M=>{let O=nx(w,o,M);return M===O&&typeof M=="string"&&(O=nx(w,o,`${t}${M==="default"?"":Tn(M)}`,M)),n===!1?O:{[n]:O}})};return u.propTypes={},u.filterProps=[t],u}function Dte(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const Rte={m:"margin",p:"padding"},Ote={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},TI={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Lte=Dte(e=>{if(e.length>2)if(TI[e])e=TI[e];else return[e];const[t,n]=e.split(""),i=Rte[t],o=Ote[n]||"";return Array.isArray(o)?o.map(u=>i+u):[i+o]}),G9=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Z9=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...G9,...Z9];function F_(e,t,n,i){var o;const u=(o=Ob(e,t,!1))!=null?o:n;return typeof u=="number"?f=>typeof f=="string"?f:u*f:Array.isArray(u)?f=>typeof f=="string"?f:u[f]:typeof u=="function"?u:()=>{}}function X9(e){return F_(e,"spacing",8)}function Ip(e,t){if(typeof t=="string"||t==null)return t;const n=Math.abs(t),i=e(n);return t>=0?i:typeof i=="number"?-i:`-${i}`}function zte(e,t){return n=>e.reduce((i,o)=>(i[o]=Ip(t,n),i),{})}function Fte(e,t,n,i){if(t.indexOf(n)===-1)return null;const o=Lte(n),u=zte(o,i),f=e[n];return uc(e,f,u)}function Iz(e,t){const n=X9(e.theme);return Object.keys(e).map(i=>Fte(e,t,i,n)).reduce(cg,{})}function co(e){return Iz(e,G9)}co.propTypes={};co.filterProps=G9;function uo(e){return Iz(e,Z9)}uo.propTypes={};uo.filterProps=Z9;function Nte(e=8){if(e.mui)return e;const t=X9({spacing:e}),n=(...i)=>(i.length===0?[1]:i).map(u=>{const f=t(u);return typeof f=="number"?`${f}px`:f}).join(" ");return n.mui=!0,n}function Lb(...e){const t=e.reduce((i,o)=>(o.filterProps.forEach(u=>{i[u]=o}),i),{}),n=i=>Object.keys(i).reduce((o,u)=>t[u]?cg(o,t[u](i)):o,{});return n.propTypes={},n.filterProps=e.reduce((i,o)=>i.concat(o.filterProps),[]),n}function Hc(e){return typeof e!="number"?e:`${e}px solid`}const Bte=fi({prop:"border",themeKey:"borders",transform:Hc}),jte=fi({prop:"borderTop",themeKey:"borders",transform:Hc}),$te=fi({prop:"borderRight",themeKey:"borders",transform:Hc}),Ute=fi({prop:"borderBottom",themeKey:"borders",transform:Hc}),Vte=fi({prop:"borderLeft",themeKey:"borders",transform:Hc}),Wte=fi({prop:"borderColor",themeKey:"palette"}),Hte=fi({prop:"borderTopColor",themeKey:"palette"}),qte=fi({prop:"borderRightColor",themeKey:"palette"}),Gte=fi({prop:"borderBottomColor",themeKey:"palette"}),Zte=fi({prop:"borderLeftColor",themeKey:"palette"}),zb=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=F_(e.theme,"shape.borderRadius",4),n=i=>({borderRadius:Ip(t,i)});return uc(e,e.borderRadius,n)}return null};zb.propTypes={};zb.filterProps=["borderRadius"];Lb(Bte,jte,$te,Ute,Vte,Wte,Hte,qte,Gte,Zte,zb);const Fb=e=>{if(e.gap!==void 0&&e.gap!==null){const t=F_(e.theme,"spacing",8),n=i=>({gap:Ip(t,i)});return uc(e,e.gap,n)}return null};Fb.propTypes={};Fb.filterProps=["gap"];const Nb=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=F_(e.theme,"spacing",8),n=i=>({columnGap:Ip(t,i)});return uc(e,e.columnGap,n)}return null};Nb.propTypes={};Nb.filterProps=["columnGap"];const Bb=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=F_(e.theme,"spacing",8),n=i=>({rowGap:Ip(t,i)});return uc(e,e.rowGap,n)}return null};Bb.propTypes={};Bb.filterProps=["rowGap"];const Xte=fi({prop:"gridColumn"}),Kte=fi({prop:"gridRow"}),Yte=fi({prop:"gridAutoFlow"}),Jte=fi({prop:"gridAutoColumns"}),Qte=fi({prop:"gridAutoRows"}),ene=fi({prop:"gridTemplateColumns"}),tne=fi({prop:"gridTemplateRows"}),nne=fi({prop:"gridTemplateAreas"}),rne=fi({prop:"gridArea"});Lb(Fb,Nb,Bb,Xte,Kte,Yte,Jte,Qte,ene,tne,nne,rne);function b0(e,t){return t==="grey"?t:e}const ine=fi({prop:"color",themeKey:"palette",transform:b0}),one=fi({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:b0}),ane=fi({prop:"backgroundColor",themeKey:"palette",transform:b0});Lb(ine,one,ane);function Ns(e){return e<=1&&e!==0?`${e*100}%`:e}const sne=fi({prop:"width",transform:Ns}),K9=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var i;return{maxWidth:((i=e.theme)==null||(i=i.breakpoints)==null||(i=i.values)==null?void 0:i[n])||q9[n]||Ns(n)}};return uc(e,e.maxWidth,t)}return null};K9.filterProps=["maxWidth"];const lne=fi({prop:"minWidth",transform:Ns}),cne=fi({prop:"height",transform:Ns}),une=fi({prop:"maxHeight",transform:Ns}),dne=fi({prop:"minHeight",transform:Ns});fi({prop:"size",cssProperty:"width",transform:Ns});fi({prop:"size",cssProperty:"height",transform:Ns});const hne=fi({prop:"boxSizing"});Lb(sne,K9,lne,cne,une,dne,hne);const pne={border:{themeKey:"borders",transform:Hc},borderTop:{themeKey:"borders",transform:Hc},borderRight:{themeKey:"borders",transform:Hc},borderBottom:{themeKey:"borders",transform:Hc},borderLeft:{themeKey:"borders",transform:Hc},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:zb},color:{themeKey:"palette",transform:b0},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:b0},backgroundColor:{themeKey:"palette",transform:b0},p:{style:uo},pt:{style:uo},pr:{style:uo},pb:{style:uo},pl:{style:uo},px:{style:uo},py:{style:uo},padding:{style:uo},paddingTop:{style:uo},paddingRight:{style:uo},paddingBottom:{style:uo},paddingLeft:{style:uo},paddingX:{style:uo},paddingY:{style:uo},paddingInline:{style:uo},paddingInlineStart:{style:uo},paddingInlineEnd:{style:uo},paddingBlock:{style:uo},paddingBlockStart:{style:uo},paddingBlockEnd:{style:uo},m:{style:co},mt:{style:co},mr:{style:co},mb:{style:co},ml:{style:co},mx:{style:co},my:{style:co},margin:{style:co},marginTop:{style:co},marginRight:{style:co},marginBottom:{style:co},marginLeft:{style:co},marginX:{style:co},marginY:{style:co},marginInline:{style:co},marginInlineStart:{style:co},marginInlineEnd:{style:co},marginBlock:{style:co},marginBlockStart:{style:co},marginBlockEnd:{style:co},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Fb},rowGap:{style:Bb},columnGap:{style:Nb},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ns},maxWidth:{style:K9},minWidth:{transform:Ns},height:{transform:Ns},maxHeight:{transform:Ns},minHeight:{transform:Ns},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},jb=pne;function fne(...e){const t=e.reduce((i,o)=>i.concat(Object.keys(o)),[]),n=new Set(t);return e.every(i=>n.size===Object.keys(i).length)}function mne(e,t){return typeof e=="function"?e(t):e}function gne(){function e(n,i,o,u){const f={[n]:i,theme:o},a=u[n];if(!a)return{[n]:i};const{cssProperty:y=n,themeKey:w,transform:k,style:M}=a;if(i==null)return null;if(w==="typography"&&i==="inherit")return{[n]:i};const O=Ob(o,w)||{};return M?M(f):uc(f,i,N=>{let B=nx(O,k,N);return N===B&&typeof N=="string"&&(B=nx(O,k,`${n}${N==="default"?"":Tn(N)}`,N)),y===!1?B:{[y]:B}})}function t(n){var i;const{sx:o,theme:u={}}=n||{};if(!o)return null;const f=(i=u.unstable_sxConfig)!=null?i:jb;function a(y){let w=y;if(typeof y=="function")w=y(u);else if(typeof y!="object")return y;if(!w)return null;const k=kz(u.breakpoints),M=Object.keys(k);let O=k;return Object.keys(w).forEach($=>{const N=mne(w[$],u);if(N!=null)if(typeof N=="object")if(f[$])O=cg(O,e($,N,u,f));else{const B=uc({theme:u},N,J=>({[$]:J}));fne(B,N)?O[$]=t({sx:N,theme:u}):O=cg(O,B)}else O=cg(O,e($,N,u,f))}),Pz(M,O)}return Array.isArray(o)?o.map(a):a(o)}return t}const Az=gne();Az.filterProps=["sx"];const $b=Az,_ne=["breakpoints","palette","spacing","shape"];function Ub(e={},...t){const{breakpoints:n={},palette:i={},spacing:o,shape:u={}}=e,f=Qn(e,_ne),a=kte(n),y=Nte(o);let w=gs({breakpoints:a,direction:"ltr",components:{},palette:me({mode:"light"},i),spacing:y,shape:me({},Ite,u)},f);return w=t.reduce((k,M)=>gs(k,M),w),w.unstable_sxConfig=me({},jb,f==null?void 0:f.unstable_sxConfig),w.unstable_sx=function(M){return $b({sx:M,theme:this})},w}function yne(e){return Object.keys(e).length===0}function Y9(e=null){const t=V.useContext(z_);return!t||yne(t)?e:t}const vne=Ub();function Vb(e=vne){return Y9(e)}function xne({styles:e,themeId:t,defaultTheme:n={}}){const i=Vb(n),o=typeof e=="function"?e(t&&i[t]||i):e;return z.jsx(Ete,{styles:o})}const bne=["sx"],wne=e=>{var t,n;const i={systemProps:{},otherProps:{}},o=(t=e==null||(n=e.theme)==null?void 0:n.unstable_sxConfig)!=null?t:jb;return Object.keys(e).forEach(u=>{o[u]?i.systemProps[u]=e[u]:i.otherProps[u]=e[u]}),i};function Mz(e){const{sx:t}=e,n=Qn(e,bne),{systemProps:i,otherProps:o}=wne(n);let u;return Array.isArray(t)?u=[i,...t]:typeof t=="function"?u=(...f)=>{const a=t(...f);return sp(a)?me({},i,a):i}:u=me({},i,t),me({},o,{sx:u})}const Ene=["className","component"];function Sne(e={}){const{themeId:t,defaultTheme:n,defaultClassName:i="MuiBox-root",generateClassName:o}=e,u=Cz("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})($b);return V.forwardRef(function(y,w){const k=Vb(n),M=Mz(y),{className:O,component:$="div"}=M,N=Qn(M,Ene);return z.jsx(u,me({as:$,ref:w,className:Jn(O,o?o(i):i),theme:t&&k[t]||k},N))})}const Tne=["variant"];function CI(e){return e.length===0}function Dz(e){const{variant:t}=e,n=Qn(e,Tne);let i=t||"";return Object.keys(n).sort().forEach(o=>{o==="color"?i+=CI(i)?e[o]:Tn(e[o]):i+=`${CI(i)?o:Tn(o)}${Tn(e[o].toString())}`}),i}const Cne=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function kne(e){return Object.keys(e).length===0}function Pne(e){return typeof e=="string"&&e.charCodeAt(0)>96}const Ine=(e,t)=>t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null,Ane=(e,t)=>{let n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);const i={};return n.forEach(o=>{const u=Dz(o.props);i[u]=o.style}),i},Mne=(e,t,n,i)=>{var o;const{ownerState:u={}}=e,f=[],a=n==null||(o=n.components)==null||(o=o[i])==null?void 0:o.variants;return a&&a.forEach(y=>{let w=!0;Object.keys(y.props).forEach(k=>{u[k]!==y.props[k]&&e[k]!==y.props[k]&&(w=!1)}),w&&f.push(t[Dz(y.props)])}),f};function ug(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Dne=Ub();function Dm({defaultTheme:e,theme:t,themeId:n}){return kne(t)?e:t[n]||t}function Rz(e={}){const{themeId:t,defaultTheme:n=Dne,rootShouldForwardProp:i=ug,slotShouldForwardProp:o=ug}=e,u=f=>$b(me({},f,{theme:Dm(me({},f,{defaultTheme:n,themeId:t}))}));return u.__mui_systemSx=!0,(f,a={})=>{Ste(f,Q=>Q.filter(se=>!(se!=null&&se.__mui_systemSx)));const{name:y,slot:w,skipVariantsResolver:k,skipSx:M,overridesResolver:O}=a,$=Qn(a,Cne),N=k!==void 0?k:w&&w!=="Root"||!1,B=M||!1;let J,U=ug;w==="Root"?U=i:w?U=o:Pne(f)&&(U=void 0);const G=Cz(f,me({shouldForwardProp:U,label:J},$)),Z=(Q,...se)=>{const ce=se?se.map(ve=>typeof ve=="function"&&ve.__emotion_real!==ve?Ue=>ve(me({},Ue,{theme:Dm(me({},Ue,{defaultTheme:n,themeId:t}))})):ve):[];let A=Q;y&&O&&ce.push(ve=>{const Ue=Dm(me({},ve,{defaultTheme:n,themeId:t})),$e=Ine(y,Ue);if($e){const Ae={};return Object.entries($e).forEach(([Re,Oe])=>{Ae[Re]=typeof Oe=="function"?Oe(me({},ve,{theme:Ue})):Oe}),O(ve,Ae)}return null}),y&&!N&&ce.push(ve=>{const Ue=Dm(me({},ve,{defaultTheme:n,themeId:t}));return Mne(ve,Ane(y,Ue),Ue,y)}),B||ce.push(u);const _e=ce.length-se.length;if(Array.isArray(Q)&&_e>0){const ve=new Array(_e).fill("");A=[...Q,...ve],A.raw=[...Q.raw,...ve]}else typeof Q=="function"&&Q.__emotion_real!==Q&&(A=ve=>Q(me({},ve,{theme:Dm(me({},ve,{defaultTheme:n,themeId:t}))})));const le=G(A,...ce);return f.muiName&&(le.muiName=f.muiName),le};return G.withConfig&&(Z.withConfig=G.withConfig),Z}}const Rne=Rz(),One=Rne;function Lne(e){const{theme:t,name:n,props:i}=e;return!t||!t.components||!t.components[n]||!t.components[n].defaultProps?i:C9(t.components[n].defaultProps,i)}function Oz({props:e,name:t,defaultTheme:n,themeId:i}){let o=Vb(n);return i&&(o=o[i]||o),Lne({theme:o,name:t,props:e})}function J9(e,t=0,n=1){return Math.min(Math.max(t,e),n)}function zne(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(i=>i+i)),n?`rgb${n.length===4?"a":""}(${n.map((i,o)=>o<3?parseInt(i,16):Math.round(parseInt(i,16)/255*1e3)/1e3).join(", ")})`:""}function Ap(e){if(e.type)return e;if(e.charAt(0)==="#")return Ap(zne(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(dh(9,e));let i=e.substring(t+1,e.length-1),o;if(n==="color"){if(i=i.split(" "),o=i.shift(),i.length===4&&i[3].charAt(0)==="/"&&(i[3]=i[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(o)===-1)throw new Error(dh(10,o))}else i=i.split(",");return i=i.map(u=>parseFloat(u)),{type:n,values:i,colorSpace:o}}function Wb(e){const{type:t,colorSpace:n}=e;let{values:i}=e;return t.indexOf("rgb")!==-1?i=i.map((o,u)=>u<3?parseInt(o,10):o):t.indexOf("hsl")!==-1&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),t.indexOf("color")!==-1?i=`${n} ${i.join(" ")}`:i=`${i.join(", ")}`,`${t}(${i})`}function Fne(e){e=Ap(e);const{values:t}=e,n=t[0],i=t[1]/100,o=t[2]/100,u=i*Math.min(o,1-o),f=(w,k=(w+n/30)%12)=>o-u*Math.max(Math.min(k-3,9-k,1),-1);let a="rgb";const y=[Math.round(f(0)*255),Math.round(f(8)*255),Math.round(f(4)*255)];return e.type==="hsla"&&(a+="a",y.push(t[3])),Wb({type:a,values:y})}function kI(e){e=Ap(e);let t=e.type==="hsl"||e.type==="hsla"?Ap(Fne(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Nne(e,t){const n=kI(e),i=kI(t);return(Math.max(n,i)+.05)/(Math.min(n,i)+.05)}function no(e,t){return e=Ap(e),t=J9(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,Wb(e)}function rx(e,t){if(e=Ap(e),t=J9(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Wb(e)}function ix(e,t){if(e=Ap(e),t=J9(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Wb(e)}const Bne=V.createContext(null),Lz=Bne;function zz(){return V.useContext(Lz)}const jne=typeof Symbol=="function"&&Symbol.for,$ne=jne?Symbol.for("mui.nested"):"__THEME_NESTED__";function Une(e,t){return typeof t=="function"?t(e):me({},e,t)}function Vne(e){const{children:t,theme:n}=e,i=zz(),o=V.useMemo(()=>{const u=i===null?n:Une(i,n);return u!=null&&(u[$ne]=i!==null),u},[n,i]);return z.jsx(Lz.Provider,{value:o,children:t})}const PI={};function II(e,t,n,i=!1){return V.useMemo(()=>{const o=e&&t[e]||t;if(typeof n=="function"){const u=n(o),f=e?me({},t,{[e]:u}):u;return i?()=>f:f}return e?me({},t,{[e]:n}):me({},t,n)},[e,t,n,i])}function Wne(e){const{children:t,theme:n,themeId:i}=e,o=Y9(PI),u=zz()||PI,f=II(i,o,n),a=II(i,u,n,!0);return z.jsx(Vne,{theme:a,children:z.jsx(z_.Provider,{value:f,children:t})})}const Hne=["component","direction","spacing","divider","children","className","useFlexGap"],qne=Ub(),Gne=One("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function Zne(e){return Oz({props:e,name:"MuiStack",defaultTheme:qne})}function Xne(e,t){const n=V.Children.toArray(e).filter(Boolean);return n.reduce((i,o,u)=>(i.push(o),u<n.length-1&&i.push(V.cloneElement(t,{key:`separator-${u}`})),i),[])}const Kne=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],Yne=({ownerState:e,theme:t})=>{let n=me({display:"flex",flexDirection:"column"},uc({theme:t},X6({values:e.direction,breakpoints:t.breakpoints.values}),i=>({flexDirection:i})));if(e.spacing){const i=X9(t),o=Object.keys(t.breakpoints.values).reduce((y,w)=>((typeof e.spacing=="object"&&e.spacing[w]!=null||typeof e.direction=="object"&&e.direction[w]!=null)&&(y[w]=!0),y),{}),u=X6({values:e.direction,base:o}),f=X6({values:e.spacing,base:o});typeof u=="object"&&Object.keys(u).forEach((y,w,k)=>{if(!u[y]){const O=w>0?u[k[w-1]]:"column";u[y]=O}}),n=gs(n,uc({theme:t},f,(y,w)=>e.useFlexGap?{gap:Ip(i,y)}:{"& > :not(style) ~ :not(style)":{margin:0,[`margin${Kne(w?u[w]:e.direction)}`]:Ip(i,y)}}))}return n=Ate(t.breakpoints,n),n};function Jne(e={}){const{createStyledComponent:t=Gne,useThemeProps:n=Zne,componentName:i="MuiStack"}=e,o=()=>yi({root:["root"]},y=>pi(i,y),{}),u=t(Yne);return V.forwardRef(function(y,w){const k=n(y),M=Mz(k),{component:O="div",direction:$="column",spacing:N=0,divider:B,children:J,className:U,useFlexGap:G=!1}=M,Z=Qn(M,Hne),Q={direction:$,spacing:N,useFlexGap:G},se=o();return z.jsx(u,me({as:O,ownerState:Q,ref:w,className:Jn(se.root,U)},Z,{children:B?Xne(J,B):J}))})}function Qne(e,t){return me({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const ere={black:"#000",white:"#fff"},r_=ere,tre={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},nre=tre,rre={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Lf=rre,ire={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},zf=ire,ore={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Rm=ore,are={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Ff=are,sre={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Nf=sre,lre={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Bf=lre,cre=["mode","contrastThreshold","tonalOffset"],AI={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:r_.white,default:r_.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},K6={text:{primary:r_.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:r_.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function MI(e,t,n,i){const o=i.light||i,u=i.dark||i*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=ix(e.main,o):t==="dark"&&(e.dark=rx(e.main,u)))}function ure(e="light"){return e==="dark"?{main:Ff[200],light:Ff[50],dark:Ff[400]}:{main:Ff[700],light:Ff[400],dark:Ff[800]}}function dre(e="light"){return e==="dark"?{main:Lf[200],light:Lf[50],dark:Lf[400]}:{main:Lf[500],light:Lf[300],dark:Lf[700]}}function hre(e="light"){return e==="dark"?{main:zf[500],light:zf[300],dark:zf[700]}:{main:zf[700],light:zf[400],dark:zf[800]}}function pre(e="light"){return e==="dark"?{main:Nf[400],light:Nf[300],dark:Nf[700]}:{main:Nf[700],light:Nf[500],dark:Nf[900]}}function fre(e="light"){return e==="dark"?{main:Bf[400],light:Bf[300],dark:Bf[700]}:{main:Bf[800],light:Bf[500],dark:Bf[900]}}function mre(e="light"){return e==="dark"?{main:Rm[400],light:Rm[300],dark:Rm[700]}:{main:"#ed6c02",light:Rm[500],dark:Rm[900]}}function gre(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:i=.2}=e,o=Qn(e,cre),u=e.primary||ure(t),f=e.secondary||dre(t),a=e.error||hre(t),y=e.info||pre(t),w=e.success||fre(t),k=e.warning||mre(t);function M(B){return Nne(B,K6.text.primary)>=n?K6.text.primary:AI.text.primary}const O=({color:B,name:J,mainShade:U=500,lightShade:G=300,darkShade:Z=700})=>{if(B=me({},B),!B.main&&B[U]&&(B.main=B[U]),!B.hasOwnProperty("main"))throw new Error(dh(11,J?` (${J})`:"",U));if(typeof B.main!="string")throw new Error(dh(12,J?` (${J})`:"",JSON.stringify(B.main)));return MI(B,"light",G,i),MI(B,"dark",Z,i),B.contrastText||(B.contrastText=M(B.main)),B},$={dark:K6,light:AI};return gs(me({common:me({},r_),mode:t,primary:O({color:u,name:"primary"}),secondary:O({color:f,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:O({color:a,name:"error"}),warning:O({color:k,name:"warning"}),info:O({color:y,name:"info"}),success:O({color:w,name:"success"}),grey:nre,contrastThreshold:n,getContrastText:M,augmentColor:O,tonalOffset:i},$[t]),o)}const _re=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function yre(e){return Math.round(e*1e5)/1e5}const DI={textTransform:"uppercase"},RI='"Roboto", "Helvetica", "Arial", sans-serif';function vre(e,t){const n=typeof t=="function"?t(e):t,{fontFamily:i=RI,fontSize:o=14,fontWeightLight:u=300,fontWeightRegular:f=400,fontWeightMedium:a=500,fontWeightBold:y=700,htmlFontSize:w=16,allVariants:k,pxToRem:M}=n,O=Qn(n,_re),$=o/14,N=M||(U=>`${U/w*$}rem`),B=(U,G,Z,Q,se)=>me({fontFamily:i,fontWeight:U,fontSize:N(G),lineHeight:Z},i===RI?{letterSpacing:`${yre(Q/G)}em`}:{},se,k),J={h1:B(u,96,1.167,-1.5),h2:B(u,60,1.2,-.5),h3:B(f,48,1.167,0),h4:B(f,34,1.235,.25),h5:B(f,24,1.334,0),h6:B(a,20,1.6,.15),subtitle1:B(f,16,1.75,.15),subtitle2:B(a,14,1.57,.1),body1:B(f,16,1.5,.15),body2:B(f,14,1.43,.15),button:B(a,14,1.75,.4,DI),caption:B(f,12,1.66,.4),overline:B(f,12,2.66,1,DI),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return gs(me({htmlFontSize:w,pxToRem:N,fontFamily:i,fontSize:o,fontWeightLight:u,fontWeightRegular:f,fontWeightMedium:a,fontWeightBold:y},J),O,{clone:!1})}const xre=.2,bre=.14,wre=.12;function Hi(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${xre})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${bre})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${wre})`].join(",")}const Ere=["none",Hi(0,2,1,-1,0,1,1,0,0,1,3,0),Hi(0,3,1,-2,0,2,2,0,0,1,5,0),Hi(0,3,3,-2,0,3,4,0,0,1,8,0),Hi(0,2,4,-1,0,4,5,0,0,1,10,0),Hi(0,3,5,-1,0,5,8,0,0,1,14,0),Hi(0,3,5,-1,0,6,10,0,0,1,18,0),Hi(0,4,5,-2,0,7,10,1,0,2,16,1),Hi(0,5,5,-3,0,8,10,1,0,3,14,2),Hi(0,5,6,-3,0,9,12,1,0,3,16,2),Hi(0,6,6,-3,0,10,14,1,0,4,18,3),Hi(0,6,7,-4,0,11,15,1,0,4,20,3),Hi(0,7,8,-4,0,12,17,2,0,5,22,4),Hi(0,7,8,-4,0,13,19,2,0,5,24,4),Hi(0,7,9,-4,0,14,21,2,0,5,26,4),Hi(0,8,9,-5,0,15,22,2,0,6,28,5),Hi(0,8,10,-5,0,16,24,2,0,6,30,5),Hi(0,8,11,-5,0,17,26,2,0,6,32,5),Hi(0,9,11,-5,0,18,28,2,0,7,34,6),Hi(0,9,12,-6,0,19,29,2,0,7,36,6),Hi(0,10,13,-6,0,20,31,3,0,8,38,7),Hi(0,10,13,-6,0,21,33,3,0,8,40,7),Hi(0,10,14,-6,0,22,35,3,0,8,42,7),Hi(0,11,14,-7,0,23,36,3,0,9,44,8),Hi(0,11,15,-7,0,24,38,3,0,9,46,8)],Sre=Ere,Tre=["duration","easing","delay"],Cre={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},kre={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function OI(e){return`${Math.round(e)}ms`}function Pre(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function Ire(e){const t=me({},Cre,e.easing),n=me({},kre,e.duration);return me({getAutoHeightDuration:Pre,create:(o=["all"],u={})=>{const{duration:f=n.standard,easing:a=t.easeInOut,delay:y=0}=u;return Qn(u,Tre),(Array.isArray(o)?o:[o]).map(w=>`${w} ${typeof f=="string"?f:OI(f)} ${a} ${typeof y=="string"?y:OI(y)}`).join(",")}},e,{easing:t,duration:n})}const Are={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Mre=Are,Dre=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function ed(e={},...t){const{mixins:n={},palette:i={},transitions:o={},typography:u={}}=e,f=Qn(e,Dre);if(e.vars)throw new Error(dh(18));const a=gre(i),y=Ub(e);let w=gs(y,{mixins:Qne(y.breakpoints,n),palette:a,shadows:Sre.slice(),typography:vre(a,u),transitions:Ire(o),zIndex:me({},Mre)});return w=gs(w,f),w=t.reduce((k,M)=>gs(k,M),w),w.unstable_sxConfig=me({},jb,f==null?void 0:f.unstable_sxConfig),w.unstable_sx=function(M){return $b({sx:M,theme:this})},w}const Rre=ed(),Hb=Rre,Mp="$$material";function bi({props:e,name:t}){return Oz({props:e,name:t,defaultTheme:Hb,themeId:Mp})}const td=e=>ug(e)&&e!=="classes",qb=ug,Ore=Rz({themeId:Mp,defaultTheme:Hb,rootShouldForwardProp:td}),An=Ore;function N_(){const e=Vb(Hb);return e[Mp]||e}const Lre=e=>!e||!Uu(e),zre=Lre;function Fre(e){return pi("MuiSlider",e)}const Nre=vi("MuiSlider",["root","active","colorPrimary","colorSecondary","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),ic=Nre,Bre=e=>{const{open:t}=e;return{offset:Jn(t&&ic.valueLabelOpen),circle:ic.valueLabelCircle,label:ic.valueLabelLabel}};function jre(e){const{children:t,className:n,value:i}=e,o=Bre(e);return t?V.cloneElement(t,{className:Jn(t.props.className)},z.jsxs(V.Fragment,{children:[t.props.children,z.jsx("span",{className:Jn(o.offset,n),"aria-hidden":!0,children:z.jsx("span",{className:o.circle,children:z.jsx("span",{className:o.label,children:i})})})]})):null}const $re=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"];function LI(e){return e}const Ure=An("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`color${Tn(n.color)}`],n.size!=="medium"&&t[`size${Tn(n.size)}`],n.marked&&t.marked,n.orientation==="vertical"&&t.vertical,n.track==="inverted"&&t.trackInverted,n.track===!1&&t.trackFalse]}})(({theme:e,ownerState:t})=>me({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:(e.vars||e).palette[t.color].main,WebkitTapHighlightColor:"transparent"},t.orientation==="horizontal"&&me({height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}},t.size==="small"&&{height:2},t.marked&&{marginBottom:20}),t.orientation==="vertical"&&me({height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}},t.size==="small"&&{width:2},t.marked&&{marginRight:44}),{"@media print":{colorAdjust:"exact"},[`&.${ic.disabled}`]:{pointerEvents:"none",cursor:"default",color:(e.vars||e).palette.grey[400]},[`&.${ic.dragging}`]:{[`& .${ic.thumb}, & .${ic.track}`]:{transition:"none"}}})),Vre=An("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(e,t)=>t.rail})(({ownerState:e})=>me({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38},e.orientation==="horizontal"&&{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"},e.orientation==="vertical"&&{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"},e.track==="inverted"&&{opacity:1})),Wre=An("span",{name:"MuiSlider",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?ix(e.palette[t.color].main,.62):rx(e.palette[t.color].main,.5);return me({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:e.transitions.create(["left","width","bottom","height"],{duration:e.transitions.duration.shortest})},t.size==="small"&&{border:"none"},t.orientation==="horizontal"&&{height:"inherit",top:"50%",transform:"translateY(-50%)"},t.orientation==="vertical"&&{width:"inherit",left:"50%",transform:"translateX(-50%)"},t.track===!1&&{display:"none"},t.track==="inverted"&&{backgroundColor:e.vars?e.vars.palette.Slider[`${t.color}Track`]:n,borderColor:e.vars?e.vars.palette.Slider[`${t.color}Track`]:n})}),Hre=An("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.thumb,t[`thumbColor${Tn(n.color)}`],n.size!=="medium"&&t[`thumbSize${Tn(n.size)}`]]}})(({theme:e,ownerState:t})=>me({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow","left","bottom"],{duration:e.transitions.duration.shortest})},t.size==="small"&&{width:12,height:12},t.orientation==="horizontal"&&{top:"50%",transform:"translate(-50%, -50%)"},t.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 50%)"},{"&:before":me({position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(e.vars||e).shadows[2]},t.size==="small"&&{boxShadow:"none"}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&:hover, &.${ic.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.16)`:no(e.palette[t.color].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${ic.active}`]:{boxShadow:`0px 0px 0px 14px ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.16)`:no(e.palette[t.color].main,.16)}`},[`&.${ic.disabled}`]:{"&:hover":{boxShadow:"none"}}})),qre=An(jre,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(e,t)=>t.valueLabel})(({theme:e,ownerState:t})=>me({[`&.${ic.valueLabelOpen}`]:{transform:`${t.orientation==="vertical"?"translateY(-50%)":"translateY(-100%)"} scale(1)`},zIndex:1,whiteSpace:"nowrap"},e.typography.body2,{fontWeight:500,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),transform:`${t.orientation==="vertical"?"translateY(-50%)":"translateY(-100%)"} scale(0)`,position:"absolute",backgroundColor:(e.vars||e).palette.grey[600],borderRadius:2,color:(e.vars||e).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem"},t.orientation==="horizontal"&&{top:"-10px",transformOrigin:"bottom center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"}},t.orientation==="vertical"&&{right:t.size==="small"?"20px":"30px",top:"50%",transformOrigin:"right center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"}},t.size==="small"&&{fontSize:e.typography.pxToRem(12),padding:"0.25rem 0.5rem"})),Gre=An("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>qb(e)&&e!=="markActive",overridesResolver:(e,t)=>{const{markActive:n}=e;return[t.mark,n&&t.markActive]}})(({theme:e,ownerState:t,markActive:n})=>me({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},t.orientation==="horizontal"&&{top:"50%",transform:"translate(-1px, -50%)"},t.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 1px)"},n&&{backgroundColor:(e.vars||e).palette.background.paper,opacity:.8})),Zre=An("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>qb(e)&&e!=="markLabelActive",overridesResolver:(e,t)=>t.markLabel})(({theme:e,ownerState:t,markLabelActive:n})=>me({},e.typography.body2,{color:(e.vars||e).palette.text.secondary,position:"absolute",whiteSpace:"nowrap"},t.orientation==="horizontal"&&{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}},t.orientation==="vertical"&&{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}},n&&{color:(e.vars||e).palette.text.primary})),Xre=e=>{const{disabled:t,dragging:n,marked:i,orientation:o,track:u,classes:f,color:a,size:y}=e,w={root:["root",t&&"disabled",n&&"dragging",i&&"marked",o==="vertical"&&"vertical",u==="inverted"&&"trackInverted",u===!1&&"trackFalse",a&&`color${Tn(a)}`,y&&`size${Tn(y)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled",y&&`thumbSize${Tn(y)}`,a&&`thumbColor${Tn(a)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return yi(w,Fre,f)},Kre=({children:e})=>e,Yre=V.forwardRef(function(t,n){var i,o,u,f,a,y,w,k,M,O,$,N,B,J,U,G,Z,Q,se,ce,A,_e,le,ve;const Ue=bi({props:t,name:"MuiSlider"}),Ae=N_().direction==="rtl",{"aria-label":Re,"aria-valuetext":Oe,"aria-labelledby":Ye,component:Qe="span",components:ze={},componentsProps:Pe={},color:je="primary",classes:lt,className:ot,disableSwap:ct=!1,disabled:Ct=!1,getAriaLabel:ut,getAriaValueText:yt,marks:Dt=!1,max:Rt=100,min:St=0,orientation:Qt="horizontal",size:Lt="medium",step:qt=1,scale:an=LI,slotProps:jt,slots:vt,track:gn="normal",valueLabelDisplay:on="off",valueLabelFormat:Bn=LI}=Ue,Yn=Qn(Ue,$re),On=me({},Ue,{isRtl:Ae,max:Rt,min:St,classes:lt,disabled:Ct,disableSwap:ct,orientation:Qt,marks:Dt,color:je,size:Lt,step:qt,scale:an,track:gn,valueLabelDisplay:on,valueLabelFormat:Bn}),{axisProps:zn,getRootProps:Mn,getHiddenInputProps:jn,getThumbProps:yr,open:pt,active:sn,axis:dn,focusedThumbIndex:en,range:ln,dragging:un,marks:bn,values:Dn,trackOffset:Fn,trackLeap:er,getThumbStyle:Ar}=dee(me({},On,{rootRef:n}));On.marked=bn.length>0&&bn.some(Ce=>Ce.label),On.dragging=un,On.focusedThumbIndex=en;const pr=Xre(On),mi=(i=(o=vt==null?void 0:vt.root)!=null?o:ze.Root)!=null?i:Ure,Hr=(u=(f=vt==null?void 0:vt.rail)!=null?f:ze.Rail)!=null?u:Vre,ke=(a=(y=vt==null?void 0:vt.track)!=null?y:ze.Track)!=null?a:Wre,oe=(w=(k=vt==null?void 0:vt.thumb)!=null?k:ze.Thumb)!=null?w:Hre,ae=(M=(O=vt==null?void 0:vt.valueLabel)!=null?O:ze.ValueLabel)!=null?M:qre,xe=($=(N=vt==null?void 0:vt.mark)!=null?N:ze.Mark)!=null?$:Gre,Fe=(B=(J=vt==null?void 0:vt.markLabel)!=null?J:ze.MarkLabel)!=null?B:Zre,Be=(U=(G=vt==null?void 0:vt.input)!=null?G:ze.Input)!=null?U:"input",et=(Z=jt==null?void 0:jt.root)!=null?Z:Pe.root,nt=(Q=jt==null?void 0:jt.rail)!=null?Q:Pe.rail,qe=(se=jt==null?void 0:jt.track)!=null?se:Pe.track,He=(ce=jt==null?void 0:jt.thumb)!=null?ce:Pe.thumb,Je=(A=jt==null?void 0:jt.valueLabel)!=null?A:Pe.valueLabel,xt=(_e=jt==null?void 0:jt.mark)!=null?_e:Pe.mark,kt=(le=jt==null?void 0:jt.markLabel)!=null?le:Pe.markLabel,vn=(ve=jt==null?void 0:jt.input)!=null?ve:Pe.input,Nn=Ls({elementType:mi,getSlotProps:Mn,externalSlotProps:et,externalForwardedProps:Yn,additionalProps:me({},zre(mi)&&{as:Qe}),ownerState:me({},On,et==null?void 0:et.ownerState),className:[pr.root,ot]}),Rn=Ls({elementType:Hr,externalSlotProps:nt,ownerState:On,className:pr.rail}),$n=Ls({elementType:ke,externalSlotProps:qe,additionalProps:{style:me({},zn[dn].offset(Fn),zn[dn].leap(er))},ownerState:me({},On,qe==null?void 0:qe.ownerState),className:pr.track}),Xn=Ls({elementType:oe,getSlotProps:yr,externalSlotProps:He,ownerState:me({},On,He==null?void 0:He.ownerState),className:pr.thumb}),wr=Ls({elementType:ae,externalSlotProps:Je,ownerState:me({},On,Je==null?void 0:Je.ownerState),className:pr.valueLabel}),Er=Ls({elementType:xe,externalSlotProps:xt,ownerState:On,className:pr.mark}),Rr=Ls({elementType:Fe,externalSlotProps:kt,ownerState:On,className:pr.markLabel}),tt=Ls({elementType:Be,getSlotProps:jn,externalSlotProps:vn,ownerState:On});return z.jsxs(mi,me({},Nn,{children:[z.jsx(Hr,me({},Rn)),z.jsx(ke,me({},$n)),bn.filter(Ce=>Ce.value>=St&&Ce.value<=Rt).map((Ce,ft)=>{const Ut=ex(Ce.value,St,Rt),pn=zn[dn].offset(Ut);let fr;return gn===!1?fr=Dn.indexOf(Ce.value)!==-1:fr=gn==="normal"&&(ln?Ce.value>=Dn[0]&&Ce.value<=Dn[Dn.length-1]:Ce.value<=Dn[0])||gn==="inverted"&&(ln?Ce.value<=Dn[0]||Ce.value>=Dn[Dn.length-1]:Ce.value>=Dn[0]),z.jsxs(V.Fragment,{children:[z.jsx(xe,me({"data-index":ft},Er,!Uu(xe)&&{markActive:fr},{style:me({},pn,Er.style),className:Jn(Er.className,fr&&pr.markActive)})),Ce.label!=null?z.jsx(Fe,me({"aria-hidden":!0,"data-index":ft},Rr,!Uu(Fe)&&{markLabelActive:fr},{style:me({},pn,Rr.style),className:Jn(pr.markLabel,Rr.className,fr&&pr.markLabelActive),children:Ce.label})):null]},ft)}),Dn.map((Ce,ft)=>{const Ut=ex(Ce,St,Rt),pn=zn[dn].offset(Ut),fr=on==="off"?Kre:ae;return z.jsx(fr,me({},!Uu(fr)&&{valueLabelFormat:Bn,valueLabelDisplay:on,value:typeof Bn=="function"?Bn(an(Ce),ft):Bn,index:ft,open:pt===ft||sn===ft||on==="on",disabled:Ct},wr,{children:z.jsx(oe,me({"data-index":ft},Xn,{className:Jn(pr.thumb,Xn.className,sn===ft&&pr.active,en===ft&&pr.focusVisible),style:me({},pn,Ar(ft),Xn.style),children:z.jsx(Be,me({"data-index":ft,"aria-label":ut?ut(ft):Re,"aria-valuenow":an(Ce),"aria-labelledby":Ye,"aria-valuetext":yt?yt(an(Ce),ft):Oe,value:Dn[ft]},tt))}))}),ft)})]}))}),Mv=Yre;function c1({props:e,states:t,muiFormControl:n}){return t.reduce((i,o)=>(i[o]=e[o],n&&typeof e[o]>"u"&&(i[o]=n[o]),i),{})}const Jre=V.createContext(void 0),Q9=Jre;function u1(){return V.useContext(Q9)}function Qre(e){return z.jsx(xne,me({},e,{defaultTheme:Hb,themeId:Mp}))}function zI(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function ox(e,t=!1){return e&&(zI(e.value)&&e.value!==""||t&&zI(e.defaultValue)&&e.defaultValue!=="")}function eie(e){return e.startAdornment}function tie(e){return pi("MuiInputBase",e)}const nie=vi("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),zs=nie,rie=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],Gb=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,n.size==="small"&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${Tn(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},Zb=(e,t)=>{const{ownerState:n}=e;return[t.input,n.size==="small"&&t.inputSizeSmall,n.multiline&&t.inputMultiline,n.type==="search"&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},iie=e=>{const{classes:t,color:n,disabled:i,error:o,endAdornment:u,focused:f,formControl:a,fullWidth:y,hiddenLabel:w,multiline:k,readOnly:M,size:O,startAdornment:$,type:N}=e,B={root:["root",`color${Tn(n)}`,i&&"disabled",o&&"error",y&&"fullWidth",f&&"focused",a&&"formControl",O==="small"&&"sizeSmall",k&&"multiline",$&&"adornedStart",u&&"adornedEnd",w&&"hiddenLabel",M&&"readOnly"],input:["input",i&&"disabled",N==="search"&&"inputTypeSearch",k&&"inputMultiline",O==="small"&&"inputSizeSmall",w&&"inputHiddenLabel",$&&"inputAdornedStart",u&&"inputAdornedEnd",M&&"readOnly"]};return yi(B,tie,t)},Xb=An("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Gb})(({theme:e,ownerState:t})=>me({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${zs.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&me({padding:"4px 0 5px"},t.size==="small"&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),Kb=An("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Zb})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light",i=me({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),o={opacity:"0 !important"},u=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return me({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${zs.formControl} &`]:{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":u,"&:focus::-moz-placeholder":u,"&:focus:-ms-input-placeholder":u,"&:focus::-ms-input-placeholder":u},[`&.${zs.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},t.size==="small"&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},t.type==="search"&&{MozAppearance:"textfield"})}),oie=z.jsx(Qre,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),aie=V.forwardRef(function(t,n){var i;const o=bi({props:t,name:"MuiInputBase"}),{"aria-describedby":u,autoComplete:f,autoFocus:a,className:y,components:w={},componentsProps:k={},defaultValue:M,disabled:O,disableInjectingGlobalStyles:$,endAdornment:N,fullWidth:B=!1,id:J,inputComponent:U="input",inputProps:G={},inputRef:Z,maxRows:Q,minRows:se,multiline:ce=!1,name:A,onBlur:_e,onChange:le,onClick:ve,onFocus:Ue,onKeyDown:$e,onKeyUp:Ae,placeholder:Re,readOnly:Oe,renderSuffix:Ye,rows:Qe,slotProps:ze={},slots:Pe={},startAdornment:je,type:lt="text",value:ot}=o,ct=Qn(o,rie),Ct=G.value!=null?G.value:ot,{current:ut}=V.useRef(Ct!=null),yt=V.useRef(),Dt=V.useCallback(en=>{},[]),Rt=go(yt,Z,G.ref,Dt),[St,Qt]=V.useState(!1),Lt=u1(),qt=c1({props:o,muiFormControl:Lt,states:["color","disabled","error","hiddenLabel","size","required","filled"]});qt.focused=Lt?Lt.focused:St,V.useEffect(()=>{!Lt&&O&&St&&(Qt(!1),_e&&_e())},[Lt,O,St,_e]);const an=Lt&&Lt.onFilled,jt=Lt&&Lt.onEmpty,vt=V.useCallback(en=>{ox(en)?an&&an():jt&&jt()},[an,jt]);nu(()=>{ut&&vt({value:Ct})},[Ct,vt,ut]);const gn=en=>{if(qt.disabled){en.stopPropagation();return}Ue&&Ue(en),G.onFocus&&G.onFocus(en),Lt&&Lt.onFocus?Lt.onFocus(en):Qt(!0)},on=en=>{_e&&_e(en),G.onBlur&&G.onBlur(en),Lt&&Lt.onBlur?Lt.onBlur(en):Qt(!1)},Bn=(en,...ln)=>{if(!ut){const un=en.target||yt.current;if(un==null)throw new Error(dh(1));vt({value:un.value})}G.onChange&&G.onChange(en,...ln),le&&le(en,...ln)};V.useEffect(()=>{vt(yt.current)},[]);const Yn=en=>{yt.current&&en.currentTarget===en.target&&yt.current.focus(),ve&&!qt.disabled&&ve(en)};let On=U,zn=G;ce&&On==="input"&&(Qe?zn=me({type:void 0,minRows:Qe,maxRows:Qe},zn):zn=me({type:void 0,maxRows:Q,minRows:se},zn),On=mee);const Mn=en=>{vt(en.animationName==="mui-auto-fill-cancel"?yt.current:{value:"x"})};V.useEffect(()=>{Lt&&Lt.setAdornedStart(!!je)},[Lt,je]);const jn=me({},o,{color:qt.color||"primary",disabled:qt.disabled,endAdornment:N,error:qt.error,focused:qt.focused,formControl:Lt,fullWidth:B,hiddenLabel:qt.hiddenLabel,multiline:ce,size:qt.size,startAdornment:je,type:lt}),yr=iie(jn),pt=Pe.root||w.Root||Xb,sn=ze.root||k.root||{},dn=Pe.input||w.Input||Kb;return zn=me({},zn,(i=ze.input)!=null?i:k.input),z.jsxs(V.Fragment,{children:[!$&&oie,z.jsxs(pt,me({},sn,!Uu(pt)&&{ownerState:me({},jn,sn.ownerState)},{ref:n,onClick:Yn},ct,{className:Jn(yr.root,sn.className,y,Oe&&"MuiInputBase-readOnly"),children:[je,z.jsx(Q9.Provider,{value:null,children:z.jsx(dn,me({ownerState:jn,"aria-invalid":qt.error,"aria-describedby":u,autoComplete:f,autoFocus:a,defaultValue:M,disabled:qt.disabled,id:J,onAnimationStart:Mn,name:A,placeholder:Re,readOnly:Oe,required:qt.required,rows:Qe,value:Ct,onKeyDown:$e,onKeyUp:Ae,type:lt},zn,!Uu(dn)&&{as:On,ownerState:me({},jn,zn.ownerState)},{ref:Rt,className:Jn(yr.input,zn.className,Oe&&"MuiInputBase-readOnly"),onBlur:on,onChange:Bn,onFocus:gn}))}),N,Ye?Ye(me({},qt,{startAdornment:je})):null]}))]})}),eE=aie;function sie(e){return pi("MuiInput",e)}const lie=me({},zs,vi("MuiInput",["root","underline","input"])),zd=lie,cie=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],uie=e=>{const{classes:t,disableUnderline:n}=e,o=yi({root:["root",!n&&"underline"],input:["input"]},sie,t);return me({},t,o)},die=An(Xb,{shouldForwardProp:e=>td(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...Gb(e,t),!n.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{let i=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(i=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),me({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(e.vars||e).palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${zd.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${zd.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&:before":{borderBottom:`1px solid ${i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${zd.disabled}, .${zd.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${i}`}},[`&.${zd.disabled}:before`]:{borderBottomStyle:"dotted"}})}),hie=An(Kb,{name:"MuiInput",slot:"Input",overridesResolver:Zb})({}),Fz=V.forwardRef(function(t,n){var i,o,u,f;const a=bi({props:t,name:"MuiInput"}),{disableUnderline:y,components:w={},componentsProps:k,fullWidth:M=!1,inputComponent:O="input",multiline:$=!1,slotProps:N,slots:B={},type:J="text"}=a,U=Qn(a,cie),G=uie(a),Q={root:{ownerState:{disableUnderline:y}}},se=N??k?gs(N??k,Q):Q,ce=(i=(o=B.root)!=null?o:w.Root)!=null?i:die,A=(u=(f=B.input)!=null?f:w.Input)!=null?u:hie;return z.jsx(eE,me({slots:{root:ce,input:A},slotProps:se,fullWidth:M,inputComponent:O,multiline:$,ref:n,type:J},U,{classes:G}))});Fz.muiName="Input";const Nz=Fz;function pie(e){return pi("MuiFilledInput",e)}const fie=me({},zs,vi("MuiFilledInput",["root","underline","input"])),Fs=fie,mie=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],gie=e=>{const{classes:t,disableUnderline:n}=e,o=yi({root:["root",!n&&"underline"],input:["input"]},pie,t);return me({},t,o)},_ie=An(Xb,{shouldForwardProp:e=>td(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...Gb(e,t),!n.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{var n;const i=e.palette.mode==="light",o=i?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",u=i?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",f=i?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=i?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return me({position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:u,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:f,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:u}},[`&.${Fs.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:u},[`&.${Fs.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:a}},!t.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(n=(e.vars||e).palette[t.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Fs.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Fs.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&:before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:o}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Fs.disabled}, .${Fs.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${Fs.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&me({padding:"25px 12px 8px"},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17}))}),yie=An(Kb,{name:"MuiFilledInput",slot:"Input",overridesResolver:Zb})(({theme:e,ownerState:t})=>me({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9})),Bz=V.forwardRef(function(t,n){var i,o,u,f;const a=bi({props:t,name:"MuiFilledInput"}),{components:y={},componentsProps:w,fullWidth:k=!1,inputComponent:M="input",multiline:O=!1,slotProps:$,slots:N={},type:B="text"}=a,J=Qn(a,mie),U=me({},a,{fullWidth:k,inputComponent:M,multiline:O,type:B}),G=gie(a),Z={root:{ownerState:U},input:{ownerState:U}},Q=$??w?gs($??w,Z):Z,se=(i=(o=N.root)!=null?o:y.Root)!=null?i:_ie,ce=(u=(f=N.input)!=null?f:y.Input)!=null?u:yie;return z.jsx(eE,me({slots:{root:se,input:ce},componentsProps:Q,fullWidth:k,inputComponent:M,multiline:O,ref:n,type:B},J,{classes:G}))});Bz.muiName="Input";const jz=Bz;var FI;const vie=["children","classes","className","label","notched"],xie=An("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),bie=An("legend")(({ownerState:e,theme:t})=>me({float:"unset",width:"auto",overflow:"hidden"},!e.withLabel&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},e.withLabel&&me({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},e.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})})));function wie(e){const{className:t,label:n,notched:i}=e,o=Qn(e,vie),u=n!=null&&n!=="",f=me({},e,{notched:i,withLabel:u});return z.jsx(xie,me({"aria-hidden":!0,className:t,ownerState:f},o,{children:z.jsx(bie,{ownerState:f,children:u?z.jsx("span",{children:n}):FI||(FI=z.jsx("span",{className:"notranslate",children:"​"}))})}))}function Eie(e){return pi("MuiOutlinedInput",e)}const Sie=me({},zs,vi("MuiOutlinedInput",["root","notchedOutline","input"])),$c=Sie,Tie=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],Cie=e=>{const{classes:t}=e,i=yi({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Eie,t);return me({},t,i)},kie=An(Xb,{shouldForwardProp:e=>td(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Gb})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return me({position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${$c.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${$c.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${$c.focused} .${$c.notchedOutline}`]:{borderColor:(e.vars||e).palette[t.color].main,borderWidth:2},[`&.${$c.error} .${$c.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${$c.disabled} .${$c.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&me({padding:"16.5px 14px"},t.size==="small"&&{padding:"8.5px 14px"}))}),Pie=An(wie,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),Iie=An(Kb,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Zb})(({theme:e,ownerState:t})=>me({padding:"16.5px 14px"},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0})),$z=V.forwardRef(function(t,n){var i,o,u,f,a;const y=bi({props:t,name:"MuiOutlinedInput"}),{components:w={},fullWidth:k=!1,inputComponent:M="input",label:O,multiline:$=!1,notched:N,slots:B={},type:J="text"}=y,U=Qn(y,Tie),G=Cie(y),Z=u1(),Q=c1({props:y,muiFormControl:Z,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),se=me({},y,{color:Q.color||"primary",disabled:Q.disabled,error:Q.error,focused:Q.focused,formControl:Z,fullWidth:k,hiddenLabel:Q.hiddenLabel,multiline:$,size:Q.size,type:J}),ce=(i=(o=B.root)!=null?o:w.Root)!=null?i:kie,A=(u=(f=B.input)!=null?f:w.Input)!=null?u:Iie;return z.jsx(eE,me({slots:{root:ce,input:A},renderSuffix:_e=>z.jsx(Pie,{ownerState:se,className:G.notchedOutline,label:O!=null&&O!==""&&Q.required?a||(a=z.jsxs(V.Fragment,{children:[O," ","*"]})):O,notched:typeof N<"u"?N:!!(_e.startAdornment||_e.filled||_e.focused)}),fullWidth:k,inputComponent:M,multiline:$,ref:n,type:J},U,{classes:me({},G,{notchedOutline:null})}))});$z.muiName="Input";const Uz=$z;function Aie(e){return pi("MuiFormLabel",e)}const Mie=vi("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),dg=Mie,Die=["children","className","color","component","disabled","error","filled","focused","required"],Rie=e=>{const{classes:t,color:n,focused:i,disabled:o,error:u,filled:f,required:a}=e,y={root:["root",`color${Tn(n)}`,o&&"disabled",u&&"error",f&&"filled",i&&"focused",a&&"required"],asterisk:["asterisk",u&&"error"]};return yi(y,Aie,t)},Oie=An("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:e},t)=>me({},t.root,e.color==="secondary"&&t.colorSecondary,e.filled&&t.filled)})(({theme:e,ownerState:t})=>me({color:(e.vars||e).palette.text.secondary},e.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${dg.focused}`]:{color:(e.vars||e).palette[t.color].main},[`&.${dg.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${dg.error}`]:{color:(e.vars||e).palette.error.main}})),Lie=An("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${dg.error}`]:{color:(e.vars||e).palette.error.main}})),zie=V.forwardRef(function(t,n){const i=bi({props:t,name:"MuiFormLabel"}),{children:o,className:u,component:f="label"}=i,a=Qn(i,Die),y=u1(),w=c1({props:i,muiFormControl:y,states:["color","required","focused","disabled","error","filled"]}),k=me({},i,{color:w.color||"primary",component:f,disabled:w.disabled,error:w.error,filled:w.filled,focused:w.focused,required:w.required}),M=Rie(k);return z.jsxs(Oie,me({as:f,ownerState:k,className:Jn(M.root,u),ref:n},a,{children:[o,w.required&&z.jsxs(Lie,{ownerState:k,"aria-hidden":!0,className:M.asterisk,children:[" ","*"]})]}))}),Fie=zie;function Nie(e){return pi("MuiInputLabel",e)}vi("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Bie=["disableAnimation","margin","shrink","variant","className"],jie=e=>{const{classes:t,formControl:n,size:i,shrink:o,disableAnimation:u,variant:f,required:a}=e,w=yi({root:["root",n&&"formControl",!u&&"animated",o&&"shrink",i==="small"&&"sizeSmall",f],asterisk:[a&&"asterisk"]},Nie,t);return me({},t,w)},$ie=An(Fie,{shouldForwardProp:e=>td(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${dg.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,n.size==="small"&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,t[n.variant]]}})(({theme:e,ownerState:t})=>me({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},t.size==="small"&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},t.variant==="filled"&&me({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&me({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},t.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),t.variant==="outlined"&&me({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),Uie=V.forwardRef(function(t,n){const i=bi({name:"MuiInputLabel",props:t}),{disableAnimation:o=!1,shrink:u,className:f}=i,a=Qn(i,Bie),y=u1();let w=u;typeof w>"u"&&y&&(w=y.filled||y.focused||y.adornedStart);const k=c1({props:i,muiFormControl:y,states:["size","variant","required"]}),M=me({},i,{disableAnimation:o,formControl:y,shrink:w,size:k.size,variant:k.variant,required:k.required}),O=jie(M);return z.jsx($ie,me({"data-shrink":w,ownerState:M,ref:n,className:Jn(O.root,f)},a,{classes:O}))}),Vie=Uie;function Wie(e){return pi("MuiFormControl",e)}vi("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Hie=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],qie=e=>{const{classes:t,margin:n,fullWidth:i}=e,o={root:["root",n!=="none"&&`margin${Tn(n)}`,i&&"fullWidth"]};return yi(o,Wie,t)},Gie=An("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>me({},t.root,t[`margin${Tn(e.margin)}`],e.fullWidth&&t.fullWidth)})(({ownerState:e})=>me({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},e.margin==="normal"&&{marginTop:16,marginBottom:8},e.margin==="dense"&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"})),Zie=V.forwardRef(function(t,n){const i=bi({props:t,name:"MuiFormControl"}),{children:o,className:u,color:f="primary",component:a="div",disabled:y=!1,error:w=!1,focused:k,fullWidth:M=!1,hiddenLabel:O=!1,margin:$="none",required:N=!1,size:B="medium",variant:J="outlined"}=i,U=Qn(i,Hie),G=me({},i,{color:f,component:a,disabled:y,error:w,fullWidth:M,hiddenLabel:O,margin:$,required:N,size:B,variant:J}),Z=qie(G),[Q,se]=V.useState(()=>{let Ae=!1;return o&&V.Children.forEach(o,Re=>{if(!i2(Re,["Input","Select"]))return;const Oe=i2(Re,["Select"])?Re.props.input:Re;Oe&&eie(Oe.props)&&(Ae=!0)}),Ae}),[ce,A]=V.useState(()=>{let Ae=!1;return o&&V.Children.forEach(o,Re=>{i2(Re,["Input","Select"])&&(ox(Re.props,!0)||ox(Re.props.inputProps,!0))&&(Ae=!0)}),Ae}),[_e,le]=V.useState(!1);y&&_e&&le(!1);const ve=k!==void 0&&!y?k:_e;let Ue;const $e=V.useMemo(()=>({adornedStart:Q,setAdornedStart:se,color:f,disabled:y,error:w,filled:ce,focused:ve,fullWidth:M,hiddenLabel:O,size:B,onBlur:()=>{le(!1)},onEmpty:()=>{A(!1)},onFilled:()=>{A(!0)},onFocus:()=>{le(!0)},registerEffect:Ue,required:N,variant:J}),[Q,f,y,w,ce,ve,M,O,Ue,N,B,J]);return z.jsx(Q9.Provider,{value:$e,children:z.jsx(Gie,me({as:a,ownerState:G,className:Jn(Z.root,u),ref:n},U,{children:o}))})}),Xie=Zie;function Kie(e){return pi("MuiFormHelperText",e)}const Yie=vi("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),NI=Yie;var BI;const Jie=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Qie=e=>{const{classes:t,contained:n,size:i,disabled:o,error:u,filled:f,focused:a,required:y}=e,w={root:["root",o&&"disabled",u&&"error",i&&`size${Tn(i)}`,n&&"contained",a&&"focused",f&&"filled",y&&"required"]};return yi(w,Kie,t)},eoe=An("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${Tn(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})(({theme:e,ownerState:t})=>me({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${NI.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${NI.error}`]:{color:(e.vars||e).palette.error.main}},t.size==="small"&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14})),toe=V.forwardRef(function(t,n){const i=bi({props:t,name:"MuiFormHelperText"}),{children:o,className:u,component:f="p"}=i,a=Qn(i,Jie),y=u1(),w=c1({props:i,muiFormControl:y,states:["variant","size","disabled","error","filled","focused","required"]}),k=me({},i,{component:f,contained:w.variant==="filled"||w.variant==="outlined",variant:w.variant,size:w.size,disabled:w.disabled,error:w.error,filled:w.filled,focused:w.focused,required:w.required}),M=Qie(k);return z.jsx(eoe,me({as:f,ownerState:k,className:Jn(M.root,u),ref:n},a,{children:o===" "?BI||(BI=z.jsx("span",{className:"notranslate",children:"​"})):o}))}),noe=toe;var Si={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tE=Symbol.for("react.element"),nE=Symbol.for("react.portal"),Yb=Symbol.for("react.fragment"),Jb=Symbol.for("react.strict_mode"),Qb=Symbol.for("react.profiler"),e3=Symbol.for("react.provider"),t3=Symbol.for("react.context"),roe=Symbol.for("react.server_context"),n3=Symbol.for("react.forward_ref"),r3=Symbol.for("react.suspense"),i3=Symbol.for("react.suspense_list"),o3=Symbol.for("react.memo"),a3=Symbol.for("react.lazy"),ioe=Symbol.for("react.offscreen"),Vz;Vz=Symbol.for("react.module.reference");function Pl(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case tE:switch(e=e.type,e){case Yb:case Qb:case Jb:case r3:case i3:return e;default:switch(e=e&&e.$$typeof,e){case roe:case t3:case n3:case a3:case o3:case e3:return e;default:return t}}case nE:return t}}}Si.ContextConsumer=t3;Si.ContextProvider=e3;Si.Element=tE;Si.ForwardRef=n3;Si.Fragment=Yb;Si.Lazy=a3;Si.Memo=o3;Si.Portal=nE;Si.Profiler=Qb;Si.StrictMode=Jb;Si.Suspense=r3;Si.SuspenseList=i3;Si.isAsyncMode=function(){return!1};Si.isConcurrentMode=function(){return!1};Si.isContextConsumer=function(e){return Pl(e)===t3};Si.isContextProvider=function(e){return Pl(e)===e3};Si.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===tE};Si.isForwardRef=function(e){return Pl(e)===n3};Si.isFragment=function(e){return Pl(e)===Yb};Si.isLazy=function(e){return Pl(e)===a3};Si.isMemo=function(e){return Pl(e)===o3};Si.isPortal=function(e){return Pl(e)===nE};Si.isProfiler=function(e){return Pl(e)===Qb};Si.isStrictMode=function(e){return Pl(e)===Jb};Si.isSuspense=function(e){return Pl(e)===r3};Si.isSuspenseList=function(e){return Pl(e)===i3};Si.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Yb||e===Qb||e===Jb||e===r3||e===i3||e===ioe||typeof e=="object"&&e!==null&&(e.$$typeof===a3||e.$$typeof===o3||e.$$typeof===e3||e.$$typeof===t3||e.$$typeof===n3||e.$$typeof===Vz||e.getModuleId!==void 0)};Si.typeOf=Pl;const ooe=V.createContext({}),aoe=ooe;function soe(e){return pi("MuiList",e)}vi("MuiList",["root","padding","dense","subheader"]);const loe=["children","className","component","dense","disablePadding","subheader"],coe=e=>{const{classes:t,disablePadding:n,dense:i,subheader:o}=e;return yi({root:["root",!n&&"padding",i&&"dense",o&&"subheader"]},soe,t)},uoe=An("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})(({ownerState:e})=>me({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0})),doe=V.forwardRef(function(t,n){const i=bi({props:t,name:"MuiList"}),{children:o,className:u,component:f="ul",dense:a=!1,disablePadding:y=!1,subheader:w}=i,k=Qn(i,loe),M=V.useMemo(()=>({dense:a}),[a]),O=me({},i,{component:f,dense:a,disablePadding:y}),$=coe(O);return z.jsx(aoe.Provider,{value:M,children:z.jsxs(uoe,me({as:f,className:Jn($.root,u),ref:n,ownerState:O},k,{children:[w,o]}))})}),hoe=doe,poe=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Y6(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function jI(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function Wz(e,t){if(t===void 0)return!0;let n=e.innerText;return n===void 0&&(n=e.textContent),n=n.trim().toLowerCase(),n.length===0?!1:t.repeating?n[0]===t.keys[0]:n.indexOf(t.keys.join(""))===0}function Om(e,t,n,i,o,u){let f=!1,a=o(e,t,t?n:!1);for(;a;){if(a===e.firstChild){if(f)return!1;f=!0}const y=i?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!Wz(a,u)||y)a=o(e,a,n);else return a.focus(),!0}return!1}const foe=V.forwardRef(function(t,n){const{actions:i,autoFocus:o=!1,autoFocusItem:u=!1,children:f,className:a,disabledItemsFocusable:y=!1,disableListWrap:w=!1,onKeyDown:k,variant:M="selectedMenu"}=t,O=Qn(t,poe),$=V.useRef(null),N=V.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});nu(()=>{o&&$.current.focus()},[o]),V.useImperativeHandle(i,()=>({adjustStyleForScrollbar:(Z,Q)=>{const se=!$.current.style.width;if(Z.clientHeight<$.current.clientHeight&&se){const ce=`${XL(Mo(Z))}px`;$.current.style[Q.direction==="rtl"?"paddingLeft":"paddingRight"]=ce,$.current.style.width=`calc(100% + ${ce})`}return $.current}}),[]);const B=Z=>{const Q=$.current,se=Z.key,ce=Mo(Q).activeElement;if(se==="ArrowDown")Z.preventDefault(),Om(Q,ce,w,y,Y6);else if(se==="ArrowUp")Z.preventDefault(),Om(Q,ce,w,y,jI);else if(se==="Home")Z.preventDefault(),Om(Q,null,w,y,Y6);else if(se==="End")Z.preventDefault(),Om(Q,null,w,y,jI);else if(se.length===1){const A=N.current,_e=se.toLowerCase(),le=performance.now();A.keys.length>0&&(le-A.lastTime>500?(A.keys=[],A.repeating=!0,A.previousKeyMatched=!0):A.repeating&&_e!==A.keys[0]&&(A.repeating=!1)),A.lastTime=le,A.keys.push(_e);const ve=ce&&!A.repeating&&Wz(ce,A);A.previousKeyMatched&&(ve||Om(Q,ce,!1,y,Y6,A))?Z.preventDefault():A.previousKeyMatched=!1}k&&k(Z)},J=go($,n);let U=-1;V.Children.forEach(f,(Z,Q)=>{if(!V.isValidElement(Z)){U===Q&&(U+=1,U>=f.length&&(U=-1));return}Z.props.disabled||(M==="selectedMenu"&&Z.props.selected||U===-1)&&(U=Q),U===Q&&(Z.props.disabled||Z.props.muiSkipListHighlight||Z.type.muiSkipListHighlight)&&(U+=1,U>=f.length&&(U=-1))});const G=V.Children.map(f,(Z,Q)=>{if(Q===U){const se={};return u&&(se.autoFocus=!0),Z.props.tabIndex===void 0&&M==="selectedMenu"&&(se.tabIndex=0),V.cloneElement(Z,se)}return Z});return z.jsx(hoe,me({role:"menu",ref:J,className:a,onKeyDown:B,tabIndex:o?0:-1},O,{children:G}))}),moe=foe;function ax(e,t){return ax=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},ax(e,t)}function Hz(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ax(e,t)}const $I={disabled:!1},sx=Zt.createContext(null);var goe=function(t){return t.scrollTop},Vm="unmounted",ip="exited",op="entering",Vf="entered",o8="exiting",nd=function(e){Hz(t,e);function t(i,o){var u;u=e.call(this,i,o)||this;var f=o,a=f&&!f.isMounting?i.enter:i.appear,y;return u.appearStatus=null,i.in?a?(y=ip,u.appearStatus=op):y=Vf:i.unmountOnExit||i.mountOnEnter?y=Vm:y=ip,u.state={status:y},u.nextCallback=null,u}t.getDerivedStateFromProps=function(o,u){var f=o.in;return f&&u.status===Vm?{status:ip}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(o){var u=null;if(o!==this.props){var f=this.state.status;this.props.in?f!==op&&f!==Vf&&(u=op):(f===op||f===Vf)&&(u=o8)}this.updateStatus(!1,u)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var o=this.props.timeout,u,f,a;return u=f=a=o,o!=null&&typeof o!="number"&&(u=o.exit,f=o.enter,a=o.appear!==void 0?o.appear:f),{exit:u,enter:f,appear:a}},n.updateStatus=function(o,u){if(o===void 0&&(o=!1),u!==null)if(this.cancelNextCallback(),u===op){if(this.props.unmountOnExit||this.props.mountOnEnter){var f=this.props.nodeRef?this.props.nodeRef.current:pv.findDOMNode(this);f&&goe(f)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ip&&this.setState({status:Vm})},n.performEnter=function(o){var u=this,f=this.props.enter,a=this.context?this.context.isMounting:o,y=this.props.nodeRef?[a]:[pv.findDOMNode(this),a],w=y[0],k=y[1],M=this.getTimeouts(),O=a?M.appear:M.enter;if(!o&&!f||$I.disabled){this.safeSetState({status:Vf},function(){u.props.onEntered(w)});return}this.props.onEnter(w,k),this.safeSetState({status:op},function(){u.props.onEntering(w,k),u.onTransitionEnd(O,function(){u.safeSetState({status:Vf},function(){u.props.onEntered(w,k)})})})},n.performExit=function(){var o=this,u=this.props.exit,f=this.getTimeouts(),a=this.props.nodeRef?void 0:pv.findDOMNode(this);if(!u||$I.disabled){this.safeSetState({status:ip},function(){o.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:o8},function(){o.props.onExiting(a),o.onTransitionEnd(f.exit,function(){o.safeSetState({status:ip},function(){o.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(o,u){u=this.setNextCallback(u),this.setState(o,u)},n.setNextCallback=function(o){var u=this,f=!0;return this.nextCallback=function(a){f&&(f=!1,u.nextCallback=null,o(a))},this.nextCallback.cancel=function(){f=!1},this.nextCallback},n.onTransitionEnd=function(o,u){this.setNextCallback(u);var f=this.props.nodeRef?this.props.nodeRef.current:pv.findDOMNode(this),a=o==null&&!this.props.addEndListener;if(!f||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var y=this.props.nodeRef?[this.nextCallback]:[f,this.nextCallback],w=y[0],k=y[1];this.props.addEndListener(w,k)}o!=null&&setTimeout(this.nextCallback,o)},n.render=function(){var o=this.state.status;if(o===Vm)return null;var u=this.props,f=u.children;u.in,u.mountOnEnter,u.unmountOnExit,u.appear,u.enter,u.exit,u.timeout,u.addEndListener,u.onEnter,u.onEntering,u.onEntered,u.onExit,u.onExiting,u.onExited,u.nodeRef;var a=Qn(u,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Zt.createElement(sx.Provider,{value:null},typeof f=="function"?f(o,a):Zt.cloneElement(Zt.Children.only(f),a))},t}(Zt.Component);nd.contextType=sx;nd.propTypes={};function jf(){}nd.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:jf,onEntering:jf,onEntered:jf,onExit:jf,onExiting:jf,onExited:jf};nd.UNMOUNTED=Vm;nd.EXITED=ip;nd.ENTERING=op;nd.ENTERED=Vf;nd.EXITING=o8;const qz=nd;function Gz(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rE(e,t){var n=function(u){return t&&V.isValidElement(u)?t(u):u},i=Object.create(null);return e&&V.Children.map(e,function(o){return o}).forEach(function(o){i[o.key]=n(o)}),i}function _oe(e,t){e=e||{},t=t||{};function n(k){return k in t?t[k]:e[k]}var i=Object.create(null),o=[];for(var u in e)u in t?o.length&&(i[u]=o,o=[]):o.push(u);var f,a={};for(var y in t){if(i[y])for(f=0;f<i[y].length;f++){var w=i[y][f];a[i[y][f]]=n(w)}a[y]=n(y)}for(f=0;f<o.length;f++)a[o[f]]=n(o[f]);return a}function dp(e,t,n){return n[t]!=null?n[t]:e.props[t]}function yoe(e,t){return rE(e.children,function(n){return V.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:dp(n,"appear",e),enter:dp(n,"enter",e),exit:dp(n,"exit",e)})})}function voe(e,t,n){var i=rE(e.children),o=_oe(t,i);return Object.keys(o).forEach(function(u){var f=o[u];if(V.isValidElement(f)){var a=u in t,y=u in i,w=t[u],k=V.isValidElement(w)&&!w.props.in;y&&(!a||k)?o[u]=V.cloneElement(f,{onExited:n.bind(null,f),in:!0,exit:dp(f,"exit",e),enter:dp(f,"enter",e)}):!y&&a&&!k?o[u]=V.cloneElement(f,{in:!1}):y&&a&&V.isValidElement(w)&&(o[u]=V.cloneElement(f,{onExited:n.bind(null,f),in:w.props.in,exit:dp(f,"exit",e),enter:dp(f,"enter",e)}))}}),o}var xoe=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},boe={component:"div",childFactory:function(t){return t}},iE=function(e){Hz(t,e);function t(i,o){var u;u=e.call(this,i,o)||this;var f=u.handleExited.bind(Gz(u));return u.state={contextValue:{isMounting:!0},handleExited:f,firstRender:!0},u}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(o,u){var f=u.children,a=u.handleExited,y=u.firstRender;return{children:y?yoe(o,a):voe(o,f,a),firstRender:!1}},n.handleExited=function(o,u){var f=rE(this.props.children);o.key in f||(o.props.onExited&&o.props.onExited(u),this.mounted&&this.setState(function(a){var y=me({},a.children);return delete y[o.key],{children:y}}))},n.render=function(){var o=this.props,u=o.component,f=o.childFactory,a=Qn(o,["component","childFactory"]),y=this.state.contextValue,w=xoe(this.state.children).map(f);return delete a.appear,delete a.enter,delete a.exit,u===null?Zt.createElement(sx.Provider,{value:y},w):Zt.createElement(sx.Provider,{value:y},Zt.createElement(u,a,w))},t}(Zt.Component);iE.propTypes={};iE.defaultProps=boe;const woe=iE,Zz=e=>e.scrollTop;function lx(e,t){var n,i;const{timeout:o,easing:u,style:f={}}=e;return{duration:(n=f.transitionDuration)!=null?n:typeof o=="number"?o:o[t.mode]||0,easing:(i=f.transitionTimingFunction)!=null?i:typeof u=="object"?u[t.mode]:u,delay:f.transitionDelay}}const Eoe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function a8(e){return`scale(${e}, ${e**2})`}const Soe={entering:{opacity:1,transform:a8(1)},entered:{opacity:1,transform:"none"}},J6=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Xz=V.forwardRef(function(t,n){const{addEndListener:i,appear:o=!0,children:u,easing:f,in:a,onEnter:y,onEntered:w,onEntering:k,onExit:M,onExited:O,onExiting:$,style:N,timeout:B="auto",TransitionComponent:J=qz}=t,U=Qn(t,Eoe),G=V.useRef(),Z=V.useRef(),Q=N_(),se=V.useRef(null),ce=go(se,u.ref,n),A=Oe=>Ye=>{if(Oe){const Qe=se.current;Ye===void 0?Oe(Qe):Oe(Qe,Ye)}},_e=A(k),le=A((Oe,Ye)=>{Zz(Oe);const{duration:Qe,delay:ze,easing:Pe}=lx({style:N,timeout:B,easing:f},{mode:"enter"});let je;B==="auto"?(je=Q.transitions.getAutoHeightDuration(Oe.clientHeight),Z.current=je):je=Qe,Oe.style.transition=[Q.transitions.create("opacity",{duration:je,delay:ze}),Q.transitions.create("transform",{duration:J6?je:je*.666,delay:ze,easing:Pe})].join(","),y&&y(Oe,Ye)}),ve=A(w),Ue=A($),$e=A(Oe=>{const{duration:Ye,delay:Qe,easing:ze}=lx({style:N,timeout:B,easing:f},{mode:"exit"});let Pe;B==="auto"?(Pe=Q.transitions.getAutoHeightDuration(Oe.clientHeight),Z.current=Pe):Pe=Ye,Oe.style.transition=[Q.transitions.create("opacity",{duration:Pe,delay:Qe}),Q.transitions.create("transform",{duration:J6?Pe:Pe*.666,delay:J6?Qe:Qe||Pe*.333,easing:ze})].join(","),Oe.style.opacity=0,Oe.style.transform=a8(.75),M&&M(Oe)}),Ae=A(O),Re=Oe=>{B==="auto"&&(G.current=setTimeout(Oe,Z.current||0)),i&&i(se.current,Oe)};return V.useEffect(()=>()=>{clearTimeout(G.current)},[]),z.jsx(J,me({appear:o,in:a,nodeRef:se,onEnter:le,onEntered:ve,onEntering:_e,onExit:$e,onExited:Ae,onExiting:Ue,addEndListener:Re,timeout:B==="auto"?null:B},U,{children:(Oe,Ye)=>V.cloneElement(u,me({style:me({opacity:0,transform:a8(.75),visibility:Oe==="exited"&&!a?"hidden":void 0},Soe[Oe],N,u.props.style),ref:ce},Ye))}))});Xz.muiSupportAuto=!0;const Toe=Xz,Coe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],koe={entering:{opacity:1},entered:{opacity:1}},Poe=V.forwardRef(function(t,n){const i=N_(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{addEndListener:u,appear:f=!0,children:a,easing:y,in:w,onEnter:k,onEntered:M,onEntering:O,onExit:$,onExited:N,onExiting:B,style:J,timeout:U=o,TransitionComponent:G=qz}=t,Z=Qn(t,Coe),Q=V.useRef(null),se=go(Q,a.ref,n),ce=Re=>Oe=>{if(Re){const Ye=Q.current;Oe===void 0?Re(Ye):Re(Ye,Oe)}},A=ce(O),_e=ce((Re,Oe)=>{Zz(Re);const Ye=lx({style:J,timeout:U,easing:y},{mode:"enter"});Re.style.webkitTransition=i.transitions.create("opacity",Ye),Re.style.transition=i.transitions.create("opacity",Ye),k&&k(Re,Oe)}),le=ce(M),ve=ce(B),Ue=ce(Re=>{const Oe=lx({style:J,timeout:U,easing:y},{mode:"exit"});Re.style.webkitTransition=i.transitions.create("opacity",Oe),Re.style.transition=i.transitions.create("opacity",Oe),$&&$(Re)}),$e=ce(N),Ae=Re=>{u&&u(Q.current,Re)};return z.jsx(G,me({appear:f,in:w,nodeRef:Q,onEnter:_e,onEntered:le,onEntering:A,onExit:Ue,onExited:$e,onExiting:ve,addEndListener:Ae,timeout:U},Z,{children:(Re,Oe)=>V.cloneElement(a,me({style:me({opacity:0,visibility:Re==="exited"&&!w?"hidden":void 0},koe[Re],J,a.props.style),ref:se},Oe))}))}),Ioe=Poe;function Aoe(e){return pi("MuiBackdrop",e)}vi("MuiBackdrop",["root","invisible"]);const Moe=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],Doe=e=>{const{classes:t,invisible:n}=e;return yi({root:["root",n&&"invisible"]},Aoe,t)},Roe=An("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})(({ownerState:e})=>me({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})),Ooe=V.forwardRef(function(t,n){var i,o,u;const f=bi({props:t,name:"MuiBackdrop"}),{children:a,className:y,component:w="div",components:k={},componentsProps:M={},invisible:O=!1,open:$,slotProps:N={},slots:B={},TransitionComponent:J=Ioe,transitionDuration:U}=f,G=Qn(f,Moe),Z=me({},f,{component:w,invisible:O}),Q=Doe(Z),se=(i=N.root)!=null?i:M.root;return z.jsx(J,me({in:$,timeout:U},G,{children:z.jsx(Roe,me({"aria-hidden":!0},se,{as:(o=(u=B.root)!=null?u:k.Root)!=null?o:w,className:Jn(Q.root,y,se==null?void 0:se.className),ownerState:me({},Z,se==null?void 0:se.ownerState),classes:Q,ref:n,children:a}))}))}),Loe=Ooe,zoe=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","open","slotProps","slots","theme"],Foe=An("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(({theme:e,ownerState:t})=>me({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"})),Noe=An(Loe,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),Boe=V.forwardRef(function(t,n){var i,o,u,f,a,y;const w=bi({name:"MuiModal",props:t}),{BackdropComponent:k=Noe,BackdropProps:M,classes:O,className:$,closeAfterTransition:N=!1,children:B,container:J,component:U,components:G={},componentsProps:Z={},disableAutoFocus:Q=!1,disableEnforceFocus:se=!1,disableEscapeKeyDown:ce=!1,disablePortal:A=!1,disableRestoreFocus:_e=!1,disableScrollLock:le=!1,hideBackdrop:ve=!1,keepMounted:Ue=!1,onBackdropClick:$e,onClose:Ae,open:Re,slotProps:Oe,slots:Ye,theme:Qe}=w,ze=Qn(w,zoe),[Pe,je]=V.useState(!0),lt={container:J,closeAfterTransition:N,disableAutoFocus:Q,disableEnforceFocus:se,disableEscapeKeyDown:ce,disablePortal:A,disableRestoreFocus:_e,disableScrollLock:le,hideBackdrop:ve,keepMounted:Ue,onBackdropClick:$e,onClose:Ae,open:Re},ot=me({},w,lt,{exited:Pe}),ct=(i=(o=Ye==null?void 0:Ye.root)!=null?o:G.Root)!=null?i:Foe,Ct=(u=(f=Ye==null?void 0:Ye.backdrop)!=null?f:G.Backdrop)!=null?u:k,ut=(a=Oe==null?void 0:Oe.root)!=null?a:Z.root,yt=(y=Oe==null?void 0:Oe.backdrop)!=null?y:Z.backdrop;return z.jsx(iee,me({slots:{root:ct,backdrop:Ct},slotProps:{root:()=>me({},Y5(ut,ot),!Uu(ct)&&{as:U,theme:Qe},{className:Jn($,ut==null?void 0:ut.className,O==null?void 0:O.root,!ot.open&&ot.exited&&(O==null?void 0:O.hidden))}),backdrop:()=>me({},M,Y5(yt,ot),{className:Jn(yt==null?void 0:yt.className,M==null?void 0:M.className,O==null?void 0:O.backdrop)})},onTransitionEnter:()=>je(!1),onTransitionExited:()=>je(!0),ref:n},ze,lt,{children:B}))}),joe=Boe,$oe=e=>{let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,(t/100).toFixed(2)},UI=$oe;function Uoe(e){return pi("MuiPaper",e)}vi("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Voe=["className","component","elevation","square","variant"],Woe=e=>{const{square:t,elevation:n,variant:i,classes:o}=e,u={root:["root",i,!t&&"rounded",i==="elevation"&&`elevation${n}`]};return yi(u,Uoe,o)},Hoe=An("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(({theme:e,ownerState:t})=>{var n;return me({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},t.variant==="elevation"&&me({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${no("#fff",UI(t.elevation))}, ${no("#fff",UI(t.elevation))})`},e.vars&&{backgroundImage:(n=e.vars.overlays)==null?void 0:n[t.elevation]}))}),qoe=V.forwardRef(function(t,n){const i=bi({props:t,name:"MuiPaper"}),{className:o,component:u="div",elevation:f=1,square:a=!1,variant:y="elevation"}=i,w=Qn(i,Voe),k=me({},i,{component:u,elevation:f,square:a,variant:y}),M=Woe(k);return z.jsx(Hoe,me({as:u,ownerState:k,className:Jn(M.root,o),ref:n},w))}),s3=qoe;function Goe(e){return pi("MuiPopover",e)}vi("MuiPopover",["root","paper"]);const Zoe=["onEntering"],Xoe=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"],Koe=["slotProps"];function VI(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.height/2:t==="bottom"&&(n=e.height),n}function WI(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.width/2:t==="right"&&(n=e.width),n}function HI(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function Q6(e){return typeof e=="function"?e():e}const Yoe=e=>{const{classes:t}=e;return yi({root:["root"],paper:["paper"]},Goe,t)},Joe=An(joe,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Kz=An(s3,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Qoe=V.forwardRef(function(t,n){var i,o,u;const f=bi({props:t,name:"MuiPopover"}),{action:a,anchorEl:y,anchorOrigin:w={vertical:"top",horizontal:"left"},anchorPosition:k,anchorReference:M="anchorEl",children:O,className:$,container:N,elevation:B=8,marginThreshold:J=16,open:U,PaperProps:G={},slots:Z,slotProps:Q,transformOrigin:se={vertical:"top",horizontal:"left"},TransitionComponent:ce=Toe,transitionDuration:A="auto",TransitionProps:{onEntering:_e}={}}=f,le=Qn(f.TransitionProps,Zoe),ve=Qn(f,Xoe),Ue=(i=Q==null?void 0:Q.paper)!=null?i:G,$e=V.useRef(),Ae=go($e,Ue.ref),Re=me({},f,{anchorOrigin:w,anchorReference:M,elevation:B,marginThreshold:J,externalPaperSlotProps:Ue,transformOrigin:se,TransitionComponent:ce,transitionDuration:A,TransitionProps:le}),Oe=Yoe(Re),Ye=V.useCallback(()=>{if(M==="anchorPosition")return k;const qt=Q6(y),jt=(qt&&qt.nodeType===1?qt:Mo($e.current).body).getBoundingClientRect();return{top:jt.top+VI(jt,w.vertical),left:jt.left+WI(jt,w.horizontal)}},[y,w.horizontal,w.vertical,k,M]),Qe=V.useCallback(qt=>({vertical:VI(qt,se.vertical),horizontal:WI(qt,se.horizontal)}),[se.horizontal,se.vertical]),ze=V.useCallback(qt=>{const an={width:qt.offsetWidth,height:qt.offsetHeight},jt=Qe(an);if(M==="none")return{top:null,left:null,transformOrigin:HI(jt)};const vt=Ye();let gn=vt.top-jt.vertical,on=vt.left-jt.horizontal;const Bn=gn+an.height,Yn=on+an.width,On=hh(Q6(y)),zn=On.innerHeight-J,Mn=On.innerWidth-J;if(gn<J){const jn=gn-J;gn-=jn,jt.vertical+=jn}else if(Bn>zn){const jn=Bn-zn;gn-=jn,jt.vertical+=jn}if(on<J){const jn=on-J;on-=jn,jt.horizontal+=jn}else if(Yn>Mn){const jn=Yn-Mn;on-=jn,jt.horizontal+=jn}return{top:`${Math.round(gn)}px`,left:`${Math.round(on)}px`,transformOrigin:HI(jt)}},[y,M,Ye,Qe,J]),[Pe,je]=V.useState(U),lt=V.useCallback(()=>{const qt=$e.current;if(!qt)return;const an=ze(qt);an.top!==null&&(qt.style.top=an.top),an.left!==null&&(qt.style.left=an.left),qt.style.transformOrigin=an.transformOrigin,je(!0)},[ze]),ot=(qt,an)=>{_e&&_e(qt,an),lt()},ct=()=>{je(!1)};V.useEffect(()=>{U&&lt()}),V.useImperativeHandle(a,()=>U?{updatePosition:()=>{lt()}}:null,[U,lt]),V.useEffect(()=>{if(!U)return;const qt=T9(()=>{lt()}),an=hh(y);return an.addEventListener("resize",qt),()=>{qt.clear(),an.removeEventListener("resize",qt)}},[y,U,lt]);let Ct=A;A==="auto"&&!ce.muiSupportAuto&&(Ct=void 0);const ut=N||(y?Mo(Q6(y)).body:void 0),yt=(o=Z==null?void 0:Z.root)!=null?o:Joe,Dt=(u=Z==null?void 0:Z.paper)!=null?u:Kz,Rt=Ls({elementType:Dt,externalSlotProps:me({},Ue,{style:Pe?Ue.style:me({},Ue.style,{opacity:0})}),additionalProps:{elevation:B,ref:Ae},ownerState:Re,className:Jn(Oe.paper,Ue==null?void 0:Ue.className)}),St=Ls({elementType:yt,externalSlotProps:(Q==null?void 0:Q.root)||{},externalForwardedProps:ve,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:ut,open:U},ownerState:Re,className:Jn(Oe.root,$)}),{slotProps:Qt}=St,Lt=Qn(St,Koe);return z.jsx(yt,me({},Lt,!Uu(yt)&&{slotProps:Qt},{children:z.jsx(ce,me({appear:!0,in:U,onEntering:ot,onExited:ct,timeout:Ct},le,{children:z.jsx(Dt,me({},Rt,{children:O}))}))}))}),eae=Qoe;function tae(e){return pi("MuiMenu",e)}vi("MuiMenu",["root","paper","list"]);const nae=["onEntering"],rae=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],iae={vertical:"top",horizontal:"right"},oae={vertical:"top",horizontal:"left"},aae=e=>{const{classes:t}=e;return yi({root:["root"],paper:["paper"],list:["list"]},tae,t)},sae=An(eae,{shouldForwardProp:e=>td(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),lae=An(Kz,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),cae=An(moe,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),uae=V.forwardRef(function(t,n){const i=bi({props:t,name:"MuiMenu"}),{autoFocus:o=!0,children:u,disableAutoFocusItem:f=!1,MenuListProps:a={},onClose:y,open:w,PaperProps:k={},PopoverClasses:M,transitionDuration:O="auto",TransitionProps:{onEntering:$}={},variant:N="selectedMenu"}=i,B=Qn(i.TransitionProps,nae),J=Qn(i,rae),U=N_(),G=U.direction==="rtl",Z=me({},i,{autoFocus:o,disableAutoFocusItem:f,MenuListProps:a,onEntering:$,PaperProps:k,transitionDuration:O,TransitionProps:B,variant:N}),Q=aae(Z),se=o&&!f&&w,ce=V.useRef(null),A=(ve,Ue)=>{ce.current&&ce.current.adjustStyleForScrollbar(ve,U),$&&$(ve,Ue)},_e=ve=>{ve.key==="Tab"&&(ve.preventDefault(),y&&y(ve,"tabKeyDown"))};let le=-1;return V.Children.map(u,(ve,Ue)=>{V.isValidElement(ve)&&(ve.props.disabled||(N==="selectedMenu"&&ve.props.selected||le===-1)&&(le=Ue))}),z.jsx(sae,me({onClose:y,anchorOrigin:{vertical:"bottom",horizontal:G?"right":"left"},transformOrigin:G?iae:oae,slots:{paper:lae},slotProps:{paper:me({},k,{classes:me({},k.classes,{root:Q.paper})})},className:Q.root,open:w,ref:n,transitionDuration:O,TransitionProps:me({onEntering:A},B),ownerState:Z},J,{classes:M,children:z.jsx(cae,me({onKeyDown:_e,actions:ce,autoFocus:o&&(le===-1||f),autoFocusItem:se,variant:N},a,{className:Jn(Q.list,a.className),children:u}))}))}),dae=uae;function hae(e){return pi("MuiNativeSelect",e)}const pae=vi("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),oE=pae,fae=["className","disabled","error","IconComponent","inputRef","variant"],mae=e=>{const{classes:t,variant:n,disabled:i,multiple:o,open:u,error:f}=e,a={select:["select",n,i&&"disabled",o&&"multiple",f&&"error"],icon:["icon",`icon${Tn(n)}`,u&&"iconOpen",i&&"disabled"]};return yi(a,hae,t)},Yz=({ownerState:e,theme:t})=>me({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":me({},t.vars?{backgroundColor:`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:t.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${oE.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},e.variant==="filled"&&{"&&&":{paddingRight:32}},e.variant==="outlined"&&{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}),gae=An("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:td,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${oE.multiple}`]:t.multiple}]}})(Yz),Jz=({ownerState:e,theme:t})=>me({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${oE.disabled}`]:{color:(t.vars||t).palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},e.variant==="filled"&&{right:7},e.variant==="outlined"&&{right:7}),_ae=An("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${Tn(n.variant)}`],n.open&&t.iconOpen]}})(Jz),yae=V.forwardRef(function(t,n){const{className:i,disabled:o,error:u,IconComponent:f,inputRef:a,variant:y="standard"}=t,w=Qn(t,fae),k=me({},t,{disabled:o,variant:y,error:u}),M=mae(k);return z.jsxs(V.Fragment,{children:[z.jsx(gae,me({ownerState:k,className:Jn(M.select,i),disabled:o,ref:a||n},w)),t.multiple?null:z.jsx(_ae,{as:f,ownerState:k,className:M.icon})]})}),vae=yae;function xae(e){return pi("MuiSelect",e)}const bae=vi("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Lm=bae;var qI;const wae=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Eae=An("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${Lm.select}`]:t.select},{[`&.${Lm.select}`]:t[n.variant]},{[`&.${Lm.error}`]:t.error},{[`&.${Lm.multiple}`]:t.multiple}]}})(Yz,{[`&.${Lm.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Sae=An("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${Tn(n.variant)}`],n.open&&t.iconOpen]}})(Jz),Tae=An("input",{shouldForwardProp:e=>qb(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function GI(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function Cae(e){return e==null||typeof e=="string"&&!e.trim()}const kae=e=>{const{classes:t,variant:n,disabled:i,multiple:o,open:u,error:f}=e,a={select:["select",n,i&&"disabled",o&&"multiple",f&&"error"],icon:["icon",`icon${Tn(n)}`,u&&"iconOpen",i&&"disabled"],nativeInput:["nativeInput"]};return yi(a,xae,t)},Pae=V.forwardRef(function(t,n){const{"aria-describedby":i,"aria-label":o,autoFocus:u,autoWidth:f,children:a,className:y,defaultOpen:w,defaultValue:k,disabled:M,displayEmpty:O,error:$=!1,IconComponent:N,inputRef:B,labelId:J,MenuProps:U={},multiple:G,name:Z,onBlur:Q,onChange:se,onClose:ce,onFocus:A,onOpen:_e,open:le,readOnly:ve,renderValue:Ue,SelectDisplayProps:$e={},tabIndex:Ae,value:Re,variant:Oe="standard"}=t,Ye=Qn(t,wae),[Qe,ze]=rh({controlled:Re,default:k,name:"Select"}),[Pe,je]=rh({controlled:le,default:w,name:"Select"}),lt=V.useRef(null),ot=V.useRef(null),[ct,Ct]=V.useState(null),{current:ut}=V.useRef(le!=null),[yt,Dt]=V.useState(),Rt=go(n,B),St=V.useCallback(un=>{ot.current=un,un&&Ct(un)},[]),Qt=ct==null?void 0:ct.parentNode;V.useImperativeHandle(Rt,()=>({focus:()=>{ot.current.focus()},node:lt.current,value:Qe}),[Qe]),V.useEffect(()=>{w&&Pe&&ct&&!ut&&(Dt(f?null:Qt.clientWidth),ot.current.focus())},[ct,f]),V.useEffect(()=>{u&&ot.current.focus()},[u]),V.useEffect(()=>{if(!J)return;const un=Mo(ot.current).getElementById(J);if(un){const bn=()=>{getSelection().isCollapsed&&ot.current.focus()};return un.addEventListener("click",bn),()=>{un.removeEventListener("click",bn)}}},[J]);const Lt=(un,bn)=>{un?_e&&_e(bn):ce&&ce(bn),ut||(Dt(f?null:Qt.clientWidth),je(un))},qt=un=>{un.button===0&&(un.preventDefault(),ot.current.focus(),Lt(!0,un))},an=un=>{Lt(!1,un)},jt=V.Children.toArray(a),vt=un=>{const bn=jt.find(Dn=>Dn.props.value===un.target.value);bn!==void 0&&(ze(bn.props.value),se&&se(un,bn))},gn=un=>bn=>{let Dn;if(bn.currentTarget.hasAttribute("tabindex")){if(G){Dn=Array.isArray(Qe)?Qe.slice():[];const Fn=Qe.indexOf(un.props.value);Fn===-1?Dn.push(un.props.value):Dn.splice(Fn,1)}else Dn=un.props.value;if(un.props.onClick&&un.props.onClick(bn),Qe!==Dn&&(ze(Dn),se)){const Fn=bn.nativeEvent||bn,er=new Fn.constructor(Fn.type,Fn);Object.defineProperty(er,"target",{writable:!0,value:{value:Dn,name:Z}}),se(er,un)}G||Lt(!1,bn)}},on=un=>{ve||[" ","ArrowUp","ArrowDown","Enter"].indexOf(un.key)!==-1&&(un.preventDefault(),Lt(!0,un))},Bn=ct!==null&&Pe,Yn=un=>{!Bn&&Q&&(Object.defineProperty(un,"target",{writable:!0,value:{value:Qe,name:Z}}),Q(un))};delete Ye["aria-invalid"];let On,zn;const Mn=[];let jn=!1;(ox({value:Qe})||O)&&(Ue?On=Ue(Qe):jn=!0);const yr=jt.map(un=>{if(!V.isValidElement(un))return null;let bn;if(G){if(!Array.isArray(Qe))throw new Error(dh(2));bn=Qe.some(Dn=>GI(Dn,un.props.value)),bn&&jn&&Mn.push(un.props.children)}else bn=GI(Qe,un.props.value),bn&&jn&&(zn=un.props.children);return V.cloneElement(un,{"aria-selected":bn?"true":"false",onClick:gn(un),onKeyUp:Dn=>{Dn.key===" "&&Dn.preventDefault(),un.props.onKeyUp&&un.props.onKeyUp(Dn)},role:"option",selected:bn,value:void 0,"data-value":un.props.value})});jn&&(G?Mn.length===0?On=null:On=Mn.reduce((un,bn,Dn)=>(un.push(bn),Dn<Mn.length-1&&un.push(", "),un),[]):On=zn);let pt=yt;!f&&ut&&ct&&(pt=Qt.clientWidth);let sn;typeof Ae<"u"?sn=Ae:sn=M?null:0;const dn=$e.id||(Z?`mui-component-select-${Z}`:void 0),en=me({},t,{variant:Oe,value:Qe,open:Bn,error:$}),ln=kae(en);return z.jsxs(V.Fragment,{children:[z.jsx(Eae,me({ref:St,tabIndex:sn,role:"button","aria-disabled":M?"true":void 0,"aria-expanded":Bn?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[J,dn].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:on,onMouseDown:M||ve?null:qt,onBlur:Yn,onFocus:A},$e,{ownerState:en,className:Jn($e.className,ln.select,y),id:dn,children:Cae(On)?qI||(qI=z.jsx("span",{className:"notranslate",children:"​"})):On})),z.jsx(Tae,me({"aria-invalid":$,value:Array.isArray(Qe)?Qe.join(","):Qe,name:Z,ref:lt,"aria-hidden":!0,onChange:vt,tabIndex:-1,disabled:M,className:ln.nativeInput,autoFocus:u,ownerState:en},Ye)),z.jsx(Sae,{as:N,className:ln.icon,ownerState:en}),z.jsx(dae,me({id:`menu-${Z||""}`,anchorEl:Qt,open:Bn,onClose:an,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},U,{MenuListProps:me({"aria-labelledby":J,role:"listbox",disableListWrap:!0},U.MenuListProps),PaperProps:me({},U.PaperProps,{style:me({minWidth:pt},U.PaperProps!=null?U.PaperProps.style:null)}),children:yr}))]})}),Iae=Pae;function Aae(e){return pi("MuiSvgIcon",e)}vi("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Mae=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Dae=e=>{const{color:t,fontSize:n,classes:i}=e,o={root:["root",t!=="inherit"&&`color${Tn(t)}`,`fontSize${Tn(n)}`]};return yi(o,Aae,i)},Rae=An("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${Tn(n.color)}`],t[`fontSize${Tn(n.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var n,i,o,u,f,a,y,w,k,M,O,$,N;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=e.transitions)==null||(i=n.create)==null?void 0:i.call(n,"fill",{duration:(o=e.transitions)==null||(o=o.duration)==null?void 0:o.shorter}),fontSize:{inherit:"inherit",small:((u=e.typography)==null||(f=u.pxToRem)==null?void 0:f.call(u,20))||"1.25rem",medium:((a=e.typography)==null||(y=a.pxToRem)==null?void 0:y.call(a,24))||"1.5rem",large:((w=e.typography)==null||(k=w.pxToRem)==null?void 0:k.call(w,35))||"2.1875rem"}[t.fontSize],color:(M=(O=(e.vars||e).palette)==null||(O=O[t.color])==null?void 0:O.main)!=null?M:{action:($=(e.vars||e).palette)==null||($=$.action)==null?void 0:$.active,disabled:(N=(e.vars||e).palette)==null||(N=N.action)==null?void 0:N.disabled,inherit:void 0}[t.color]}}),Qz=V.forwardRef(function(t,n){const i=bi({props:t,name:"MuiSvgIcon"}),{children:o,className:u,color:f="inherit",component:a="svg",fontSize:y="medium",htmlColor:w,inheritViewBox:k=!1,titleAccess:M,viewBox:O="0 0 24 24"}=i,$=Qn(i,Mae),N=V.isValidElement(o)&&o.type==="svg",B=me({},i,{color:f,component:a,fontSize:y,instanceFontSize:t.fontSize,inheritViewBox:k,viewBox:O,hasSvgAsChild:N}),J={};k||(J.viewBox=O);const U=Dae(B);return z.jsxs(Rae,me({as:a,className:Jn(U.root,u),focusable:"false",color:w,"aria-hidden":M?void 0:!0,role:M?"img":void 0,ref:n},J,$,N&&o.props,{ownerState:B,children:[N?o.props.children:o,M?z.jsx("title",{children:M}):null]}))});Qz.muiName="SvgIcon";const ZI=Qz;function lu(e,t){function n(i,o){return z.jsx(ZI,me({"data-testid":`${t}Icon`,ref:o},i,{children:e}))}return n.muiName=ZI.muiName,V.memo(V.forwardRef(n))}const eF=lu(z.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Oae=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Lae=e=>{const{classes:t}=e;return t},aE={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>td(e)&&e!=="variant",slot:"Root"},zae=An(Nz,aE)(""),Fae=An(Uz,aE)(""),Nae=An(jz,aE)(""),tF=V.forwardRef(function(t,n){const i=bi({name:"MuiSelect",props:t}),{autoWidth:o=!1,children:u,classes:f={},className:a,defaultOpen:y=!1,displayEmpty:w=!1,IconComponent:k=eF,id:M,input:O,inputProps:$,label:N,labelId:B,MenuProps:J,multiple:U=!1,native:G=!1,onClose:Z,onOpen:Q,open:se,renderValue:ce,SelectDisplayProps:A,variant:_e="outlined"}=i,le=Qn(i,Oae),ve=G?vae:Iae,Ue=u1(),$e=c1({props:i,muiFormControl:Ue,states:["variant","error"]}),Ae=$e.variant||_e,Re=me({},i,{variant:Ae,classes:f}),Oe=Lae(Re),Ye=O||{standard:z.jsx(zae,{ownerState:Re}),outlined:z.jsx(Fae,{label:N,ownerState:Re}),filled:z.jsx(Nae,{ownerState:Re})}[Ae],Qe=go(n,Ye.ref);return z.jsx(V.Fragment,{children:V.cloneElement(Ye,me({inputComponent:ve,inputProps:me({children:u,error:$e.error,IconComponent:k,variant:Ae,type:void 0,multiple:U},G?{id:M}:{autoWidth:o,defaultOpen:y,displayEmpty:w,labelId:B,MenuProps:J,onClose:Z,onOpen:Q,open:se,renderValue:ce,SelectDisplayProps:me({id:M},A)},$,{classes:$?gs(Oe,$.classes):Oe},O?O.props.inputProps:{})},U&&G&&Ae==="outlined"?{notched:!0}:{},{ref:Qe,className:Jn(Ye.props.className,a)},!O&&{variant:Ae},le))})});tF.muiName="Select";const Bae=tF;function jae(e){return pi("MuiTextField",e)}vi("MuiTextField",["root"]);const $ae=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Uae={standard:Nz,filled:jz,outlined:Uz},Vae=e=>{const{classes:t}=e;return yi({root:["root"]},jae,t)},Wae=An(Xie,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Hae=V.forwardRef(function(t,n){const i=bi({props:t,name:"MuiTextField"}),{autoComplete:o,autoFocus:u=!1,children:f,className:a,color:y="primary",defaultValue:w,disabled:k=!1,error:M=!1,FormHelperTextProps:O,fullWidth:$=!1,helperText:N,id:B,InputLabelProps:J,inputProps:U,InputProps:G,inputRef:Z,label:Q,maxRows:se,minRows:ce,multiline:A=!1,name:_e,onBlur:le,onChange:ve,onClick:Ue,onFocus:$e,placeholder:Ae,required:Re=!1,rows:Oe,select:Ye=!1,SelectProps:Qe,type:ze,value:Pe,variant:je="outlined"}=i,lt=Qn(i,$ae),ot=me({},i,{autoFocus:u,color:y,disabled:k,error:M,fullWidth:$,multiline:A,required:Re,select:Ye,variant:je}),ct=Vae(ot),Ct={};je==="outlined"&&(J&&typeof J.shrink<"u"&&(Ct.notched=J.shrink),Ct.label=Q),Ye&&((!Qe||!Qe.native)&&(Ct.id=void 0),Ct["aria-describedby"]=void 0);const ut=D_(B),yt=N&&ut?`${ut}-helper-text`:void 0,Dt=Q&&ut?`${ut}-label`:void 0,Rt=Uae[je],St=z.jsx(Rt,me({"aria-describedby":yt,autoComplete:o,autoFocus:u,defaultValue:w,fullWidth:$,multiline:A,name:_e,rows:Oe,maxRows:se,minRows:ce,type:ze,value:Pe,id:ut,inputRef:Z,onBlur:le,onChange:ve,onFocus:$e,onClick:Ue,placeholder:Ae,inputProps:U},Ct,G));return z.jsxs(Wae,me({className:Jn(ct.root,a),disabled:k,error:M,fullWidth:$,ref:n,required:Re,color:y,variant:je,ownerState:ot},lt,{children:[Q!=null&&Q!==""&&z.jsx(Vie,me({htmlFor:ut,id:Dt},J,{children:Q})),Ye?z.jsx(Bae,me({"aria-describedby":yt,id:ut,labelId:Dt,value:Pe,input:St},Qe,{children:f})):St,N&&z.jsx(noe,me({id:yt},O,{children:N}))]}))}),XI=Hae,qae=["theme"];function sE(e){let{theme:t}=e,n=Qn(e,qae);const i=t[Mp];return z.jsx(Wne,me({},n,{themeId:i?Mp:void 0,theme:i||t}))}const Gae=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],Zae=An(HQ,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Xae=V.forwardRef(function(t,n){var i;const o=Y9(),u=bi({props:t,name:"MuiPopper"}),{anchorEl:f,component:a,components:y,componentsProps:w,container:k,disablePortal:M,keepMounted:O,modifiers:$,open:N,placement:B,popperOptions:J,popperRef:U,transition:G,slots:Z,slotProps:Q}=u,se=Qn(u,Gae),ce=(i=Z==null?void 0:Z.root)!=null?i:y==null?void 0:y.Root,A=me({anchorEl:f,container:k,disablePortal:M,keepMounted:O,modifiers:$,open:N,placement:B,popperOptions:J,popperRef:U,transition:G},se);return z.jsx(Zae,me({as:a,direction:o==null?void 0:o.direction,slots:{root:ce},slotProps:Q??w},A,{ref:n}))}),nF=Xae;function Kae(e){return pi("MuiListSubheader",e)}vi("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const Yae=["className","color","component","disableGutters","disableSticky","inset"],Jae=e=>{const{classes:t,color:n,disableGutters:i,inset:o,disableSticky:u}=e,f={root:["root",n!=="default"&&`color${Tn(n)}`,!i&&"gutters",o&&"inset",!u&&"sticky"]};return yi(f,Kae,t)},Qae=An("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${Tn(n.color)}`],!n.disableGutters&&t.gutters,n.inset&&t.inset,!n.disableSticky&&t.sticky]}})(({theme:e,ownerState:t})=>me({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(e.vars||e).palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14)},t.color==="primary"&&{color:(e.vars||e).palette.primary.main},t.color==="inherit"&&{color:"inherit"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.inset&&{paddingLeft:72},!t.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(e.vars||e).palette.background.paper})),rF=V.forwardRef(function(t,n){const i=bi({props:t,name:"MuiListSubheader"}),{className:o,color:u="default",component:f="li",disableGutters:a=!1,disableSticky:y=!1,inset:w=!1}=i,k=Qn(i,Yae),M=me({},i,{color:u,component:f,disableGutters:a,disableSticky:y,inset:w}),O=Jae(M);return z.jsx(Qae,me({as:f,className:Jn(O.root,o),ref:n,ownerState:M},k))});rF.muiSkipListHighlight=!0;const ese=rF;function tse(e){const{className:t,classes:n,pulsate:i=!1,rippleX:o,rippleY:u,rippleSize:f,in:a,onExited:y,timeout:w}=e,[k,M]=V.useState(!1),O=Jn(t,n.ripple,n.rippleVisible,i&&n.ripplePulsate),$={width:f,height:f,top:-(f/2)+u,left:-(f/2)+o},N=Jn(n.child,k&&n.childLeaving,i&&n.childPulsate);return!a&&!k&&M(!0),V.useEffect(()=>{if(!a&&y!=null){const B=setTimeout(y,w);return()=>{clearTimeout(B)}}},[y,a,w]),z.jsx("span",{className:O,style:$,children:z.jsx("span",{className:N})})}const nse=vi("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),ul=nse,rse=["center","classes","className"];let l3=e=>e,KI,YI,JI,QI;const s8=550,ise=80,ose=Rb(KI||(KI=l3`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),ase=Rb(YI||(YI=l3`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),sse=Rb(JI||(JI=l3`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),lse=An("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),cse=An(tse,{name:"MuiTouchRipple",slot:"Ripple"})(QI||(QI=l3`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),ul.rippleVisible,ose,s8,({theme:e})=>e.transitions.easing.easeInOut,ul.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,ul.child,ul.childLeaving,ase,s8,({theme:e})=>e.transitions.easing.easeInOut,ul.childPulsate,sse,({theme:e})=>e.transitions.easing.easeInOut),use=V.forwardRef(function(t,n){const i=bi({props:t,name:"MuiTouchRipple"}),{center:o=!1,classes:u={},className:f}=i,a=Qn(i,rse),[y,w]=V.useState([]),k=V.useRef(0),M=V.useRef(null);V.useEffect(()=>{M.current&&(M.current(),M.current=null)},[y]);const O=V.useRef(!1),$=V.useRef(0),N=V.useRef(null),B=V.useRef(null);V.useEffect(()=>()=>{$.current&&clearTimeout($.current)},[]);const J=V.useCallback(Q=>{const{pulsate:se,rippleX:ce,rippleY:A,rippleSize:_e,cb:le}=Q;w(ve=>[...ve,z.jsx(cse,{classes:{ripple:Jn(u.ripple,ul.ripple),rippleVisible:Jn(u.rippleVisible,ul.rippleVisible),ripplePulsate:Jn(u.ripplePulsate,ul.ripplePulsate),child:Jn(u.child,ul.child),childLeaving:Jn(u.childLeaving,ul.childLeaving),childPulsate:Jn(u.childPulsate,ul.childPulsate)},timeout:s8,pulsate:se,rippleX:ce,rippleY:A,rippleSize:_e},k.current)]),k.current+=1,M.current=le},[u]),U=V.useCallback((Q={},se={},ce=()=>{})=>{const{pulsate:A=!1,center:_e=o||se.pulsate,fakeElement:le=!1}=se;if((Q==null?void 0:Q.type)==="mousedown"&&O.current){O.current=!1;return}(Q==null?void 0:Q.type)==="touchstart"&&(O.current=!0);const ve=le?null:B.current,Ue=ve?ve.getBoundingClientRect():{width:0,height:0,left:0,top:0};let $e,Ae,Re;if(_e||Q===void 0||Q.clientX===0&&Q.clientY===0||!Q.clientX&&!Q.touches)$e=Math.round(Ue.width/2),Ae=Math.round(Ue.height/2);else{const{clientX:Oe,clientY:Ye}=Q.touches&&Q.touches.length>0?Q.touches[0]:Q;$e=Math.round(Oe-Ue.left),Ae=Math.round(Ye-Ue.top)}if(_e)Re=Math.sqrt((2*Ue.width**2+Ue.height**2)/3),Re%2===0&&(Re+=1);else{const Oe=Math.max(Math.abs((ve?ve.clientWidth:0)-$e),$e)*2+2,Ye=Math.max(Math.abs((ve?ve.clientHeight:0)-Ae),Ae)*2+2;Re=Math.sqrt(Oe**2+Ye**2)}Q!=null&&Q.touches?N.current===null&&(N.current=()=>{J({pulsate:A,rippleX:$e,rippleY:Ae,rippleSize:Re,cb:ce})},$.current=setTimeout(()=>{N.current&&(N.current(),N.current=null)},ise)):J({pulsate:A,rippleX:$e,rippleY:Ae,rippleSize:Re,cb:ce})},[o,J]),G=V.useCallback(()=>{U({},{pulsate:!0})},[U]),Z=V.useCallback((Q,se)=>{if(clearTimeout($.current),(Q==null?void 0:Q.type)==="touchend"&&N.current){N.current(),N.current=null,$.current=setTimeout(()=>{Z(Q,se)});return}N.current=null,w(ce=>ce.length>0?ce.slice(1):ce),M.current=se},[]);return V.useImperativeHandle(n,()=>({pulsate:G,start:U,stop:Z}),[G,U,Z]),z.jsx(lse,me({className:Jn(ul.root,u.root,f),ref:B},a,{children:z.jsx(woe,{component:null,exit:!0,children:y})}))}),dse=use;function hse(e){return pi("MuiButtonBase",e)}const pse=vi("MuiButtonBase",["root","disabled","focusVisible"]),fse=pse,mse=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],gse=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:i,classes:o}=e,f=yi({root:["root",t&&"disabled",n&&"focusVisible"]},hse,o);return n&&i&&(f.root+=` ${i}`),f},_se=An("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${fse.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),yse=V.forwardRef(function(t,n){const i=bi({props:t,name:"MuiButtonBase"}),{action:o,centerRipple:u=!1,children:f,className:a,component:y="button",disabled:w=!1,disableRipple:k=!1,disableTouchRipple:M=!1,focusRipple:O=!1,LinkComponent:$="a",onBlur:N,onClick:B,onContextMenu:J,onDragLeave:U,onFocus:G,onFocusVisible:Z,onKeyDown:Q,onKeyUp:se,onMouseDown:ce,onMouseLeave:A,onMouseUp:_e,onTouchEnd:le,onTouchMove:ve,onTouchStart:Ue,tabIndex:$e=0,TouchRippleProps:Ae,touchRippleRef:Re,type:Oe}=i,Ye=Qn(i,mse),Qe=V.useRef(null),ze=V.useRef(null),Pe=go(ze,Re),{isFocusVisibleRef:je,onFocus:lt,onBlur:ot,ref:ct}=_b(),[Ct,ut]=V.useState(!1);w&&Ct&&ut(!1),V.useImperativeHandle(o,()=>({focusVisible:()=>{ut(!0),Qe.current.focus()}}),[]);const[yt,Dt]=V.useState(!1);V.useEffect(()=>{Dt(!0)},[]);const Rt=yt&&!k&&!w;V.useEffect(()=>{Ct&&O&&!k&&yt&&ze.current.pulsate()},[k,O,Ct,yt]);function St(ln,un,bn=M){return hs(Dn=>(un&&un(Dn),!bn&&ze.current&&ze.current[ln](Dn),!0))}const Qt=St("start",ce),Lt=St("stop",J),qt=St("stop",U),an=St("stop",_e),jt=St("stop",ln=>{Ct&&ln.preventDefault(),A&&A(ln)}),vt=St("start",Ue),gn=St("stop",le),on=St("stop",ve),Bn=St("stop",ln=>{ot(ln),je.current===!1&&ut(!1),N&&N(ln)},!1),Yn=hs(ln=>{Qe.current||(Qe.current=ln.currentTarget),lt(ln),je.current===!0&&(ut(!0),Z&&Z(ln)),G&&G(ln)}),On=()=>{const ln=Qe.current;return y&&y!=="button"&&!(ln.tagName==="A"&&ln.href)},zn=V.useRef(!1),Mn=hs(ln=>{O&&!zn.current&&Ct&&ze.current&&ln.key===" "&&(zn.current=!0,ze.current.stop(ln,()=>{ze.current.start(ln)})),ln.target===ln.currentTarget&&On()&&ln.key===" "&&ln.preventDefault(),Q&&Q(ln),ln.target===ln.currentTarget&&On()&&ln.key==="Enter"&&!w&&(ln.preventDefault(),B&&B(ln))}),jn=hs(ln=>{O&&ln.key===" "&&ze.current&&Ct&&!ln.defaultPrevented&&(zn.current=!1,ze.current.stop(ln,()=>{ze.current.pulsate(ln)})),se&&se(ln),B&&ln.target===ln.currentTarget&&On()&&ln.key===" "&&!ln.defaultPrevented&&B(ln)});let yr=y;yr==="button"&&(Ye.href||Ye.to)&&(yr=$);const pt={};yr==="button"?(pt.type=Oe===void 0?"button":Oe,pt.disabled=w):(!Ye.href&&!Ye.to&&(pt.role="button"),w&&(pt["aria-disabled"]=w));const sn=go(n,ct,Qe),dn=me({},i,{centerRipple:u,component:y,disabled:w,disableRipple:k,disableTouchRipple:M,focusRipple:O,tabIndex:$e,focusVisible:Ct}),en=gse(dn);return z.jsxs(_se,me({as:yr,className:Jn(en.root,a),ownerState:dn,onBlur:Bn,onClick:B,onContextMenu:Lt,onFocus:Yn,onKeyDown:Mn,onKeyUp:jn,onMouseDown:Qt,onMouseLeave:jt,onMouseUp:an,onDragLeave:qt,onTouchEnd:gn,onTouchMove:on,onTouchStart:vt,ref:sn,tabIndex:w?-1:$e,type:Oe},pt,Ye,{children:[f,Rt?z.jsx(dse,me({ref:Pe,center:u},Ae)):null]}))}),cx=yse;function vse(e){return pi("MuiIconButton",e)}const xse=vi("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),bse=xse,wse=["edge","children","className","color","disabled","disableFocusRipple","size"],Ese=e=>{const{classes:t,disabled:n,color:i,edge:o,size:u}=e,f={root:["root",n&&"disabled",i!=="default"&&`color${Tn(i)}`,o&&`edge${Tn(o)}`,`size${Tn(u)}`]};return yi(f,vse,t)},Sse=An(cx,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="default"&&t[`color${Tn(n.color)}`],n.edge&&t[`edge${Tn(n.edge)}`],t[`size${Tn(n.size)}`]]}})(({theme:e,ownerState:t})=>me({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:no(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:e,ownerState:t})=>{var n;const i=(n=(e.vars||e).palette)==null?void 0:n[t.color];return me({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&me({color:i==null?void 0:i.main},!t.disableRipple&&{"&:hover":me({},i&&{backgroundColor:e.vars?`rgba(${i.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:no(i.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${bse.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),Tse=V.forwardRef(function(t,n){const i=bi({props:t,name:"MuiIconButton"}),{edge:o=!1,children:u,className:f,color:a="default",disabled:y=!1,disableFocusRipple:w=!1,size:k="medium"}=i,M=Qn(i,wse),O=me({},i,{edge:o,color:a,disabled:y,disableFocusRipple:w,size:k}),$=Ese(O);return z.jsx(Sse,me({className:Jn($.root,f),centerRipple:!0,focusRipple:!w,disabled:y,ref:n,ownerState:O},M,{children:u}))}),lE=Tse,Cse=lu(z.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function kse(e){return pi("MuiChip",e)}const Pse=vi("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),ei=Pse,Ise=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],Ase=e=>{const{classes:t,disabled:n,size:i,color:o,iconColor:u,onDelete:f,clickable:a,variant:y}=e,w={root:["root",y,n&&"disabled",`size${Tn(i)}`,`color${Tn(o)}`,a&&"clickable",a&&`clickableColor${Tn(o)}`,f&&"deletable",f&&`deletableColor${Tn(o)}`,`${y}${Tn(o)}`],label:["label",`label${Tn(i)}`],avatar:["avatar",`avatar${Tn(i)}`,`avatarColor${Tn(o)}`],icon:["icon",`icon${Tn(i)}`,`iconColor${Tn(u)}`],deleteIcon:["deleteIcon",`deleteIcon${Tn(i)}`,`deleteIconColor${Tn(o)}`,`deleteIcon${Tn(y)}Color${Tn(o)}`]};return yi(w,kse,t)},Mse=An("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:i,iconColor:o,clickable:u,onDelete:f,size:a,variant:y}=n;return[{[`& .${ei.avatar}`]:t.avatar},{[`& .${ei.avatar}`]:t[`avatar${Tn(a)}`]},{[`& .${ei.avatar}`]:t[`avatarColor${Tn(i)}`]},{[`& .${ei.icon}`]:t.icon},{[`& .${ei.icon}`]:t[`icon${Tn(a)}`]},{[`& .${ei.icon}`]:t[`iconColor${Tn(o)}`]},{[`& .${ei.deleteIcon}`]:t.deleteIcon},{[`& .${ei.deleteIcon}`]:t[`deleteIcon${Tn(a)}`]},{[`& .${ei.deleteIcon}`]:t[`deleteIconColor${Tn(i)}`]},{[`& .${ei.deleteIcon}`]:t[`deleteIcon${Tn(y)}Color${Tn(i)}`]},t.root,t[`size${Tn(a)}`],t[`color${Tn(i)}`],u&&t.clickable,u&&i!=="default"&&t[`clickableColor${Tn(i)})`],f&&t.deletable,f&&i!=="default"&&t[`deletableColor${Tn(i)}`],t[y],t[`${y}${Tn(i)}`]]}})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return me({maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${ei.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${ei.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:n,fontSize:e.typography.pxToRem(12)},[`& .${ei.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${ei.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${ei.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${ei.icon}`]:me({marginLeft:5,marginRight:-6},t.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},t.iconColor===t.color&&me({color:e.vars?e.vars.palette.Chip.defaultIconColor:n},t.color!=="default"&&{color:"inherit"})),[`& .${ei.deleteIcon}`]:me({WebkitTapHighlightColor:"transparent",color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.26)`:no(e.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:no(e.palette.text.primary,.4)}},t.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},t.color!=="default"&&{color:e.vars?`rgba(${e.vars.palette[t.color].contrastTextChannel} / 0.7)`:no(e.palette[t.color].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].contrastText}})},t.size==="small"&&{height:24},t.color!=="default"&&{backgroundColor:(e.vars||e).palette[t.color].main,color:(e.vars||e).palette[t.color].contrastText},t.onDelete&&{[`&.${ei.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:no(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},t.onDelete&&t.color!=="default"&&{[`&.${ei.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}})},({theme:e,ownerState:t})=>me({},t.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:no(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)},[`&.${ei.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:no(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},"&:active":{boxShadow:(e.vars||e).shadows[1]}},t.clickable&&t.color!=="default"&&{[`&:hover, &.${ei.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}}),({theme:e,ownerState:t})=>me({},t.variant==="outlined"&&{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${ei.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${ei.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${ei.avatar}`]:{marginLeft:4},[`& .${ei.avatarSmall}`]:{marginLeft:2},[`& .${ei.icon}`]:{marginLeft:4},[`& .${ei.iconSmall}`]:{marginLeft:2},[`& .${ei.deleteIcon}`]:{marginRight:5},[`& .${ei.deleteIconSmall}`]:{marginRight:3}},t.variant==="outlined"&&t.color!=="default"&&{color:(e.vars||e).palette[t.color].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:no(e.palette[t.color].main,.7)}`,[`&.${ei.clickable}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:no(e.palette[t.color].main,e.palette.action.hoverOpacity)},[`&.${ei.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.focusOpacity})`:no(e.palette[t.color].main,e.palette.action.focusOpacity)},[`& .${ei.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:no(e.palette[t.color].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].main}}})),Dse=An("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:i}=n;return[t.label,t[`label${Tn(i)}`]]}})(({ownerState:e})=>me({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},e.size==="small"&&{paddingLeft:8,paddingRight:8}));function eA(e){return e.key==="Backspace"||e.key==="Delete"}const Rse=V.forwardRef(function(t,n){const i=bi({props:t,name:"MuiChip"}),{avatar:o,className:u,clickable:f,color:a="default",component:y,deleteIcon:w,disabled:k=!1,icon:M,label:O,onClick:$,onDelete:N,onKeyDown:B,onKeyUp:J,size:U="medium",variant:G="filled",tabIndex:Z,skipFocusWhenDisabled:Q=!1}=i,se=Qn(i,Ise),ce=V.useRef(null),A=go(ce,n),_e=Pe=>{Pe.stopPropagation(),N&&N(Pe)},le=Pe=>{Pe.currentTarget===Pe.target&&eA(Pe)&&Pe.preventDefault(),B&&B(Pe)},ve=Pe=>{Pe.currentTarget===Pe.target&&(N&&eA(Pe)?N(Pe):Pe.key==="Escape"&&ce.current&&ce.current.blur()),J&&J(Pe)},Ue=f!==!1&&$?!0:f,$e=Ue||N?cx:y||"div",Ae=me({},i,{component:$e,disabled:k,size:U,color:a,iconColor:V.isValidElement(M)&&M.props.color||a,onDelete:!!N,clickable:Ue,variant:G}),Re=Ase(Ae),Oe=$e===cx?me({component:y||"div",focusVisibleClassName:Re.focusVisible},N&&{disableRipple:!0}):{};let Ye=null;N&&(Ye=w&&V.isValidElement(w)?V.cloneElement(w,{className:Jn(w.props.className,Re.deleteIcon),onClick:_e}):z.jsx(Cse,{className:Jn(Re.deleteIcon),onClick:_e}));let Qe=null;o&&V.isValidElement(o)&&(Qe=V.cloneElement(o,{className:Jn(Re.avatar,o.props.className)}));let ze=null;return M&&V.isValidElement(M)&&(ze=V.cloneElement(M,{className:Jn(Re.icon,M.props.className)})),z.jsxs(Mse,me({as:$e,className:Jn(Re.root,u),disabled:Ue&&k?!0:void 0,onClick:$,onKeyDown:le,onKeyUp:ve,ref:A,tabIndex:Q&&k?-1:Z,ownerState:Ae},Oe,se,{children:[Qe||ze,z.jsx(Dse,{className:Jn(Re.label),ownerState:Ae,children:O}),Ye]}))}),Ose=Rse,iF=lu(z.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");function Lse(e){return pi("MuiAutocomplete",e)}const zse=vi("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]),Nr=zse;var tA,nA;const Fse=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","readOnly","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","slotProps","value"],Nse=["ref"],Bse=e=>{const{classes:t,disablePortal:n,expanded:i,focused:o,fullWidth:u,hasClearIcon:f,hasPopupIcon:a,inputFocused:y,popupOpen:w,size:k}=e,M={root:["root",i&&"expanded",o&&"focused",u&&"fullWidth",f&&"hasClearIcon",a&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",y&&"inputFocused"],tag:["tag",`tagSize${Tn(k)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",w&&"popupIndicatorOpen"],popper:["popper",n&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return yi(M,Lse,t)},jse=An("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{fullWidth:i,hasClearIcon:o,hasPopupIcon:u,inputFocused:f,size:a}=n;return[{[`& .${Nr.tag}`]:t.tag},{[`& .${Nr.tag}`]:t[`tagSize${Tn(a)}`]},{[`& .${Nr.inputRoot}`]:t.inputRoot},{[`& .${Nr.input}`]:t.input},{[`& .${Nr.input}`]:f&&t.inputFocused},t.root,i&&t.fullWidth,u&&t.hasPopupIcon,o&&t.hasClearIcon]}})(({ownerState:e})=>me({[`&.${Nr.focused} .${Nr.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${Nr.clearIndicator}`]:{visibility:"visible"}}},e.fullWidth&&{width:"100%"},{[`& .${Nr.tag}`]:me({margin:3,maxWidth:"calc(100% - 6px)"},e.size==="small"&&{margin:2,maxWidth:"calc(100% - 4px)"}),[`& .${Nr.inputRoot}`]:{flexWrap:"wrap",[`.${Nr.hasPopupIcon}&, .${Nr.hasClearIcon}&`]:{paddingRight:26+4},[`.${Nr.hasPopupIcon}.${Nr.hasClearIcon}&`]:{paddingRight:52+4},[`& .${Nr.input}`]:{width:0,minWidth:30}},[`& .${zd.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${zd.root}.${zs.sizeSmall}`]:{[`& .${zd.input}`]:{padding:"2px 4px 3px 0"}},[`& .${$c.root}`]:{padding:9,[`.${Nr.hasPopupIcon}&, .${Nr.hasClearIcon}&`]:{paddingRight:26+4+9},[`.${Nr.hasPopupIcon}.${Nr.hasClearIcon}&`]:{paddingRight:52+4+9},[`& .${Nr.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${Nr.endAdornment}`]:{right:9}},[`& .${$c.root}.${zs.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${Nr.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${Fs.root}`]:{paddingTop:19,paddingLeft:8,[`.${Nr.hasPopupIcon}&, .${Nr.hasClearIcon}&`]:{paddingRight:26+4+9},[`.${Nr.hasPopupIcon}.${Nr.hasClearIcon}&`]:{paddingRight:52+4+9},[`& .${Fs.input}`]:{padding:"7px 4px"},[`& .${Nr.endAdornment}`]:{right:9}},[`& .${Fs.root}.${zs.sizeSmall}`]:{paddingBottom:1,[`& .${Fs.input}`]:{padding:"2.5px 4px"}},[`& .${zs.hiddenLabel}`]:{paddingTop:8},[`& .${Fs.root}.${zs.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${Nr.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${Fs.root}.${zs.hiddenLabel}.${zs.sizeSmall}`]:{[`& .${Nr.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${Nr.input}`]:me({flexGrow:1,textOverflow:"ellipsis",opacity:0},e.inputFocused&&{opacity:1})})),$se=An("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(e,t)=>t.endAdornment})({position:"absolute",right:0,top:"calc(50% - 14px)"}),Use=An(lE,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(e,t)=>t.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),Vse=An(lE,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:({ownerState:e},t)=>me({},t.popupIndicator,e.popupOpen&&t.popupIndicatorOpen)})(({ownerState:e})=>me({padding:2,marginRight:-2},e.popupOpen&&{transform:"rotate(180deg)"})),Wse=An(nF,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Nr.option}`]:t.option},t.popper,n.disablePortal&&t.popperDisablePortal]}})(({theme:e,ownerState:t})=>me({zIndex:(e.vars||e).zIndex.modal},t.disablePortal&&{position:"absolute"})),Hse=An(s3,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(e,t)=>t.paper})(({theme:e})=>me({},e.typography.body1,{overflow:"auto"})),qse=An("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(e,t)=>t.loading})(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"})),Gse=An("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(e,t)=>t.noOptions})(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"})),Zse=An("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(e,t)=>t.listbox})(({theme:e})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${Nr.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[e.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${Nr.focused}`]:{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${Nr.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:no(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Nr.focused}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:no(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${Nr.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:no(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}}}})),Xse=An(ese,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(e,t)=>t.groupLabel})(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,top:-8})),Kse=An("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(e,t)=>t.groupUl})({padding:0,[`& .${Nr.option}`]:{paddingLeft:24}}),Yse=V.forwardRef(function(t,n){var i,o,u,f;const a=bi({props:t,name:"MuiAutocomplete"}),{autoComplete:y=!1,autoHighlight:w=!1,autoSelect:k=!1,blurOnSelect:M=!1,ChipProps:O,className:$,clearIcon:N=tA||(tA=z.jsx(iF,{fontSize:"small"})),clearOnBlur:B=!a.freeSolo,clearOnEscape:J=!1,clearText:U="Clear",closeText:G="Close",componentsProps:Z={},defaultValue:Q=a.multiple?[]:null,disableClearable:se=!1,disableCloseOnSelect:ce=!1,disabled:A=!1,disabledItemsFocusable:_e=!1,disableListWrap:le=!1,disablePortal:ve=!1,filterSelectedOptions:Ue=!1,forcePopupIcon:$e="auto",freeSolo:Ae=!1,fullWidth:Re=!1,getLimitTagsText:Oe=tt=>`+${tt}`,getOptionLabel:Ye=tt=>{var Ce;return(Ce=tt.label)!=null?Ce:tt},groupBy:Qe,handleHomeEndKeys:ze=!a.freeSolo,includeInputInList:Pe=!1,limitTags:je=-1,ListboxComponent:lt="ul",ListboxProps:ot,loading:ct=!1,loadingText:Ct="Loading…",multiple:ut=!1,noOptionsText:yt="No options",openOnFocus:Dt=!1,openText:Rt="Open",PaperComponent:St=s3,PopperComponent:Qt=nF,popupIcon:Lt=nA||(nA=z.jsx(eF,{})),readOnly:qt=!1,renderGroup:an,renderInput:jt,renderOption:vt,renderTags:gn,selectOnFocus:on=!a.freeSolo,size:Bn="medium",slotProps:Yn={}}=a,On=Qn(a,Fse),{getRootProps:zn,getInputProps:Mn,getInputLabelProps:jn,getPopupIndicatorProps:yr,getClearProps:pt,getTagProps:sn,getListboxProps:dn,getOptionProps:en,value:ln,dirty:un,expanded:bn,id:Dn,popupOpen:Fn,focused:er,focusedTag:Ar,anchorEl:pr,setAnchorEl:mi,inputValue:Hr,groupedOptions:ke}=vee(me({},a,{componentName:"Autocomplete"})),oe=!se&&!A&&un&&!qt,ae=(!Ae||$e===!0)&&$e!==!1,{onMouseDown:xe}=Mn(),{ref:Fe}=ot??{},Be=dn(),{ref:et}=Be,nt=Qn(Be,Nse),qe=go(et,Fe),He=me({},a,{disablePortal:ve,expanded:bn,focused:er,fullWidth:Re,hasClearIcon:oe,hasPopupIcon:ae,inputFocused:Ar===-1,popupOpen:Fn,size:Bn}),Je=Bse(He);let xt;if(ut&&ln.length>0){const tt=Ce=>me({className:Je.tag,disabled:A},sn(Ce));gn?xt=gn(ln,tt,He):xt=ln.map((Ce,ft)=>z.jsx(Ose,me({label:Ye(Ce),size:Bn},tt({index:ft}),O)))}if(je>-1&&Array.isArray(xt)){const tt=xt.length-je;!er&&tt>0&&(xt=xt.splice(0,je),xt.push(z.jsx("span",{className:Je.tag,children:Oe(tt)},xt.length)))}const vn=an||(tt=>z.jsxs("li",{children:[z.jsx(Xse,{className:Je.groupLabel,ownerState:He,component:"div",children:tt.group}),z.jsx(Kse,{className:Je.groupUl,ownerState:He,children:tt.children})]},tt.key)),Rn=vt||((tt,Ce)=>z.jsx("li",me({},tt,{children:Ye(Ce)}))),$n=(tt,Ce)=>{const ft=en({option:tt,index:Ce});return Rn(me({},ft,{className:Je.option}),tt,{selected:ft["aria-selected"],index:Ce,inputValue:Hr},He)},Xn=(i=Yn.clearIndicator)!=null?i:Z.clearIndicator,wr=(o=Yn.paper)!=null?o:Z.paper,Er=(u=Yn.popper)!=null?u:Z.popper,Rr=(f=Yn.popupIndicator)!=null?f:Z.popupIndicator;return z.jsxs(V.Fragment,{children:[z.jsx(jse,me({ref:n,className:Jn(Je.root,$),ownerState:He},zn(On),{children:jt({id:Dn,disabled:A,fullWidth:!0,size:Bn==="small"?"small":void 0,InputLabelProps:jn(),InputProps:me({ref:mi,className:Je.inputRoot,startAdornment:xt,onClick:tt=>{tt.target===tt.currentTarget&&xe(tt)}},(oe||ae)&&{endAdornment:z.jsxs($se,{className:Je.endAdornment,ownerState:He,children:[oe?z.jsx(Use,me({},pt(),{"aria-label":U,title:U,ownerState:He},Xn,{className:Jn(Je.clearIndicator,Xn==null?void 0:Xn.className),children:N})):null,ae?z.jsx(Vse,me({},yr(),{disabled:A,"aria-label":Fn?G:Rt,title:Fn?G:Rt,ownerState:He},Rr,{className:Jn(Je.popupIndicator,Rr==null?void 0:Rr.className),children:Lt})):null]})}),inputProps:me({className:Je.input,disabled:A,readOnly:qt},Mn())})})),pr?z.jsx(Wse,me({as:Qt,disablePortal:ve,style:{width:pr?pr.clientWidth:null},ownerState:He,role:"presentation",anchorEl:pr,open:Fn},Er,{className:Jn(Je.popper,Er==null?void 0:Er.className),children:z.jsxs(Hse,me({ownerState:He,as:St},wr,{className:Jn(Je.paper,wr==null?void 0:wr.className),children:[ct&&ke.length===0?z.jsx(qse,{className:Je.loading,ownerState:He,children:Ct}):null,ke.length===0&&!Ae&&!ct?z.jsx(Gse,{className:Je.noOptions,ownerState:He,role:"presentation",onMouseDown:tt=>{tt.preventDefault()},children:yt}):null,ke.length>0?z.jsx(Zse,me({as:lt,className:Je.listbox,ownerState:He},nt,ot,{ref:qe,children:ke.map((tt,Ce)=>Qe?vn({key:tt.key,group:tt.group,children:tt.options.map((ft,Ut)=>$n(ft,tt.index+Ut))}):$n(tt,Ce))})):null]}))})):null]})}),rA=Yse,Jse=Jne({createStyledComponent:An("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>bi({props:e,name:"MuiStack"})}),e4=Jse;function Qse(e){return pi("MuiButton",e)}const ele=vi("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),Dv=ele,tle=V.createContext({}),nle=tle,rle=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],ile=e=>{const{color:t,disableElevation:n,fullWidth:i,size:o,variant:u,classes:f}=e,a={root:["root",u,`${u}${Tn(t)}`,`size${Tn(o)}`,`${u}Size${Tn(o)}`,t==="inherit"&&"colorInherit",n&&"disableElevation",i&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${Tn(o)}`],endIcon:["endIcon",`iconSize${Tn(o)}`]},y=yi(a,Qse,f);return me({},f,y)},oF=e=>me({},e.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},e.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},e.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),ole=An(cx,{shouldForwardProp:e=>td(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${Tn(n.color)}`],t[`size${Tn(n.size)}`],t[`${n.variant}Size${Tn(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(({theme:e,ownerState:t})=>{var n,i;const o=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],u=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return me({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":me({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:no(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:no(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:no(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:e.vars?e.vars.palette.Button.inheritContainedHoverBg:u,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":me({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${Dv.focusVisible}`]:me({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${Dv.disabled}`]:me({color:(e.vars||e).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},t.variant==="contained"&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${no(e.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:e.vars?e.vars.palette.text.primary:(n=(i=e.palette).getContrastText)==null?void 0:n.call(i,e.palette.grey[300]),backgroundColor:e.vars?e.vars.palette.Button.inheritContainedBg:o,boxShadow:(e.vars||e).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Dv.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Dv.disabled}`]:{boxShadow:"none"}}),ale=An("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${Tn(n.size)}`]]}})(({ownerState:e})=>me({display:"inherit",marginRight:8,marginLeft:-4},e.size==="small"&&{marginLeft:-2},oF(e))),sle=An("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${Tn(n.size)}`]]}})(({ownerState:e})=>me({display:"inherit",marginRight:-4,marginLeft:8},e.size==="small"&&{marginRight:-2},oF(e))),lle=V.forwardRef(function(t,n){const i=V.useContext(nle),o=C9(i,t),u=bi({props:o,name:"MuiButton"}),{children:f,color:a="primary",component:y="button",className:w,disabled:k=!1,disableElevation:M=!1,disableFocusRipple:O=!1,endIcon:$,focusVisibleClassName:N,fullWidth:B=!1,size:J="medium",startIcon:U,type:G,variant:Z="text"}=u,Q=Qn(u,rle),se=me({},u,{color:a,component:y,disabled:k,disableElevation:M,disableFocusRipple:O,fullWidth:B,size:J,type:G,variant:Z}),ce=ile(se),A=U&&z.jsx(ale,{className:ce.startIcon,ownerState:se,children:U}),_e=$&&z.jsx(sle,{className:ce.endIcon,ownerState:se,children:$});return z.jsxs(ole,me({ownerState:se,className:Jn(i.className,ce.root,w),component:y,disabled:k,focusRipple:!O,focusVisibleClassName:Jn(ce.focusVisible,N),ref:n,type:G},Q,{classes:ce,children:[A,f,_e]}))}),Jl=lle;var cE={},aF={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(aF);var pc=aF.exports,t4={};const cle={configure:e=>{k9.configure(e)}},ule=Object.freeze(Object.defineProperty({__proto__:null,capitalize:Tn,createChainedFunction:X5,createSvgIcon:lu,debounce:T9,deprecatedPropType:YY,isMuiElement:i2,ownerDocument:Mo,ownerWindow:hh,requirePropFactory:JY,setRef:Yg,unstable_ClassNameGenerator:cle,unstable_useEnhancedEffect:nu,unstable_useId:D_,unsupportedProp:tJ,useControlled:rh,useEventCallback:hs,useForkRef:go,useIsFocusVisible:_b},Symbol.toStringTag,{value:"Module"})),dle=$8(ule);var iA;function fc(){return iA||(iA=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=dle}(t4)),t4}var hle=pc;Object.defineProperty(cE,"__esModule",{value:!0});var l8=cE.default=void 0,ple=hle(fc()),fle=z,mle=(0,ple.default)((0,fle.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");l8=cE.default=mle;var uE={},gle=pc;Object.defineProperty(uE,"__esModule",{value:!0});var c8=uE.default=void 0,_le=gle(fc()),yle=z,vle=(0,_le.default)((0,yle.jsx)("path",{d:"m20.5 3-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5zM15 19l-6-2.11V5l6 2.11V19z"}),"Map");c8=uE.default=vle;var dE={},xle=pc;Object.defineProperty(dE,"__esModule",{value:!0});var u8=dE.default=void 0,ble=xle(fc()),wle=z,Ele=(0,ble.default)((0,wle.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");u8=dE.default=Ele;var hE={},Sle=pc;Object.defineProperty(hE,"__esModule",{value:!0});var d8=hE.default=void 0,Tle=Sle(fc()),Cle=z,kle=(0,Tle.default)((0,Cle.jsx)("path",{d:"M20.94 11c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"}),"LocationSearching");d8=hE.default=kle;const Ple=(e,t)=>{const[n,i]=V.useState([]),o=async()=>{if(console.log("displayRoute called"),!(!e||!t||!t.waypoints||!t.longitude||!t.latitude||!t.endLongitude||!t.endLatitude))try{let u="";t.waypoints.length>0&&(u=t.waypoints.map(O=>`${O[1]},${O[0]}`).join(";")),console.log(t.waypoints),console.log("ways:",u);const f=`https://api.mapbox.com/directions/v5/mapbox/walking/${t.longitude},${t.latitude};${u};${t.endLongitude},${t.endLatitude}?geometries=geojson&access_token=${ds.accessToken}`,w=(await(await fetch(f)).json()).routes[0].geometry.coordinates;if(!Array.isArray(w)||w.some(O=>O.length!==2||isNaN(O[0])||isNaN(O[1]))){console.error("Invalid route coordinates:",w);return}const k={type:"Feature",properties:{},geometry:{type:"LineString",coordinates:w}};e.getSource("route")&&(e.removeLayer("route"),e.removeSource("route")),e.addSource("route",{type:"geojson",data:k}),e.addLayer({id:"route",type:"line",source:"route",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#3b9ddd","line-width":4}});const M=new ds.LngLatBounds;w.forEach(O=>{Array.isArray(O)&&O.length===2&&!isNaN(O[0])&&!isNaN(O[1])?M.extend(O):console.error("Invalid coordinate:",O)}),M.isEmpty()?console.error("No valid coordinates to fit bounds"):(console.log("Bounds:",M.toArray()),e.fitBounds(M,{margin:100})),i(w)}catch(u){console.error("Error:",u)}};return V.useEffect(()=>{o()},[t.waypoints]),{route:n,displayRoute:o}},Ile=(e,t,n,i,o,u,f,a,y,w)=>{const[k,M]=V.useState({lat:null,lng:null,address:""});return V.useEffect(()=>{if(e){const O=$=>{(t||i)&&(n(!1),o(!1),fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${$.lngLat.lng},${$.lngLat.lat}.json?access_token=${ds.accessToken}`).then(N=>N.json()).then(N=>{var J;const B=((J=N.features[0])==null?void 0:J.place_name)||"Unknown location";M({lat:$.lngLat.lat,lng:$.lngLat.lng,address:B}),t?f(U=>({...U,latitude:$.lngLat.lat,longitude:$.lngLat.lng})):i&&f(U=>({...U,endLatitude:$.lngLat.lat,endLongitude:$.lngLat.lng})),y(!0),w(!0)}).catch(N=>console.error("Error:",N)))};return e.on("click",O),()=>{e.off("click",O)}}},[e,t,i]),{location:k,setLocation:M}},Ale=[{id:"P5029111",name:"Battery Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":21,"taxi-zone":12,precinct:1,"b-score":{0:-.7502,1:-.7985,2:-.7968,3:-.8437,4:-.8652,5:-.9048,6:-.8961,7:-.8388,8:-.8076,9:-.7723,10:-.7253,11:-.7091,12:-.6827,13:-.6814,14:-.6736,15:-.6201,16:-.6163,17:-.5458,18:-.5474,19:-.6286,20:-.5404,21:-.6666,22:-.6875,23:-.7359},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7028143,longitude:-74.015775},last_updated:1690632e3},{id:"P22727025",name:"Bryant Park",type:"park",address:null,internet_access:null,wheelchair_accessible:"yes",opening_hours:"Mo-Su 07:00-23:00","grid-id":502,"taxi-zone":164,precinct:14,"b-score":{0:.7336,1:.1978,2:-.0507,3:-.1212,4:-.4651,5:-.7174,6:-.7878,7:-.734,8:-.56,9:-.1413,10:.1442,11:.4509,12:.7579,13:.8741,14:.911,15:.8463,16:.93,17:.9155,18:.8542,19:.88,20:.8116,21:.6131,22:.4449,23:.3647},"c-score":1,rating:1.5,location:{latitude:40.7537508,longitude:-73.9835384},last_updated:1690632e3},{id:"P22899286",name:"Madison Square Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:"06:00-23:00","grid-id":419,"taxi-zone":234,precinct:13,"b-score":{0:-.2014,1:-.4488,2:-.5232,3:-.5984,4:-.7436,5:-.8297,6:-.6918,7:-.6659,8:-.5406,9:-.3608,10:-.1536,11:-.0453,12:.1519,13:.1543,14:.1543,15:.1504,16:.1711,17:.1774,18:.1693,19:.2218,20:.2211,21:.0903,22:-.0651,23:-.2268},"c-score":.6499952162265595,rating:1.5,location:{latitude:40.7421868,longitude:-73.987872},last_updated:1690632e3},{id:"P22899302",name:"Washington Square Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":267,"taxi-zone":114,precinct:6,"b-score":{0:-.0785,1:-.2806,2:-.5265,3:-.6119,4:-.8139,5:-.8992,6:-.8765,7:-.8272,8:-.6969,9:-.5546,10:-.1937,11:-.0217,12:.1579,13:.1742,14:.174,15:.1217,16:.1327,17:.0659,18:.0738,19:.0437,20:-.0082,21:-.0128,22:-.1015,23:-.2122},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.730896,longitude:-73.9975857},last_updated:1690632e3},{id:"P22900913",name:"Dr. Gertrude B. Kelly Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":184,"taxi-zone":68,precinct:10,"b-score":{0:.692,1:.3224,2:.1742,3:-.2063,4:-.5379,5:-.7292,6:-.6039,7:-.5869,8:-.2987,9:.0825,10:.4821,11:.6963,12:1.0161,13:1.1247,14:1.1848,15:1.1717,16:1.192,17:1.1356,18:.6629,19:.6196,20:.8899,21:.8555,22:.6017,23:.4336},"c-score":.35804152315346344,rating:1.5,location:{latitude:40.7416557,longitude:-74.0020105},last_updated:1690632e3},{id:"P22900959",name:"Chelsea Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":217,"taxi-zone":68,precinct:10,"b-score":{0:.692,1:.3224,2:.1742,3:-.2063,4:-.5379,5:-.7292,6:-.6039,7:-.5869,8:-.2987,9:.0825,10:.4821,11:.6963,12:1.0161,13:1.1247,14:1.1848,15:1.1717,16:1.192,17:1.1356,18:.6629,19:.6196,20:.8899,21:.8555,22:.6017,23:.4336},"c-score":.35804152315346344,rating:1.5,location:{latitude:40.7499194,longitude:-74.0006702},last_updated:1690632e3},{id:"P22901074",name:"Gramercy Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":465,"taxi-zone":107,precinct:13,"b-score":{0:-.0083,1:-.3129,2:-.3845,3:-.6548,4:-.683,5:-.7342,6:-.7399,7:-.6503,8:-.6045,9:-.2282,10:-.292,11:-.3132,12:-.3177,13:-.3349,14:-.3266,15:-.3276,16:-.3356,17:-.3467,18:-.3501,19:-.4589,20:-.4253,21:-.1654,22:-.2715,23:-.56},"c-score":.6499952162265595,rating:1.5,location:{latitude:40.737939,longitude:-73.9859225},last_updated:1690632e3},{id:"P22903972",name:"Chelsea Waterside Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":108,"taxi-zone":246,precinct:10,"b-score":{0:-.7551,1:-.7565,2:-.8137,3:-.8074,4:-.83,5:-.8818,6:-.8416,7:-.8528,8:-.8536,9:-.8518,10:-.8481,11:-.8397,12:-.8475,13:-.8494,14:-.8516,15:-.835,16:-.8397,17:-.8223,18:-.8115,19:-.8076,20:-.7869,21:-.784,22:-.7599,23:-.7285},"c-score":.35804152315346344,rating:1.5,location:{latitude:40.7492535,longitude:-74.0074571},last_updated:1690632e3},{id:"P22904239",name:"14th Street Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":111,"taxi-zone":246,precinct:10,"b-score":{0:-.7551,1:-.7565,2:-.8137,3:-.8074,4:-.83,5:-.8818,6:-.8416,7:-.8528,8:-.8536,9:-.8518,10:-.8481,11:-.8397,12:-.8475,13:-.8494,14:-.8516,15:-.835,16:-.8397,17:-.8223,18:-.8115,19:-.8076,20:-.7869,21:-.784,22:-.7599,23:-.7285},"c-score":.35804152315346344,rating:1.5,location:{latitude:40.742717,longitude:-74.0082549},last_updated:1690632e3},{id:"P22926662",name:"Liberty Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":36,"taxi-zone":261,precinct:1,"b-score":{0:.9803,1:.9928,2:.8513,3:.0442,4:-.4866,5:-.8342,6:-.8637,7:-.8199,8:-.6732,9:-.5087,10:-.1948,11:.1383,12:.5899,13:.6124,14:.6322,15:.5958,16:.6814,17:.8964,18:1.0106,19:.829,20:.8119,21:.7809,22:.7309,23:.749},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7102299,longitude:-74.0135844},last_updated:1690632e3},{id:"P22926980",name:"Washington Market Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"Mo-Su 06:00-01:00","grid-id":61,"taxi-zone":231,precinct:1,"b-score":{0:-.09,1:-.0902,2:-.2901,3:-.4622,4:-.7305,5:-.8522,6:-.8524,7:-.7972,8:-.7214,9:-.4915,10:-.216,11:-.1204,12:-.0998,13:-.0967,14:-.0941,15:-.1014,16:-.0736,17:-.0027,18:-.0041,19:.0718,20:.1184,21:-.2476,22:-.2995,23:-.4414},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7170293,longitude:-74.0116375},last_updated:1690632e3},{id:"P22941918",name:"DeWitt Clinton Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":283,"taxi-zone":50,precinct:18,"b-score":{0:-.1921,1:-.2761,2:-.3915,3:-.5599,4:-.728,5:-.8857,6:-.8564,7:-.714,8:-.6495,9:-.3848,10:-.3377,11:-.3103,12:-.2306,13:-.2193,14:-.2005,15:-.2442,16:-.2688,17:-.1647,18:-.1585,19:-.1025,20:-.056,21:-.2193,22:-.2575,23:-.2582},"c-score":.7263601862482459,rating:1.5,location:{latitude:40.7682011,longitude:-73.9942676},last_updated:1690632e3},{id:"P22961817",name:"Jackson Square Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":185,"taxi-zone":249,precinct:6,"b-score":{0:-.1399,1:-.168,2:-.1642,3:-.2269,4:-.6106,5:-.8308,6:-.7813,7:-.8103,8:-.6165,9:-.31,10:.0026,11:.2152,12:.4999,13:.625,14:.7015,15:.6524,16:.6481,17:.7281,18:.8623,19:.6684,20:.1348,21:-.1386,22:-.1678,23:-.1439},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.7390049,longitude:-74.0028822},last_updated:1690632e3},{id:"P22961821",name:"Corporal John A. Seravalli Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":148,"taxi-zone":249,precinct:6,"b-score":{0:-.1399,1:-.168,2:-.1642,3:-.2269,4:-.6106,5:-.8308,6:-.7813,7:-.8103,8:-.6165,9:-.31,10:.0026,11:.2152,12:.4999,13:.625,14:.7015,15:.6524,16:.6481,17:.7281,18:.8623,19:.6684,20:.1348,21:-.1386,22:-.1678,23:-.1439},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.7390844,longitude:-74.0048187},last_updated:1690632e3},{id:"P22961904",name:"Clement Clarke Moore Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":144,"taxi-zone":68,precinct:10,"b-score":{0:.692,1:.3224,2:.1742,3:-.2063,4:-.5379,5:-.7292,6:-.6039,7:-.5869,8:-.2987,9:.0825,10:.4821,11:.6963,12:1.0161,13:1.1247,14:1.1848,15:1.1717,16:1.192,17:1.1356,18:.6629,19:.6196,20:.8899,21:.8555,22:.6017,23:.4336},"c-score":.35804152315346344,rating:1.5,location:{latitude:40.746629,longitude:-74.0043038},last_updated:1690632e3},{id:"P23048485",name:"Tudor City Greens - North Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":809,"taxi-zone":233,precinct:17,"b-score":{0:-.6189,1:-.6534,2:-.734,3:-.7561,4:-.8508,5:-.895,6:-.9024,7:-.8917,8:-.8623,9:-.8527,10:-.8049,11:-.7306,12:-.7002,13:-.6831,14:-.6726,15:-.6615,16:-.6795,17:-.6523,18:-.622,19:-.6549,20:-.4822,21:-.6785,22:-.6838,23:-.693},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7495583,longitude:-73.9705138},last_updated:1690632e3},{id:"P23048493",name:"Tudor City Greens - South Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":758,"taxi-zone":233,precinct:17,"b-score":{0:-.6189,1:-.6534,2:-.734,3:-.7561,4:-.8508,5:-.895,6:-.9024,7:-.8917,8:-.8623,9:-.8527,10:-.8049,11:-.7306,12:-.7002,13:-.6831,14:-.6726,15:-.6615,16:-.6795,17:-.6523,18:-.622,19:-.6549,20:-.4822,21:-.6785,22:-.6838,23:-.693},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7488541,longitude:-73.9710191},last_updated:1690632e3},{id:"P25026338",name:"Zuccotti Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":65,"taxi-zone":261,precinct:1,"b-score":{0:.9803,1:.9928,2:.8513,3:.0442,4:-.4866,5:-.8342,6:-.8637,7:-.8199,8:-.6732,9:-.5087,10:-.1948,11:.1383,12:.5899,13:.6124,14:.6322,15:.5958,16:.6814,17:.8964,18:1.0106,19:.829,20:.8119,21:.7809,22:.7309,23:.749},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7092314,longitude:-74.0112539},last_updated:1690632e3},{id:"P25162896",name:"Tompkins Square Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":565,"taxi-zone":79,precinct:9,"b-score":{0:-.3898,1:-.5314,2:-.6771,3:-.734,4:-.7957,5:-.8216,6:-.7358,7:-.5903,8:-.6486,9:-.4502,10:-.3853,11:-.3708,12:-.3483,13:-.338,14:-.3277,15:-.3244,16:-.3196,17:-.3226,18:-.3263,19:-.3657,20:-.4744,21:-.4767,22:-.4772,23:-.4424},"c-score":.48990623804056643,rating:1.5,location:{latitude:40.7264724,longitude:-73.9816871},last_updated:1690632e3},{id:"P30657456",name:"Christopher Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":188,"taxi-zone":249,precinct:6,"b-score":{0:-.1399,1:-.168,2:-.1642,3:-.2269,4:-.6106,5:-.8308,6:-.7813,7:-.8103,8:-.6165,9:-.31,10:.0026,11:.2152,12:.4999,13:.625,14:.7015,15:.6524,16:.6481,17:.7281,18:.8623,19:.6684,20:.1348,21:-.1386,22:-.1678,23:-.1439},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.7335833,longitude:-74.0022513},last_updated:1690632e3},{id:"P30657462",name:"Sheridan Square Garden",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":189,"taxi-zone":249,precinct:6,"b-score":{0:-.1399,1:-.168,2:-.1642,3:-.2269,4:-.6106,5:-.8308,6:-.7813,7:-.8103,8:-.6165,9:-.31,10:.0026,11:.2152,12:.4999,13:.625,14:.7015,15:.6524,16:.6481,17:.7281,18:.8623,19:.6684,20:.1348,21:-.1386,22:-.1678,23:-.1439},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.7330286,longitude:-74.0021296},last_updated:1690632e3},{id:"P31009822",name:"Stuyvesant Cove Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":715,"taxi-zone":224,precinct:13,"b-score":{0:-.6823,1:-.7343,2:-.786,3:-.7949,4:-.8671,5:-.9074,6:-.9031,7:-.8917,8:-.879,9:-.8177,10:-.8103,11:-.802,12:-.7217,13:-.7176,14:-.7238,15:-.7091,16:-.7098,17:-.6816,18:-.6446,19:-.6373,20:-.506,21:-.6618,22:-.6756,23:-.7035},"c-score":.6499952162265595,rating:1.5,location:{latitude:40.7330953,longitude:-73.9739823},last_updated:1690632e3},{id:"P33804388",name:"East River Esplanade",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":811,"taxi-zone":233,precinct:17,"b-score":{0:-.6189,1:-.6534,2:-.734,3:-.7561,4:-.8508,5:-.895,6:-.9024,7:-.8917,8:-.8623,9:-.8527,10:-.8049,11:-.7306,12:-.7002,13:-.6831,14:-.6726,15:-.6615,16:-.6795,17:-.6523,18:-.622,19:-.6549,20:-.4822,21:-.6785,22:-.6838,23:-.693},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7449845,longitude:-73.9704672},last_updated:1690632e3},{id:"P33804405",name:"Asser Levy Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":661,"taxi-zone":137,precinct:13,"b-score":{0:-.6183,1:-.6592,2:-.7179,3:-.7449,4:-.8242,5:-.8691,6:-.7933,7:-.7556,8:-.6673,9:-.487,10:-.2685,11:-.2539,12:-.2236,13:-.2217,14:-.0767,15:-.0432,16:-.0397,17:-.0053,18:-.03,19:-.052,20:-.3444,21:-.3562,22:-.3804,23:-.496},"c-score":.8489244622311155,rating:1.5,location:{latitude:40.7364296,longitude:-73.9756472},last_updated:1690632e3},{id:"P36185652",name:"Bellevue Society Garden",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":712,"taxi-zone":137,precinct:13,"b-score":{0:-.6183,1:-.6592,2:-.7179,3:-.7449,4:-.8242,5:-.8691,6:-.7933,7:-.7556,8:-.6673,9:-.487,10:-.2685,11:-.2539,12:-.2236,13:-.2217,14:-.0767,15:-.0432,16:-.0397,17:-.0053,18:-.03,19:-.052,20:-.3444,21:-.3562,22:-.3804,23:-.496},"c-score":.6499952162265595,rating:1.5,location:{latitude:40.7380949,longitude:-73.9745264},last_updated:1690632e3},{id:"P36865288",name:"Desalvio Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":309,"taxi-zone":144,precinct:5,"b-score":{0:-.8371,1:-.8372,2:-.8688,3:-.8755,4:-.8842,5:-.9024,6:-.9047,7:-.8935,8:-.8624,9:-.8615,10:-.8595,11:-.8621,12:-.8619,13:-.8578,14:-.8507,15:-.8519,16:-.855,17:-.8334,18:-.8362,19:-.8375,20:-.8231,21:-.8322,22:-.8501,23:-.8402},"c-score":.37779850746268656,rating:1.5,location:{latitude:40.7216408,longitude:-73.9961097},last_updated:1690632e3},{id:"P37003318",name:"Riverside Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":531,"taxi-zone":239,precinct:20,"b-score":{0:-.2639,1:-.3235,2:-.5379,3:-.6642,4:-.7299,5:-.8469,6:-.7538,7:-.4309,8:-.2028,9:.0648,10:.4253,11:.6805,12:.7773,13:.8794,14:.6825,15:.6152,16:.6779,17:.6576,18:.6479,19:.5243,20:.1852,21:.2095,22:.2172,23:-.0248},"c-score":.36388569970659523,rating:1.5,location:{latitude:40.7880268,longitude:-73.982186},last_updated:1690632e3},{id:"P39243853",name:"Morningside Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":978,"taxi-zone":166,precinct:26,"b-score":{0:.5469,1:.3328,2:-.2377,3:-.4102,4:-.6459,5:-.7721,6:-.6737,7:-.4812,8:-.212,9:.0698,10:.5153,11:1.0142,12:1.123,13:1.111,14:1.1364,15:1.1603,16:1.1727,17:1.3626,18:1.3584,19:1.3906,20:1.2467,21:1.0089,22:.9032,23:.5912},"c-score":.261656461283327,rating:1.5,location:{latitude:40.8060522,longitude:-73.9580625},last_updated:1690632e3},{id:"P44225581",name:"Petrosino Square",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":272,"taxi-zone":144,precinct:5,"b-score":{0:-.8371,1:-.8372,2:-.8688,3:-.8755,4:-.8842,5:-.9024,6:-.9047,7:-.8935,8:-.8624,9:-.8615,10:-.8595,11:-.8621,12:-.8619,13:-.8578,14:-.8507,15:-.8519,16:-.855,17:-.8334,18:-.8362,19:-.8375,20:-.8231,21:-.8322,22:-.8501,23:-.8402},"c-score":.37779850746268656,rating:1.5,location:{latitude:40.7217802,longitude:-73.9974692},last_updated:1690632e3},{id:"P53189828",name:"DeLury Square",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":165,"taxi-zone":209,precinct:1,"b-score":{0:-.7493,1:-.7692,2:-.8116,3:-.8353,4:-.8827,5:-.9059,6:-.9018,7:-.8897,8:-.8705,9:-.854,10:-.8202,11:-.7693,12:-.7368,13:-.7391,14:-.7218,15:-.7283,16:-.7242,17:-.6618,18:-.6514,19:-.7074,20:-.714,21:-.7277,22:-.7002,23:-.7587},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7091073,longitude:-74.0050236},last_updated:1690632e3},{id:"P66374787",name:"Columbus Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":237,"taxi-zone":45,precinct:5,"b-score":{0:-.5927,1:-.7684,2:-.8298,3:-.8614,4:-.8876,5:-.889,6:-.8218,7:-.7387,8:-.5042,9:-.1543,10:.2104,11:.4356,12:.6807,13:.8113,14:.9919,15:1.0256,16:.8695,17:.3703,18:.2006,19:-.1239,20:-.3119,21:-.3644,22:-.3147,23:-.4728},"c-score":.37779850746268656,rating:1.5,location:{latitude:40.7151001,longitude:-74.0000509},last_updated:1690632e3},{id:"P75311774",name:"Battery Park City Ball Fields",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":33,"taxi-zone":13,precinct:1,"b-score":{0:-.9089,1:-.9068,2:-.9191,3:-.9239,4:-.9205,5:-.9097,6:-.9057,7:-.804,8:-.8465,9:-.8435,10:-.841,11:-.8312,12:-.8229,13:-.8102,14:-.8134,15:-.8256,16:-.8587,17:-.8428,18:-.8574,19:-.8969,20:-.9111,21:-.9137,22:-.9138,23:-.9128},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7160843,longitude:-74.0140082},last_updated:1690632e3},{id:"P75364733",name:"Bogardus Garden",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":92,"taxi-zone":231,precinct:1,"b-score":{0:-.09,1:-.0902,2:-.2901,3:-.4622,4:-.7305,5:-.8522,6:-.8524,7:-.7972,8:-.7214,9:-.4915,10:-.216,11:-.1204,12:-.0998,13:-.0967,14:-.0941,15:-.1014,16:-.0736,17:-.0027,18:-.0041,19:.0718,20:.1184,21:-.2476,22:-.2995,23:-.4414},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7158736,longitude:-74.0090666},last_updated:1690632e3},{id:"P86144190",name:"Abingdon Square",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":149,"taxi-zone":249,precinct:6,"b-score":{0:-.1399,1:-.168,2:-.1642,3:-.2269,4:-.6106,5:-.8308,6:-.7813,7:-.8103,8:-.6165,9:-.31,10:.0026,11:.2152,12:.4999,13:.625,14:.7015,15:.6524,16:.6481,17:.7281,18:.8623,19:.6684,20:.1348,21:-.1386,22:-.1678,23:-.1439},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.7372675,longitude:-74.0053868},last_updated:1690632e3},{id:"P86144198",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":150,"taxi-zone":249,precinct:6,"b-score":{0:-.1399,1:-.168,2:-.1642,3:-.2269,4:-.6106,5:-.8308,6:-.7813,7:-.8103,8:-.6165,9:-.31,10:.0026,11:.2152,12:.4999,13:.625,14:.7015,15:.6524,16:.6481,17:.7281,18:.8623,19:.6684,20:.1348,21:-.1386,22:-.1678,23:-.1439},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.736377,longitude:-74.0054892},last_updated:1690632e3},{id:"P86256760",name:"Arthur Strickler Triangle",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":150,"taxi-zone":158,precinct:6,"b-score":{0:-.0331,1:-.0885,2:-.4373,3:-.6203,4:-.8113,5:-.907,6:-.8924,7:-.8754,8:-.8388,9:-.7256,10:-.4591,11:-.3962,12:-.2597,13:-.2194,14:-.2219,15:-.2267,16:-.2621,17:-.2744,18:-.1191,19:-.0803,20:-.0854,21:-.3046,22:-.3203,23:-.3896},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.7368584,longitude:-74.0058066},last_updated:1690632e3},{id:"P86336886",name:"Sherman Square",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":489,"taxi-zone":142,precinct:20,"b-score":{0:.5915,1:.1131,2:-.2938,3:-.5893,4:-.6815,5:-.7788,6:-.6814,7:-.5915,8:-.3179,9:.0434,10:.6977,11:.8754,12:1.3868,13:1.404,14:1.4016,15:1.4167,16:1.4379,17:1.5911,18:1.6434,19:1.4374,20:1.3909,21:1.2744,22:1.3672,23:.7122},"c-score":.36388569970659523,rating:1.5,location:{latitude:40.7773648,longitude:-73.9823502},last_updated:1690632e3},{id:"P86338375",name:"Greenacre Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"Mo-Su 08:00-20:00","grid-id":805,"taxi-zone":229,precinct:17,"b-score":{0:.4267,1:-.0641,2:-.2763,3:-.4,4:-.6217,5:-.8009,6:-.7612,7:-.6576,8:-.4028,9:-.1078,10:.1339,11:.5163,12:.6032,13:.6709,14:.7171,15:.7195,16:.6965,17:.9066,18:.9537,19:1.012,20:.8581,21:.7901,22:.606,23:.2078},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7562735,longitude:-73.9692846},last_updated:1690632e3},{id:"P86714429",name:"Kimlau Square",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":277,"taxi-zone":45,precinct:5,"b-score":{0:-.5927,1:-.7684,2:-.8298,3:-.8614,4:-.8876,5:-.889,6:-.8218,7:-.7387,8:-.5042,9:-.1543,10:.2104,11:.4356,12:.6807,13:.8113,14:.9919,15:1.0256,16:.8695,17:.3703,18:.2006,19:-.1239,20:-.3119,21:-.3644,22:-.3147,23:-.4728},"c-score":.37779850746268656,rating:1.5,location:{latitude:40.713421,longitude:-73.9979986},last_updated:1690632e3},{id:"P95833119",name:"Cooper Triangle",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":384,"taxi-zone":79,precinct:9,"b-score":{0:-.3898,1:-.5314,2:-.6771,3:-.734,4:-.7957,5:-.8216,6:-.7358,7:-.5903,8:-.6486,9:-.4502,10:-.3853,11:-.3708,12:-.3483,13:-.338,14:-.3277,15:-.3244,16:-.3196,17:-.3226,18:-.3263,19:-.3657,20:-.4744,21:-.4767,22:-.4772,23:-.4424},"c-score":.9999999999999999,rating:1.5,location:{latitude:40.7288189,longitude:-73.9907764},last_updated:1690632e3},{id:"P104077634",name:"Gorman Memorial Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1448,"taxi-zone":243,precinct:34,"b-score":{0:.626,1:.2085,2:-.254,3:-.4226,4:-.6276,5:-.7516,6:-.6854,7:-.5511,8:-.2471,9:.0312,10:.245,11:.5866,12:.6658,13:.6465,14:.7483,15:.9222,16:.9676,17:1.0308,18:1.0704,19:1.0126,20:1.0274,21:1.0158,22:.9889,23:.4117},"c-score":.5172056384742952,rating:1.5,location:{latitude:40.8556942,longitude:-73.9324027},last_updated:1690632e3},{id:"P104078386",name:"Bennett Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1311,"taxi-zone":243,precinct:34,"b-score":{0:.626,1:.2085,2:-.254,3:-.4226,4:-.6276,5:-.7516,6:-.6854,7:-.5511,8:-.2471,9:.0312,10:.245,11:.5866,12:.6658,13:.6465,14:.7483,15:.9222,16:.9676,17:1.0308,18:1.0704,19:1.0126,20:1.0274,21:1.0158,22:.9889,23:.4117},"c-score":.5172056384742952,rating:1.5,location:{latitude:40.8528398,longitude:-73.938113},last_updated:1690632e3},{id:"P104169861",name:"Isham Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1544,"taxi-zone":127,precinct:34,"b-score":{0:-.8878,1:-.8897,2:-.8796,3:-.894,4:-.8801,5:-.9027,6:-.9046,7:-.9176,8:-.9092,9:-.9089,10:-.9102,11:-.9088,12:-.909,13:-.9059,14:-.9062,15:-.9056,16:-.9022,17:-.9006,18:-.8864,19:-.8877,20:-.8841,21:-.8757,22:-.8788,23:-.8806},"c-score":.5172056384742952,rating:1.5,location:{latitude:40.8696523,longitude:-73.9190761},last_updated:1690632e3},{id:"P105715154",name:"Fort Washington Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1267,"taxi-zone":243,precinct:34,"b-score":{0:.626,1:.2085,2:-.254,3:-.4226,4:-.6276,5:-.7516,6:-.6854,7:-.5511,8:-.2471,9:.0312,10:.245,11:.5866,12:.6658,13:.6465,14:.7483,15:.9222,16:.9676,17:1.0308,18:1.0704,19:1.0126,20:1.0274,21:1.0158,22:.9889,23:.4117},"c-score":.5962981490745373,rating:1.5,location:{latitude:40.8531632,longitude:-73.9398863},last_updated:1690632e3},{id:"P108153375",name:"Collect Pond Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:"06:00-01:00","grid-id":198,"taxi-zone":231,precinct:5,"b-score":{0:-.09,1:-.0902,2:-.2901,3:-.4622,4:-.7305,5:-.8522,6:-.8524,7:-.7972,8:-.7214,9:-.4915,10:-.216,11:-.1204,12:-.0998,13:-.0967,14:-.0941,15:-.1014,16:-.0736,17:-.0027,18:-.0041,19:.0718,20:.1184,21:-.2476,22:-.2995,23:-.4414},"c-score":.4907453726863431,rating:1.5,location:{latitude:40.716328,longitude:-74.0018252},last_updated:1690632e3},{id:"P108153676",name:"Duarte Square",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"yes",opening_hours:"Mo-Su 06:00-01:00","grid-id":158,"taxi-zone":125,precinct:1,"b-score":{0:-.9346,1:-.9258,2:-.9644,3:-.9409,4:-.919,5:-.9029,6:-.9046,7:-.9059,8:-.9187,9:-.9183,10:-.918,11:-.918,12:-.9185,13:-.9185,14:-.9192,15:-.9198,16:-.9191,17:-.9133,18:-.9132,19:-.9131,20:-.9123,21:-.912,22:-.9112,23:-.9121},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7225449,longitude:-74.0055296},last_updated:1690632e3},{id:"P108159406",name:"Carl Schurz Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1262,"taxi-zone":262,precinct:19,"b-score":{0:-.6774,1:-.6711,2:-.7102,3:-.7703,4:-.8195,5:-.901,6:-.8957,7:-.8689,8:-.7791,9:-.6598,10:-.5821,11:-.421,12:-.3885,13:-.3846,14:-.3729,15:-.3803,16:-.3968,17:-.417,18:-.4728,19:-.568,20:-.5675,21:-.5788,22:-.5952,23:-.6986},"c-score":.7237689756346473,rating:1.5,location:{latitude:40.7752127,longitude:-73.9437574},last_updated:1690632e3},{id:"P108159407",name:"Thomas Jefferson Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1389,"taxi-zone":74,precinct:23,"b-score":{0:2.4036,1:2.458,2:2.3076,3:1.2452,4:-.1525,5:-.7166,6:-.7352,7:-.7103,8:-.5884,9:-.1672,10:.0045,11:.0984,12:.6495,13:.7599,14:.7919,15:.8037,16:.8682,17:.8714,18:1.2236,19:1.2707,20:1.2374,21:1.2536,22:1.2914,23:1.0704},"c-score":.5149971297359357,rating:1.5,location:{latitude:40.7932541,longitude:-73.9353945},last_updated:1690632e3},{id:"P108199253",name:"Robert Moses Plaza",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":447,"taxi-zone":142,precinct:20,"b-score":{0:.5915,1:.1131,2:-.2938,3:-.5893,4:-.6815,5:-.7788,6:-.6814,7:-.5915,8:-.3179,9:.0434,10:.6977,11:.8754,12:1.3868,13:1.404,14:1.4016,15:1.4167,16:1.4379,17:1.5911,18:1.6434,19:1.4374,20:1.3909,21:1.2744,22:1.3672,23:.7122},"c-score":.36388569970659523,rating:1.5,location:{latitude:40.7707338,longitude:-73.9847792},last_updated:1690632e3},{id:"P108199260",name:"St. Peter's Garden",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":447,"taxi-zone":142,precinct:20,"b-score":{0:.5915,1:.1131,2:-.2938,3:-.5893,4:-.6815,5:-.7788,6:-.6814,7:-.5915,8:-.3179,9:.0434,10:.6977,11:.8754,12:1.3868,13:1.404,14:1.4016,15:1.4167,16:1.4379,17:1.5911,18:1.6434,19:1.4374,20:1.3909,21:1.2744,22:1.3672,23:.7122},"c-score":.36388569970659523,rating:1.5,location:{latitude:40.7711578,longitude:-73.9854676},last_updated:1690632e3},{id:"P108235832",name:"Corlears Hook Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":624,"taxi-zone":232,precinct:7,"b-score":{0:-.0101,1:-.2586,2:-.4595,3:-.6366,4:-.7178,5:-.8234,6:-.7615,7:-.5908,8:-.2441,9:.2197,10:.9609,11:1.1704,12:1.3301,13:1.4039,14:1.5865,15:1.5356,16:1.6014,17:1.5288,18:1.3165,19:1.0717,20:.729,21:.7287,22:.8152,23:.3216},"c-score":.4246954330909555,rating:1.5,location:{latitude:40.7117122,longitude:-73.9792669},last_updated:1690632e3},{id:"P108235833",name:"Rector Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":17,"taxi-zone":13,precinct:1,"b-score":{0:-.9089,1:-.9068,2:-.9191,3:-.9239,4:-.9205,5:-.9097,6:-.9057,7:-.804,8:-.8465,9:-.8435,10:-.841,11:-.8312,12:-.8229,13:-.8102,14:-.8134,15:-.8256,16:-.8587,17:-.8428,18:-.8574,19:-.8969,20:-.9111,21:-.9137,22:-.9138,23:-.9128},"c-score":.613287728026534,rating:1.5,location:{latitude:40.709189,longitude:-74.016925},last_updated:1690632e3},{id:"P108235836",name:"Seward Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:"Mo-Su 06:00-22:00","grid-id":434,"taxi-zone":232,precinct:7,"b-score":{0:-.0101,1:-.2586,2:-.4595,3:-.6366,4:-.7178,5:-.8234,6:-.7615,7:-.5908,8:-.2441,9:.2197,10:.9609,11:1.1704,12:1.3301,13:1.4039,14:1.5865,15:1.5356,16:1.6014,17:1.5288,18:1.3165,19:1.0717,20:.729,21:.7287,22:.8152,23:.3216},"c-score":.7858929464732366,rating:1.5,location:{latitude:40.7148304,longitude:-73.9891502},last_updated:1690632e3},{id:"P108235837",name:"Vietnam Veterans Plaza",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":100,"taxi-zone":88,precinct:1,"b-score":{0:-.775,1:-.7818,2:-.8142,3:-.8635,4:-.8934,5:-.8419,6:-.8184,7:-.8076,8:-.7388,9:-.75,10:-.6844,11:-.6202,12:-.6121,13:-.6131,14:-.5978,15:-.565,16:-.5741,17:-.5716,18:-.5625,19:-.6999,20:-.7918,21:-.7606,22:-.7391,23:-.7684},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7027051,longitude:-74.0097651},last_updated:1690632e3},{id:"P108235842",name:"John V. Lindsay East River Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":671,"taxi-zone":232,precinct:7,"b-score":{0:-.0101,1:-.2586,2:-.4595,3:-.6366,4:-.7178,5:-.8234,6:-.7615,7:-.5908,8:-.2441,9:.2197,10:.9609,11:1.1704,12:1.3301,13:1.4039,14:1.5865,15:1.5356,16:1.6014,17:1.5288,18:1.3165,19:1.0717,20:.729,21:.7287,22:.8152,23:.3216},"c-score":.4246954330909555,rating:1.5,location:{latitude:40.7185542,longitude:-73.976023},last_updated:1690632e3},{id:"P108237827",name:"Wallenberg Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1506,"taxi-zone":120,precinct:34,"b-score":{0:-.7408,1:-.7749,2:-.816,3:-.8012,4:-.8403,5:-.8955,6:-.8773,7:-.8957,8:-.8236,9:-.8412,10:-.8494,11:-.8367,12:-.8183,13:-.8166,14:-.8198,15:-.7922,16:-.7873,17:-.767,18:-.7817,19:-.7748,20:-.7733,21:-.782,22:-.7529,23:-.7657},"c-score":.5172056384742952,rating:1.5,location:{latitude:40.8529616,longitude:-73.9267854},last_updated:1690632e3},{id:"P108237828",name:"Jackie Robinson Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1282,"taxi-zone":116,precinct:30,"b-score":{0:.3612,1:.4433,2:.1235,3:-.5187,4:-.6599,5:-.8703,6:-.8888,7:-.8564,8:-.7934,9:-.4795,10:-.491,11:-.3591,12:-.2077,13:-.1631,14:-.1111,15:-.1022,16:-.0829,17:-.0016,18:-.1615,19:-.053,20:-.0872,21:-.0771,22:-.0967,23:-.0342},"c-score":.3465445209848195,rating:1.5,location:{latitude:40.8267343,longitude:-73.9412148},last_updated:1690632e3},{id:"P108239585",name:"Jacob H. Schiff Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1052,"taxi-zone":152,precinct:30,"b-score":{0:.8361,1:1.062,2:.692,3:.179,4:-.4312,5:-.8239,6:-.8541,7:-.8398,8:-.815,9:-.6308,10:-.535,11:-.4683,12:-.2637,13:-.2219,14:-.2279,15:-.2198,16:-.2391,17:-.2688,18:-.2747,19:.0306,20:.0195,21:.0156,22:.0042,23:.2292},"c-score":.3465445209848195,rating:1.5,location:{latitude:40.8205186,longitude:-73.9520188},last_updated:1690632e3},{id:"P108239586",name:"Montefiore Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1052,"taxi-zone":152,precinct:30,"b-score":{0:.8361,1:1.062,2:.692,3:.179,4:-.4312,5:-.8239,6:-.8541,7:-.8398,8:-.815,9:-.6308,10:-.535,11:-.4683,12:-.2637,13:-.2219,14:-.2279,15:-.2198,16:-.2391,17:-.2688,18:-.2747,19:.0306,20:.0195,21:.0156,22:.0042,23:.2292},"c-score":.3465445209848195,rating:1.5,location:{latitude:40.8214533,longitude:-73.9535643},last_updated:1690632e3},{id:"P108239588",name:"Alexander Hamilton Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1094,"taxi-zone":116,precinct:30,"b-score":{0:.3612,1:.4433,2:.1235,3:-.5187,4:-.6599,5:-.8703,6:-.8888,7:-.8564,8:-.7934,9:-.4795,10:-.491,11:-.3591,12:-.2077,13:-.1631,14:-.1111,15:-.1022,16:-.0829,17:-.0016,18:-.1615,19:-.053,20:-.0872,21:-.0771,22:-.0967,23:-.0342},"c-score":.35367683841920955,rating:1.5,location:{latitude:40.8230955,longitude:-73.9512438},last_updated:1690632e3},{id:"P108239589",name:"Saint Nicholas Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1144,"taxi-zone":152,precinct:26,"b-score":{0:.8361,1:1.062,2:.692,3:.179,4:-.4312,5:-.8239,6:-.8541,7:-.8398,8:-.815,9:-.6308,10:-.535,11:-.4683,12:-.2637,13:-.2219,14:-.2279,15:-.2198,16:-.2391,17:-.2688,18:-.2747,19:.0306,20:.0195,21:.0156,22:.0042,23:.2292},"c-score":.261656461283327,rating:1.5,location:{latitude:40.8172175,longitude:-73.9489593},last_updated:1690632e3},{id:"P109267278",name:"Coenties Slip",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":99,"taxi-zone":88,precinct:1,"b-score":{0:-.775,1:-.7818,2:-.8142,3:-.8635,4:-.8934,5:-.8419,6:-.8184,7:-.8076,8:-.7388,9:-.75,10:-.6844,11:-.6202,12:-.6121,13:-.6131,14:-.5978,15:-.565,16:-.5741,17:-.5716,18:-.5625,19:-.6999,20:-.7918,21:-.7606,22:-.7391,23:-.7684},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7034804,longitude:-74.01053},last_updated:1690632e3},{id:"P109269750",name:"Grand Army Plaza",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":697,"taxi-zone":163,precinct:18,"b-score":{0:.1068,1:-.2516,2:-.4372,3:-.6195,4:-.7153,5:-.7831,6:-.653,7:-.4614,8:-.3339,9:.2447,10:.4272,11:.8983,12:.9221,13:1.185,14:1.2914,15:1.2043,16:1.2501,17:1.2516,18:1.1856,19:.9816,20:.4222,21:.2189,22:.1658,23:-.0735},"c-score":.7263601862482459,rating:1.5,location:{latitude:40.764415,longitude:-73.9733608},last_updated:1690632e3},{id:"P109328312",name:"Joseph C. Sauer Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":614,"taxi-zone":79,precinct:9,"b-score":{0:-.3898,1:-.5314,2:-.6771,3:-.734,4:-.7957,5:-.8216,6:-.7358,7:-.5903,8:-.6486,9:-.4502,10:-.3853,11:-.3708,12:-.3483,13:-.338,14:-.3277,15:-.3244,16:-.3196,17:-.3226,18:-.3263,19:-.3657,20:-.4744,21:-.4767,22:-.4772,23:-.4424},"c-score":.48990623804056643,rating:1.5,location:{latitude:40.7281595,longitude:-73.9797195},last_updated:1690632e3},{id:"P109330342",name:"James Madison Plaza",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":239,"taxi-zone":45,precinct:5,"b-score":{0:-.5927,1:-.7684,2:-.8298,3:-.8614,4:-.8876,5:-.889,6:-.8218,7:-.7387,8:-.5042,9:-.1543,10:.2104,11:.4356,12:.6807,13:.8113,14:.9919,15:1.0256,16:.8695,17:.3703,18:.2006,19:-.1239,20:-.3119,21:-.3644,22:-.3147,23:-.4728},"c-score":.37779850746268656,rating:1.5,location:{latitude:40.7114325,longitude:-74.0003718},last_updated:1690632e3},{id:"P109441961",name:"Titanic Memorial Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":166,"taxi-zone":209,precinct:1,"b-score":{0:-.7493,1:-.7692,2:-.8116,3:-.8353,4:-.8827,5:-.9059,6:-.9018,7:-.8897,8:-.8705,9:-.854,10:-.8202,11:-.7693,12:-.7368,13:-.7391,14:-.7218,15:-.7283,16:-.7242,17:-.6618,18:-.6514,19:-.7074,20:-.714,21:-.7277,22:-.7002,23:-.7587},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7075392,longitude:-74.0036904},last_updated:1690632e3},{id:"P109447376",name:"Louise Nevelson Plaza",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":131,"taxi-zone":87,precinct:1,"b-score":{0:-.3851,1:-.3856,2:-.5767,3:-.6066,4:-.7688,5:-.8846,6:-.8926,7:-.8387,8:-.7832,9:-.65,10:-.6128,11:-.5744,12:-.3038,13:-.2715,14:-.2636,15:-.2663,16:-.2525,17:-.1971,18:-.1478,19:-.306,20:-.338,21:-.3179,22:-.2315,23:-.2871},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7076565,longitude:-74.0079164},last_updated:1690632e3},{id:"P111563947",name:"Peretz Square",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":429,"taxi-zone":79,precinct:9,"b-score":{0:-.3898,1:-.5314,2:-.6771,3:-.734,4:-.7957,5:-.8216,6:-.7358,7:-.5903,8:-.6486,9:-.4502,10:-.3853,11:-.3708,12:-.3483,13:-.338,14:-.3277,15:-.3244,16:-.3196,17:-.3226,18:-.3263,19:-.3657,20:-.4744,21:-.4767,22:-.4772,23:-.4424},"c-score":.48990623804056643,rating:1.5,location:{latitude:40.7229342,longitude:-73.9878534},last_updated:1690632e3},{id:"P112692313",name:"Bowling Green",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":39,"taxi-zone":261,precinct:1,"b-score":{0:.9803,1:.9928,2:.8513,3:.0442,4:-.4866,5:-.8342,6:-.8637,7:-.8199,8:-.6732,9:-.5087,10:-.1948,11:.1383,12:.5899,13:.6124,14:.6322,15:.5958,16:.6814,17:.8964,18:1.0106,19:.829,20:.8119,21:.7809,22:.7309,23:.749},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7050354,longitude:-74.0136629},last_updated:1690632e3},{id:"P113690621",name:"Marsh & McLennan Public Space",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":549,"taxi-zone":161,precinct:18,"b-score":{0:.3676,1:-.1567,2:-.639,3:-.7362,4:-.7929,5:-.7992,6:-.6472,7:-.6036,8:-.0323,9:.2311,10:.8787,11:1.599,12:1.9494,13:2.0898,14:2.2007,15:2.1453,16:2.1655,17:2.1245,18:2.0703,19:1.7062,20:.7502,21:.7323,22:.5601,23:.1546},"c-score":.7263601862482459,rating:1.5,location:{latitude:40.75669,longitude:-73.9815898},last_updated:1690632e3},{id:"P113723738",name:"Straus Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":779,"taxi-zone":24,precinct:24,"b-score":{0:-.6779,1:-.7426,2:-.8273,3:-.8301,4:-.8961,5:-.9074,6:-.9034,7:-.8254,8:-.7325,9:-.5072,10:-.3906,11:-.348,12:-.3286,13:-.3019,14:-.1936,15:-.2082,16:-.2291,17:-.2463,18:-.2734,19:-.4311,20:-.5473,21:-.6244,22:-.7195,23:-.7388},"c-score":.4165709911978569,rating:1.5,location:{latitude:40.8018962,longitude:-73.9682115},last_updated:1690632e3},{id:"P117994215",name:"Samuel N. Bennerson 2nd Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":445,"taxi-zone":143,precinct:20,"b-score":{0:.0904,1:-.3338,2:-.4521,3:-.6738,4:-.8199,5:-.8197,6:-.7316,7:-.5154,8:-.2717,9:.0766,10:.6357,11:1.0712,12:1.3224,13:1.3059,14:1.418,15:1.4295,16:1.401,17:1.3636,18:1.4066,19:1.8073,20:1.0748,21:1.0806,22:1.03,23:.6188},"c-score":.36388569970659523,rating:1.5,location:{latitude:40.7738043,longitude:-73.9869758},last_updated:1690632e3},{id:"P117994217",name:"Damrosch Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":446,"taxi-zone":142,precinct:20,"b-score":{0:.5915,1:.1131,2:-.2938,3:-.5893,4:-.6815,5:-.7788,6:-.6814,7:-.5915,8:-.3179,9:.0434,10:.6977,11:.8754,12:1.3868,13:1.404,14:1.4016,15:1.4167,16:1.4379,17:1.5911,18:1.6434,19:1.4374,20:1.3909,21:1.2744,22:1.3672,23:.7122},"c-score":.36388569970659523,rating:1.5,location:{latitude:40.7723209,longitude:-73.9850051},last_updated:1690632e3},{id:"P118116798",name:"Pier 84",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":210,"taxi-zone":50,precinct:18,"b-score":{0:-.1921,1:-.2761,2:-.3915,3:-.5599,4:-.728,5:-.8857,6:-.8564,7:-.714,8:-.6495,9:-.3848,10:-.3377,11:-.3103,12:-.2306,13:-.2193,14:-.2005,15:-.2442,16:-.2688,17:-.1647,18:-.1585,19:-.1025,20:-.056,21:-.2193,22:-.2575,23:-.2582},"c-score":.7263601862482459,rating:1.5,location:{latitude:40.7637561,longitude:-74.0013936},last_updated:1690632e3},{id:"P118116802",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:"yes",opening_hours:"07:00-22:00","grid-id":401,"taxi-zone":143,precinct:20,"b-score":{0:.0904,1:-.3338,2:-.4521,3:-.6738,4:-.8199,5:-.8197,6:-.7316,7:-.5154,8:-.2717,9:.0766,10:.6357,11:1.0712,12:1.3224,13:1.3059,14:1.418,15:1.4295,16:1.401,17:1.3636,18:1.4066,19:1.8073,20:1.0748,21:1.0806,22:1.03,23:.6188},"c-score":.36388569970659523,rating:1.5,location:{latitude:40.7746717,longitude:-73.9889625},last_updated:1690632e3},{id:"P118505053",name:"Clinton Cove",type:"park",address:null,internet_access:null,wheelchair_accessible:"yes",opening_hours:null,"grid-id":282,"taxi-zone":50,precinct:18,"b-score":{0:-.1921,1:-.2761,2:-.3915,3:-.5599,4:-.728,5:-.8857,6:-.8564,7:-.714,8:-.6495,9:-.3848,10:-.3377,11:-.3103,12:-.2306,13:-.2193,14:-.2005,15:-.2442,16:-.2688,17:-.1647,18:-.1585,19:-.1025,20:-.056,21:-.2193,22:-.2575,23:-.2582},"c-score":.7263601862482459,rating:1.5,location:{latitude:40.7706616,longitude:-73.9954545},last_updated:1690632e3},{id:"P118524658",name:"Johnny Hartman Plaza",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1140,"taxi-zone":116,precinct:30,"b-score":{0:.3612,1:.4433,2:.1235,3:-.5187,4:-.6599,5:-.8703,6:-.8888,7:-.8564,8:-.7934,9:-.4795,10:-.491,11:-.3591,12:-.2077,13:-.1631,14:-.1111,15:-.1022,16:-.0829,17:-.0016,18:-.1615,19:-.053,20:-.0872,21:-.0771,22:-.0967,23:-.0342},"c-score":.3465445209848195,rating:1.5,location:{latitude:40.8241497,longitude:-73.9486126},last_updated:1690632e3},{id:"P118524659",name:"Courtney Callender Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1291,"taxi-zone":42,precinct:32,"b-score":{0:-.7381,1:-.7566,2:-.8443,3:-.8596,4:-.8882,5:-.9017,6:-.9092,7:-.9085,8:-.8873,9:-.8492,10:-.8078,11:-.7804,12:-.7296,13:-.7359,14:-.7416,15:-.7395,16:-.729,17:-.6895,18:-.6729,19:-.7354,20:-.7296,21:-.7796,22:-.8063,23:-.8003},"c-score":.5270044010715652,rating:1.5,location:{latitude:40.8100335,longitude:-73.9400997},last_updated:1690632e3},{id:"P118524660",name:"Alice Kornegay Triangle",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1382,"taxi-zone":74,precinct:25,"b-score":{0:2.4036,1:2.458,2:2.3076,3:1.2452,4:-.1525,5:-.7166,6:-.7352,7:-.7103,8:-.5884,9:-.1672,10:.0045,11:.0984,12:.6495,13:.7599,14:.7919,15:.8037,16:.8682,17:.8714,18:1.2236,19:1.2707,20:1.2374,21:1.2536,22:1.2914,23:1.0704},"c-score":.6253268911851002,rating:1.5,location:{latitude:40.8064189,longitude:-73.9353004},last_updated:1690632e3},{id:"P118524662",name:"Colonel Charles Young Triangle",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1370,"taxi-zone":42,precinct:32,"b-score":{0:-.7381,1:-.7566,2:-.8443,3:-.8596,4:-.8882,5:-.9017,6:-.9092,7:-.9085,8:-.8873,9:-.8492,10:-.8078,11:-.7804,12:-.7296,13:-.7359,14:-.7416,15:-.7395,16:-.729,17:-.6895,18:-.6729,19:-.7354,20:-.7296,21:-.7796,22:-.8063,23:-.8003},"c-score":.5270044010715652,rating:1.5,location:{latitude:40.8272244,longitude:-73.9358637},last_updated:1690632e3},{id:"P118524664",name:"Renaissance Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1285,"taxi-zone":42,precinct:32,"b-score":{0:-.7381,1:-.7566,2:-.8443,3:-.8596,4:-.8882,5:-.9017,6:-.9092,7:-.9085,8:-.8873,9:-.8492,10:-.8078,11:-.7804,12:-.7296,13:-.7359,14:-.7416,15:-.7395,16:-.729,17:-.6895,18:-.6729,19:-.7354,20:-.7296,21:-.7796,22:-.8063,23:-.8003},"c-score":.5270044010715652,rating:1.5,location:{latitude:40.8212878,longitude:-73.9413653},last_updated:1690632e3},{id:"P118524667",name:"Harlem Lane Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1371,"taxi-zone":42,precinct:32,"b-score":{0:-.7381,1:-.7566,2:-.8443,3:-.8596,4:-.8882,5:-.9017,6:-.9092,7:-.9085,8:-.8873,9:-.8492,10:-.8078,11:-.7804,12:-.7296,13:-.7359,14:-.7416,15:-.7395,16:-.729,17:-.6895,18:-.6729,19:-.7354,20:-.7296,21:-.7796,22:-.8063,23:-.8003},"c-score":.5270044010715652,rating:1.5,location:{latitude:40.8259868,longitude:-73.9349482},last_updated:1690632e3},{id:"P118524668",name:"Howard Bennett Playground",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1333,"taxi-zone":42,precinct:32,"b-score":{0:-.7381,1:-.7566,2:-.8443,3:-.8596,4:-.8882,5:-.9017,6:-.9092,7:-.9085,8:-.8873,9:-.8492,10:-.8078,11:-.7804,12:-.7296,13:-.7359,14:-.7416,15:-.7395,16:-.729,17:-.6895,18:-.6729,19:-.7354,20:-.7296,21:-.7796,22:-.8063,23:-.8003},"c-score":.5270044010715652,rating:1.5,location:{latitude:40.8136382,longitude:-73.9386348},last_updated:1690632e3},{id:"P118524669",name:"Moore Playground",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1335,"taxi-zone":42,precinct:25,"b-score":{0:-.7381,1:-.7566,2:-.8443,3:-.8596,4:-.8882,5:-.9017,6:-.9092,7:-.9085,8:-.8873,9:-.8492,10:-.8078,11:-.7804,12:-.7296,13:-.7359,14:-.7416,15:-.7395,16:-.729,17:-.6895,18:-.6729,19:-.7354,20:-.7296,21:-.7796,22:-.8063,23:-.8003},"c-score":.6253268911851002,rating:1.5,location:{latitude:40.8094037,longitude:-73.938501},last_updated:1690632e3},{id:"P118524671",name:"Colonel Charles Young Playground",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1375,"taxi-zone":42,precinct:32,"b-score":{0:-.7381,1:-.7566,2:-.8443,3:-.8596,4:-.8882,5:-.9017,6:-.9092,7:-.9085,8:-.8873,9:-.8492,10:-.8078,11:-.7804,12:-.7296,13:-.7359,14:-.7416,15:-.7395,16:-.729,17:-.6895,18:-.6729,19:-.7354,20:-.7296,21:-.7796,22:-.8063,23:-.8003},"c-score":.5270044010715652,rating:1.5,location:{latitude:40.8191237,longitude:-73.935624},last_updated:1690632e3},{id:"P118524675",name:"Riverside Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1047,"taxi-zone":116,precinct:30,"b-score":{0:.3612,1:.4433,2:.1235,3:-.5187,4:-.6599,5:-.8703,6:-.8888,7:-.8564,8:-.7934,9:-.4795,10:-.491,11:-.3591,12:-.2077,13:-.1631,14:-.1111,15:-.1022,16:-.0829,17:-.0016,18:-.1615,19:-.053,20:-.0872,21:-.0771,22:-.0967,23:-.0342},"c-score":.3465445209848195,rating:1.5,location:{latitude:40.8290212,longitude:-73.953451},last_updated:1690632e3},{id:"P118524677",name:"Frederick Johnson Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1372,"taxi-zone":42,precinct:32,"b-score":{0:-.7381,1:-.7566,2:-.8443,3:-.8596,4:-.8882,5:-.9017,6:-.9092,7:-.9085,8:-.8873,9:-.8492,10:-.8078,11:-.7804,12:-.7296,13:-.7359,14:-.7416,15:-.7395,16:-.729,17:-.6895,18:-.6729,19:-.7354,20:-.7296,21:-.7796,22:-.8063,23:-.8003},"c-score":.5270044010715652,rating:1.5,location:{latitude:40.8247169,longitude:-73.9355292},last_updated:1690632e3},{id:"P118524678",name:"Abraham Lincoln Playground",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1379,"taxi-zone":74,precinct:25,"b-score":{0:2.4036,1:2.458,2:2.3076,3:1.2452,4:-.1525,5:-.7166,6:-.7352,7:-.7103,8:-.5884,9:-.1672,10:.0045,11:.0984,12:.6495,13:.7599,14:.7919,15:.8037,16:.8682,17:.8714,18:1.2236,19:1.2707,20:1.2374,21:1.2536,22:1.2914,23:1.0704},"c-score":.6253268911851002,rating:1.5,location:{latitude:40.812198,longitude:-73.9371517},last_updated:1690632e3},{id:"P118524689",name:"Holcombe Rucker Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1369,"taxi-zone":42,precinct:32,"b-score":{0:-.7381,1:-.7566,2:-.8443,3:-.8596,4:-.8882,5:-.9017,6:-.9092,7:-.9085,8:-.8873,9:-.8492,10:-.8078,11:-.7804,12:-.7296,13:-.7359,14:-.7416,15:-.7395,16:-.729,17:-.6895,18:-.6729,19:-.7354,20:-.7296,21:-.7796,22:-.8063,23:-.8003},"c-score":.5270044010715652,rating:1.5,location:{latitude:40.829198,longitude:-73.9361184},last_updated:1690632e3},{id:"P118524694",name:"Riverbank State Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:"sunrise-sunset","grid-id":967,"taxi-zone":116,precinct:30,"b-score":{0:.3612,1:.4433,2:.1235,3:-.5187,4:-.6599,5:-.8703,6:-.8888,7:-.8564,8:-.7934,9:-.4795,10:-.491,11:-.3591,12:-.2077,13:-.1631,14:-.1111,15:-.1022,16:-.0829,17:-.0016,18:-.1615,19:-.053,20:-.0872,21:-.0771,22:-.0967,23:-.0342},"c-score":.3465445209848195,rating:1.5,location:{latitude:40.8254269,longitude:-73.9565197},last_updated:1690632e3},{id:"P118524697",name:"Crack Is Wack Playground",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1459,"taxi-zone":74,precinct:25,"b-score":{0:2.4036,1:2.458,2:2.3076,3:1.2452,4:-.1525,5:-.7166,6:-.7352,7:-.7103,8:-.5884,9:-.1672,10:.0045,11:.0984,12:.6495,13:.7599,14:.7919,15:.8037,16:.8682,17:.8714,18:1.2236,19:1.2707,20:1.2374,21:1.2536,22:1.2914,23:1.0704},"c-score":.6253268911851002,rating:1.5,location:{latitude:40.8044855,longitude:-73.9317785},last_updated:1690632e3},{id:"P118524700",name:"Harlem River Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1428,"taxi-zone":74,precinct:25,"b-score":{0:2.4036,1:2.458,2:2.3076,3:1.2452,4:-.1525,5:-.7166,6:-.7352,7:-.7103,8:-.5884,9:-.1672,10:.0045,11:.0984,12:.6495,13:.7599,14:.7919,15:.8037,16:.8682,17:.8714,18:1.2236,19:1.2707,20:1.2374,21:1.2536,22:1.2914,23:1.0704},"c-score":.6253268911851002,rating:1.5,location:{latitude:40.8059758,longitude:-73.9336626},last_updated:1690632e3},{id:"P118524701",name:"Bradhurst Urban Renewal Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1284,"taxi-zone":42,precinct:32,"b-score":{0:-.7381,1:-.7566,2:-.8443,3:-.8596,4:-.8882,5:-.9017,6:-.9092,7:-.9085,8:-.8873,9:-.8492,10:-.8078,11:-.7804,12:-.7296,13:-.7359,14:-.7416,15:-.7395,16:-.729,17:-.6895,18:-.6729,19:-.7354,20:-.7296,21:-.7796,22:-.8063,23:-.8003},"c-score":.5270044010715652,rating:1.5,location:{latitude:40.8226795,longitude:-73.9400884},last_updated:1690632e3},{id:"P118524706",name:"Convent Garden",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1233,"taxi-zone":116,precinct:30,"b-score":{0:.3612,1:.4433,2:.1235,3:-.5187,4:-.6599,5:-.8703,6:-.8888,7:-.8564,8:-.7934,9:-.4795,10:-.491,11:-.3591,12:-.2077,13:-.1631,14:-.1111,15:-.1022,16:-.0829,17:-.0016,18:-.1615,19:-.053,20:-.0872,21:-.0771,22:-.0967,23:-.0342},"c-score":.3465445209848195,rating:1.5,location:{latitude:40.828365,longitude:-73.9427004},last_updated:1690632e3},{id:"P118528233",name:"Sakura Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":892,"taxi-zone":166,precinct:26,"b-score":{0:.5469,1:.3328,2:-.2377,3:-.4102,4:-.6459,5:-.7721,6:-.6737,7:-.4812,8:-.212,9:.0698,10:.5153,11:1.0142,12:1.123,13:1.111,14:1.1364,15:1.1603,16:1.1727,17:1.3626,18:1.3584,19:1.3906,20:1.2467,21:1.0089,22:.9032,23:.5912},"c-score":.261656461283327,rating:1.5,location:{latitude:40.8130779,longitude:-73.962112},last_updated:1690632e3},{id:"P118528235",name:"West Harlem Piers Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":930,"taxi-zone":152,precinct:26,"b-score":{0:.8361,1:1.062,2:.692,3:.179,4:-.4312,5:-.8239,6:-.8541,7:-.8398,8:-.815,9:-.6308,10:-.535,11:-.4683,12:-.2637,13:-.2219,14:-.2279,15:-.2198,16:-.2391,17:-.2688,18:-.2747,19:.0306,20:.0195,21:.0156,22:.0042,23:.2292},"c-score":.261656461283327,rating:1.5,location:{latitude:40.8191647,longitude:-73.9611293},last_updated:1690632e3},{id:"P118528587",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":627,"taxi-zone":238,precinct:24,"b-score":{0:.0611,1:-.3082,2:-.6116,3:-.7091,4:-.8606,5:-.7964,6:-.7117,7:-.5432,8:-.0988,9:.4766,10:.997,11:1.2366,12:1.5453,13:1.5132,14:1.4811,15:1.4786,16:1.4833,17:1.5029,18:1.5087,19:1.2499,20:1.0204,21:.9019,22:.7599,23:.213},"c-score":.4165709911978569,rating:1.5,location:{latitude:40.7972777,longitude:-73.9768346},last_updated:1690632e3},{id:"P118529212",name:"Inwood Hill Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1513,"taxi-zone":128,precinct:34,"b-score":{0:-.9073,1:-.948,2:-.9727,3:-.9228,4:-.8822,5:-.9029,6:-.9046,7:-.9051,8:-.9174,9:-.9171,10:-.9178,11:-.9176,12:-.9174,13:-.918,14:-.918,15:-.9181,16:-.9174,17:-.9129,18:-.914,19:-.916,20:-.916,21:-.916,22:-.9165,23:-.9167},"c-score":.5172056384742952,rating:1.5,location:{latitude:40.8722547,longitude:-73.9253479},last_updated:1690632e3},{id:"P124814434",name:"Bogardus Plaza",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":92,"taxi-zone":231,precinct:1,"b-score":{0:-.09,1:-.0902,2:-.2901,3:-.4622,4:-.7305,5:-.8522,6:-.8524,7:-.7972,8:-.7214,9:-.4915,10:-.216,11:-.1204,12:-.0998,13:-.0967,14:-.0941,15:-.1014,16:-.0736,17:-.0027,18:-.0041,19:.0718,20:.1184,21:-.2476,22:-.2995,23:-.4414},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7159015,longitude:-74.0092316},last_updated:1690632e3},{id:"P129700421",name:"Wagner Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":7,"taxi-zone":13,precinct:1,"b-score":{0:-.9089,1:-.9068,2:-.9191,3:-.9239,4:-.9205,5:-.9097,6:-.9057,7:-.804,8:-.8465,9:-.8435,10:-.841,11:-.8312,12:-.8229,13:-.8102,14:-.8134,15:-.8256,16:-.8587,17:-.8428,18:-.8574,19:-.8969,20:-.9111,21:-.9137,22:-.9138,23:-.9128},"c-score":.613287728026534,rating:1.5,location:{latitude:40.705538,longitude:-74.0183661},last_updated:1690632e3},{id:"P129700423",name:"South Cove Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":6,"taxi-zone":13,precinct:1,"b-score":{0:-.9089,1:-.9068,2:-.9191,3:-.9239,4:-.9205,5:-.9097,6:-.9057,7:-.804,8:-.8465,9:-.8435,10:-.841,11:-.8312,12:-.8229,13:-.8102,14:-.8134,15:-.8256,16:-.8587,17:-.8428,18:-.8574,19:-.8969,20:-.9111,21:-.9137,22:-.9138,23:-.9128},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7073325,longitude:-74.0184369},last_updated:1690632e3},{id:"P129700430",name:"The Esplanade",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":16,"taxi-zone":13,precinct:1,"b-score":{0:-.9089,1:-.9068,2:-.9191,3:-.9239,4:-.9205,5:-.9097,6:-.9057,7:-.804,8:-.8465,9:-.8435,10:-.841,11:-.8312,12:-.8229,13:-.8102,14:-.8134,15:-.8256,16:-.8587,17:-.8428,18:-.8574,19:-.8969,20:-.9111,21:-.9137,22:-.9138,23:-.9128},"c-score":.613287728026534,rating:1.5,location:{latitude:40.711556,longitude:-74.0171986},last_updated:1690632e3},{id:"P144333814",name:"Joseph Slifka Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":709,"taxi-zone":233,precinct:17,"b-score":{0:-.6189,1:-.6534,2:-.734,3:-.7561,4:-.8508,5:-.895,6:-.9024,7:-.8917,8:-.8623,9:-.8527,10:-.8049,11:-.7306,12:-.7002,13:-.6831,14:-.6726,15:-.6615,16:-.6795,17:-.6523,18:-.622,19:-.6549,20:-.4822,21:-.6785,22:-.6838,23:-.693},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.743948,longitude:-73.9729184},last_updated:1690632e3},{id:"P147035202",name:"Duane Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"Mo-Su 06:00-01:00","grid-id":92,"taxi-zone":231,precinct:1,"b-score":{0:-.09,1:-.0902,2:-.2901,3:-.4622,4:-.7305,5:-.8522,6:-.8524,7:-.7972,8:-.7214,9:-.4915,10:-.216,11:-.1204,12:-.0998,13:-.0967,14:-.0941,15:-.1014,16:-.0736,17:-.0027,18:-.0041,19:.0718,20:.1184,21:-.2476,22:-.2995,23:-.4414},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7171562,longitude:-74.0094215},last_updated:1690632e3},{id:"P147475917",name:"Hamilton Fish Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":569,"taxi-zone":232,precinct:7,"b-score":{0:-.0101,1:-.2586,2:-.4595,3:-.6366,4:-.7178,5:-.8234,6:-.7615,7:-.5908,8:-.2441,9:.2197,10:.9609,11:1.1704,12:1.3301,13:1.4039,14:1.5865,15:1.5356,16:1.6014,17:1.5288,18:1.3165,19:1.0717,20:.729,21:.7287,22:.8152,23:.3216},"c-score":.4246954330909555,rating:1.5,location:{latitude:40.7197929,longitude:-73.9808332},last_updated:1690632e3},{id:"P154416663",name:"Dante Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":492,"taxi-zone":142,precinct:20,"b-score":{0:.5915,1:.1131,2:-.2938,3:-.5893,4:-.6815,5:-.7788,6:-.6814,7:-.5915,8:-.3179,9:.0434,10:.6977,11:.8754,12:1.3868,13:1.404,14:1.4016,15:1.4167,16:1.4379,17:1.5911,18:1.6434,19:1.4374,20:1.3909,21:1.2744,22:1.3672,23:.7122},"c-score":.36388569970659523,rating:1.5,location:{latitude:40.77192,longitude:-73.9825711},last_updated:1690632e3},{id:"P154416666",name:"Richard Tucker Square",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":539,"taxi-zone":142,precinct:20,"b-score":{0:.5915,1:.1131,2:-.2938,3:-.5893,4:-.6815,5:-.7788,6:-.6814,7:-.5915,8:-.3179,9:.0434,10:.6977,11:.8754,12:1.3868,13:1.404,14:1.4016,15:1.4167,16:1.4379,17:1.5911,18:1.6434,19:1.4374,20:1.3909,21:1.2744,22:1.3672,23:.7122},"c-score":.36388569970659523,rating:1.5,location:{latitude:40.7734422,longitude:-73.9818886},last_updated:1690632e3},{id:"P159028631",name:"Channel Gardens",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":598,"taxi-zone":161,precinct:18,"b-score":{0:.3676,1:-.1567,2:-.639,3:-.7362,4:-.7929,5:-.7992,6:-.6472,7:-.6036,8:-.0323,9:.2311,10:.8787,11:1.599,12:1.9494,13:2.0898,14:2.2007,15:2.1453,16:2.1655,17:2.1245,18:2.0703,19:1.7062,20:.7502,21:.7323,22:.5601,23:.1546},"c-score":.7263601862482459,rating:1.5,location:{latitude:40.758446,longitude:-73.9779564},last_updated:1690632e3},{id:"P160903868",name:"McKinley Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":473,"taxi-zone":79,precinct:9,"b-score":{0:-.3898,1:-.5314,2:-.6771,3:-.734,4:-.7957,5:-.8216,6:-.7358,7:-.5903,8:-.6486,9:-.4502,10:-.3853,11:-.3708,12:-.3483,13:-.338,14:-.3277,15:-.3244,16:-.3196,17:-.3226,18:-.3263,19:-.3657,20:-.4744,21:-.4767,22:-.4772,23:-.4424},"c-score":.48990623804056643,rating:1.5,location:{latitude:40.7242531,longitude:-73.9857747},last_updated:1690632e3},{id:"P169483357",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":289,"taxi-zone":48,precinct:10,"b-score":{0:1.6209,1:1.3061,2:.6258,3:.449,4:-.1349,5:-.5792,6:-.4443,7:-.4044,8:-.16,9:.1841,10:.5942,11:.6798,12:1.1502,13:1.2675,14:1.3064,15:1.2979,16:1.3817,17:1.2487,18:1.4097,19:1.4029,20:.9014,21:.9575,22:.9703,23:.8383},"c-score":.35804152315346344,rating:1.5,location:{latitude:40.7572689,longitude:-73.9947724},last_updated:1690632e3},{id:"P171562481",name:"Father Demo Square",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":190,"taxi-zone":249,precinct:6,"b-score":{0:-.1399,1:-.168,2:-.1642,3:-.2269,4:-.6106,5:-.8308,6:-.7813,7:-.8103,8:-.6165,9:-.31,10:.0026,11:.2152,12:.4999,13:.625,14:.7015,15:.6524,16:.6481,17:.7281,18:.8623,19:.6684,20:.1348,21:-.1386,22:-.1678,23:-.1439},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.7302244,longitude:-74.0021376},last_updated:1690632e3},{id:"P171805412",name:"Luther Gulick Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":571,"taxi-zone":232,precinct:7,"b-score":{0:-.0101,1:-.2586,2:-.4595,3:-.6366,4:-.7178,5:-.8234,6:-.7615,7:-.5908,8:-.2441,9:.2197,10:.9609,11:1.1704,12:1.3301,13:1.4039,14:1.5865,15:1.5356,16:1.6014,17:1.5288,18:1.3165,19:1.0717,20:.729,21:.7287,22:.8152,23:.3216},"c-score":.4246954330909555,rating:1.5,location:{latitude:40.7158754,longitude:-73.9818757},last_updated:1690632e3},{id:"P177068788",name:"Laurie M. Tisch Illumination Lawn",type:"park",address:null,internet_access:null,wheelchair_accessible:"no",opening_hours:null,"grid-id":491,"taxi-zone":142,precinct:20,"b-score":{0:.5915,1:.1131,2:-.2938,3:-.5893,4:-.6815,5:-.7788,6:-.6814,7:-.5915,8:-.3179,9:.0434,10:.6977,11:.8754,12:1.3868,13:1.404,14:1.4016,15:1.4167,16:1.4379,17:1.5911,18:1.6434,19:1.4374,20:1.3909,21:1.2744,22:1.3672,23:.7122},"c-score":.3771885942971485,rating:1.5,location:{latitude:40.7733857,longitude:-73.9835496},last_updated:1690632e3},{id:"P178575123",name:"Riverside Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":816,"taxi-zone":166,precinct:26,"b-score":{0:.5469,1:.3328,2:-.2377,3:-.4102,4:-.6459,5:-.7721,6:-.6737,7:-.4812,8:-.212,9:.0698,10:.5153,11:1.0142,12:1.123,13:1.111,14:1.1364,15:1.1603,16:1.1727,17:1.3626,18:1.3584,19:1.3906,20:1.2467,21:1.0089,22:.9032,23:.5912},"c-score":.45122561280640316,rating:1.5,location:{latitude:40.8068603,longitude:-73.9680684},last_updated:1690632e3},{id:"P194212578",name:"Tecumseh Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":585,"taxi-zone":239,precinct:20,"b-score":{0:-.2639,1:-.3235,2:-.5379,3:-.6642,4:-.7299,5:-.8469,6:-.7538,7:-.4309,8:-.2028,9:.0648,10:.4253,11:.6805,12:.7773,13:.8794,14:.6825,15:.6152,16:.6779,17:.6576,18:.6479,19:.5243,20:.1852,21:.2095,22:.2172,23:-.0248},"c-score":.36388569970659523,rating:1.5,location:{latitude:40.7818184,longitude:-73.9785715},last_updated:1690632e3},{id:"P197064614",name:"James J Walker Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":119,"taxi-zone":249,precinct:6,"b-score":{0:-.1399,1:-.168,2:-.1642,3:-.2269,4:-.6106,5:-.8308,6:-.7813,7:-.8103,8:-.6165,9:-.31,10:.0026,11:.2152,12:.4999,13:.625,14:.7015,15:.6524,16:.6481,17:.7281,18:.8623,19:.6684,20:.1348,21:-.1386,22:-.1678,23:-.1439},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.7298088,longitude:-74.0061054},last_updated:1690632e3},{id:"P197066133",name:"Pier 45",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":52,"taxi-zone":158,precinct:6,"b-score":{0:-.0331,1:-.0885,2:-.4373,3:-.6203,4:-.8113,5:-.907,6:-.8924,7:-.8754,8:-.8388,9:-.7256,10:-.4591,11:-.3962,12:-.2597,13:-.2194,14:-.2219,15:-.2267,16:-.2621,17:-.2744,18:-.1191,19:-.0803,20:-.0854,21:-.3046,22:-.3203,23:-.3896},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.7331785,longitude:-74.0124101},last_updated:1690632e3},{id:"P199925533",name:"Marcus Garvey Memorial Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1246,"taxi-zone":74,precinct:25,"b-score":{0:2.4036,1:2.458,2:2.3076,3:1.2452,4:-.1525,5:-.7166,6:-.7352,7:-.7103,8:-.5884,9:-.1672,10:.0045,11:.0984,12:.6495,13:.7599,14:.7919,15:.8037,16:.8682,17:.8714,18:1.2236,19:1.2707,20:1.2374,21:1.2536,22:1.2914,23:1.0704},"c-score":.9999999999999999,rating:1.5,location:{latitude:40.8044864,longitude:-73.9436727},last_updated:1690632e3},{id:"P201158183",name:"Irish Hunger Memorial",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":14,"taxi-zone":13,precinct:1,"b-score":{0:-.9089,1:-.9068,2:-.9191,3:-.9239,4:-.9205,5:-.9097,6:-.9057,7:-.804,8:-.8465,9:-.8435,10:-.841,11:-.8312,12:-.8229,13:-.8102,14:-.8134,15:-.8256,16:-.8587,17:-.8428,18:-.8574,19:-.8969,20:-.9111,21:-.9137,22:-.9138,23:-.9128},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7151544,longitude:-74.0165528},last_updated:1690632e3},{id:"P208360494",name:"The Queen Elizabeth II September 11th Garden",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":98,"taxi-zone":87,precinct:1,"b-score":{0:-.3851,1:-.3856,2:-.5767,3:-.6066,4:-.7688,5:-.8846,6:-.8926,7:-.8387,8:-.7832,9:-.65,10:-.6128,11:-.5744,12:-.3038,13:-.2715,14:-.2636,15:-.2663,16:-.2525,17:-.1971,18:-.1478,19:-.306,20:-.338,21:-.3179,22:-.2315,23:-.2871},"c-score":.9999999999999999,rating:1.5,location:{latitude:40.704797,longitude:-74.0093346},last_updated:1690632e3},{id:"P217722093",name:"J. Hood Wright Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1271,"taxi-zone":244,precinct:33,"b-score":{0:-.7873,1:-.7798,2:-.8279,3:-.8722,4:-.883,5:-.9031,6:-.9038,7:-.9049,8:-.8805,9:-.8918,10:-.8876,11:-.8813,12:-.8771,13:-.8588,14:-.8593,15:-.8585,16:-.8602,17:-.8419,18:-.8338,19:-.8,20:-.8236,21:-.8319,22:-.8066,23:-.807},"c-score":.3926999617298125,rating:1.5,location:{latitude:40.8464722,longitude:-73.941255},last_updated:1690632e3},{id:"P218327131",name:"Verizon Plaza",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":456,"taxi-zone":100,precinct:14,"b-score":{0:-.6458,1:-.6558,2:-.5696,3:-.7847,4:-.8535,5:-.8991,6:-.9067,7:-.8935,8:-.8547,9:-.8158,10:-.6947,11:-.6167,12:-.5891,13:-.5861,14:-.5783,15:-.5783,16:-.5642,17:-.5677,18:-.5693,19:-.6553,20:-.6426,21:-.6305,22:-.5927,23:-.6651},"c-score":1,rating:1.5,location:{latitude:40.7548157,longitude:-73.9851583},last_updated:1690632e3},{id:"P219612698",name:"Finn Square",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":125,"taxi-zone":231,precinct:1,"b-score":{0:-.09,1:-.0902,2:-.2901,3:-.4622,4:-.7305,5:-.8522,6:-.8524,7:-.7972,8:-.7214,9:-.4915,10:-.216,11:-.1204,12:-.0998,13:-.0967,14:-.0941,15:-.1014,16:-.0736,17:-.0027,18:-.0041,19:.0718,20:.1184,21:-.2476,22:-.2995,23:-.4414},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7186426,longitude:-74.0068689},last_updated:1690632e3},{id:"P221922480",name:"Riverside Park South",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":357,"taxi-zone":143,precinct:20,"b-score":{0:.0904,1:-.3338,2:-.4521,3:-.6738,4:-.8199,5:-.8197,6:-.7316,7:-.5154,8:-.2717,9:.0766,10:.6357,11:1.0712,12:1.3224,13:1.3059,14:1.418,15:1.4295,16:1.401,17:1.3636,18:1.4066,19:1.8073,20:1.0748,21:1.0806,22:1.03,23:.6188},"c-score":.36388569970659523,rating:1.5,location:{latitude:40.7772231,longitude:-73.9905567},last_updated:1690632e3},{id:"P224028029",name:"132nd Street Block Association Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1242,"taxi-zone":42,precinct:32,"b-score":{0:-.7381,1:-.7566,2:-.8443,3:-.8596,4:-.8882,5:-.9017,6:-.9092,7:-.9085,8:-.8873,9:-.8492,10:-.8078,11:-.7804,12:-.7296,13:-.7359,14:-.7416,15:-.7395,16:-.729,17:-.6895,18:-.6729,19:-.7354,20:-.7296,21:-.7796,22:-.8063,23:-.8003},"c-score":.5270044010715652,rating:1.5,location:{latitude:40.8123187,longitude:-73.943153},last_updated:1690632e3},{id:"P224029303",name:"Rev. Linnette C Williamson Memorial Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1243,"taxi-zone":42,precinct:32,"b-score":{0:-.7381,1:-.7566,2:-.8443,3:-.8596,4:-.8882,5:-.9017,6:-.9092,7:-.9085,8:-.8873,9:-.8492,10:-.8078,11:-.7804,12:-.7296,13:-.7359,14:-.7416,15:-.7395,16:-.729,17:-.6895,18:-.6729,19:-.7354,20:-.7296,21:-.7796,22:-.8063,23:-.8003},"c-score":.5270044010715652,rating:1.5,location:{latitude:40.8094612,longitude:-73.9429209},last_updated:1690632e3},{id:"P224031776",name:"Collyer Brothers Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1292,"taxi-zone":42,precinct:32,"b-score":{0:-.7381,1:-.7566,2:-.8443,3:-.8596,4:-.8882,5:-.9017,6:-.9092,7:-.9085,8:-.8873,9:-.8492,10:-.8078,11:-.7804,12:-.7296,13:-.7359,14:-.7416,15:-.7395,16:-.729,17:-.6895,18:-.6729,19:-.7354,20:-.7296,21:-.7796,22:-.8063,23:-.8003},"c-score":.5302651325662832,rating:1.5,location:{latitude:40.8085313,longitude:-73.9410487},last_updated:1690632e3},{id:"P224034804",name:"A Philip Randolph Square",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1061,"taxi-zone":41,precinct:28,"b-score":{0:-.5467,1:-.6687,2:-.7213,3:-.7644,4:-.8395,5:-.8816,6:-.867,7:-.8128,8:-.774,9:-.6996,10:-.6052,11:-.5765,12:-.5787,13:-.5717,14:-.5695,15:-.5482,16:-.5688,17:-.4659,18:-.4888,19:-.5181,20:-.5658,21:-.5862,22:-.5937,23:-.6115},"c-score":.4653256155121827,rating:1.5,location:{latitude:40.8038286,longitude:-73.952422},last_updated:1690632e3},{id:"P225132539",name:"Dr. Ronald E. McNair Playground",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1339,"taxi-zone":74,precinct:25,"b-score":{0:2.4036,1:2.458,2:2.3076,3:1.2452,4:-.1525,5:-.7166,6:-.7352,7:-.7103,8:-.5884,9:-.1672,10:.0045,11:.0984,12:.6495,13:.7599,14:.7919,15:.8037,16:.8682,17:.8714,18:1.2236,19:1.2707,20:1.2374,21:1.2536,22:1.2914,23:1.0704},"c-score":.6253268911851002,rating:1.5,location:{latitude:40.8025387,longitude:-73.9381332},last_updated:1690632e3},{id:"P225134048",name:"Dream Street Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1384,"taxi-zone":74,precinct:25,"b-score":{0:2.4036,1:2.458,2:2.3076,3:1.2452,4:-.1525,5:-.7166,6:-.7352,7:-.7103,8:-.5884,9:-.1672,10:.0045,11:.0984,12:.6495,13:.7599,14:.7919,15:.8037,16:.8682,17:.8714,18:1.2236,19:1.2707,20:1.2374,21:1.2536,22:1.2914,23:1.0704},"c-score":.6253268911851002,rating:1.5,location:{latitude:40.8027407,longitude:-73.9350402},last_updated:1690632e3},{id:"P225134049",name:"Harlem Art Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1340,"taxi-zone":74,precinct:25,"b-score":{0:2.4036,1:2.458,2:2.3076,3:1.2452,4:-.1525,5:-.7166,6:-.7352,7:-.7103,8:-.5884,9:-.1672,10:.0045,11:.0984,12:.6495,13:.7599,14:.7919,15:.8037,16:.8682,17:.8714,18:1.2236,19:1.2707,20:1.2374,21:1.2536,22:1.2914,23:1.0704},"c-score":.8834417208604302,rating:1.5,location:{latitude:40.8010442,longitude:-73.9388073},last_updated:1690632e3},{id:"P225135028",name:"Wagner Houses Pool",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1431,"taxi-zone":74,precinct:25,"b-score":{0:2.4036,1:2.458,2:2.3076,3:1.2452,4:-.1525,5:-.7166,6:-.7352,7:-.7103,8:-.5884,9:-.1672,10:.0045,11:.0984,12:.6495,13:.7599,14:.7919,15:.8037,16:.8682,17:.8714,18:1.2236,19:1.2707,20:1.2374,21:1.2536,22:1.2914,23:1.0704},"c-score":.6253268911851002,rating:1.5,location:{latitude:40.8016837,longitude:-73.9325907},last_updated:1690632e3},{id:"P225143097",name:"Martin Luther King Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1106,"taxi-zone":41,precinct:28,"b-score":{0:-.5467,1:-.6687,2:-.7213,3:-.7644,4:-.8395,5:-.8816,6:-.867,7:-.8128,8:-.774,9:-.6996,10:-.6052,11:-.5765,12:-.5787,13:-.5717,14:-.5695,15:-.5482,16:-.5688,17:-.4659,18:-.4888,19:-.5181,20:-.5658,21:-.5862,22:-.5937,23:-.6115},"c-score":.4653256155121827,rating:1.5,location:{latitude:40.8002087,longitude:-73.9503857},last_updated:1690632e3},{id:"P225159200",name:"Hancock Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1058,"taxi-zone":41,precinct:28,"b-score":{0:-.5467,1:-.6687,2:-.7213,3:-.7644,4:-.8395,5:-.8816,6:-.867,7:-.8128,8:-.774,9:-.6996,10:-.6052,11:-.5765,12:-.5787,13:-.5717,14:-.5695,15:-.5482,16:-.5688,17:-.4659,18:-.4888,19:-.5181,20:-.5658,21:-.5862,22:-.5937,23:-.6115},"c-score":.4653256155121827,rating:1.5,location:{latitude:40.8095436,longitude:-73.9532979},last_updated:1690632e3},{id:"P225171034",name:"Peter Minuit Playground",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1156,"taxi-zone":75,precinct:23,"b-score":{0:-.6452,1:-.6769,2:-.7371,3:-.7477,4:-.7949,5:-.8489,6:-.785,7:-.7482,8:-.6689,9:-.6366,10:-.5959,11:-.5891,12:-.5974,13:-.6023,14:-.5147,15:-.5192,16:-.5393,17:-.5427,18:-.5643,19:-.6038,20:-.6189,21:-.664,22:-.6308,23:-.6397},"c-score":.5149971297359357,rating:1.5,location:{latitude:40.7947722,longitude:-73.9472299},last_updated:1690632e3},{id:"P225173496",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1428,"taxi-zone":74,precinct:25,"b-score":{0:2.4036,1:2.458,2:2.3076,3:1.2452,4:-.1525,5:-.7166,6:-.7352,7:-.7103,8:-.5884,9:-.1672,10:.0045,11:.0984,12:.6495,13:.7599,14:.7919,15:.8037,16:.8682,17:.8714,18:1.2236,19:1.2707,20:1.2374,21:1.2536,22:1.2914,23:1.0704},"c-score":.6253268911851002,rating:1.5,location:{latitude:40.8063252,longitude:-73.9344249},last_updated:1690632e3},{id:"P225173571",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1427,"taxi-zone":74,precinct:25,"b-score":{0:2.4036,1:2.458,2:2.3076,3:1.2452,4:-.1525,5:-.7166,6:-.7352,7:-.7103,8:-.5884,9:-.1672,10:.0045,11:.0984,12:.6495,13:.7599,14:.7919,15:.8037,16:.8682,17:.8714,18:1.2236,19:1.2707,20:1.2374,21:1.2536,22:1.2914,23:1.0704},"c-score":.6253268911851002,rating:1.5,location:{latitude:40.8078192,longitude:-73.9346167},last_updated:1690632e3},{id:"P225173572",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1382,"taxi-zone":74,precinct:25,"b-score":{0:2.4036,1:2.458,2:2.3076,3:1.2452,4:-.1525,5:-.7166,6:-.7352,7:-.7103,8:-.5884,9:-.1672,10:.0045,11:.0984,12:.6495,13:.7599,14:.7919,15:.8037,16:.8682,17:.8714,18:1.2236,19:1.2707,20:1.2374,21:1.2536,22:1.2914,23:1.0704},"c-score":.6253268911851002,rating:1.5,location:{latitude:40.8069688,longitude:-73.9353248},last_updated:1690632e3},{id:"P225173799",name:"Each One Teach One",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1428,"taxi-zone":74,precinct:25,"b-score":{0:2.4036,1:2.458,2:2.3076,3:1.2452,4:-.1525,5:-.7166,6:-.7352,7:-.7103,8:-.5884,9:-.1672,10:.0045,11:.0984,12:.6495,13:.7599,14:.7919,15:.8037,16:.8682,17:.8714,18:1.2236,19:1.2707,20:1.2374,21:1.2536,22:1.2914,23:1.0704},"c-score":.6253268911851002,rating:1.5,location:{latitude:40.8071736,longitude:-73.9345657},last_updated:1690632e3},{id:"P225188061",name:"Mae Grant Playground",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1111,"taxi-zone":75,precinct:23,"b-score":{0:-.6452,1:-.6769,2:-.7371,3:-.7477,4:-.7949,5:-.8489,6:-.785,7:-.7482,8:-.6689,9:-.6366,10:-.5959,11:-.5891,12:-.5974,13:-.6023,14:-.5147,15:-.5192,16:-.5393,17:-.5427,18:-.5643,19:-.6038,20:-.6189,21:-.664,22:-.6308,23:-.6397},"c-score":.5149971297359357,rating:1.5,location:{latitude:40.7924257,longitude:-73.9494365},last_updated:1690632e3},{id:"P225188879",name:"Sunshine Playground",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1160,"taxi-zone":75,precinct:23,"b-score":{0:-.6452,1:-.6769,2:-.7371,3:-.7477,4:-.7949,5:-.8489,6:-.785,7:-.7482,8:-.6689,9:-.6366,10:-.5959,11:-.5891,12:-.5974,13:-.6023,14:-.5147,15:-.5192,16:-.5393,17:-.5427,18:-.5643,19:-.6038,20:-.6189,21:-.664,22:-.6308,23:-.6397},"c-score":.5149971297359357,rating:1.5,location:{latitude:40.7884898,longitude:-73.9478109},last_updated:1690632e3},{id:"P225188968",name:"Cherry Tree Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1161,"taxi-zone":75,precinct:23,"b-score":{0:-.6452,1:-.6769,2:-.7371,3:-.7477,4:-.7949,5:-.8489,6:-.785,7:-.7482,8:-.6689,9:-.6366,10:-.5959,11:-.5891,12:-.5974,13:-.6023,14:-.5147,15:-.5192,16:-.5393,17:-.5427,18:-.5643,19:-.6038,20:-.6189,21:-.664,22:-.6308,23:-.6397},"c-score":.5149971297359357,rating:1.5,location:{latitude:40.7872445,longitude:-73.9471949},last_updated:1690632e3},{id:"P225189359",name:"White Playground",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1205,"taxi-zone":75,precinct:23,"b-score":{0:-.6452,1:-.6769,2:-.7371,3:-.7477,4:-.7949,5:-.8489,6:-.785,7:-.7482,8:-.6689,9:-.6366,10:-.5959,11:-.5891,12:-.5974,13:-.6023,14:-.5147,15:-.5192,16:-.5393,17:-.5427,18:-.5643,19:-.6038,20:-.6189,21:-.664,22:-.6308,23:-.6397},"c-score":.5149971297359357,rating:1.5,location:{latitude:40.7916462,longitude:-73.9458897},last_updated:1690632e3},{id:"P225189391",name:"103rd Street Community Garden",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1159,"taxi-zone":75,precinct:23,"b-score":{0:-.6452,1:-.6769,2:-.7371,3:-.7477,4:-.7949,5:-.8489,6:-.785,7:-.7482,8:-.6689,9:-.6366,10:-.5959,11:-.5891,12:-.5974,13:-.6023,14:-.5147,15:-.5192,16:-.5393,17:-.5427,18:-.5643,19:-.6038,20:-.6189,21:-.664,22:-.6308,23:-.6397},"c-score":.5149971297359357,rating:1.5,location:{latitude:40.7909291,longitude:-73.9486547},last_updated:1690632e3},{id:"P225189513",name:"Poor Richard's Playground",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1253,"taxi-zone":75,precinct:23,"b-score":{0:-.6452,1:-.6769,2:-.7371,3:-.7477,4:-.7949,5:-.8489,6:-.785,7:-.7482,8:-.6689,9:-.6366,10:-.5959,11:-.5891,12:-.5974,13:-.6023,14:-.5147,15:-.5192,16:-.5393,17:-.5427,18:-.5643,19:-.6038,20:-.6189,21:-.664,22:-.6308,23:-.6397},"c-score":.5149971297359357,rating:1.5,location:{latitude:40.7926185,longitude:-73.9426331},last_updated:1690632e3},{id:"P225190178",name:"Marx Brothers Playground",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1209,"taxi-zone":75,precinct:23,"b-score":{0:-.6452,1:-.6769,2:-.7371,3:-.7477,4:-.7949,5:-.8489,6:-.785,7:-.7482,8:-.6689,9:-.6366,10:-.5959,11:-.5891,12:-.5974,13:-.6023,14:-.5147,15:-.5192,16:-.5393,17:-.5427,18:-.5643,19:-.6038,20:-.6189,21:-.664,22:-.6308,23:-.6397},"c-score":.5149971297359357,rating:1.5,location:{latitude:40.7842492,longitude:-73.9459882},last_updated:1690632e3},{id:"P225190195",name:"Stanley Isaacs Courts",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1258,"taxi-zone":75,precinct:23,"b-score":{0:-.6452,1:-.6769,2:-.7371,3:-.7477,4:-.7949,5:-.8489,6:-.785,7:-.7482,8:-.6689,9:-.6366,10:-.5959,11:-.5891,12:-.5974,13:-.6023,14:-.5147,15:-.5192,16:-.5393,17:-.5427,18:-.5643,19:-.6038,20:-.6189,21:-.664,22:-.6308,23:-.6397},"c-score":.5149971297359357,rating:1.5,location:{latitude:40.7834698,longitude:-73.9441011},last_updated:1690632e3},{id:"P225190397",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1257,"taxi-zone":75,precinct:23,"b-score":{0:-.6452,1:-.6769,2:-.7371,3:-.7477,4:-.7949,5:-.8489,6:-.785,7:-.7482,8:-.6689,9:-.6366,10:-.5959,11:-.5891,12:-.5974,13:-.6023,14:-.5147,15:-.5192,16:-.5393,17:-.5427,18:-.5643,19:-.6038,20:-.6189,21:-.664,22:-.6308,23:-.6397},"c-score":.5149971297359357,rating:1.5,location:{latitude:40.7853549,longitude:-73.9427366},last_updated:1690632e3},{id:"P225190636",name:"Playground 103",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1348,"taxi-zone":75,precinct:23,"b-score":{0:-.6452,1:-.6769,2:-.7371,3:-.7477,4:-.7949,5:-.8489,6:-.785,7:-.7482,8:-.6689,9:-.6366,10:-.5959,11:-.5891,12:-.5974,13:-.6023,14:-.5147,15:-.5192,16:-.5393,17:-.5427,18:-.5643,19:-.6038,20:-.6189,21:-.664,22:-.6308,23:-.6397},"c-score":.5149971297359357,rating:1.5,location:{latitude:40.7869524,longitude:-73.9390245},last_updated:1690632e3},{id:"P225190643",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1346,"taxi-zone":75,precinct:23,"b-score":{0:-.6452,1:-.6769,2:-.7371,3:-.7477,4:-.7949,5:-.8489,6:-.785,7:-.7482,8:-.6689,9:-.6366,10:-.5959,11:-.5891,12:-.5974,13:-.6023,14:-.5147,15:-.5192,16:-.5393,17:-.5427,18:-.5643,19:-.6038,20:-.6189,21:-.664,22:-.6308,23:-.6397},"c-score":.5149971297359357,rating:1.5,location:{latitude:40.7893497,longitude:-73.9382443},last_updated:1690632e3},{id:"P225191605",name:"Harlem River Drive Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1423,"taxi-zone":74,precinct:25,"b-score":{0:2.4036,1:2.458,2:2.3076,3:1.2452,4:-.1525,5:-.7166,6:-.7352,7:-.7103,8:-.5884,9:-.1672,10:.0045,11:.0984,12:.6495,13:.7599,14:.7919,15:.8037,16:.8682,17:.8714,18:1.2236,19:1.2707,20:1.2374,21:1.2536,22:1.2914,23:1.0704},"c-score":.6253268911851002,rating:1.5,location:{latitude:40.8148592,longitude:-73.9343099},last_updated:1690632e3},{id:"P226010200",name:"Jacob K. Javits Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1353,"taxi-zone":243,precinct:34,"b-score":{0:.626,1:.2085,2:-.254,3:-.4226,4:-.6276,5:-.7516,6:-.6854,7:-.5511,8:-.2471,9:.0312,10:.245,11:.5866,12:.6658,13:.6465,14:.7483,15:.9222,16:.9676,17:1.0308,18:1.0704,19:1.0126,20:1.0274,21:1.0158,22:.9889,23:.4117},"c-score":.9639819909954978,rating:1.5,location:{latitude:40.8589557,longitude:-73.9349368},last_updated:1690632e3},{id:"P237054245",name:"Plaza de las Americas",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1315,"taxi-zone":244,precinct:33,"b-score":{0:-.7873,1:-.7798,2:-.8279,3:-.8722,4:-.883,5:-.9031,6:-.9038,7:-.9049,8:-.8805,9:-.8918,10:-.8876,11:-.8813,12:-.8771,13:-.8588,14:-.8593,15:-.8585,16:-.8602,17:-.8419,18:-.8338,19:-.8,20:-.8236,21:-.8319,22:-.8066,23:-.807},"c-score":.3926999617298125,rating:1.5,location:{latitude:40.8460987,longitude:-73.9381037},last_updated:1690632e3},{id:"P237397736",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":392,"taxi-zone":148,precinct:7,"b-score":{0:-.3022,1:-.6313,2:-.7019,3:-.7753,4:-.8361,5:-.888,6:-.836,7:-.8141,8:-.5703,9:-.4282,10:-.2246,11:-.1004,12:-.0054,13:.0198,14:.046,15:.0424,16:.0335,17:.0363,18:.0479,19:.0453,20:-.0841,21:-.1257,22:-.229,23:-.2397},"c-score":.4246954330909555,rating:1.5,location:{latitude:40.7145611,longitude:-73.9910703},last_updated:1690632e3},{id:"P239982768",name:"LentSpace",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":157,"taxi-zone":125,precinct:1,"b-score":{0:-.9346,1:-.9258,2:-.9644,3:-.9409,4:-.919,5:-.9029,6:-.9046,7:-.9059,8:-.9187,9:-.9183,10:-.918,11:-.918,12:-.9185,13:-.9185,14:-.9192,15:-.9198,16:-.9191,17:-.9133,18:-.9132,19:-.9131,20:-.9123,21:-.912,22:-.9112,23:-.9121},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7227168,longitude:-74.0057708},last_updated:1690632e3},{id:"P239988106",name:"Spring Street Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":156,"taxi-zone":125,precinct:6,"b-score":{0:-.9346,1:-.9258,2:-.9644,3:-.9409,4:-.919,5:-.9029,6:-.9046,7:-.9059,8:-.9187,9:-.9183,10:-.918,11:-.918,12:-.9185,13:-.9185,14:-.9192,15:-.9198,16:-.9191,17:-.9133,18:-.9132,19:-.9131,20:-.9123,21:-.912,22:-.9112,23:-.9121},"c-score":.5142571285642822,rating:1.5,location:{latitude:40.724913,longitude:-74.0044414},last_updated:1690632e3},{id:"P239988114",name:"Minetta Triangle",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":190,"taxi-zone":114,precinct:6,"b-score":{0:-.0785,1:-.2806,2:-.5265,3:-.6119,4:-.8139,5:-.8992,6:-.8765,7:-.8272,8:-.6969,9:-.5546,10:-.1937,11:-.0217,12:.1579,13:.1742,14:.174,15:.1217,16:.1327,17:.0659,18:.0738,19:.0437,20:-.0082,21:-.0128,22:-.1015,23:-.2122},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.7298853,longitude:-74.0018589},last_updated:1690632e3},{id:"P239988118",name:"Father Fagan Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":192,"taxi-zone":125,precinct:6,"b-score":{0:-.9346,1:-.9258,2:-.9644,3:-.9409,4:-.919,5:-.9029,6:-.9046,7:-.9059,8:-.9187,9:-.9183,10:-.918,11:-.918,12:-.9185,13:-.9185,14:-.9192,15:-.9198,16:-.9191,17:-.9133,18:-.9132,19:-.9131,20:-.9123,21:-.912,22:-.9112,23:-.9121},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.7267003,longitude:-74.0033094},last_updated:1690632e3},{id:"P239988120",name:"Jefferson Market Garden",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":226,"taxi-zone":249,precinct:6,"b-score":{0:-.1399,1:-.168,2:-.1642,3:-.2269,4:-.6106,5:-.8308,6:-.7813,7:-.8103,8:-.6165,9:-.31,10:.0026,11:.2152,12:.4999,13:.625,14:.7015,15:.6524,16:.6481,17:.7281,18:.8623,19:.6684,20:.1348,21:-.1386,22:-.1678,23:-.1439},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.7344325,longitude:-73.9995026},last_updated:1690632e3},{id:"P241883186",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":732,"taxi-zone":238,precinct:24,"b-score":{0:.0611,1:-.3082,2:-.6116,3:-.7091,4:-.8606,5:-.7964,6:-.7117,7:-.5432,8:-.0988,9:.4766,10:.997,11:1.2366,12:1.5453,13:1.5132,14:1.4811,15:1.4786,16:1.4833,17:1.5029,18:1.5087,19:1.2499,20:1.0204,21:.9019,22:.7599,23:.213},"c-score":.4165709911978569,rating:1.5,location:{latitude:40.7954341,longitude:-73.9721055},last_updated:1690632e3},{id:"P242113355",name:"Playground One",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":277,"taxi-zone":45,precinct:5,"b-score":{0:-.5927,1:-.7684,2:-.8298,3:-.8614,4:-.8876,5:-.889,6:-.8218,7:-.7387,8:-.5042,9:-.1543,10:.2104,11:.4356,12:.6807,13:.8113,14:.9919,15:1.0256,16:.8695,17:.3703,18:.2006,19:-.1239,20:-.3119,21:-.3644,22:-.3147,23:-.4728},"c-score":.37779850746268656,rating:1.5,location:{latitude:40.7122529,longitude:-73.9974005},last_updated:1690632e3},{id:"P244977216",name:"William E. Passannante Ballfield",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":191,"taxi-zone":114,precinct:6,"b-score":{0:-.0785,1:-.2806,2:-.5265,3:-.6119,4:-.8139,5:-.8992,6:-.8765,7:-.8272,8:-.6969,9:-.5546,10:-.1937,11:-.0217,12:.1579,13:.1742,14:.174,15:.1217,16:.1327,17:.0659,18:.0738,19:.0437,20:-.0082,21:-.0128,22:-.1015,23:-.2122},"c-score":.6358179089544772,rating:1.5,location:{latitude:40.728579,longitude:-74.0022425},last_updated:1690632e3},{id:"P244978444",name:"Winston Churchill Square",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":190,"taxi-zone":249,precinct:6,"b-score":{0:-.1399,1:-.168,2:-.1642,3:-.2269,4:-.6106,5:-.8308,6:-.7813,7:-.8103,8:-.6165,9:-.31,10:.0026,11:.2152,12:.4999,13:.625,14:.7015,15:.6524,16:.6481,17:.7281,18:.8623,19:.6684,20:.1348,21:-.1386,22:-.1678,23:-.1439},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.7298571,longitude:-74.0024499},last_updated:1690632e3},{id:"P246964616",name:"Booker T Washington Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":859,"taxi-zone":24,precinct:24,"b-score":{0:-.6779,1:-.7426,2:-.8273,3:-.8301,4:-.8961,5:-.9074,6:-.9034,7:-.8254,8:-.7325,9:-.5072,10:-.3906,11:-.348,12:-.3286,13:-.3019,14:-.1936,15:-.2082,16:-.2291,17:-.2463,18:-.2734,19:-.4311,20:-.5473,21:-.6244,22:-.7195,23:-.7388},"c-score":.4165709911978569,rating:1.5,location:{latitude:40.8009598,longitude:-73.9637796},last_updated:1690632e3},{id:"P249665058",name:"Playground of the Americas",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":192,"taxi-zone":125,precinct:6,"b-score":{0:-.9346,1:-.9258,2:-.9644,3:-.9409,4:-.919,5:-.9029,6:-.9046,7:-.9059,8:-.9187,9:-.9183,10:-.918,11:-.918,12:-.9185,13:-.9185,14:-.9192,15:-.9198,16:-.9191,17:-.9133,18:-.9132,19:-.9131,20:-.9123,21:-.912,22:-.9112,23:-.9121},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.728006,longitude:-74.0026728},last_updated:1690632e3},{id:"P250049345",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":59,"taxi-zone":231,precinct:1,"b-score":{0:-.09,1:-.0902,2:-.2901,3:-.4622,4:-.7305,5:-.8522,6:-.8524,7:-.7972,8:-.7214,9:-.4915,10:-.216,11:-.1204,12:-.0998,13:-.0967,14:-.0941,15:-.1014,16:-.0736,17:-.0027,18:-.0041,19:.0718,20:.1184,21:-.2476,22:-.2995,23:-.4414},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7195161,longitude:-74.0109504},last_updated:1690632e3},{id:"P250051493",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":60,"taxi-zone":231,precinct:1,"b-score":{0:-.09,1:-.0902,2:-.2901,3:-.4622,4:-.7305,5:-.8522,6:-.8524,7:-.7972,8:-.7214,9:-.4915,10:-.216,11:-.1204,12:-.0998,13:-.0967,14:-.0941,15:-.1014,16:-.0736,17:-.0027,18:-.0041,19:.0718,20:.1184,21:-.2476,22:-.2995,23:-.4414},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7178178,longitude:-74.0112569},last_updated:1690632e3},{id:"P250265505",name:"Hartman Triangle",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":569,"taxi-zone":4,precinct:9,"b-score":{0:-.58,1:-.5915,2:-.6072,3:-.7245,4:-.8336,5:-.9008,6:-.9071,7:-.8861,8:-.8865,9:-.8562,10:-.8406,11:-.8173,12:-.7824,13:-.7722,14:-.7748,15:-.7601,16:-.7447,17:-.7609,18:-.6471,19:-.6662,20:-.4045,21:-.6818,22:-.6885,23:-.7043},"c-score":.48990623804056643,rating:1.5,location:{latitude:40.7207559,longitude:-73.9806992},last_updated:1690632e3},{id:"P252823151",name:"Straus Square",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":392,"taxi-zone":232,precinct:7,"b-score":{0:-.0101,1:-.2586,2:-.4595,3:-.6366,4:-.7178,5:-.8234,6:-.7615,7:-.5908,8:-.2441,9:.2197,10:.9609,11:1.1704,12:1.3301,13:1.4039,14:1.5865,15:1.5356,16:1.6014,17:1.5288,18:1.3165,19:1.0717,20:.729,21:.7287,22:.8152,23:.3216},"c-score":.4246954330909555,rating:1.5,location:{latitude:40.7142374,longitude:-73.9899111},last_updated:1690632e3},{id:"P254594895",name:"Audubon Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1317,"taxi-zone":244,precinct:33,"b-score":{0:-.7873,1:-.7798,2:-.8279,3:-.8722,4:-.883,5:-.9031,6:-.9038,7:-.9049,8:-.8805,9:-.8918,10:-.8876,11:-.8813,12:-.8771,13:-.8588,14:-.8593,15:-.8585,16:-.8602,17:-.8419,18:-.8338,19:-.8,20:-.8236,21:-.8319,22:-.8066,23:-.807},"c-score":.3926999617298125,rating:1.5,location:{latitude:40.8416095,longitude:-73.9381178},last_updated:1690632e3},{id:"P257389723",name:"Twentyfour Sycamores Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1004,"taxi-zone":140,precinct:19,"b-score":{0:-.245,1:-.4326,2:-.5739,3:-.7133,4:-.7931,5:-.8396,6:-.6651,7:-.4528,8:-.3973,9:-.209,10:-.011,11:-.0164,12:.0501,13:.1044,14:.1215,15:.1333,16:.1343,17:.1119,18:.1138,19:.0306,20:-.0189,21:-.07,22:-.1431,23:-.3083},"c-score":.7237689756346473,rating:1.5,location:{latitude:40.7594475,longitude:-73.9586677},last_updated:1690632e3},{id:"P257671578",name:"Penn South Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":258,"taxi-zone":68,precinct:10,"b-score":{0:.692,1:.3224,2:.1742,3:-.2063,4:-.5379,5:-.7292,6:-.6039,7:-.5869,8:-.2987,9:.0825,10:.4821,11:.6963,12:1.0161,13:1.1247,14:1.1848,15:1.1717,16:1.192,17:1.1356,18:.6629,19:.6196,20:.8899,21:.8555,22:.6017,23:.4336},"c-score":.35804152315346344,rating:1.5,location:{latitude:40.7474929,longitude:-73.9987079},last_updated:1690632e3},{id:"P264003876",name:"Paley Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":700,"taxi-zone":161,precinct:18,"b-score":{0:.3676,1:-.1567,2:-.639,3:-.7362,4:-.7929,5:-.7992,6:-.6472,7:-.6036,8:-.0323,9:.2311,10:.8787,11:1.599,12:1.9494,13:2.0898,14:2.2007,15:2.1453,16:2.1655,17:2.1245,18:2.0703,19:1.7062,20:.7502,21:.7323,22:.5601,23:.1546},"c-score":.7263601862482459,rating:1.5,location:{latitude:40.7603437,longitude:-73.9750748},last_updated:1690632e3},{id:"P264851981",name:"Big Screen Plaza1",type:"park",address:null,internet_access:null,wheelchair_accessible:"yes",opening_hours:"06:00-23:59","grid-id":374,"taxi-zone":186,precinct:14,"b-score":{0:.5101,1:-.0394,2:-.2952,3:-.4946,4:-.6452,5:-.7305,6:-.3684,7:-.3812,8:-.1896,9:.8849,10:1.2963,11:1.2901,12:1.3232,13:1.2906,14:1.3371,15:1.1754,16:1.0285,17:.9586,18:1.0203,19:.9594,20:.8342,21:.5895,22:.3625,23:.4417},"c-score":1,rating:1.5,location:{latitude:40.7472248,longitude:-73.990373},last_updated:1690632e3},{id:"P266077859",name:"Hells Kitchen Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":325,"taxi-zone":48,precinct:18,"b-score":{0:1.6209,1:1.3061,2:.6258,3:.449,4:-.1349,5:-.5792,6:-.4443,7:-.4044,8:-.16,9:.1841,10:.5942,11:.6798,12:1.1502,13:1.2675,14:1.3064,15:1.2979,16:1.3817,17:1.2487,18:1.4097,19:1.4029,20:.9014,21:.9575,22:.9703,23:.8383},"c-score":.897448724362181,rating:1.5,location:{latitude:40.7629731,longitude:-73.9925633},last_updated:1690632e3},{id:"P266097823",name:"Matthews-Palmer Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":326,"taxi-zone":48,precinct:18,"b-score":{0:1.6209,1:1.3061,2:.6258,3:.449,4:-.1349,5:-.5792,6:-.4443,7:-.4044,8:-.16,9:.1841,10:.5942,11:.6798,12:1.1502,13:1.2675,14:1.3064,15:1.2979,16:1.3817,17:1.2487,18:1.4097,19:1.4029,20:.9014,21:.9575,22:.9703,23:.8383},"c-score":.9449724862431216,rating:1.5,location:{latitude:40.7613978,longitude:-73.9927341},last_updated:1690632e3},{id:"P266113539",name:"Ramone Aponte Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":408,"taxi-zone":48,precinct:18,"b-score":{0:1.6209,1:1.3061,2:.6258,3:.449,4:-.1349,5:-.5792,6:-.4443,7:-.4044,8:-.16,9:.1841,10:.5942,11:.6798,12:1.1502,13:1.2675,14:1.3064,15:1.2979,16:1.3817,17:1.2487,18:1.4097,19:1.4029,20:.9014,21:.9575,22:.9703,23:.8383},"c-score":.7263601862482459,rating:1.5,location:{latitude:40.7614489,longitude:-73.9893455},last_updated:1690632e3},{id:"P270791455",name:"Freeman Plaza West",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":122,"taxi-zone":125,precinct:1,"b-score":{0:-.9346,1:-.9258,2:-.9644,3:-.9409,4:-.919,5:-.9029,6:-.9046,7:-.9059,8:-.9187,9:-.9183,10:-.918,11:-.918,12:-.9185,13:-.9185,14:-.9192,15:-.9198,16:-.9191,17:-.9133,18:-.9132,19:-.9131,20:-.9123,21:-.912,22:-.9112,23:-.9121},"c-score":.9999999999999999,rating:1.5,location:{latitude:40.7242344,longitude:-74.0074749},last_updated:1690632e3},{id:"P281499420",name:"Lower East Side Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":516,"taxi-zone":79,precinct:9,"b-score":{0:-.3898,1:-.5314,2:-.6771,3:-.734,4:-.7957,5:-.8216,6:-.7358,7:-.5903,8:-.6486,9:-.4502,10:-.3853,11:-.3708,12:-.3483,13:-.338,14:-.3277,15:-.3244,16:-.3196,17:-.3226,18:-.3263,19:-.3657,20:-.4744,21:-.4767,22:-.4772,23:-.4424},"c-score":.48990623804056643,rating:1.5,location:{latitude:40.7293823,longitude:-73.9829156},last_updated:1690632e3},{id:"P287462475",name:"Bellevue South Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":608,"taxi-zone":137,precinct:13,"b-score":{0:-.6183,1:-.6592,2:-.7179,3:-.7449,4:-.8242,5:-.8691,6:-.7933,7:-.7556,8:-.6673,9:-.487,10:-.2685,11:-.2539,12:-.2236,13:-.2217,14:-.0767,15:-.0432,16:-.0397,17:-.0053,18:-.03,19:-.052,20:-.3444,21:-.3562,22:-.3804,23:-.496},"c-score":.6499952162265595,rating:1.5,location:{latitude:40.7400387,longitude:-73.9780496},last_updated:1690632e3},{id:"P292727035",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":164,"taxi-zone":209,precinct:1,"b-score":{0:-.7493,1:-.7692,2:-.8116,3:-.8353,4:-.8827,5:-.9059,6:-.9018,7:-.8897,8:-.8705,9:-.854,10:-.8202,11:-.7693,12:-.7368,13:-.7391,14:-.7218,15:-.7283,16:-.7242,17:-.6618,18:-.6514,19:-.7074,20:-.714,21:-.7277,22:-.7002,23:-.7587},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7111594,longitude:-74.0058691},last_updated:1690632e3},{id:"P293720019",name:"Balsley Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":449,"taxi-zone":48,precinct:18,"b-score":{0:1.6209,1:1.3061,2:.6258,3:.449,4:-.1349,5:-.5792,6:-.4443,7:-.4044,8:-.16,9:.1841,10:.5942,11:.6798,12:1.1502,13:1.2675,14:1.3064,15:1.2979,16:1.3817,17:1.2487,18:1.4097,19:1.4029,20:.9014,21:.9575,22:.9703,23:.8383},"c-score":.7263601862482459,rating:1.5,location:{latitude:40.7674642,longitude:-73.9856951},last_updated:1690632e3},{id:"P295969929",name:"St. Catherine's Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":960,"taxi-zone":141,precinct:19,"b-score":{0:-.0627,1:-.095,2:-.4173,3:-.5409,4:-.674,5:-.7961,6:-.6999,7:-.5611,8:-.5741,9:-.4472,10:-.3853,11:-.2821,12:-.2013,13:-.1837,14:-.166,15:-.115,16:-.0957,17:-.0604,18:.11,19:.2394,20:-.053,21:-.1887,22:-.181,23:.1036},"c-score":.7237689756346473,rating:1.5,location:{latitude:40.7652136,longitude:-73.9587494},last_updated:1690632e3},{id:"P304129981",name:"Montgomery Triangle Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":478,"taxi-zone":232,precinct:7,"b-score":{0:-.0101,1:-.2586,2:-.4595,3:-.6366,4:-.7178,5:-.8234,6:-.7615,7:-.5908,8:-.2441,9:.2197,10:.9609,11:1.1704,12:1.3301,13:1.4039,14:1.5865,15:1.5356,16:1.6014,17:1.5288,18:1.3165,19:1.0717,20:.729,21:.7287,22:.8152,23:.3216},"c-score":.4246954330909555,rating:1.5,location:{latitude:40.7142248,longitude:-73.9851113},last_updated:1690632e3},{id:"P317355661",name:"Henry M. Jackson Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":572,"taxi-zone":232,precinct:7,"b-score":{0:-.0101,1:-.2586,2:-.4595,3:-.6366,4:-.7178,5:-.8234,6:-.7615,7:-.5908,8:-.2441,9:.2197,10:.9609,11:1.1704,12:1.3301,13:1.4039,14:1.5865,15:1.5356,16:1.6014,17:1.5288,18:1.3165,19:1.0717,20:.729,21:.7287,22:.8152,23:.3216},"c-score":.4246954330909555,rating:1.5,location:{latitude:40.7139646,longitude:-73.981496},last_updated:1690632e3},{id:"P318328998",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":981,"taxi-zone":41,precinct:28,"b-score":{0:-.5467,1:-.6687,2:-.7213,3:-.7644,4:-.8395,5:-.8816,6:-.867,7:-.8128,8:-.774,9:-.6996,10:-.6052,11:-.5765,12:-.5787,13:-.5717,14:-.5695,15:-.5482,16:-.5688,17:-.4659,18:-.4888,19:-.5181,20:-.5658,21:-.5862,22:-.5937,23:-.6115},"c-score":.4653256155121827,rating:1.5,location:{latitude:40.8005903,longitude:-73.9581806},last_updated:1690632e3},{id:"P318329003",name:"Roosevelt Triangle",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1015,"taxi-zone":166,precinct:26,"b-score":{0:.5469,1:.3328,2:-.2377,3:-.4102,4:-.6459,5:-.7721,6:-.6737,7:-.4812,8:-.212,9:.0698,10:.5153,11:1.0142,12:1.123,13:1.111,14:1.1364,15:1.1603,16:1.1727,17:1.3626,18:1.3584,19:1.3906,20:1.2467,21:1.0089,22:.9032,23:.5912},"c-score":.261656461283327,rating:1.5,location:{latitude:40.8113293,longitude:-73.9544008},last_updated:1690632e3},{id:"P324750157",name:"First Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":429,"taxi-zone":79,precinct:9,"b-score":{0:-.3898,1:-.5314,2:-.6771,3:-.734,4:-.7957,5:-.8216,6:-.7358,7:-.5903,8:-.6486,9:-.4502,10:-.3853,11:-.3708,12:-.3483,13:-.338,14:-.3277,15:-.3244,16:-.3196,17:-.3226,18:-.3263,19:-.3657,20:-.4744,21:-.4767,22:-.4772,23:-.4424},"c-score":.48990623804056643,rating:1.5,location:{latitude:40.7234173,longitude:-73.9892626},last_updated:1690632e3},{id:"P324975287",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":199,"taxi-zone":45,precinct:5,"b-score":{0:-.5927,1:-.7684,2:-.8298,3:-.8614,4:-.8876,5:-.889,6:-.8218,7:-.7387,8:-.5042,9:-.1543,10:.2104,11:.4356,12:.6807,13:.8113,14:.9919,15:1.0256,16:.8695,17:.3703,18:.2006,19:-.1239,20:-.3119,21:-.3644,22:-.3147,23:-.4728},"c-score":.37779850746268656,rating:1.5,location:{latitude:40.714787,longitude:-74.001878},last_updated:1690632e3},{id:"P324975291",name:"Canal Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":87,"taxi-zone":231,precinct:1,"b-score":{0:-.09,1:-.0902,2:-.2901,3:-.4622,4:-.7305,5:-.8522,6:-.8524,7:-.7972,8:-.7214,9:-.4915,10:-.216,11:-.1204,12:-.0998,13:-.0967,14:-.0941,15:-.1014,16:-.0736,17:-.0027,18:-.0041,19:.0718,20:.1184,21:-.2476,22:-.2995,23:-.4414},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7254013,longitude:-74.0105312},last_updated:1690632e3},{id:"P325008929",name:"Alfred E. Smith Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":278,"taxi-zone":45,precinct:5,"b-score":{0:-.5927,1:-.7684,2:-.8298,3:-.8614,4:-.8876,5:-.889,6:-.8218,7:-.7387,8:-.5042,9:-.1543,10:.2104,11:.4356,12:.6807,13:.8113,14:.9919,15:1.0256,16:.8695,17:.3703,18:.2006,19:-.1239,20:-.3119,21:-.3644,22:-.3147,23:-.4728},"c-score":.37779850746268656,rating:1.5,location:{latitude:40.710613,longitude:-73.9974893},last_updated:1690632e3},{id:"P325008930",name:"Tanahey Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":315,"taxi-zone":45,precinct:5,"b-score":{0:-.5927,1:-.7684,2:-.8298,3:-.8614,4:-.8876,5:-.889,6:-.8218,7:-.7387,8:-.5042,9:-.1543,10:.2104,11:.4356,12:.6807,13:.8113,14:.9919,15:1.0256,16:.8695,17:.3703,18:.2006,19:-.1239,20:-.3119,21:-.3644,22:-.3147,23:-.4728},"c-score":.37779850746268656,rating:1.5,location:{latitude:40.7101263,longitude:-73.9953543},last_updated:1690632e3},{id:"P329041506",name:"Freeman Plaza East",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":122,"taxi-zone":125,precinct:1,"b-score":{0:-.9346,1:-.9258,2:-.9644,3:-.9409,4:-.919,5:-.9029,6:-.9046,7:-.9059,8:-.9187,9:-.9183,10:-.918,11:-.918,12:-.9185,13:-.9185,14:-.9192,15:-.9198,16:-.9191,17:-.9133,18:-.9132,19:-.9131,20:-.9123,21:-.912,22:-.9112,23:-.9121},"c-score":.9999999999999999,rating:1.5,location:{latitude:40.7240917,longitude:-74.0065116},last_updated:1690632e3},{id:"P329041537",name:"Freeman Plaza North",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":122,"taxi-zone":125,precinct:1,"b-score":{0:-.9346,1:-.9258,2:-.9644,3:-.9409,4:-.919,5:-.9029,6:-.9046,7:-.9059,8:-.9187,9:-.9183,10:-.918,11:-.918,12:-.9185,13:-.9185,14:-.9192,15:-.9198,16:-.9191,17:-.9133,18:-.9132,19:-.9131,20:-.9123,21:-.912,22:-.9112,23:-.9121},"c-score":.9999999999999999,rating:1.5,location:{latitude:40.7243541,longitude:-74.0065666},last_updated:1690632e3},{id:"P329988114",name:"Verdi Square",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":536,"taxi-zone":143,precinct:20,"b-score":{0:.0904,1:-.3338,2:-.4521,3:-.6738,4:-.8199,5:-.8197,6:-.7316,7:-.5154,8:-.2717,9:.0766,10:.6357,11:1.0712,12:1.3224,13:1.3059,14:1.418,15:1.4295,16:1.401,17:1.3636,18:1.4066,19:1.8073,20:1.0748,21:1.0806,22:1.03,23:.6188},"c-score":.36388569970659523,rating:1.5,location:{latitude:40.7791313,longitude:-73.9816274},last_updated:1690632e3},{id:"P334715965",name:"Poses Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":878,"taxi-zone":237,precinct:19,"b-score":{0:-.1462,1:-.3472,2:-.633,3:-.5592,4:-.8235,5:-.8458,6:-.773,7:-.4814,8:-.2062,9:.3293,10:.8747,11:1.0982,12:1.2921,13:1.3203,14:1.4098,15:1.3198,16:1.452,17:1.3222,18:1.3217,19:.9382,20:.5643,21:.5173,22:.4053,23:.2607},"c-score":.7237689756346473,rating:1.5,location:{latitude:40.7674465,longitude:-73.9635001},last_updated:1690632e3},{id:"P343765233",name:"Peter Detmold Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":885,"taxi-zone":229,precinct:17,"b-score":{0:.4267,1:-.0641,2:-.2763,3:-.4,4:-.6217,5:-.8009,6:-.7612,7:-.6576,8:-.4028,9:-.1078,10:.1339,11:.5163,12:.6032,13:.6709,14:.7171,15:.7195,16:.6965,17:.9066,18:.9537,19:1.012,20:.8581,21:.7901,22:.606,23:.2078},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7536627,longitude:-73.9635157},last_updated:1690632e3},{id:"P351201923",name:"Tramway Plaza",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":881,"taxi-zone":141,precinct:17,"b-score":{0:-.0627,1:-.095,2:-.4173,3:-.5409,4:-.674,5:-.7961,6:-.6999,7:-.5611,8:-.5741,9:-.4472,10:-.3853,11:-.2821,12:-.2013,13:-.1837,14:-.166,15:-.115,16:-.0957,17:-.0604,18:.11,19:.2394,20:-.053,21:-.1887,22:-.181,23:.1036},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7609599,longitude:-73.9644278},last_updated:1690632e3},{id:"P353000933",name:"Ruppert Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1117,"taxi-zone":263,precinct:19,"b-score":{0:-.3838,1:-.5189,2:-.7085,3:-.6905,4:-.7805,5:-.8464,6:-.7853,7:-.6987,8:-.474,9:-.2623,10:-.1636,11:-.1078,12:-.0847,13:-.0839,14:-.0895,15:-.1073,16:-.0703,17:-.0813,18:-.0686,19:-.1388,20:-.1786,21:-.1774,22:-.1058,23:-.2527},"c-score":.7237689756346473,rating:1.5,location:{latitude:40.7809662,longitude:-73.9501489},last_updated:1690632e3},{id:"P353133685",name:"Park Avenue Malls",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1071,"taxi-zone":75,precinct:23,"b-score":{0:-.6452,1:-.6769,2:-.7371,3:-.7477,4:-.7949,5:-.8489,6:-.785,7:-.7482,8:-.6689,9:-.6366,10:-.5959,11:-.5891,12:-.5974,13:-.6023,14:-.5147,15:-.5192,16:-.5393,17:-.5427,18:-.5643,19:-.6038,20:-.6189,21:-.664,22:-.6308,23:-.6397},"c-score":.5149971297359357,rating:1.5,location:{latitude:40.7869307,longitude:-73.9522659},last_updated:1690632e3},{id:"P357523569",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1182,"taxi-zone":244,precinct:33,"b-score":{0:-.7873,1:-.7798,2:-.8279,3:-.8722,4:-.883,5:-.9031,6:-.9038,7:-.9049,8:-.8805,9:-.8918,10:-.8876,11:-.8813,12:-.8771,13:-.8588,14:-.8593,15:-.8585,16:-.8602,17:-.8419,18:-.8338,19:-.8,20:-.8236,21:-.8319,22:-.8066,23:-.807},"c-score":.3926999617298125,rating:1.5,location:{latitude:40.8339778,longitude:-73.9452121},last_updated:1690632e3},{id:"P362684406",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1020,"taxi-zone":41,precinct:28,"b-score":{0:-.5467,1:-.6687,2:-.7213,3:-.7644,4:-.8395,5:-.8816,6:-.867,7:-.8128,8:-.774,9:-.6996,10:-.6052,11:-.5765,12:-.5787,13:-.5717,14:-.5695,15:-.5482,16:-.5688,17:-.4659,18:-.4888,19:-.5181,20:-.5658,21:-.5862,22:-.5937,23:-.6115},"c-score":.4653256155121827,rating:1.5,location:{latitude:40.8033166,longitude:-73.954381},last_updated:1690632e3},{id:"P362826160",name:"Harlem Valley Garden",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1240,"taxi-zone":42,precinct:32,"b-score":{0:-.7381,1:-.7566,2:-.8443,3:-.8596,4:-.8882,5:-.9017,6:-.9092,7:-.9085,8:-.8873,9:-.8492,10:-.8078,11:-.7804,12:-.7296,13:-.7359,14:-.7416,15:-.7395,16:-.729,17:-.6895,18:-.6729,19:-.7354,20:-.7296,21:-.7796,22:-.8063,23:-.8003},"c-score":.5270044010715652,rating:1.5,location:{latitude:40.8145685,longitude:-73.9435785},last_updated:1690632e3},{id:"P362827398",name:"Mandela Garden",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1101,"taxi-zone":42,precinct:28,"b-score":{0:-.7381,1:-.7566,2:-.8443,3:-.8596,4:-.8882,5:-.9017,6:-.9092,7:-.9085,8:-.8873,9:-.8492,10:-.8078,11:-.7804,12:-.7296,13:-.7359,14:-.7416,15:-.7395,16:-.729,17:-.6895,18:-.6729,19:-.7354,20:-.7296,21:-.7796,22:-.8063,23:-.8003},"c-score":.4653256155121827,rating:1.5,location:{latitude:40.8107974,longitude:-73.9499718},last_updated:1690632e3},{id:"P371120098",name:"Chealsea Green",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":298,"taxi-zone":90,precinct:13,"b-score":{0:.1465,1:.0543,2:-.3626,3:-.366,4:-.6994,5:-.7815,6:-.8363,7:-.7624,8:-.656,9:-.4362,10:-.228,11:-.0415,12:.1314,13:.1578,14:.3277,15:.302,16:.3146,17:.1479,18:.1451,19:.1428,20:.1629,21:.2118,22:.0094,23:.0291},"c-score":.6499952162265595,rating:1.5,location:{latitude:40.7415933,longitude:-73.9960607},last_updated:1690632e3},{id:"P372721441",name:"Teardrop Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":13,"taxi-zone":13,precinct:1,"b-score":{0:-.9089,1:-.9068,2:-.9191,3:-.9239,4:-.9205,5:-.9097,6:-.9057,7:-.804,8:-.8465,9:-.8435,10:-.841,11:-.8312,12:-.8229,13:-.8102,14:-.8134,15:-.8256,16:-.8587,17:-.8428,18:-.8574,19:-.8969,20:-.9111,21:-.9137,22:-.9138,23:-.9128},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7167736,longitude:-74.0156166},last_updated:1690632e3},{id:"P375369088",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"sunrise-sunset","grid-id":130,"taxi-zone":87,precinct:1,"b-score":{0:-.3851,1:-.3856,2:-.5767,3:-.6066,4:-.7688,5:-.8846,6:-.8926,7:-.8387,8:-.7832,9:-.65,10:-.6128,11:-.5744,12:-.3038,13:-.2715,14:-.2636,15:-.2663,16:-.2525,17:-.1971,18:-.1478,19:-.306,20:-.338,21:-.3179,22:-.2315,23:-.2871},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7090264,longitude:-74.0080705},last_updated:1690632e3},{id:"P375369089",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"sunrise-sunset","grid-id":130,"taxi-zone":87,precinct:1,"b-score":{0:-.3851,1:-.3856,2:-.5767,3:-.6066,4:-.7688,5:-.8846,6:-.8926,7:-.8387,8:-.7832,9:-.65,10:-.6128,11:-.5744,12:-.3038,13:-.2715,14:-.2636,15:-.2663,16:-.2525,17:-.1971,18:-.1478,19:-.306,20:-.338,21:-.3179,22:-.2315,23:-.2871},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7091468,longitude:-74.0082314},last_updated:1690632e3},{id:"P376015439",name:"CU SIPA Commons",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":936,"taxi-zone":166,precinct:26,"b-score":{0:.5469,1:.3328,2:-.2377,3:-.4102,4:-.6459,5:-.7721,6:-.6737,7:-.4812,8:-.212,9:.0698,10:.5153,11:1.0142,12:1.123,13:1.111,14:1.1364,15:1.1603,16:1.1727,17:1.3626,18:1.3584,19:1.3906,20:1.2467,21:1.0089,22:.9032,23:.5912},"c-score":.261656461283327,rating:1.5,location:{latitude:40.807298,longitude:-73.9599478},last_updated:1690632e3},{id:"P376015442",name:"CU SE Field",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":896,"taxi-zone":166,precinct:26,"b-score":{0:.5469,1:.3328,2:-.2377,3:-.4102,4:-.6459,5:-.7721,6:-.6737,7:-.4812,8:-.212,9:.0698,10:.5153,11:1.0142,12:1.123,13:1.111,14:1.1364,15:1.1603,16:1.1727,17:1.3626,18:1.3584,19:1.3906,20:1.2467,21:1.0089,22:.9032,23:.5912},"c-score":.261656461283327,rating:1.5,location:{latitude:40.806367,longitude:-73.9623446},last_updated:1690632e3},{id:"P378359193",name:"Vincent F. Albano Jr. Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:"Mar 2-Oct 31: Mo-Su 06:00-21:00; Nov 1-Mar 1: Mo-Su 06:00-18:00","grid-id":607,"taxi-zone":137,precinct:13,"b-score":{0:-.6183,1:-.6592,2:-.7179,3:-.7449,4:-.8242,5:-.8691,6:-.7933,7:-.7556,8:-.6673,9:-.487,10:-.2685,11:-.2539,12:-.2236,13:-.2217,14:-.0767,15:-.0432,16:-.0397,17:-.0053,18:-.03,19:-.052,20:-.3444,21:-.3562,22:-.3804,23:-.496},"c-score":.6499952162265595,rating:1.5,location:{latitude:40.7419438,longitude:-73.9783848},last_updated:1690632e3},{id:"P378364365",name:"Peter's Field",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":560,"taxi-zone":107,precinct:13,"b-score":{0:-.0083,1:-.3129,2:-.3845,3:-.6548,4:-.683,5:-.7342,6:-.7399,7:-.6503,8:-.6045,9:-.2282,10:-.292,11:-.3132,12:-.3177,13:-.3349,14:-.3266,15:-.3276,16:-.3356,17:-.3467,18:-.3501,19:-.4589,20:-.4253,21:-.1654,22:-.2715,23:-.56},"c-score":.6499952162265595,rating:1.5,location:{latitude:40.7361158,longitude:-73.9815688},last_updated:1690632e3},{id:"P379634622",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":81,"taxi-zone":158,precinct:6,"b-score":{0:-.0331,1:-.0885,2:-.4373,3:-.6203,4:-.8113,5:-.907,6:-.8924,7:-.8754,8:-.8388,9:-.7256,10:-.4591,11:-.3962,12:-.2597,13:-.2194,14:-.2219,15:-.2267,16:-.2621,17:-.2744,18:-.1191,19:-.0803,20:-.0854,21:-.3046,22:-.3203,23:-.3896},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.736497,longitude:-74.0103959},last_updated:1690632e3},{id:"P379634625",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":82,"taxi-zone":158,precinct:6,"b-score":{0:-.0331,1:-.0885,2:-.4373,3:-.6203,4:-.8113,5:-.907,6:-.8924,7:-.8754,8:-.8388,9:-.7256,10:-.4591,11:-.3962,12:-.2597,13:-.2194,14:-.2219,15:-.2267,16:-.2621,17:-.2744,18:-.1191,19:-.0803,20:-.0854,21:-.3046,22:-.3203,23:-.3896},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.7346149,longitude:-74.0105573},last_updated:1690632e3},{id:"P379657566",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":807,"taxi-zone":233,precinct:17,"b-score":{0:-.6189,1:-.6534,2:-.734,3:-.7561,4:-.8508,5:-.895,6:-.9024,7:-.8917,8:-.8623,9:-.8527,10:-.8049,11:-.7306,12:-.7002,13:-.6831,14:-.6726,15:-.6615,16:-.6795,17:-.6523,18:-.622,19:-.6549,20:-.4822,21:-.6785,22:-.6838,23:-.693},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7526667,longitude:-73.9704924},last_updated:1690632e3},{id:"P379747570",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":807,"taxi-zone":233,precinct:17,"b-score":{0:-.6189,1:-.6534,2:-.734,3:-.7561,4:-.8508,5:-.895,6:-.9024,7:-.8917,8:-.8623,9:-.8527,10:-.8049,11:-.7306,12:-.7002,13:-.6831,14:-.6726,15:-.6615,16:-.6795,17:-.6523,18:-.622,19:-.6549,20:-.4822,21:-.6785,22:-.6838,23:-.693},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7515363,longitude:-73.9697087},last_updated:1690632e3},{id:"P379749111",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":806,"taxi-zone":233,precinct:17,"b-score":{0:-.6189,1:-.6534,2:-.734,3:-.7561,4:-.8508,5:-.895,6:-.9024,7:-.8917,8:-.8623,9:-.8527,10:-.8049,11:-.7306,12:-.7002,13:-.6831,14:-.6726,15:-.6615,16:-.6795,17:-.6523,18:-.622,19:-.6549,20:-.4822,21:-.6785,22:-.6838,23:-.693},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7535038,longitude:-73.9704538},last_updated:1690632e3},{id:"P379758354",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"24/7","grid-id":654,"taxi-zone":170,precinct:17,"b-score":{0:-.7053,1:-.7668,2:-.8162,3:-.8142,4:-.8623,5:-.8946,6:-.8293,7:-.8152,8:-.6584,9:-.5855,10:-.4967,11:-.4915,12:-.4904,13:-.486,14:-.4565,15:-.4642,16:-.469,17:-.4645,18:-.465,19:-.4646,20:-.5919,21:-.6045,22:-.6214,23:-.6476},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7495206,longitude:-73.9760712},last_updated:1690632e3},{id:"P380425199",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":704,"taxi-zone":233,precinct:17,"b-score":{0:-.6189,1:-.6534,2:-.734,3:-.7561,4:-.8508,5:-.895,6:-.9024,7:-.8917,8:-.8623,9:-.8527,10:-.8049,11:-.7306,12:-.7002,13:-.6831,14:-.6726,15:-.6615,16:-.6795,17:-.6523,18:-.622,19:-.6549,20:-.4822,21:-.6785,22:-.6838,23:-.693},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7516246,longitude:-73.9730606},last_updated:1690632e3},{id:"P385106972",name:"Ralph Bunche Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":809,"taxi-zone":233,precinct:17,"b-score":{0:-.6189,1:-.6534,2:-.734,3:-.7561,4:-.8508,5:-.895,6:-.9024,7:-.8917,8:-.8623,9:-.8527,10:-.8049,11:-.7306,12:-.7002,13:-.6831,14:-.6726,15:-.6615,16:-.6795,17:-.6523,18:-.622,19:-.6549,20:-.4822,21:-.6785,22:-.6838,23:-.693},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7493256,longitude:-73.969745},last_updated:1690632e3},{id:"P395678163",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:"Mo-Su 08:00-sunset","grid-id":461,"taxi-zone":164,precinct:13,"b-score":{0:.7336,1:.1978,2:-.0507,3:-.1212,4:-.4651,5:-.7174,6:-.7878,7:-.734,8:-.56,9:-.1413,10:.1442,11:.4509,12:.7579,13:.8741,14:.911,15:.8463,16:.93,17:.9155,18:.8542,19:.88,20:.8116,21:.6131,22:.4449,23:.3647},"c-score":.6499952162265595,rating:1.5,location:{latitude:40.7445517,longitude:-73.9862513},last_updated:1690632e3},{id:"P400780940",name:"Teardrop Park South",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":13,"taxi-zone":13,precinct:1,"b-score":{0:-.9089,1:-.9068,2:-.9191,3:-.9239,4:-.9205,5:-.9097,6:-.9057,7:-.804,8:-.8465,9:-.8435,10:-.841,11:-.8312,12:-.8229,13:-.8102,14:-.8134,15:-.8256,16:-.8587,17:-.8428,18:-.8574,19:-.8969,20:-.9111,21:-.9137,22:-.9138,23:-.9128},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7157927,longitude:-74.0160302},last_updated:1690632e3},{id:"P400782867",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":34,"taxi-zone":13,precinct:1,"b-score":{0:-.9089,1:-.9068,2:-.9191,3:-.9239,4:-.9205,5:-.9097,6:-.9057,7:-.804,8:-.8465,9:-.8435,10:-.841,11:-.8312,12:-.8229,13:-.8102,14:-.8134,15:-.8256,16:-.8587,17:-.8428,18:-.8574,19:-.8969,20:-.9111,21:-.9137,22:-.9138,23:-.9128},"c-score":.613287728026534,rating:1.5,location:{latitude:40.714576,longitude:-74.0139461},last_updated:1690632e3},{id:"P400782868",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":19,"taxi-zone":13,precinct:1,"b-score":{0:-.9089,1:-.9068,2:-.9191,3:-.9239,4:-.9205,5:-.9097,6:-.9057,7:-.804,8:-.8465,9:-.8435,10:-.841,11:-.8312,12:-.8229,13:-.8102,14:-.8134,15:-.8256,16:-.8587,17:-.8428,18:-.8574,19:-.8969,20:-.9111,21:-.9137,22:-.9138,23:-.9128},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7063887,longitude:-74.0165613},last_updated:1690632e3},{id:"P400782869",name:"Vesey Green",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":14,"taxi-zone":13,precinct:1,"b-score":{0:-.9089,1:-.9068,2:-.9191,3:-.9239,4:-.9205,5:-.9097,6:-.9057,7:-.804,8:-.8465,9:-.8435,10:-.841,11:-.8312,12:-.8229,13:-.8102,14:-.8134,15:-.8256,16:-.8587,17:-.8428,18:-.8574,19:-.8969,20:-.9111,21:-.9137,22:-.9138,23:-.9128},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7149552,longitude:-74.0166948},last_updated:1690632e3},{id:"P400782871",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":33,"taxi-zone":13,precinct:1,"b-score":{0:-.9089,1:-.9068,2:-.9191,3:-.9239,4:-.9205,5:-.9097,6:-.9057,7:-.804,8:-.8465,9:-.8435,10:-.841,11:-.8312,12:-.8229,13:-.8102,14:-.8134,15:-.8256,16:-.8587,17:-.8428,18:-.8574,19:-.8969,20:-.9111,21:-.9137,22:-.9138,23:-.9128},"c-score":.613287728026534,rating:1.5,location:{latitude:40.71596,longitude:-74.0135378},last_updated:1690632e3},{id:"P400782872",name:"West Thames Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":17,"taxi-zone":13,precinct:1,"b-score":{0:-.9089,1:-.9068,2:-.9191,3:-.9239,4:-.9205,5:-.9097,6:-.9057,7:-.804,8:-.8465,9:-.8435,10:-.841,11:-.8312,12:-.8229,13:-.8102,14:-.8134,15:-.8256,16:-.8587,17:-.8428,18:-.8574,19:-.8969,20:-.9111,21:-.9137,22:-.9138,23:-.9128},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7088371,longitude:-74.0157564},last_updated:1690632e3},{id:"P410310399",name:"Coleman Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":354,"taxi-zone":45,precinct:5,"b-score":{0:-.5927,1:-.7684,2:-.8298,3:-.8614,4:-.8876,5:-.889,6:-.8218,7:-.7387,8:-.5042,9:-.1543,10:.2104,11:.4356,12:.6807,13:.8113,14:.9919,15:1.0256,16:.8695,17:.3703,18:.2006,19:-.1239,20:-.3119,21:-.3644,22:-.3147,23:-.4728},"c-score":.37779850746268656,rating:1.5,location:{latitude:40.7111652,longitude:-73.9933311},last_updated:1690632e3},{id:"P413055246",name:"City Hall Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":128,"taxi-zone":231,precinct:1,"b-score":{0:-.09,1:-.0902,2:-.2901,3:-.4622,4:-.7305,5:-.8522,6:-.8524,7:-.7972,8:-.7214,9:-.4915,10:-.216,11:-.1204,12:-.0998,13:-.0967,14:-.0941,15:-.1014,16:-.0736,17:-.0027,18:-.0041,19:.0718,20:.1184,21:-.2476,22:-.2995,23:-.4414},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7128841,longitude:-74.0060845},last_updated:1690632e3},{id:"P427818536",name:"Central Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:"06:00-01:00","grid-id":869,"taxi-zone":43,precinct:22,"b-score":{0:-.6845,1:-.7485,2:-.7889,3:-.8063,4:-.8423,5:-.8792,6:-.8931,7:-.8187,8:-.8406,9:-.7618,10:-.7783,11:-.81,12:-.7735,13:-.7728,14:-.7786,15:-.769,16:-.7644,17:-.7414,18:-.7423,19:-.7227,20:-.7316,21:-.7661,22:-.7183,23:-.6923},"c-score":.047523761880940464,rating:1.5,location:{latitude:40.7825293,longitude:-73.9655068},last_updated:1690632e3},{id:"P440055119",name:"Minetta Green",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":190,"taxi-zone":114,precinct:6,"b-score":{0:-.0785,1:-.2806,2:-.5265,3:-.6119,4:-.8139,5:-.8992,6:-.8765,7:-.8272,8:-.6969,9:-.5546,10:-.1937,11:-.0217,12:.1579,13:.1742,14:.174,15:.1217,16:.1327,17:.0659,18:.0738,19:.0437,20:-.0082,21:-.0128,22:-.1015,23:-.2122},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.7303446,longitude:-74.0016029},last_updated:1690632e3},{id:"P440055120",name:"West Fourth Street Courts",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":228,"taxi-zone":114,precinct:6,"b-score":{0:-.0785,1:-.2806,2:-.5265,3:-.6119,4:-.8139,5:-.8992,6:-.8765,7:-.8272,8:-.6969,9:-.5546,10:-.1937,11:-.0217,12:.1579,13:.1742,14:.174,15:.1217,16:.1327,17:.0659,18:.0738,19:.0437,20:-.0082,21:-.0128,22:-.1015,23:-.2122},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.7312486,longitude:-74.0009604},last_updated:1690632e3},{id:"P449139914",name:"Urban Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":194,"taxi-zone":211,precinct:1,"b-score":{0:-.4007,1:-.4674,2:-.4928,3:-.6228,4:-.8352,5:-.9098,6:-.9062,7:-.896,8:-.8242,9:-.6814,10:-.4769,11:-.2719,12:-.2251,13:-.2606,14:-.2638,15:-.324,16:-.3411,17:-.3467,18:-.3408,19:-.3402,20:-.3855,21:-.344,22:-.4162,23:-.4817},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7235239,longitude:-74.0034678},last_updated:1690632e3},{id:"P453456965",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":126,"taxi-zone":231,precinct:1,"b-score":{0:-.09,1:-.0902,2:-.2901,3:-.4622,4:-.7305,5:-.8522,6:-.8524,7:-.7972,8:-.7214,9:-.4915,10:-.216,11:-.1204,12:-.0998,13:-.0967,14:-.0941,15:-.1014,16:-.0736,17:-.0027,18:-.0041,19:.0718,20:.1184,21:-.2476,22:-.2995,23:-.4414},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7157919,longitude:-74.006181},last_updated:1690632e3},{id:"P453461400",name:"Elizabeth Street Garden",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":309,"taxi-zone":144,precinct:5,"b-score":{0:-.8371,1:-.8372,2:-.8688,3:-.8755,4:-.8842,5:-.9024,6:-.9047,7:-.8935,8:-.8624,9:-.8615,10:-.8595,11:-.8621,12:-.8619,13:-.8578,14:-.8507,15:-.8519,16:-.855,17:-.8334,18:-.8362,19:-.8375,20:-.8231,21:-.8322,22:-.8501,23:-.8402},"c-score":.37779850746268656,rating:1.5,location:{latitude:40.7221953,longitude:-73.9947837},last_updated:1690632e3},{id:"P453528989",name:"Dry Dock Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":667,"taxi-zone":4,precinct:9,"b-score":{0:-.58,1:-.5915,2:-.6072,3:-.7245,4:-.8336,5:-.9008,6:-.9071,7:-.8861,8:-.8865,9:-.8562,10:-.8406,11:-.8173,12:-.7824,13:-.7722,14:-.7748,15:-.7601,16:-.7447,17:-.7609,18:-.6471,19:-.6662,20:-.4045,21:-.6818,22:-.6885,23:-.7043},"c-score":.48990623804056643,rating:1.5,location:{latitude:40.7254397,longitude:-73.9754832},last_updated:1690632e3},{id:"P455314804",name:"Trygve Lie Plaza",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":809,"taxi-zone":233,precinct:17,"b-score":{0:-.6189,1:-.6534,2:-.734,3:-.7561,4:-.8508,5:-.895,6:-.9024,7:-.8917,8:-.8623,9:-.8527,10:-.8049,11:-.7306,12:-.7002,13:-.6831,14:-.6726,15:-.6615,16:-.6795,17:-.6523,18:-.622,19:-.6549,20:-.4822,21:-.6785,22:-.6838,23:-.693},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7484918,longitude:-73.9704129},last_updated:1690632e3},{id:"P458511171",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":499,"taxi-zone":230,precinct:18,"b-score":{0:.7054,1:.1809,2:-.0579,3:-.2782,4:-.4069,5:-.6071,6:-.6105,7:-.503,8:-.0157,9:.3914,10:.8604,11:.6753,12:.7977,13:1.2414,14:.9252,15:.5202,16:.6847,17:1.2397,18:.503,19:.315,20:-.474,21:-.1227,22:-.1705,23:.3686},"c-score":.7263601862482459,rating:1.5,location:{latitude:40.7603632,longitude:-73.9823986},last_updated:1690632e3},{id:"P458642434",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":496,"taxi-zone":163,precinct:18,"b-score":{0:.1068,1:-.2516,2:-.4372,3:-.6195,4:-.7153,5:-.7831,6:-.653,7:-.4614,8:-.3339,9:.2447,10:.4272,11:.8983,12:.9221,13:1.185,14:1.2914,15:1.2043,16:1.2501,17:1.2516,18:1.1856,19:.9816,20:.4222,21:.2189,22:.1658,23:-.0735},"c-score":.7263601862482459,rating:1.5,location:{latitude:40.7647609,longitude:-73.9828725},last_updated:1690632e3},{id:"P458642435",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":495,"taxi-zone":163,precinct:18,"b-score":{0:.1068,1:-.2516,2:-.4372,3:-.6195,4:-.7153,5:-.7831,6:-.653,7:-.4614,8:-.3339,9:.2447,10:.4272,11:.8983,12:.9221,13:1.185,14:1.2914,15:1.2043,16:1.2501,17:1.2516,18:1.1856,19:.9816,20:.4222,21:.2189,22:.1658,23:-.0735},"c-score":.7263601862482459,rating:1.5,location:{latitude:40.7661451,longitude:-73.9830132},last_updated:1690632e3},{id:"P462302471",name:"Manuel Plaza",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:"Mo-Su 06:00-22:00","grid-id":345,"taxi-zone":113,precinct:9,"b-score":{0:.8444,1:.339,2:-.0144,3:-.0265,4:-.595,5:-.7714,6:-.7109,7:-.5312,8:-.4036,9:-.1357,10:.1155,11:.4279,12:.6353,13:.6246,14:.6251,15:.6648,16:.6537,17:.8739,18:.9709,19:.7115,20:.6369,21:.6344,22:.6516,23:.5249},"c-score":.48990623804056643,rating:1.5,location:{latitude:40.7276683,longitude:-73.9921173},last_updated:1690632e3},{id:"P468472672",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":596,"taxi-zone":161,precinct:18,"b-score":{0:.3676,1:-.1567,2:-.639,3:-.7362,4:-.7929,5:-.7992,6:-.6472,7:-.6036,8:-.0323,9:.2311,10:.8787,11:1.599,12:1.9494,13:2.0898,14:2.2007,15:2.1453,16:2.1655,17:2.1245,18:2.0703,19:1.7062,20:.7502,21:.7323,22:.5601,23:.1546},"c-score":.7263601862482459,rating:1.5,location:{latitude:40.7610842,longitude:-73.9783735},last_updated:1690632e3},{id:"P468485719",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":716,"taxi-zone":224,precinct:13,"b-score":{0:-.6823,1:-.7343,2:-.786,3:-.7949,4:-.8671,5:-.9074,6:-.9031,7:-.8917,8:-.879,9:-.8177,10:-.8103,11:-.802,12:-.7217,13:-.7176,14:-.7238,15:-.7091,16:-.7098,17:-.6816,18:-.6446,19:-.6373,20:-.506,21:-.6618,22:-.6756,23:-.7035},"c-score":.6499952162265595,rating:1.5,location:{latitude:40.7305654,longitude:-73.9748081},last_updated:1690632e3},{id:"P468548548",name:"West 111th Street People's Garden",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":857,"taxi-zone":166,precinct:26,"b-score":{0:.5469,1:.3328,2:-.2377,3:-.4102,4:-.6459,5:-.7721,6:-.6737,7:-.4812,8:-.212,9:.0698,10:.5153,11:1.0142,12:1.123,13:1.111,14:1.1364,15:1.1603,16:1.1727,17:1.3626,18:1.3584,19:1.3906,20:1.2467,21:1.0089,22:.9032,23:.5912},"c-score":.261656461283327,rating:1.5,location:{latitude:40.803897,longitude:-73.9635414},last_updated:1690632e3},{id:"P468555499",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":891,"taxi-zone":166,precinct:26,"b-score":{0:.5469,1:.3328,2:-.2377,3:-.4102,4:-.6459,5:-.7721,6:-.6737,7:-.4812,8:-.212,9:.0698,10:.5153,11:1.0142,12:1.123,13:1.111,14:1.1364,15:1.1603,16:1.1727,17:1.3626,18:1.3584,19:1.3906,20:1.2467,21:1.0089,22:.9032,23:.5912},"c-score":.261656461283327,rating:1.5,location:{latitude:40.81501,longitude:-73.9622763},last_updated:1690632e3},{id:"P468591558",name:"West 104th Street Garden",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":901,"taxi-zone":151,precinct:24,"b-score":{0:-.1868,1:-.2609,2:-.4581,3:-.5288,4:-.7933,5:-.8892,6:-.9039,7:-.878,8:-.8181,9:-.7031,10:-.465,11:-.3259,12:-.087,13:.0022,14:.0528,15:.0445,16:.0551,17:.0219,18:.0188,19:-.1641,20:-.2173,21:-.3816,22:-.4498,23:-.4653},"c-score":.4165709911978569,rating:1.5,location:{latitude:40.7968848,longitude:-73.9619463},last_updated:1690632e3},{id:"P469101347",name:"Tenzer Garden",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1481,"taxi-zone":243,precinct:34,"b-score":{0:.626,1:.2085,2:-.254,3:-.4226,4:-.6276,5:-.7516,6:-.6854,7:-.5511,8:-.2471,9:.0312,10:.245,11:.5866,12:.6658,13:.6465,14:.7483,15:.9222,16:.9676,17:1.0308,18:1.0704,19:1.0126,20:1.0274,21:1.0158,22:.9889,23:.4117},"c-score":.5172056384742952,rating:1.5,location:{latitude:40.8498324,longitude:-73.9291411},last_updated:1690632e3},{id:"P469101348",name:"Danciger Quadrangle",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1481,"taxi-zone":243,precinct:34,"b-score":{0:.626,1:.2085,2:-.254,3:-.4226,4:-.6276,5:-.7516,6:-.6854,7:-.5511,8:-.2471,9:.0312,10:.245,11:.5866,12:.6658,13:.6465,14:.7483,15:.9222,16:.9676,17:1.0308,18:1.0704,19:1.0126,20:1.0274,21:1.0158,22:.9889,23:.4117},"c-score":.5172056384742952,rating:1.5,location:{latitude:40.850316,longitude:-73.928956},last_updated:1690632e3},{id:"P471549306",name:"NYC AIDS Memorial Park at St. Vincent's Triangle",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":224,"taxi-zone":249,precinct:6,"b-score":{0:-.1399,1:-.168,2:-.1642,3:-.2269,4:-.6106,5:-.8308,6:-.7813,7:-.8103,8:-.6165,9:-.31,10:.0026,11:.2152,12:.4999,13:.625,14:.7015,15:.6524,16:.6481,17:.7281,18:.8623,19:.6684,20:.1348,21:-.1386,22:-.1678,23:-.1439},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.7371836,longitude:-74.0011967},last_updated:1690632e3},{id:"P473565702",name:"Rapkin-Gayle Plaza",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:"Mo-Su 06:00-22:00","grid-id":234,"taxi-zone":144,precinct:5,"b-score":{0:-.8371,1:-.8372,2:-.8688,3:-.8755,4:-.8842,5:-.9024,6:-.9047,7:-.8935,8:-.8624,9:-.8615,10:-.8595,11:-.8621,12:-.8619,13:-.8578,14:-.8507,15:-.8519,16:-.855,17:-.8334,18:-.8362,19:-.8375,20:-.8231,21:-.8322,22:-.8501,23:-.8402},"c-score":.9999999999999999,rating:1.5,location:{latitude:40.7204001,longitude:-73.9991398},last_updated:1690632e3},{id:"P474169900",name:"Lieutenant William Tighe Triangle",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1472,"taxi-zone":243,precinct:34,"b-score":{0:.626,1:.2085,2:-.254,3:-.4226,4:-.6276,5:-.7516,6:-.6854,7:-.5511,8:-.2471,9:.0312,10:.245,11:.5866,12:.6658,13:.6465,14:.7483,15:.9222,16:.9676,17:1.0308,18:1.0704,19:1.0126,20:1.0274,21:1.0158,22:.9889,23:.4117},"c-score":.5172056384742952,rating:1.5,location:{latitude:40.8658571,longitude:-73.9279994},last_updated:1690632e3},{id:"P474173970",name:"Sherman Creek",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1549,"taxi-zone":127,precinct:34,"b-score":{0:-.8878,1:-.8897,2:-.8796,3:-.894,4:-.8801,5:-.9027,6:-.9046,7:-.9176,8:-.9092,9:-.9089,10:-.9102,11:-.9088,12:-.909,13:-.9059,14:-.9062,15:-.9056,16:-.9022,17:-.9006,18:-.8864,19:-.8877,20:-.8841,21:-.8757,22:-.8788,23:-.8806},"c-score":.5172056384742952,rating:1.5,location:{latitude:40.8608411,longitude:-73.9182038},last_updated:1690632e3},{id:"P474175699",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1549,"taxi-zone":127,precinct:34,"b-score":{0:-.8878,1:-.8897,2:-.8796,3:-.894,4:-.8801,5:-.9027,6:-.9046,7:-.9176,8:-.9092,9:-.9089,10:-.9102,11:-.9088,12:-.909,13:-.9059,14:-.9062,15:-.9056,16:-.9022,17:-.9006,18:-.8864,19:-.8877,20:-.8841,21:-.8757,22:-.8788,23:-.8806},"c-score":.5172056384742952,rating:1.5,location:{latitude:40.8601542,longitude:-73.9185091},last_updated:1690632e3},{id:"P474199302",name:"Monsignor Kett Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1535,"taxi-zone":127,precinct:34,"b-score":{0:-.8878,1:-.8897,2:-.8796,3:-.894,4:-.8801,5:-.9027,6:-.9046,7:-.9176,8:-.9092,9:-.9089,10:-.9102,11:-.9088,12:-.909,13:-.9059,14:-.9062,15:-.9056,16:-.9022,17:-.9006,18:-.8864,19:-.8877,20:-.8841,21:-.8757,22:-.8788,23:-.8806},"c-score":.5172056384742952,rating:1.5,location:{latitude:40.8625304,longitude:-73.9209396},last_updated:1690632e3},{id:"P476650290",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1179,"taxi-zone":244,precinct:33,"b-score":{0:-.7873,1:-.7798,2:-.8279,3:-.8722,4:-.883,5:-.9031,6:-.9038,7:-.9049,8:-.8805,9:-.8918,10:-.8876,11:-.8813,12:-.8771,13:-.8588,14:-.8593,15:-.8585,16:-.8602,17:-.8419,18:-.8338,19:-.8,20:-.8236,21:-.8319,22:-.8066,23:-.807},"c-score":.3926999617298125,rating:1.5,location:{latitude:40.8379833,longitude:-73.9459572},last_updated:1690632e3},{id:"P479358564",name:"Rooftop Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":804,"taxi-zone":229,precinct:17,"b-score":{0:.4267,1:-.0641,2:-.2763,3:-.4,4:-.6217,5:-.8009,6:-.7612,7:-.6576,8:-.4028,9:-.1078,10:.1339,11:.5163,12:.6032,13:.6709,14:.7171,15:.7195,16:.6965,17:.9066,18:.9537,19:1.012,20:.8581,21:.7901,22:.606,23:.2078},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7576241,longitude:-73.9686533},last_updated:1690632e3},{id:"P480966277",name:"148th Street Block Association Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1327,"taxi-zone":42,precinct:32,"b-score":{0:-.7381,1:-.7566,2:-.8443,3:-.8596,4:-.8882,5:-.9017,6:-.9092,7:-.9085,8:-.8873,9:-.8492,10:-.8078,11:-.7804,12:-.7296,13:-.7359,14:-.7416,15:-.7395,16:-.729,17:-.6895,18:-.6729,19:-.7354,20:-.7296,21:-.7796,22:-.8063,23:-.8003},"c-score":.5270044010715652,rating:1.5,location:{latitude:40.8243789,longitude:-73.9389915},last_updated:1690632e3},{id:"P483509921",name:"Poinsettia Community Garden",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":936,"taxi-zone":166,precinct:26,"b-score":{0:.5469,1:.3328,2:-.2377,3:-.4102,4:-.6459,5:-.7721,6:-.6737,7:-.4812,8:-.212,9:.0698,10:.5153,11:1.0142,12:1.123,13:1.111,14:1.1364,15:1.1603,16:1.1727,17:1.3626,18:1.3584,19:1.3906,20:1.2467,21:1.0089,22:.9032,23:.5912},"c-score":.261656461283327,rating:1.5,location:{latitude:40.808972,longitude:-73.9588785},last_updated:1690632e3},{id:"P483509926",name:"Ruggles Commons",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":896,"taxi-zone":166,precinct:26,"b-score":{0:.5469,1:.3328,2:-.2377,3:-.4102,4:-.6459,5:-.7721,6:-.6737,7:-.4812,8:-.212,9:.0698,10:.5153,11:1.0142,12:1.123,13:1.111,14:1.1364,15:1.1603,16:1.1727,17:1.3626,18:1.3584,19:1.3906,20:1.2467,21:1.0089,22:.9032,23:.5912},"c-score":.261656461283327,rating:1.5,location:{latitude:40.8056356,longitude:-73.9628429},last_updated:1690632e3},{id:"P483702983",name:"Augustus Saint-Gaudens Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":560,"taxi-zone":107,precinct:13,"b-score":{0:-.0083,1:-.3129,2:-.3845,3:-.6548,4:-.683,5:-.7342,6:-.7399,7:-.6503,8:-.6045,9:-.2282,10:-.292,11:-.3132,12:-.3177,13:-.3349,14:-.3266,15:-.3276,16:-.3356,17:-.3467,18:-.3501,19:-.4589,20:-.4253,21:-.1654,22:-.2715,23:-.56},"c-score":.6499952162265595,rating:1.5,location:{latitude:40.7355499,longitude:-73.9821423},last_updated:1690632e3},{id:"P497484756",name:"Albert Capsouto Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":158,"taxi-zone":231,precinct:1,"b-score":{0:-.09,1:-.0902,2:-.2901,3:-.4622,4:-.7305,5:-.8522,6:-.8524,7:-.7972,8:-.7214,9:-.4915,10:-.216,11:-.1204,12:-.0998,13:-.0967,14:-.0941,15:-.1014,16:-.0736,17:-.0027,18:-.0041,19:.0718,20:.1184,21:-.2476,22:-.2995,23:-.4414},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7220549,longitude:-74.0059139},last_updated:1690632e3},{id:"P498671779",name:"Drumgoole Plaza",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"yes",opening_hours:"null","grid-id":164,"taxi-zone":209,precinct:1,"b-score":{0:-.7493,1:-.7692,2:-.8116,3:-.8353,4:-.8827,5:-.9059,6:-.9018,7:-.8897,8:-.8705,9:-.854,10:-.8202,11:-.7693,12:-.7368,13:-.7391,14:-.7218,15:-.7283,16:-.7242,17:-.6618,18:-.6514,19:-.7074,20:-.714,21:-.7277,22:-.7002,23:-.7587},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7110399,longitude:-74.0041141},last_updated:1690632e3},{id:"P504045549",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"yes",opening_hours:"null","grid-id":131,"taxi-zone":87,precinct:1,"b-score":{0:-.3851,1:-.3856,2:-.5767,3:-.6066,4:-.7688,5:-.8846,6:-.8926,7:-.8387,8:-.7832,9:-.65,10:-.6128,11:-.5744,12:-.3038,13:-.2715,14:-.2636,15:-.2663,16:-.2525,17:-.1971,18:-.1478,19:-.306,20:-.338,21:-.3179,22:-.2315,23:-.2871},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7072581,longitude:-74.0083037},last_updated:1690632e3},{id:"P531272222",name:"CS Garden",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":935,"taxi-zone":166,precinct:26,"b-score":{0:.5469,1:.3328,2:-.2377,3:-.4102,4:-.6459,5:-.7721,6:-.6737,7:-.4812,8:-.212,9:.0698,10:.5153,11:1.0142,12:1.123,13:1.111,14:1.1364,15:1.1603,16:1.1727,17:1.3626,18:1.3584,19:1.3906,20:1.2467,21:1.0089,22:.9032,23:.5912},"c-score":.261656461283327,rating:1.5,location:{latitude:40.8091383,longitude:-73.9599533},last_updated:1690632e3},{id:"P531580782",name:"Robert Moses Playground",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":809,"taxi-zone":233,precinct:17,"b-score":{0:-.6189,1:-.6534,2:-.734,3:-.7561,4:-.8508,5:-.895,6:-.9024,7:-.8917,8:-.8623,9:-.8527,10:-.8049,11:-.7306,12:-.7002,13:-.6831,14:-.6726,15:-.6615,16:-.6795,17:-.6523,18:-.622,19:-.6549,20:-.4822,21:-.6785,22:-.6838,23:-.693},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7481156,longitude:-73.9692894},last_updated:1690632e3},{id:"P538080002",name:"Elizabeth H. Berger Plaza",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":38,"taxi-zone":261,precinct:1,"b-score":{0:.9803,1:.9928,2:.8513,3:.0442,4:-.4866,5:-.8342,6:-.8637,7:-.8199,8:-.6732,9:-.5087,10:-.1948,11:.1383,12:.5899,13:.6124,14:.6322,15:.5958,16:.6814,17:.8964,18:1.0106,19:.829,20:.8119,21:.7809,22:.7309,23:.749},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7066764,longitude:-74.0140208},last_updated:1690632e3},{id:"P539005582",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":33,"taxi-zone":13,precinct:1,"b-score":{0:-.9089,1:-.9068,2:-.9191,3:-.9239,4:-.9205,5:-.9097,6:-.9057,7:-.804,8:-.8465,9:-.8435,10:-.841,11:-.8312,12:-.8229,13:-.8102,14:-.8134,15:-.8256,16:-.8587,17:-.8428,18:-.8574,19:-.8969,20:-.9111,21:-.9137,22:-.9138,23:-.9128},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7156052,longitude:-74.0150931},last_updated:1690632e3},{id:"P544675664",name:"Mitchell Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1274,"taxi-zone":244,precinct:33,"b-score":{0:-.7873,1:-.7798,2:-.8279,3:-.8722,4:-.883,5:-.9031,6:-.9038,7:-.9049,8:-.8805,9:-.8918,10:-.8876,11:-.8813,12:-.8771,13:-.8588,14:-.8593,15:-.8585,16:-.8602,17:-.8419,18:-.8338,19:-.8,20:-.8236,21:-.8319,22:-.8066,23:-.807},"c-score":.3926999617298125,rating:1.5,location:{latitude:40.8401868,longitude:-73.9400483},last_updated:1690632e3},{id:"P580123906",name:"Mulry Square",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":225,"taxi-zone":249,precinct:6,"b-score":{0:-.1399,1:-.168,2:-.1642,3:-.2269,4:-.6106,5:-.8308,6:-.7813,7:-.8103,8:-.6165,9:-.31,10:.0026,11:.2152,12:.4999,13:.625,14:.7015,15:.6524,16:.6481,17:.7281,18:.8623,19:.6684,20:.1348,21:-.1386,22:-.1678,23:-.1439},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.7362506,longitude:-74.0010873},last_updated:1690632e3},{id:"P581666857",name:"Jane Street Garden",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":149,"taxi-zone":249,precinct:6,"b-score":{0:-.1399,1:-.168,2:-.1642,3:-.2269,4:-.6106,5:-.8308,6:-.7813,7:-.8103,8:-.6165,9:-.31,10:.0026,11:.2152,12:.4999,13:.625,14:.7015,15:.6524,16:.6481,17:.7281,18:.8623,19:.6684,20:.1348,21:-.1386,22:-.1678,23:-.1439},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.738004,longitude:-74.0045481},last_updated:1690632e3},{id:"P585788256",name:"Central Park Carousel",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":642,"taxi-zone":43,precinct:22,"b-score":{0:-.6845,1:-.7485,2:-.7889,3:-.8063,4:-.8423,5:-.8792,6:-.8931,7:-.8187,8:-.8406,9:-.7618,10:-.7783,11:-.81,12:-.7735,13:-.7728,14:-.7786,15:-.769,16:-.7644,17:-.7414,18:-.7423,19:-.7227,20:-.7316,21:-.7661,22:-.7183,23:-.6923},"c-score":.15157578789394696,rating:1.5,location:{latitude:40.7699426,longitude:-73.9752476},last_updated:1690632e3},{id:"P588483880",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1407,"taxi-zone":120,precinct:33,"b-score":{0:-.7408,1:-.7749,2:-.816,3:-.8012,4:-.8403,5:-.8955,6:-.8773,7:-.8957,8:-.8236,9:-.8412,10:-.8494,11:-.8367,12:-.8183,13:-.8166,14:-.8198,15:-.7922,16:-.7873,17:-.767,18:-.7817,19:-.7748,20:-.7733,21:-.782,22:-.7529,23:-.7657},"c-score":.3926999617298125,rating:1.5,location:{latitude:40.8446978,longitude:-73.9329917},last_updated:1690632e3},{id:"P613509792",name:"Tribeca Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"Mo-Su 06:00-01:00","grid-id":159,"taxi-zone":231,precinct:1,"b-score":{0:-.09,1:-.0902,2:-.2901,3:-.4622,4:-.7305,5:-.8522,6:-.8524,7:-.7972,8:-.7214,9:-.4915,10:-.216,11:-.1204,12:-.0998,13:-.0967,14:-.0941,15:-.1014,16:-.0736,17:-.0027,18:-.0041,19:.0718,20:.1184,21:-.2476,22:-.2995,23:-.4414},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7202027,longitude:-74.0056402},last_updated:1690632e3},{id:"P664153164",name:'Bill "Bojangles" Robinson Playground',type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1327,"taxi-zone":42,precinct:32,"b-score":{0:-.7381,1:-.7566,2:-.8443,3:-.8596,4:-.8882,5:-.9017,6:-.9092,7:-.9085,8:-.8873,9:-.8492,10:-.8078,11:-.7804,12:-.7296,13:-.7359,14:-.7416,15:-.7395,16:-.729,17:-.6895,18:-.6729,19:-.7354,20:-.7296,21:-.7796,22:-.8063,23:-.8003},"c-score":.5270044010715652,rating:1.5,location:{latitude:40.8252699,longitude:-73.9372963},last_updated:1690632e3},{id:"P664153165",name:"LaGuardia Corner Garden",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":269,"taxi-zone":114,precinct:6,"b-score":{0:-.0785,1:-.2806,2:-.5265,3:-.6119,4:-.8139,5:-.8992,6:-.8765,7:-.8272,8:-.6969,9:-.5546,10:-.1937,11:-.0217,12:.1579,13:.1742,14:.174,15:.1217,16:.1327,17:.0659,18:.0738,19:.0437,20:-.0082,21:-.0128,22:-.1015,23:-.2122},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.7279235,longitude:-73.9988616},last_updated:1690632e3},{id:"P664697032",name:"Monterey Public Garden",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"24/7","grid-id":1114,"taxi-zone":75,precinct:23,"b-score":{0:-.6452,1:-.6769,2:-.7371,3:-.7477,4:-.7949,5:-.8489,6:-.785,7:-.7482,8:-.6689,9:-.6366,10:-.5959,11:-.5891,12:-.5974,13:-.6023,14:-.5147,15:-.5192,16:-.5393,17:-.5427,18:-.5643,19:-.6038,20:-.6189,21:-.664,22:-.6308,23:-.6397},"c-score":.5149971297359357,rating:1.5,location:{latitude:40.785788,longitude:-73.949994},last_updated:1690632e3},{id:"P672251427",name:"Abe Lebewohl Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":469,"taxi-zone":79,precinct:9,"b-score":{0:-.3898,1:-.5314,2:-.6771,3:-.734,4:-.7957,5:-.8216,6:-.7358,7:-.5903,8:-.6486,9:-.4502,10:-.3853,11:-.3708,12:-.3483,13:-.338,14:-.3277,15:-.3244,16:-.3196,17:-.3226,18:-.3263,19:-.3657,20:-.4744,21:-.4767,22:-.4772,23:-.4424},"c-score":.48990623804056643,rating:1.5,location:{latitude:40.7300001,longitude:-73.9870591},last_updated:1690632e3},{id:"P675913161",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":393,"taxi-zone":232,precinct:7,"b-score":{0:-.0101,1:-.2586,2:-.4595,3:-.6366,4:-.7178,5:-.8234,6:-.7615,7:-.5908,8:-.2441,9:.2197,10:.9609,11:1.1704,12:1.3301,13:1.4039,14:1.5865,15:1.5356,16:1.6014,17:1.5288,18:1.3165,19:1.0717,20:.729,21:.7287,22:.8152,23:.3216},"c-score":.4246954330909555,rating:1.5,location:{latitude:40.7123128,longitude:-73.9916567},last_updated:1690632e3},{id:"P675935774",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":352,"taxi-zone":148,precinct:7,"b-score":{0:-.3022,1:-.6313,2:-.7019,3:-.7753,4:-.8361,5:-.888,6:-.836,7:-.8141,8:-.5703,9:-.4282,10:-.2246,11:-.1004,12:-.0054,13:.0198,14:.046,15:.0424,16:.0335,17:.0363,18:.0479,19:.0453,20:-.0841,21:-.1257,22:-.229,23:-.2397},"c-score":.4246954330909555,rating:1.5,location:{latitude:40.7147518,longitude:-73.9926339},last_updated:1690632e3},{id:"P675935775",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":390,"taxi-zone":148,precinct:5,"b-score":{0:-.3022,1:-.6313,2:-.7019,3:-.7753,4:-.8361,5:-.888,6:-.836,7:-.8141,8:-.5703,9:-.4282,10:-.2246,11:-.1004,12:-.0054,13:.0198,14:.046,15:.0424,16:.0335,17:.0363,18:.0479,19:.0453,20:-.0841,21:-.1257,22:-.229,23:-.2397},"c-score":.9999999999999999,rating:1.5,location:{latitude:40.7187024,longitude:-73.9906477},last_updated:1690632e3},{id:"P675935776",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":390,"taxi-zone":148,precinct:5,"b-score":{0:-.3022,1:-.6313,2:-.7019,3:-.7753,4:-.8361,5:-.888,6:-.836,7:-.8141,8:-.5703,9:-.4282,10:-.2246,11:-.1004,12:-.0054,13:.0198,14:.046,15:.0424,16:.0335,17:.0363,18:.0479,19:.0453,20:-.0841,21:-.1257,22:-.229,23:-.2397},"c-score":.9999999999999999,rating:1.5,location:{latitude:40.7178532,longitude:-73.9910848},last_updated:1690632e3},{id:"P675935777",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":391,"taxi-zone":148,precinct:5,"b-score":{0:-.3022,1:-.6313,2:-.7019,3:-.7753,4:-.8361,5:-.888,6:-.836,7:-.8141,8:-.5703,9:-.4282,10:-.2246,11:-.1004,12:-.0054,13:.0198,14:.046,15:.0424,16:.0335,17:.0363,18:.0479,19:.0453,20:-.0841,21:-.1257,22:-.229,23:-.2397},"c-score":.37779850746268656,rating:1.5,location:{latitude:40.7167999,longitude:-73.9916173},last_updated:1690632e3},{id:"P675935778",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":351,"taxi-zone":148,precinct:5,"b-score":{0:-.3022,1:-.6313,2:-.7019,3:-.7753,4:-.8361,5:-.888,6:-.836,7:-.8141,8:-.5703,9:-.4282,10:-.2246,11:-.1004,12:-.0054,13:.0198,14:.046,15:.0424,16:.0335,17:.0363,18:.0479,19:.0453,20:-.0841,21:-.1257,22:-.229,23:-.2397},"c-score":.37779850746268656,rating:1.5,location:{latitude:40.715654,longitude:-73.9922088},last_updated:1690632e3},{id:"P675935779",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":354,"taxi-zone":45,precinct:5,"b-score":{0:-.5927,1:-.7684,2:-.8298,3:-.8614,4:-.8876,5:-.889,6:-.8218,7:-.7387,8:-.5042,9:-.1543,10:.2104,11:.4356,12:.6807,13:.8113,14:.9919,15:1.0256,16:.8695,17:.3703,18:.2006,19:-.1239,20:-.3119,21:-.3644,22:-.3147,23:-.4728},"c-score":.37779850746268656,rating:1.5,location:{latitude:40.7113496,longitude:-73.9922318},last_updated:1690632e3},{id:"P675935780",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":353,"taxi-zone":45,precinct:5,"b-score":{0:-.5927,1:-.7684,2:-.8298,3:-.8614,4:-.8876,5:-.889,6:-.8218,7:-.7387,8:-.5042,9:-.1543,10:.2104,11:.4356,12:.6807,13:.8113,14:.9919,15:1.0256,16:.8695,17:.3703,18:.2006,19:-.1239,20:-.3119,21:-.3644,22:-.3147,23:-.4728},"c-score":.37779850746268656,rating:1.5,location:{latitude:40.7120492,longitude:-73.9923541},last_updated:1690632e3},{id:"P675937259",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":276,"taxi-zone":148,precinct:5,"b-score":{0:-.3022,1:-.6313,2:-.7019,3:-.7753,4:-.8361,5:-.888,6:-.836,7:-.8141,8:-.5703,9:-.4282,10:-.2246,11:-.1004,12:-.0054,13:.0198,14:.046,15:.0424,16:.0335,17:.0363,18:.0479,19:.0453,20:-.0841,21:-.1257,22:-.229,23:-.2397},"c-score":.37779850746268656,rating:1.5,location:{latitude:40.7142311,longitude:-73.9970905},last_updated:1690632e3},{id:"P675962287",name:"Sophie Irene Loeb Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":314,"taxi-zone":45,precinct:5,"b-score":{0:-.5927,1:-.7684,2:-.8298,3:-.8614,4:-.8876,5:-.889,6:-.8218,7:-.7387,8:-.5042,9:-.1543,10:.2104,11:.4356,12:.6807,13:.8113,14:.9919,15:1.0256,16:.8695,17:.3703,18:.2006,19:-.1239,20:-.3119,21:-.3644,22:-.3147,23:-.4728},"c-score":.37779850746268656,rating:1.5,location:{latitude:40.7133595,longitude:-73.9943004},last_updated:1690632e3},{id:"P684670439",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":657,"taxi-zone":137,precinct:17,"b-score":{0:-.6183,1:-.6592,2:-.7179,3:-.7449,4:-.8242,5:-.8691,6:-.7933,7:-.7556,8:-.6673,9:-.487,10:-.2685,11:-.2539,12:-.2236,13:-.2217,14:-.0767,15:-.0432,16:-.0397,17:-.0053,18:-.03,19:-.052,20:-.3444,21:-.3562,22:-.3804,23:-.496},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7426586,longitude:-73.9756162},last_updated:1690632e3},{id:"P687661469",name:"First Street Green Cultural Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":387,"taxi-zone":79,precinct:9,"b-score":{0:-.3898,1:-.5314,2:-.6771,3:-.734,4:-.7957,5:-.8216,6:-.7358,7:-.5903,8:-.6486,9:-.4502,10:-.3853,11:-.3708,12:-.3483,13:-.338,14:-.3277,15:-.3244,16:-.3196,17:-.3226,18:-.3263,19:-.3657,20:-.4744,21:-.4767,22:-.4772,23:-.4424},"c-score":.9999999999999999,rating:1.5,location:{latitude:40.723751,longitude:-73.9903251},last_updated:1690632e3},{id:"P702078581",name:"McMahon Lawn",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":446,"taxi-zone":142,precinct:20,"b-score":{0:.5915,1:.1131,2:-.2938,3:-.5893,4:-.6815,5:-.7788,6:-.6814,7:-.5915,8:-.3179,9:.0434,10:.6977,11:.8754,12:1.3868,13:1.404,14:1.4016,15:1.4167,16:1.4379,17:1.5911,18:1.6434,19:1.4374,20:1.3909,21:1.2744,22:1.3672,23:.7122},"c-score":.36388569970659523,rating:1.5,location:{latitude:40.7713558,longitude:-73.9865241},last_updated:1690632e3},{id:"P705304809",name:"30 Lincoln Plaza",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:"8:00-23:00","grid-id":541,"taxi-zone":142,precinct:20,"b-score":{0:.5915,1:.1131,2:-.2938,3:-.5893,4:-.6815,5:-.7788,6:-.6814,7:-.5915,8:-.3179,9:.0434,10:.6977,11:.8754,12:1.3868,13:1.404,14:1.4016,15:1.4167,16:1.4379,17:1.5911,18:1.6434,19:1.4374,20:1.3909,21:1.2744,22:1.3672,23:.7122},"c-score":.36388569970659523,rating:1.5,location:{latitude:40.7707961,longitude:-73.9814012},last_updated:1690632e3},{id:"P718438725",name:"Murphy Brothers Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":716,"taxi-zone":224,precinct:13,"b-score":{0:-.6823,1:-.7343,2:-.786,3:-.7949,4:-.8671,5:-.9074,6:-.9031,7:-.8917,8:-.879,9:-.8177,10:-.8103,11:-.802,12:-.7217,13:-.7176,14:-.7238,15:-.7091,16:-.7098,17:-.6816,18:-.6446,19:-.6373,20:-.506,21:-.6618,22:-.6756,23:-.7035},"c-score":.6499952162265595,rating:1.5,location:{latitude:40.7302393,longitude:-73.973219},last_updated:1690632e3},{id:"P718471254",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1042,"taxi-zone":140,precinct:19,"b-score":{0:-.245,1:-.4326,2:-.5739,3:-.7133,4:-.7931,5:-.8396,6:-.6651,7:-.4528,8:-.3973,9:-.209,10:-.011,11:-.0164,12:.0501,13:.1044,14:.1215,15:.1333,16:.1343,17:.1119,18:.1138,19:.0306,20:-.0189,21:-.07,22:-.1431,23:-.3083},"c-score":.7237689756346473,rating:1.5,location:{latitude:40.7640426,longitude:-73.9544696},last_updated:1690632e3},{id:"P727964618",name:"Lafayette Square",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":980,"taxi-zone":41,precinct:28,"b-score":{0:-.5467,1:-.6687,2:-.7213,3:-.7644,4:-.8395,5:-.8816,6:-.867,7:-.8128,8:-.774,9:-.6996,10:-.6052,11:-.5765,12:-.5787,13:-.5717,14:-.5695,15:-.5482,16:-.5688,17:-.4659,18:-.4888,19:-.5181,20:-.5658,21:-.5862,22:-.5937,23:-.6115},"c-score":.4653256155121827,rating:1.5,location:{latitude:40.8035524,longitude:-73.9580337},last_updated:1690632e3},{id:"P743395860",name:"The Elevated Acre",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":99,"taxi-zone":88,precinct:1,"b-score":{0:-.775,1:-.7818,2:-.8142,3:-.8635,4:-.8934,5:-.8419,6:-.8184,7:-.8076,8:-.7388,9:-.75,10:-.6844,11:-.6202,12:-.6121,13:-.6131,14:-.5978,15:-.565,16:-.5741,17:-.5716,18:-.5625,19:-.6999,20:-.7918,21:-.7606,22:-.7391,23:-.7684},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7032051,longitude:-74.0087006},last_updated:1690632e3},{id:"P759460622",name:"Minerva Bernadino Green Street",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":858,"taxi-zone":24,precinct:24,"b-score":{0:-.6779,1:-.7426,2:-.8273,3:-.8301,4:-.8961,5:-.9074,6:-.9034,7:-.8254,8:-.7325,9:-.5072,10:-.3906,11:-.348,12:-.3286,13:-.3019,14:-.1936,15:-.2082,16:-.2291,17:-.2463,18:-.2734,19:-.4311,20:-.5473,21:-.6244,22:-.7195,23:-.7388},"c-score":.4165709911978569,rating:1.5,location:{latitude:40.8028294,longitude:-73.9640762},last_updated:1690632e3},{id:"P765274333",name:"Playground 11",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":664,"taxi-zone":224,precinct:13,"b-score":{0:-.6823,1:-.7343,2:-.786,3:-.7949,4:-.8671,5:-.9074,6:-.9031,7:-.8917,8:-.879,9:-.8177,10:-.8103,11:-.802,12:-.7217,13:-.7176,14:-.7238,15:-.7091,16:-.7098,17:-.6816,18:-.6446,19:-.6373,20:-.506,21:-.6618,22:-.6756,23:-.7035},"c-score":.6499952162265595,rating:1.5,location:{latitude:40.7310982,longitude:-73.9763847},last_updated:1690632e3},{id:"P765274338",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":612,"taxi-zone":224,precinct:13,"b-score":{0:-.6823,1:-.7343,2:-.786,3:-.7949,4:-.8671,5:-.9074,6:-.9031,7:-.8917,8:-.879,9:-.8177,10:-.8103,11:-.802,12:-.7217,13:-.7176,14:-.7238,15:-.7091,16:-.7098,17:-.6816,18:-.6446,19:-.6373,20:-.506,21:-.6618,22:-.6756,23:-.7035},"c-score":.6499952162265595,rating:1.5,location:{latitude:40.7324171,longitude:-73.9792686},last_updated:1690632e3},{id:"P769716502",name:"Hillman Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":572,"taxi-zone":232,precinct:7,"b-score":{0:-.0101,1:-.2586,2:-.4595,3:-.6366,4:-.7178,5:-.8234,6:-.7615,7:-.5908,8:-.2441,9:.2197,10:.9609,11:1.1704,12:1.3301,13:1.4039,14:1.5865,15:1.5356,16:1.6014,17:1.5288,18:1.3165,19:1.0717,20:.729,21:.7287,22:.8152,23:.3216},"c-score":.4246954330909555,rating:1.5,location:{latitude:40.7151983,longitude:-73.982351},last_updated:1690632e3},{id:"P769716504",name:"Sol Lain Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":524,"taxi-zone":232,precinct:7,"b-score":{0:-.0101,1:-.2586,2:-.4595,3:-.6366,4:-.7178,5:-.8234,6:-.7615,7:-.5908,8:-.2441,9:.2197,10:.9609,11:1.1704,12:1.3301,13:1.4039,14:1.5865,15:1.5356,16:1.6014,17:1.5288,18:1.3165,19:1.0717,20:.729,21:.7287,22:.8152,23:.3216},"c-score":.4246954330909555,rating:1.5,location:{latitude:40.7142341,longitude:-73.9838951},last_updated:1690632e3},{id:"P793720073",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":760,"taxi-zone":233,precinct:17,"b-score":{0:-.6189,1:-.6534,2:-.734,3:-.7561,4:-.8508,5:-.895,6:-.9024,7:-.8917,8:-.8623,9:-.8527,10:-.8049,11:-.7306,12:-.7002,13:-.6831,14:-.6726,15:-.6615,16:-.6795,17:-.6523,18:-.622,19:-.6549,20:-.4822,21:-.6785,22:-.6838,23:-.693},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7444405,longitude:-73.9717305},last_updated:1690632e3},{id:"P800212164",name:"Catherine Slip Malls",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":316,"taxi-zone":45,precinct:5,"b-score":{0:-.5927,1:-.7684,2:-.8298,3:-.8614,4:-.8876,5:-.889,6:-.8218,7:-.7387,8:-.5042,9:-.1543,10:.2104,11:.4356,12:.6807,13:.8113,14:.9919,15:1.0256,16:.8695,17:.3703,18:.2006,19:-.1239,20:-.3119,21:-.3644,22:-.3147,23:-.4728},"c-score":.37779850746268656,rating:1.5,location:{latitude:40.7095081,longitude:-73.9961565},last_updated:1690632e3},{id:"P821278619",name:"Small Square",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":931,"taxi-zone":152,precinct:26,"b-score":{0:.8361,1:1.062,2:.692,3:.179,4:-.4312,5:-.8239,6:-.8541,7:-.8398,8:-.815,9:-.6308,10:-.535,11:-.4683,12:-.2637,13:-.2219,14:-.2279,15:-.2198,16:-.2391,17:-.2688,18:-.2747,19:.0306,20:.0195,21:.0156,22:.0042,23:.2292},"c-score":.261656461283327,rating:1.5,location:{latitude:40.8170021,longitude:-73.9588657},last_updated:1690632e3},{id:"P833335529",name:"Little Island",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"yes",opening_hours:"Mo-Su 06:00-23:00","grid-id":78,"taxi-zone":158,precinct:6,"b-score":{0:-.0331,1:-.0885,2:-.4373,3:-.6203,4:-.8113,5:-.907,6:-.8924,7:-.8754,8:-.8388,9:-.7256,10:-.4591,11:-.3962,12:-.2597,13:-.2194,14:-.2219,15:-.2267,16:-.2621,17:-.2744,18:-.1191,19:-.0803,20:-.0854,21:-.3046,22:-.3203,23:-.3896},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.7420048,longitude:-74.0106097},last_updated:1690632e3},{id:"P837603512",name:"Pier 26",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":30,"taxi-zone":231,precinct:1,"b-score":{0:-.09,1:-.0902,2:-.2901,3:-.4622,4:-.7305,5:-.8522,6:-.8524,7:-.7972,8:-.7214,9:-.4915,10:-.216,11:-.1204,12:-.0998,13:-.0967,14:-.0941,15:-.1014,16:-.0736,17:-.0027,18:-.0041,19:.0718,20:.1184,21:-.2476,22:-.2995,23:-.4414},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7212402,longitude:-74.0146496},last_updated:1690632e3},{id:"P890862707",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":277,"taxi-zone":45,precinct:5,"b-score":{0:-.5927,1:-.7684,2:-.8298,3:-.8614,4:-.8876,5:-.889,6:-.8218,7:-.7387,8:-.5042,9:-.1543,10:.2104,11:.4356,12:.6807,13:.8113,14:.9919,15:1.0256,16:.8695,17:.3703,18:.2006,19:-.1239,20:-.3119,21:-.3644,22:-.3147,23:-.4728},"c-score":.37779850746268656,rating:1.5,location:{latitude:40.7127252,longitude:-73.9985494},last_updated:1690632e3},{id:"P890862858",name:"Fishbridge Park Garden",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":202,"taxi-zone":209,precinct:1,"b-score":{0:-.7493,1:-.7692,2:-.8116,3:-.8353,4:-.8827,5:-.9059,6:-.9018,7:-.8897,8:-.8705,9:-.854,10:-.8202,11:-.7693,12:-.7368,13:-.7391,14:-.7218,15:-.7283,16:-.7242,17:-.6618,18:-.6514,19:-.7074,20:-.714,21:-.7277,22:-.7002,23:-.7587},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7090621,longitude:-74.0013335},last_updated:1690632e3},{id:"P890862859",name:"Pearl Street Playground",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":166,"taxi-zone":209,precinct:1,"b-score":{0:-.7493,1:-.7692,2:-.8116,3:-.8353,4:-.8827,5:-.9059,6:-.9018,7:-.8897,8:-.8705,9:-.854,10:-.8202,11:-.7693,12:-.7368,13:-.7391,14:-.7218,15:-.7283,16:-.7242,17:-.6618,18:-.6514,19:-.7074,20:-.714,21:-.7277,22:-.7002,23:-.7587},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7079571,longitude:-74.003871},last_updated:1690632e3},{id:"P891074490",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":164,"taxi-zone":209,precinct:1,"b-score":{0:-.7493,1:-.7692,2:-.8116,3:-.8353,4:-.8827,5:-.9059,6:-.9018,7:-.8897,8:-.8705,9:-.854,10:-.8202,11:-.7693,12:-.7368,13:-.7391,14:-.7218,15:-.7283,16:-.7242,17:-.6618,18:-.6514,19:-.7074,20:-.714,21:-.7277,22:-.7002,23:-.7587},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7104212,longitude:-74.0058293},last_updated:1690632e3},{id:"P891134387",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":33,"taxi-zone":13,precinct:1,"b-score":{0:-.9089,1:-.9068,2:-.9191,3:-.9239,4:-.9205,5:-.9097,6:-.9057,7:-.804,8:-.8465,9:-.8435,10:-.841,11:-.8312,12:-.8229,13:-.8102,14:-.8134,15:-.8256,16:-.8587,17:-.8428,18:-.8574,19:-.8969,20:-.9111,21:-.9137,22:-.9138,23:-.9128},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7165399,longitude:-74.0148155},last_updated:1690632e3},{id:"P891134388",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":32,"taxi-zone":13,precinct:1,"b-score":{0:-.9089,1:-.9068,2:-.9191,3:-.9239,4:-.9205,5:-.9097,6:-.9057,7:-.804,8:-.8465,9:-.8435,10:-.841,11:-.8312,12:-.8229,13:-.8102,14:-.8134,15:-.8256,16:-.8587,17:-.8428,18:-.8574,19:-.8969,20:-.9111,21:-.9137,22:-.9138,23:-.9128},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7173682,longitude:-74.014168},last_updated:1690632e3},{id:"P893841834",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":188,"taxi-zone":249,precinct:6,"b-score":{0:-.1399,1:-.168,2:-.1642,3:-.2269,4:-.6106,5:-.8308,6:-.7813,7:-.8103,8:-.6165,9:-.31,10:.0026,11:.2152,12:.4999,13:.625,14:.7015,15:.6524,16:.6481,17:.7281,18:.8623,19:.6684,20:.1348,21:-.1386,22:-.1678,23:-.1439},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.7352313,longitude:-74.0017222},last_updated:1690632e3},{id:"P893841889",name:"Washington Commons",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":114,"taxi-zone":158,precinct:6,"b-score":{0:-.0331,1:-.0885,2:-.4373,3:-.6203,4:-.8113,5:-.907,6:-.8924,7:-.8754,8:-.8388,9:-.7256,10:-.4591,11:-.3962,12:-.2597,13:-.2194,14:-.2219,15:-.2267,16:-.2621,17:-.2744,18:-.1191,19:-.0803,20:-.0854,21:-.3046,22:-.3203,23:-.3896},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.7384531,longitude:-74.0083015},last_updated:1690632e3},{id:"P894035808",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":190,"taxi-zone":249,precinct:6,"b-score":{0:-.1399,1:-.168,2:-.1642,3:-.2269,4:-.6106,5:-.8308,6:-.7813,7:-.8103,8:-.6165,9:-.31,10:.0026,11:.2152,12:.4999,13:.625,14:.7015,15:.6524,16:.6481,17:.7281,18:.8623,19:.6684,20:.1348,21:-.1386,22:-.1678,23:-.1439},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.7298816,longitude:-74.002776},last_updated:1690632e3},{id:"P895611180",name:"West 87th Street Garden",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":737,"taxi-zone":238,precinct:24,"b-score":{0:.0611,1:-.3082,2:-.6116,3:-.7091,4:-.8606,5:-.7964,6:-.7117,7:-.5432,8:-.0988,9:.4766,10:.997,11:1.2366,12:1.5453,13:1.5132,14:1.4811,15:1.4786,16:1.4833,17:1.5029,18:1.5087,19:1.2499,20:1.0204,21:.9019,22:.7599,23:.213},"c-score":.4165709911978569,rating:1.5,location:{latitude:40.787094,longitude:-73.9709212},last_updated:1690632e3},{id:"P895757747",name:"Joan of Arc Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":629,"taxi-zone":238,precinct:24,"b-score":{0:.0611,1:-.3082,2:-.6116,3:-.7091,4:-.8606,5:-.7964,6:-.7117,7:-.5432,8:-.0988,9:.4766,10:.997,11:1.2366,12:1.5453,13:1.5132,14:1.4811,15:1.4786,16:1.4833,17:1.5029,18:1.5087,19:1.2499,20:1.0204,21:.9019,22:.7599,23:.213},"c-score":.4165709911978569,rating:1.5,location:{latitude:40.7942118,longitude:-73.976389},last_updated:1690632e3},{id:"P904714816",name:"Happy Warrior Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":783,"taxi-zone":151,precinct:24,"b-score":{0:-.1868,1:-.2609,2:-.4581,3:-.5288,4:-.7933,5:-.8892,6:-.9039,7:-.878,8:-.8181,9:-.7031,10:-.465,11:-.3259,12:-.087,13:.0022,14:.0528,15:.0445,16:.0551,17:.0219,18:.0188,19:-.1641,20:-.2173,21:-.3816,22:-.4498,23:-.4653},"c-score":.9999999999999999,rating:1.5,location:{latitude:40.7954197,longitude:-73.9684305},last_updated:1690632e3},{id:"P918302837",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":399,"taxi-zone":143,precinct:20,"b-score":{0:.0904,1:-.3338,2:-.4521,3:-.6738,4:-.8199,5:-.8197,6:-.7316,7:-.5154,8:-.2717,9:.0766,10:.6357,11:1.0712,12:1.3224,13:1.3059,14:1.418,15:1.4295,16:1.401,17:1.3636,18:1.4066,19:1.8073,20:1.0748,21:1.0806,22:1.03,23:.6188},"c-score":.36388569970659523,rating:1.5,location:{latitude:40.7777983,longitude:-73.9873252},last_updated:1690632e3},{id:"P943557523",name:"Dorrence Brook Square",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1143,"taxi-zone":42,precinct:32,"b-score":{0:-.7381,1:-.7566,2:-.8443,3:-.8596,4:-.8882,5:-.9017,6:-.9092,7:-.9085,8:-.8873,9:-.8492,10:-.8078,11:-.7804,12:-.7296,13:-.7359,14:-.7416,15:-.7395,16:-.729,17:-.6895,18:-.6729,19:-.7354,20:-.7296,21:-.7796,22:-.8063,23:-.8003},"c-score":.5270044010715652,rating:1.5,location:{latitude:40.8181963,longitude:-73.9472809},last_updated:1690632e3},{id:"P954250916",name:"Dekovats Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1260,"taxi-zone":262,precinct:19,"b-score":{0:-.6774,1:-.6711,2:-.7102,3:-.7703,4:-.8195,5:-.901,6:-.8957,7:-.8689,8:-.7791,9:-.6598,10:-.5821,11:-.421,12:-.3885,13:-.3846,14:-.3729,15:-.3803,16:-.3968,17:-.417,18:-.4728,19:-.568,20:-.5675,21:-.5788,22:-.5952,23:-.6986},"c-score":.7237689756346473,rating:1.5,location:{latitude:40.7793517,longitude:-73.9442344},last_updated:1690632e3},{id:"P954250919",name:"Samuel Marx Triangle",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1062,"taxi-zone":41,precinct:28,"b-score":{0:-.5467,1:-.6687,2:-.7213,3:-.7644,4:-.8395,5:-.8816,6:-.867,7:-.8128,8:-.774,9:-.6996,10:-.6052,11:-.5765,12:-.5787,13:-.5717,14:-.5695,15:-.5482,16:-.5688,17:-.4659,18:-.4888,19:-.5181,20:-.5658,21:-.5862,22:-.5937,23:-.6115},"c-score":.4653256155121827,rating:1.5,location:{latitude:40.802576,longitude:-73.9527698},last_updated:1690632e3},{id:"P959894788",name:"Roger Morris Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1321,"taxi-zone":244,precinct:33,"b-score":{0:-.7873,1:-.7798,2:-.8279,3:-.8722,4:-.883,5:-.9031,6:-.9038,7:-.9049,8:-.8805,9:-.8918,10:-.8876,11:-.8813,12:-.8771,13:-.8588,14:-.8593,15:-.8585,16:-.8602,17:-.8419,18:-.8338,19:-.8,20:-.8236,21:-.8319,22:-.8066,23:-.807},"c-score":.3926999617298125,rating:1.5,location:{latitude:40.8345035,longitude:-73.9385228},last_updated:1690632e3},{id:"P959895071",name:"McKenna Square Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1319,"taxi-zone":244,precinct:33,"b-score":{0:-.7873,1:-.7798,2:-.8279,3:-.8722,4:-.883,5:-.9031,6:-.9038,7:-.9049,8:-.8805,9:-.8918,10:-.8876,11:-.8813,12:-.8771,13:-.8588,14:-.8593,15:-.8585,16:-.8602,17:-.8419,18:-.8338,19:-.8,20:-.8236,21:-.8319,22:-.8066,23:-.807},"c-score":.6868434217108554,rating:1.5,location:{latitude:40.8383487,longitude:-73.9391569},last_updated:1690632e3},{id:"P964819132",name:"Seward Park Extension Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:"dawn-dusk","grid-id":433,"taxi-zone":148,precinct:7,"b-score":{0:-.3022,1:-.6313,2:-.7019,3:-.7753,4:-.8361,5:-.888,6:-.836,7:-.8141,8:-.5703,9:-.4282,10:-.2246,11:-.1004,12:-.0054,13:.0198,14:.046,15:.0424,16:.0335,17:.0363,18:.0479,19:.0453,20:-.0841,21:-.1257,22:-.229,23:-.2397},"c-score":.5297648824412206,rating:1.5,location:{latitude:40.7171165,longitude:-73.9884804},last_updated:1690632e3},{id:"P964822654",name:"Seward Park Extension Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:"dawn-dusk","grid-id":477,"taxi-zone":232,precinct:7,"b-score":{0:-.0101,1:-.2586,2:-.4595,3:-.6366,4:-.7178,5:-.8234,6:-.7615,7:-.5908,8:-.2441,9:.2197,10:.9609,11:1.1704,12:1.3301,13:1.4039,14:1.5865,15:1.5356,16:1.6014,17:1.5288,18:1.3165,19:1.0717,20:.729,21:.7287,22:.8152,23:.3216},"c-score":.6613306653326663,rating:1.5,location:{latitude:40.7168088,longitude:-73.9848922},last_updated:1690632e3},{id:"P973521995",name:"Ahearn Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":524,"taxi-zone":232,precinct:7,"b-score":{0:-.0101,1:-.2586,2:-.4595,3:-.6366,4:-.7178,5:-.8234,6:-.7615,7:-.5908,8:-.2441,9:.2197,10:.9609,11:1.1704,12:1.3301,13:1.4039,14:1.5865,15:1.5356,16:1.6014,17:1.5288,18:1.3165,19:1.0717,20:.729,21:.7287,22:.8152,23:.3216},"c-score":.4246954330909555,rating:1.5,location:{latitude:40.7148022,longitude:-73.9834508},last_updated:1690632e3},{id:"P976724943",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":384,"taxi-zone":113,precinct:9,"b-score":{0:.8444,1:.339,2:-.0144,3:-.0265,4:-.595,5:-.7714,6:-.7109,7:-.5312,8:-.4036,9:-.1357,10:.1155,11:.4279,12:.6353,13:.6246,14:.6251,15:.6648,16:.6537,17:.8739,18:.9709,19:.7115,20:.6369,21:.6344,22:.6516,23:.5249},"c-score":.9999999999999999,rating:1.5,location:{latitude:40.7294006,longitude:-73.9911035},last_updated:1690632e3},{id:"P985281628",name:"Seward Park High School - Community Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":433,"taxi-zone":232,precinct:7,"b-score":{0:-.0101,1:-.2586,2:-.4595,3:-.6366,4:-.7178,5:-.8234,6:-.7615,7:-.5908,8:-.2441,9:.2197,10:.9609,11:1.1704,12:1.3301,13:1.4039,14:1.5865,15:1.5356,16:1.6014,17:1.5288,18:1.3165,19:1.0717,20:.729,21:.7287,22:.8152,23:.3216},"c-score":.5297648824412206,rating:1.5,location:{latitude:40.7158595,longitude:-73.9891313},last_updated:1690632e3},{id:"P990936691",name:"Pier 42 Upland Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":574,"taxi-zone":232,precinct:7,"b-score":{0:-.0101,1:-.2586,2:-.4595,3:-.6366,4:-.7178,5:-.8234,6:-.7615,7:-.5908,8:-.2441,9:.2197,10:.9609,11:1.1704,12:1.3301,13:1.4039,14:1.5865,15:1.5356,16:1.6014,17:1.5288,18:1.3165,19:1.0717,20:.729,21:.7287,22:.8152,23:.3216},"c-score":.4246954330909555,rating:1.5,location:{latitude:40.7105384,longitude:-73.981794},last_updated:1690632e3},{id:"P997819338",name:"Andrew Haswell Green Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1004,"taxi-zone":140,precinct:19,"b-score":{0:-.245,1:-.4326,2:-.5739,3:-.7133,4:-.7931,5:-.8396,6:-.6651,7:-.4528,8:-.3973,9:-.209,10:-.011,11:-.0164,12:.0501,13:.1044,14:.1215,15:.1333,16:.1343,17:.1119,18:.1138,19:.0306,20:-.0189,21:-.07,22:-.1431,23:-.3083},"c-score":.7237689756346473,rating:1.5,location:{latitude:40.7594825,longitude:-73.9575866},last_updated:1690632e3},{id:"P1015980340",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:"Apr-Oct 07:00-22:00; Nov-Mar 07:00-20:00","grid-id":477,"taxi-zone":232,precinct:7,"b-score":{0:-.0101,1:-.2586,2:-.4595,3:-.6366,4:-.7178,5:-.8234,6:-.7615,7:-.5908,8:-.2441,9:.2197,10:.9609,11:1.1704,12:1.3301,13:1.4039,14:1.5865,15:1.5356,16:1.6014,17:1.5288,18:1.3165,19:1.0717,20:.729,21:.7287,22:.8152,23:.3216},"c-score":.6613306653326663,rating:1.5,location:{latitude:40.7168628,longitude:-73.9867292},last_updated:1690632e3},{id:"P1016487162",name:"Queensborough Oval",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":963,"taxi-zone":140,precinct:19,"b-score":{0:-.245,1:-.4326,2:-.5739,3:-.7133,4:-.7931,5:-.8396,6:-.6651,7:-.4528,8:-.3973,9:-.209,10:-.011,11:-.0164,12:.0501,13:.1044,14:.1215,15:.1333,16:.1343,17:.1119,18:.1138,19:.0306,20:-.0189,21:-.07,22:-.1431,23:-.3083},"c-score":.7237689756346473,rating:1.5,location:{latitude:40.7592353,longitude:-73.9600741},last_updated:1690632e3},{id:"P1018935492",name:"Vladeck Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":573,"taxi-zone":232,precinct:7,"b-score":{0:-.0101,1:-.2586,2:-.4595,3:-.6366,4:-.7178,5:-.8234,6:-.7615,7:-.5908,8:-.2441,9:.2197,10:.9609,11:1.1704,12:1.3301,13:1.4039,14:1.5865,15:1.5356,16:1.6014,17:1.5288,18:1.3165,19:1.0717,20:.729,21:.7287,22:.8152,23:.3216},"c-score":.4246954330909555,rating:1.5,location:{latitude:40.7123997,longitude:-73.9820519},last_updated:1690632e3},{id:"P1021760821",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":176,"taxi-zone":246,precinct:10,"b-score":{0:-.7551,1:-.7565,2:-.8137,3:-.8074,4:-.83,5:-.8818,6:-.8416,7:-.8528,8:-.8536,9:-.8518,10:-.8481,11:-.8397,12:-.8475,13:-.8494,14:-.8516,15:-.835,16:-.8397,17:-.8223,18:-.8115,19:-.8076,20:-.7869,21:-.784,22:-.7599,23:-.7285},"c-score":.35804152315346344,rating:1.5,location:{latitude:40.7562014,longitude:-74.0035176},last_updated:1690632e3},{id:"P1023817153",name:"Pier 76",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":137,"taxi-zone":246,precinct:10,"b-score":{0:-.7551,1:-.7565,2:-.8137,3:-.8074,4:-.83,5:-.8818,6:-.8416,7:-.8528,8:-.8536,9:-.8518,10:-.8481,11:-.8397,12:-.8475,13:-.8494,14:-.8516,15:-.835,16:-.8397,17:-.8223,18:-.8115,19:-.8076,20:-.7869,21:-.784,22:-.7599,23:-.7285},"c-score":.38419209604802396,rating:1.5,location:{latitude:40.7591506,longitude:-74.005364},last_updated:1690632e3},{id:"P1025959315",name:"The Square",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":931,"taxi-zone":152,precinct:26,"b-score":{0:.8361,1:1.062,2:.692,3:.179,4:-.4312,5:-.8239,6:-.8541,7:-.8398,8:-.815,9:-.6308,10:-.535,11:-.4683,12:-.2637,13:-.2219,14:-.2279,15:-.2198,16:-.2391,17:-.2688,18:-.2747,19:.0306,20:.0195,21:.0156,22:.0042,23:.2292},"c-score":.261656461283327,rating:1.5,location:{latitude:40.8180211,longitude:-73.9589542},last_updated:1690632e3},{id:"P1059903962",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"24/7","grid-id":653,"taxi-zone":170,precinct:17,"b-score":{0:-.7053,1:-.7668,2:-.8162,3:-.8142,4:-.8623,5:-.8946,6:-.8293,7:-.8152,8:-.6584,9:-.5855,10:-.4967,11:-.4915,12:-.4904,13:-.486,14:-.4565,15:-.4642,16:-.469,17:-.4645,18:-.465,19:-.4646,20:-.5919,21:-.6045,22:-.6214,23:-.6476},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7500032,longitude:-73.9756477},last_updated:1690632e3},{id:"P1068258666",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":605,"taxi-zone":137,precinct:17,"b-score":{0:-.6183,1:-.6592,2:-.7179,3:-.7449,4:-.8242,5:-.8691,6:-.7933,7:-.7556,8:-.6673,9:-.487,10:-.2685,11:-.2539,12:-.2236,13:-.2217,14:-.0767,15:-.0432,16:-.0397,17:-.0053,18:-.03,19:-.052,20:-.3444,21:-.3562,22:-.3804,23:-.496},"c-score":.3771885942971485,rating:1.5,location:{latitude:40.7443685,longitude:-73.9781439},last_updated:1690632e3},{id:"P1068603579",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":506,"taxi-zone":164,precinct:14,"b-score":{0:.7336,1:.1978,2:-.0507,3:-.1212,4:-.4651,5:-.7174,6:-.7878,7:-.734,8:-.56,9:-.1413,10:.1442,11:.4509,12:.7579,13:.8741,14:.911,15:.8463,16:.93,17:.9155,18:.8542,19:.88,20:.8116,21:.6131,22:.4449,23:.3647},"c-score":1,rating:1.5,location:{latitude:40.7474521,longitude:-73.9837467},last_updated:1690632e3},{id:"P1077518596",name:"Hester Street Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":434,"taxi-zone":232,precinct:7,"b-score":{0:-.0101,1:-.2586,2:-.4595,3:-.6366,4:-.7178,5:-.8234,6:-.7615,7:-.5908,8:-.2441,9:.2197,10:.9609,11:1.1704,12:1.3301,13:1.4039,14:1.5865,15:1.5356,16:1.6014,17:1.5288,18:1.3165,19:1.0717,20:.729,21:.7287,22:.8152,23:.3216},"c-score":.7858929464732366,rating:1.5,location:{latitude:40.7154087,longitude:-73.9893119},last_updated:1690632e3},{id:"P1082729243",name:"Saint Vartan Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":708,"taxi-zone":170,precinct:17,"b-score":{0:-.7053,1:-.7668,2:-.8162,3:-.8142,4:-.8623,5:-.8946,6:-.8293,7:-.8152,8:-.6584,9:-.5855,10:-.4967,11:-.4915,12:-.4904,13:-.486,14:-.4565,15:-.4642,16:-.469,17:-.4645,18:-.465,19:-.4646,20:-.5919,21:-.6045,22:-.6214,23:-.6476},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7456086,longitude:-73.9748201},last_updated:1690632e3},{id:"P1083911850",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":429,"taxi-zone":79,precinct:9,"b-score":{0:-.3898,1:-.5314,2:-.6771,3:-.734,4:-.7957,5:-.8216,6:-.7358,7:-.5903,8:-.6486,9:-.4502,10:-.3853,11:-.3708,12:-.3483,13:-.338,14:-.3277,15:-.3244,16:-.3196,17:-.3226,18:-.3263,19:-.3657,20:-.4744,21:-.4767,22:-.4772,23:-.4424},"c-score":.48990623804056643,rating:1.5,location:{latitude:40.7231734,longitude:-73.987557},last_updated:1690632e3},{id:"P1087523912",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":607,"taxi-zone":137,precinct:13,"b-score":{0:-.6183,1:-.6592,2:-.7179,3:-.7449,4:-.8242,5:-.8691,6:-.7933,7:-.7556,8:-.6673,9:-.487,10:-.2685,11:-.2539,12:-.2236,13:-.2217,14:-.0767,15:-.0432,16:-.0397,17:-.0053,18:-.03,19:-.052,20:-.3444,21:-.3562,22:-.3804,23:-.496},"c-score":.6499952162265595,rating:1.5,location:{latitude:40.7408339,longitude:-73.9794828},last_updated:1690632e3},{id:"P1090764362",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"08:00-20:00","grid-id":1075,"taxi-zone":263,precinct:19,"b-score":{0:-.3838,1:-.5189,2:-.7085,3:-.6905,4:-.7805,5:-.8464,6:-.7853,7:-.6987,8:-.474,9:-.2623,10:-.1636,11:-.1078,12:-.0847,13:-.0839,14:-.0895,15:-.1073,16:-.0703,17:-.0813,18:-.0686,19:-.1388,20:-.1786,21:-.1774,22:-.1058,23:-.2527},"c-score":.7237689756346473,rating:1.5,location:{latitude:40.7801006,longitude:-73.9524877},last_updated:1690632e3},{id:"P1095508395",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1532,"taxi-zone":127,precinct:34,"b-score":{0:-.8878,1:-.8897,2:-.8796,3:-.894,4:-.8801,5:-.9027,6:-.9046,7:-.9176,8:-.9092,9:-.9089,10:-.9102,11:-.9088,12:-.909,13:-.9059,14:-.9062,15:-.9056,16:-.9022,17:-.9006,18:-.8864,19:-.8877,20:-.8841,21:-.8757,22:-.8788,23:-.8806},"c-score":.5172056384742952,rating:1.5,location:{latitude:40.8674781,longitude:-73.9228727},last_updated:1690632e3},{id:"P1107165183",name:"Anibal Aviles Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":899,"taxi-zone":24,precinct:24,"b-score":{0:-.6779,1:-.7426,2:-.8273,3:-.8301,4:-.8961,5:-.9074,6:-.9034,7:-.8254,8:-.7325,9:-.5072,10:-.3906,11:-.348,12:-.3286,13:-.3019,14:-.1936,15:-.2082,16:-.2291,17:-.2463,18:-.2734,19:-.4311,20:-.5473,21:-.6244,22:-.7195,23:-.7388},"c-score":.4165709911978569,rating:1.5,location:{latitude:40.801159,longitude:-73.9627985},last_updated:1690632e3},{id:"P1121582607",name:"Herald Square",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":414,"taxi-zone":100,precinct:14,"b-score":{0:-.6458,1:-.6558,2:-.5696,3:-.7847,4:-.8535,5:-.8991,6:-.9067,7:-.8935,8:-.8547,9:-.8158,10:-.6947,11:-.6167,12:-.5891,13:-.5861,14:-.5783,15:-.5783,16:-.5642,17:-.5677,18:-.5693,19:-.6553,20:-.6426,21:-.6305,22:-.5927,23:-.6651},"c-score":1,rating:1.5,location:{latitude:40.750256,longitude:-73.987625},last_updated:1690632e3},{id:"P1121932385",name:"Greeley Square Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":415,"taxi-zone":164,precinct:14,"b-score":{0:.7336,1:.1978,2:-.0507,3:-.1212,4:-.4651,5:-.7174,6:-.7878,7:-.734,8:-.56,9:-.1413,10:.1442,11:.4509,12:.7579,13:.8741,14:.911,15:.8463,16:.93,17:.9155,18:.8542,19:.88,20:.8116,21:.6131,22:.4449,23:.3647},"c-score":1,rating:1.5,location:{latitude:40.7487036,longitude:-73.9883472},last_updated:1690632e3},{id:"P1127559545",name:"Peck Slip",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":203,"taxi-zone":209,precinct:1,"b-score":{0:-.7493,1:-.7692,2:-.8116,3:-.8353,4:-.8827,5:-.9059,6:-.9018,7:-.8897,8:-.8705,9:-.854,10:-.8202,11:-.7693,12:-.7368,13:-.7391,14:-.7218,15:-.7283,16:-.7242,17:-.6618,18:-.6514,19:-.7074,20:-.714,21:-.7277,22:-.7002,23:-.7587},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7078001,longitude:-74.0015491},last_updated:1690632e3},{id:"P1127851294",name:"Imagination Playground",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":167,"taxi-zone":87,precinct:1,"b-score":{0:-.3851,1:-.3856,2:-.5767,3:-.6066,4:-.7688,5:-.8846,6:-.8926,7:-.8387,8:-.7832,9:-.65,10:-.6128,11:-.5744,12:-.3038,13:-.2715,14:-.2636,15:-.2663,16:-.2525,17:-.1971,18:-.1478,19:-.306,20:-.338,21:-.3179,22:-.2315,23:-.2871},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7061989,longitude:-74.0040983},last_updated:1690632e3},{id:"P1135559125",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1268,"taxi-zone":244,precinct:34,"b-score":{0:-.7873,1:-.7798,2:-.8279,3:-.8722,4:-.883,5:-.9031,6:-.9038,7:-.9049,8:-.8805,9:-.8918,10:-.8876,11:-.8813,12:-.8771,13:-.8588,14:-.8593,15:-.8585,16:-.8602,17:-.8419,18:-.8338,19:-.8,20:-.8236,21:-.8319,22:-.8066,23:-.807},"c-score":.5172056384742952,rating:1.5,location:{latitude:40.8505811,longitude:-73.9407742},last_updated:1690632e3},{id:"P1141662701",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":843,"taxi-zone":229,precinct:17,"b-score":{0:.4267,1:-.0641,2:-.2763,3:-.4,4:-.6217,5:-.8009,6:-.7612,7:-.6576,8:-.4028,9:-.1078,10:.1339,11:.5163,12:.6032,13:.6709,14:.7171,15:.7195,16:.6965,17:.9066,18:.9537,19:1.012,20:.8581,21:.7901,22:.606,23:.2078},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7569158,longitude:-73.9662011},last_updated:1690632e3},{id:"P1173199006",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"08:00-21:00","grid-id":1116,"taxi-zone":263,precinct:19,"b-score":{0:-.3838,1:-.5189,2:-.7085,3:-.6905,4:-.7805,5:-.8464,6:-.7853,7:-.6987,8:-.474,9:-.2623,10:-.1636,11:-.1078,12:-.0847,13:-.0839,14:-.0895,15:-.1073,16:-.0703,17:-.0813,18:-.0686,19:-.1388,20:-.1786,21:-.1774,22:-.1058,23:-.2527},"c-score":.7237689756346473,rating:1.5,location:{latitude:40.7825984,longitude:-73.949957},last_updated:1690632e3},{id:"P1173199007",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"yes",opening_hours:"24/7","grid-id":1116,"taxi-zone":263,precinct:19,"b-score":{0:-.3838,1:-.5189,2:-.7085,3:-.6905,4:-.7805,5:-.8464,6:-.7853,7:-.6987,8:-.474,9:-.2623,10:-.1636,11:-.1078,12:-.0847,13:-.0839,14:-.0895,15:-.1073,16:-.0703,17:-.0813,18:-.0686,19:-.1388,20:-.1786,21:-.1774,22:-.1058,23:-.2527},"c-score":.7237689756346473,rating:1.5,location:{latitude:40.7826106,longitude:-73.9501576},last_updated:1690632e3},{id:"P1183761752",name:"Clara Coffey Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":924,"taxi-zone":229,precinct:17,"b-score":{0:.4267,1:-.0641,2:-.2763,3:-.4,4:-.6217,5:-.8009,6:-.7612,7:-.6576,8:-.4028,9:-.1078,10:.1339,11:.5163,12:.6032,13:.6709,14:.7171,15:.7195,16:.6965,17:.9066,18:.9537,19:1.012,20:.8581,21:.7901,22:.606,23:.2078},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.755163,longitude:-73.9621444},last_updated:1690632e3},{id:"P1183958467",name:"MacArthur Playground",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":886,"taxi-zone":229,precinct:17,"b-score":{0:.4267,1:-.0641,2:-.2763,3:-.4,4:-.6217,5:-.8009,6:-.7612,7:-.6576,8:-.4028,9:-.1078,10:.1339,11:.5163,12:.6032,13:.6709,14:.7171,15:.7195,16:.6965,17:.9066,18:.9537,19:1.012,20:.8581,21:.7901,22:.606,23:.2078},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.752273,longitude:-73.9651557},last_updated:1690632e3},{id:"P1188665117",name:"Pier 42 Deck",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":527,"taxi-zone":232,precinct:7,"b-score":{0:-.0101,1:-.2586,2:-.4595,3:-.6366,4:-.7178,5:-.8234,6:-.7615,7:-.5908,8:-.2441,9:.2197,10:.9609,11:1.1704,12:1.3301,13:1.4039,14:1.5865,15:1.5356,16:1.6014,17:1.5288,18:1.3165,19:1.0717,20:.729,21:.7287,22:.8152,23:.3216},"c-score":.4246954330909555,rating:1.5,location:{latitude:40.7099785,longitude:-73.9823839},last_updated:1690632e3},{id:"P1751075",name:"John Jay Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1124,"taxi-zone":140,precinct:19,"b-score":{0:-.245,1:-.4326,2:-.5739,3:-.7133,4:-.7931,5:-.8396,6:-.6651,7:-.4528,8:-.3973,9:-.209,10:-.011,11:-.0164,12:.0501,13:.1044,14:.1215,15:.1333,16:.1343,17:.1119,18:.1138,19:.0306,20:-.0189,21:-.07,22:-.1431,23:-.3083},"c-score":.7237689756346473,rating:1.5,location:{latitude:40.7692516,longitude:-73.9496384},last_updated:1690632e3},{id:"P3690816",name:"Highbridge Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1453,"taxi-zone":120,precinct:33,"b-score":{0:-.7408,1:-.7749,2:-.816,3:-.8012,4:-.8403,5:-.8955,6:-.8773,7:-.8957,8:-.8236,9:-.8412,10:-.8494,11:-.8367,12:-.8183,13:-.8166,14:-.8198,15:-.7922,16:-.7873,17:-.767,18:-.7817,19:-.7748,20:-.7733,21:-.782,22:-.7529,23:-.7657},"c-score":.3926999617298125,rating:1.5,location:{latitude:40.8460051,longitude:-73.9319502},last_updated:1690632e3},{id:"P4099553",name:"Sara D. Roosevelt Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":349,"taxi-zone":148,precinct:5,"b-score":{0:-.3022,1:-.6313,2:-.7019,3:-.7753,4:-.8361,5:-.888,6:-.836,7:-.8141,8:-.5703,9:-.4282,10:-.2246,11:-.1004,12:-.0054,13:.0198,14:.046,15:.0424,16:.0335,17:.0363,18:.0479,19:.0453,20:-.0841,21:-.1257,22:-.229,23:-.2397},"c-score":.37779850746268656,rating:1.5,location:{latitude:40.7196275,longitude:-73.9925973},last_updated:1690632e3},{id:"P5625630",name:"Fort Tryon Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1397,"taxi-zone":243,precinct:34,"b-score":{0:.626,1:.2085,2:-.254,3:-.4226,4:-.6276,5:-.7516,6:-.6854,7:-.5511,8:-.2471,9:.0312,10:.245,11:.5866,12:.6658,13:.6465,14:.7483,15:.9222,16:.9676,17:1.0308,18:1.0704,19:1.0126,20:1.0274,21:1.0158,22:.9889,23:.4117},"c-score":.5172056384742952,rating:1.5,location:{latitude:40.8619781,longitude:-73.9326365},last_updated:1690632e3},{id:"P6802606",name:"Mannahatta Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":132,"taxi-zone":87,precinct:1,"b-score":{0:-.3851,1:-.3856,2:-.5767,3:-.6066,4:-.7688,5:-.8846,6:-.8926,7:-.8387,8:-.7832,9:-.65,10:-.6128,11:-.5744,12:-.3038,13:-.2715,14:-.2636,15:-.2663,16:-.2525,17:-.1971,18:-.1478,19:-.306,20:-.338,21:-.3179,22:-.2315,23:-.2871},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7047848,longitude:-74.006686},last_updated:1690632e3},{id:"P6992452",name:"Dag Hammarskjold Plaza",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":807,"taxi-zone":233,precinct:17,"b-score":{0:-.6189,1:-.6534,2:-.734,3:-.7561,4:-.8508,5:-.895,6:-.9024,7:-.8917,8:-.8623,9:-.8527,10:-.8049,11:-.7306,12:-.7002,13:-.6831,14:-.6726,15:-.6615,16:-.6795,17:-.6523,18:-.622,19:-.6549,20:-.4822,21:-.6785,22:-.6838,23:-.693},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7523203,longitude:-73.9688866},last_updated:1690632e3},{id:"P7095444",name:"Union Square Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":380,"taxi-zone":234,precinct:13,"b-score":{0:-.2014,1:-.4488,2:-.5232,3:-.5984,4:-.7436,5:-.8297,6:-.6918,7:-.6659,8:-.5406,9:-.3608,10:-.1536,11:-.0453,12:.1519,13:.1543,14:.1543,15:.1504,16:.1711,17:.1774,18:.1693,19:.2218,20:.2211,21:.0903,22:-.0651,23:-.2268},"c-score":.6499952162265595,rating:1.5,location:{latitude:40.7358088,longitude:-73.9904565},last_updated:1690632e3},{id:"P7095669",name:"Stuyvesant Square",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":513,"taxi-zone":107,precinct:13,"b-score":{0:-.0083,1:-.3129,2:-.3845,3:-.6548,4:-.683,5:-.7342,6:-.7399,7:-.6503,8:-.6045,9:-.2282,10:-.292,11:-.3132,12:-.3177,13:-.3349,14:-.3266,15:-.3276,16:-.3356,17:-.3467,18:-.3501,19:-.4589,20:-.4253,21:-.1654,22:-.2715,23:-.56},"c-score":.6499952162265595,rating:1.5,location:{latitude:40.7336501,longitude:-73.9839997},last_updated:1690632e3},{id:"P7109446",name:"Theodore Roosevelt Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":688,"taxi-zone":239,precinct:20,"b-score":{0:-.2639,1:-.3235,2:-.5379,3:-.6642,4:-.7299,5:-.8469,6:-.7538,7:-.4309,8:-.2028,9:.0648,10:.4253,11:.6805,12:.7773,13:.8794,14:.6825,15:.6152,16:.6779,17:.6576,18:.6479,19:.5243,20:.1852,21:.2095,22:.2172,23:-.0248},"c-score":.36388569970659523,rating:1.5,location:{latitude:40.7813637,longitude:-73.9740819},last_updated:1690632e3},{id:"P7141751",name:"The High Line",type:"park",address:null,internet_access:null,wheelchair_accessible:"yes",opening_hours:"Mo-Su 07:00-19:00","grid-id":143,"taxi-zone":246,precinct:10,"b-score":{0:-.7551,1:-.7565,2:-.8137,3:-.8074,4:-.83,5:-.8818,6:-.8416,7:-.8528,8:-.8536,9:-.8518,10:-.8481,11:-.8397,12:-.8475,13:-.8494,14:-.8516,15:-.835,16:-.8397,17:-.8223,18:-.8115,19:-.8076,20:-.7869,21:-.784,22:-.7599,23:-.7285},"c-score":.35804152315346344,rating:1.5,location:{latitude:40.7479527,longitude:-74.0039779},last_updated:1690632e3},{id:"P8176996",name:"Old Slip Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":99,"taxi-zone":87,precinct:1,"b-score":{0:-.3851,1:-.3856,2:-.5767,3:-.6066,4:-.7688,5:-.8846,6:-.8926,7:-.8387,8:-.7832,9:-.65,10:-.6128,11:-.5744,12:-.3038,13:-.2715,14:-.2636,15:-.2663,16:-.2525,17:-.1971,18:-.1478,19:-.306,20:-.338,21:-.3179,22:-.2315,23:-.2871},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7038707,longitude:-74.0085649},last_updated:1690632e3},{id:"P8456861",name:"Columbia University Well Garden",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":936,"taxi-zone":166,precinct:26,"b-score":{0:.5469,1:.3328,2:-.2377,3:-.4102,4:-.6459,5:-.7721,6:-.6737,7:-.4812,8:-.212,9:.0698,10:.5153,11:1.0142,12:1.123,13:1.111,14:1.1364,15:1.1603,16:1.1727,17:1.3626,18:1.3584,19:1.3906,20:1.2467,21:1.0089,22:.9032,23:.5912},"c-score":.261656461283327,rating:1.5,location:{latitude:40.8081586,longitude:-73.9607078},last_updated:1690632e3},{id:"P9340888",name:"United Nations Garden",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":847,"taxi-zone":233,precinct:17,"b-score":{0:-.6189,1:-.6534,2:-.734,3:-.7561,4:-.8508,5:-.895,6:-.9024,7:-.8917,8:-.8623,9:-.8527,10:-.8049,11:-.7306,12:-.7002,13:-.6831,14:-.6726,15:-.6615,16:-.6795,17:-.6523,18:-.622,19:-.6549,20:-.4822,21:-.6785,22:-.6838,23:-.693},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7509687,longitude:-73.9664023},last_updated:1690632e3},{id:"P9643461",name:"Nelson A. Rockefeller Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":33,"taxi-zone":13,precinct:1,"b-score":{0:-.9089,1:-.9068,2:-.9191,3:-.9239,4:-.9205,5:-.9097,6:-.9057,7:-.804,8:-.8465,9:-.8435,10:-.841,11:-.8312,12:-.8229,13:-.8102,14:-.8134,15:-.8256,16:-.8587,17:-.8428,18:-.8574,19:-.8969,20:-.9111,21:-.9137,22:-.9138,23:-.9128},"c-score":.613287728026534,rating:1.5,location:{latitude:40.716889,longitude:-74.0152879},last_updated:1690632e3},{id:"P10025591",name:"West 59th Street Recreation Center",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":403,"taxi-zone":143,precinct:20,"b-score":{0:.0904,1:-.3338,2:-.4521,3:-.6738,4:-.8199,5:-.8197,6:-.7316,7:-.5154,8:-.2717,9:.0766,10:.6357,11:1.0712,12:1.3224,13:1.3059,14:1.418,15:1.4295,16:1.401,17:1.3636,18:1.4066,19:1.8073,20:1.0748,21:1.0806,22:1.03,23:.6188},"c-score":.36388569970659523,rating:1.5,location:{latitude:40.7712414,longitude:-73.988724},last_updated:1690632e3},{id:"P10170445",name:"Low Plaza",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":895,"taxi-zone":166,precinct:26,"b-score":{0:.5469,1:.3328,2:-.2377,3:-.4102,4:-.6459,5:-.7721,6:-.6737,7:-.4812,8:-.212,9:.0698,10:.5153,11:1.0142,12:1.123,13:1.111,14:1.1364,15:1.1603,16:1.1727,17:1.3626,18:1.3584,19:1.3906,20:1.2467,21:1.0089,22:.9032,23:.5912},"c-score":.261656461283327,rating:1.5,location:{latitude:40.8076784,longitude:-73.9622466},last_updated:1690632e3},{id:"P10571875",name:"Duke Ellington Circle",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1108,"taxi-zone":43,precinct:22,"b-score":{0:-.6845,1:-.7485,2:-.7889,3:-.8063,4:-.8423,5:-.8792,6:-.8931,7:-.8187,8:-.8406,9:-.7618,10:-.7783,11:-.81,12:-.7735,13:-.7728,14:-.7786,15:-.769,16:-.7644,17:-.7414,18:-.7423,19:-.7227,20:-.7316,21:-.7661,22:-.7183,23:-.6923},"c-score":.2061030515257629,rating:1.5,location:{latitude:40.7968563,longitude:-73.949257},last_updated:1690632e3},{id:"P11037505",name:"Charles B. Benenson Grove",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":492,"taxi-zone":142,precinct:20,"b-score":{0:.5915,1:.1131,2:-.2938,3:-.5893,4:-.6815,5:-.7788,6:-.6814,7:-.5915,8:-.3179,9:.0434,10:.6977,11:.8754,12:1.3868,13:1.404,14:1.4016,15:1.4167,16:1.4379,17:1.5911,18:1.6434,19:1.4374,20:1.3909,21:1.2744,22:1.3672,23:.7122},"c-score":.36388569970659523,rating:1.5,location:{latitude:40.7714021,longitude:-73.9835705},last_updated:1690632e3},{id:"P11077079",name:"African Burial Ground National Monument",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":162,"taxi-zone":231,precinct:5,"b-score":{0:-.09,1:-.0902,2:-.2901,3:-.4622,4:-.7305,5:-.8522,6:-.8524,7:-.7972,8:-.7214,9:-.4915,10:-.216,11:-.1204,12:-.0998,13:-.0967,14:-.0941,15:-.1014,16:-.0736,17:-.0027,18:-.0041,19:.0718,20:.1184,21:-.2476,22:-.2995,23:-.4414},"c-score":.3986993496748374,rating:1.5,location:{latitude:40.7145261,longitude:-74.004464},last_updated:1690632e3},{id:"P11225305",name:"Honey Locust Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":922,"taxi-zone":141,precinct:17,"b-score":{0:-.0627,1:-.095,2:-.4173,3:-.5409,4:-.674,5:-.7961,6:-.6999,7:-.5611,8:-.5741,9:-.4472,10:-.3853,11:-.2821,12:-.2013,13:-.1837,14:-.166,15:-.115,16:-.0957,17:-.0604,18:.11,19:.2394,20:-.053,21:-.1887,22:-.181,23:.1036},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7601599,longitude:-73.9628992},last_updated:1690632e3},{id:"P13613032",name:"Thomas Paine Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:"Mo-Su 06:00-01:00","grid-id":199,"taxi-zone":231,precinct:5,"b-score":{0:-.09,1:-.0902,2:-.2901,3:-.4622,4:-.7305,5:-.8522,6:-.8524,7:-.7972,8:-.7214,9:-.4915,10:-.216,11:-.1204,12:-.0998,13:-.0967,14:-.0941,15:-.1014,16:-.0736,17:-.0027,18:-.0041,19:.0718,20:.1184,21:-.2476,22:-.2995,23:-.4414},"c-score":.37779850746268656,rating:1.5,location:{latitude:40.714782,longitude:-74.0027707},last_updated:1690632e3},{id:"P13678220",name:"Bella Abzug Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":214,"taxi-zone":246,precinct:10,"b-score":{0:-.7551,1:-.7565,2:-.8137,3:-.8074,4:-.83,5:-.8818,6:-.8416,7:-.8528,8:-.8536,9:-.8518,10:-.8481,11:-.8397,12:-.8475,13:-.8494,14:-.8516,15:-.835,16:-.8397,17:-.8223,18:-.8115,19:-.8076,20:-.7869,21:-.784,22:-.7599,23:-.7285},"c-score":.35804152315346344,rating:1.5,location:{latitude:40.7558415,longitude:-74.0003803},last_updated:1690632e3},{id:"P14374901",name:"Sherman Creek",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1537,"taxi-zone":127,precinct:34,"b-score":{0:-.8878,1:-.8897,2:-.8796,3:-.894,4:-.8801,5:-.9027,6:-.9046,7:-.9176,8:-.9092,9:-.9089,10:-.9102,11:-.9088,12:-.909,13:-.9059,14:-.9062,15:-.9056,16:-.9022,17:-.9006,18:-.8864,19:-.8877,20:-.8841,21:-.8757,22:-.8788,23:-.8806},"c-score":.5172056384742952,rating:1.5,location:{latitude:40.8585719,longitude:-73.9216107},last_updated:1690632e3},{id:"P14425097",name:"Saint Vartan Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":708,"taxi-zone":170,precinct:17,"b-score":{0:-.7053,1:-.7668,2:-.8162,3:-.8142,4:-.8623,5:-.8946,6:-.8293,7:-.8152,8:-.6584,9:-.5855,10:-.4967,11:-.4915,12:-.4904,13:-.486,14:-.4565,15:-.4642,16:-.469,17:-.4645,18:-.465,19:-.4646,20:-.5919,21:-.6045,22:-.6214,23:-.6476},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7452795,longitude:-73.9740145},last_updated:1690632e3},{id:"P15039698",name:"Silverstein Family Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":63,"taxi-zone":231,precinct:17,"b-score":{0:-.09,1:-.0902,2:-.2901,3:-.4622,4:-.7305,5:-.8522,6:-.8524,7:-.7972,8:-.7214,9:-.4915,10:-.216,11:-.1204,12:-.0998,13:-.0967,14:-.0941,15:-.1014,16:-.0736,17:-.0027,18:-.0041,19:.0718,20:.1184,21:-.2476,22:-.2995,23:-.4414},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7131852,longitude:-74.0114448},last_updated:1690632e3},{id:"P15902634",name:"Brooklyn Banks",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":201,"taxi-zone":45,precinct:5,"b-score":{0:-.5927,1:-.7684,2:-.8298,3:-.8614,4:-.8876,5:-.889,6:-.8218,7:-.7387,8:-.5042,9:-.1543,10:.2104,11:.4356,12:.6807,13:.8113,14:.9919,15:1.0256,16:.8695,17:.3703,18:.2006,19:-.1239,20:-.3119,21:-.3644,22:-.3147,23:-.4728},"c-score":.37779850746268656,rating:1.5,location:{latitude:40.7114732,longitude:-74.0027148},last_updated:1690632e3},{id:"P16000824",name:"Sutton Parks",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":965,"taxi-zone":229,precinct:17,"b-score":{0:.4267,1:-.0641,2:-.2763,3:-.4,4:-.6217,5:-.8009,6:-.7612,7:-.6576,8:-.4028,9:-.1078,10:.1339,11:.5163,12:.6032,13:.6709,14:.7171,15:.7195,16:.6965,17:.9066,18:.9537,19:1.012,20:.8581,21:.7901,22:.606,23:.2078},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7565069,longitude:-73.9605051},last_updated:1690632e3}],sF={data:Ale},Mle=(e,t,n,i,o)=>{const u=V.useRef(null),[f,a]=V.useState([]),y=V.useRef(),w=V.useRef();return V.useEffect(()=>{u.current&&(y.current&&y.current.remove(),y.current=new ds.Marker().setLngLat([o.longitude,o.latitude]).addTo(u.current),console.log("Placing start marker at:",[o.longitude,o.latitude]))},[u,o.latitude,o.longitude]),V.useEffect(()=>{u.current&&(w.current&&w.current.remove(),w.current=new ds.Marker().setLngLat([o.endLongitude,o.endLatitude]).addTo(u.current),console.log("Placing end marker at:",[o.endLongitude,o.endLatitude]))},[u,o.endLatitude,o.endLongitude]),V.useEffect(()=>{if(u.current)return;u.current=new ds.Map({container:e.current,style:"mapbox://styles/mapbox/streets-v11",center:[n,t],zoom:i});const k=sF.data.map(M=>({id:M.id,name:M.name,latitude:M.location.latitude,longitude:M.location.longitude}));a(k),u.current.on("load",()=>{u.current.loadImage("/static/tree.png",(M,O)=>{if(M)throw M;u.current.addImage("cat",O),u.current.addSource("markers",{type:"geojson",data:{type:"FeatureCollection",features:k.map($=>({type:"Feature",geometry:{type:"Point",coordinates:[$.longitude,$.latitude]},properties:{id:$.id,name:$.name}}))}}),u.current.addLayer({id:"markers",type:"symbol",source:"markers",layout:{"icon-image":"cat","icon-size":.25},paint:{"icon-opacity":.8}}),u.current.on("mouseenter","markers",()=>{u.current.getCanvas().style.cursor="pointer"}),u.current.on("mouseleave","markers",()=>{u.current.getCanvas().style.cursor=""})}),u.current.on("click",M=>{const O=u.current.queryRenderedFeatures(M.point,{layers:["markers"]});if(O.length>0){const $=O[0].geometry.coordinates.slice(),N=O[0].properties.name,B=O[0].properties.id;new ds.Popup({className:"custom-popup"}).setLngLat($).setHTML(`<div class="popup-content">${N}<br>${B}<br>${$}</div>`).addTo(u.current)}})})},[]),{map:u,markers:f}},Dle=(e="",t)=>{const[n,i]=V.useState(e),[o,u]=V.useState([]);return{placeName:n,suggestions:o,handlePlaceNameChange:async(y,w)=>{if(i(w||""),w){const M=await(await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${encodeURIComponent(w)}.json?access_token=${ds.accessToken}`)).json();M.features.length>0&&u(M.features.map(O=>({label:O.place_name,value:O.place_name,coordinates:O.center})))}else u([])},handlePlaceSelect:y=>{t(w=>({...w,latitude:y.coordinates[1],longitude:y.coordinates[0]}))}}},Rle=ed(),Ole=Sne({themeId:Mp,defaultTheme:Rle,defaultClassName:"MuiBox-root",generateClassName:k9.generate}),Lle=Ole;var pE={},zle=pc;Object.defineProperty(pE,"__esModule",{value:!0});var iu=pE.default=void 0,Fle=zle(fc()),Nle=z,Ble=(0,Fle.default)((0,Nle.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");iu=pE.default=Ble;const jle=lu(z.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),$le=lu(z.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function Ule(e){return pi("MuiRating",e)}const Vle=vi("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]),zm=Vle,Wle=["value"],Hle=["className","defaultValue","disabled","emptyIcon","emptyLabelText","getLabelText","highlightSelectedOnly","icon","IconContainerComponent","max","name","onChange","onChangeActive","onMouseLeave","onMouseMove","precision","readOnly","size","value"];function qle(e,t,n){return e<t?t:e>n?n:e}function Gle(e){const t=e.toString().split(".")[1];return t?t.length:0}function n4(e,t){if(e==null)return e;const n=Math.round(e/t)*t;return Number(n.toFixed(Gle(t)))}const Zle=e=>{const{classes:t,size:n,readOnly:i,disabled:o,emptyValueFocused:u,focusVisible:f}=e,a={root:["root",`size${Tn(n)}`,o&&"disabled",f&&"focusVisible",i&&"readOnly"],label:["label","pristine"],labelEmptyValue:[u&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return yi(a,Ule,t)},Xle=An("span",{name:"MuiRating",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${zm.visuallyHidden}`]:t.visuallyHidden},t.root,t[`size${Tn(n.size)}`],n.readOnly&&t.readOnly]}})(({theme:e,ownerState:t})=>me({display:"inline-flex",position:"relative",fontSize:e.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",WebkitTapHighlightColor:"transparent",[`&.${zm.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${zm.focusVisible} .${zm.iconActive}`]:{outline:"1px solid #999"},[`& .${zm.visuallyHidden}`]:KL},t.size==="small"&&{fontSize:e.typography.pxToRem(18)},t.size==="large"&&{fontSize:e.typography.pxToRem(30)},t.readOnly&&{pointerEvents:"none"})),lF=An("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:e},t)=>[t.label,e.emptyValueFocused&&t.labelEmptyValueActive]})(({ownerState:e})=>me({cursor:"inherit"},e.emptyValueFocused&&{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"})),Kle=An("span",{name:"MuiRating",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.iconEmpty&&t.iconEmpty,n.iconFilled&&t.iconFilled,n.iconHover&&t.iconHover,n.iconFocus&&t.iconFocus,n.iconActive&&t.iconActive]}})(({theme:e,ownerState:t})=>me({display:"flex",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),pointerEvents:"none"},t.iconActive&&{transform:"scale(1.2)"},t.iconEmpty&&{color:(e.vars||e).palette.action.disabled})),Yle=An("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:e=>qb(e)&&e!=="iconActive",overridesResolver:(e,t)=>{const{iconActive:n}=e;return[t.decimal,n&&t.iconActive]}})(({iconActive:e})=>me({position:"relative"},e&&{transform:"scale(1.2)"}));function Jle(e){const t=Qn(e,Wle);return z.jsx("span",me({},t))}function oA(e){const{classes:t,disabled:n,emptyIcon:i,focus:o,getLabelText:u,highlightSelectedOnly:f,hover:a,icon:y,IconContainerComponent:w,isActive:k,itemValue:M,labelProps:O,name:$,onBlur:N,onChange:B,onClick:J,onFocus:U,readOnly:G,ownerState:Z,ratingValue:Q,ratingValueRounded:se}=e,ce=f?M===Q:M<=Q,A=M<=a,_e=M<=o,le=M===se,ve=D_(),Ue=z.jsx(Kle,{as:w,value:M,className:Jn(t.icon,ce?t.iconFilled:t.iconEmpty,A&&t.iconHover,_e&&t.iconFocus,k&&t.iconActive),ownerState:me({},Z,{iconEmpty:!ce,iconFilled:ce,iconHover:A,iconFocus:_e,iconActive:k}),children:i&&!ce?i:y});return G?z.jsx("span",me({},O,{children:Ue})):z.jsxs(V.Fragment,{children:[z.jsxs(lF,me({ownerState:me({},Z,{emptyValueFocused:void 0}),htmlFor:ve},O,{children:[Ue,z.jsx("span",{className:t.visuallyHidden,children:u(M)})]})),z.jsx("input",{className:t.visuallyHidden,onFocus:U,onBlur:N,onChange:B,onClick:J,disabled:n,value:M,id:ve,type:"radio",name:$,checked:le})]})}const Qle=z.jsx(jle,{fontSize:"inherit"}),ece=z.jsx($le,{fontSize:"inherit"});function tce(e){return`${e} Star${e!==1?"s":""}`}const nce=V.forwardRef(function(t,n){const i=bi({name:"MuiRating",props:t}),{className:o,defaultValue:u=null,disabled:f=!1,emptyIcon:a=ece,emptyLabelText:y="Empty",getLabelText:w=tce,highlightSelectedOnly:k=!1,icon:M=Qle,IconContainerComponent:O=Jle,max:$=5,name:N,onChange:B,onChangeActive:J,onMouseLeave:U,onMouseMove:G,precision:Z=1,readOnly:Q=!1,size:se="medium",value:ce}=i,A=Qn(i,Hle),_e=D_(N),[le,ve]=rh({controlled:ce,default:u,name:"Rating"}),Ue=n4(le,Z),$e=N_(),[{hover:Ae,focus:Re},Oe]=V.useState({hover:-1,focus:-1});let Ye=Ue;Ae!==-1&&(Ye=Ae),Re!==-1&&(Ye=Re);const{isFocusVisibleRef:Qe,onBlur:ze,onFocus:Pe,ref:je}=_b(),[lt,ot]=V.useState(!1),ct=V.useRef(),Ct=go(je,ct,n),ut=vt=>{G&&G(vt);const gn=ct.current,{right:on,left:Bn}=gn.getBoundingClientRect(),{width:Yn}=gn.firstChild.getBoundingClientRect();let On;$e.direction==="rtl"?On=(on-vt.clientX)/(Yn*$):On=(vt.clientX-Bn)/(Yn*$);let zn=n4($*On+Z/2,Z);zn=qle(zn,Z,$),Oe(Mn=>Mn.hover===zn&&Mn.focus===zn?Mn:{hover:zn,focus:zn}),ot(!1),J&&Ae!==zn&&J(vt,zn)},yt=vt=>{U&&U(vt);const gn=-1;Oe({hover:gn,focus:gn}),J&&Ae!==gn&&J(vt,gn)},Dt=vt=>{let gn=vt.target.value===""?null:parseFloat(vt.target.value);Ae!==-1&&(gn=Ae),ve(gn),B&&B(vt,gn)},Rt=vt=>{vt.clientX===0&&vt.clientY===0||(Oe({hover:-1,focus:-1}),ve(null),B&&parseFloat(vt.target.value)===Ue&&B(vt,null))},St=vt=>{Pe(vt),Qe.current===!0&&ot(!0);const gn=parseFloat(vt.target.value);Oe(on=>({hover:on.hover,focus:gn}))},Qt=vt=>{if(Ae!==-1)return;ze(vt),Qe.current===!1&&ot(!1);const gn=-1;Oe(on=>({hover:on.hover,focus:gn}))},[Lt,qt]=V.useState(!1),an=me({},i,{defaultValue:u,disabled:f,emptyIcon:a,emptyLabelText:y,emptyValueFocused:Lt,focusVisible:lt,getLabelText:w,icon:M,IconContainerComponent:O,max:$,precision:Z,readOnly:Q,size:se}),jt=Zle(an);return z.jsxs(Xle,me({ref:Ct,onMouseMove:ut,onMouseLeave:yt,className:Jn(jt.root,o,Q&&"MuiRating-readOnly"),ownerState:an,role:Q?"img":null,"aria-label":Q?w(Ye):null},A,{children:[Array.from(new Array($)).map((vt,gn)=>{const on=gn+1,Bn={classes:jt,disabled:f,emptyIcon:a,focus:Re,getLabelText:w,highlightSelectedOnly:k,hover:Ae,icon:M,IconContainerComponent:O,name:_e,onBlur:Qt,onChange:Dt,onClick:Rt,onFocus:St,ratingValue:Ye,ratingValueRounded:Ue,readOnly:Q,ownerState:an},Yn=on===Math.ceil(Ye)&&(Ae!==-1||Re!==-1);if(Z<1){const On=Array.from(new Array(1/Z));return z.jsx(Yle,{className:Jn(jt.decimal,Yn&&jt.iconActive),ownerState:an,iconActive:Yn,children:On.map((zn,Mn)=>{const jn=n4(on-1+(Mn+1)*Z,Z);return z.jsx(oA,me({},Bn,{isActive:!1,itemValue:jn,labelProps:{style:On.length-1===Mn?{}:{width:jn===Ye?`${(Mn+1)*Z*100}%`:"0%",overflow:"hidden",position:"absolute"}}}),jn)})},on)}return z.jsx(oA,me({},Bn,{isActive:Yn,itemValue:on}),on)}),!Q&&!f&&z.jsxs(lF,{className:Jn(jt.label,jt.labelEmptyValue),ownerState:an,children:[z.jsx("input",{className:jt.visuallyHidden,value:"",id:`${_e}-empty`,type:"radio",name:_e,checked:Ue==null,onFocus:()=>qt(!0),onBlur:()=>qt(!1),onChange:Dt}),z.jsx("span",{className:jt.visuallyHidden,children:y})]})]}))}),rce=nce;var fE={},ice=pc;Object.defineProperty(fE,"__esModule",{value:!0});var h8=fE.default=void 0,oce=ice(fc()),ace=z,sce=(0,oce.default)((0,ace.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),"Favorite");h8=fE.default=sce;var mE={},lce=pc;Object.defineProperty(mE,"__esModule",{value:!0});var ux=mE.default=void 0,cce=lce(fc()),uce=z,dce=(0,cce.default)((0,uce.jsx)("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"}),"FavoriteBorder");ux=mE.default=dce;const hce="pk.eyJ1IjoiZmluYmFyYWxsYW4iLCJhIjoiY2xqY3NtYWN6MjV0ODNqcXhhaTY4aGQxdSJ9.VeVQzxCCtpyP_MeT1CkjOg";ds.accessToken=hce;const pce=()=>{const e=An(rce)({"& .MuiRating-iconFilled":{color:"#ff6d75"},"& .MuiRating-iconHover":{color:"#ff3d47"}}),t=hc(),n="/static/images/chatamble3.png",i="/static/images/chatamble2.png",{inputValues:o,setInputValues:u}=UH(),f=V.useRef(null),[a,y]=V.useState(40.73),[w,k]=V.useState(-73.445),[M,O]=V.useState(12.4),[$,N]=V.useState(!1),[B,J]=V.useState(!1),[U,G]=V.useState(!1),[Z,Q]=V.useState(1),[se,ce]=V.useState("km"),[A,_e]=V.useState(!1),[le,ve]=V.useState(!1),[Ue,$e]=V.useState(()=>{const Je=new Date;return Je.getMinutes()!==0&&Je.setHours(Je.getHours()+1,0,0,0),Je}),[Ae,Re]=V.useState(Ue),[Oe,Ye]=V.useState(!1),[Qe,ze]=V.useState(!1),[Pe,je]=V.useState(!1),[lt,ot]=V.useState(!1),[ct,Ct]=V.useState(!1),[ut,yt]=V.useState(!1),[Dt,Rt]=V.useState(!1),[St,Qt]=V.useState(!1),[Lt,qt]=V.useState(!1),[an,jt]=V.useState(!1),[vt,gn]=V.useState(!1),[on,Bn]=V.useState(!1),{map:Yn,markers:On}=Mle(f,a,w,M,o);Ple(Yn.current,o),Ile(Yn.current,$,N,B,J,o,u,Pe,je,ot);const{placeName:zn,suggestions:Mn,handlePlaceNameChange:jn,handlePlaceSelect:yr}=Dle("",u),pt=()=>{Ct(!0),yt(!1);const Je=new Date,xt=Je.getHours();u(vn=>({...vn,hour:xt}));const kt=Math.round(Je.getMinutes());Je.setMinutes(kt),Re(Je),G(!1),Ye(!0)},sn=()=>{Ct(!1),yt(!0);const Je=new Date;let xt=Je.getHours();Je.getMinutes()>0&&(xt+=1),Je.setHours(xt,0,0,0),u(kt=>({...kt,hour:xt})),Re(Je),G(!0),Ye(!0)},dn=Je=>{const xt=Je.target.value;u(kt=>({...kt,distance:xt})),console.log("handleSliderChange",o)},en=async Je=>{Je.preventDefault(),console.log("handleInputSubmit",o);try{const xt=await Hp.post("/users/handle_routeinpput_data",o,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});console.log("errorless:",xt.data);const kt=xt.data.waypoints;console.log("waypoints:",kt),u({...o,waypoints:kt}),console.log("handleInputSubmit",o),un(!1),Dn(!0),pr(!0)}catch(xt){xt.response?(console.log(xt.response),console.log("server responded with error")):xt.request?console.log("network error"):console.log(xt)}},[ln,un]=V.useState(!0),[bn,Dn]=V.useState(!1),[Fn,er]=V.useState(!1),[Ar,pr]=V.useState(!1),[mi,Hr]=V.useState(!1),[ke,oe]=V.useState(!1),ae=()=>{Hr(!1)},xe=()=>{er(!0),Dn(!1)},Fe=()=>{er(!1),Dn(!0)},Be=()=>{oe(!0)},et=()=>{oe(!1)},nt=()=>{un(!0),Dn(!1),pr(!1),er(!1)},qe=()=>{Hr(!0)},He=()=>{t("/")};return z.jsxs("div",{children:[ln&&z.jsx(z.Fragment,{children:z.jsxs("div",{className:"user-input",children:[z.jsx("div",{className:"titlebox",children:z.jsx("span",{className:"text_bar-mapfunction",children:"My Journey Planner"})}),z.jsxs("div",{className:"when-input",children:[z.jsx("p",{children:"When?"}),z.jsxs(e4,{spacing:2,direction:"row",justifyContent:"center",paddingBottom:"15px",children:[z.jsx(Jl,{className:"now-button",sx:{width:"100px",height:"2.5rem"},variant:ct?"contained":"outlined",style:ct?{borderRadius:0}:{backgroundColor:"transparent",borderColor:"black",color:"black",boxShadow:"none",borderRadius:0},onClick:pt,children:"Now"}),z.jsx(Jl,{variant:ut?"contained":"outlined",sx:{width:"100px",height:"2.5rem"},style:ut?{borderRadius:0}:{borderRadius:0,backgroundColor:"transparent",borderColor:"black",color:"black",boxShadow:"none"},onClick:sn,children:"Later"})]}),U&&z.jsx(kL,{value:Ae,onChange:Je=>{Je?(Re(Je),u(xt=>({...xt,hour:Je.getHours()}))):Re(Ue)}})]}),Oe&&z.jsxs("div",{children:[z.jsx("p",{children:"How long would like to go for?"}),z.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px"},children:[z.jsx(Mv,{style:{width:"150px"},value:Z,min:se==="km"?1:10,max:se==="km"?10:100,step:se==="km"?.5:5,valueLabelDisplay:"auto",onChange:(Je,xt)=>{Q(xt),dn(Je)},onChangeCommitted:()=>{ze(!0)}}),z.jsx(Jl,{sx:{width:"100px",height:"2.5rem"},variant:"outlined",style:ct?{borderColor:"black",color:"black",borderRadius:0}:{borderColor:"black",color:"black",borderRadius:0},onClick:()=>{if(se==="km"){const xt=(Z-1)/9*(100-10)+10;Q(xt),ce("min")}else{const xt=(Z-10)/90*(10-1)+1;Q(xt),ce("km")}dn({target:{value:Z}})},children:se==="km"?`${Z} km`:`${Z} mins`})]})]}),Qe&&z.jsxs("div",{children:[z.jsx("p",{children:"Where would you like to begin?"}),z.jsx("div",{style:{display:"flex",gap:"10px"},children:z.jsxs(e4,{spacing:1,direction:"row",justifyContent:"center",paddingBottom:"15px",children:[z.jsx(Jl,{onClick:()=>{u(Je=>({...Je,latitude:40.7505,longitude:-73.9934})),_e(!1),Rt(!0),Qt(!1),qt(!1),je(!0)},sx:{width:"110px",height:"2.5rem"},startIcon:z.jsx(l8,{}),variant:Dt?"contained":"outlined",style:Dt?{borderRadius:0}:{borderRadius:0,backgroundColor:"transparent",borderColor:"black",color:"black",boxShadow:"none"},children:"Home"}),z.jsx(Jl,{onClick:()=>{N(!$),_e(!1),Rt(!1),Qt(!0),qt(!1)},sx:{width:"110px",height:"2.5rem"},startIcon:$?z.jsx(d8,{}):z.jsx(c8,{}),variant:St?"contained":"outlined",style:St?{borderRadius:0}:{borderRadius:0,backgroundColor:"transparent",borderColor:"black",color:"black",boxShadow:"none"},children:$?"Click":"Map"}),z.jsx(Jl,{onClick:()=>{_e(!0),Rt(!1),Qt(!1),qt(!0)},sx:{width:"110px",height:"2.5rem"},startIcon:z.jsx(u8,{}),variant:Lt?"contained":"outlined",style:Lt?{borderRadius:0}:{borderRadius:0,backgroundColor:"transparent",borderColor:"black",color:"black",boxShadow:"none"},children:"Search"})]})}),A&&z.jsx(rA,{id:"address-input",options:Mn,getOptionLabel:Je=>Je.label,isOptionEqualToValue:()=>!0,style:{width:350,paddingBottom:"15px",color:"black",borderRadius:0},onInputChange:jn,onChange:(Je,xt)=>{xt&&yr(xt)},renderInput:Je=>z.jsx(XI,{...Je,label:"Type Address",variant:"outlined",size:"small",sx:{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"black"},"&:hover fieldset":{borderColor:"black"},"&.Mui-focused fieldset":{borderColor:"black"}},"& .MuiFormLabel-root":{color:"black","&.Mui-focused":{color:"black"}},"& .MuiInputBase-root":{color:"black"},"& .MuiAutocomplete-clearIndicator":{color:"black"},"& .MuiAutocomplete-popupIndicator":{color:"black"}}})})]}),Pe&&z.jsxs("div",{children:[z.jsx("p",{children:"Where would you like to go?"}),z.jsx("div",{style:{display:"flex",gap:"10px"},children:z.jsxs(e4,{spacing:1,direction:"row",justifyContent:"center",paddingBottom:"15px",children:[z.jsx(Jl,{onClick:()=>{u(Je=>({...Je,endLatitude:40.711667,endLongitude:-74.0125})),jt(!0),gn(!1),Bn(!1),ot(!0),ve(!1)},startIcon:z.jsx(l8,{}),sx:{width:"110px",height:"2.5rem"},variant:an?"contained":"outlined",style:an?{borderRadius:0}:{borderRadius:0,backgroundColor:"transparent",borderColor:"black",color:"black",boxShadow:"none"},children:"Home"}),z.jsx(Jl,{onClick:()=>{J(!B),jt(!1),gn(!0),Bn(!1),ve(!1)},sx:{width:"110px",height:"2.5rem"},startIcon:B?z.jsx(d8,{}):z.jsx(c8,{}),variant:vt?"contained":"outlined",style:vt?{borderRadius:0}:{borderRadius:0,backgroundColor:"transparent",borderColor:"black",color:"black",boxShadow:"none"},children:B?"Click":"Map"}),z.jsx(Jl,{onClick:()=>{jt(!1),gn(!1),Bn(!0),ve(!0)},sx:{width:"110px",height:"2.5rem"},startIcon:z.jsx(u8,{}),variant:on?"contained":"outlined",style:on?{borderRadius:0}:{backgroundColor:"transparent",borderColor:"black",color:"black",boxShadow:"none",borderRadius:0},children:"Search"})]})}),le&&z.jsx(rA,{id:"address-input",options:Mn,getOptionLabel:Je=>Je.label,isOptionEqualToValue:()=>!0,style:{width:350,paddingBottom:"15px",color:"black",borderRadius:0},onInputChange:jn,onChange:(Je,xt)=>{xt&&yr(xt)},renderInput:Je=>z.jsx(XI,{...Je,label:"Type Address",variant:"outlined",size:"small",sx:{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"black"},"&:hover fieldset":{borderColor:"black"},"&.Mui-focused fieldset":{borderColor:"black"}},"& .MuiFormLabel-root":{color:"black","&.Mui-focused":{color:"black"}},"& .MuiInputBase-root":{color:"black"},"& .MuiAutocomplete-clearIndicator":{color:"black"},"& .MuiAutocomplete-popupIndicator":{color:"black"}}})})]}),lt&&z.jsx("div",{className:"plansetting",children:z.jsx("a",{className:"plansetting-text",type:"submit",onClick:en,children:z.jsx("span",{children:"Let's Go!"})})}),!lt&&z.jsx("span",{className:"detail-text",children:"Dear user, please tell me more..."})]})}),Ar&&z.jsxs(z.Fragment,{children:[z.jsx("div",{className:"additional-block-text-detailtitle",children:z.jsx("span",{className:"text_bar_2-detailtitle",children:"Route Plan Presentation"})}),z.jsx("div",{className:"additional-block-datail-button",onClick:nt,children:z.jsx("span",{className:"text_bar_2-detail",children:"Change Journey Plan"})}),z.jsxs("div",{className:"detailbox",children:[z.jsx("div",{className:"detail-titlebox",children:z.jsx("span",{className:"text_bar-mapfunction-detail",children:"My Walk Detail"})}),z.jsx("p",{children:"Distance and Duration"}),z.jsx("p",{children:"Preference"}),z.jsx("p",{children:"Quietness Score"}),z.jsx("div",{className:"directionbox",children:z.jsx("div",{className:"directionbox-titlebox",children:z.jsx("span",{className:"text_bar-mapfunction-detail-2",children:"Direction Helper"})})}),z.jsx("div",{className:"finishdetail",children:z.jsx("a",{className:"finishdetail-text",type:"submit",onClick:qe,children:z.jsx("span",{children:"Finish My Walk!"})})})]})]}),bn&&z.jsx(z.Fragment,{children:z.jsx("img",{src:n,alt:"Normal Image",className:"alien-robot",onMouseEnter:Je=>Je.currentTarget.setAttribute("src",i),onMouseLeave:Je=>Je.currentTarget.setAttribute("src",n),onClick:xe})}),Fn&&z.jsx(z.Fragment,{children:z.jsxs("div",{className:"alienchatbox",id:"chatbox",children:[ke?z.jsx("img",{src:"/static/images/chatamble0.png",alt:"Image",className:"chat-robot-two"}):z.jsx("img",{src:"/static/images/chatamble1.png",alt:"Image",className:"chat-robot-two"}),z.jsxs("div",{className:"chat-titlebox",children:[z.jsx("div",{className:"additional-block-close-chatbox",onClick:Fe,onMouseEnter:Be,onMouseLeave:et,children:z.jsx(iu,{sx:{fontSize:27,color:"white"}})}),z.jsx("span",{className:"text_bar-mapfunction-chat",children:"Chat with Amble"})]})]})}),mi&&z.jsxs("div",{className:"ratewin",children:[z.jsx("img",{src:"/static/images/MenuPic5.jpg",alt:"pics",className:"ratewin-background"}),z.jsxs("div",{className:"additional-blocks-ratewin",children:[z.jsx("div",{className:"additional-block-text-ratewin",children:z.jsx("span",{className:"text_bar_2-ratewin",children:"Rate My Walk"})}),z.jsx("div",{className:"additional-block-rate-button",onClick:ae,children:z.jsx("span",{className:"text_bar_2-detail",children:"See My Walk Detail Again!"})}),z.jsx("div",{className:"additional-block-close-ratewin",onClick:He,children:z.jsx(iu,{sx:{fontSize:27,color:"white"}})})]}),z.jsxs("div",{className:"General-rate-inform",children:[z.jsx("div",{className:"stop-text",children:z.jsx("span",{children:"Journey Gernal Review "})}),z.jsxs(Lle,{sx:{"& > legend":{mt:2}},children:[z.jsxs("div",{className:"quite-rate",children:[z.jsx("div",{children:"Quietness Review: "}),z.jsx(e,{name:"customized-color",defaultValue:2,getLabelText:Je=>`${Je} Heart${Je!==1?"s":""}`,precision:.5,max:10,icon:z.jsx(h8,{fontSize:"large",sx:{fontSize:"2.2rem"}}),emptyIcon:z.jsx(ux,{fontSize:"large",sx:{fontSize:"2.2rem"}})})]}),z.jsxs("div",{className:"like-rate",children:[z.jsx("span",{children:"Favorite Review: "}),z.jsx(e,{name:"customized-color",defaultValue:2,getLabelText:Je=>`${Je} Heart${Je!==1?"s":""}`,precision:.5,max:10,icon:z.jsx(h8,{fontSize:"large",sx:{fontSize:"2.2rem"}}),emptyIcon:z.jsx(ux,{fontSize:"large",sx:{fontSize:"2.2rem"}})})]})]}),z.jsx("div",{className:"stop-text",children:z.jsx("span",{children:"Do you like your stop? "})}),z.jsxs("div",{className:"each-stop-inform",children:[z.jsxs("div",{className:"stop1",children:[z.jsx("span",{children:"PLACE ONE"}),z.jsx("div",{className:"stand-icon"}),z.jsx(Mv,{"aria-label":"love-degree",defaultValue:30,valueLabelDisplay:"auto",step:10,marks:!0,min:0,max:100})]}),z.jsxs("div",{className:"stop2",children:[z.jsx("span",{children:"PLACE TWO"}),z.jsx("div",{className:"stand-icon"}),z.jsx(Mv,{"aria-label":"love-degree",defaultValue:30,valueLabelDisplay:"auto",step:10,marks:!0,min:0,max:100})]}),z.jsxs("div",{className:"stop3",children:[z.jsx("span",{children:"PLACE THREE"}),z.jsx("div",{className:"stand-icon"}),z.jsx(Mv,{"aria-label":"love-degree",defaultValue:30,valueLabelDisplay:"auto",step:10,marks:!0,min:0,max:100})]})]}),z.jsx("div",{className:"finishrate",children:z.jsx("a",{className:"finishrate-text",type:"submit",onClick:He,children:z.jsx("span",{children:"Submit My Review"})})})]})]}),z.jsx("div",{ref:f,className:"map-container"})]})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let o=e.charCodeAt(i);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},fce=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const o=e[n++];if(o<128)t[i++]=String.fromCharCode(o);else if(o>191&&o<224){const u=e[n++];t[i++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=e[n++],f=e[n++],a=e[n++],y=((o&7)<<18|(u&63)<<12|(f&63)<<6|a&63)-65536;t[i++]=String.fromCharCode(55296+(y>>10)),t[i++]=String.fromCharCode(56320+(y&1023))}else{const u=e[n++],f=e[n++];t[i++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},uF={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<e.length;o+=3){const u=e[o],f=o+1<e.length,a=f?e[o+1]:0,y=o+2<e.length,w=y?e[o+2]:0,k=u>>2,M=(u&3)<<4|a>>4;let O=(a&15)<<2|w>>6,$=w&63;y||($=64,f||(O=64)),i.push(n[k],n[M],n[O],n[$])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(cF(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):fce(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<e.length;){const u=n[e.charAt(o++)],a=o<e.length?n[e.charAt(o)]:0;++o;const w=o<e.length?n[e.charAt(o)]:64;++o;const M=o<e.length?n[e.charAt(o)]:64;if(++o,u==null||a==null||w==null||M==null)throw new mce;const O=u<<2|a>>4;if(i.push(O),w!==64){const $=a<<4&240|w>>2;if(i.push($),M!==64){const N=w<<6&192|M;i.push(N)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class mce extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gce=function(e){const t=cF(e);return uF.encodeByteArray(t,!0)},dF=function(e){return gce(e).replace(/\./g,"")},hF=function(e){try{return uF.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ce(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yce=()=>_ce().__FIREBASE_DEFAULTS__,vce=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},xce=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&hF(e[1]);return t&&JSON.parse(t)},gE=()=>{try{return yce()||vce()||xce()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},bce=e=>{var t,n;return(n=(t=gE())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},pF=()=>{var e;return(e=gE())===null||e===void 0?void 0:e.config},fF=e=>{var t;return(t=gE())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wce{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ece(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fa())}function Sce(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Tce(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Cce(){const e=Fa();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function kce(){try{return typeof indexedDB=="object"}catch{return!1}}function Pce(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ice="FirebaseError";class Eh extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=Ice,Object.setPrototypeOf(this,Eh.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,B_.prototype.create)}}class B_{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?Ace(u,i):"Error",a=`${this.serviceName}: ${f} (${o}).`;return new Eh(o,a,i)}}function Ace(e,t){return e.replace(Mce,(n,i)=>{const o=t[i];return o!=null?String(o):`<${i}?>`})}const Mce=/\{\$([^}]+)}/g;function Dce(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function dx(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const o of n){if(!i.includes(o))return!1;const u=e[o],f=t[o];if(aA(u)&&aA(f)){if(!dx(u,f))return!1}else if(u!==f)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function aA(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Wm(e){const t={};return e.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,u]=i.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Hm(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Rce(e,t){const n=new Oce(e,t);return n.subscribe.bind(n)}class Oce{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let o;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");Lce(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:i},o.next===void 0&&(o.next=r4),o.error===void 0&&(o.error=r4),o.complete===void 0&&(o.complete=r4);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Lce(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function r4(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rd(e){return e&&e._delegate?e._delegate:e}class j0{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zce=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new wce;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Nce(t))try{this.getOrInitializeService({instanceIdentifier:ap})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});i.resolve(u)}catch{}}}}clearInstance(t=ap){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ap){return this.instances.has(t)}getOptions(t=ap){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[u,f]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(u);i===a&&f.resolve(o)}return o}onInit(t,n){var i;const o=this.normalizeInstanceIdentifier(n),u=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Fce(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=ap){return this.component?this.component.multipleInstances?t:ap:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Fce(e){return e===ap?void 0:e}function Nce(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bce{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new zce(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ii;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ii||(Ii={}));const jce={debug:Ii.DEBUG,verbose:Ii.VERBOSE,info:Ii.INFO,warn:Ii.WARN,error:Ii.ERROR,silent:Ii.SILENT},$ce=Ii.INFO,Uce={[Ii.DEBUG]:"log",[Ii.VERBOSE]:"log",[Ii.INFO]:"info",[Ii.WARN]:"warn",[Ii.ERROR]:"error"},Vce=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),o=Uce[t];if(o)console[o](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class mF{constructor(t){this.name=t,this._logLevel=$ce,this._logHandler=Vce,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ii))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?jce[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ii.DEBUG,...t),this._logHandler(this,Ii.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ii.VERBOSE,...t),this._logHandler(this,Ii.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ii.INFO,...t),this._logHandler(this,Ii.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ii.WARN,...t),this._logHandler(this,Ii.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ii.ERROR,...t),this._logHandler(this,Ii.ERROR,...t)}}const Wce=(e,t)=>t.some(n=>e instanceof n);let sA,lA;function Hce(){return sA||(sA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qce(){return lA||(lA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gF=new WeakMap,p8=new WeakMap,_F=new WeakMap,i4=new WeakMap,_E=new WeakMap;function Gce(e){const t=new Promise((n,i)=>{const o=()=>{e.removeEventListener("success",u),e.removeEventListener("error",f)},u=()=>{n(ih(e.result)),o()},f=()=>{i(e.error),o()};e.addEventListener("success",u),e.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&gF.set(n,e)}).catch(()=>{}),_E.set(t,e),t}function Zce(e){if(p8.has(e))return;const t=new Promise((n,i)=>{const o=()=>{e.removeEventListener("complete",u),e.removeEventListener("error",f),e.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{i(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",u),e.addEventListener("error",f),e.addEventListener("abort",f)});p8.set(e,t)}let f8={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return p8.get(e);if(t==="objectStoreNames")return e.objectStoreNames||_F.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ih(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Xce(e){f8=e(f8)}function Kce(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(o4(this),t,...n);return _F.set(i,t.sort?t.sort():[t]),ih(i)}:qce().includes(e)?function(...t){return e.apply(o4(this),t),ih(gF.get(this))}:function(...t){return ih(e.apply(o4(this),t))}}function Yce(e){return typeof e=="function"?Kce(e):(e instanceof IDBTransaction&&Zce(e),Wce(e,Hce())?new Proxy(e,f8):e)}function ih(e){if(e instanceof IDBRequest)return Gce(e);if(i4.has(e))return i4.get(e);const t=Yce(e);return t!==e&&(i4.set(e,t),_E.set(t,e)),t}const o4=e=>_E.get(e);function Jce(e,t,{blocked:n,upgrade:i,blocking:o,terminated:u}={}){const f=indexedDB.open(e,t),a=ih(f);return i&&f.addEventListener("upgradeneeded",y=>{i(ih(f.result),y.oldVersion,y.newVersion,ih(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),a.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",w=>o(w.oldVersion,w.newVersion,w))}).catch(()=>{}),a}const Qce=["get","getKey","getAll","getAllKeys","count"],eue=["put","add","delete","clear"],a4=new Map;function cA(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(a4.get(t))return a4.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,o=eue.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||Qce.includes(n)))return;const u=async function(f,...a){const y=this.transaction(f,o?"readwrite":"readonly");let w=y.store;return i&&(w=w.index(a.shift())),(await Promise.all([w[n](...a),o&&y.done]))[0]};return a4.set(t,u),u}Xce(e=>({...e,get:(t,n,i)=>cA(t,n)||e.get(t,n,i),has:(t,n)=>!!cA(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tue{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nue(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function nue(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const m8="@firebase/app",uA="0.9.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp=new mF("@firebase/app"),rue="@firebase/app-compat",iue="@firebase/analytics-compat",oue="@firebase/analytics",aue="@firebase/app-check-compat",sue="@firebase/app-check",lue="@firebase/auth",cue="@firebase/auth-compat",uue="@firebase/database",due="@firebase/database-compat",hue="@firebase/functions",pue="@firebase/functions-compat",fue="@firebase/installations",mue="@firebase/installations-compat",gue="@firebase/messaging",_ue="@firebase/messaging-compat",yue="@firebase/performance",vue="@firebase/performance-compat",xue="@firebase/remote-config",bue="@firebase/remote-config-compat",wue="@firebase/storage",Eue="@firebase/storage-compat",Sue="@firebase/firestore",Tue="@firebase/firestore-compat",Cue="firebase",kue="10.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g8="[DEFAULT]",Pue={[m8]:"fire-core",[rue]:"fire-core-compat",[oue]:"fire-analytics",[iue]:"fire-analytics-compat",[sue]:"fire-app-check",[aue]:"fire-app-check-compat",[lue]:"fire-auth",[cue]:"fire-auth-compat",[uue]:"fire-rtdb",[due]:"fire-rtdb-compat",[hue]:"fire-fn",[pue]:"fire-fn-compat",[fue]:"fire-iid",[mue]:"fire-iid-compat",[gue]:"fire-fcm",[_ue]:"fire-fcm-compat",[yue]:"fire-perf",[vue]:"fire-perf-compat",[xue]:"fire-rc",[bue]:"fire-rc-compat",[wue]:"fire-gcs",[Eue]:"fire-gcs-compat",[Sue]:"fire-fst",[Tue]:"fire-fst-compat","fire-js":"fire-js",[Cue]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=new Map,_8=new Map;function Iue(e,t){try{e.container.addComponent(t)}catch(n){Dp.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function i_(e){const t=e.name;if(_8.has(t))return Dp.debug(`There were multiple attempts to register component ${t}.`),!1;_8.set(t,e);for(const n of hx.values())Iue(n,e);return!0}function yF(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aue={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},oh=new B_("app","Firebase",Aue);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mue{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new j0("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw oh.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_=kue;function vF(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:g8,automaticDataCollectionEnabled:!1},t),o=i.name;if(typeof o!="string"||!o)throw oh.create("bad-app-name",{appName:String(o)});if(n||(n=pF()),!n)throw oh.create("no-options");const u=hx.get(o);if(u){if(dx(n,u.options)&&dx(i,u.config))return u;throw oh.create("duplicate-app",{appName:o})}const f=new Bce(o);for(const y of _8.values())f.addComponent(y);const a=new Mue(n,i,f);return hx.set(o,a),a}function Due(e=g8){const t=hx.get(e);if(!t&&e===g8&&pF())return vF();if(!t)throw oh.create("no-app",{appName:e});return t}function w0(e,t,n){var i;let o=(i=Pue[e])!==null&&i!==void 0?i:e;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const a=[`Unable to register library "${o}" with version "${t}":`];u&&a.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&a.push("and"),f&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Dp.warn(a.join(" "));return}i_(new j0(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rue="firebase-heartbeat-database",Oue=1,o_="firebase-heartbeat-store";let s4=null;function xF(){return s4||(s4=Jce(Rue,Oue,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(o_)}}}).catch(e=>{throw oh.create("idb-open",{originalErrorMessage:e.message})})),s4}async function Lue(e){try{return await(await xF()).transaction(o_).objectStore(o_).get(bF(e))}catch(t){if(t instanceof Eh)Dp.warn(t.message);else{const n=oh.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Dp.warn(n.message)}}}async function dA(e,t){try{const i=(await xF()).transaction(o_,"readwrite");await i.objectStore(o_).put(t,bF(e)),await i.done}catch(n){if(n instanceof Eh)Dp.warn(n.message);else{const i=oh.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Dp.warn(i.message)}}}function bF(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zue=1024,Fue=30*24*60*60*1e3;class Nue{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jue(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=hA();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const u=new Date(o.date).valueOf();return Date.now()-u<=Fue}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=hA(),{heartbeatsToSend:n,unsentEntries:i}=Bue(this._heartbeatsCache.heartbeats),o=dF(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function hA(){return new Date().toISOString().substring(0,10)}function Bue(e,t=zue){const n=[];let i=e.slice();for(const o of e){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),pA(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),pA(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class jue{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kce()?Pce().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Lue(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return dA(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return dA(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function pA(e){return dF(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ue(e){i_(new j0("platform-logger",t=>new tue(t),"PRIVATE")),i_(new j0("heartbeat",t=>new Nue(t),"PRIVATE")),w0(m8,uA,e),w0(m8,uA,"esm2017"),w0("fire-js","")}$ue("");function yE(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n}function wF(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Uue=wF,EF=new B_("auth","Firebase",wF());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=new mF("@firebase/auth");function Vue(e,...t){px.logLevel<=Ii.WARN&&px.warn(`Auth (${$_}): ${e}`,...t)}function c2(e,...t){px.logLevel<=Ii.ERROR&&px.error(`Auth (${$_}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(e,...t){throw vE(e,...t)}function eu(e,...t){return vE(e,...t)}function Wue(e,t,n){const i=Object.assign(Object.assign({},Uue()),{[t]:n});return new B_("auth","Firebase",i).create(t,{appName:e.name})}function vE(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return EF.create(e,...t)}function br(e,t,...n){if(!e)throw vE(t,...n)}function Nu(e){const t="INTERNAL ASSERTION FAILED: "+e;throw c2(t),new Error(t)}function Xu(e,t){e||Nu(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y8(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function Hue(){return fA()==="http:"||fA()==="https:"}function fA(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function que(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Hue()||Sce()||"connection"in navigator)?navigator.onLine:!0}function Gue(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(t,n){this.shortDelay=t,this.longDelay=n,Xu(n>t,"Short delay should be less than long delay!"),this.isMobile=Ece()||Tce()}get(){return que()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(e,t){Xu(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Nu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Nu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Nu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zue={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xue=new U_(3e4,6e4);function d1(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function h1(e,t,n,i,o={}){return TF(e,o,async()=>{let u={},f={};i&&(t==="GET"?f=i:u={body:JSON.stringify(i)});const a=j_(Object.assign({key:e.config.apiKey},f)).slice(1),y=await e._getAdditionalHeaders();return y["Content-Type"]="application/json",e.languageCode&&(y["X-Firebase-Locale"]=e.languageCode),SF.fetch()(CF(e,e.config.apiHost,n,a),Object.assign({method:t,headers:y,referrerPolicy:"no-referrer"},u))})}async function TF(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},Zue),t);try{const o=new Kue(e),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Rv(e,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const a=u.ok?f.errorMessage:f.error.message,[y,w]=a.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rv(e,"credential-already-in-use",f);if(y==="EMAIL_EXISTS")throw Rv(e,"email-already-in-use",f);if(y==="USER_DISABLED")throw Rv(e,"user-disabled",f);const k=i[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(w)throw Wue(e,k,w);dc(e,k)}}catch(o){if(o instanceof Eh)throw o;dc(e,"network-request-failed",{message:String(o)})}}async function V_(e,t,n,i,o={}){const u=await h1(e,t,n,i,o);return"mfaPendingCredential"in u&&dc(e,"multi-factor-auth-required",{_serverResponse:u}),u}function CF(e,t,n,i){const o=`${t}${n}?${i}`;return e.config.emulator?xE(e.config,o):`${e.config.apiScheme}://${o}`}class Kue{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(eu(this.auth,"network-request-failed")),Xue.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Rv(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const o=eu(e,t,i);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yue(e,t){return h1(e,"POST","/v1/accounts:delete",t)}async function Jue(e,t){return h1(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Que(e,t=!1){const n=rd(e),i=await n.getIdToken(t),o=bE(i);br(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:i,authTime:hg(l4(o.auth_time)),issuedAtTime:hg(l4(o.iat)),expirationTime:hg(l4(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function l4(e){return Number(e)*1e3}function bE(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return c2("JWT malformed, contained fewer than 3 sections"),null;try{const o=hF(n);return o?JSON.parse(o):(c2("Failed to decode base64 JWT payload"),null)}catch(o){return c2("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function ede(e){const t=bE(e);return br(t,"internal-error"),br(typeof t.exp<"u","internal-error"),br(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a_(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof Eh&&tde(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function tde({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nde{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hg(this.lastLoginAt),this.creationTime=hg(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fx(e){var t;const n=e.auth,i=await e.getIdToken(),o=await a_(e,Jue(n,{idToken:i}));br(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];e._notifyReloadListener(u);const f=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?ode(u.providerUserInfo):[],a=ide(e.providerData,f),y=e.isAnonymous,w=!(e.email&&u.passwordHash)&&!(a!=null&&a.length),k=y?w:!1,M={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:a,metadata:new kF(u.createdAt,u.lastLoginAt),isAnonymous:k};Object.assign(e,M)}async function rde(e){const t=rd(e);await fx(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function ide(e,t){return[...e.filter(i=>!t.some(o=>o.providerId===i.providerId)),...t]}function ode(e){return e.map(t=>{var{providerId:n}=t,i=yE(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ade(e,t){const n=await TF(e,{},async()=>{const i=j_({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=e.config,f=CF(e,o,"/v1/token",`key=${u}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",SF.fetch()(f,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){br(t.idToken,"internal-error"),br(typeof t.idToken<"u","internal-error"),br(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):ede(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return br(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:o,expiresIn:u}=await ade(t,n);this.updateTokensAndExpiration(i,o,Number(u))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:o,expirationTime:u}=n,f=new s_;return i&&(br(typeof i=="string","internal-error",{appName:t}),f.refreshToken=i),o&&(br(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(br(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new s_,this.toJSON())}_performRefresh(){return Nu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(e,t){br(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class _p{constructor(t){var{uid:n,auth:i,stsTokenManager:o}=t,u=yE(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nde(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new kF(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const n=await a_(this,this.stsTokenManager.getToken(this.auth,t));return br(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return Que(this,t)}reload(){return rde(this)}_assign(t){this!==t&&(br(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new _p(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){br(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await fx(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await a_(this,Yue(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,o,u,f,a,y,w,k;const M=(i=n.displayName)!==null&&i!==void 0?i:void 0,O=(o=n.email)!==null&&o!==void 0?o:void 0,$=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,N=(f=n.photoURL)!==null&&f!==void 0?f:void 0,B=(a=n.tenantId)!==null&&a!==void 0?a:void 0,J=(y=n._redirectEventId)!==null&&y!==void 0?y:void 0,U=(w=n.createdAt)!==null&&w!==void 0?w:void 0,G=(k=n.lastLoginAt)!==null&&k!==void 0?k:void 0,{uid:Z,emailVerified:Q,isAnonymous:se,providerData:ce,stsTokenManager:A}=n;br(Z&&A,t,"internal-error");const _e=s_.fromJSON(this.name,A);br(typeof Z=="string",t,"internal-error"),Md(M,t.name),Md(O,t.name),br(typeof Q=="boolean",t,"internal-error"),br(typeof se=="boolean",t,"internal-error"),Md($,t.name),Md(N,t.name),Md(B,t.name),Md(J,t.name),Md(U,t.name),Md(G,t.name);const le=new _p({uid:Z,auth:t,email:O,emailVerified:Q,displayName:M,isAnonymous:se,photoURL:N,phoneNumber:$,tenantId:B,stsTokenManager:_e,createdAt:U,lastLoginAt:G});return ce&&Array.isArray(ce)&&(le.providerData=ce.map(ve=>Object.assign({},ve))),J&&(le._redirectEventId=J),le}static async _fromIdTokenResponse(t,n,i=!1){const o=new s_;o.updateFromServerResponse(n);const u=new _p({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:i});return await fx(u),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA=new Map;function Bu(e){Xu(e instanceof Function,"Expected a class definition");let t=mA.get(e);return t?(Xu(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,mA.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}PF.type="NONE";const gA=PF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(e,t,n){return`firebase:${e}:${t}:${n}`}class E0{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:o,name:u}=this.auth;this.fullUserKey=u2(this.userKey,o.apiKey,u),this.fullPersistenceKey=u2("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?_p._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new E0(Bu(gA),t,i);const o=(await Promise.all(n.map(async w=>{if(await w._isAvailable())return w}))).filter(w=>w);let u=o[0]||Bu(gA);const f=u2(i,t.config.apiKey,t.name);let a=null;for(const w of n)try{const k=await w._get(f);if(k){const M=_p._fromJSON(t,k);w!==u&&(a=M),u=w;break}}catch{}const y=o.filter(w=>w._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new E0(u,t,i):(u=y[0],a&&await u._set(f,a.toJSON()),await Promise.all(n.map(async w=>{if(w!==u)try{await w._remove(f)}catch{}})),new E0(u,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(MF(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(IF(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(RF(t))return"Blackberry";if(OF(t))return"Webos";if(wE(t))return"Safari";if((t.includes("chrome/")||AF(t))&&!t.includes("edge/"))return"Chrome";if(DF(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function IF(e=Fa()){return/firefox\//i.test(e)}function wE(e=Fa()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function AF(e=Fa()){return/crios\//i.test(e)}function MF(e=Fa()){return/iemobile/i.test(e)}function DF(e=Fa()){return/android/i.test(e)}function RF(e=Fa()){return/blackberry/i.test(e)}function OF(e=Fa()){return/webos/i.test(e)}function c3(e=Fa()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function sde(e=Fa()){var t;return c3(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function lde(){return Cce()&&document.documentMode===10}function LF(e=Fa()){return c3(e)||DF(e)||OF(e)||RF(e)||/windows phone/i.test(e)||MF(e)}function cde(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zF(e,t=[]){let n;switch(e){case"Browser":n=_A(Fa());break;case"Worker":n=`${_A(Fa())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${$_}/${i}`}async function FF(e,t){return h1(e,"GET","/v2/recaptchaConfig",d1(e,t))}function yA(e){return e!==void 0&&e.enterprise!==void 0}class NF{constructor(t){if(this.siteKey="",this.emailPasswordEnabled=!1,t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ude(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function BF(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=o=>{const u=eu("internal-error");u.customData=o,n(u)},i.type="text/javascript",i.charset="UTF-8",ude().appendChild(i)})}function dde(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const hde="https://www.google.com/recaptcha/enterprise.js?render=",pde="recaptcha-enterprise",fde="NO_RECAPTCHA";class jF{constructor(t){this.type=pde,this.auth=p1(t)}async verify(t="verify",n=!1){async function i(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,a)=>{FF(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const w=new NF(y);return u.tenantId==null?u._agentRecaptchaConfig=w:u._tenantRecaptchaConfigs[u.tenantId]=w,f(w.siteKey)}}).catch(y=>{a(y)})})}function o(u,f,a){const y=window.grecaptcha;yA(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:t}).then(w=>{f(w)}).catch(()=>{f(fde)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((u,f)=>{i(this.auth).then(a=>{if(!n&&yA(window.grecaptcha))o(a,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}BF(hde+a).then(()=>{o(a,u,f)}).catch(y=>{f(y)})}}).catch(a=>{f(a)})})}}async function mx(e,t,n,i=!1){const o=new jF(e);let u;try{u=await o.verify(n)}catch{u=await o.verify(n,!0)}const f=Object.assign({},t);return i?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mde{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=u=>new Promise((f,a)=>{try{const y=t(u);f(y)}catch(y){a(y)}});i.onAbort=n,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gde{constructor(t,n,i,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vA(this),this.idTokenSubscription=new vA(this),this.beforeStateQueue=new mde(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=EF,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Bu(n)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await E0.create(this,t),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const i=await this.assertedPersistence.getCurrentUser();let o=i,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=o==null?void 0:o._redirectEventId,y=await this.tryRedirectSignIn(t);(!f||f===a)&&(y!=null&&y.user)&&(o=y.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return br(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await fx(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Gue()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?rd(t):null;return n&&br(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&br(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Bu(t))})}async initializeRecaptchaConfig(){const t=await FF(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new NF(t);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new jF(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new B_("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Bu(t)||this._popupRedirectResolver;br(n,this,"argument-error"),this.redirectPersistenceManager=await E0.create(this,[Bu(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n),f=this._isInitialized?Promise.resolve():this._initializationPromise;return br(f,this,"internal-error"),f.then(()=>u(this.currentUser)),typeof n=="function"?t.addObserver(n,i,o):t.addObserver(n)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return br(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=zF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&Vue(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function p1(e){return rd(e)}class vA{constructor(t){this.auth=t,this.observer=null,this.addObserver=Rce(n=>this.observer=n)}get next(){return br(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _de(e,t){const n=yF(e,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(dx(u,t??{}))return o;dc(o,"already-initialized")}return n.initialize({options:t})}function yde(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Bu);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function vde(e,t,n){const i=p1(e);br(i._canInitEmulator,i,"emulator-config-failed"),br(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const o=!!(n!=null&&n.disableWarnings),u=$F(t),{host:f,port:a}=xde(t),y=a===null?"":`:${a}`;i.config.emulator={url:`${u}//${f}${y}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:f,port:a,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})}),o||bde()}function $F(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function xde(e){const t=$F(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const u=o[1];return{host:u,port:xA(i.substr(u.length+1))}}else{const[u,f]=i.split(":");return{host:u,port:xA(f)}}}function xA(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function bde(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Nu("not implemented")}_getIdTokenResponse(t){return Nu("not implemented")}_linkToIdToken(t,n){return Nu("not implemented")}_getReauthenticationResolver(t){return Nu("not implemented")}}async function wde(e,t){return h1(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c4(e,t){return V_(e,"POST","/v1/accounts:signInWithPassword",d1(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ede(e,t){return V_(e,"POST","/v1/accounts:signInWithEmailLink",d1(e,t))}async function Sde(e,t){return V_(e,"POST","/v1/accounts:signInWithEmailLink",d1(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_ extends EE{constructor(t,n,i,o=null){super("password",i),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new l_(t,n,"password")}static _fromEmailAndCode(t,n,i=null){return new l_(t,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){var n;switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=t._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const o=await mx(t,i,"signInWithPassword");return c4(t,o)}else return c4(t,i).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const u=await mx(t,i,"signInWithPassword");return c4(t,u)}else return Promise.reject(o)});case"emailLink":return Ede(t,{email:this._email,oobCode:this._password});default:dc(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":return wde(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Sde(t,{idToken:n,email:this._email,oobCode:this._password});default:dc(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S0(e,t){return V_(e,"POST","/v1/accounts:signInWithIdp",d1(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tde="http://localhost";class Rp extends EE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Rp(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):dc("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:o}=n,u=yE(n,["providerId","signInMethod"]);if(!i||!o)return null;const f=new Rp(i,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return S0(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,S0(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,S0(t,n)}buildRequest(){const t={requestUri:Tde,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=j_(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cde(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kde(e){const t=Wm(Hm(e)).link,n=t?Wm(Hm(t)).deep_link_id:null,i=Wm(Hm(e)).deep_link_id;return(i?Wm(Hm(i)).link:null)||i||n||t||e}class SE{constructor(t){var n,i,o,u,f,a;const y=Wm(Hm(t)),w=(n=y.apiKey)!==null&&n!==void 0?n:null,k=(i=y.oobCode)!==null&&i!==void 0?i:null,M=Cde((o=y.mode)!==null&&o!==void 0?o:null);br(w&&k&&M,"argument-error"),this.apiKey=w,this.operation=M,this.code=k,this.continueUrl=(u=y.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=y.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(a=y.tenantId)!==null&&a!==void 0?a:null}static parseLink(t){const n=kde(t);try{return new SE(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(){this.providerId=f1.PROVIDER_ID}static credential(t,n){return l_._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const i=SE.parseLink(n);return br(i,"argument-error"),l_._fromEmailAndCode(t,i.code,i.tenantId)}}f1.PROVIDER_ID="password";f1.EMAIL_PASSWORD_SIGN_IN_METHOD="password";f1.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_ extends UF{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd extends W_{constructor(){super("facebook.com")}static credential(t){return Rp._fromParams({providerId:Fd.PROVIDER_ID,signInMethod:Fd.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fd.credentialFromTaggedObject(t)}static credentialFromError(t){return Fd.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fd.credential(t.oauthAccessToken)}catch{return null}}}Fd.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fd.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd extends W_{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Rp._fromParams({providerId:Nd.PROVIDER_ID,signInMethod:Nd.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Nd.credentialFromTaggedObject(t)}static credentialFromError(t){return Nd.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return Nd.credential(n,i)}catch{return null}}}Nd.GOOGLE_SIGN_IN_METHOD="google.com";Nd.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd extends W_{constructor(){super("github.com")}static credential(t){return Rp._fromParams({providerId:Bd.PROVIDER_ID,signInMethod:Bd.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Bd.credentialFromTaggedObject(t)}static credentialFromError(t){return Bd.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Bd.credential(t.oauthAccessToken)}catch{return null}}}Bd.GITHUB_SIGN_IN_METHOD="github.com";Bd.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd extends W_{constructor(){super("twitter.com")}static credential(t,n){return Rp._fromParams({providerId:jd.PROVIDER_ID,signInMethod:jd.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return jd.credentialFromTaggedObject(t)}static credentialFromError(t){return jd.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return jd.credential(n,i)}catch{return null}}}jd.TWITTER_SIGN_IN_METHOD="twitter.com";jd.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u4(e,t){return V_(e,"POST","/v1/accounts:signUp",d1(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,o=!1){const u=await _p._fromIdTokenResponse(t,i,o),f=bA(i);return new Op({user:u,providerId:f,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const o=bA(i);return new Op({user:t,providerId:o,_tokenResponse:i,operationType:n})}}function bA(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx extends Eh{constructor(t,n,i,o){var u;super(n.code,n.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,gx.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,o){return new gx(t,n,i,o)}}function VF(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?gx._fromErrorAndOperation(e,u,t,i):u})}async function Pde(e,t,n=!1){const i=await a_(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Op._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ide(e,t,n=!1){const{auth:i}=e,o="reauthenticate";try{const u=await a_(e,VF(i,o,t,e),n);br(u.idToken,i,"internal-error");const f=bE(u.idToken);br(f,i,"internal-error");const{sub:a}=f;return br(e.uid===a,i,"user-mismatch"),Op._forOperation(e,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&dc(i,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WF(e,t,n=!1){const i="signIn",o=await VF(e,i,t),u=await Op._fromIdTokenResponse(e,i,o);return n||await e._updateCurrentUser(u.user),u}async function Ade(e,t){return WF(p1(e),t)}async function Mde(e,t,n){var i;const o=p1(e),u={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let f;if(!((i=o._getRecaptchaConfig())===null||i===void 0)&&i.emailPasswordEnabled){const w=await mx(o,u,"signUpPassword");f=u4(o,w)}else f=u4(o,u).catch(async w=>{if(w.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const k=await mx(o,u,"signUpPassword");return u4(o,k)}else return Promise.reject(w)});const a=await f.catch(w=>Promise.reject(w)),y=await Op._fromIdTokenResponse(o,"signIn",a);return await o._updateCurrentUser(y.user),y}function Dde(e,t,n){return Ade(rd(e),f1.credential(t,n))}function Rde(e,t,n,i){return rd(e).onIdTokenChanged(t,n,i)}function Ode(e,t,n){return rd(e).beforeAuthStateChanged(t,n)}function Lde(e,t,n,i){return rd(e).onAuthStateChanged(t,n,i)}function zde(e){return rd(e).signOut()}const _x="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_x,"1"),this.storage.removeItem(_x),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fde(){const e=Fa();return wE(e)||c3(e)}const Nde=1e3,Bde=10;class qF extends HF{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Fde()&&cde(),this.fallbackToPolling=LF(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),o=this.localCache[n];i!==o&&t(n,o,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,a,y)=>{this.notifyListeners(f,y)});return}const i=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const f=this.storage.getItem(i);if(t.newValue!==f)t.newValue!==null?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!n)return}const o=()=>{const f=this.storage.getItem(i);!n&&this.localCache[i]===f||this.notifyListeners(i,f)},u=this.storage.getItem(i);lde()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,Bde):o()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const o of Array.from(i))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},Nde)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}qF.type="LOCAL";const jde=qF;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF extends HF{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}GF.type="SESSION";const ZF=GF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $de(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const i=new u3(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const a=Array.from(f).map(async w=>w(n.origin,u)),y=await $de(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:y})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}u3.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ude{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((a,y)=>{const w=TE("",20);o.port1.start();const k=setTimeout(()=>{y(new Error("unsupported_event"))},i);f={messageChannel:o,onMessage(M){const O=M;if(O.data.eventId===w)switch(O.data.status){case"ack":clearTimeout(k),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),a(O.data.response);break;default:clearTimeout(k),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:w,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(){return window}function Vde(e){tu().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XF(){return typeof tu().WorkerGlobalScope<"u"&&typeof tu().importScripts=="function"}async function Wde(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Hde(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function qde(){return XF()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KF="firebaseLocalStorageDb",Gde=1,yx="firebaseLocalStorage",YF="fbase_key";class H_{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function d3(e,t){return e.transaction([yx],t?"readwrite":"readonly").objectStore(yx)}function Zde(){const e=indexedDB.deleteDatabase(KF);return new H_(e).toPromise()}function v8(){const e=indexedDB.open(KF,Gde);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(yx,{keyPath:YF})}catch(o){n(o)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(yx)?t(i):(i.close(),await Zde(),t(await v8()))})})}async function wA(e,t,n){const i=d3(e,!0).put({[YF]:t,value:n});return new H_(i).toPromise()}async function Xde(e,t){const n=d3(e,!1).get(t),i=await new H_(n).toPromise();return i===void 0?null:i.value}function EA(e,t){const n=d3(e,!0).delete(t);return new H_(n).toPromise()}const Kde=800,Yde=3;class JF{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await v8(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>Yde)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XF()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=u3._getInstance(qde()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await Wde(),!this.activeServiceWorker)return;this.sender=new Ude(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Hde()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await v8();return await wA(t,_x,"1"),await EA(t,_x),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>wA(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>Xde(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>EA(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=d3(o,!1).getAll();return new H_(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;for(const{fbase_key:o,value:u}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const o of Array.from(i))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Kde)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}JF.type="LOCAL";const Jde=JF;new U_(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qde(e,t){return t?Bu(t):(br(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE extends EE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return S0(t,this._buildIdpRequest())}_linkToIdToken(t,n){return S0(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return S0(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function ehe(e){return WF(e.auth,new CE(e),e.bypassAuthState)}function the(e){const{auth:t,user:n}=e;return br(n,t,"internal-error"),Ide(n,new CE(e),e.bypassAuthState)}async function nhe(e){const{auth:t,user:n}=e;return br(n,t,"internal-error"),Pde(n,new CE(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(t,n,i,o,u=!1){this.auth=t,this.resolver=i,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:o,tenantId:u,error:f,type:a}=t;if(f){this.reject(f);return}const y={auth:this.auth,requestUri:n,sessionId:i,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(y))}catch(w){this.reject(w)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return ehe;case"linkViaPopup":case"linkViaRedirect":return nhe;case"reauthViaPopup":case"reauthViaRedirect":return the;default:dc(this.auth,"internal-error")}}resolve(t){Xu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Xu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rhe=new U_(2e3,1e4);class c0 extends QF{constructor(t,n,i,o,u){super(t,n,o,u),this.provider=i,this.authWindow=null,this.pollId=null,c0.currentPopupAction&&c0.currentPopupAction.cancel(),c0.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return br(t,this.auth,"internal-error"),t}async onExecution(){Xu(this.filter.length===1,"Popup operations only handle one event");const t=TE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(eu(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(eu(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,c0.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(eu(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,rhe.get())};t()}}c0.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ihe="pendingRedirect",d2=new Map;class ohe extends QF{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=d2.get(this.auth._key());if(!t){try{const i=await ahe(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}d2.set(this.auth._key(),t)}return this.bypassAuthState||d2.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ahe(e,t){const n=che(t),i=lhe(e);if(!await i._isAvailable())return!1;const o=await i._get(n)==="true";return await i._remove(n),o}function she(e,t){d2.set(e._key(),t)}function lhe(e){return Bu(e._redirectPersistence)}function che(e){return u2(ihe,e.config.apiKey,e.name)}async function uhe(e,t,n=!1){const i=p1(e),o=Qde(i,t),f=await new ohe(i,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await i._persistUserIfCurrent(f.user),await i._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dhe=10*60*1e3;class hhe{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!phe(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!eN(t)){const o=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(eu(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=dhe&&this.cachedEventUids.clear(),this.cachedEventUids.has(SA(t))}saveEventToCache(t){this.cachedEventUids.add(SA(t)),this.lastProcessedEventTime=Date.now()}}function SA(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function eN({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function phe(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eN(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fhe(e,t={}){return h1(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mhe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ghe=/^https?/;async function _he(e){if(e.config.emulator)return;const{authorizedDomains:t}=await fhe(e);for(const n of t)try{if(yhe(n))return}catch{}dc(e,"unauthorized-domain")}function yhe(e){const t=y8(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const f=new URL(e);return f.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===i}if(!ghe.test(n))return!1;if(mhe.test(e))return i===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vhe=new U_(3e4,6e4);function TA(){const e=tu().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function xhe(e){return new Promise((t,n)=>{var i,o,u;function f(){TA(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{TA(),n(eu(e,"network-request-failed"))},timeout:vhe.get()})}if(!((o=(i=tu().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=tu().gapi)===null||u===void 0)&&u.load)f();else{const a=dde("iframefcb");return tu()[a]=()=>{gapi.load?f():n(eu(e,"network-request-failed"))},BF(`https://apis.google.com/js/api.js?onload=${a}`).catch(y=>n(y))}}).catch(t=>{throw h2=null,t})}let h2=null;function bhe(e){return h2=h2||xhe(e),h2}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const whe=new U_(5e3,15e3),Ehe="__/auth/iframe",She="emulator/auth/iframe",The={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Che=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function khe(e){const t=e.config;br(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?xE(t,She):`https://${e.config.authDomain}/${Ehe}`,i={apiKey:t.apiKey,appName:e.name,v:$_},o=Che.get(e.config.apiHost);o&&(i.eid=o);const u=e._getFrameworks();return u.length&&(i.fw=u.join(",")),`${n}?${j_(i).slice(1)}`}async function Phe(e){const t=await bhe(e),n=tu().gapi;return br(n,e,"internal-error"),t.open({where:document.body,url:khe(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:The,dontclear:!0},i=>new Promise(async(o,u)=>{await i.restyle({setHideOnLeave:!1});const f=eu(e,"network-request-failed"),a=tu().setTimeout(()=>{u(f)},whe.get());function y(){tu().clearTimeout(a),o(i)}i.ping(y).then(y,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ihe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ahe=500,Mhe=600,Dhe="_blank",Rhe="http://localhost";class CA{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ohe(e,t,n,i=Ahe,o=Mhe){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const y=Object.assign(Object.assign({},Ihe),{width:i.toString(),height:o.toString(),top:u,left:f}),w=Fa().toLowerCase();n&&(a=AF(w)?Dhe:n),IF(w)&&(t=t||Rhe,y.scrollbars="yes");const k=Object.entries(y).reduce((O,[$,N])=>`${O}${$}=${N},`,"");if(sde(w)&&a!=="_self")return Lhe(t||"",a),new CA(null);const M=window.open(t||"",a,k);br(M,e,"popup-blocked");try{M.focus()}catch{}return new CA(M)}function Lhe(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zhe="__/auth/handler",Fhe="emulator/auth/handler",Nhe=encodeURIComponent("fac");async function kA(e,t,n,i,o,u){br(e.config.authDomain,e,"auth-domain-config-required"),br(e.config.apiKey,e,"invalid-api-key");const f={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:$_,eventId:o};if(t instanceof UF){t.setDefaultLanguage(e.languageCode),f.providerId=t.providerId||"",Dce(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[k,M]of Object.entries(u||{}))f[k]=M}if(t instanceof W_){const k=t.getScopes().filter(M=>M!=="");k.length>0&&(f.scopes=k.join(","))}e.tenantId&&(f.tid=e.tenantId);const a=f;for(const k of Object.keys(a))a[k]===void 0&&delete a[k];const y=await e._getAppCheckToken(),w=y?`#${Nhe}=${encodeURIComponent(y)}`:"";return`${Bhe(e)}?${j_(a).slice(1)}${w}`}function Bhe({config:e}){return e.emulator?xE(e,Fhe):`https://${e.authDomain}/${zhe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4="webStorageSupport";class jhe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZF,this._completeRedirectFn=uhe,this._overrideRedirectResult=she}async _openPopup(t,n,i,o){var u;Xu((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await kA(t,n,i,y8(),o);return Ohe(t,f,TE())}async _openRedirect(t,n,i,o){await this._originValidation(t);const u=await kA(t,n,i,y8(),o);return Vde(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Xu(u,"If manager is not set, promise should be"),u)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await Phe(t),i=new hhe(t);return n.register("authEvent",o=>(br(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(d4,{type:d4},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[d4];f!==void 0&&n(!!f),dc(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_he(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return LF()||wE()||c3()}}const $he=jhe;var PA="@firebase/auth",IA="1.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uhe{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){br(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vhe(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Whe(e){i_(new j0("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:a}=i.options;br(f&&!f.includes(":"),"invalid-api-key",{appName:i.name});const y={apiKey:f,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zF(e)},w=new gde(i,o,u,y);return yde(w,n),w},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),i_(new j0("auth-internal",t=>{const n=p1(t.getProvider("auth").getImmediate());return(i=>new Uhe(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),w0(PA,IA,Vhe(e)),w0(PA,IA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hhe=5*60,qhe=fF("authIdTokenMaxAge")||Hhe;let AA=null;const Ghe=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>qhe)return;const o=n==null?void 0:n.token;AA!==o&&(AA=o,await fetch(e,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Zhe(e=Due()){const t=yF(e,"auth");if(t.isInitialized())return t.getImmediate();const n=_de(e,{popupRedirectResolver:$he,persistence:[Jde,jde,ZF]}),i=fF("authTokenSyncURL");if(i){const u=Ghe(i);Ode(n,u,()=>u(n.currentUser)),Rde(n,f=>u(f))}const o=bce("auth");return o&&vde(n,`http://${o}`),n}Whe("Browser");var Xhe="firebase",Khe="10.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */w0(Xhe,Khe,"app");const Yhe={apiKey:"AIzaSyCKFlLil4_yvpS8ocVgFA3ApN-6iKxHPSw",authDomain:"ucdsummerproject.firebaseapp.com",projectId:"ucdsummerproject",storageBucket:"ucdsummerproject.appspot.com",messagingSenderId:"676041294527",appId:"1:676041294527:web:a2db72965b6bc06600bc0a"},Jhe=vF(Yhe),Ov=Zhe(Jhe),tN=V.createContext(),Qhe=({children:e})=>{const[t,n]=V.useState({}),i=(f,a)=>Mde(Ov,f,a),o=(f,a)=>Dde(Ov,f,a),u=()=>zde(Ov);return V.useEffect(()=>{const f=Lde(Ov,a=>{console.log(a),n(a)});return()=>{f()}},[]),z.jsx(tN.Provider,{value:{createUser:i,user:t,logout:u,signIn:o},children:e})},h3=()=>V.useContext(tN);function epe(e){return pi("MuiAlert",e)}const tpe=vi("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),MA=tpe,npe=lu(z.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),rpe=lu(z.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),ipe=lu(z.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),ope=lu(z.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),ape=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],spe=e=>{const{variant:t,color:n,severity:i,classes:o}=e,u={root:["root",`${t}${Tn(n||i)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return yi(u,epe,o)},lpe=An(s3,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${Tn(n.color||n.severity)}`]]}})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?rx:ix,i=e.palette.mode==="light"?ix:rx,o=t.color||t.severity;return me({},e.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},o&&t.variant==="standard"&&{color:e.vars?e.vars.palette.Alert[`${o}Color`]:n(e.palette[o].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${o}StandardBg`]:i(e.palette[o].light,.9),[`& .${MA.icon}`]:e.vars?{color:e.vars.palette.Alert[`${o}IconColor`]}:{color:e.palette[o].main}},o&&t.variant==="outlined"&&{color:e.vars?e.vars.palette.Alert[`${o}Color`]:n(e.palette[o].light,.6),border:`1px solid ${(e.vars||e).palette[o].light}`,[`& .${MA.icon}`]:e.vars?{color:e.vars.palette.Alert[`${o}IconColor`]}:{color:e.palette[o].main}},o&&t.variant==="filled"&&me({fontWeight:e.typography.fontWeightMedium},e.vars?{color:e.vars.palette.Alert[`${o}FilledColor`],backgroundColor:e.vars.palette.Alert[`${o}FilledBg`]}:{backgroundColor:e.palette.mode==="dark"?e.palette[o].dark:e.palette[o].main,color:e.palette.getContrastText(e.palette[o].main)}))}),cpe=An("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),upe=An("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),DA=An("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),RA={success:z.jsx(npe,{fontSize:"inherit"}),warning:z.jsx(rpe,{fontSize:"inherit"}),error:z.jsx(ipe,{fontSize:"inherit"}),info:z.jsx(ope,{fontSize:"inherit"})},dpe=V.forwardRef(function(t,n){var i,o,u,f,a,y;const w=bi({props:t,name:"MuiAlert"}),{action:k,children:M,className:O,closeText:$="Close",color:N,components:B={},componentsProps:J={},icon:U,iconMapping:G=RA,onClose:Z,role:Q="alert",severity:se="success",slotProps:ce={},slots:A={},variant:_e="standard"}=w,le=Qn(w,ape),ve=me({},w,{color:N,severity:se,variant:_e}),Ue=spe(ve),$e=(i=(o=A.closeButton)!=null?o:B.CloseButton)!=null?i:lE,Ae=(u=(f=A.closeIcon)!=null?f:B.CloseIcon)!=null?u:iF,Re=(a=ce.closeButton)!=null?a:J.closeButton,Oe=(y=ce.closeIcon)!=null?y:J.closeIcon;return z.jsxs(lpe,me({role:Q,elevation:0,ownerState:ve,className:Jn(Ue.root,O),ref:n},le,{children:[U!==!1?z.jsx(cpe,{ownerState:ve,className:Ue.icon,children:U||G[se]||RA[se]}):null,z.jsx(upe,{ownerState:ve,className:Ue.message,children:M}),k!=null?z.jsx(DA,{ownerState:ve,className:Ue.action,children:k}):null,k==null&&Z?z.jsx(DA,{ownerState:ve,className:Ue.action,children:z.jsx($e,me({size:"small","aria-label":$,title:$,color:"inherit",onClick:Z},Re,{children:z.jsx(Ae,me({fontSize:"small"},Oe))}))}):null]}))}),vx=dpe,nN=()=>{const e=hc(),[t,n]=V.useState(!1),[i,o]=V.useState(!1),[u,f]=V.useState(""),[a,y]=V.useState(""),w=()=>{n(!1),f("")},k=()=>{o(!1),y("")},M=()=>{e("/")},[O,$]=V.useState({first_name:"",last_name:"",email:"",address:"",password:""});document.getElementById("error-message");const N=J=>{$({...O,[J.target.name]:J.target.value})},B=async J=>{J.preventDefault(),Hp.post("/users/registration",O,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(U=>{console.log(U),o(!0),y("Dear user, your registration is successful!"),setTimeout(k,5e3),setTimeout(()=>{e("/")},3e3)}).catch(U=>{U.response.status===400?(console.log("It may be that Username already exists."),f("Username already exists! Please try entering a different email."),n(!0),setTimeout(w,5e3)):U.response?(console.log(U.response),console.log("server responded"),f(U.response),n(!0),setTimeout(w,5e3)):U.request?(console.log("network error"),f(U.request),n(!0),setTimeout(w,5e3)):(console.log(U),f(U),n(!0),setTimeout(w,5e3))})};return z.jsx("div",{children:z.jsxs("div",{className:"login-area-signup",children:[z.jsx("div",{className:"additional-block-close-login",onClick:M,children:z.jsx(iu,{sx:{fontSize:35,color:"white"}})}),z.jsxs("div",{children:[t&&z.jsx(vx,{severity:"error",children:u}),i&&z.jsx(vx,{severity:"success",children:a}),z.jsx("h1",{className:"signup-text1",children:"Sign up for a free account"}),z.jsxs("p",{className:"signup-text2",children:["Already have an account yet?"," ",z.jsx(Jx,{to:"/loginCheck",className:"signup-text3",children:"Sign in."})]})]}),z.jsxs("form",{className:"form-signup",onSubmit:B,children:[z.jsxs("div",{className:"firstnamebox-signup",children:[z.jsx("label",{className:"first_namelabel-signup",htmlFor:"first_name",children:"First Name:"}),z.jsx("input",{type:"text",name:"first_name",className:"first_name-signup",id:"first_name",onChange:N})]}),z.jsxs("div",{className:"lastnamebox-signup",children:[z.jsx("label",{className:"last_namelabel-signup",htmlFor:"last_name",children:"Last Name:"}),z.jsx("input",{type:"text",name:"last_name",className:"last_name-signup",onChange:N})]}),z.jsxs("div",{className:"usernamebox-signup",children:[z.jsx("label",{className:"usernamelabel-signup",htmlFor:"username",children:"Email (will be your username):"}),z.jsx("input",{type:"text",name:"username",className:"username-signup",id:"username",onChange:N})]}),z.jsxs("div",{className:"addressbox-signup",children:[z.jsx("label",{className:"addresslabel-signup",htmlFor:"address",children:"Address:"}),z.jsx("input",{type:"text",name:"address",className:"address-signup",id:"address",onChange:N})]}),z.jsxs("div",{className:"passwordbox-signup",children:[z.jsx("label",{className:"passwordlabel-signup",htmlFor:"password",children:"Password:"}),z.jsx("input",{type:"text",name:"password",className:"password-signup",id:"password",onChange:N})]}),z.jsx("div",{className:"wrapper-function-login",children:z.jsx("a",{className:"wrapper-function-text-login",href:"#",type:"submit",onClick:B,children:z.jsx("span",{children:"Sign Up"})})})]})]})})};const rN=V.createContext();function iN(){return V.useContext(rN)}function hpe({children:e}){const[t,n]=V.useState({}),[i,o]=V.useState({}),[u,f]=V.useState(""),[a,y]=V.useState("");return z.jsx(rN.Provider,{value:{data:t,setData:n,greetingData:i,setGreetingData:o,temp1:u,setTemp1:f,temp2:a,setTemp2:y},children:e})}const ppe=()=>{let e,t;const{setTemp1:n,setTemp2:i}=iN(),o=hc(),u=()=>{o("/")},[f,a]=V.useState(!1),[y,w]=V.useState(!1),[k,M]=V.useState(""),[O,$]=V.useState("");V.useState(""),V.useState("");const N=()=>{a(!1),M("")},B=()=>{w(!1),$("")},[J,U]=V.useState(""),[G,Z]=V.useState(""),[Q,se]=V.useState(""),ce=A=>{console.log(J,G),A.preventDefault(),se(""),clearTimeout(e),clearTimeout(t),Hp.post("users/logincheck",{username:J,password:G}).then(_e=>{const le=_e.data.checks;if(console.log("Do the username and password match up =",le),_e.data.checks[0]==!0){console.log("Hi",_e.data.checks[1],"and welcome back!");const ve="Sign in successfully! Hi "+_e.data.checks[1]+_e.data.checks[2]+" and welcome back!",Ue=_e.data.checks[1],$e=_e.data.checks[2];console.log(Ue),console.log($e),n(Ue),i($e),$(ve),w(!0),t=setTimeout(B,5e3),setTimeout(()=>{o("/")},3e3)}else console.log("Username and password do not match.  Please try again"),M("Username and password do not match.  Please try again"),a(!0),e=setTimeout(N,5e3)}).catch(_e=>{se("Invalid email or password"),M("Invalid email or password"),a(!0),e=setTimeout(N,5e3),console.log("Error:",_e.response.data.error)})};return z.jsxs("div",{className:"login-area-signin",children:[z.jsx("div",{className:"additional-block-close-loginCheck",onClick:u,children:z.jsx(iu,{sx:{fontSize:35,color:"white"}})}),z.jsxs("div",{children:[f&&z.jsx(vx,{severity:"error",children:k}),y&&z.jsx(vx,{severity:"success",children:O}),z.jsx("h1",{className:"signin-text1",children:"Sign in to your account"}),z.jsxs("p",{className:"signin-text2",children:["Don't have an account yet?"," ",z.jsx(Jx,{to:"/login",className:"signin-text3",children:"Sign up."})]})]}),z.jsxs("form",{className:"form-signin",onSubmit:ce,children:[z.jsxs("div",{className:"usernamebox-signin",children:[z.jsx("label",{className:"emaillabel-signin",children:"Username (Email):"}),z.jsx("input",{className:"username-signin",type:"text",value:J,onChange:A=>U(A.target.value)})]}),z.jsxs("div",{className:"passwordbox-signin",children:[z.jsx("label",{className:"passwordlabel-signin",children:"Password:"}),z.jsx("input",{className:"password-signin",type:"password",value:G,onChange:A=>Z(A.target.value)})]}),z.jsx("div",{className:"wrapper-function-signin",children:z.jsx("a",{className:"wrapper-function-text-signin",onClick:ce,href:"#",type:"submit",children:z.jsx("span",{children:"Sign In"})})})]})]})};function Lp(e){"@babel/helpers - typeof";return Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lp(e)}function fpe(e,t){if(Lp(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(Lp(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oN(e){var t=fpe(e,"string");return Lp(t)==="symbol"?t:String(t)}function qm(e,t,n){return t=oN(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function or(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OA(Object(n),!0).forEach(function(i){qm(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OA(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function mpe(e){if(Array.isArray(e))return e}function gpe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,o,u,f,a=[],y=!0,w=!1;try{if(u=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;y=!1}else for(;!(y=(i=u.call(n)).done)&&(a.push(i.value),a.length!==t);y=!0);}catch(k){w=!0,o=k}finally{try{if(!y&&n.return!=null&&(f=n.return(),Object(f)!==f))return}finally{if(w)throw o}}return a}}function x8(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function aN(e,t){if(e){if(typeof e=="string")return x8(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x8(e,t)}}function _pe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vu(e,t){return mpe(e)||gpe(e,t)||aN(e,t)||_pe()}function id(e,t){if(e==null)return{};var n=Qn(e,t),i,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)i=u[o],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}var ype=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function vpe(e){var t=e.defaultInputValue,n=t===void 0?"":t,i=e.defaultMenuIsOpen,o=i===void 0?!1:i,u=e.defaultValue,f=u===void 0?null:u,a=e.inputValue,y=e.menuIsOpen,w=e.onChange,k=e.onInputChange,M=e.onMenuClose,O=e.onMenuOpen,$=e.value,N=id(e,ype),B=V.useState(a!==void 0?a:n),J=Vu(B,2),U=J[0],G=J[1],Z=V.useState(y!==void 0?y:o),Q=Vu(Z,2),se=Q[0],ce=Q[1],A=V.useState($!==void 0?$:f),_e=Vu(A,2),le=_e[0],ve=_e[1],Ue=V.useCallback(function(ze,Pe){typeof w=="function"&&w(ze,Pe),ve(ze)},[w]),$e=V.useCallback(function(ze,Pe){var je;typeof k=="function"&&(je=k(ze,Pe)),G(je!==void 0?je:ze)},[k]),Ae=V.useCallback(function(){typeof O=="function"&&O(),ce(!0)},[O]),Re=V.useCallback(function(){typeof M=="function"&&M(),ce(!1)},[M]),Oe=a!==void 0?a:U,Ye=y!==void 0?y:se,Qe=$!==void 0?$:le;return or(or({},N),{},{inputValue:Oe,menuIsOpen:Ye,onChange:Ue,onInputChange:$e,onMenuClose:Re,onMenuOpen:Ae,value:Qe})}function xpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LA(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,oN(i.key),i)}}function bpe(e,t,n){return t&&LA(e.prototype,t),n&&LA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function wpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ax(e,t)}function xx(e){return xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xx(e)}function Epe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Spe(e,t){if(t&&(Lp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gz(e)}function Tpe(e){var t=Epe();return function(){var i=xx(e),o;if(t){var u=xx(this).constructor;o=Reflect.construct(i,arguments,u)}else o=i.apply(this,arguments);return Spe(this,o)}}function Cpe(e){if(Array.isArray(e))return x8(e)}function kpe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ppe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sN(e){return Cpe(e)||kpe(e)||aN(e)||Ppe()}function Ipe(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Ape(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}const Mpe=["top","right","bottom","left"];Mpe.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]);function oc(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function lN(e){return oc(e).getComputedStyle(e)}function cN(e){return e instanceof oc(e).Node}function uN(e){return cN(e)?(e.nodeName||"").toLowerCase():"#document"}function kE(e){return e instanceof HTMLElement||e instanceof oc(e).HTMLElement}function zA(e){return typeof ShadowRoot<"u"&&(e instanceof oc(e).ShadowRoot||e instanceof ShadowRoot)}function dN(e){const{overflow:t,overflowX:n,overflowY:i,display:o}=lN(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!["inline","contents"].includes(o)}function Dpe(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function Rpe(e){return["html","body","#document"].includes(uN(e))}const Ope=Math.min,Lpe=Math.max,bx=Math.round,Lv=Math.floor,wx=e=>({x:e,y:e});function zpe(e){const t=lN(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const o=kE(e),u=o?e.offsetWidth:n,f=o?e.offsetHeight:i,a=bx(n)!==u||bx(i)!==f;return a&&(n=u,i=f),{width:n,height:i,$:a}}function b8(e){return e instanceof Element||e instanceof oc(e).Element}function PE(e){return b8(e)?e:e.contextElement}function h4(e){const t=PE(e);if(!kE(t))return wx(1);const n=t.getBoundingClientRect(),{width:i,height:o,$:u}=zpe(t);let f=(u?bx(n.width):n.width)/i,a=(u?bx(n.height):n.height)/o;return f&&Number.isFinite(f)||(f=1),a&&Number.isFinite(a)||(a=1),{x:f,y:a}}const Fpe=wx(0);function Npe(e){const t=oc(e);return Dpe()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Fpe}function FA(e,t,n,i){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),u=PE(e);let f=wx(1);t&&(i?b8(i)&&(f=h4(i)):f=h4(e));const a=function(O,$,N){return $===void 0&&($=!1),!(!N||$&&N!==oc(O))&&$}(u,n,i)?Npe(u):wx(0);let y=(o.left+a.x)/f.x,w=(o.top+a.y)/f.y,k=o.width/f.x,M=o.height/f.y;if(u){const O=oc(u),$=i&&b8(i)?oc(i):i;let N=O.frameElement;for(;N&&i&&$!==O;){const B=h4(N),J=N.getBoundingClientRect(),U=getComputedStyle(N),G=J.left+(N.clientLeft+parseFloat(U.paddingLeft))*B.x,Z=J.top+(N.clientTop+parseFloat(U.paddingTop))*B.y;y*=B.x,w*=B.y,k*=B.x,M*=B.y,y+=G,w+=Z,N=oc(N).frameElement}}return Ape({width:k,height:M,x:y,y:w})}function hN(e){var t;return(t=(cN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Bpe(e){if(uN(e)==="html")return e;const t=e.assignedSlot||e.parentNode||zA(e)&&e.host||hN(e);return zA(t)?t.host:t}function pN(e){const t=Bpe(e);return Rpe(t)?e.ownerDocument?e.ownerDocument.body:e.body:kE(t)&&dN(t)?t:pN(t)}function w8(e,t){var n;t===void 0&&(t=[]);const i=pN(e),o=i===((n=e.ownerDocument)==null?void 0:n.body),u=oc(i);return o?t.concat(u,u.visualViewport||[],dN(i)?i:[]):t.concat(i,w8(i))}function jpe(e,t,n,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:u=!0,elementResize:f=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:y=!1}=i,w=PE(e),k=o||u?[...w?w8(w):[],...w8(t)]:[];k.forEach(J=>{o&&J.addEventListener("scroll",n,{passive:!0}),u&&J.addEventListener("resize",n)});const M=w&&a?function(J,U){let G,Z=null;const Q=hN(J);function se(){clearTimeout(G),Z&&Z.disconnect(),Z=null}return function ce(A,_e){A===void 0&&(A=!1),_e===void 0&&(_e=1),se();const{left:le,top:ve,width:Ue,height:$e}=J.getBoundingClientRect();if(A||U(),!Ue||!$e)return;const Ae={rootMargin:-Lv(ve)+"px "+-Lv(Q.clientWidth-(le+Ue))+"px "+-Lv(Q.clientHeight-(ve+$e))+"px "+-Lv(le)+"px",threshold:Lpe(0,Ope(1,_e))||1};let Re=!0;function Oe(Ye){const Qe=Ye[0].intersectionRatio;if(Qe!==_e){if(!Re)return ce();Qe?ce(!1,Qe):G=setTimeout(()=>{ce(!1,1e-7)},100)}Re=!1}try{Z=new IntersectionObserver(Oe,{...Ae,root:Q.ownerDocument})}catch{Z=new IntersectionObserver(Oe,Ae)}Z.observe(J)}(!0),se}(w,n):null;let O,$=-1,N=null;f&&(N=new ResizeObserver(J=>{let[U]=J;U&&U.target===w&&N&&(N.unobserve(t),cancelAnimationFrame($),$=requestAnimationFrame(()=>{N&&N.observe(t)})),n()}),w&&!y&&N.observe(w),N.observe(t));let B=y?FA(e):null;return y&&function J(){const U=FA(e);!B||U.x===B.x&&U.y===B.y&&U.width===B.width&&U.height===B.height||n(),B=U,O=requestAnimationFrame(J)}(),n(),()=>{k.forEach(J=>{o&&J.removeEventListener("scroll",n),u&&J.removeEventListener("resize",n)}),M&&M(),N&&N.disconnect(),N=null,y&&cancelAnimationFrame(O)}}var E8=V.useLayoutEffect,$pe=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Ex=function(){};function Upe(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function Vpe(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];var u=[].concat(i);if(t&&e)for(var f in t)t.hasOwnProperty(f)&&t[f]&&u.push("".concat(Upe(e,f)));return u.filter(function(a){return a}).map(function(a){return String(a).trim()}).join(" ")}var NA=function(t){return Jpe(t)?t.filter(Boolean):Lp(t)==="object"&&t!==null?[t]:[]},fN=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var n=id(t,$pe);return or({},n)},mo=function(t,n,i){var o=t.cx,u=t.getStyles,f=t.getClassNames,a=t.className;return{css:u(n,t),className:o(i??{},f(n,t),a)}};function p3(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function Wpe(e){return p3(e)?window.innerHeight:e.clientHeight}function mN(e){return p3(e)?window.pageYOffset:e.scrollTop}function Sx(e,t){if(p3(e)){window.scrollTo(0,t);return}e.scrollTop=t}function Hpe(e){var t=getComputedStyle(e),n=t.position==="absolute",i=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var o=e;o=o.parentElement;)if(t=getComputedStyle(o),!(n&&t.position==="static")&&i.test(t.overflow+t.overflowY+t.overflowX))return o;return document.documentElement}function qpe(e,t,n,i){return n*((e=e/i-1)*e*e+1)+t}function zv(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Ex,o=mN(e),u=t-o,f=10,a=0;function y(){a+=f;var w=qpe(a,o,u,n);Sx(e,w),a<n?window.requestAnimationFrame(y):i(e)}y()}function BA(e,t){var n=e.getBoundingClientRect(),i=t.getBoundingClientRect(),o=t.offsetHeight/3;i.bottom+o>n.bottom?Sx(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+o,e.scrollHeight)):i.top-o<n.top&&Sx(e,Math.max(t.offsetTop-o,0))}function Gpe(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function jA(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function Zpe(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var gN=!1,Xpe={get passive(){return gN=!0}},Fv=typeof window<"u"?window:{};Fv.addEventListener&&Fv.removeEventListener&&(Fv.addEventListener("p",Ex,Xpe),Fv.removeEventListener("p",Ex,!1));var Kpe=gN;function Ype(e){return e!=null}function Jpe(e){return Array.isArray(e)}function Nv(e,t,n){return e?t:n}var Qpe=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];var u=Object.entries(t).filter(function(f){var a=Vu(f,1),y=a[0];return!i.includes(y)});return u.reduce(function(f,a){var y=Vu(a,2),w=y[0],k=y[1];return f[w]=k,f},{})},efe=["children","innerProps"],tfe=["children","innerProps"];function nfe(e){var t=e.maxHeight,n=e.menuEl,i=e.minHeight,o=e.placement,u=e.shouldScroll,f=e.isFixedPosition,a=e.controlHeight,y=Hpe(n),w={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return w;var k=y.getBoundingClientRect(),M=k.height,O=n.getBoundingClientRect(),$=O.bottom,N=O.height,B=O.top,J=n.offsetParent.getBoundingClientRect(),U=J.top,G=f?window.innerHeight:Wpe(y),Z=mN(y),Q=parseInt(getComputedStyle(n).marginBottom,10),se=parseInt(getComputedStyle(n).marginTop,10),ce=U-se,A=G-B,_e=ce+Z,le=M-Z-B,ve=$-G+Z+Q,Ue=Z+B-se,$e=160;switch(o){case"auto":case"bottom":if(A>=N)return{placement:"bottom",maxHeight:t};if(le>=N&&!f)return u&&zv(y,ve,$e),{placement:"bottom",maxHeight:t};if(!f&&le>=i||f&&A>=i){u&&zv(y,ve,$e);var Ae=f?A-Q:le-Q;return{placement:"bottom",maxHeight:Ae}}if(o==="auto"||f){var Re=t,Oe=f?ce:_e;return Oe>=i&&(Re=Math.min(Oe-Q-a,t)),{placement:"top",maxHeight:Re}}if(o==="bottom")return u&&Sx(y,ve),{placement:"bottom",maxHeight:t};break;case"top":if(ce>=N)return{placement:"top",maxHeight:t};if(_e>=N&&!f)return u&&zv(y,Ue,$e),{placement:"top",maxHeight:t};if(!f&&_e>=i||f&&ce>=i){var Ye=t;return(!f&&_e>=i||f&&ce>=i)&&(Ye=f?ce-se:_e-se),u&&zv(y,Ue,$e),{placement:"top",maxHeight:Ye}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(o,'".'))}return w}function rfe(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}var _N=function(t){return t==="auto"?"bottom":t},ife=function(t,n){var i,o=t.placement,u=t.theme,f=u.borderRadius,a=u.spacing,y=u.colors;return or((i={label:"menu"},qm(i,rfe(o),"100%"),qm(i,"position","absolute"),qm(i,"width","100%"),qm(i,"zIndex",1),i),n?{}:{backgroundColor:y.neutral0,borderRadius:f,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:a.menuGutter,marginTop:a.menuGutter})},yN=V.createContext(null),ofe=function(t){var n=t.children,i=t.minMenuHeight,o=t.maxMenuHeight,u=t.menuPlacement,f=t.menuPosition,a=t.menuShouldScrollIntoView,y=t.theme,w=V.useContext(yN)||{},k=w.setPortalPlacement,M=V.useRef(null),O=V.useState(o),$=Vu(O,2),N=$[0],B=$[1],J=V.useState(null),U=Vu(J,2),G=U[0],Z=U[1],Q=y.spacing.controlHeight;return E8(function(){var se=M.current;if(se){var ce=f==="fixed",A=a&&!ce,_e=nfe({maxHeight:o,menuEl:se,minHeight:i,placement:u,shouldScroll:A,isFixedPosition:ce,controlHeight:Q});B(_e.maxHeight),Z(_e.placement),k==null||k(_e.placement)}},[o,u,f,a,i,k,Q]),n({ref:M,placerProps:or(or({},t),{},{placement:G||_N(u),maxHeight:N})})},afe=function(t){var n=t.children,i=t.innerRef,o=t.innerProps;return cr("div",me({},mo(t,"menu",{menu:!0}),{ref:i},o),n)},sfe=afe,lfe=function(t,n){var i=t.maxHeight,o=t.theme.spacing.baseUnit;return or({maxHeight:i,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:o,paddingTop:o})},cfe=function(t){var n=t.children,i=t.innerProps,o=t.innerRef,u=t.isMulti;return cr("div",me({},mo(t,"menuList",{"menu-list":!0,"menu-list--is-multi":u}),{ref:o},i),n)},vN=function(t,n){var i=t.theme,o=i.spacing.baseUnit,u=i.colors;return or({textAlign:"center"},n?{}:{color:u.neutral40,padding:"".concat(o*2,"px ").concat(o*3,"px")})},ufe=vN,dfe=vN,hfe=function(t){var n=t.children,i=n===void 0?"No options":n,o=t.innerProps,u=id(t,efe);return cr("div",me({},mo(or(or({},u),{},{children:i,innerProps:o}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),o),i)},pfe=function(t){var n=t.children,i=n===void 0?"Loading...":n,o=t.innerProps,u=id(t,tfe);return cr("div",me({},mo(or(or({},u),{},{children:i,innerProps:o}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),o),i)},ffe=function(t){var n=t.rect,i=t.offset,o=t.position;return{left:n.left,position:o,top:i,width:n.width,zIndex:1}},mfe=function(t){var n=t.appendTo,i=t.children,o=t.controlElement,u=t.innerProps,f=t.menuPlacement,a=t.menuPosition,y=V.useRef(null),w=V.useRef(null),k=V.useState(_N(f)),M=Vu(k,2),O=M[0],$=M[1],N=V.useMemo(function(){return{setPortalPlacement:$}},[]),B=V.useState(null),J=Vu(B,2),U=J[0],G=J[1],Z=V.useCallback(function(){if(o){var A=Gpe(o),_e=a==="fixed"?0:window.pageYOffset,le=A[O]+_e;(le!==(U==null?void 0:U.offset)||A.left!==(U==null?void 0:U.rect.left)||A.width!==(U==null?void 0:U.rect.width))&&G({offset:le,rect:A})}},[o,a,O,U==null?void 0:U.offset,U==null?void 0:U.rect.left,U==null?void 0:U.rect.width]);E8(function(){Z()},[Z]);var Q=V.useCallback(function(){typeof w.current=="function"&&(w.current(),w.current=null),o&&y.current&&(w.current=jpe(o,y.current,Z,{elementResize:"ResizeObserver"in window}))},[o,Z]);E8(function(){Q()},[Q]);var se=V.useCallback(function(A){y.current=A,Q()},[Q]);if(!n&&a!=="fixed"||!U)return null;var ce=cr("div",me({ref:se},mo(or(or({},t),{},{offset:U.offset,position:a,rect:U.rect}),"menuPortal",{"menu-portal":!0}),u),i);return cr(yN.Provider,{value:N},n?ch.createPortal(ce,n):ce)},gfe=function(t){var n=t.isDisabled,i=t.isRtl;return{label:"container",direction:i?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},_fe=function(t){var n=t.children,i=t.innerProps,o=t.isDisabled,u=t.isRtl;return cr("div",me({},mo(t,"container",{"--is-disabled":o,"--is-rtl":u}),i),n)},yfe=function(t,n){var i=t.theme.spacing,o=t.isMulti,u=t.hasValue,f=t.selectProps.controlShouldRenderValue;return or({alignItems:"center",display:o&&u&&f?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(i.baseUnit/2,"px ").concat(i.baseUnit*2,"px")})},vfe=function(t){var n=t.children,i=t.innerProps,o=t.isMulti,u=t.hasValue;return cr("div",me({},mo(t,"valueContainer",{"value-container":!0,"value-container--is-multi":o,"value-container--has-value":u}),i),n)},xfe=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},bfe=function(t){var n=t.children,i=t.innerProps;return cr("div",me({},mo(t,"indicatorsContainer",{indicators:!0}),i),n)},$A,wfe=["size"],Efe=["innerProps","isRtl","size"],Sfe={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},xN=function(t){var n=t.size,i=id(t,wfe);return cr("svg",me({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Sfe},i))},IE=function(t){return cr(xN,me({size:20},t),cr("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},bN=function(t){return cr(xN,me({size:20},t),cr("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},wN=function(t,n){var i=t.isFocused,o=t.theme,u=o.spacing.baseUnit,f=o.colors;return or({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:i?f.neutral60:f.neutral20,padding:u*2,":hover":{color:i?f.neutral80:f.neutral40}})},Tfe=wN,Cfe=function(t){var n=t.children,i=t.innerProps;return cr("div",me({},mo(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),i),n||cr(bN,null))},kfe=wN,Pfe=function(t){var n=t.children,i=t.innerProps;return cr("div",me({},mo(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),i),n||cr(IE,null))},Ife=function(t,n){var i=t.isDisabled,o=t.theme,u=o.spacing.baseUnit,f=o.colors;return or({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:i?f.neutral10:f.neutral20,marginBottom:u*2,marginTop:u*2})},Afe=function(t){var n=t.innerProps;return cr("span",me({},n,mo(t,"indicatorSeparator",{"indicator-separator":!0})))},Mfe=Rb($A||($A=Ipe([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),Dfe=function(t,n){var i=t.isFocused,o=t.size,u=t.theme,f=u.colors,a=u.spacing.baseUnit;return or({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:o,lineHeight:1,marginRight:o,textAlign:"center",verticalAlign:"middle"},n?{}:{color:i?f.neutral60:f.neutral20,padding:a*2})},p4=function(t){var n=t.delay,i=t.offset;return cr("span",{css:H9({animation:"".concat(Mfe," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:i?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Rfe=function(t){var n=t.innerProps,i=t.isRtl,o=t.size,u=o===void 0?4:o,f=id(t,Efe);return cr("div",me({},mo(or(or({},f),{},{innerProps:n,isRtl:i,size:u}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),cr(p4,{delay:0,offset:i}),cr(p4,{delay:160,offset:!0}),cr(p4,{delay:320,offset:!i}))},Ofe=function(t,n){var i=t.isDisabled,o=t.isFocused,u=t.theme,f=u.colors,a=u.borderRadius,y=u.spacing;return or({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:y.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:i?f.neutral5:f.neutral0,borderColor:i?f.neutral10:o?f.primary:f.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:o?"0 0 0 1px ".concat(f.primary):void 0,"&:hover":{borderColor:o?f.primary:f.neutral30}})},Lfe=function(t){var n=t.children,i=t.isDisabled,o=t.isFocused,u=t.innerRef,f=t.innerProps,a=t.menuIsOpen;return cr("div",me({ref:u},mo(t,"control",{control:!0,"control--is-disabled":i,"control--is-focused":o,"control--menu-is-open":a}),f),n)},zfe=Lfe,Ffe=["data"],Nfe=function(t,n){var i=t.theme.spacing;return n?{}:{paddingBottom:i.baseUnit*2,paddingTop:i.baseUnit*2}},Bfe=function(t){var n=t.children,i=t.cx,o=t.getStyles,u=t.getClassNames,f=t.Heading,a=t.headingProps,y=t.innerProps,w=t.label,k=t.theme,M=t.selectProps;return cr("div",me({},mo(t,"group",{group:!0}),y),cr(f,me({},a,{selectProps:M,theme:k,getStyles:o,getClassNames:u,cx:i}),w),cr("div",null,n))},jfe=function(t,n){var i=t.theme,o=i.colors,u=i.spacing;return or({label:"group",cursor:"default",display:"block"},n?{}:{color:o.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:u.baseUnit*3,paddingRight:u.baseUnit*3,textTransform:"uppercase"})},$fe=function(t){var n=fN(t);n.data;var i=id(n,Ffe);return cr("div",me({},mo(t,"groupHeading",{"group-heading":!0}),i))},Ufe=Bfe,Vfe=["innerRef","isDisabled","isHidden","inputClassName"],Wfe=function(t,n){var i=t.isDisabled,o=t.value,u=t.theme,f=u.spacing,a=u.colors;return or(or({visibility:i?"hidden":"visible",transform:o?"translateZ(0)":""},Hfe),n?{}:{margin:f.baseUnit/2,paddingBottom:f.baseUnit/2,paddingTop:f.baseUnit/2,color:a.neutral80})},EN={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},Hfe={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":or({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},EN)},qfe=function(t){return or({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},EN)},Gfe=function(t){var n=t.cx,i=t.value,o=fN(t),u=o.innerRef,f=o.isDisabled,a=o.isHidden,y=o.inputClassName,w=id(o,Vfe);return cr("div",me({},mo(t,"input",{"input-container":!0}),{"data-value":i||""}),cr("input",me({className:n({input:!0},y),ref:u,style:qfe(a),disabled:f},w)))},Zfe=Gfe,Xfe=function(t,n){var i=t.theme,o=i.spacing,u=i.borderRadius,f=i.colors;return or({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:f.neutral10,borderRadius:u/2,margin:o.baseUnit/2})},Kfe=function(t,n){var i=t.theme,o=i.borderRadius,u=i.colors,f=t.cropWithEllipsis;return or({overflow:"hidden",textOverflow:f||f===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:o/2,color:u.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},Yfe=function(t,n){var i=t.theme,o=i.spacing,u=i.borderRadius,f=i.colors,a=t.isFocused;return or({alignItems:"center",display:"flex"},n?{}:{borderRadius:u/2,backgroundColor:a?f.dangerLight:void 0,paddingLeft:o.baseUnit,paddingRight:o.baseUnit,":hover":{backgroundColor:f.dangerLight,color:f.danger}})},SN=function(t){var n=t.children,i=t.innerProps;return cr("div",i,n)},Jfe=SN,Qfe=SN;function e0e(e){var t=e.children,n=e.innerProps;return cr("div",me({role:"button"},n),t||cr(IE,{size:14}))}var t0e=function(t){var n=t.children,i=t.components,o=t.data,u=t.innerProps,f=t.isDisabled,a=t.removeProps,y=t.selectProps,w=i.Container,k=i.Label,M=i.Remove;return cr(w,{data:o,innerProps:or(or({},mo(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":f})),u),selectProps:y},cr(k,{data:o,innerProps:or({},mo(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:y},n),cr(M,{data:o,innerProps:or(or({},mo(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},a),selectProps:y}))},n0e=t0e,r0e=function(t,n){var i=t.isDisabled,o=t.isFocused,u=t.isSelected,f=t.theme,a=f.spacing,y=f.colors;return or({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:u?y.primary:o?y.primary25:"transparent",color:i?y.neutral20:u?y.neutral0:"inherit",padding:"".concat(a.baseUnit*2,"px ").concat(a.baseUnit*3,"px"),":active":{backgroundColor:i?void 0:u?y.primary:y.primary50}})},i0e=function(t){var n=t.children,i=t.isDisabled,o=t.isFocused,u=t.isSelected,f=t.innerRef,a=t.innerProps;return cr("div",me({},mo(t,"option",{option:!0,"option--is-disabled":i,"option--is-focused":o,"option--is-selected":u}),{ref:f,"aria-disabled":i},a),n)},o0e=i0e,a0e=function(t,n){var i=t.theme,o=i.spacing,u=i.colors;return or({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:u.neutral50,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2})},s0e=function(t){var n=t.children,i=t.innerProps;return cr("div",me({},mo(t,"placeholder",{placeholder:!0}),i),n)},l0e=s0e,c0e=function(t,n){var i=t.isDisabled,o=t.theme,u=o.spacing,f=o.colors;return or({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:i?f.neutral40:f.neutral80,marginLeft:u.baseUnit/2,marginRight:u.baseUnit/2})},u0e=function(t){var n=t.children,i=t.isDisabled,o=t.innerProps;return cr("div",me({},mo(t,"singleValue",{"single-value":!0,"single-value--is-disabled":i}),o),n)},d0e=u0e,h0e={ClearIndicator:Pfe,Control:zfe,DropdownIndicator:Cfe,DownChevron:bN,CrossIcon:IE,Group:Ufe,GroupHeading:$fe,IndicatorsContainer:bfe,IndicatorSeparator:Afe,Input:Zfe,LoadingIndicator:Rfe,Menu:sfe,MenuList:cfe,MenuPortal:mfe,LoadingMessage:pfe,NoOptionsMessage:hfe,MultiValue:n0e,MultiValueContainer:Jfe,MultiValueLabel:Qfe,MultiValueRemove:e0e,Option:o0e,Placeholder:l0e,SelectContainer:_fe,SingleValue:d0e,ValueContainer:vfe},p0e=function(t){return or(or({},h0e),t.components)},UA=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function f0e(e,t){return!!(e===t||UA(e)&&UA(t))}function m0e(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!f0e(e[n],t[n]))return!1;return!0}function g0e(e,t){t===void 0&&(t=m0e);var n=null;function i(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];if(n&&n.lastThis===this&&t(o,n.lastArgs))return n.lastResult;var f=e.apply(this,o);return n={lastResult:f,lastArgs:o,lastThis:this},f}return i.clear=function(){n=null},i}var _0e={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},y0e=function(t){return cr("span",me({css:_0e},t))},VA=y0e,v0e={guidance:function(t){var n=t.isSearchable,i=t.isMulti,o=t.isDisabled,u=t.tabSelectsValue,f=t.context;switch(f){case"menu":return"Use Up and Down to choose options".concat(o?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(u?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(t["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(i?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var n=t.action,i=t.label,o=i===void 0?"":i,u=t.labels,f=t.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(o,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(u.length>1?"s":""," ").concat(u.join(","),", selected.");case"select-option":return f?"option ".concat(o," is disabled. Select another option."):"option ".concat(o,", selected.");default:return""}},onFocus:function(t){var n=t.context,i=t.focused,o=t.options,u=t.label,f=u===void 0?"":u,a=t.selectValue,y=t.isDisabled,w=t.isSelected,k=function(N,B){return N&&N.length?"".concat(N.indexOf(B)+1," of ").concat(N.length):""};if(n==="value"&&a)return"value ".concat(f," focused, ").concat(k(a,i),".");if(n==="menu"){var M=y?" disabled":"",O="".concat(w?"selected":"focused").concat(M);return"option ".concat(f," ").concat(O,", ").concat(k(o,i),".")}return""},onFilter:function(t){var n=t.inputValue,i=t.resultsMessage;return"".concat(i).concat(n?" for search term "+n:"",".")}},x0e=function(t){var n=t.ariaSelection,i=t.focusedOption,o=t.focusedValue,u=t.focusableOptions,f=t.isFocused,a=t.selectValue,y=t.selectProps,w=t.id,k=y.ariaLiveMessages,M=y.getOptionLabel,O=y.inputValue,$=y.isMulti,N=y.isOptionDisabled,B=y.isSearchable,J=y.menuIsOpen,U=y.options,G=y.screenReaderStatus,Z=y.tabSelectsValue,Q=y["aria-label"],se=y["aria-live"],ce=V.useMemo(function(){return or(or({},v0e),k||{})},[k]),A=V.useMemo(function(){var Re="";if(n&&ce.onChange){var Oe=n.option,Ye=n.options,Qe=n.removedValue,ze=n.removedValues,Pe=n.value,je=function(Dt){return Array.isArray(Dt)?null:Dt},lt=Qe||Oe||je(Pe),ot=lt?M(lt):"",ct=Ye||ze||void 0,Ct=ct?ct.map(M):[],ut=or({isDisabled:lt&&N(lt,a),label:ot,labels:Ct},n);Re=ce.onChange(ut)}return Re},[n,ce,N,a,M]),_e=V.useMemo(function(){var Re="",Oe=i||o,Ye=!!(i&&a&&a.includes(i));if(Oe&&ce.onFocus){var Qe={focused:Oe,label:M(Oe),isDisabled:N(Oe,a),isSelected:Ye,options:u,context:Oe===i?"menu":"value",selectValue:a};Re=ce.onFocus(Qe)}return Re},[i,o,M,N,ce,u,a]),le=V.useMemo(function(){var Re="";if(J&&U.length&&ce.onFilter){var Oe=G({count:u.length});Re=ce.onFilter({inputValue:O,resultsMessage:Oe})}return Re},[u,O,J,ce,U,G]),ve=V.useMemo(function(){var Re="";if(ce.guidance){var Oe=o?"value":J?"menu":"input";Re=ce.guidance({"aria-label":Q,context:Oe,isDisabled:i&&N(i,a),isMulti:$,isSearchable:B,tabSelectsValue:Z})}return Re},[Q,i,o,$,N,B,J,ce,a,Z]),Ue="".concat(_e," ").concat(le," ").concat(ve),$e=cr(V.Fragment,null,cr("span",{id:"aria-selection"},A),cr("span",{id:"aria-context"},Ue)),Ae=(n==null?void 0:n.action)==="initial-input-focus";return cr(V.Fragment,null,cr(VA,{id:w},Ae&&$e),cr(VA,{"aria-live":se,"aria-atomic":"false","aria-relevant":"additions text"},f&&!Ae&&$e))},b0e=x0e,S8=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],w0e=new RegExp("["+S8.map(function(e){return e.letters}).join("")+"]","g"),TN={};for(var f4=0;f4<S8.length;f4++)for(var m4=S8[f4],g4=0;g4<m4.letters.length;g4++)TN[m4.letters[g4]]=m4.base;var CN=function(t){return t.replace(w0e,function(n){return TN[n]})},E0e=g0e(CN),WA=function(t){return t.replace(/^\s+|\s+$/g,"")},S0e=function(t){return"".concat(t.label," ").concat(t.value)},T0e=function(t){return function(n,i){if(n.data.__isNew__)return!0;var o=or({ignoreCase:!0,ignoreAccents:!0,stringify:S0e,trim:!0,matchFrom:"any"},t),u=o.ignoreCase,f=o.ignoreAccents,a=o.stringify,y=o.trim,w=o.matchFrom,k=y?WA(i):i,M=y?WA(a(n)):a(n);return u&&(k=k.toLowerCase(),M=M.toLowerCase()),f&&(k=E0e(k),M=CN(M)),w==="start"?M.substr(0,k.length)===k:M.indexOf(k)>-1}},C0e=["innerRef"];function k0e(e){var t=e.innerRef,n=id(e,C0e),i=Qpe(n,"onExited","in","enter","exit","appear");return cr("input",me({ref:t},i,{css:H9({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var P0e=function(t){t.preventDefault(),t.stopPropagation()};function I0e(e){var t=e.isEnabled,n=e.onBottomArrive,i=e.onBottomLeave,o=e.onTopArrive,u=e.onTopLeave,f=V.useRef(!1),a=V.useRef(!1),y=V.useRef(0),w=V.useRef(null),k=V.useCallback(function(J,U){if(w.current!==null){var G=w.current,Z=G.scrollTop,Q=G.scrollHeight,se=G.clientHeight,ce=w.current,A=U>0,_e=Q-se-Z,le=!1;_e>U&&f.current&&(i&&i(J),f.current=!1),A&&a.current&&(u&&u(J),a.current=!1),A&&U>_e?(n&&!f.current&&n(J),ce.scrollTop=Q,le=!0,f.current=!0):!A&&-U>Z&&(o&&!a.current&&o(J),ce.scrollTop=0,le=!0,a.current=!0),le&&P0e(J)}},[n,i,o,u]),M=V.useCallback(function(J){k(J,J.deltaY)},[k]),O=V.useCallback(function(J){y.current=J.changedTouches[0].clientY},[]),$=V.useCallback(function(J){var U=y.current-J.changedTouches[0].clientY;k(J,U)},[k]),N=V.useCallback(function(J){if(J){var U=Kpe?{passive:!1}:!1;J.addEventListener("wheel",M,U),J.addEventListener("touchstart",O,U),J.addEventListener("touchmove",$,U)}},[$,O,M]),B=V.useCallback(function(J){J&&(J.removeEventListener("wheel",M,!1),J.removeEventListener("touchstart",O,!1),J.removeEventListener("touchmove",$,!1))},[$,O,M]);return V.useEffect(function(){if(t){var J=w.current;return N(J),function(){B(J)}}},[t,N,B]),function(J){w.current=J}}var HA=["boxSizing","height","overflow","paddingRight","position"],qA={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function GA(e){e.preventDefault()}function ZA(e){e.stopPropagation()}function XA(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;e===0?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function KA(){return"ontouchstart"in window||navigator.maxTouchPoints}var YA=!!(typeof window<"u"&&window.document&&window.document.createElement),Fm=0,$f={capture:!1,passive:!1};function A0e(e){var t=e.isEnabled,n=e.accountForScrollbars,i=n===void 0?!0:n,o=V.useRef({}),u=V.useRef(null),f=V.useCallback(function(y){if(YA){var w=document.body,k=w&&w.style;if(i&&HA.forEach(function(N){var B=k&&k[N];o.current[N]=B}),i&&Fm<1){var M=parseInt(o.current.paddingRight,10)||0,O=document.body?document.body.clientWidth:0,$=window.innerWidth-O+M||0;Object.keys(qA).forEach(function(N){var B=qA[N];k&&(k[N]=B)}),k&&(k.paddingRight="".concat($,"px"))}w&&KA()&&(w.addEventListener("touchmove",GA,$f),y&&(y.addEventListener("touchstart",XA,$f),y.addEventListener("touchmove",ZA,$f))),Fm+=1}},[i]),a=V.useCallback(function(y){if(YA){var w=document.body,k=w&&w.style;Fm=Math.max(Fm-1,0),i&&Fm<1&&HA.forEach(function(M){var O=o.current[M];k&&(k[M]=O)}),w&&KA()&&(w.removeEventListener("touchmove",GA,$f),y&&(y.removeEventListener("touchstart",XA,$f),y.removeEventListener("touchmove",ZA,$f)))}},[i]);return V.useEffect(function(){if(t){var y=u.current;return f(y),function(){a(y)}}},[t,f,a]),function(y){u.current=y}}var M0e=function(){return document.activeElement&&document.activeElement.blur()},D0e={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function R0e(e){var t=e.children,n=e.lockEnabled,i=e.captureEnabled,o=i===void 0?!0:i,u=e.onBottomArrive,f=e.onBottomLeave,a=e.onTopArrive,y=e.onTopLeave,w=I0e({isEnabled:o,onBottomArrive:u,onBottomLeave:f,onTopArrive:a,onTopLeave:y}),k=A0e({isEnabled:n}),M=function($){w($),k($)};return cr(V.Fragment,null,n&&cr("div",{onClick:M0e,css:D0e}),t(M))}var O0e={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},L0e=function(t){var n=t.name,i=t.onFocus;return cr("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:i,css:O0e,value:"",onChange:function(){}})},z0e=L0e,F0e=function(t){return t.label},N0e=function(t){return t.label},B0e=function(t){return t.value},j0e=function(t){return!!t.isDisabled},$0e={clearIndicator:kfe,container:gfe,control:Ofe,dropdownIndicator:Tfe,group:Nfe,groupHeading:jfe,indicatorsContainer:xfe,indicatorSeparator:Ife,input:Wfe,loadingIndicator:Dfe,loadingMessage:dfe,menu:ife,menuList:lfe,menuPortal:ffe,multiValue:Xfe,multiValueLabel:Kfe,multiValueRemove:Yfe,noOptionsMessage:ufe,option:r0e,placeholder:a0e,singleValue:c0e,valueContainer:yfe},U0e={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},V0e=4,kN=4,W0e=38,H0e=kN*2,q0e={baseUnit:kN,controlHeight:W0e,menuGutter:H0e},_4={borderRadius:V0e,colors:U0e,spacing:q0e},G0e={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:jA(),captureMenuScroll:!jA(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:T0e(),formatGroupLabel:F0e,getOptionLabel:N0e,getOptionValue:B0e,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:j0e,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!Zpe(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var n=t.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function JA(e,t,n,i){var o=MN(e,t,n),u=DN(e,t,n),f=AN(e,t),a=Tx(e,t);return{type:"option",data:t,isDisabled:o,isSelected:u,label:f,value:a,index:i}}function PN(e,t){return e.options.map(function(n,i){if("options"in n){var o=n.options.map(function(f,a){return JA(e,f,t,a)}).filter(function(f){return QA(e,f)});return o.length>0?{type:"group",data:n,options:o,index:i}:void 0}var u=JA(e,n,t,i);return QA(e,u)?u:void 0}).filter(Ype)}function IN(e){return e.reduce(function(t,n){return n.type==="group"?t.push.apply(t,sN(n.options.map(function(i){return i.data}))):t.push(n.data),t},[])}function Z0e(e,t){return IN(PN(e,t))}function QA(e,t){var n=e.inputValue,i=n===void 0?"":n,o=t.data,u=t.isSelected,f=t.label,a=t.value;return(!ON(e)||!u)&&RN(e,{label:f,value:a,data:o},i)}function X0e(e,t){var n=e.focusedValue,i=e.selectValue,o=i.indexOf(n);if(o>-1){var u=t.indexOf(n);if(u>-1)return n;if(o<t.length)return t[o]}return null}function K0e(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}var AN=function(t,n){return t.getOptionLabel(n)},Tx=function(t,n){return t.getOptionValue(n)};function MN(e,t,n){return typeof e.isOptionDisabled=="function"?e.isOptionDisabled(t,n):!1}function DN(e,t,n){if(n.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,n);var i=Tx(e,t);return n.some(function(o){return Tx(e,o)===i})}function RN(e,t,n){return e.filterOption?e.filterOption(t,n):!0}var ON=function(t){var n=t.hideSelectedOptions,i=t.isMulti;return n===void 0?i:n},Y0e=1,LN=function(e){wpe(n,e);var t=Tpe(n);function n(i){var o;if(xpe(this,n),o=t.call(this,i),o.state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},o.blockOptionHover=!1,o.isComposing=!1,o.commonProps=void 0,o.initialTouchX=0,o.initialTouchY=0,o.instancePrefix="",o.openAfterFocus=!1,o.scrollToFocusedOptionOnUpdate=!1,o.userIsDragging=void 0,o.controlRef=null,o.getControlRef=function(a){o.controlRef=a},o.focusedOptionRef=null,o.getFocusedOptionRef=function(a){o.focusedOptionRef=a},o.menuListRef=null,o.getMenuListRef=function(a){o.menuListRef=a},o.inputRef=null,o.getInputRef=function(a){o.inputRef=a},o.focus=o.focusInput,o.blur=o.blurInput,o.onChange=function(a,y){var w=o.props,k=w.onChange,M=w.name;y.name=M,o.ariaOnChange(a,y),k(a,y)},o.setValue=function(a,y,w){var k=o.props,M=k.closeMenuOnSelect,O=k.isMulti,$=k.inputValue;o.onInputChange("",{action:"set-value",prevInputValue:$}),M&&(o.setState({inputIsHiddenAfterUpdate:!O}),o.onMenuClose()),o.setState({clearFocusValueOnUpdate:!0}),o.onChange(a,{action:y,option:w})},o.selectOption=function(a){var y=o.props,w=y.blurInputOnSelect,k=y.isMulti,M=y.name,O=o.state.selectValue,$=k&&o.isOptionSelected(a,O),N=o.isOptionDisabled(a,O);if($){var B=o.getOptionValue(a);o.setValue(O.filter(function(J){return o.getOptionValue(J)!==B}),"deselect-option",a)}else if(!N)k?o.setValue([].concat(sN(O),[a]),"select-option",a):o.setValue(a,"select-option");else{o.ariaOnChange(a,{action:"select-option",option:a,name:M});return}w&&o.blurInput()},o.removeValue=function(a){var y=o.props.isMulti,w=o.state.selectValue,k=o.getOptionValue(a),M=w.filter(function($){return o.getOptionValue($)!==k}),O=Nv(y,M,M[0]||null);o.onChange(O,{action:"remove-value",removedValue:a}),o.focusInput()},o.clearValue=function(){var a=o.state.selectValue;o.onChange(Nv(o.props.isMulti,[],null),{action:"clear",removedValues:a})},o.popValue=function(){var a=o.props.isMulti,y=o.state.selectValue,w=y[y.length-1],k=y.slice(0,y.length-1),M=Nv(a,k,k[0]||null);o.onChange(M,{action:"pop-value",removedValue:w})},o.getValue=function(){return o.state.selectValue},o.cx=function(){for(var a=arguments.length,y=new Array(a),w=0;w<a;w++)y[w]=arguments[w];return Vpe.apply(void 0,[o.props.classNamePrefix].concat(y))},o.getOptionLabel=function(a){return AN(o.props,a)},o.getOptionValue=function(a){return Tx(o.props,a)},o.getStyles=function(a,y){var w=o.props.unstyled,k=$0e[a](y,w);k.boxSizing="border-box";var M=o.props.styles[a];return M?M(k,y):k},o.getClassNames=function(a,y){var w,k;return(w=(k=o.props.classNames)[a])===null||w===void 0?void 0:w.call(k,y)},o.getElementId=function(a){return"".concat(o.instancePrefix,"-").concat(a)},o.getComponents=function(){return p0e(o.props)},o.buildCategorizedOptions=function(){return PN(o.props,o.state.selectValue)},o.getCategorizedOptions=function(){return o.props.menuIsOpen?o.buildCategorizedOptions():[]},o.buildFocusableOptions=function(){return IN(o.buildCategorizedOptions())},o.getFocusableOptions=function(){return o.props.menuIsOpen?o.buildFocusableOptions():[]},o.ariaOnChange=function(a,y){o.setState({ariaSelection:or({value:a},y)})},o.onMenuMouseDown=function(a){a.button===0&&(a.stopPropagation(),a.preventDefault(),o.focusInput())},o.onMenuMouseMove=function(a){o.blockOptionHover=!1},o.onControlMouseDown=function(a){if(!a.defaultPrevented){var y=o.props.openMenuOnClick;o.state.isFocused?o.props.menuIsOpen?a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&o.onMenuClose():y&&o.openMenu("first"):(y&&(o.openAfterFocus=!0),o.focusInput()),a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&a.preventDefault()}},o.onDropdownIndicatorMouseDown=function(a){if(!(a&&a.type==="mousedown"&&a.button!==0)&&!o.props.isDisabled){var y=o.props,w=y.isMulti,k=y.menuIsOpen;o.focusInput(),k?(o.setState({inputIsHiddenAfterUpdate:!w}),o.onMenuClose()):o.openMenu("first"),a.preventDefault()}},o.onClearIndicatorMouseDown=function(a){a&&a.type==="mousedown"&&a.button!==0||(o.clearValue(),a.preventDefault(),o.openAfterFocus=!1,a.type==="touchend"?o.focusInput():setTimeout(function(){return o.focusInput()}))},o.onScroll=function(a){typeof o.props.closeMenuOnScroll=="boolean"?a.target instanceof HTMLElement&&p3(a.target)&&o.props.onMenuClose():typeof o.props.closeMenuOnScroll=="function"&&o.props.closeMenuOnScroll(a)&&o.props.onMenuClose()},o.onCompositionStart=function(){o.isComposing=!0},o.onCompositionEnd=function(){o.isComposing=!1},o.onTouchStart=function(a){var y=a.touches,w=y&&y.item(0);w&&(o.initialTouchX=w.clientX,o.initialTouchY=w.clientY,o.userIsDragging=!1)},o.onTouchMove=function(a){var y=a.touches,w=y&&y.item(0);if(w){var k=Math.abs(w.clientX-o.initialTouchX),M=Math.abs(w.clientY-o.initialTouchY),O=5;o.userIsDragging=k>O||M>O}},o.onTouchEnd=function(a){o.userIsDragging||(o.controlRef&&!o.controlRef.contains(a.target)&&o.menuListRef&&!o.menuListRef.contains(a.target)&&o.blurInput(),o.initialTouchX=0,o.initialTouchY=0)},o.onControlTouchEnd=function(a){o.userIsDragging||o.onControlMouseDown(a)},o.onClearIndicatorTouchEnd=function(a){o.userIsDragging||o.onClearIndicatorMouseDown(a)},o.onDropdownIndicatorTouchEnd=function(a){o.userIsDragging||o.onDropdownIndicatorMouseDown(a)},o.handleInputChange=function(a){var y=o.props.inputValue,w=a.currentTarget.value;o.setState({inputIsHiddenAfterUpdate:!1}),o.onInputChange(w,{action:"input-change",prevInputValue:y}),o.props.menuIsOpen||o.onMenuOpen()},o.onInputFocus=function(a){o.props.onFocus&&o.props.onFocus(a),o.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(o.openAfterFocus||o.props.openMenuOnFocus)&&o.openMenu("first"),o.openAfterFocus=!1},o.onInputBlur=function(a){var y=o.props.inputValue;if(o.menuListRef&&o.menuListRef.contains(document.activeElement)){o.inputRef.focus();return}o.props.onBlur&&o.props.onBlur(a),o.onInputChange("",{action:"input-blur",prevInputValue:y}),o.onMenuClose(),o.setState({focusedValue:null,isFocused:!1})},o.onOptionHover=function(a){o.blockOptionHover||o.state.focusedOption===a||o.setState({focusedOption:a})},o.shouldHideSelectedOptions=function(){return ON(o.props)},o.onValueInputFocus=function(a){a.preventDefault(),a.stopPropagation(),o.focus()},o.onKeyDown=function(a){var y=o.props,w=y.isMulti,k=y.backspaceRemovesValue,M=y.escapeClearsValue,O=y.inputValue,$=y.isClearable,N=y.isDisabled,B=y.menuIsOpen,J=y.onKeyDown,U=y.tabSelectsValue,G=y.openMenuOnFocus,Z=o.state,Q=Z.focusedOption,se=Z.focusedValue,ce=Z.selectValue;if(!N&&!(typeof J=="function"&&(J(a),a.defaultPrevented))){switch(o.blockOptionHover=!0,a.key){case"ArrowLeft":if(!w||O)return;o.focusValue("previous");break;case"ArrowRight":if(!w||O)return;o.focusValue("next");break;case"Delete":case"Backspace":if(O)return;if(se)o.removeValue(se);else{if(!k)return;w?o.popValue():$&&o.clearValue()}break;case"Tab":if(o.isComposing||a.shiftKey||!B||!U||!Q||G&&o.isOptionSelected(Q,ce))return;o.selectOption(Q);break;case"Enter":if(a.keyCode===229)break;if(B){if(!Q||o.isComposing)return;o.selectOption(Q);break}return;case"Escape":B?(o.setState({inputIsHiddenAfterUpdate:!1}),o.onInputChange("",{action:"menu-close",prevInputValue:O}),o.onMenuClose()):$&&M&&o.clearValue();break;case" ":if(O)return;if(!B){o.openMenu("first");break}if(!Q)return;o.selectOption(Q);break;case"ArrowUp":B?o.focusOption("up"):o.openMenu("last");break;case"ArrowDown":B?o.focusOption("down"):o.openMenu("first");break;case"PageUp":if(!B)return;o.focusOption("pageup");break;case"PageDown":if(!B)return;o.focusOption("pagedown");break;case"Home":if(!B)return;o.focusOption("first");break;case"End":if(!B)return;o.focusOption("last");break;default:return}a.preventDefault()}},o.instancePrefix="react-select-"+(o.props.instanceId||++Y0e),o.state.selectValue=NA(i.value),i.menuIsOpen&&o.state.selectValue.length){var u=o.buildFocusableOptions(),f=u.indexOf(o.state.selectValue[0]);o.state.focusedOption=u[f]}return o}return bpe(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&BA(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(o){var u=this.props,f=u.isDisabled,a=u.menuIsOpen,y=this.state.isFocused;(y&&!f&&o.isDisabled||y&&a&&!o.menuIsOpen)&&this.focusInput(),y&&f&&!o.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!y&&!f&&o.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(BA(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(o,u){this.props.onInputChange(o,u)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(o){var u=this,f=this.state,a=f.selectValue,y=f.isFocused,w=this.buildFocusableOptions(),k=o==="first"?0:w.length-1;if(!this.props.isMulti){var M=w.indexOf(a[0]);M>-1&&(k=M)}this.scrollToFocusedOptionOnUpdate=!(y&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:w[k]},function(){return u.onMenuOpen()})}},{key:"focusValue",value:function(o){var u=this.state,f=u.selectValue,a=u.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var y=f.indexOf(a);a||(y=-1);var w=f.length-1,k=-1;if(f.length){switch(o){case"previous":y===0?k=0:y===-1?k=w:k=y-1;break;case"next":y>-1&&y<w&&(k=y+1);break}this.setState({inputIsHidden:k!==-1,focusedValue:f[k]})}}}},{key:"focusOption",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",u=this.props.pageSize,f=this.state.focusedOption,a=this.getFocusableOptions();if(a.length){var y=0,w=a.indexOf(f);f||(w=-1),o==="up"?y=w>0?w-1:a.length-1:o==="down"?y=(w+1)%a.length:o==="pageup"?(y=w-u,y<0&&(y=0)):o==="pagedown"?(y=w+u,y>a.length-1&&(y=a.length-1)):o==="last"&&(y=a.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:a[y],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(_4):or(or({},_4),this.props.theme):_4}},{key:"getCommonProps",value:function(){var o=this.clearValue,u=this.cx,f=this.getStyles,a=this.getClassNames,y=this.getValue,w=this.selectOption,k=this.setValue,M=this.props,O=M.isMulti,$=M.isRtl,N=M.options,B=this.hasValue();return{clearValue:o,cx:u,getStyles:f,getClassNames:a,getValue:y,hasValue:B,isMulti:O,isRtl:$,options:N,selectOption:w,selectProps:M,setValue:k,theme:this.getTheme()}}},{key:"hasValue",value:function(){var o=this.state.selectValue;return o.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var o=this.props,u=o.isClearable,f=o.isMulti;return u===void 0?f:u}},{key:"isOptionDisabled",value:function(o,u){return MN(this.props,o,u)}},{key:"isOptionSelected",value:function(o,u){return DN(this.props,o,u)}},{key:"filterOption",value:function(o,u){return RN(this.props,o,u)}},{key:"formatOptionLabel",value:function(o,u){if(typeof this.props.formatOptionLabel=="function"){var f=this.props.inputValue,a=this.state.selectValue;return this.props.formatOptionLabel(o,{context:u,inputValue:f,selectValue:a})}else return this.getOptionLabel(o)}},{key:"formatGroupLabel",value:function(o){return this.props.formatGroupLabel(o)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var o=this.props,u=o.isDisabled,f=o.isSearchable,a=o.inputId,y=o.inputValue,w=o.tabIndex,k=o.form,M=o.menuIsOpen,O=o.required,$=this.getComponents(),N=$.Input,B=this.state,J=B.inputIsHidden,U=B.ariaSelection,G=this.commonProps,Z=a||this.getElementId("input"),Q=or(or(or({"aria-autocomplete":"list","aria-expanded":M,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":O,role:"combobox"},M&&{"aria-controls":this.getElementId("listbox"),"aria-owns":this.getElementId("listbox")}),!f&&{"aria-readonly":!0}),this.hasValue()?(U==null?void 0:U.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return f?V.createElement(N,me({},G,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:Z,innerRef:this.getInputRef,isDisabled:u,isHidden:J,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:w,form:k,type:"text",value:y},Q)):V.createElement(k0e,me({id:Z,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Ex,onFocus:this.onInputFocus,disabled:u,tabIndex:w,inputMode:"none",form:k,value:""},Q))}},{key:"renderPlaceholderOrValue",value:function(){var o=this,u=this.getComponents(),f=u.MultiValue,a=u.MultiValueContainer,y=u.MultiValueLabel,w=u.MultiValueRemove,k=u.SingleValue,M=u.Placeholder,O=this.commonProps,$=this.props,N=$.controlShouldRenderValue,B=$.isDisabled,J=$.isMulti,U=$.inputValue,G=$.placeholder,Z=this.state,Q=Z.selectValue,se=Z.focusedValue,ce=Z.isFocused;if(!this.hasValue()||!N)return U?null:V.createElement(M,me({},O,{key:"placeholder",isDisabled:B,isFocused:ce,innerProps:{id:this.getElementId("placeholder")}}),G);if(J)return Q.map(function(_e,le){var ve=_e===se,Ue="".concat(o.getOptionLabel(_e),"-").concat(o.getOptionValue(_e));return V.createElement(f,me({},O,{components:{Container:a,Label:y,Remove:w},isFocused:ve,isDisabled:B,key:Ue,index:le,removeProps:{onClick:function(){return o.removeValue(_e)},onTouchEnd:function(){return o.removeValue(_e)},onMouseDown:function(Ae){Ae.preventDefault()}},data:_e}),o.formatOptionLabel(_e,"value"))});if(U)return null;var A=Q[0];return V.createElement(k,me({},O,{data:A,isDisabled:B}),this.formatOptionLabel(A,"value"))}},{key:"renderClearIndicator",value:function(){var o=this.getComponents(),u=o.ClearIndicator,f=this.commonProps,a=this.props,y=a.isDisabled,w=a.isLoading,k=this.state.isFocused;if(!this.isClearable()||!u||y||!this.hasValue()||w)return null;var M={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return V.createElement(u,me({},f,{innerProps:M,isFocused:k}))}},{key:"renderLoadingIndicator",value:function(){var o=this.getComponents(),u=o.LoadingIndicator,f=this.commonProps,a=this.props,y=a.isDisabled,w=a.isLoading,k=this.state.isFocused;if(!u||!w)return null;var M={"aria-hidden":"true"};return V.createElement(u,me({},f,{innerProps:M,isDisabled:y,isFocused:k}))}},{key:"renderIndicatorSeparator",value:function(){var o=this.getComponents(),u=o.DropdownIndicator,f=o.IndicatorSeparator;if(!u||!f)return null;var a=this.commonProps,y=this.props.isDisabled,w=this.state.isFocused;return V.createElement(f,me({},a,{isDisabled:y,isFocused:w}))}},{key:"renderDropdownIndicator",value:function(){var o=this.getComponents(),u=o.DropdownIndicator;if(!u)return null;var f=this.commonProps,a=this.props.isDisabled,y=this.state.isFocused,w={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return V.createElement(u,me({},f,{innerProps:w,isDisabled:a,isFocused:y}))}},{key:"renderMenu",value:function(){var o=this,u=this.getComponents(),f=u.Group,a=u.GroupHeading,y=u.Menu,w=u.MenuList,k=u.MenuPortal,M=u.LoadingMessage,O=u.NoOptionsMessage,$=u.Option,N=this.commonProps,B=this.state.focusedOption,J=this.props,U=J.captureMenuScroll,G=J.inputValue,Z=J.isLoading,Q=J.loadingMessage,se=J.minMenuHeight,ce=J.maxMenuHeight,A=J.menuIsOpen,_e=J.menuPlacement,le=J.menuPosition,ve=J.menuPortalTarget,Ue=J.menuShouldBlockScroll,$e=J.menuShouldScrollIntoView,Ae=J.noOptionsMessage,Re=J.onMenuScrollToTop,Oe=J.onMenuScrollToBottom;if(!A)return null;var Ye=function(ct,Ct){var ut=ct.type,yt=ct.data,Dt=ct.isDisabled,Rt=ct.isSelected,St=ct.label,Qt=ct.value,Lt=B===yt,qt=Dt?void 0:function(){return o.onOptionHover(yt)},an=Dt?void 0:function(){return o.selectOption(yt)},jt="".concat(o.getElementId("option"),"-").concat(Ct),vt={id:jt,onClick:an,onMouseMove:qt,onMouseOver:qt,tabIndex:-1};return V.createElement($,me({},N,{innerProps:vt,data:yt,isDisabled:Dt,isSelected:Rt,key:jt,label:St,type:ut,value:Qt,isFocused:Lt,innerRef:Lt?o.getFocusedOptionRef:void 0}),o.formatOptionLabel(ct.data,"menu"))},Qe;if(this.hasOptions())Qe=this.getCategorizedOptions().map(function(ot){if(ot.type==="group"){var ct=ot.data,Ct=ot.options,ut=ot.index,yt="".concat(o.getElementId("group"),"-").concat(ut),Dt="".concat(yt,"-heading");return V.createElement(f,me({},N,{key:yt,data:ct,options:Ct,Heading:a,headingProps:{id:Dt,data:ot.data},label:o.formatGroupLabel(ot.data)}),ot.options.map(function(Rt){return Ye(Rt,"".concat(ut,"-").concat(Rt.index))}))}else if(ot.type==="option")return Ye(ot,"".concat(ot.index))});else if(Z){var ze=Q({inputValue:G});if(ze===null)return null;Qe=V.createElement(M,N,ze)}else{var Pe=Ae({inputValue:G});if(Pe===null)return null;Qe=V.createElement(O,N,Pe)}var je={minMenuHeight:se,maxMenuHeight:ce,menuPlacement:_e,menuPosition:le,menuShouldScrollIntoView:$e},lt=V.createElement(ofe,me({},N,je),function(ot){var ct=ot.ref,Ct=ot.placerProps,ut=Ct.placement,yt=Ct.maxHeight;return V.createElement(y,me({},N,je,{innerRef:ct,innerProps:{onMouseDown:o.onMenuMouseDown,onMouseMove:o.onMenuMouseMove,id:o.getElementId("listbox")},isLoading:Z,placement:ut}),V.createElement(R0e,{captureEnabled:U,onTopArrive:Re,onBottomArrive:Oe,lockEnabled:Ue},function(Dt){return V.createElement(w,me({},N,{innerRef:function(St){o.getMenuListRef(St),Dt(St)},isLoading:Z,maxHeight:yt,focusedOption:B}),Qe)}))});return ve||le==="fixed"?V.createElement(k,me({},N,{appendTo:ve,controlElement:this.controlRef,menuPlacement:_e,menuPosition:le}),lt):lt}},{key:"renderFormField",value:function(){var o=this,u=this.props,f=u.delimiter,a=u.isDisabled,y=u.isMulti,w=u.name,k=u.required,M=this.state.selectValue;if(k&&!this.hasValue()&&!a)return V.createElement(z0e,{name:w,onFocus:this.onValueInputFocus});if(!(!w||a))if(y)if(f){var O=M.map(function(B){return o.getOptionValue(B)}).join(f);return V.createElement("input",{name:w,type:"hidden",value:O})}else{var $=M.length>0?M.map(function(B,J){return V.createElement("input",{key:"i-".concat(J),name:w,type:"hidden",value:o.getOptionValue(B)})}):V.createElement("input",{name:w,type:"hidden",value:""});return V.createElement("div",null,$)}else{var N=M[0]?this.getOptionValue(M[0]):"";return V.createElement("input",{name:w,type:"hidden",value:N})}}},{key:"renderLiveRegion",value:function(){var o=this.commonProps,u=this.state,f=u.ariaSelection,a=u.focusedOption,y=u.focusedValue,w=u.isFocused,k=u.selectValue,M=this.getFocusableOptions();return V.createElement(b0e,me({},o,{id:this.getElementId("live-region"),ariaSelection:f,focusedOption:a,focusedValue:y,isFocused:w,selectValue:k,focusableOptions:M}))}},{key:"render",value:function(){var o=this.getComponents(),u=o.Control,f=o.IndicatorsContainer,a=o.SelectContainer,y=o.ValueContainer,w=this.props,k=w.className,M=w.id,O=w.isDisabled,$=w.menuIsOpen,N=this.state.isFocused,B=this.commonProps=this.getCommonProps();return V.createElement(a,me({},B,{className:k,innerProps:{id:M,onKeyDown:this.onKeyDown},isDisabled:O,isFocused:N}),this.renderLiveRegion(),V.createElement(u,me({},B,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:O,isFocused:N,menuIsOpen:$}),V.createElement(y,me({},B,{isDisabled:O}),this.renderPlaceholderOrValue(),this.renderInput()),V.createElement(f,me({},B,{isDisabled:O}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(o,u){var f=u.prevProps,a=u.clearFocusValueOnUpdate,y=u.inputIsHiddenAfterUpdate,w=u.ariaSelection,k=u.isFocused,M=u.prevWasFocused,O=o.options,$=o.value,N=o.menuIsOpen,B=o.inputValue,J=o.isMulti,U=NA($),G={};if(f&&($!==f.value||O!==f.options||N!==f.menuIsOpen||B!==f.inputValue)){var Z=N?Z0e(o,U):[],Q=a?X0e(u,U):null,se=K0e(u,Z);G={selectValue:U,focusedOption:se,focusedValue:Q,clearFocusValueOnUpdate:!1}}var ce=y!=null&&o!==f?{inputIsHidden:y,inputIsHiddenAfterUpdate:void 0}:{},A=w,_e=k&&M;return k&&!_e&&(A={value:Nv(J,U,U[0]||null),options:U,action:"initial-input-focus"},_e=!M),(w==null?void 0:w.action)==="initial-input-focus"&&(A=null),or(or(or({},G),ce),{},{prevProps:o,ariaSelection:A,prevWasFocused:_e})}}]),n}(V.Component);LN.defaultProps=G0e;var J0e=V.forwardRef(function(e,t){var n=vpe(e);return V.createElement(LN,me({ref:t},n))}),Q0e=J0e;const e1e=[{value:"library_locations",label:"Libraries"},{value:"worship_locations",label:"Places of Worship"},{value:"community_locations",label:"Community Centres"},{value:"museum_art_locations",label:"Museums & Art Galleries"},{value:"walking_node_locations",label:"Other Walking Nodes"},{value:"park_node_locations",label:"Other Park Nodes"}],t1e=()=>{const[e,t]=V.useState([]),n=u=>{t(u)},i=e.map(u=>u.value),o=async u=>{u.preventDefault(),console.log("Selected Values:",i),console.log("Selected Options:",e),Hp.post("/users/preferences",{selectedOptions:i}).then(f=>{console.log("Data:",f.data)}).catch(f=>{f.response?(console.log(f.response),console.log("Status code:",f.response.status),console.log("Error Message",f.message),console.log("Response Data:",f.response.data)):f.request?console.log("network error"):console.log(f)})};return z.jsxs("div",{className:"preferences-area",children:[z.jsx("h3",{children:"Select Amble Preferences"}),z.jsxs("form",{onSubmit:o,children:[z.jsx(Q0e,{options:e1e,isMulti:"true",value:e,onChange:n}),z.jsx("button",{type:"submit",className:"submit-button",children:"Submit"})]})]})};var zN={exports:{}};(function(e){e.exports=function(t){var n={};function i(o){if(n[o])return n[o].exports;var u=n[o]={exports:{},id:o,loaded:!1};return t[o].call(u.exports,u,u.exports,i),u.loaded=!0,u.exports}return i.m=t,i.c=n,i.p="",i(0)}([function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=Object.assign||function(le){for(var ve=1;ve<arguments.length;ve++){var Ue=arguments[ve];for(var $e in Ue)Object.prototype.hasOwnProperty.call(Ue,$e)&&(le[$e]=Ue[$e])}return le},u=function(){function le(ve,Ue){for(var $e=0;$e<Ue.length;$e++){var Ae=Ue[$e];Ae.enumerable=Ae.enumerable||!1,Ae.configurable=!0,"value"in Ae&&(Ae.writable=!0),Object.defineProperty(ve,Ae.key,Ae)}}return function(ve,Ue,$e){return Ue&&le(ve.prototype,Ue),$e&&le(ve,$e),ve}}(),f=i(1),a=Z(f),y=i(2),w=Z(y),k=i(10),M=Z(k),O=i(12),$=Z(O),N=i(13),B=Z(N),J=i(14),U=G(J);function G(le){if(le&&le.__esModule)return le;var ve={};if(le!=null)for(var Ue in le)Object.prototype.hasOwnProperty.call(le,Ue)&&(ve[Ue]=le[Ue]);return ve.default=le,ve}function Z(le){return le&&le.__esModule?le:{default:le}}function Q(le,ve){if(!(le instanceof ve))throw new TypeError("Cannot call a class as a function")}function se(le,ve){if(!le)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ve&&(typeof ve=="object"||typeof ve=="function")?ve:le}function ce(le,ve){if(typeof ve!="function"&&ve!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ve);le.prototype=Object.create(ve&&ve.prototype,{constructor:{value:le,enumerable:!1,writable:!0,configurable:!0}}),ve&&(Object.setPrototypeOf?Object.setPrototypeOf(le,ve):le.__proto__=ve)}var A=["🔙","⏰"],_e=function(le){ce(ve,le);function ve(Ue){Q(this,ve);var $e=se(this,(ve.__proto__||Object.getPrototypeOf(ve)).call(this,Ue));return $e.state={textLines:[],isDone:!1},$e.onTypingDone=function(){$e.mounted&&($e.setState({isDone:!0}),$e.props.onTypingDone())},$e.delayGenerator=function(Ae,Re,Oe,Ye){var Qe=$e.props.avgTypingDelay,ze=$e.props.stdTypingDelay;return $e.props.delayGenerator(Qe,ze,{line:Ae,lineIdx:Re,character:Oe,charIdx:Ye,defDelayGenerator:function(){var je=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Qe,lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ze;return U.gaussianRnd(je,lt)}})},$e.typeLine=function(Ae,Re){if(!$e.mounted)return Promise.resolve();var Oe=Ae,Ye=$e.props.onLineTyped;return U.isBackspaceElement(Ae)?(Ae.props.delay>0&&($e.introducedDelay=Ae.props.delay),Oe="🔙".repeat(Ae.props.count)):U.isDelayElement(Ae)&&($e.introducedDelay=Ae.props.ms,Oe="⏰"),new Promise(function(Qe,ze){$e.setState({textLines:$e.state.textLines.concat([""])},function(){U.eachPromise(Oe,$e.typeCharacter,Oe,Re).then(function(){return Ye(Oe,Re)}).then(Qe).catch(ze)})})},$e.typeCharacter=function(Ae,Re,Oe,Ye){if(!$e.mounted)return Promise.resolve();var Qe=$e.props.onCharacterTyped;return new Promise(function(ze){var Pe=$e.state.textLines.slice();U.sleep($e.introducedDelay).then(function(){$e.introducedDelay=null;var je=Ae==="🔙",lt=Ae==="⏰";if(lt){ze();return}if(je&&Ye>0){for(var ot=Ye-1,ct=Pe[ot],Ct=ot;Ct>=0&&!(ct.length>0&&!A.includes(ct[0]));Ct--)ot=Ct,ct=Pe[ot];Pe[ot]=ct.substr(0,ct.length-1)}else Pe[Ye]+=Ae;$e.setState({textLines:Pe},function(){var ut=$e.delayGenerator(Oe,Ye,Ae,Re);Qe(Ae,Re),setTimeout(ze,ut)})})})},$e.mounted=!1,$e.linesToType=[],$e.introducedDelay=null,Ue.children&&($e.linesToType=U.extractTextFromElement(Ue.children)),$e}return u(ve,[{key:"componentDidMount",value:function(){this.mounted=!0;var $e=this.props,Ae=$e.children,Re=$e.startDelay;Ae?Re>0&&typeof window<"u"?setTimeout(this.typeAllLines.bind(this),Re):this.typeAllLines():this.onTypingDone()}},{key:"shouldComponentUpdate",value:function($e,Ae){if(Ae.textLines.length!==this.state.textLines.length)return!0;for(var Re=0;Re<Ae.textLines.length;Re++){var Oe=this.state.textLines[Re],Ye=Ae.textLines[Re];if(Oe!==Ye)return!0}return this.state.isDone!==Ae.isDone}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"typeAllLines",value:function(){var $e=this,Ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.linesToType;return U.eachPromise(Ae,this.typeLine).then(function(){return $e.onTypingDone()})}},{key:"render",value:function(){var $e=this.props,Ae=$e.className,Re=$e.cursor,Oe=this.state.isDone,Ye=U.cloneElementWithSpecifiedText({element:this.props.children,textLines:this.state.textLines});return a.default.createElement("div",{className:"Typist "+Ae},Ye,a.default.createElement(M.default,o({isDone:Oe},Re)))}}]),ve}(f.Component);_e.propTypes={children:w.default.node,className:w.default.string,avgTypingDelay:w.default.number,stdTypingDelay:w.default.number,startDelay:w.default.number,cursor:w.default.object,onCharacterTyped:w.default.func,onLineTyped:w.default.func,onTypingDone:w.default.func,delayGenerator:w.default.func},_e.defaultProps={className:"",avgTypingDelay:70,stdTypingDelay:25,startDelay:0,cursor:{},onCharacterTyped:function(){},onLineTyped:function(){},onTypingDone:function(){},delayGenerator:U.gaussianRnd},n.default=_e,_e.Backspace=$.default,_e.Delay=B.default},function(t,n){t.exports=V},function(t,n,i){t.exports=i(9)()},function(t,n,i){var o=i(4),u=i(5),f=i(6),a=i(7),y=i(8);t.exports=function(w,k){var M=typeof Symbol=="function"&&Symbol.iterator,O="@@iterator";function $(Pe){var je=Pe&&(M&&Pe[M]||Pe[O]);if(typeof je=="function")return je}var N="<<anonymous>>",B={array:Z("array"),bool:Z("boolean"),func:Z("function"),number:Z("number"),object:Z("object"),string:Z("string"),symbol:Z("symbol"),any:Q(),arrayOf:se,element:ce(),instanceOf:A,node:Ue(),objectOf:le,oneOf:_e,oneOfType:ve,shape:$e};function J(Pe,je){return Pe===je?Pe!==0||1/Pe===1/je:Pe!==Pe&&je!==je}function U(Pe){this.message=Pe,this.stack=""}U.prototype=Error.prototype;function G(Pe){function je(ot,ct,Ct,ut,yt,Dt,Rt){return ut=ut||N,Dt=Dt||Ct,Rt!==a&&k&&u(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types"),ct[Ct]==null?ot?ct[Ct]===null?new U("The "+yt+" `"+Dt+"` is marked as required "+("in `"+ut+"`, but its value is `null`.")):new U("The "+yt+" `"+Dt+"` is marked as required in "+("`"+ut+"`, but its value is `undefined`.")):null:Pe(ct,Ct,ut,yt,Dt)}var lt=je.bind(null,!1);return lt.isRequired=je.bind(null,!0),lt}function Z(Pe){function je(lt,ot,ct,Ct,ut,yt){var Dt=lt[ot],Rt=Oe(Dt);if(Rt!==Pe){var St=Ye(Dt);return new U("Invalid "+Ct+" `"+ut+"` of type "+("`"+St+"` supplied to `"+ct+"`, expected ")+("`"+Pe+"`."))}return null}return G(je)}function Q(){return G(o.thatReturnsNull)}function se(Pe){function je(lt,ot,ct,Ct,ut){if(typeof Pe!="function")return new U("Property `"+ut+"` of component `"+ct+"` has invalid PropType notation inside arrayOf.");var yt=lt[ot];if(!Array.isArray(yt)){var Dt=Oe(yt);return new U("Invalid "+Ct+" `"+ut+"` of type "+("`"+Dt+"` supplied to `"+ct+"`, expected an array."))}for(var Rt=0;Rt<yt.length;Rt++){var St=Pe(yt,Rt,ct,Ct,ut+"["+Rt+"]",a);if(St instanceof Error)return St}return null}return G(je)}function ce(){function Pe(je,lt,ot,ct,Ct){var ut=je[lt];if(!w(ut)){var yt=Oe(ut);return new U("Invalid "+ct+" `"+Ct+"` of type "+("`"+yt+"` supplied to `"+ot+"`, expected a single ReactElement."))}return null}return G(Pe)}function A(Pe){function je(lt,ot,ct,Ct,ut){if(!(lt[ot]instanceof Pe)){var yt=Pe.name||N,Dt=ze(lt[ot]);return new U("Invalid "+Ct+" `"+ut+"` of type "+("`"+Dt+"` supplied to `"+ct+"`, expected ")+("instance of `"+yt+"`."))}return null}return G(je)}function _e(Pe){if(!Array.isArray(Pe))return o.thatReturnsNull;function je(lt,ot,ct,Ct,ut){for(var yt=lt[ot],Dt=0;Dt<Pe.length;Dt++)if(J(yt,Pe[Dt]))return null;var Rt=JSON.stringify(Pe);return new U("Invalid "+Ct+" `"+ut+"` of value `"+yt+"` "+("supplied to `"+ct+"`, expected one of "+Rt+"."))}return G(je)}function le(Pe){function je(lt,ot,ct,Ct,ut){if(typeof Pe!="function")return new U("Property `"+ut+"` of component `"+ct+"` has invalid PropType notation inside objectOf.");var yt=lt[ot],Dt=Oe(yt);if(Dt!=="object")return new U("Invalid "+Ct+" `"+ut+"` of type "+("`"+Dt+"` supplied to `"+ct+"`, expected an object."));for(var Rt in yt)if(yt.hasOwnProperty(Rt)){var St=Pe(yt,Rt,ct,Ct,ut+"."+Rt,a);if(St instanceof Error)return St}return null}return G(je)}function ve(Pe){if(!Array.isArray(Pe))return o.thatReturnsNull;for(var je=0;je<Pe.length;je++){var lt=Pe[je];if(typeof lt!="function")return f(!1,"Invalid argument supplid to oneOfType. Expected an array of check functions, but received %s at index %s.",Qe(lt),je),o.thatReturnsNull}function ot(ct,Ct,ut,yt,Dt){for(var Rt=0;Rt<Pe.length;Rt++){var St=Pe[Rt];if(St(ct,Ct,ut,yt,Dt,a)==null)return null}return new U("Invalid "+yt+" `"+Dt+"` supplied to "+("`"+ut+"`."))}return G(ot)}function Ue(){function Pe(je,lt,ot,ct,Ct){return Ae(je[lt])?null:new U("Invalid "+ct+" `"+Ct+"` supplied to "+("`"+ot+"`, expected a ReactNode."))}return G(Pe)}function $e(Pe){function je(lt,ot,ct,Ct,ut){var yt=lt[ot],Dt=Oe(yt);if(Dt!=="object")return new U("Invalid "+Ct+" `"+ut+"` of type `"+Dt+"` "+("supplied to `"+ct+"`, expected `object`."));for(var Rt in Pe){var St=Pe[Rt];if(St){var Qt=St(yt,Rt,ct,Ct,ut+"."+Rt,a);if(Qt)return Qt}}return null}return G(je)}function Ae(Pe){switch(typeof Pe){case"number":case"string":case"undefined":return!0;case"boolean":return!Pe;case"object":if(Array.isArray(Pe))return Pe.every(Ae);if(Pe===null||w(Pe))return!0;var je=$(Pe);if(je){var lt=je.call(Pe),ot;if(je!==Pe.entries){for(;!(ot=lt.next()).done;)if(!Ae(ot.value))return!1}else for(;!(ot=lt.next()).done;){var ct=ot.value;if(ct&&!Ae(ct[1]))return!1}}else return!1;return!0;default:return!1}}function Re(Pe,je){return Pe==="symbol"||je["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&je instanceof Symbol}function Oe(Pe){var je=typeof Pe;return Array.isArray(Pe)?"array":Pe instanceof RegExp?"object":Re(je,Pe)?"symbol":je}function Ye(Pe){if(typeof Pe>"u"||Pe===null)return""+Pe;var je=Oe(Pe);if(je==="object"){if(Pe instanceof Date)return"date";if(Pe instanceof RegExp)return"regexp"}return je}function Qe(Pe){var je=Ye(Pe);switch(je){case"array":case"object":return"an "+je;case"boolean":case"date":case"regexp":return"a "+je;default:return je}}function ze(Pe){return!Pe.constructor||!Pe.constructor.name?N:Pe.constructor.name}return B.checkPropTypes=y,B.PropTypes=B,B}},function(t,n){function i(u){return function(){return u}}var o=function(){};o.thatReturns=i,o.thatReturnsFalse=i(!1),o.thatReturnsTrue=i(!0),o.thatReturnsNull=i(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(u){return u},t.exports=o},function(t,n){function i(o,u,f,a,y,w,k,M){if(!o){var O;if(u===void 0)O=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var $=[f,a,y,w,k,M],N=0;O=new Error(u.replace(/%s/g,function(){return $[N++]})),O.name="Invariant Violation"}throw O.framesToPop=1,O}}t.exports=i},function(t,n,i){var o=i(4),u=o;t.exports=u},function(t,n){var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";t.exports=i},function(t,n,i){function o(u,f,a,y,w){}t.exports=o},function(t,n,i){var o=i(4),u=i(5),f=i(7);t.exports=function(){function a(k,M,O,$,N,B){B!==f&&u(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}a.isRequired=a;function y(){return a}var w={array:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:y,element:a,instanceOf:y,node:a,objectOf:y,oneOf:y,oneOfType:y,shape:y};return w.checkPropTypes=o,w.PropTypes=w,w}},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function N(B,J){for(var U=0;U<J.length;U++){var G=J[U];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(B,G.key,G)}}return function(B,J,U){return J&&N(B.prototype,J),U&&N(B,U),B}}(),u=i(1),f=w(u),a=i(2),y=w(a);i(11);function w(N){return N&&N.__esModule?N:{default:N}}function k(N,B){if(!(N instanceof B))throw new TypeError("Cannot call a class as a function")}function M(N,B){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:N}function O(N,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);N.prototype=Object.create(B&&B.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(N,B):N.__proto__=B)}var $=function(N){O(B,N);function B(J){k(this,B);var U=M(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,J));return U._isReRenderingCursor=!1,U.state={shouldRender:U.props.show},U}return o(B,[{key:"componentWillReceiveProps",value:function(U){var G=this,Z=!this.props.isDone&&U.isDone&&this.props.hideWhenDone;Z&&setTimeout(function(){return G.setState({shouldRender:!1})},this.props.hideWhenDoneDelay)}},{key:"componentDidUpdate",value:function(){var U=this.props,G=U.show,Z=U.isDone;G&&(Z||this._isReRenderingCursor||this._reRenderCursor())}},{key:"_reRenderCursor",value:function(){var U=this;this._isReRenderingCursor=!0,this.setState({shouldRender:!1},function(){U.setState({shouldRender:!0},function(){U._isReRenderingCursor=!1})})}},{key:"render",value:function(){if(this.state.shouldRender){var U=this.props.blink?" Cursor--blinking":"";return f.default.createElement("span",{className:"Cursor"+U},this.props.element)}return null}}]),B}(u.Component);$.propTypes={blink:y.default.bool,show:y.default.bool,element:y.default.node,hideWhenDone:y.default.bool,hideWhenDoneDelay:y.default.number,isDone:y.default.bool},$.defaultProps={blink:!0,show:!0,element:"|",hideWhenDone:!1,hideWhenDoneDelay:1e3,isDone:!1},n.default=$},function(t,n){},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(1),u=y(o),f=i(2),a=y(f);function y(k){return k&&k.__esModule?k:{default:k}}var w=function(){return u.default.createElement("noscript",null)};w.componentName="Backspace",w.propTypes={count:a.default.number,delay:a.default.number},w.defaultProps={count:1,delay:0},n.default=w},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(1),u=y(o),f=i(2),a=y(f);function y(k){return k&&k.__esModule?k:{default:k}}var w=function(){return u.default.createElement("noscript",null)};w.componentName="Delay",w.propTypes={ms:a.default.number.isRequired},n.default=w},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.sleep=void 0;var o=function(){function G(Z,Q){var se=[],ce=!0,A=!1,_e=void 0;try{for(var le=Z[Symbol.iterator](),ve;!(ce=(ve=le.next()).done)&&(se.push(ve.value),!(Q&&se.length===Q));ce=!0);}catch(Ue){A=!0,_e=Ue}finally{try{!ce&&le.return&&le.return()}finally{if(A)throw _e}}return se}return function(Z,Q){if(Array.isArray(Z))return Z;if(Symbol.iterator in Object(Z))return G(Z,Q);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();n.gaussianRnd=w,n.eachPromise=k,n.exclude=M,n.isBackspaceElement=O,n.isDelayElement=$,n.extractTextFromElement=N,n.cloneElement=B,n.cloneElementWithSpecifiedText=U;var u=i(1),f=a(u);function a(G){return G&&G.__esModule?G:{default:G}}function y(G){if(Array.isArray(G)){for(var Z=0,Q=Array(G.length);Z<G.length;Z++)Q[Z]=G[Z];return Q}else return Array.from(G)}n.sleep=function(Z){return new Promise(function(Q){return Z!=null?setTimeout(Q,Z):Q()})};function w(G,Z){for(var Q=12,se=0,ce=0;ce<Q;ce++)se+=Math.random();return se-=Q/2,Math.round(se*Z)+G}function k(G,Z){for(var Q=arguments.length,se=Array(Q>2?Q-2:0),ce=2;ce<Q;ce++)se[ce-2]=arguments[ce];var A=function(le,ve,Ue){return le.then(function(){return Z.apply(void 0,[ve,Ue].concat(se))})};return Array.from(G).reduce(A,Promise.resolve())}function M(G,Z){var Q={};for(var se in G)Z.indexOf(se)===-1&&(Q[se]=G[se]);return Q}function O(G){return G&&G.type&&G.type.componentName==="Backspace"}function $(G){return G&&G.type&&G.type.componentName==="Delay"}function N(G){for(var Z=G?[G]:[],Q=[];Z.length>0;){var se=Z.pop();if(f.default.isValidElement(se))O(se)||$(se)?Q.unshift(se):f.default.Children.forEach(se.props.children,function($e){Z.push($e)});else if(Array.isArray(se)){var ce=!0,A=!1,_e=void 0;try{for(var le=se[Symbol.iterator](),ve;!(ce=(ve=le.next()).done);ce=!0){var Ue=ve.value;Z.push(Ue)}}catch($e){A=!0,_e=$e}finally{try{!ce&&le.return&&le.return()}finally{if(A)throw _e}}}else Q.unshift(se)}return Q}function B(G,Z){var Q=G.type,se=M(G.props,["children"]),ce=new Date().getUTCMilliseconds(),A=ce+Math.random()+Math.random();return se.key="Typist-element-"+Q+"-"+A,f.default.createElement.apply(f.default,[Q,se].concat(y(Z)))}function J(G,Z,Q){if(Q>=Z.length)return[null,Q];var se=Q,ce=function(Ue){var $e=J(Ue,Z,se),Ae=o($e,2),Re=Ae[0],Oe=Ae[1];return se=Oe,Re},A=f.default.isValidElement(G)&&!(O(G)||$(G));if(A){var _e=f.default.Children.map(G.props.children,ce)||[];return[B(G,_e),se]}if(Array.isArray(G)){var le=G.map(ce);return[le,se]}return[Z[se],se+1]}function U(G){var Z=G.element,Q=G.textLines;if(Z)return J(Z,Q,0)[0]}}])})(zN);var n1e=zN.exports;const r1e=Np(n1e);const i1e="/static/chat_user.png",o1e="/static/chat_acorn.png",a1e="/static/chat_squirrel.png";function s1e(){const[e,t]=V.useState(["Monday",15]),{globalArray:n,setGlobalArrayValue:i,getGlobalArrayItem:o,addToGlobalArray:u}=V.useContext(S5),[f,a]=V.useState("");V.useState("");const[y,w]=V.useState([]),[k,M]=V.useState(!1),[O,$]=V.useState();V.useState();const N=[{value:"1",text:"Add a quiet cafe to my walk."},{value:"2",text:"Add a quiet restaurant to my walk."},{value:"3",text:"Tell me more about a stop on my walk."},{value:"4",text:"Find another point of interest along my walk."},{value:"5",text:"Give me some advice on walking for my mental health."}],B=["1","2","3","4","5"],[J,U]=V.useState(B),G=N.filter(ut=>J.includes(ut.value));let Z=[{sender:"Amble",text:"Hi! I'm the Amble assistant. How can I make your walk even better?",type:"text",stage:"menu",value:null},...G.map(ut=>({sender:"Amble",text:`
 	 ${ut.value}: ${ut.text}`,type:"clickable",stage:"menu",value:`${ut.value}`}))];const[Q,se]=V.useState(Z),ce=`
Back to options.`,[A,_e]=V.useState(!1),[le,ve]=V.useState(!1),[Ue,$e]=V.useState(!1),[Ae,Re]=V.useState(!1),[Oe,Ye]=V.useState(!1),[Qe,ze]=V.useState(!1),Pe=V.useRef(null);V.useEffect(()=>{var ut;(ut=Pe.current)==null||ut.scrollIntoView({behavior:"smooth"})},[Q]);const je=ut=>{const yt=J.filter(St=>St!==ut);U(yt);const Dt=N.filter(St=>yt.includes(St.value));let Rt;Dt.length===0?Rt=[{sender:"Amble",text:"You've explored all the options. You can chat more with the Amble assistant on your next walk!",type:"text",stage:"standard",value:null}]:Rt=[{sender:"Amble",text:"How else can I make your walk even better?",type:"text",stage:"menu",value:null},...Dt.map(St=>({sender:"Amble",text:`
 	 ${St.value}: ${St.text}`,type:"clickable",stage:"menu",value:`${St.value}`}))],se(Rt)};V.useEffect(()=>{function ut(St){let Qt=St.replace(/None/g,"null").replace(/'([^']+)':/g,'"$1":');return Qt=Qt.replace(/,(\s*})/g,"$1"),Qt}let Dt=ut(`[{"id": "L3","name": "Macomb's Bridge Branch","type": "library","address": "2650 Adam Clayton Powell Jr. Boulevard, 10039 Manhattan","internet_access": None,
        "wheelchair_accessible": None,"opening_hours": None,"grid-id": 1371,"taxi-zone": 42,"precinct": 32,"b-score": None,"c-score": 0.5270044010715652,"rating": 1.5,"location": {"latitude": 40.8265379,"longitude": -73.9358448},"last_updated": None},
    {"id": "MA7","name": "International Center of Photography","type": "museum_art","address": "1133 6th Avenue, 10036 Manhattan","internet_access": None,"wheelchair_accessible": None,
        "opening_hours": None,"grid-id": 501,"taxi-zone": 230,"precinct": 14,"b-score": None,"c-score": 1.0,"rating": 1.5,"location": {"latitude": 40.7557394,"longitude": -73.9837251},"last_updated": None},
    {"id": "P22899286","name": "Madison Square Park","type": "park","address": None,"internet_access": None,"wheelchair_accessible": None,"opening_hours": "06:00-23:00",
        "grid-id": 419,"taxi-zone": 234,"precinct": 13,"b-score": None,"c-score": 0.6499952162265595,"rating": 1.5,"location": {"latitude": 40.7421868,"longitude": -73.987872},"last_updated": None},
    {"id": "WN23","name": None,"type": "walking_node","address": None,"internet_access": None,"wheelchair_accessible": None,"opening_hours": None,"grid-id": 82,"taxi-zone": 158,
        "precinct": 6,"b-score": None,"c-score": 0.5094001148105626,"rating": 1.5,"location": {"latitude": 40.7342479,"longitude": -74.01191},"last_updated": None},
    {"id": "WN24","name": None,"type": "walking_node","address": None,"internet_access": None,"wheelchair_accessible": None,"opening_hours": None,"grid-id": 52,
        "taxi-zone": 158,"precinct": 6,"b-score": None,"c-score": 0.5094001148105626,"rating": 1.5,"location": {"latitude": 40.7333014,"longitude": -74.0132614},}]`),Rt=JSON.parse(Dt);i(Rt)},[]);const lt=(ut,yt,Dt="text",Rt="menu",St=!1,Qt=null)=>{const qt=ut.split(`
`).filter(an=>an.trim()!=="").map((an,jt)=>({sender:yt,text:an,type:St&&jt===0?"text":Dt,stage:Rt,value:Qt?Qt.toString():St?jt.toString():(jt+1).toString()}));se(an=>[...an,...qt])},ot=ut=>{const yt=ut.filter(Dt=>Dt.type!=="walking_node"&&Dt.type!=="park_node");if(yt.length>0){let Dt=`
 Great choice! For which location would you like extra information?`,Rt="";for(let Qt=0;Qt<yt.length;Qt++)Rt+=`
 Location ${Qt+1}: ${yt[Qt].name}
`;lt(Dt,"Amble","text","option 3",!1,null),lt(Rt,"Amble","clickable","option 3");const St=yt.map((Qt,Lt)=>`${Lt+1}`);$(St),M(yt)}else lt(`
 I'm sorry, I couldn't find any suitable locations at this time.`,"Amble","text","option 3",!1,null)},ct=(ut,yt=null)=>{if(ut&&typeof ut.preventDefault=="function"&&ut.preventDefault(),["1","2","3","4","5"].includes(yt)&&!A&&!le&&!Ue&&!Ae&&!Oe){let Rt="";yt==="1"?(Rt=`
${yt}! Let's go for a coffee.`,lt(Rt,"Me","text","option 1",!1,null),_e(!0),ze(!0),Ct(yt,n,e,!1,null)):yt==="2"?(Rt=`
${yt}! Let's go for a meal.`,lt(Rt,"Me","text","option 2",!1,null),ve(!0),ze(!0),Ct(yt,n,e,!1,null)):yt==="3"?(Rt=`
${yt}! I want to find out more.`,lt(Rt,"Me","text","option 3",!1,null),$e(!0),ot(n)):yt==="4"?(Rt=`
${yt}! I want to explore a little.`,lt(Rt,"Me","text","option 4",!1,null),Re(!0),Ct(yt,n,e,!1,null)):yt==="5"&&(Rt=`
${yt}! I want to take care of my mental health.`,lt(Rt,"Me","text","option 5",!1,null),Ye(!0),Ct(yt,n,e,!1,null))}else if(A){const Rt=yt.toLowerCase().replace("cafe","").trim();if(O.includes(Rt)){se([...Q,{sender:"Me",text:`Cafe ${Rt} sounds great!`,type:"text",stage:"option 1",value:null},{sender:"Amble",text:"Wonderful! I added this cafe to your walk.",type:"text",stage:"option 1",value:null},{sender:"Amble",text:"Enjoy your walk and your coffee!",type:"text",stage:"option 1",value:null},{sender:"System",text:"Back to options.",type:"clickable",stage:"option 1",value:"1"}]),_e(!1);const St=y[parseInt(Rt)-1];if(St){const Qt=St[St.length-1],Lt={id:St[0].id,name:St[0].name,type:"cafe",address:St[0].address,location:{latitude:St[0].coordinates.lat,longitude:St[0].coordinates.lng}},qt=n.findIndex(an=>an.name===Qt.name);u(Lt,qt+1)}}}else if(le){const Rt=yt.toLowerCase().replace("restaurant","").trim();if(O.includes(Rt)){se([...Q,{sender:"Me",text:`I'd like to go to restaurant ${Rt}.`,type:"text",stage:"option 2",value:null},{sender:"Amble",text:"Wonderful! I added this restaurant to your walk.",type:"text",stage:"option 2",value:null},{sender:"Amble",text:"Enjoy your walk and your meal!",type:"text",stage:"option 2",value:null},{sender:"System",text:"Back to options.",type:"clickable",stage:"option 2",value:"2"}]),ve(!1);const St=y[parseInt(Rt)-1];if(St){const Qt=St[St.length-1],Lt={id:St[0].id,name:St[0].name,type:"restaurant",address:St[0].address,location:{latitude:St[0].coordinates.lat,longitude:St[0].coordinates.lng}},qt=n.findIndex(an=>an.name===Qt.name);u(Lt,qt+1)}}}else if(Ue){const Rt=yt.toLowerCase().replace("location ","").trim();if(O.includes(Rt)){se([...Q,{sender:"Me",text:`Tell me more about location ${Rt}.`,type:"text",stage:"option 3",value:null}]);const St=k[parseInt(Rt)-1];console.log("chosenLocation",St),Ct("3",n,e,!0,St),$e(!1)}}else Ae?Re(!1):Oe?Ye(!1):se([...Q,{sender:"Amble",text:"I'm sorry, I didn't understand that. Please choose one of the options by typing the number.",type:"text",stage:"standard",value:null}]);a("")},Ct=(ut,yt,Dt,Rt=!1,St=null)=>{Hp({method:"post",url:"/users/chatbox",data:{user_choice:ut,waypoints:yt,time:Dt,ai_call:Rt,location_choice:St}}).then(Qt=>{const Lt=Qt.data.data;if(ut==="1"||ut==="2"){const qt=Lt[0],an=Lt[1],jt=Lt[2],vt=Lt[3];lt(qt,"Amble","clickable",`option ${ut}`,!0),ze(!1),M(an),$(jt),w(vt)}else if(ut=="3")lt(Lt,"Amble","text","option 3"),lt(ce,"System","clickable","option 3",!1,"3");else if(ut==="4"){let qt=Lt[0];const an=Lt[2][0];lt(qt,"Amble","text","option 4"),an.forEach(jt=>{const vt=n.findIndex(gn=>gn.id===jt.id);vt!==-1&&(jt.name!=null?qt=`
 It is located close to your stop number ${vt+1}, ${jt.name}.`:qt=`
 It is located close to your stop number ${vt+1}.`,lt(qt,"Amble","text","option 4")),qt=`
 Enjoy your walk and a little exploration!`,lt(qt,"Amble","text","option 4",!1,null),lt(ce,"System","clickable","option 4",!1,"4")})}else ut==="5"&&(lt(Lt,"Amble"),lt(`
 Every little step on your walk is a great step for your mental health! 
 Enjoy your walk!`,"Amble","text","option 5",!1,null),lt(ce,"System","clickable","option 4",!1,"5"),Ye(!1))}).catch(Qt=>{console.log(Qt)})};return z.jsx(S5.Provider,{children:z.jsxs("div",{className:"ChatBox",children:[z.jsx("h2",{children:"Chat with Amble"}),z.jsxs("div",{className:"messages",children:[Q.map((ut,yt)=>{if(ut.sender==="System")return z.jsx("div",{className:"System",onClick:()=>je(ut.value),children:z.jsx("p",{children:ut.text})},yt);if(ut.sender==="Me")return z.jsxs("div",{className:"Me",children:[z.jsx("img",{src:i1e,className:"icon user",alt:"user"}),z.jsx("div",{className:"message-container",children:z.jsx("p",{children:ut.text})})]});if(ut.sender==="Amble")return ut.type==="clickable"?z.jsxs("div",{className:"Amble",onClick:()=>ct(null,ut.value),children:[z.jsx("img",{src:o1e,className:"icon acorn",alt:"acorn"}),z.jsx("div",{className:"message-container",children:z.jsx("p",{children:ut.text})})]}):z.jsxs("div",{className:"Amble",children:[z.jsx("img",{src:a1e,className:"icon squirrel",alt:"squirrel"}),z.jsx("div",{className:"message-container",children:z.jsx("p",{children:ut.text})})]})}),Qe&&z.jsx(r1e,{className:"AmbleTyping",children:"Amble is typing..."})]}),z.jsx("div",{ref:Pe})]})})}var AE={},l1e=pc;Object.defineProperty(AE,"__esModule",{value:!0});var FN=AE.default=void 0,c1e=l1e(fc()),u1e=z,d1e=(0,c1e.default)((0,u1e.jsx)("path",{d:"M13 14v6c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-6c0-.55-.45-1-1-1h-6c-.55 0-1 .45-1 1zm-9 7h6c.55 0 1-.45 1-1v-6c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1zM3 4v6c0 .55.45 1 1 1h6c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1zm12.95-1.6L11.7 6.64c-.39.39-.39 1.02 0 1.41l4.25 4.25c.39.39 1.02.39 1.41 0l4.25-4.25c.39-.39.39-1.02 0-1.41L17.37 2.4c-.39-.39-1.03-.39-1.42 0z"}),"WidgetsRounded");FN=AE.default=d1e;var ME={},h1e=pc;Object.defineProperty(ME,"__esModule",{value:!0});var NN=ME.default=void 0,p1e=h1e(fc()),f1e=z,m1e=(0,p1e.default)((0,f1e.jsx)("path",{d:"m2.53 19.65 1.34.56v-9.03l-2.43 5.86c-.41 1.02.08 2.19 1.09 2.61zm19.5-3.7L17.07 3.98c-.31-.75-1.04-1.21-1.81-1.23-.26 0-.53.04-.79.15L7.1 5.95c-.75.31-1.21 1.03-1.23 1.8-.01.27.04.54.15.8l4.96 11.97c.31.76 1.05 1.22 1.83 1.23.26 0 .52-.05.77-.15l7.36-3.05c1.02-.42 1.51-1.59 1.09-2.6zM7.88 8.75c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-2 11c0 1.1.9 2 2 2h1.45l-3.45-8.34v6.34z"}),"StyleRounded");NN=ME.default=m1e;var DE={},g1e=pc;Object.defineProperty(DE,"__esModule",{value:!0});var BN=DE.default=void 0,_1e=g1e(fc()),y1e=z,v1e=(0,_1e.default)((0,y1e.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v1c0 .55.45 1 1 1h14c.55 0 1-.45 1-1v-1c0-2.66-5.33-4-8-4z"}),"PersonRounded");BN=DE.default=v1e;const x1e=ed({palette:{primary:{main:"#004d40"},secondary:{main:"#004d40"}}}),eM=["/static/images/LO1.png"];function RE(){const[e,t]=V.useState(!1);V.useState(!1);const n=V.useRef(null),i=V.useRef(null);V.useState(!1);const o=()=>{t(!e)},u=()=>{y("/login")},f=()=>{y("/loginCheck")},a=$=>{n.current&&!n.current.contains($.target)&&!i.current.contains($.target)&&t(!1)};V.useEffect(()=>(document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}),[]);const y=hc(),[w,k]=V.useState(0),M=()=>{y("/interface-two")},O=()=>{y("/landingpage")};return V.useEffect(()=>{const $=setInterval(()=>{k(N=>(N+1)%eM.length)},1e4);return()=>{clearInterval($)}},[]),z.jsx(sE,{theme:x1e,children:z.jsxs("div",{className:"menubar2",children:[z.jsx("div",{className:"logo-wrapper",children:z.jsx("img",{src:eM[w],className:"Logo-amble",alt:"Logo",onClick:O})}),z.jsxs("div",{className:"menu-items",children:[z.jsx("div",{className:"menu-item",onClick:M,children:"Create an amble"}),z.jsx("div",{className:"menu-item",children:"For you"}),z.jsx("div",{className:"menu-item",onClick:o,ref:i,children:"Login/Register"}),e&&z.jsxs("div",{className:"options-box-menubar2",ref:n,children:[z.jsxs("button",{className:"option-menubar2",onClick:u,children:[" ",z.jsx("span",{className:"option-text-menubar2",children:"Sign Up"})]}),z.jsx("button",{className:"option-menubar2",onClick:f,children:z.jsx("span",{className:"option-text-menubar2",children:"Sign In"})})]})]})]})})}var jN={exports:{}};/*!
 * jQuery JavaScript Library v3.7.0
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-05-11T18:29Z
 */(function(e){(function(t,n){e.exports=t.document?n(t,!0):function(i){if(!i.document)throw new Error("jQuery requires a window with a document");return n(i)}})(typeof window<"u"?window:En,function(t,n){var i=[],o=Object.getPrototypeOf,u=i.slice,f=i.flat?function(S){return i.flat.call(S)}:function(S){return i.concat.apply([],S)},a=i.push,y=i.indexOf,w={},k=w.toString,M=w.hasOwnProperty,O=M.toString,$=O.call(Object),N={},B=function(I){return typeof I=="function"&&typeof I.nodeType!="number"&&typeof I.item!="function"},J=function(I){return I!=null&&I===I.window},U=t.document,G={type:!0,src:!0,nonce:!0,noModule:!0};function Z(S,I,j){j=j||U;var X,re,ie=j.createElement("script");if(ie.text=S,I)for(X in G)re=I[X]||I.getAttribute&&I.getAttribute(X),re&&ie.setAttribute(X,re);j.head.appendChild(ie).parentNode.removeChild(ie)}function Q(S){return S==null?S+"":typeof S=="object"||typeof S=="function"?w[k.call(S)]||"object":typeof S}var se="3.7.0",ce=/HTML$/i,A=function(S,I){return new A.fn.init(S,I)};A.fn=A.prototype={jquery:se,constructor:A,length:0,toArray:function(){return u.call(this)},get:function(S){return S==null?u.call(this):S<0?this[S+this.length]:this[S]},pushStack:function(S){var I=A.merge(this.constructor(),S);return I.prevObject=this,I},each:function(S){return A.each(this,S)},map:function(S){return this.pushStack(A.map(this,function(I,j){return S.call(I,j,I)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(A.grep(this,function(S,I){return(I+1)%2}))},odd:function(){return this.pushStack(A.grep(this,function(S,I){return I%2}))},eq:function(S){var I=this.length,j=+S+(S<0?I:0);return this.pushStack(j>=0&&j<I?[this[j]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:i.sort,splice:i.splice},A.extend=A.fn.extend=function(){var S,I,j,X,re,ie,ue=arguments[0]||{},Ge=1,Me=arguments.length,st=!1;for(typeof ue=="boolean"&&(st=ue,ue=arguments[Ge]||{},Ge++),typeof ue!="object"&&!B(ue)&&(ue={}),Ge===Me&&(ue=this,Ge--);Ge<Me;Ge++)if((S=arguments[Ge])!=null)for(I in S)X=S[I],!(I==="__proto__"||ue===X)&&(st&&X&&(A.isPlainObject(X)||(re=Array.isArray(X)))?(j=ue[I],re&&!Array.isArray(j)?ie=[]:!re&&!A.isPlainObject(j)?ie={}:ie=j,re=!1,ue[I]=A.extend(st,ie,X)):X!==void 0&&(ue[I]=X));return ue},A.extend({expando:"jQuery"+(se+Math.random()).replace(/\D/g,""),isReady:!0,error:function(S){throw new Error(S)},noop:function(){},isPlainObject:function(S){var I,j;return!S||k.call(S)!=="[object Object]"?!1:(I=o(S),I?(j=M.call(I,"constructor")&&I.constructor,typeof j=="function"&&O.call(j)===$):!0)},isEmptyObject:function(S){var I;for(I in S)return!1;return!0},globalEval:function(S,I,j){Z(S,{nonce:I&&I.nonce},j)},each:function(S,I){var j,X=0;if(_e(S))for(j=S.length;X<j&&I.call(S[X],X,S[X])!==!1;X++);else for(X in S)if(I.call(S[X],X,S[X])===!1)break;return S},text:function(S){var I,j="",X=0,re=S.nodeType;if(re){if(re===1||re===9||re===11)return S.textContent;if(re===3||re===4)return S.nodeValue}else for(;I=S[X++];)j+=A.text(I);return j},makeArray:function(S,I){var j=I||[];return S!=null&&(_e(Object(S))?A.merge(j,typeof S=="string"?[S]:S):a.call(j,S)),j},inArray:function(S,I,j){return I==null?-1:y.call(I,S,j)},isXMLDoc:function(S){var I=S&&S.namespaceURI,j=S&&(S.ownerDocument||S).documentElement;return!ce.test(I||j&&j.nodeName||"HTML")},merge:function(S,I){for(var j=+I.length,X=0,re=S.length;X<j;X++)S[re++]=I[X];return S.length=re,S},grep:function(S,I,j){for(var X,re=[],ie=0,ue=S.length,Ge=!j;ie<ue;ie++)X=!I(S[ie],ie),X!==Ge&&re.push(S[ie]);return re},map:function(S,I,j){var X,re,ie=0,ue=[];if(_e(S))for(X=S.length;ie<X;ie++)re=I(S[ie],ie,j),re!=null&&ue.push(re);else for(ie in S)re=I(S[ie],ie,j),re!=null&&ue.push(re);return f(ue)},guid:1,support:N}),typeof Symbol=="function"&&(A.fn[Symbol.iterator]=i[Symbol.iterator]),A.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(S,I){w["[object "+I+"]"]=I.toLowerCase()});function _e(S){var I=!!S&&"length"in S&&S.length,j=Q(S);return B(S)||J(S)?!1:j==="array"||I===0||typeof I=="number"&&I>0&&I-1 in S}function le(S,I){return S.nodeName&&S.nodeName.toLowerCase()===I.toLowerCase()}var ve=i.pop,Ue=i.sort,$e=i.splice,Ae="[\\x20\\t\\r\\n\\f]",Re=new RegExp("^"+Ae+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Ae+"+$","g");A.contains=function(S,I){var j=I&&I.parentNode;return S===j||!!(j&&j.nodeType===1&&(S.contains?S.contains(j):S.compareDocumentPosition&&S.compareDocumentPosition(j)&16))};var Oe=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function Ye(S,I){return I?S==="\0"?"�":S.slice(0,-1)+"\\"+S.charCodeAt(S.length-1).toString(16)+" ":"\\"+S}A.escapeSelector=function(S){return(S+"").replace(Oe,Ye)};var Qe=U,ze=a;(function(){var S,I,j,X,re,ie=ze,ue,Ge,Me,st,Ot,Vt=A.expando,Tt=0,cn=0,rr=Ec(),Cr=Ec(),_r=Ec(),Di=Ec(),ri=function(De,rt){return De===rt&&(re=!0),0},Eo="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ia="(?:\\\\[\\da-fA-F]{1,6}"+Ae+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",kr="\\["+Ae+"*("+ia+")(?:"+Ae+"*([*^$|!~]?=)"+Ae+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+ia+"))|)"+Ae+"*\\]",Va=":("+ia+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+kr+")*)|.*)\\)|)",Dr=new RegExp(Ae+"+","g"),wi=new RegExp("^"+Ae+"*,"+Ae+"*"),Ys=new RegExp("^"+Ae+"*([>+~]|"+Ae+")"+Ae+"*"),wc=new RegExp(Ae+"|>"),_a=new RegExp(Va),Sr=new RegExp("^"+ia+"$"),qo={ID:new RegExp("^#("+ia+")"),CLASS:new RegExp("^\\.("+ia+")"),TAG:new RegExp("^("+ia+"|[*])"),ATTR:new RegExp("^"+kr),PSEUDO:new RegExp("^"+Va),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Ae+"*(even|odd|(([+-]|)(\\d*)n|)"+Ae+"*(?:([+-]|)"+Ae+"*(\\d+)|))"+Ae+"*\\)|)","i"),bool:new RegExp("^(?:"+Eo+")$","i"),needsContext:new RegExp("^"+Ae+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Ae+"*((?:-\\d)?\\d*)"+Ae+"*\\)|)(?=[^-]|$)","i")},Cs=/^(?:input|select|textarea|button)$/i,ts=/^h\d$/i,oa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ks=/[+~]/,Wa=new RegExp("\\\\[\\da-fA-F]{1,6}"+Ae+"?|\\\\([^\\r\\n\\f])","g"),Ps=function(De,rt){var bt="0x"+De.slice(1)-65536;return rt||(bt<0?String.fromCharCode(bt+65536):String.fromCharCode(bt>>10|55296,bt&1023|56320))},_1=function(){va()},y1=Tc(function(De){return De.disabled===!0&&le(De,"fieldset")},{dir:"parentNode",next:"legend"});function Ih(){try{return ue.activeElement}catch{}}try{ie.apply(i=u.call(Qe.childNodes),Qe.childNodes),i[Qe.childNodes.length].nodeType}catch{ie={apply:function(rt,bt){ze.apply(rt,u.call(bt))},call:function(rt){ze.apply(rt,u.call(arguments,1))}}}function Ur(De,rt,bt,It){var $t,xn,In,qn,Cn,Pr,ir,mr=rt&&rt.ownerDocument,Ir=rt?rt.nodeType:9;if(bt=bt||[],typeof De!="string"||!De||Ir!==1&&Ir!==9&&Ir!==11)return bt;if(!It&&(va(rt),rt=rt||ue,Me)){if(Ir!==11&&(Cn=oa.exec(De)))if($t=Cn[1]){if(Ir===9)if(In=rt.getElementById($t)){if(In.id===$t)return ie.call(bt,In),bt}else return bt;else if(mr&&(In=mr.getElementById($t))&&Ur.contains(rt,In)&&In.id===$t)return ie.call(bt,In),bt}else{if(Cn[2])return ie.apply(bt,rt.getElementsByTagName(De)),bt;if(($t=Cn[3])&&rt.getElementsByClassName)return ie.apply(bt,rt.getElementsByClassName($t)),bt}if(!Di[De+" "]&&(!st||!st.test(De))){if(ir=De,mr=rt,Ir===1&&(wc.test(De)||Ys.test(De))){for(mr=ks.test(De)&&gu(rt.parentNode)||rt,(mr!=rt||!N.scope)&&((qn=rt.getAttribute("id"))?qn=A.escapeSelector(qn):rt.setAttribute("id",qn=Vt)),Pr=aa(De),xn=Pr.length;xn--;)Pr[xn]=(qn?"#"+qn:":scope")+" "+Ol(Pr[xn]);ir=Pr.join(",")}try{return ie.apply(bt,mr.querySelectorAll(ir)),bt}catch{Di(De,!0)}finally{qn===Vt&&rt.removeAttribute("id")}}}return Mh(De.replace(Re,"$1"),rt,bt,It)}function Ec(){var De=[];function rt(bt,It){return De.push(bt+" ")>I.cacheLength&&delete rt[De.shift()],rt[bt+" "]=It}return rt}function Go(De){return De[Vt]=!0,De}function Rl(De){var rt=ue.createElement("fieldset");try{return!!De(rt)}catch{return!1}finally{rt.parentNode&&rt.parentNode.removeChild(rt),rt=null}}function Xp(De){return function(rt){return le(rt,"input")&&rt.type===De}}function v1(De){return function(rt){return(le(rt,"input")||le(rt,"button"))&&rt.type===De}}function Sc(De){return function(rt){return"form"in rt?rt.parentNode&&rt.disabled===!1?"label"in rt?"label"in rt.parentNode?rt.parentNode.disabled===De:rt.disabled===De:rt.isDisabled===De||rt.isDisabled!==!De&&y1(rt)===De:rt.disabled===De:"label"in rt?rt.disabled===De:!1}}function ya(De){return Go(function(rt){return rt=+rt,Go(function(bt,It){for(var $t,xn=De([],bt.length,rt),In=xn.length;In--;)bt[$t=xn[In]]&&(bt[$t]=!(It[$t]=bt[$t]))})})}function gu(De){return De&&typeof De.getElementsByTagName<"u"&&De}function va(De){var rt,bt=De?De.ownerDocument||De:Qe;return bt==ue||bt.nodeType!==9||!bt.documentElement||(ue=bt,Ge=ue.documentElement,Me=!A.isXMLDoc(ue),Ot=Ge.matches||Ge.webkitMatchesSelector||Ge.msMatchesSelector,Qe!=ue&&(rt=ue.defaultView)&&rt.top!==rt&&rt.addEventListener("unload",_1),N.getById=Rl(function(It){return Ge.appendChild(It).id=A.expando,!ue.getElementsByName||!ue.getElementsByName(A.expando).length}),N.disconnectedMatch=Rl(function(It){return Ot.call(It,"*")}),N.scope=Rl(function(){return ue.querySelectorAll(":scope")}),N.cssHas=Rl(function(){try{return ue.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),N.getById?(I.filter.ID=function(It){var $t=It.replace(Wa,Ps);return function(xn){return xn.getAttribute("id")===$t}},I.find.ID=function(It,$t){if(typeof $t.getElementById<"u"&&Me){var xn=$t.getElementById(It);return xn?[xn]:[]}}):(I.filter.ID=function(It){var $t=It.replace(Wa,Ps);return function(xn){var In=typeof xn.getAttributeNode<"u"&&xn.getAttributeNode("id");return In&&In.value===$t}},I.find.ID=function(It,$t){if(typeof $t.getElementById<"u"&&Me){var xn,In,qn,Cn=$t.getElementById(It);if(Cn){if(xn=Cn.getAttributeNode("id"),xn&&xn.value===It)return[Cn];for(qn=$t.getElementsByName(It),In=0;Cn=qn[In++];)if(xn=Cn.getAttributeNode("id"),xn&&xn.value===It)return[Cn]}return[]}}),I.find.TAG=function(It,$t){return typeof $t.getElementsByTagName<"u"?$t.getElementsByTagName(It):$t.querySelectorAll(It)},I.find.CLASS=function(It,$t){if(typeof $t.getElementsByClassName<"u"&&Me)return $t.getElementsByClassName(It)},st=[],Rl(function(It){var $t;Ge.appendChild(It).innerHTML="<a id='"+Vt+"' href='' disabled='disabled'></a><select id='"+Vt+"-\r\\' disabled='disabled'><option selected=''></option></select>",It.querySelectorAll("[selected]").length||st.push("\\["+Ae+"*(?:value|"+Eo+")"),It.querySelectorAll("[id~="+Vt+"-]").length||st.push("~="),It.querySelectorAll("a#"+Vt+"+*").length||st.push(".#.+[+~]"),It.querySelectorAll(":checked").length||st.push(":checked"),$t=ue.createElement("input"),$t.setAttribute("type","hidden"),It.appendChild($t).setAttribute("name","D"),Ge.appendChild(It).disabled=!0,It.querySelectorAll(":disabled").length!==2&&st.push(":enabled",":disabled"),$t=ue.createElement("input"),$t.setAttribute("name",""),It.appendChild($t),It.querySelectorAll("[name='']").length||st.push("\\["+Ae+"*name"+Ae+"*="+Ae+`*(?:''|"")`)}),N.cssHas||st.push(":has"),st=st.length&&new RegExp(st.join("|")),ri=function(It,$t){if(It===$t)return re=!0,0;var xn=!It.compareDocumentPosition-!$t.compareDocumentPosition;return xn||(xn=(It.ownerDocument||It)==($t.ownerDocument||$t)?It.compareDocumentPosition($t):1,xn&1||!N.sortDetached&&$t.compareDocumentPosition(It)===xn?It===ue||It.ownerDocument==Qe&&Ur.contains(Qe,It)?-1:$t===ue||$t.ownerDocument==Qe&&Ur.contains(Qe,$t)?1:X?y.call(X,It)-y.call(X,$t):0:xn&4?-1:1)}),ue}Ur.matches=function(De,rt){return Ur(De,null,null,rt)},Ur.matchesSelector=function(De,rt){if(va(De),Me&&!Di[rt+" "]&&(!st||!st.test(rt)))try{var bt=Ot.call(De,rt);if(bt||N.disconnectedMatch||De.document&&De.document.nodeType!==11)return bt}catch{Di(rt,!0)}return Ur(rt,ue,null,[De]).length>0},Ur.contains=function(De,rt){return(De.ownerDocument||De)!=ue&&va(De),A.contains(De,rt)},Ur.attr=function(De,rt){(De.ownerDocument||De)!=ue&&va(De);var bt=I.attrHandle[rt.toLowerCase()],It=bt&&M.call(I.attrHandle,rt.toLowerCase())?bt(De,rt,!Me):void 0;return It!==void 0?It:De.getAttribute(rt)},Ur.error=function(De){throw new Error("Syntax error, unrecognized expression: "+De)},A.uniqueSort=function(De){var rt,bt=[],It=0,$t=0;if(re=!N.sortStable,X=!N.sortStable&&u.call(De,0),Ue.call(De,ri),re){for(;rt=De[$t++];)rt===De[$t]&&(It=bt.push($t));for(;It--;)$e.call(De,bt[It],1)}return X=null,De},A.fn.uniqueSort=function(){return this.pushStack(A.uniqueSort(u.apply(this)))},I=A.expr={cacheLength:50,createPseudo:Go,match:qo,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(De){return De[1]=De[1].replace(Wa,Ps),De[3]=(De[3]||De[4]||De[5]||"").replace(Wa,Ps),De[2]==="~="&&(De[3]=" "+De[3]+" "),De.slice(0,4)},CHILD:function(De){return De[1]=De[1].toLowerCase(),De[1].slice(0,3)==="nth"?(De[3]||Ur.error(De[0]),De[4]=+(De[4]?De[5]+(De[6]||1):2*(De[3]==="even"||De[3]==="odd")),De[5]=+(De[7]+De[8]||De[3]==="odd")):De[3]&&Ur.error(De[0]),De},PSEUDO:function(De){var rt,bt=!De[6]&&De[2];return qo.CHILD.test(De[0])?null:(De[3]?De[2]=De[4]||De[5]||"":bt&&_a.test(bt)&&(rt=aa(bt,!0))&&(rt=bt.indexOf(")",bt.length-rt)-bt.length)&&(De[0]=De[0].slice(0,rt),De[2]=bt.slice(0,rt)),De.slice(0,3))}},filter:{TAG:function(De){var rt=De.replace(Wa,Ps).toLowerCase();return De==="*"?function(){return!0}:function(bt){return le(bt,rt)}},CLASS:function(De){var rt=rr[De+" "];return rt||(rt=new RegExp("(^|"+Ae+")"+De+"("+Ae+"|$)"))&&rr(De,function(bt){return rt.test(typeof bt.className=="string"&&bt.className||typeof bt.getAttribute<"u"&&bt.getAttribute("class")||"")})},ATTR:function(De,rt,bt){return function(It){var $t=Ur.attr(It,De);return $t==null?rt==="!=":rt?($t+="",rt==="="?$t===bt:rt==="!="?$t!==bt:rt==="^="?bt&&$t.indexOf(bt)===0:rt==="*="?bt&&$t.indexOf(bt)>-1:rt==="$="?bt&&$t.slice(-bt.length)===bt:rt==="~="?(" "+$t.replace(Dr," ")+" ").indexOf(bt)>-1:rt==="|="?$t===bt||$t.slice(0,bt.length+1)===bt+"-":!1):!0}},CHILD:function(De,rt,bt,It,$t){var xn=De.slice(0,3)!=="nth",In=De.slice(-4)!=="last",qn=rt==="of-type";return It===1&&$t===0?function(Cn){return!!Cn.parentNode}:function(Cn,Pr,ir){var mr,Ir,tr,ii,xo,Li=xn!==In?"nextSibling":"previousSibling",sa=Cn.parentNode,Ha=qn&&Cn.nodeName.toLowerCase(),Zo=!ir&&!qn,so=!1;if(sa){if(xn){for(;Li;){for(tr=Cn;tr=tr[Li];)if(qn?le(tr,Ha):tr.nodeType===1)return!1;xo=Li=De==="only"&&!xo&&"nextSibling"}return!0}if(xo=[In?sa.firstChild:sa.lastChild],In&&Zo){for(Ir=sa[Vt]||(sa[Vt]={}),mr=Ir[De]||[],ii=mr[0]===Tt&&mr[1],so=ii&&mr[2],tr=ii&&sa.childNodes[ii];tr=++ii&&tr&&tr[Li]||(so=ii=0)||xo.pop();)if(tr.nodeType===1&&++so&&tr===Cn){Ir[De]=[Tt,ii,so];break}}else if(Zo&&(Ir=Cn[Vt]||(Cn[Vt]={}),mr=Ir[De]||[],ii=mr[0]===Tt&&mr[1],so=ii),so===!1)for(;(tr=++ii&&tr&&tr[Li]||(so=ii=0)||xo.pop())&&!((qn?le(tr,Ha):tr.nodeType===1)&&++so&&(Zo&&(Ir=tr[Vt]||(tr[Vt]={}),Ir[De]=[Tt,so]),tr===Cn)););return so-=$t,so===It||so%It===0&&so/It>=0}}},PSEUDO:function(De,rt){var bt,It=I.pseudos[De]||I.setFilters[De.toLowerCase()]||Ur.error("unsupported pseudo: "+De);return It[Vt]?It(rt):It.length>1?(bt=[De,De,"",rt],I.setFilters.hasOwnProperty(De.toLowerCase())?Go(function($t,xn){for(var In,qn=It($t,rt),Cn=qn.length;Cn--;)In=y.call($t,qn[Cn]),$t[In]=!(xn[In]=qn[Cn])}):function($t){return It($t,0,bt)}):It}},pseudos:{not:Go(function(De){var rt=[],bt=[],It=Ll(De.replace(Re,"$1"));return It[Vt]?Go(function($t,xn,In,qn){for(var Cn,Pr=It($t,null,qn,[]),ir=$t.length;ir--;)(Cn=Pr[ir])&&($t[ir]=!(xn[ir]=Cn))}):function($t,xn,In){return rt[0]=$t,It(rt,null,In,bt),rt[0]=null,!bt.pop()}}),has:Go(function(De){return function(rt){return Ur(De,rt).length>0}}),contains:Go(function(De){return De=De.replace(Wa,Ps),function(rt){return(rt.textContent||A.text(rt)).indexOf(De)>-1}}),lang:Go(function(De){return Sr.test(De||"")||Ur.error("unsupported lang: "+De),De=De.replace(Wa,Ps).toLowerCase(),function(rt){var bt;do if(bt=Me?rt.lang:rt.getAttribute("xml:lang")||rt.getAttribute("lang"))return bt=bt.toLowerCase(),bt===De||bt.indexOf(De+"-")===0;while((rt=rt.parentNode)&&rt.nodeType===1);return!1}}),target:function(De){var rt=t.location&&t.location.hash;return rt&&rt.slice(1)===De.id},root:function(De){return De===Ge},focus:function(De){return De===Ih()&&ue.hasFocus()&&!!(De.type||De.href||~De.tabIndex)},enabled:Sc(!1),disabled:Sc(!0),checked:function(De){return le(De,"input")&&!!De.checked||le(De,"option")&&!!De.selected},selected:function(De){return De.parentNode&&De.parentNode.selectedIndex,De.selected===!0},empty:function(De){for(De=De.firstChild;De;De=De.nextSibling)if(De.nodeType<6)return!1;return!0},parent:function(De){return!I.pseudos.empty(De)},header:function(De){return ts.test(De.nodeName)},input:function(De){return Cs.test(De.nodeName)},button:function(De){return le(De,"input")&&De.type==="button"||le(De,"button")},text:function(De){var rt;return le(De,"input")&&De.type==="text"&&((rt=De.getAttribute("type"))==null||rt.toLowerCase()==="text")},first:ya(function(){return[0]}),last:ya(function(De,rt){return[rt-1]}),eq:ya(function(De,rt,bt){return[bt<0?bt+rt:bt]}),even:ya(function(De,rt){for(var bt=0;bt<rt;bt+=2)De.push(bt);return De}),odd:ya(function(De,rt){for(var bt=1;bt<rt;bt+=2)De.push(bt);return De}),lt:ya(function(De,rt,bt){var It;for(bt<0?It=bt+rt:bt>rt?It=rt:It=bt;--It>=0;)De.push(It);return De}),gt:ya(function(De,rt,bt){for(var It=bt<0?bt+rt:bt;++It<rt;)De.push(It);return De})}},I.pseudos.nth=I.pseudos.eq;for(S in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})I.pseudos[S]=Xp(S);for(S in{submit:!0,reset:!0})I.pseudos[S]=v1(S);function ld(){}ld.prototype=I.filters=I.pseudos,I.setFilters=new ld;function aa(De,rt){var bt,It,$t,xn,In,qn,Cn,Pr=Cr[De+" "];if(Pr)return rt?0:Pr.slice(0);for(In=De,qn=[],Cn=I.preFilter;In;){(!bt||(It=wi.exec(In)))&&(It&&(In=In.slice(It[0].length)||In),qn.push($t=[])),bt=!1,(It=Ys.exec(In))&&(bt=It.shift(),$t.push({value:bt,type:It[0].replace(Re," ")}),In=In.slice(bt.length));for(xn in I.filter)(It=qo[xn].exec(In))&&(!Cn[xn]||(It=Cn[xn](It)))&&(bt=It.shift(),$t.push({value:bt,type:xn,matches:It}),In=In.slice(bt.length));if(!bt)break}return rt?In.length:In?Ur.error(De):Cr(De,qn).slice(0)}function Ol(De){for(var rt=0,bt=De.length,It="";rt<bt;rt++)It+=De[rt].value;return It}function Tc(De,rt,bt){var It=rt.dir,$t=rt.next,xn=$t||It,In=bt&&xn==="parentNode",qn=cn++;return rt.first?function(Cn,Pr,ir){for(;Cn=Cn[It];)if(Cn.nodeType===1||In)return De(Cn,Pr,ir);return!1}:function(Cn,Pr,ir){var mr,Ir,tr=[Tt,qn];if(ir){for(;Cn=Cn[It];)if((Cn.nodeType===1||In)&&De(Cn,Pr,ir))return!0}else for(;Cn=Cn[It];)if(Cn.nodeType===1||In)if(Ir=Cn[Vt]||(Cn[Vt]={}),$t&&le(Cn,$t))Cn=Cn[It]||Cn;else{if((mr=Ir[xn])&&mr[0]===Tt&&mr[1]===qn)return tr[2]=mr[2];if(Ir[xn]=tr,tr[2]=De(Cn,Pr,ir))return!0}return!1}}function Cc(De){return De.length>1?function(rt,bt,It){for(var $t=De.length;$t--;)if(!De[$t](rt,bt,It))return!1;return!0}:De[0]}function Kp(De,rt,bt){for(var It=0,$t=rt.length;It<$t;It++)Ur(De,rt[It],bt);return bt}function kc(De,rt,bt,It,$t){for(var xn,In=[],qn=0,Cn=De.length,Pr=rt!=null;qn<Cn;qn++)(xn=De[qn])&&(!bt||bt(xn,It,$t))&&(In.push(xn),Pr&&rt.push(qn));return In}function Ah(De,rt,bt,It,$t,xn){return It&&!It[Vt]&&(It=Ah(It)),$t&&!$t[Vt]&&($t=Ah($t,xn)),Go(function(In,qn,Cn,Pr){var ir,mr,Ir,tr,ii=[],xo=[],Li=qn.length,sa=In||Kp(rt||"*",Cn.nodeType?[Cn]:Cn,[]),Ha=De&&(In||!rt)?kc(sa,ii,De,Cn,Pr):sa;if(bt?(tr=$t||(In?De:Li||It)?[]:qn,bt(Ha,tr,Cn,Pr)):tr=Ha,It)for(ir=kc(tr,xo),It(ir,[],Cn,Pr),mr=ir.length;mr--;)(Ir=ir[mr])&&(tr[xo[mr]]=!(Ha[xo[mr]]=Ir));if(In){if($t||De){if($t){for(ir=[],mr=tr.length;mr--;)(Ir=tr[mr])&&ir.push(Ha[mr]=Ir);$t(null,tr=[],ir,Pr)}for(mr=tr.length;mr--;)(Ir=tr[mr])&&(ir=$t?y.call(In,Ir):ii[mr])>-1&&(In[ir]=!(qn[ir]=Ir))}}else tr=kc(tr===qn?tr.splice(Li,tr.length):tr),$t?$t(null,qn,tr,Pr):ie.apply(qn,tr)})}function _u(De){for(var rt,bt,It,$t=De.length,xn=I.relative[De[0].type],In=xn||I.relative[" "],qn=xn?1:0,Cn=Tc(function(mr){return mr===rt},In,!0),Pr=Tc(function(mr){return y.call(rt,mr)>-1},In,!0),ir=[function(mr,Ir,tr){var ii=!xn&&(tr||Ir!=j)||((rt=Ir).nodeType?Cn(mr,Ir,tr):Pr(mr,Ir,tr));return rt=null,ii}];qn<$t;qn++)if(bt=I.relative[De[qn].type])ir=[Tc(Cc(ir),bt)];else{if(bt=I.filter[De[qn].type].apply(null,De[qn].matches),bt[Vt]){for(It=++qn;It<$t&&!I.relative[De[It].type];It++);return Ah(qn>1&&Cc(ir),qn>1&&Ol(De.slice(0,qn-1).concat({value:De[qn-2].type===" "?"*":""})).replace(Re,"$1"),bt,qn<It&&_u(De.slice(qn,It)),It<$t&&_u(De=De.slice(It)),It<$t&&Ol(De))}ir.push(bt)}return Cc(ir)}function cd(De,rt){var bt=rt.length>0,It=De.length>0,$t=function(xn,In,qn,Cn,Pr){var ir,mr,Ir,tr=0,ii="0",xo=xn&&[],Li=[],sa=j,Ha=xn||It&&I.find.TAG("*",Pr),Zo=Tt+=sa==null?1:Math.random()||.1,so=Ha.length;for(Pr&&(j=In==ue||In||Pr);ii!==so&&(ir=Ha[ii])!=null;ii++){if(It&&ir){for(mr=0,!In&&ir.ownerDocument!=ue&&(va(ir),qn=!Me);Ir=De[mr++];)if(Ir(ir,In||ue,qn)){ie.call(Cn,ir);break}Pr&&(Tt=Zo)}bt&&((ir=!Ir&&ir)&&tr--,xn&&xo.push(ir))}if(tr+=ii,bt&&ii!==tr){for(mr=0;Ir=rt[mr++];)Ir(xo,Li,In,qn);if(xn){if(tr>0)for(;ii--;)xo[ii]||Li[ii]||(Li[ii]=ve.call(Cn));Li=kc(Li)}ie.apply(Cn,Li),Pr&&!xn&&Li.length>0&&tr+rt.length>1&&A.uniqueSort(Cn)}return Pr&&(Tt=Zo,j=sa),xo};return bt?Go($t):$t}function Ll(De,rt){var bt,It=[],$t=[],xn=_r[De+" "];if(!xn){for(rt||(rt=aa(De)),bt=rt.length;bt--;)xn=_u(rt[bt]),xn[Vt]?It.push(xn):$t.push(xn);xn=_r(De,cd($t,It)),xn.selector=De}return xn}function Mh(De,rt,bt,It){var $t,xn,In,qn,Cn,Pr=typeof De=="function"&&De,ir=!It&&aa(De=Pr.selector||De);if(bt=bt||[],ir.length===1){if(xn=ir[0]=ir[0].slice(0),xn.length>2&&(In=xn[0]).type==="ID"&&rt.nodeType===9&&Me&&I.relative[xn[1].type]){if(rt=(I.find.ID(In.matches[0].replace(Wa,Ps),rt)||[])[0],rt)Pr&&(rt=rt.parentNode);else return bt;De=De.slice(xn.shift().value.length)}for($t=qo.needsContext.test(De)?0:xn.length;$t--&&(In=xn[$t],!I.relative[qn=In.type]);)if((Cn=I.find[qn])&&(It=Cn(In.matches[0].replace(Wa,Ps),ks.test(xn[0].type)&&gu(rt.parentNode)||rt))){if(xn.splice($t,1),De=It.length&&Ol(xn),!De)return ie.apply(bt,It),bt;break}}return(Pr||Ll(De,ir))(It,rt,!Me,bt,!rt||ks.test(De)&&gu(rt.parentNode)||rt),bt}N.sortStable=Vt.split("").sort(ri).join("")===Vt,va(),N.sortDetached=Rl(function(De){return De.compareDocumentPosition(ue.createElement("fieldset"))&1}),A.find=Ur,A.expr[":"]=A.expr.pseudos,A.unique=A.uniqueSort,Ur.compile=Ll,Ur.select=Mh,Ur.setDocument=va,Ur.escape=A.escapeSelector,Ur.getText=A.text,Ur.isXML=A.isXMLDoc,Ur.selectors=A.expr,Ur.support=A.support,Ur.uniqueSort=A.uniqueSort})();var Pe=function(S,I,j){for(var X=[],re=j!==void 0;(S=S[I])&&S.nodeType!==9;)if(S.nodeType===1){if(re&&A(S).is(j))break;X.push(S)}return X},je=function(S,I){for(var j=[];S;S=S.nextSibling)S.nodeType===1&&S!==I&&j.push(S);return j},lt=A.expr.match.needsContext,ot=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function ct(S,I,j){return B(I)?A.grep(S,function(X,re){return!!I.call(X,re,X)!==j}):I.nodeType?A.grep(S,function(X){return X===I!==j}):typeof I!="string"?A.grep(S,function(X){return y.call(I,X)>-1!==j}):A.filter(I,S,j)}A.filter=function(S,I,j){var X=I[0];return j&&(S=":not("+S+")"),I.length===1&&X.nodeType===1?A.find.matchesSelector(X,S)?[X]:[]:A.find.matches(S,A.grep(I,function(re){return re.nodeType===1}))},A.fn.extend({find:function(S){var I,j,X=this.length,re=this;if(typeof S!="string")return this.pushStack(A(S).filter(function(){for(I=0;I<X;I++)if(A.contains(re[I],this))return!0}));for(j=this.pushStack([]),I=0;I<X;I++)A.find(S,re[I],j);return X>1?A.uniqueSort(j):j},filter:function(S){return this.pushStack(ct(this,S||[],!1))},not:function(S){return this.pushStack(ct(this,S||[],!0))},is:function(S){return!!ct(this,typeof S=="string"&&lt.test(S)?A(S):S||[],!1).length}});var Ct,ut=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,yt=A.fn.init=function(S,I,j){var X,re;if(!S)return this;if(j=j||Ct,typeof S=="string")if(S[0]==="<"&&S[S.length-1]===">"&&S.length>=3?X=[null,S,null]:X=ut.exec(S),X&&(X[1]||!I))if(X[1]){if(I=I instanceof A?I[0]:I,A.merge(this,A.parseHTML(X[1],I&&I.nodeType?I.ownerDocument||I:U,!0)),ot.test(X[1])&&A.isPlainObject(I))for(X in I)B(this[X])?this[X](I[X]):this.attr(X,I[X]);return this}else return re=U.getElementById(X[2]),re&&(this[0]=re,this.length=1),this;else return!I||I.jquery?(I||j).find(S):this.constructor(I).find(S);else{if(S.nodeType)return this[0]=S,this.length=1,this;if(B(S))return j.ready!==void 0?j.ready(S):S(A)}return A.makeArray(S,this)};yt.prototype=A.fn,Ct=A(U);var Dt=/^(?:parents|prev(?:Until|All))/,Rt={children:!0,contents:!0,next:!0,prev:!0};A.fn.extend({has:function(S){var I=A(S,this),j=I.length;return this.filter(function(){for(var X=0;X<j;X++)if(A.contains(this,I[X]))return!0})},closest:function(S,I){var j,X=0,re=this.length,ie=[],ue=typeof S!="string"&&A(S);if(!lt.test(S)){for(;X<re;X++)for(j=this[X];j&&j!==I;j=j.parentNode)if(j.nodeType<11&&(ue?ue.index(j)>-1:j.nodeType===1&&A.find.matchesSelector(j,S))){ie.push(j);break}}return this.pushStack(ie.length>1?A.uniqueSort(ie):ie)},index:function(S){return S?typeof S=="string"?y.call(A(S),this[0]):y.call(this,S.jquery?S[0]:S):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(S,I){return this.pushStack(A.uniqueSort(A.merge(this.get(),A(S,I))))},addBack:function(S){return this.add(S==null?this.prevObject:this.prevObject.filter(S))}});function St(S,I){for(;(S=S[I])&&S.nodeType!==1;);return S}A.each({parent:function(S){var I=S.parentNode;return I&&I.nodeType!==11?I:null},parents:function(S){return Pe(S,"parentNode")},parentsUntil:function(S,I,j){return Pe(S,"parentNode",j)},next:function(S){return St(S,"nextSibling")},prev:function(S){return St(S,"previousSibling")},nextAll:function(S){return Pe(S,"nextSibling")},prevAll:function(S){return Pe(S,"previousSibling")},nextUntil:function(S,I,j){return Pe(S,"nextSibling",j)},prevUntil:function(S,I,j){return Pe(S,"previousSibling",j)},siblings:function(S){return je((S.parentNode||{}).firstChild,S)},children:function(S){return je(S.firstChild)},contents:function(S){return S.contentDocument!=null&&o(S.contentDocument)?S.contentDocument:(le(S,"template")&&(S=S.content||S),A.merge([],S.childNodes))}},function(S,I){A.fn[S]=function(j,X){var re=A.map(this,I,j);return S.slice(-5)!=="Until"&&(X=j),X&&typeof X=="string"&&(re=A.filter(X,re)),this.length>1&&(Rt[S]||A.uniqueSort(re),Dt.test(S)&&re.reverse()),this.pushStack(re)}});var Qt=/[^\x20\t\r\n\f]+/g;function Lt(S){var I={};return A.each(S.match(Qt)||[],function(j,X){I[X]=!0}),I}A.Callbacks=function(S){S=typeof S=="string"?Lt(S):A.extend({},S);var I,j,X,re,ie=[],ue=[],Ge=-1,Me=function(){for(re=re||S.once,X=I=!0;ue.length;Ge=-1)for(j=ue.shift();++Ge<ie.length;)ie[Ge].apply(j[0],j[1])===!1&&S.stopOnFalse&&(Ge=ie.length,j=!1);S.memory||(j=!1),I=!1,re&&(j?ie=[]:ie="")},st={add:function(){return ie&&(j&&!I&&(Ge=ie.length-1,ue.push(j)),function Ot(Vt){A.each(Vt,function(Tt,cn){B(cn)?(!S.unique||!st.has(cn))&&ie.push(cn):cn&&cn.length&&Q(cn)!=="string"&&Ot(cn)})}(arguments),j&&!I&&Me()),this},remove:function(){return A.each(arguments,function(Ot,Vt){for(var Tt;(Tt=A.inArray(Vt,ie,Tt))>-1;)ie.splice(Tt,1),Tt<=Ge&&Ge--}),this},has:function(Ot){return Ot?A.inArray(Ot,ie)>-1:ie.length>0},empty:function(){return ie&&(ie=[]),this},disable:function(){return re=ue=[],ie=j="",this},disabled:function(){return!ie},lock:function(){return re=ue=[],!j&&!I&&(ie=j=""),this},locked:function(){return!!re},fireWith:function(Ot,Vt){return re||(Vt=Vt||[],Vt=[Ot,Vt.slice?Vt.slice():Vt],ue.push(Vt),I||Me()),this},fire:function(){return st.fireWith(this,arguments),this},fired:function(){return!!X}};return st};function qt(S){return S}function an(S){throw S}function jt(S,I,j,X){var re;try{S&&B(re=S.promise)?re.call(S).done(I).fail(j):S&&B(re=S.then)?re.call(S,I,j):I.apply(void 0,[S].slice(X))}catch(ie){j.apply(void 0,[ie])}}A.extend({Deferred:function(S){var I=[["notify","progress",A.Callbacks("memory"),A.Callbacks("memory"),2],["resolve","done",A.Callbacks("once memory"),A.Callbacks("once memory"),0,"resolved"],["reject","fail",A.Callbacks("once memory"),A.Callbacks("once memory"),1,"rejected"]],j="pending",X={state:function(){return j},always:function(){return re.done(arguments).fail(arguments),this},catch:function(ie){return X.then(null,ie)},pipe:function(){var ie=arguments;return A.Deferred(function(ue){A.each(I,function(Ge,Me){var st=B(ie[Me[4]])&&ie[Me[4]];re[Me[1]](function(){var Ot=st&&st.apply(this,arguments);Ot&&B(Ot.promise)?Ot.promise().progress(ue.notify).done(ue.resolve).fail(ue.reject):ue[Me[0]+"With"](this,st?[Ot]:arguments)})}),ie=null}).promise()},then:function(ie,ue,Ge){var Me=0;function st(Ot,Vt,Tt,cn){return function(){var rr=this,Cr=arguments,_r=function(){var ri,Eo;if(!(Ot<Me)){if(ri=Tt.apply(rr,Cr),ri===Vt.promise())throw new TypeError("Thenable self-resolution");Eo=ri&&(typeof ri=="object"||typeof ri=="function")&&ri.then,B(Eo)?cn?Eo.call(ri,st(Me,Vt,qt,cn),st(Me,Vt,an,cn)):(Me++,Eo.call(ri,st(Me,Vt,qt,cn),st(Me,Vt,an,cn),st(Me,Vt,qt,Vt.notifyWith))):(Tt!==qt&&(rr=void 0,Cr=[ri]),(cn||Vt.resolveWith)(rr,Cr))}},Di=cn?_r:function(){try{_r()}catch(ri){A.Deferred.exceptionHook&&A.Deferred.exceptionHook(ri,Di.error),Ot+1>=Me&&(Tt!==an&&(rr=void 0,Cr=[ri]),Vt.rejectWith(rr,Cr))}};Ot?Di():(A.Deferred.getErrorHook?Di.error=A.Deferred.getErrorHook():A.Deferred.getStackHook&&(Di.error=A.Deferred.getStackHook()),t.setTimeout(Di))}}return A.Deferred(function(Ot){I[0][3].add(st(0,Ot,B(Ge)?Ge:qt,Ot.notifyWith)),I[1][3].add(st(0,Ot,B(ie)?ie:qt)),I[2][3].add(st(0,Ot,B(ue)?ue:an))}).promise()},promise:function(ie){return ie!=null?A.extend(ie,X):X}},re={};return A.each(I,function(ie,ue){var Ge=ue[2],Me=ue[5];X[ue[1]]=Ge.add,Me&&Ge.add(function(){j=Me},I[3-ie][2].disable,I[3-ie][3].disable,I[0][2].lock,I[0][3].lock),Ge.add(ue[3].fire),re[ue[0]]=function(){return re[ue[0]+"With"](this===re?void 0:this,arguments),this},re[ue[0]+"With"]=Ge.fireWith}),X.promise(re),S&&S.call(re,re),re},when:function(S){var I=arguments.length,j=I,X=Array(j),re=u.call(arguments),ie=A.Deferred(),ue=function(Ge){return function(Me){X[Ge]=this,re[Ge]=arguments.length>1?u.call(arguments):Me,--I||ie.resolveWith(X,re)}};if(I<=1&&(jt(S,ie.done(ue(j)).resolve,ie.reject,!I),ie.state()==="pending"||B(re[j]&&re[j].then)))return ie.then();for(;j--;)jt(re[j],ue(j),ie.reject);return ie.promise()}});var vt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;A.Deferred.exceptionHook=function(S,I){t.console&&t.console.warn&&S&&vt.test(S.name)&&t.console.warn("jQuery.Deferred exception: "+S.message,S.stack,I)},A.readyException=function(S){t.setTimeout(function(){throw S})};var gn=A.Deferred();A.fn.ready=function(S){return gn.then(S).catch(function(I){A.readyException(I)}),this},A.extend({isReady:!1,readyWait:1,ready:function(S){(S===!0?--A.readyWait:A.isReady)||(A.isReady=!0,!(S!==!0&&--A.readyWait>0)&&gn.resolveWith(U,[A]))}}),A.ready.then=gn.then;function on(){U.removeEventListener("DOMContentLoaded",on),t.removeEventListener("load",on),A.ready()}U.readyState==="complete"||U.readyState!=="loading"&&!U.documentElement.doScroll?t.setTimeout(A.ready):(U.addEventListener("DOMContentLoaded",on),t.addEventListener("load",on));var Bn=function(S,I,j,X,re,ie,ue){var Ge=0,Me=S.length,st=j==null;if(Q(j)==="object"){re=!0;for(Ge in j)Bn(S,I,Ge,j[Ge],!0,ie,ue)}else if(X!==void 0&&(re=!0,B(X)||(ue=!0),st&&(ue?(I.call(S,X),I=null):(st=I,I=function(Ot,Vt,Tt){return st.call(A(Ot),Tt)})),I))for(;Ge<Me;Ge++)I(S[Ge],j,ue?X:X.call(S[Ge],Ge,I(S[Ge],j)));return re?S:st?I.call(S):Me?I(S[0],j):ie},Yn=/^-ms-/,On=/-([a-z])/g;function zn(S,I){return I.toUpperCase()}function Mn(S){return S.replace(Yn,"ms-").replace(On,zn)}var jn=function(S){return S.nodeType===1||S.nodeType===9||!+S.nodeType};function yr(){this.expando=A.expando+yr.uid++}yr.uid=1,yr.prototype={cache:function(S){var I=S[this.expando];return I||(I={},jn(S)&&(S.nodeType?S[this.expando]=I:Object.defineProperty(S,this.expando,{value:I,configurable:!0}))),I},set:function(S,I,j){var X,re=this.cache(S);if(typeof I=="string")re[Mn(I)]=j;else for(X in I)re[Mn(X)]=I[X];return re},get:function(S,I){return I===void 0?this.cache(S):S[this.expando]&&S[this.expando][Mn(I)]},access:function(S,I,j){return I===void 0||I&&typeof I=="string"&&j===void 0?this.get(S,I):(this.set(S,I,j),j!==void 0?j:I)},remove:function(S,I){var j,X=S[this.expando];if(X!==void 0){if(I!==void 0)for(Array.isArray(I)?I=I.map(Mn):(I=Mn(I),I=I in X?[I]:I.match(Qt)||[]),j=I.length;j--;)delete X[I[j]];(I===void 0||A.isEmptyObject(X))&&(S.nodeType?S[this.expando]=void 0:delete S[this.expando])}},hasData:function(S){var I=S[this.expando];return I!==void 0&&!A.isEmptyObject(I)}};var pt=new yr,sn=new yr,dn=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,en=/[A-Z]/g;function ln(S){return S==="true"?!0:S==="false"?!1:S==="null"?null:S===+S+""?+S:dn.test(S)?JSON.parse(S):S}function un(S,I,j){var X;if(j===void 0&&S.nodeType===1)if(X="data-"+I.replace(en,"-$&").toLowerCase(),j=S.getAttribute(X),typeof j=="string"){try{j=ln(j)}catch{}sn.set(S,I,j)}else j=void 0;return j}A.extend({hasData:function(S){return sn.hasData(S)||pt.hasData(S)},data:function(S,I,j){return sn.access(S,I,j)},removeData:function(S,I){sn.remove(S,I)},_data:function(S,I,j){return pt.access(S,I,j)},_removeData:function(S,I){pt.remove(S,I)}}),A.fn.extend({data:function(S,I){var j,X,re,ie=this[0],ue=ie&&ie.attributes;if(S===void 0){if(this.length&&(re=sn.get(ie),ie.nodeType===1&&!pt.get(ie,"hasDataAttrs"))){for(j=ue.length;j--;)ue[j]&&(X=ue[j].name,X.indexOf("data-")===0&&(X=Mn(X.slice(5)),un(ie,X,re[X])));pt.set(ie,"hasDataAttrs",!0)}return re}return typeof S=="object"?this.each(function(){sn.set(this,S)}):Bn(this,function(Ge){var Me;if(ie&&Ge===void 0)return Me=sn.get(ie,S),Me!==void 0||(Me=un(ie,S),Me!==void 0)?Me:void 0;this.each(function(){sn.set(this,S,Ge)})},null,I,arguments.length>1,null,!0)},removeData:function(S){return this.each(function(){sn.remove(this,S)})}}),A.extend({queue:function(S,I,j){var X;if(S)return I=(I||"fx")+"queue",X=pt.get(S,I),j&&(!X||Array.isArray(j)?X=pt.access(S,I,A.makeArray(j)):X.push(j)),X||[]},dequeue:function(S,I){I=I||"fx";var j=A.queue(S,I),X=j.length,re=j.shift(),ie=A._queueHooks(S,I),ue=function(){A.dequeue(S,I)};re==="inprogress"&&(re=j.shift(),X--),re&&(I==="fx"&&j.unshift("inprogress"),delete ie.stop,re.call(S,ue,ie)),!X&&ie&&ie.empty.fire()},_queueHooks:function(S,I){var j=I+"queueHooks";return pt.get(S,j)||pt.access(S,j,{empty:A.Callbacks("once memory").add(function(){pt.remove(S,[I+"queue",j])})})}}),A.fn.extend({queue:function(S,I){var j=2;return typeof S!="string"&&(I=S,S="fx",j--),arguments.length<j?A.queue(this[0],S):I===void 0?this:this.each(function(){var X=A.queue(this,S,I);A._queueHooks(this,S),S==="fx"&&X[0]!=="inprogress"&&A.dequeue(this,S)})},dequeue:function(S){return this.each(function(){A.dequeue(this,S)})},clearQueue:function(S){return this.queue(S||"fx",[])},promise:function(S,I){var j,X=1,re=A.Deferred(),ie=this,ue=this.length,Ge=function(){--X||re.resolveWith(ie,[ie])};for(typeof S!="string"&&(I=S,S=void 0),S=S||"fx";ue--;)j=pt.get(ie[ue],S+"queueHooks"),j&&j.empty&&(X++,j.empty.add(Ge));return Ge(),re.promise(I)}});var bn=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Dn=new RegExp("^(?:([+-])=|)("+bn+")([a-z%]*)$","i"),Fn=["Top","Right","Bottom","Left"],er=U.documentElement,Ar=function(S){return A.contains(S.ownerDocument,S)},pr={composed:!0};er.getRootNode&&(Ar=function(S){return A.contains(S.ownerDocument,S)||S.getRootNode(pr)===S.ownerDocument});var mi=function(S,I){return S=I||S,S.style.display==="none"||S.style.display===""&&Ar(S)&&A.css(S,"display")==="none"};function Hr(S,I,j,X){var re,ie,ue=20,Ge=X?function(){return X.cur()}:function(){return A.css(S,I,"")},Me=Ge(),st=j&&j[3]||(A.cssNumber[I]?"":"px"),Ot=S.nodeType&&(A.cssNumber[I]||st!=="px"&&+Me)&&Dn.exec(A.css(S,I));if(Ot&&Ot[3]!==st){for(Me=Me/2,st=st||Ot[3],Ot=+Me||1;ue--;)A.style(S,I,Ot+st),(1-ie)*(1-(ie=Ge()/Me||.5))<=0&&(ue=0),Ot=Ot/ie;Ot=Ot*2,A.style(S,I,Ot+st),j=j||[]}return j&&(Ot=+Ot||+Me||0,re=j[1]?Ot+(j[1]+1)*j[2]:+j[2],X&&(X.unit=st,X.start=Ot,X.end=re)),re}var ke={};function oe(S){var I,j=S.ownerDocument,X=S.nodeName,re=ke[X];return re||(I=j.body.appendChild(j.createElement(X)),re=A.css(I,"display"),I.parentNode.removeChild(I),re==="none"&&(re="block"),ke[X]=re,re)}function ae(S,I){for(var j,X,re=[],ie=0,ue=S.length;ie<ue;ie++)X=S[ie],X.style&&(j=X.style.display,I?(j==="none"&&(re[ie]=pt.get(X,"display")||null,re[ie]||(X.style.display="")),X.style.display===""&&mi(X)&&(re[ie]=oe(X))):j!=="none"&&(re[ie]="none",pt.set(X,"display",j)));for(ie=0;ie<ue;ie++)re[ie]!=null&&(S[ie].style.display=re[ie]);return S}A.fn.extend({show:function(){return ae(this,!0)},hide:function(){return ae(this)},toggle:function(S){return typeof S=="boolean"?S?this.show():this.hide():this.each(function(){mi(this)?A(this).show():A(this).hide()})}});var xe=/^(?:checkbox|radio)$/i,Fe=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Be=/^$|^module$|\/(?:java|ecma)script/i;(function(){var S=U.createDocumentFragment(),I=S.appendChild(U.createElement("div")),j=U.createElement("input");j.setAttribute("type","radio"),j.setAttribute("checked","checked"),j.setAttribute("name","t"),I.appendChild(j),N.checkClone=I.cloneNode(!0).cloneNode(!0).lastChild.checked,I.innerHTML="<textarea>x</textarea>",N.noCloneChecked=!!I.cloneNode(!0).lastChild.defaultValue,I.innerHTML="<option></option>",N.option=!!I.lastChild})();var et={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};et.tbody=et.tfoot=et.colgroup=et.caption=et.thead,et.th=et.td,N.option||(et.optgroup=et.option=[1,"<select multiple='multiple'>","</select>"]);function nt(S,I){var j;return typeof S.getElementsByTagName<"u"?j=S.getElementsByTagName(I||"*"):typeof S.querySelectorAll<"u"?j=S.querySelectorAll(I||"*"):j=[],I===void 0||I&&le(S,I)?A.merge([S],j):j}function qe(S,I){for(var j=0,X=S.length;j<X;j++)pt.set(S[j],"globalEval",!I||pt.get(I[j],"globalEval"))}var He=/<|&#?\w+;/;function Je(S,I,j,X,re){for(var ie,ue,Ge,Me,st,Ot,Vt=I.createDocumentFragment(),Tt=[],cn=0,rr=S.length;cn<rr;cn++)if(ie=S[cn],ie||ie===0)if(Q(ie)==="object")A.merge(Tt,ie.nodeType?[ie]:ie);else if(!He.test(ie))Tt.push(I.createTextNode(ie));else{for(ue=ue||Vt.appendChild(I.createElement("div")),Ge=(Fe.exec(ie)||["",""])[1].toLowerCase(),Me=et[Ge]||et._default,ue.innerHTML=Me[1]+A.htmlPrefilter(ie)+Me[2],Ot=Me[0];Ot--;)ue=ue.lastChild;A.merge(Tt,ue.childNodes),ue=Vt.firstChild,ue.textContent=""}for(Vt.textContent="",cn=0;ie=Tt[cn++];){if(X&&A.inArray(ie,X)>-1){re&&re.push(ie);continue}if(st=Ar(ie),ue=nt(Vt.appendChild(ie),"script"),st&&qe(ue),j)for(Ot=0;ie=ue[Ot++];)Be.test(ie.type||"")&&j.push(ie)}return Vt}var xt=/^([^.]*)(?:\.(.+)|)/;function kt(){return!0}function vn(){return!1}function Nn(S,I,j,X,re,ie){var ue,Ge;if(typeof I=="object"){typeof j!="string"&&(X=X||j,j=void 0);for(Ge in I)Nn(S,Ge,j,X,I[Ge],ie);return S}if(X==null&&re==null?(re=j,X=j=void 0):re==null&&(typeof j=="string"?(re=X,X=void 0):(re=X,X=j,j=void 0)),re===!1)re=vn;else if(!re)return S;return ie===1&&(ue=re,re=function(Me){return A().off(Me),ue.apply(this,arguments)},re.guid=ue.guid||(ue.guid=A.guid++)),S.each(function(){A.event.add(this,I,re,X,j)})}A.event={global:{},add:function(S,I,j,X,re){var ie,ue,Ge,Me,st,Ot,Vt,Tt,cn,rr,Cr,_r=pt.get(S);if(jn(S))for(j.handler&&(ie=j,j=ie.handler,re=ie.selector),re&&A.find.matchesSelector(er,re),j.guid||(j.guid=A.guid++),(Me=_r.events)||(Me=_r.events=Object.create(null)),(ue=_r.handle)||(ue=_r.handle=function(Di){return typeof A<"u"&&A.event.triggered!==Di.type?A.event.dispatch.apply(S,arguments):void 0}),I=(I||"").match(Qt)||[""],st=I.length;st--;)Ge=xt.exec(I[st])||[],cn=Cr=Ge[1],rr=(Ge[2]||"").split(".").sort(),cn&&(Vt=A.event.special[cn]||{},cn=(re?Vt.delegateType:Vt.bindType)||cn,Vt=A.event.special[cn]||{},Ot=A.extend({type:cn,origType:Cr,data:X,handler:j,guid:j.guid,selector:re,needsContext:re&&A.expr.match.needsContext.test(re),namespace:rr.join(".")},ie),(Tt=Me[cn])||(Tt=Me[cn]=[],Tt.delegateCount=0,(!Vt.setup||Vt.setup.call(S,X,rr,ue)===!1)&&S.addEventListener&&S.addEventListener(cn,ue)),Vt.add&&(Vt.add.call(S,Ot),Ot.handler.guid||(Ot.handler.guid=j.guid)),re?Tt.splice(Tt.delegateCount++,0,Ot):Tt.push(Ot),A.event.global[cn]=!0)},remove:function(S,I,j,X,re){var ie,ue,Ge,Me,st,Ot,Vt,Tt,cn,rr,Cr,_r=pt.hasData(S)&&pt.get(S);if(!(!_r||!(Me=_r.events))){for(I=(I||"").match(Qt)||[""],st=I.length;st--;){if(Ge=xt.exec(I[st])||[],cn=Cr=Ge[1],rr=(Ge[2]||"").split(".").sort(),!cn){for(cn in Me)A.event.remove(S,cn+I[st],j,X,!0);continue}for(Vt=A.event.special[cn]||{},cn=(X?Vt.delegateType:Vt.bindType)||cn,Tt=Me[cn]||[],Ge=Ge[2]&&new RegExp("(^|\\.)"+rr.join("\\.(?:.*\\.|)")+"(\\.|$)"),ue=ie=Tt.length;ie--;)Ot=Tt[ie],(re||Cr===Ot.origType)&&(!j||j.guid===Ot.guid)&&(!Ge||Ge.test(Ot.namespace))&&(!X||X===Ot.selector||X==="**"&&Ot.selector)&&(Tt.splice(ie,1),Ot.selector&&Tt.delegateCount--,Vt.remove&&Vt.remove.call(S,Ot));ue&&!Tt.length&&((!Vt.teardown||Vt.teardown.call(S,rr,_r.handle)===!1)&&A.removeEvent(S,cn,_r.handle),delete Me[cn])}A.isEmptyObject(Me)&&pt.remove(S,"handle events")}},dispatch:function(S){var I,j,X,re,ie,ue,Ge=new Array(arguments.length),Me=A.event.fix(S),st=(pt.get(this,"events")||Object.create(null))[Me.type]||[],Ot=A.event.special[Me.type]||{};for(Ge[0]=Me,I=1;I<arguments.length;I++)Ge[I]=arguments[I];if(Me.delegateTarget=this,!(Ot.preDispatch&&Ot.preDispatch.call(this,Me)===!1)){for(ue=A.event.handlers.call(this,Me,st),I=0;(re=ue[I++])&&!Me.isPropagationStopped();)for(Me.currentTarget=re.elem,j=0;(ie=re.handlers[j++])&&!Me.isImmediatePropagationStopped();)(!Me.rnamespace||ie.namespace===!1||Me.rnamespace.test(ie.namespace))&&(Me.handleObj=ie,Me.data=ie.data,X=((A.event.special[ie.origType]||{}).handle||ie.handler).apply(re.elem,Ge),X!==void 0&&(Me.result=X)===!1&&(Me.preventDefault(),Me.stopPropagation()));return Ot.postDispatch&&Ot.postDispatch.call(this,Me),Me.result}},handlers:function(S,I){var j,X,re,ie,ue,Ge=[],Me=I.delegateCount,st=S.target;if(Me&&st.nodeType&&!(S.type==="click"&&S.button>=1)){for(;st!==this;st=st.parentNode||this)if(st.nodeType===1&&!(S.type==="click"&&st.disabled===!0)){for(ie=[],ue={},j=0;j<Me;j++)X=I[j],re=X.selector+" ",ue[re]===void 0&&(ue[re]=X.needsContext?A(re,this).index(st)>-1:A.find(re,this,null,[st]).length),ue[re]&&ie.push(X);ie.length&&Ge.push({elem:st,handlers:ie})}}return st=this,Me<I.length&&Ge.push({elem:st,handlers:I.slice(Me)}),Ge},addProp:function(S,I){Object.defineProperty(A.Event.prototype,S,{enumerable:!0,configurable:!0,get:B(I)?function(){if(this.originalEvent)return I(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[S]},set:function(j){Object.defineProperty(this,S,{enumerable:!0,configurable:!0,writable:!0,value:j})}})},fix:function(S){return S[A.expando]?S:new A.Event(S)},special:{load:{noBubble:!0},click:{setup:function(S){var I=this||S;return xe.test(I.type)&&I.click&&le(I,"input")&&Rn(I,"click",!0),!1},trigger:function(S){var I=this||S;return xe.test(I.type)&&I.click&&le(I,"input")&&Rn(I,"click"),!0},_default:function(S){var I=S.target;return xe.test(I.type)&&I.click&&le(I,"input")&&pt.get(I,"click")||le(I,"a")}},beforeunload:{postDispatch:function(S){S.result!==void 0&&S.originalEvent&&(S.originalEvent.returnValue=S.result)}}}};function Rn(S,I,j){if(!j){pt.get(S,I)===void 0&&A.event.add(S,I,kt);return}pt.set(S,I,!1),A.event.add(S,I,{namespace:!1,handler:function(X){var re,ie=pt.get(this,I);if(X.isTrigger&1&&this[I]){if(ie)(A.event.special[I]||{}).delegateType&&X.stopPropagation();else if(ie=u.call(arguments),pt.set(this,I,ie),this[I](),re=pt.get(this,I),pt.set(this,I,!1),ie!==re)return X.stopImmediatePropagation(),X.preventDefault(),re}else ie&&(pt.set(this,I,A.event.trigger(ie[0],ie.slice(1),this)),X.stopPropagation(),X.isImmediatePropagationStopped=kt)}})}A.removeEvent=function(S,I,j){S.removeEventListener&&S.removeEventListener(I,j)},A.Event=function(S,I){if(!(this instanceof A.Event))return new A.Event(S,I);S&&S.type?(this.originalEvent=S,this.type=S.type,this.isDefaultPrevented=S.defaultPrevented||S.defaultPrevented===void 0&&S.returnValue===!1?kt:vn,this.target=S.target&&S.target.nodeType===3?S.target.parentNode:S.target,this.currentTarget=S.currentTarget,this.relatedTarget=S.relatedTarget):this.type=S,I&&A.extend(this,I),this.timeStamp=S&&S.timeStamp||Date.now(),this[A.expando]=!0},A.Event.prototype={constructor:A.Event,isDefaultPrevented:vn,isPropagationStopped:vn,isImmediatePropagationStopped:vn,isSimulated:!1,preventDefault:function(){var S=this.originalEvent;this.isDefaultPrevented=kt,S&&!this.isSimulated&&S.preventDefault()},stopPropagation:function(){var S=this.originalEvent;this.isPropagationStopped=kt,S&&!this.isSimulated&&S.stopPropagation()},stopImmediatePropagation:function(){var S=this.originalEvent;this.isImmediatePropagationStopped=kt,S&&!this.isSimulated&&S.stopImmediatePropagation(),this.stopPropagation()}},A.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},A.event.addProp),A.each({focus:"focusin",blur:"focusout"},function(S,I){function j(X){if(U.documentMode){var re=pt.get(this,"handle"),ie=A.event.fix(X);ie.type=X.type==="focusin"?"focus":"blur",ie.isSimulated=!0,re(X),ie.target===ie.currentTarget&&re(ie)}else A.event.simulate(I,X.target,A.event.fix(X))}A.event.special[S]={setup:function(){var X;if(Rn(this,S,!0),U.documentMode)X=pt.get(this,I),X||this.addEventListener(I,j),pt.set(this,I,(X||0)+1);else return!1},trigger:function(){return Rn(this,S),!0},teardown:function(){var X;if(U.documentMode)X=pt.get(this,I)-1,X?pt.set(this,I,X):(this.removeEventListener(I,j),pt.remove(this,I));else return!1},_default:function(X){return pt.get(X.target,S)},delegateType:I},A.event.special[I]={setup:function(){var X=this.ownerDocument||this.document||this,re=U.documentMode?this:X,ie=pt.get(re,I);ie||(U.documentMode?this.addEventListener(I,j):X.addEventListener(S,j,!0)),pt.set(re,I,(ie||0)+1)},teardown:function(){var X=this.ownerDocument||this.document||this,re=U.documentMode?this:X,ie=pt.get(re,I)-1;ie?pt.set(re,I,ie):(U.documentMode?this.removeEventListener(I,j):X.removeEventListener(S,j,!0),pt.remove(re,I))}}}),A.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(S,I){A.event.special[S]={delegateType:I,bindType:I,handle:function(j){var X,re=this,ie=j.relatedTarget,ue=j.handleObj;return(!ie||ie!==re&&!A.contains(re,ie))&&(j.type=ue.origType,X=ue.handler.apply(this,arguments),j.type=I),X}}}),A.fn.extend({on:function(S,I,j,X){return Nn(this,S,I,j,X)},one:function(S,I,j,X){return Nn(this,S,I,j,X,1)},off:function(S,I,j){var X,re;if(S&&S.preventDefault&&S.handleObj)return X=S.handleObj,A(S.delegateTarget).off(X.namespace?X.origType+"."+X.namespace:X.origType,X.selector,X.handler),this;if(typeof S=="object"){for(re in S)this.off(re,I,S[re]);return this}return(I===!1||typeof I=="function")&&(j=I,I=void 0),j===!1&&(j=vn),this.each(function(){A.event.remove(this,S,j,I)})}});var $n=/<script|<style|<link/i,Xn=/checked\s*(?:[^=]|=\s*.checked.)/i,wr=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Er(S,I){return le(S,"table")&&le(I.nodeType!==11?I:I.firstChild,"tr")&&A(S).children("tbody")[0]||S}function Rr(S){return S.type=(S.getAttribute("type")!==null)+"/"+S.type,S}function tt(S){return(S.type||"").slice(0,5)==="true/"?S.type=S.type.slice(5):S.removeAttribute("type"),S}function Ce(S,I){var j,X,re,ie,ue,Ge,Me;if(I.nodeType===1){if(pt.hasData(S)&&(ie=pt.get(S),Me=ie.events,Me)){pt.remove(I,"handle events");for(re in Me)for(j=0,X=Me[re].length;j<X;j++)A.event.add(I,re,Me[re][j])}sn.hasData(S)&&(ue=sn.access(S),Ge=A.extend({},ue),sn.set(I,Ge))}}function ft(S,I){var j=I.nodeName.toLowerCase();j==="input"&&xe.test(S.type)?I.checked=S.checked:(j==="input"||j==="textarea")&&(I.defaultValue=S.defaultValue)}function Ut(S,I,j,X){I=f(I);var re,ie,ue,Ge,Me,st,Ot=0,Vt=S.length,Tt=Vt-1,cn=I[0],rr=B(cn);if(rr||Vt>1&&typeof cn=="string"&&!N.checkClone&&Xn.test(cn))return S.each(function(Cr){var _r=S.eq(Cr);rr&&(I[0]=cn.call(this,Cr,_r.html())),Ut(_r,I,j,X)});if(Vt&&(re=Je(I,S[0].ownerDocument,!1,S,X),ie=re.firstChild,re.childNodes.length===1&&(re=ie),ie||X)){for(ue=A.map(nt(re,"script"),Rr),Ge=ue.length;Ot<Vt;Ot++)Me=re,Ot!==Tt&&(Me=A.clone(Me,!0,!0),Ge&&A.merge(ue,nt(Me,"script"))),j.call(S[Ot],Me,Ot);if(Ge)for(st=ue[ue.length-1].ownerDocument,A.map(ue,tt),Ot=0;Ot<Ge;Ot++)Me=ue[Ot],Be.test(Me.type||"")&&!pt.access(Me,"globalEval")&&A.contains(st,Me)&&(Me.src&&(Me.type||"").toLowerCase()!=="module"?A._evalUrl&&!Me.noModule&&A._evalUrl(Me.src,{nonce:Me.nonce||Me.getAttribute("nonce")},st):Z(Me.textContent.replace(wr,""),Me,st))}return S}function pn(S,I,j){for(var X,re=I?A.filter(I,S):S,ie=0;(X=re[ie])!=null;ie++)!j&&X.nodeType===1&&A.cleanData(nt(X)),X.parentNode&&(j&&Ar(X)&&qe(nt(X,"script")),X.parentNode.removeChild(X));return S}A.extend({htmlPrefilter:function(S){return S},clone:function(S,I,j){var X,re,ie,ue,Ge=S.cloneNode(!0),Me=Ar(S);if(!N.noCloneChecked&&(S.nodeType===1||S.nodeType===11)&&!A.isXMLDoc(S))for(ue=nt(Ge),ie=nt(S),X=0,re=ie.length;X<re;X++)ft(ie[X],ue[X]);if(I)if(j)for(ie=ie||nt(S),ue=ue||nt(Ge),X=0,re=ie.length;X<re;X++)Ce(ie[X],ue[X]);else Ce(S,Ge);return ue=nt(Ge,"script"),ue.length>0&&qe(ue,!Me&&nt(S,"script")),Ge},cleanData:function(S){for(var I,j,X,re=A.event.special,ie=0;(j=S[ie])!==void 0;ie++)if(jn(j)){if(I=j[pt.expando]){if(I.events)for(X in I.events)re[X]?A.event.remove(j,X):A.removeEvent(j,X,I.handle);j[pt.expando]=void 0}j[sn.expando]&&(j[sn.expando]=void 0)}}}),A.fn.extend({detach:function(S){return pn(this,S,!0)},remove:function(S){return pn(this,S)},text:function(S){return Bn(this,function(I){return I===void 0?A.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=I)})},null,S,arguments.length)},append:function(){return Ut(this,arguments,function(S){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var I=Er(this,S);I.appendChild(S)}})},prepend:function(){return Ut(this,arguments,function(S){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var I=Er(this,S);I.insertBefore(S,I.firstChild)}})},before:function(){return Ut(this,arguments,function(S){this.parentNode&&this.parentNode.insertBefore(S,this)})},after:function(){return Ut(this,arguments,function(S){this.parentNode&&this.parentNode.insertBefore(S,this.nextSibling)})},empty:function(){for(var S,I=0;(S=this[I])!=null;I++)S.nodeType===1&&(A.cleanData(nt(S,!1)),S.textContent="");return this},clone:function(S,I){return S=S??!1,I=I??S,this.map(function(){return A.clone(this,S,I)})},html:function(S){return Bn(this,function(I){var j=this[0]||{},X=0,re=this.length;if(I===void 0&&j.nodeType===1)return j.innerHTML;if(typeof I=="string"&&!$n.test(I)&&!et[(Fe.exec(I)||["",""])[1].toLowerCase()]){I=A.htmlPrefilter(I);try{for(;X<re;X++)j=this[X]||{},j.nodeType===1&&(A.cleanData(nt(j,!1)),j.innerHTML=I);j=0}catch{}}j&&this.empty().append(I)},null,S,arguments.length)},replaceWith:function(){var S=[];return Ut(this,arguments,function(I){var j=this.parentNode;A.inArray(this,S)<0&&(A.cleanData(nt(this)),j&&j.replaceChild(I,this))},S)}}),A.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(S,I){A.fn[S]=function(j){for(var X,re=[],ie=A(j),ue=ie.length-1,Ge=0;Ge<=ue;Ge++)X=Ge===ue?this:this.clone(!0),A(ie[Ge])[I](X),a.apply(re,X.get());return this.pushStack(re)}});var fr=new RegExp("^("+bn+")(?!px)[a-z%]+$","i"),Mr=/^--/,Hn=function(S){var I=S.ownerDocument.defaultView;return(!I||!I.opener)&&(I=t),I.getComputedStyle(S)},Do=function(S,I,j){var X,re,ie={};for(re in I)ie[re]=S.style[re],S.style[re]=I[re];X=j.call(S);for(re in I)S.style[re]=ie[re];return X},_o=new RegExp(Fn.join("|"),"i");(function(){function S(){if(st){Me.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",st.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",er.appendChild(Me).appendChild(st);var Ot=t.getComputedStyle(st);j=Ot.top!=="1%",Ge=I(Ot.marginLeft)===12,st.style.right="60%",ie=I(Ot.right)===36,X=I(Ot.width)===36,st.style.position="absolute",re=I(st.offsetWidth/3)===12,er.removeChild(Me),st=null}}function I(Ot){return Math.round(parseFloat(Ot))}var j,X,re,ie,ue,Ge,Me=U.createElement("div"),st=U.createElement("div");st.style&&(st.style.backgroundClip="content-box",st.cloneNode(!0).style.backgroundClip="",N.clearCloneStyle=st.style.backgroundClip==="content-box",A.extend(N,{boxSizingReliable:function(){return S(),X},pixelBoxStyles:function(){return S(),ie},pixelPosition:function(){return S(),j},reliableMarginLeft:function(){return S(),Ge},scrollboxSize:function(){return S(),re},reliableTrDimensions:function(){var Ot,Vt,Tt,cn;return ue==null&&(Ot=U.createElement("table"),Vt=U.createElement("tr"),Tt=U.createElement("div"),Ot.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Vt.style.cssText="border:1px solid",Vt.style.height="1px",Tt.style.height="9px",Tt.style.display="block",er.appendChild(Ot).appendChild(Vt).appendChild(Tt),cn=t.getComputedStyle(Vt),ue=parseInt(cn.height,10)+parseInt(cn.borderTopWidth,10)+parseInt(cn.borderBottomWidth,10)===Vt.offsetHeight,er.removeChild(Ot)),ue}}))})();function yo(S,I,j){var X,re,ie,ue,Ge=Mr.test(I),Me=S.style;return j=j||Hn(S),j&&(ue=j.getPropertyValue(I)||j[I],Ge&&ue&&(ue=ue.replace(Re,"$1")||void 0),ue===""&&!Ar(S)&&(ue=A.style(S,I)),!N.pixelBoxStyles()&&fr.test(ue)&&_o.test(I)&&(X=Me.width,re=Me.minWidth,ie=Me.maxWidth,Me.minWidth=Me.maxWidth=Me.width=ue,ue=j.width,Me.width=X,Me.minWidth=re,Me.maxWidth=ie)),ue!==void 0?ue+"":ue}function ra(S,I){return{get:function(){if(S()){delete this.get;return}return(this.get=I).apply(this,arguments)}}}var $i=["Webkit","Moz","ms"],Ui=U.createElement("div").style,vo={};function Vi(S){for(var I=S[0].toUpperCase()+S.slice(1),j=$i.length;j--;)if(S=$i[j]+I,S in Ui)return S}function Ba(S){var I=A.cssProps[S]||vo[S];return I||(S in Ui?S:vo[S]=Vi(S)||S)}var ja=/^(none|table(?!-c[ea]).+)/,Il={position:"absolute",visibility:"hidden",display:"block"},Pt={letterSpacing:"0",fontWeight:"400"};function fa(S,I,j){var X=Dn.exec(I);return X?Math.max(0,X[2]-(j||0))+(X[3]||"px"):I}function ni(S,I,j,X,re,ie){var ue=I==="width"?1:0,Ge=0,Me=0,st=0;if(j===(X?"border":"content"))return 0;for(;ue<4;ue+=2)j==="margin"&&(st+=A.css(S,j+Fn[ue],!0,re)),X?(j==="content"&&(Me-=A.css(S,"padding"+Fn[ue],!0,re)),j!=="margin"&&(Me-=A.css(S,"border"+Fn[ue]+"Width",!0,re))):(Me+=A.css(S,"padding"+Fn[ue],!0,re),j!=="padding"?Me+=A.css(S,"border"+Fn[ue]+"Width",!0,re):Ge+=A.css(S,"border"+Fn[ue]+"Width",!0,re));return!X&&ie>=0&&(Me+=Math.max(0,Math.ceil(S["offset"+I[0].toUpperCase()+I.slice(1)]-ie-Me-Ge-.5))||0),Me+st}function Gi(S,I,j){var X=Hn(S),re=!N.boxSizingReliable()||j,ie=re&&A.css(S,"boxSizing",!1,X)==="border-box",ue=ie,Ge=yo(S,I,X),Me="offset"+I[0].toUpperCase()+I.slice(1);if(fr.test(Ge)){if(!j)return Ge;Ge="auto"}return(!N.boxSizingReliable()&&ie||!N.reliableTrDimensions()&&le(S,"tr")||Ge==="auto"||!parseFloat(Ge)&&A.css(S,"display",!1,X)==="inline")&&S.getClientRects().length&&(ie=A.css(S,"boxSizing",!1,X)==="border-box",ue=Me in S,ue&&(Ge=S[Me])),Ge=parseFloat(Ge)||0,Ge+ni(S,I,j||(ie?"border":"content"),ue,X,Ge)+"px"}A.extend({cssHooks:{opacity:{get:function(S,I){if(I){var j=yo(S,"opacity");return j===""?"1":j}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(S,I,j,X){if(!(!S||S.nodeType===3||S.nodeType===8||!S.style)){var re,ie,ue,Ge=Mn(I),Me=Mr.test(I),st=S.style;if(Me||(I=Ba(Ge)),ue=A.cssHooks[I]||A.cssHooks[Ge],j!==void 0){if(ie=typeof j,ie==="string"&&(re=Dn.exec(j))&&re[1]&&(j=Hr(S,I,re),ie="number"),j==null||j!==j)return;ie==="number"&&!Me&&(j+=re&&re[3]||(A.cssNumber[Ge]?"":"px")),!N.clearCloneStyle&&j===""&&I.indexOf("background")===0&&(st[I]="inherit"),(!ue||!("set"in ue)||(j=ue.set(S,j,X))!==void 0)&&(Me?st.setProperty(I,j):st[I]=j)}else return ue&&"get"in ue&&(re=ue.get(S,!1,X))!==void 0?re:st[I]}},css:function(S,I,j,X){var re,ie,ue,Ge=Mn(I),Me=Mr.test(I);return Me||(I=Ba(Ge)),ue=A.cssHooks[I]||A.cssHooks[Ge],ue&&"get"in ue&&(re=ue.get(S,!0,j)),re===void 0&&(re=yo(S,I,X)),re==="normal"&&I in Pt&&(re=Pt[I]),j===""||j?(ie=parseFloat(re),j===!0||isFinite(ie)?ie||0:re):re}}),A.each(["height","width"],function(S,I){A.cssHooks[I]={get:function(j,X,re){if(X)return ja.test(A.css(j,"display"))&&(!j.getClientRects().length||!j.getBoundingClientRect().width)?Do(j,Il,function(){return Gi(j,I,re)}):Gi(j,I,re)},set:function(j,X,re){var ie,ue=Hn(j),Ge=!N.scrollboxSize()&&ue.position==="absolute",Me=Ge||re,st=Me&&A.css(j,"boxSizing",!1,ue)==="border-box",Ot=re?ni(j,I,re,st,ue):0;return st&&Ge&&(Ot-=Math.ceil(j["offset"+I[0].toUpperCase()+I.slice(1)]-parseFloat(ue[I])-ni(j,I,"border",!1,ue)-.5)),Ot&&(ie=Dn.exec(X))&&(ie[3]||"px")!=="px"&&(j.style[I]=X,X=A.css(j,I)),fa(j,X,Ot)}}}),A.cssHooks.marginLeft=ra(N.reliableMarginLeft,function(S,I){if(I)return(parseFloat(yo(S,"marginLeft"))||S.getBoundingClientRect().left-Do(S,{marginLeft:0},function(){return S.getBoundingClientRect().left}))+"px"}),A.each({margin:"",padding:"",border:"Width"},function(S,I){A.cssHooks[S+I]={expand:function(j){for(var X=0,re={},ie=typeof j=="string"?j.split(" "):[j];X<4;X++)re[S+Fn[X]+I]=ie[X]||ie[X-2]||ie[0];return re}},S!=="margin"&&(A.cssHooks[S+I].set=fa)}),A.fn.extend({css:function(S,I){return Bn(this,function(j,X,re){var ie,ue,Ge={},Me=0;if(Array.isArray(X)){for(ie=Hn(j),ue=X.length;Me<ue;Me++)Ge[X[Me]]=A.css(j,X[Me],!1,ie);return Ge}return re!==void 0?A.style(j,X,re):A.css(j,X)},S,I,arguments.length>1)}});function Ro(S,I,j,X,re){return new Ro.prototype.init(S,I,j,X,re)}A.Tween=Ro,Ro.prototype={constructor:Ro,init:function(S,I,j,X,re,ie){this.elem=S,this.prop=j,this.easing=re||A.easing._default,this.options=I,this.start=this.now=this.cur(),this.end=X,this.unit=ie||(A.cssNumber[j]?"":"px")},cur:function(){var S=Ro.propHooks[this.prop];return S&&S.get?S.get(this):Ro.propHooks._default.get(this)},run:function(S){var I,j=Ro.propHooks[this.prop];return this.options.duration?this.pos=I=A.easing[this.easing](S,this.options.duration*S,0,1,this.options.duration):this.pos=I=S,this.now=(this.end-this.start)*I+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),j&&j.set?j.set(this):Ro.propHooks._default.set(this),this}},Ro.prototype.init.prototype=Ro.prototype,Ro.propHooks={_default:{get:function(S){var I;return S.elem.nodeType!==1||S.elem[S.prop]!=null&&S.elem.style[S.prop]==null?S.elem[S.prop]:(I=A.css(S.elem,S.prop,""),!I||I==="auto"?0:I)},set:function(S){A.fx.step[S.prop]?A.fx.step[S.prop](S):S.elem.nodeType===1&&(A.cssHooks[S.prop]||S.elem.style[Ba(S.prop)]!=null)?A.style(S.elem,S.prop,S.now+S.unit):S.elem[S.prop]=S.now}}},Ro.propHooks.scrollTop=Ro.propHooks.scrollLeft={set:function(S){S.elem.nodeType&&S.elem.parentNode&&(S.elem[S.prop]=S.now)}},A.easing={linear:function(S){return S},swing:function(S){return .5-Math.cos(S*Math.PI)/2},_default:"swing"},A.fx=Ro.prototype.init,A.fx.step={};var Oo,mc,Gp=/^(?:toggle|show|hide)$/,gc=/queueHooks$/;function fn(){mc&&(U.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(fn):t.setTimeout(fn,A.fx.interval),A.fx.tick())}function vr(){return t.setTimeout(function(){Oo=void 0}),Oo=Date.now()}function ur(S,I){var j,X=0,re={height:S};for(I=I?1:0;X<4;X+=2-I)j=Fn[X],re["margin"+j]=re["padding"+j]=S;return I&&(re.opacity=re.width=S),re}function Vo(S,I,j){for(var X,re=(Ti.tweeners[I]||[]).concat(Ti.tweeners["*"]),ie=0,ue=re.length;ie<ue;ie++)if(X=re[ie].call(j,I,S))return X}function $a(S,I,j){var X,re,ie,ue,Ge,Me,st,Ot,Vt="width"in I||"height"in I,Tt=this,cn={},rr=S.style,Cr=S.nodeType&&mi(S),_r=pt.get(S,"fxshow");j.queue||(ue=A._queueHooks(S,"fx"),ue.unqueued==null&&(ue.unqueued=0,Ge=ue.empty.fire,ue.empty.fire=function(){ue.unqueued||Ge()}),ue.unqueued++,Tt.always(function(){Tt.always(function(){ue.unqueued--,A.queue(S,"fx").length||ue.empty.fire()})}));for(X in I)if(re=I[X],Gp.test(re)){if(delete I[X],ie=ie||re==="toggle",re===(Cr?"hide":"show"))if(re==="show"&&_r&&_r[X]!==void 0)Cr=!0;else continue;cn[X]=_r&&_r[X]||A.style(S,X)}if(Me=!A.isEmptyObject(I),!(!Me&&A.isEmptyObject(cn))){Vt&&S.nodeType===1&&(j.overflow=[rr.overflow,rr.overflowX,rr.overflowY],st=_r&&_r.display,st==null&&(st=pt.get(S,"display")),Ot=A.css(S,"display"),Ot==="none"&&(st?Ot=st:(ae([S],!0),st=S.style.display||st,Ot=A.css(S,"display"),ae([S]))),(Ot==="inline"||Ot==="inline-block"&&st!=null)&&A.css(S,"float")==="none"&&(Me||(Tt.done(function(){rr.display=st}),st==null&&(Ot=rr.display,st=Ot==="none"?"":Ot)),rr.display="inline-block")),j.overflow&&(rr.overflow="hidden",Tt.always(function(){rr.overflow=j.overflow[0],rr.overflowX=j.overflow[1],rr.overflowY=j.overflow[2]})),Me=!1;for(X in cn)Me||(_r?"hidden"in _r&&(Cr=_r.hidden):_r=pt.access(S,"fxshow",{display:st}),ie&&(_r.hidden=!Cr),Cr&&ae([S],!0),Tt.done(function(){Cr||ae([S]),pt.remove(S,"fxshow");for(X in cn)A.style(S,X,cn[X])})),Me=Vo(Cr?_r[X]:0,X,Tt),X in _r||(_r[X]=Me.start,Cr&&(Me.end=Me.start,Me.start=0))}}function gr(S,I){var j,X,re,ie,ue;for(j in S)if(X=Mn(j),re=I[X],ie=S[j],Array.isArray(ie)&&(re=ie[1],ie=S[j]=ie[0]),j!==X&&(S[X]=ie,delete S[j]),ue=A.cssHooks[X],ue&&"expand"in ue){ie=ue.expand(ie),delete S[X];for(j in ie)j in S||(S[j]=ie[j],I[j]=re)}else I[X]=re}function Ti(S,I,j){var X,re,ie=0,ue=Ti.prefilters.length,Ge=A.Deferred().always(function(){delete Me.elem}),Me=function(){if(re)return!1;for(var Vt=Oo||vr(),Tt=Math.max(0,st.startTime+st.duration-Vt),cn=Tt/st.duration||0,rr=1-cn,Cr=0,_r=st.tweens.length;Cr<_r;Cr++)st.tweens[Cr].run(rr);return Ge.notifyWith(S,[st,rr,Tt]),rr<1&&_r?Tt:(_r||Ge.notifyWith(S,[st,1,0]),Ge.resolveWith(S,[st]),!1)},st=Ge.promise({elem:S,props:A.extend({},I),opts:A.extend(!0,{specialEasing:{},easing:A.easing._default},j),originalProperties:I,originalOptions:j,startTime:Oo||vr(),duration:j.duration,tweens:[],createTween:function(Vt,Tt){var cn=A.Tween(S,st.opts,Vt,Tt,st.opts.specialEasing[Vt]||st.opts.easing);return st.tweens.push(cn),cn},stop:function(Vt){var Tt=0,cn=Vt?st.tweens.length:0;if(re)return this;for(re=!0;Tt<cn;Tt++)st.tweens[Tt].run(1);return Vt?(Ge.notifyWith(S,[st,1,0]),Ge.resolveWith(S,[st,Vt])):Ge.rejectWith(S,[st,Vt]),this}}),Ot=st.props;for(gr(Ot,st.opts.specialEasing);ie<ue;ie++)if(X=Ti.prefilters[ie].call(st,S,Ot,st.opts),X)return B(X.stop)&&(A._queueHooks(st.elem,st.opts.queue).stop=X.stop.bind(X)),X;return A.map(Ot,Vo,st),B(st.opts.start)&&st.opts.start.call(S,st),st.progress(st.opts.progress).done(st.opts.done,st.opts.complete).fail(st.opts.fail).always(st.opts.always),A.fx.timer(A.extend(Me,{elem:S,anim:st,queue:st.opts.queue})),st}A.Animation=A.extend(Ti,{tweeners:{"*":[function(S,I){var j=this.createTween(S,I);return Hr(j.elem,S,Dn.exec(I),j),j}]},tweener:function(S,I){B(S)?(I=S,S=["*"]):S=S.match(Qt);for(var j,X=0,re=S.length;X<re;X++)j=S[X],Ti.tweeners[j]=Ti.tweeners[j]||[],Ti.tweeners[j].unshift(I)},prefilters:[$a],prefilter:function(S,I){I?Ti.prefilters.unshift(S):Ti.prefilters.push(S)}}),A.speed=function(S,I,j){var X=S&&typeof S=="object"?A.extend({},S):{complete:j||!j&&I||B(S)&&S,duration:S,easing:j&&I||I&&!B(I)&&I};return A.fx.off?X.duration=0:typeof X.duration!="number"&&(X.duration in A.fx.speeds?X.duration=A.fx.speeds[X.duration]:X.duration=A.fx.speeds._default),(X.queue==null||X.queue===!0)&&(X.queue="fx"),X.old=X.complete,X.complete=function(){B(X.old)&&X.old.call(this),X.queue&&A.dequeue(this,X.queue)},X},A.fn.extend({fadeTo:function(S,I,j,X){return this.filter(mi).css("opacity",0).show().end().animate({opacity:I},S,j,X)},animate:function(S,I,j,X){var re=A.isEmptyObject(S),ie=A.speed(I,j,X),ue=function(){var Ge=Ti(this,A.extend({},S),ie);(re||pt.get(this,"finish"))&&Ge.stop(!0)};return ue.finish=ue,re||ie.queue===!1?this.each(ue):this.queue(ie.queue,ue)},stop:function(S,I,j){var X=function(re){var ie=re.stop;delete re.stop,ie(j)};return typeof S!="string"&&(j=I,I=S,S=void 0),I&&this.queue(S||"fx",[]),this.each(function(){var re=!0,ie=S!=null&&S+"queueHooks",ue=A.timers,Ge=pt.get(this);if(ie)Ge[ie]&&Ge[ie].stop&&X(Ge[ie]);else for(ie in Ge)Ge[ie]&&Ge[ie].stop&&gc.test(ie)&&X(Ge[ie]);for(ie=ue.length;ie--;)ue[ie].elem===this&&(S==null||ue[ie].queue===S)&&(ue[ie].anim.stop(j),re=!1,ue.splice(ie,1));(re||!j)&&A.dequeue(this,S)})},finish:function(S){return S!==!1&&(S=S||"fx"),this.each(function(){var I,j=pt.get(this),X=j[S+"queue"],re=j[S+"queueHooks"],ie=A.timers,ue=X?X.length:0;for(j.finish=!0,A.queue(this,S,[]),re&&re.stop&&re.stop.call(this,!0),I=ie.length;I--;)ie[I].elem===this&&ie[I].queue===S&&(ie[I].anim.stop(!0),ie.splice(I,1));for(I=0;I<ue;I++)X[I]&&X[I].finish&&X[I].finish.call(this);delete j.finish})}}),A.each(["toggle","show","hide"],function(S,I){var j=A.fn[I];A.fn[I]=function(X,re,ie){return X==null||typeof X=="boolean"?j.apply(this,arguments):this.animate(ur(I,!0),X,re,ie)}}),A.each({slideDown:ur("show"),slideUp:ur("hide"),slideToggle:ur("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(S,I){A.fn[S]=function(j,X,re){return this.animate(I,j,X,re)}}),A.timers=[],A.fx.tick=function(){var S,I=0,j=A.timers;for(Oo=Date.now();I<j.length;I++)S=j[I],!S()&&j[I]===S&&j.splice(I--,1);j.length||A.fx.stop(),Oo=void 0},A.fx.timer=function(S){A.timers.push(S),A.fx.start()},A.fx.interval=13,A.fx.start=function(){mc||(mc=!0,fn())},A.fx.stop=function(){mc=null},A.fx.speeds={slow:600,fast:200,_default:400},A.fn.delay=function(S,I){return S=A.fx&&A.fx.speeds[S]||S,I=I||"fx",this.queue(I,function(j,X){var re=t.setTimeout(j,S);X.stop=function(){t.clearTimeout(re)}})},function(){var S=U.createElement("input"),I=U.createElement("select"),j=I.appendChild(U.createElement("option"));S.type="checkbox",N.checkOn=S.value!=="",N.optSelected=j.selected,S=U.createElement("input"),S.value="t",S.type="radio",N.radioValue=S.value==="t"}();var _c,Ua=A.expr.attrHandle;A.fn.extend({attr:function(S,I){return Bn(this,A.attr,S,I,arguments.length>1)},removeAttr:function(S){return this.each(function(){A.removeAttr(this,S)})}}),A.extend({attr:function(S,I,j){var X,re,ie=S.nodeType;if(!(ie===3||ie===8||ie===2)){if(typeof S.getAttribute>"u")return A.prop(S,I,j);if((ie!==1||!A.isXMLDoc(S))&&(re=A.attrHooks[I.toLowerCase()]||(A.expr.match.bool.test(I)?_c:void 0)),j!==void 0){if(j===null){A.removeAttr(S,I);return}return re&&"set"in re&&(X=re.set(S,j,I))!==void 0?X:(S.setAttribute(I,j+""),j)}return re&&"get"in re&&(X=re.get(S,I))!==null?X:(X=A.find.attr(S,I),X??void 0)}},attrHooks:{type:{set:function(S,I){if(!N.radioValue&&I==="radio"&&le(S,"input")){var j=S.value;return S.setAttribute("type",I),j&&(S.value=j),I}}}},removeAttr:function(S,I){var j,X=0,re=I&&I.match(Qt);if(re&&S.nodeType===1)for(;j=re[X++];)S.removeAttribute(j)}}),_c={set:function(S,I,j){return I===!1?A.removeAttr(S,j):S.setAttribute(j,j),j}},A.each(A.expr.match.bool.source.match(/\w+/g),function(S,I){var j=Ua[I]||A.find.attr;Ua[I]=function(X,re,ie){var ue,Ge,Me=re.toLowerCase();return ie||(Ge=Ua[Me],Ua[Me]=ue,ue=j(X,re,ie)!=null?Me:null,Ua[Me]=Ge),ue}});var ma=/^(?:input|select|textarea|button)$/i,di=/^(?:a|area)$/i;A.fn.extend({prop:function(S,I){return Bn(this,A.prop,S,I,arguments.length>1)},removeProp:function(S){return this.each(function(){delete this[A.propFix[S]||S]})}}),A.extend({prop:function(S,I,j){var X,re,ie=S.nodeType;if(!(ie===3||ie===8||ie===2))return(ie!==1||!A.isXMLDoc(S))&&(I=A.propFix[I]||I,re=A.propHooks[I]),j!==void 0?re&&"set"in re&&(X=re.set(S,j,I))!==void 0?X:S[I]=j:re&&"get"in re&&(X=re.get(S,I))!==null?X:S[I]},propHooks:{tabIndex:{get:function(S){var I=A.find.attr(S,"tabindex");return I?parseInt(I,10):ma.test(S.nodeName)||di.test(S.nodeName)&&S.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),N.optSelected||(A.propHooks.selected={get:function(S){var I=S.parentNode;return I&&I.parentNode&&I.parentNode.selectedIndex,null},set:function(S){var I=S.parentNode;I&&(I.selectedIndex,I.parentNode&&I.parentNode.selectedIndex)}}),A.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){A.propFix[this.toLowerCase()]=this});function Xs(S){var I=S.match(Qt)||[];return I.join(" ")}function Lo(S){return S.getAttribute&&S.getAttribute("class")||""}function Al(S){return Array.isArray(S)?S:typeof S=="string"?S.match(Qt)||[]:[]}A.fn.extend({addClass:function(S){var I,j,X,re,ie,ue;return B(S)?this.each(function(Ge){A(this).addClass(S.call(this,Ge,Lo(this)))}):(I=Al(S),I.length?this.each(function(){if(X=Lo(this),j=this.nodeType===1&&" "+Xs(X)+" ",j){for(ie=0;ie<I.length;ie++)re=I[ie],j.indexOf(" "+re+" ")<0&&(j+=re+" ");ue=Xs(j),X!==ue&&this.setAttribute("class",ue)}}):this)},removeClass:function(S){var I,j,X,re,ie,ue;return B(S)?this.each(function(Ge){A(this).removeClass(S.call(this,Ge,Lo(this)))}):arguments.length?(I=Al(S),I.length?this.each(function(){if(X=Lo(this),j=this.nodeType===1&&" "+Xs(X)+" ",j){for(ie=0;ie<I.length;ie++)for(re=I[ie];j.indexOf(" "+re+" ")>-1;)j=j.replace(" "+re+" "," ");ue=Xs(j),X!==ue&&this.setAttribute("class",ue)}}):this):this.attr("class","")},toggleClass:function(S,I){var j,X,re,ie,ue=typeof S,Ge=ue==="string"||Array.isArray(S);return B(S)?this.each(function(Me){A(this).toggleClass(S.call(this,Me,Lo(this),I),I)}):typeof I=="boolean"&&Ge?I?this.addClass(S):this.removeClass(S):(j=Al(S),this.each(function(){if(Ge)for(ie=A(this),re=0;re<j.length;re++)X=j[re],ie.hasClass(X)?ie.removeClass(X):ie.addClass(X);else(S===void 0||ue==="boolean")&&(X=Lo(this),X&&pt.set(this,"__className__",X),this.setAttribute&&this.setAttribute("class",X||S===!1?"":pt.get(this,"__className__")||""))}))},hasClass:function(S){var I,j,X=0;for(I=" "+S+" ";j=this[X++];)if(j.nodeType===1&&(" "+Xs(Lo(j))+" ").indexOf(I)>-1)return!0;return!1}});var cu=/\r/g;A.fn.extend({val:function(S){var I,j,X,re=this[0];return arguments.length?(X=B(S),this.each(function(ie){var ue;this.nodeType===1&&(X?ue=S.call(this,ie,A(this).val()):ue=S,ue==null?ue="":typeof ue=="number"?ue+="":Array.isArray(ue)&&(ue=A.map(ue,function(Ge){return Ge==null?"":Ge+""})),I=A.valHooks[this.type]||A.valHooks[this.nodeName.toLowerCase()],(!I||!("set"in I)||I.set(this,ue,"value")===void 0)&&(this.value=ue))})):re?(I=A.valHooks[re.type]||A.valHooks[re.nodeName.toLowerCase()],I&&"get"in I&&(j=I.get(re,"value"))!==void 0?j:(j=re.value,typeof j=="string"?j.replace(cu,""):j??"")):void 0}}),A.extend({valHooks:{option:{get:function(S){var I=A.find.attr(S,"value");return I??Xs(A.text(S))}},select:{get:function(S){var I,j,X,re=S.options,ie=S.selectedIndex,ue=S.type==="select-one",Ge=ue?null:[],Me=ue?ie+1:re.length;for(ie<0?X=Me:X=ue?ie:0;X<Me;X++)if(j=re[X],(j.selected||X===ie)&&!j.disabled&&(!j.parentNode.disabled||!le(j.parentNode,"optgroup"))){if(I=A(j).val(),ue)return I;Ge.push(I)}return Ge},set:function(S,I){for(var j,X,re=S.options,ie=A.makeArray(I),ue=re.length;ue--;)X=re[ue],(X.selected=A.inArray(A.valHooks.option.get(X),ie)>-1)&&(j=!0);return j||(S.selectedIndex=-1),ie}}}}),A.each(["radio","checkbox"],function(){A.valHooks[this]={set:function(S,I){if(Array.isArray(I))return S.checked=A.inArray(A(S).val(),I)>-1}},N.checkOn||(A.valHooks[this].get=function(S){return S.getAttribute("value")===null?"on":S.value})});var Ml=t.location,Th={guid:Date.now()},Dl=/\?/;A.parseXML=function(S){var I,j;if(!S||typeof S!="string")return null;try{I=new t.DOMParser().parseFromString(S,"text/xml")}catch{}return j=I&&I.getElementsByTagName("parsererror")[0],(!I||j)&&A.error("Invalid XML: "+(j?A.map(j.childNodes,function(X){return X.textContent}).join(`
`):S)),I};var yc=/^(?:focusinfocus|focusoutblur)$/,uu=function(S){S.stopPropagation()};A.extend(A.event,{trigger:function(S,I,j,X){var re,ie,ue,Ge,Me,st,Ot,Vt,Tt=[j||U],cn=M.call(S,"type")?S.type:S,rr=M.call(S,"namespace")?S.namespace.split("."):[];if(ie=Vt=ue=j=j||U,!(j.nodeType===3||j.nodeType===8)&&!yc.test(cn+A.event.triggered)&&(cn.indexOf(".")>-1&&(rr=cn.split("."),cn=rr.shift(),rr.sort()),Me=cn.indexOf(":")<0&&"on"+cn,S=S[A.expando]?S:new A.Event(cn,typeof S=="object"&&S),S.isTrigger=X?2:3,S.namespace=rr.join("."),S.rnamespace=S.namespace?new RegExp("(^|\\.)"+rr.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,S.result=void 0,S.target||(S.target=j),I=I==null?[S]:A.makeArray(I,[S]),Ot=A.event.special[cn]||{},!(!X&&Ot.trigger&&Ot.trigger.apply(j,I)===!1))){if(!X&&!Ot.noBubble&&!J(j)){for(Ge=Ot.delegateType||cn,yc.test(Ge+cn)||(ie=ie.parentNode);ie;ie=ie.parentNode)Tt.push(ie),ue=ie;ue===(j.ownerDocument||U)&&Tt.push(ue.defaultView||ue.parentWindow||t)}for(re=0;(ie=Tt[re++])&&!S.isPropagationStopped();)Vt=ie,S.type=re>1?Ge:Ot.bindType||cn,st=(pt.get(ie,"events")||Object.create(null))[S.type]&&pt.get(ie,"handle"),st&&st.apply(ie,I),st=Me&&ie[Me],st&&st.apply&&jn(ie)&&(S.result=st.apply(ie,I),S.result===!1&&S.preventDefault());return S.type=cn,!X&&!S.isDefaultPrevented()&&(!Ot._default||Ot._default.apply(Tt.pop(),I)===!1)&&jn(j)&&Me&&B(j[cn])&&!J(j)&&(ue=j[Me],ue&&(j[Me]=null),A.event.triggered=cn,S.isPropagationStopped()&&Vt.addEventListener(cn,uu),j[cn](),S.isPropagationStopped()&&Vt.removeEventListener(cn,uu),A.event.triggered=void 0,ue&&(j[Me]=ue)),S.result}},simulate:function(S,I,j){var X=A.extend(new A.Event,j,{type:S,isSimulated:!0});A.event.trigger(X,null,I)}}),A.fn.extend({trigger:function(S,I){return this.each(function(){A.event.trigger(S,I,this)})},triggerHandler:function(S,I){var j=this[0];if(j)return A.event.trigger(S,I,j,!0)}});var vc=/\[\]$/,zo=/\r?\n/g,Mi=/^(?:submit|button|image|reset|file)$/i,Ch=/^(?:input|select|textarea|keygen)/i;function du(S,I,j,X){var re;if(Array.isArray(I))A.each(I,function(ie,ue){j||vc.test(S)?X(S,ue):du(S+"["+(typeof ue=="object"&&ue!=null?ie:"")+"]",ue,j,X)});else if(!j&&Q(I)==="object")for(re in I)du(S+"["+re+"]",I[re],j,X);else X(S,I)}A.param=function(S,I){var j,X=[],re=function(ie,ue){var Ge=B(ue)?ue():ue;X[X.length]=encodeURIComponent(ie)+"="+encodeURIComponent(Ge??"")};if(S==null)return"";if(Array.isArray(S)||S.jquery&&!A.isPlainObject(S))A.each(S,function(){re(this.name,this.value)});else for(j in S)du(j,S[j],I,re);return X.join("&")},A.fn.extend({serialize:function(){return A.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var S=A.prop(this,"elements");return S?A.makeArray(S):this}).filter(function(){var S=this.type;return this.name&&!A(this).is(":disabled")&&Ch.test(this.nodeName)&&!Mi.test(S)&&(this.checked||!xe.test(S))}).map(function(S,I){var j=A(this).val();return j==null?null:Array.isArray(j)?A.map(j,function(X){return{name:I.name,value:X.replace(zo,`\r
`)}}):{name:I.name,value:j.replace(zo,`\r
`)}}).get()}});var Wo=/%20/g,ga=/#.*$/,Zp=/([?&])_=[^&]*/,hu=/^(.*?):[ \t]*([^\r\n]*)$/mg,Ci=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,pu=/^(?:GET|HEAD)$/,kh=/^\/\//,Ks={},Zi={},ad="*/".concat("*"),fu=U.createElement("a");fu.href=Ml.href;function es(S){return function(I,j){typeof I!="string"&&(j=I,I="*");var X,re=0,ie=I.toLowerCase().match(Qt)||[];if(B(j))for(;X=ie[re++];)X[0]==="+"?(X=X.slice(1)||"*",(S[X]=S[X]||[]).unshift(j)):(S[X]=S[X]||[]).push(j)}}function ws(S,I,j,X){var re={},ie=S===Zi;function ue(Ge){var Me;return re[Ge]=!0,A.each(S[Ge]||[],function(st,Ot){var Vt=Ot(I,j,X);if(typeof Vt=="string"&&!ie&&!re[Vt])return I.dataTypes.unshift(Vt),ue(Vt),!1;if(ie)return!(Me=Vt)}),Me}return ue(I.dataTypes[0])||!re["*"]&&ue("*")}function xc(S,I){var j,X,re=A.ajaxSettings.flatOptions||{};for(j in I)I[j]!==void 0&&((re[j]?S:X||(X={}))[j]=I[j]);return X&&A.extend(!0,S,X),S}function g1(S,I,j){for(var X,re,ie,ue,Ge=S.contents,Me=S.dataTypes;Me[0]==="*";)Me.shift(),X===void 0&&(X=S.mimeType||I.getResponseHeader("Content-Type"));if(X){for(re in Ge)if(Ge[re]&&Ge[re].test(X)){Me.unshift(re);break}}if(Me[0]in j)ie=Me[0];else{for(re in j){if(!Me[0]||S.converters[re+" "+Me[0]]){ie=re;break}ue||(ue=re)}ie=ie||ue}if(ie)return ie!==Me[0]&&Me.unshift(ie),j[ie]}function Ph(S,I,j,X){var re,ie,ue,Ge,Me,st={},Ot=S.dataTypes.slice();if(Ot[1])for(ue in S.converters)st[ue.toLowerCase()]=S.converters[ue];for(ie=Ot.shift();ie;)if(S.responseFields[ie]&&(j[S.responseFields[ie]]=I),!Me&&X&&S.dataFilter&&(I=S.dataFilter(I,S.dataType)),Me=ie,ie=Ot.shift(),ie){if(ie==="*")ie=Me;else if(Me!=="*"&&Me!==ie){if(ue=st[Me+" "+ie]||st["* "+ie],!ue){for(re in st)if(Ge=re.split(" "),Ge[1]===ie&&(ue=st[Me+" "+Ge[0]]||st["* "+Ge[0]],ue)){ue===!0?ue=st[re]:st[re]!==!0&&(ie=Ge[0],Ot.unshift(Ge[1]));break}}if(ue!==!0)if(ue&&S.throws)I=ue(I);else try{I=ue(I)}catch(Vt){return{state:"parsererror",error:ue?Vt:"No conversion from "+Me+" to "+ie}}}}return{state:"success",data:I}}A.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ml.href,type:"GET",isLocal:Ci.test(Ml.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ad,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":A.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(S,I){return I?xc(xc(S,A.ajaxSettings),I):xc(A.ajaxSettings,S)},ajaxPrefilter:es(Ks),ajaxTransport:es(Zi),ajax:function(S,I){typeof S=="object"&&(I=S,S=void 0),I=I||{};var j,X,re,ie,ue,Ge,Me,st,Ot,Vt,Tt=A.ajaxSetup({},I),cn=Tt.context||Tt,rr=Tt.context&&(cn.nodeType||cn.jquery)?A(cn):A.event,Cr=A.Deferred(),_r=A.Callbacks("once memory"),Di=Tt.statusCode||{},ri={},Eo={},ia="canceled",kr={readyState:0,getResponseHeader:function(Dr){var wi;if(Me){if(!ie)for(ie={};wi=hu.exec(re);)ie[wi[1].toLowerCase()+" "]=(ie[wi[1].toLowerCase()+" "]||[]).concat(wi[2]);wi=ie[Dr.toLowerCase()+" "]}return wi==null?null:wi.join(", ")},getAllResponseHeaders:function(){return Me?re:null},setRequestHeader:function(Dr,wi){return Me==null&&(Dr=Eo[Dr.toLowerCase()]=Eo[Dr.toLowerCase()]||Dr,ri[Dr]=wi),this},overrideMimeType:function(Dr){return Me==null&&(Tt.mimeType=Dr),this},statusCode:function(Dr){var wi;if(Dr)if(Me)kr.always(Dr[kr.status]);else for(wi in Dr)Di[wi]=[Di[wi],Dr[wi]];return this},abort:function(Dr){var wi=Dr||ia;return j&&j.abort(wi),Va(0,wi),this}};if(Cr.promise(kr),Tt.url=((S||Tt.url||Ml.href)+"").replace(kh,Ml.protocol+"//"),Tt.type=I.method||I.type||Tt.method||Tt.type,Tt.dataTypes=(Tt.dataType||"*").toLowerCase().match(Qt)||[""],Tt.crossDomain==null){Ge=U.createElement("a");try{Ge.href=Tt.url,Ge.href=Ge.href,Tt.crossDomain=fu.protocol+"//"+fu.host!=Ge.protocol+"//"+Ge.host}catch{Tt.crossDomain=!0}}if(Tt.data&&Tt.processData&&typeof Tt.data!="string"&&(Tt.data=A.param(Tt.data,Tt.traditional)),ws(Ks,Tt,I,kr),Me)return kr;st=A.event&&Tt.global,st&&A.active++===0&&A.event.trigger("ajaxStart"),Tt.type=Tt.type.toUpperCase(),Tt.hasContent=!pu.test(Tt.type),X=Tt.url.replace(ga,""),Tt.hasContent?Tt.data&&Tt.processData&&(Tt.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Tt.data=Tt.data.replace(Wo,"+")):(Vt=Tt.url.slice(X.length),Tt.data&&(Tt.processData||typeof Tt.data=="string")&&(X+=(Dl.test(X)?"&":"?")+Tt.data,delete Tt.data),Tt.cache===!1&&(X=X.replace(Zp,"$1"),Vt=(Dl.test(X)?"&":"?")+"_="+Th.guid+++Vt),Tt.url=X+Vt),Tt.ifModified&&(A.lastModified[X]&&kr.setRequestHeader("If-Modified-Since",A.lastModified[X]),A.etag[X]&&kr.setRequestHeader("If-None-Match",A.etag[X])),(Tt.data&&Tt.hasContent&&Tt.contentType!==!1||I.contentType)&&kr.setRequestHeader("Content-Type",Tt.contentType),kr.setRequestHeader("Accept",Tt.dataTypes[0]&&Tt.accepts[Tt.dataTypes[0]]?Tt.accepts[Tt.dataTypes[0]]+(Tt.dataTypes[0]!=="*"?", "+ad+"; q=0.01":""):Tt.accepts["*"]);for(Ot in Tt.headers)kr.setRequestHeader(Ot,Tt.headers[Ot]);if(Tt.beforeSend&&(Tt.beforeSend.call(cn,kr,Tt)===!1||Me))return kr.abort();if(ia="abort",_r.add(Tt.complete),kr.done(Tt.success),kr.fail(Tt.error),j=ws(Zi,Tt,I,kr),!j)Va(-1,"No Transport");else{if(kr.readyState=1,st&&rr.trigger("ajaxSend",[kr,Tt]),Me)return kr;Tt.async&&Tt.timeout>0&&(ue=t.setTimeout(function(){kr.abort("timeout")},Tt.timeout));try{Me=!1,j.send(ri,Va)}catch(Dr){if(Me)throw Dr;Va(-1,Dr)}}function Va(Dr,wi,Ys,wc){var _a,Sr,qo,Cs,ts,oa=wi;Me||(Me=!0,ue&&t.clearTimeout(ue),j=void 0,re=wc||"",kr.readyState=Dr>0?4:0,_a=Dr>=200&&Dr<300||Dr===304,Ys&&(Cs=g1(Tt,kr,Ys)),!_a&&A.inArray("script",Tt.dataTypes)>-1&&A.inArray("json",Tt.dataTypes)<0&&(Tt.converters["text script"]=function(){}),Cs=Ph(Tt,Cs,kr,_a),_a?(Tt.ifModified&&(ts=kr.getResponseHeader("Last-Modified"),ts&&(A.lastModified[X]=ts),ts=kr.getResponseHeader("etag"),ts&&(A.etag[X]=ts)),Dr===204||Tt.type==="HEAD"?oa="nocontent":Dr===304?oa="notmodified":(oa=Cs.state,Sr=Cs.data,qo=Cs.error,_a=!qo)):(qo=oa,(Dr||!oa)&&(oa="error",Dr<0&&(Dr=0))),kr.status=Dr,kr.statusText=(wi||oa)+"",_a?Cr.resolveWith(cn,[Sr,oa,kr]):Cr.rejectWith(cn,[kr,oa,qo]),kr.statusCode(Di),Di=void 0,st&&rr.trigger(_a?"ajaxSuccess":"ajaxError",[kr,Tt,_a?Sr:qo]),_r.fireWith(cn,[kr,oa]),st&&(rr.trigger("ajaxComplete",[kr,Tt]),--A.active||A.event.trigger("ajaxStop")))}return kr},getJSON:function(S,I,j){return A.get(S,I,j,"json")},getScript:function(S,I){return A.get(S,void 0,I,"script")}}),A.each(["get","post"],function(S,I){A[I]=function(j,X,re,ie){return B(X)&&(ie=ie||re,re=X,X=void 0),A.ajax(A.extend({url:j,type:I,dataType:ie,data:X,success:re},A.isPlainObject(j)&&j))}}),A.ajaxPrefilter(function(S){var I;for(I in S.headers)I.toLowerCase()==="content-type"&&(S.contentType=S.headers[I]||"")}),A._evalUrl=function(S,I,j){return A.ajax({url:S,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(X){A.globalEval(X,I,j)}})},A.fn.extend({wrapAll:function(S){var I;return this[0]&&(B(S)&&(S=S.call(this[0])),I=A(S,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&I.insertBefore(this[0]),I.map(function(){for(var j=this;j.firstElementChild;)j=j.firstElementChild;return j}).append(this)),this},wrapInner:function(S){return B(S)?this.each(function(I){A(this).wrapInner(S.call(this,I))}):this.each(function(){var I=A(this),j=I.contents();j.length?j.wrapAll(S):I.append(S)})},wrap:function(S){var I=B(S);return this.each(function(j){A(this).wrapAll(I?S.call(this,j):S)})},unwrap:function(S){return this.parent(S).not("body").each(function(){A(this).replaceWith(this.childNodes)}),this}}),A.expr.pseudos.hidden=function(S){return!A.expr.pseudos.visible(S)},A.expr.pseudos.visible=function(S){return!!(S.offsetWidth||S.offsetHeight||S.getClientRects().length)},A.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var bc={0:200,1223:204},Ho=A.ajaxSettings.xhr();N.cors=!!Ho&&"withCredentials"in Ho,N.ajax=Ho=!!Ho,A.ajaxTransport(function(S){var I,j;if(N.cors||Ho&&!S.crossDomain)return{send:function(X,re){var ie,ue=S.xhr();if(ue.open(S.type,S.url,S.async,S.username,S.password),S.xhrFields)for(ie in S.xhrFields)ue[ie]=S.xhrFields[ie];S.mimeType&&ue.overrideMimeType&&ue.overrideMimeType(S.mimeType),!S.crossDomain&&!X["X-Requested-With"]&&(X["X-Requested-With"]="XMLHttpRequest");for(ie in X)ue.setRequestHeader(ie,X[ie]);I=function(Ge){return function(){I&&(I=j=ue.onload=ue.onerror=ue.onabort=ue.ontimeout=ue.onreadystatechange=null,Ge==="abort"?ue.abort():Ge==="error"?typeof ue.status!="number"?re(0,"error"):re(ue.status,ue.statusText):re(bc[ue.status]||ue.status,ue.statusText,(ue.responseType||"text")!=="text"||typeof ue.responseText!="string"?{binary:ue.response}:{text:ue.responseText},ue.getAllResponseHeaders()))}},ue.onload=I(),j=ue.onerror=ue.ontimeout=I("error"),ue.onabort!==void 0?ue.onabort=j:ue.onreadystatechange=function(){ue.readyState===4&&t.setTimeout(function(){I&&j()})},I=I("abort");try{ue.send(S.hasContent&&S.data||null)}catch(Ge){if(I)throw Ge}},abort:function(){I&&I()}}}),A.ajaxPrefilter(function(S){S.crossDomain&&(S.contents.script=!1)}),A.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(S){return A.globalEval(S),S}}}),A.ajaxPrefilter("script",function(S){S.cache===void 0&&(S.cache=!1),S.crossDomain&&(S.type="GET")}),A.ajaxTransport("script",function(S){if(S.crossDomain||S.scriptAttrs){var I,j;return{send:function(X,re){I=A("<script>").attr(S.scriptAttrs||{}).prop({charset:S.scriptCharset,src:S.url}).on("load error",j=function(ie){I.remove(),j=null,ie&&re(ie.type==="error"?404:200,ie.type)}),U.head.appendChild(I[0])},abort:function(){j&&j()}}}});var sd=[],Es=/(=)\?(?=&|$)|\?\?/;A.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var S=sd.pop()||A.expando+"_"+Th.guid++;return this[S]=!0,S}}),A.ajaxPrefilter("json jsonp",function(S,I,j){var X,re,ie,ue=S.jsonp!==!1&&(Es.test(S.url)?"url":typeof S.data=="string"&&(S.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Es.test(S.data)&&"data");if(ue||S.dataTypes[0]==="jsonp")return X=S.jsonpCallback=B(S.jsonpCallback)?S.jsonpCallback():S.jsonpCallback,ue?S[ue]=S[ue].replace(Es,"$1"+X):S.jsonp!==!1&&(S.url+=(Dl.test(S.url)?"&":"?")+S.jsonp+"="+X),S.converters["script json"]=function(){return ie||A.error(X+" was not called"),ie[0]},S.dataTypes[0]="json",re=t[X],t[X]=function(){ie=arguments},j.always(function(){re===void 0?A(t).removeProp(X):t[X]=re,S[X]&&(S.jsonpCallback=I.jsonpCallback,sd.push(X)),ie&&B(re)&&re(ie[0]),ie=re=void 0}),"script"}),N.createHTMLDocument=function(){var S=U.implementation.createHTMLDocument("").body;return S.innerHTML="<form></form><form></form>",S.childNodes.length===2}(),A.parseHTML=function(S,I,j){if(typeof S!="string")return[];typeof I=="boolean"&&(j=I,I=!1);var X,re,ie;return I||(N.createHTMLDocument?(I=U.implementation.createHTMLDocument(""),X=I.createElement("base"),X.href=U.location.href,I.head.appendChild(X)):I=U),re=ot.exec(S),ie=!j&&[],re?[I.createElement(re[1])]:(re=Je([S],I,ie),ie&&ie.length&&A(ie).remove(),A.merge([],re.childNodes))},A.fn.load=function(S,I,j){var X,re,ie,ue=this,Ge=S.indexOf(" ");return Ge>-1&&(X=Xs(S.slice(Ge)),S=S.slice(0,Ge)),B(I)?(j=I,I=void 0):I&&typeof I=="object"&&(re="POST"),ue.length>0&&A.ajax({url:S,type:re||"GET",dataType:"html",data:I}).done(function(Me){ie=arguments,ue.html(X?A("<div>").append(A.parseHTML(Me)).find(X):Me)}).always(j&&function(Me,st){ue.each(function(){j.apply(this,ie||[Me.responseText,st,Me])})}),this},A.expr.pseudos.animated=function(S){return A.grep(A.timers,function(I){return S===I.elem}).length},A.offset={setOffset:function(S,I,j){var X,re,ie,ue,Ge,Me,st,Ot=A.css(S,"position"),Vt=A(S),Tt={};Ot==="static"&&(S.style.position="relative"),Ge=Vt.offset(),ie=A.css(S,"top"),Me=A.css(S,"left"),st=(Ot==="absolute"||Ot==="fixed")&&(ie+Me).indexOf("auto")>-1,st?(X=Vt.position(),ue=X.top,re=X.left):(ue=parseFloat(ie)||0,re=parseFloat(Me)||0),B(I)&&(I=I.call(S,j,A.extend({},Ge))),I.top!=null&&(Tt.top=I.top-Ge.top+ue),I.left!=null&&(Tt.left=I.left-Ge.left+re),"using"in I?I.using.call(S,Tt):Vt.css(Tt)}},A.fn.extend({offset:function(S){if(arguments.length)return S===void 0?this:this.each(function(re){A.offset.setOffset(this,S,re)});var I,j,X=this[0];if(X)return X.getClientRects().length?(I=X.getBoundingClientRect(),j=X.ownerDocument.defaultView,{top:I.top+j.pageYOffset,left:I.left+j.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var S,I,j,X=this[0],re={top:0,left:0};if(A.css(X,"position")==="fixed")I=X.getBoundingClientRect();else{for(I=this.offset(),j=X.ownerDocument,S=X.offsetParent||j.documentElement;S&&(S===j.body||S===j.documentElement)&&A.css(S,"position")==="static";)S=S.parentNode;S&&S!==X&&S.nodeType===1&&(re=A(S).offset(),re.top+=A.css(S,"borderTopWidth",!0),re.left+=A.css(S,"borderLeftWidth",!0))}return{top:I.top-re.top-A.css(X,"marginTop",!0),left:I.left-re.left-A.css(X,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var S=this.offsetParent;S&&A.css(S,"position")==="static";)S=S.offsetParent;return S||er})}}),A.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(S,I){var j=I==="pageYOffset";A.fn[S]=function(X){return Bn(this,function(re,ie,ue){var Ge;if(J(re)?Ge=re:re.nodeType===9&&(Ge=re.defaultView),ue===void 0)return Ge?Ge[I]:re[ie];Ge?Ge.scrollTo(j?Ge.pageXOffset:ue,j?ue:Ge.pageYOffset):re[ie]=ue},S,X,arguments.length)}}),A.each(["top","left"],function(S,I){A.cssHooks[I]=ra(N.pixelPosition,function(j,X){if(X)return X=yo(j,I),fr.test(X)?A(j).position()[I]+"px":X})}),A.each({Height:"height",Width:"width"},function(S,I){A.each({padding:"inner"+S,content:I,"":"outer"+S},function(j,X){A.fn[X]=function(re,ie){var ue=arguments.length&&(j||typeof re!="boolean"),Ge=j||(re===!0||ie===!0?"margin":"border");return Bn(this,function(Me,st,Ot){var Vt;return J(Me)?X.indexOf("outer")===0?Me["inner"+S]:Me.document.documentElement["client"+S]:Me.nodeType===9?(Vt=Me.documentElement,Math.max(Me.body["scroll"+S],Vt["scroll"+S],Me.body["offset"+S],Vt["offset"+S],Vt["client"+S])):Ot===void 0?A.css(Me,st,Ge):A.style(Me,st,Ot,Ge)},I,ue?re:void 0,ue)}})}),A.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(S,I){A.fn[I]=function(j){return this.on(I,j)}}),A.fn.extend({bind:function(S,I,j){return this.on(S,null,I,j)},unbind:function(S,I){return this.off(S,null,I)},delegate:function(S,I,j,X){return this.on(I,S,j,X)},undelegate:function(S,I,j){return arguments.length===1?this.off(S,"**"):this.off(I,S||"**",j)},hover:function(S,I){return this.mouseenter(S).mouseleave(I||S)}}),A.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(S,I){A.fn[I]=function(j,X){return arguments.length>0?this.on(I,null,j,X):this.trigger(I)}});var Ss=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;A.proxy=function(S,I){var j,X,re;if(typeof I=="string"&&(j=S[I],I=S,S=j),!!B(S))return X=u.call(arguments,2),re=function(){return S.apply(I||this,X.concat(u.call(arguments)))},re.guid=S.guid=S.guid||A.guid++,re},A.holdReady=function(S){S?A.readyWait++:A.ready(!0)},A.isArray=Array.isArray,A.parseJSON=JSON.parse,A.nodeName=le,A.isFunction=B,A.isWindow=J,A.camelCase=Mn,A.type=Q,A.now=Date.now,A.isNumeric=function(S){var I=A.type(S);return(I==="number"||I==="string")&&!isNaN(S-parseFloat(S))},A.trim=function(S){return S==null?"":(S+"").replace(Ss,"$1")};var mu=t.jQuery,Ts=t.$;return A.noConflict=function(S){return t.$===A&&(t.$=Ts),S&&t.jQuery===A&&(t.jQuery=mu),A},typeof n>"u"&&(t.jQuery=t.$=A),A})})(jN);var b1e=jN.exports;const Uf=Np(b1e);function Ou(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $N(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}/*!
 * GSAP 3.12.2
 * https://greensock.com
 *
 * @license Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var $0={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},U0={duration:.5,overwrite:!1,delay:0},OE,Oa,po,ml=1e8,Ai=1/ml,T8=Math.PI*2,w1e=T8/4,E1e=0,UN=Math.sqrt,S1e=Math.cos,T1e=Math.sin,Na=function(t){return typeof t=="string"},fo=function(t){return typeof t=="function"},Ku=function(t){return typeof t=="number"},VN=function(t){return typeof t>"u"},ou=function(t){return typeof t=="object"},vs=function(t){return t!==!1},LE=function(){return typeof window<"u"},Bv=function(t){return fo(t)||Na(t)},WN=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},La=Array.isArray,C8=/(?:-?\.?\d|\.)+/gi,C1e=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,HN=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,y4=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,k1e=/[+-]=-?[.\d]+/,qN=/[^,'"\[\]\s]+/gi,P1e=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,io,cl,k8,zE,Hs={},Cx={},GN,ZN=function(t){return(Cx=zp(t,Hs))&&Fp},XN=function(t,n){return console.warn("Invalid property",t,"set to",n,"Missing plugin? gsap.registerPlugin()")},kx=function(t,n){return!n&&console.warn(t)},KN=function(t,n){return t&&(Hs[t]=n)&&Cx&&(Cx[t]=n)||Hs},c_=function(){return 0},I1e={suppressEvents:!0,isStart:!0,kill:!1},p2={suppressEvents:!0,kill:!1},A1e={suppressEvents:!0},FE={},ah=[],P8={},YN,dl={},v4={},tM=30,f2=[],NE="",BE=function(t){var n=t[0],i,o;if(ou(n)||fo(n)||(t=[t]),!(i=(n._gsap||{}).harness)){for(o=f2.length;o--&&!f2[o].targetTest(n););i=f2[o]}for(o=t.length;o--;)t[o]&&(t[o]._gsap||(t[o]._gsap=new rme(t[o],i)))||t.splice(o,1);return t},pg=function(t){return t._gsap||BE(gl(t))[0]._gsap},M1e=function(t,n,i){return(i=t[n])&&fo(i)?t[n]():VN(i)&&t.getAttribute&&t.getAttribute(n)||i},od=function(t,n){return(t=t.split(",")).forEach(n)||t},D1e=function(t){return Math.round(t*1e5)/1e5||0},da=function(t){return Math.round(t*1e7)/1e7||0},JN=function(t,n){var i=n.charAt(0),o=parseFloat(n.substr(2));return t=parseFloat(t),i==="+"?t+o:i==="-"?t-o:i==="*"?t*o:t/o},R1e=function(t,n){for(var i=n.length,o=0;t.indexOf(n[o])<0&&++o<i;);return o<i},Px=function(){var t=ah.length,n=ah.slice(0),i,o;for(P8={},ah.length=0,i=0;i<t;i++)o=n[i],o&&o._lazy&&(o.render(o._lazy[0],o._lazy[1],!0)._lazy=0)},QN=function(t,n,i,o){ah.length&&!Oa&&Px(),t.render(n,i,o||Oa&&n<0&&(t._initted||t._startAt)),ah.length&&!Oa&&Px()},eB=function(t){var n=parseFloat(t);return(n||n===0)&&(t+"").match(qN).length<2?n:Na(t)?t.trim():t},tB=function(t){return t},Cl=function(t,n){for(var i in n)i in t||(t[i]=n[i]);return t},O1e=function(t){return function(n,i){for(var o in i)o in n||o==="duration"&&t||o==="ease"||(n[o]=i[o])}},zp=function(t,n){for(var i in n)t[i]=n[i];return t},nM=function e(t,n){for(var i in n)i!=="__proto__"&&i!=="constructor"&&i!=="prototype"&&(t[i]=ou(n[i])?e(t[i]||(t[i]={}),n[i]):n[i]);return t},Ix=function(t,n){var i={},o;for(o in t)o in n||(i[o]=t[o]);return i},fg=function(t){var n=t.parent||io,i=t.keyframes?O1e(La(t.keyframes)):Cl;if(vs(t.inherit))for(;n;)i(t,n.vars.defaults),n=n.parent||n._dp;return t},L1e=function(t,n){for(var i=t.length,o=i===n.length;o&&i--&&t[i]===n[i];);return i<0},nB=function(t,n,i,o,u){i===void 0&&(i="_first"),o===void 0&&(o="_last");var f=t[o],a;if(u)for(a=n[u];f&&f[u]>a;)f=f._prev;return f?(n._next=f._next,f._next=n):(n._next=t[i],t[i]=n),n._next?n._next._prev=n:t[o]=n,n._prev=f,n.parent=n._dp=t,n},f3=function(t,n,i,o){i===void 0&&(i="_first"),o===void 0&&(o="_last");var u=n._prev,f=n._next;u?u._next=f:t[i]===n&&(t[i]=f),f?f._prev=u:t[o]===n&&(t[o]=u),n._next=n._prev=n.parent=null},ph=function(t,n){t.parent&&(!n||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},yp=function(t,n){if(t&&(!n||n._end>t._dur||n._start<0))for(var i=t;i;)i._dirty=1,i=i.parent;return t},z1e=function(t){for(var n=t.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return t},I8=function(t,n,i,o){return t._startAt&&(Oa?t._startAt.revert(p2):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(n,!0,o))},F1e=function e(t){return!t||t._ts&&e(t.parent)},rM=function(t){return t._repeat?V0(t._tTime,t=t.duration()+t._rDelay)*t:0},V0=function(t,n){var i=Math.floor(t/=n);return t&&i===t?i-1:i},Ax=function(t,n){return(t-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},m3=function(t){return t._end=da(t._start+(t._tDur/Math.abs(t._ts||t._rts||Ai)||0))},g3=function(t,n){var i=t._dp;return i&&i.smoothChildTiming&&t._ts&&(t._start=da(i._time-(t._ts>0?n/t._ts:((t._dirty?t.totalDuration():t._tDur)-n)/-t._ts)),m3(t),i._dirty||yp(i,t)),t},rB=function(t,n){var i;if((n._time||!n._dur&&n._initted||n._start<t._time&&(n._dur||!n.add))&&(i=Ax(t.rawTime(),n),(!n._dur||q_(0,n.totalDuration(),i)-n._tTime>Ai)&&n.render(i,!0)),yp(t,n)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(i=t;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;t._zTime=-Ai}},qc=function(t,n,i,o){return n.parent&&ph(n),n._start=da((Ku(i)?i:i||t!==io?ll(t,i,n):t._time)+n._delay),n._end=da(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),nB(t,n,"_first","_last",t._sort?"_start":0),A8(n)||(t._recent=n),o||rB(t,n),t._ts<0&&g3(t,t._tTime),t},iB=function(t,n){return(Hs.ScrollTrigger||XN("scrollTrigger",n))&&Hs.ScrollTrigger.create(n,t)},oB=function(t,n,i,o,u){if(UE(t,n,u),!t._initted)return 1;if(!i&&t._pt&&!Oa&&(t._dur&&t.vars.lazy!==!1||!t._dur&&t.vars.lazy)&&YN!==rc.frame)return ah.push(t),t._lazy=[u,o],1},N1e=function e(t){var n=t.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||e(n))},A8=function(t){var n=t.data;return n==="isFromStart"||n==="isStart"},B1e=function(t,n,i,o){var u=t.ratio,f=n<0||!n&&(!t._start&&N1e(t)&&!(!t._initted&&A8(t))||(t._ts<0||t._dp._ts<0)&&!A8(t))?0:1,a=t._rDelay,y=0,w,k,M;if(a&&t._repeat&&(y=q_(0,t._tDur,n),k=V0(y,a),t._yoyo&&k&1&&(f=1-f),k!==V0(t._tTime,a)&&(u=1-f,t.vars.repeatRefresh&&t._initted&&t.invalidate())),f!==u||Oa||o||t._zTime===Ai||!n&&t._zTime){if(!t._initted&&oB(t,n,o,i,y))return;for(M=t._zTime,t._zTime=n||(i?Ai:0),i||(i=n&&!M),t.ratio=f,t._from&&(f=1-f),t._time=0,t._tTime=y,w=t._pt;w;)w.r(f,w.d),w=w._next;n<0&&I8(t,n,i,!0),t._onUpdate&&!i&&_l(t,"onUpdate"),y&&t._repeat&&!i&&t.parent&&_l(t,"onRepeat"),(n>=t._tDur||n<0)&&t.ratio===f&&(f&&ph(t,1),!i&&!Oa&&(_l(t,f?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=n)},j1e=function(t,n,i){var o;if(i>n)for(o=t._first;o&&o._start<=i;){if(o.data==="isPause"&&o._start>n)return o;o=o._next}else for(o=t._last;o&&o._start>=i;){if(o.data==="isPause"&&o._start<n)return o;o=o._prev}},W0=function(t,n,i,o){var u=t._repeat,f=da(n)||0,a=t._tTime/t._tDur;return a&&!o&&(t._time*=f/t._dur),t._dur=f,t._tDur=u?u<0?1e10:da(f*(u+1)+t._rDelay*u):f,a>0&&!o&&g3(t,t._tTime=t._tDur*a),t.parent&&m3(t),i||yp(t.parent,t),t},iM=function(t){return t instanceof jo?yp(t):W0(t,t._dur)},$1e={_start:0,endTime:c_,totalDuration:c_},ll=function e(t,n,i){var o=t.labels,u=t._recent||$1e,f=t.duration()>=ml?u.endTime(!1):t._dur,a,y,w;return Na(n)&&(isNaN(n)||n in o)?(y=n.charAt(0),w=n.substr(-1)==="%",a=n.indexOf("="),y==="<"||y===">"?(a>=0&&(n=n.replace(/=/,"")),(y==="<"?u._start:u.endTime(u._repeat>=0))+(parseFloat(n.substr(1))||0)*(w?(a<0?u:i).totalDuration()/100:1)):a<0?(n in o||(o[n]=f),o[n]):(y=parseFloat(n.charAt(a-1)+n.substr(a+1)),w&&i&&(y=y/100*(La(i)?i[0]:i).totalDuration()),a>1?e(t,n.substr(0,a-1),i)+y:f+y)):n==null?f:+n},mg=function(t,n,i){var o=Ku(n[1]),u=(o?2:1)+(t<2?0:1),f=n[u],a,y;if(o&&(f.duration=n[1]),f.parent=i,t){for(a=f,y=i;y&&!("immediateRender"in a);)a=y.vars.defaults||{},y=vs(y.vars.inherit)&&y.parent;f.immediateRender=vs(a.immediateRender),t<2?f.runBackwards=1:f.startAt=n[u-1]}return new Po(n[0],f,n[u+1])},Sh=function(t,n){return t||t===0?n(t):n},q_=function(t,n,i){return i<t?t:i>n?n:i},fh=function(t,n){return!Na(t)||!(n=P1e.exec(t))?"":n[1]},U1e=function(t,n,i){return Sh(i,function(o){return q_(t,n,o)})},M8=[].slice,aB=function(t,n){return t&&ou(t)&&"length"in t&&(!n&&!t.length||t.length-1 in t&&ou(t[0]))&&!t.nodeType&&t!==cl},V1e=function(t,n,i){return i===void 0&&(i=[]),t.forEach(function(o){var u;return Na(o)&&!n||aB(o,1)?(u=i).push.apply(u,gl(o)):i.push(o)})||i},gl=function(t,n,i){return po&&!n&&po.selector?po.selector(t):Na(t)&&!i&&(k8||!H0())?M8.call((n||zE).querySelectorAll(t),0):La(t)?V1e(t,i):aB(t)?M8.call(t,0):t?[t]:[]},D8=function(t){return t=gl(t)[0]||kx("Invalid scope")||{},function(n){var i=t.current||t.nativeElement||t;return gl(n,i.querySelectorAll?i:i===t?kx("Invalid scope")||zE.createElement("div"):t)}},sB=function(t){return t.sort(function(){return .5-Math.random()})},lB=function(t){if(fo(t))return t;var n=ou(t)?t:{each:t},i=vp(n.ease),o=n.from||0,u=parseFloat(n.base)||0,f={},a=o>0&&o<1,y=isNaN(o)||a,w=n.axis,k=o,M=o;return Na(o)?k=M={center:.5,edges:.5,end:1}[o]||0:!a&&y&&(k=o[0],M=o[1]),function(O,$,N){var B=(N||n).length,J=f[B],U,G,Z,Q,se,ce,A,_e,le;if(!J){if(le=n.grid==="auto"?0:(n.grid||[1,ml])[1],!le){for(A=-ml;A<(A=N[le++].getBoundingClientRect().left)&&le<B;);le--}for(J=f[B]=[],U=y?Math.min(le,B)*k-.5:o%le,G=le===ml?0:y?B*M/le-.5:o/le|0,A=0,_e=ml,ce=0;ce<B;ce++)Z=ce%le-U,Q=G-(ce/le|0),J[ce]=se=w?Math.abs(w==="y"?Q:Z):UN(Z*Z+Q*Q),se>A&&(A=se),se<_e&&(_e=se);o==="random"&&sB(J),J.max=A-_e,J.min=_e,J.v=B=(parseFloat(n.amount)||parseFloat(n.each)*(le>B?B-1:w?w==="y"?B/le:le:Math.max(le,B/le))||0)*(o==="edges"?-1:1),J.b=B<0?u-B:u,J.u=fh(n.amount||n.each)||0,i=i&&B<0?_B(i):i}return B=(J[O]-J.min)/J.max||0,da(J.b+(i?i(B):B)*J.v)+J.u}},R8=function(t){var n=Math.pow(10,((t+"").split(".")[1]||"").length);return function(i){var o=da(Math.round(parseFloat(i)/t)*t*n);return(o-o%1)/n+(Ku(i)?0:fh(i))}},cB=function(t,n){var i=La(t),o,u;return!i&&ou(t)&&(o=i=t.radius||ml,t.values?(t=gl(t.values),(u=!Ku(t[0]))&&(o*=o)):t=R8(t.increment)),Sh(n,i?fo(t)?function(f){return u=t(f),Math.abs(u-f)<=o?u:f}:function(f){for(var a=parseFloat(u?f.x:f),y=parseFloat(u?f.y:0),w=ml,k=0,M=t.length,O,$;M--;)u?(O=t[M].x-a,$=t[M].y-y,O=O*O+$*$):O=Math.abs(t[M]-a),O<w&&(w=O,k=M);return k=!o||w<=o?t[k]:f,u||k===f||Ku(f)?k:k+fh(f)}:R8(t))},uB=function(t,n,i,o){return Sh(La(t)?!n:i===!0?!!(i=0):!o,function(){return La(t)?t[~~(Math.random()*t.length)]:(i=i||1e-5)&&(o=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((t-i/2+Math.random()*(n-t+i*.99))/i)*i*o)/o})},W1e=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return function(o){return n.reduce(function(u,f){return f(u)},o)}},H1e=function(t,n){return function(i){return t(parseFloat(i))+(n||fh(i))}},q1e=function(t,n,i){return hB(t,n,0,1,i)},dB=function(t,n,i){return Sh(i,function(o){return t[~~n(o)]})},G1e=function e(t,n,i){var o=n-t;return La(t)?dB(t,e(0,t.length),n):Sh(i,function(u){return(o+(u-t)%o)%o+t})},Z1e=function e(t,n,i){var o=n-t,u=o*2;return La(t)?dB(t,e(0,t.length-1),n):Sh(i,function(f){return f=(u+(f-t)%u)%u||0,t+(f>o?u-f:f)})},jE=function(t){for(var n=0,i="",o,u,f,a;~(o=t.indexOf("random(",n));)f=t.indexOf(")",o),a=t.charAt(o+7)==="[",u=t.substr(o+7,f-o-7).match(a?qN:C8),i+=t.substr(n,o-n)+uB(a?u:+u[0],a?0:+u[1],+u[2]||1e-5),n=f+1;return i+t.substr(n,t.length-n)},hB=function(t,n,i,o,u){var f=n-t,a=o-i;return Sh(u,function(y){return i+((y-t)/f*a||0)})},X1e=function e(t,n,i,o){var u=isNaN(t+n)?0:function($){return(1-$)*t+$*n};if(!u){var f=Na(t),a={},y,w,k,M,O;if(i===!0&&(o=1)&&(i=null),f)t={p:t},n={p:n};else if(La(t)&&!La(n)){for(k=[],M=t.length,O=M-2,w=1;w<M;w++)k.push(e(t[w-1],t[w]));M--,u=function(N){N*=M;var B=Math.min(O,~~N);return k[B](N-B)},i=n}else o||(t=zp(La(t)?[]:{},t));if(!k){for(y in n)$E.call(a,t,y,"get",n[y]);u=function(N){return WE(N,a)||(f?t.p:t)}}}return Sh(i,u)},oM=function(t,n,i){var o=t.labels,u=ml,f,a,y;for(f in o)a=o[f]-n,a<0==!!i&&a&&u>(a=Math.abs(a))&&(y=f,u=a);return y},_l=function(t,n,i){var o=t.vars,u=o[n],f=po,a=t._ctx,y,w,k;if(u)return y=o[n+"Params"],w=o.callbackScope||t,i&&ah.length&&Px(),a&&(po=a),k=y?u.apply(w,y):u.call(w),po=f,k},Gm=function(t){return ph(t),t.scrollTrigger&&t.scrollTrigger.kill(!!Oa),t.progress()<1&&_l(t,"onInterrupt"),t},u0,pB=[],fB=function(t){if(LE()&&t){t=!t.name&&t.default||t;var n=t.name,i=fo(t),o=n&&!i&&t.init?function(){this._props=[]}:t,u={init:c_,render:WE,add:$E,kill:mme,modifier:fme,rawVars:0},f={targetTest:0,get:0,getSetter:EB,aliases:{},register:0};if(H0(),t!==o){if(dl[n])return;Cl(o,Cl(Ix(t,u),f)),zp(o.prototype,zp(u,Ix(t,f))),dl[o.prop=n]=o,t.targetTest&&(f2.push(o),FE[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}KN(n,o),t.register&&t.register(Fp,o,m1)}else t&&pB.push(t)},Pi=255,Zm={aqua:[0,Pi,Pi],lime:[0,Pi,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Pi],navy:[0,0,128],white:[Pi,Pi,Pi],olive:[128,128,0],yellow:[Pi,Pi,0],orange:[Pi,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Pi,0,0],pink:[Pi,192,203],cyan:[0,Pi,Pi],transparent:[Pi,Pi,Pi,0]},x4=function(t,n,i){return t+=t<0?1:t>1?-1:0,(t*6<1?n+(i-n)*t*6:t<.5?i:t*3<2?n+(i-n)*(2/3-t)*6:n)*Pi+.5|0},mB=function(t,n,i){var o=t?Ku(t)?[t>>16,t>>8&Pi,t&Pi]:0:Zm.black,u,f,a,y,w,k,M,O,$,N;if(!o){if(t.substr(-1)===","&&(t=t.substr(0,t.length-1)),Zm[t])o=Zm[t];else if(t.charAt(0)==="#"){if(t.length<6&&(u=t.charAt(1),f=t.charAt(2),a=t.charAt(3),t="#"+u+u+f+f+a+a+(t.length===5?t.charAt(4)+t.charAt(4):"")),t.length===9)return o=parseInt(t.substr(1,6),16),[o>>16,o>>8&Pi,o&Pi,parseInt(t.substr(7),16)/255];t=parseInt(t.substr(1),16),o=[t>>16,t>>8&Pi,t&Pi]}else if(t.substr(0,3)==="hsl"){if(o=N=t.match(C8),!n)y=+o[0]%360/360,w=+o[1]/100,k=+o[2]/100,f=k<=.5?k*(w+1):k+w-k*w,u=k*2-f,o.length>3&&(o[3]*=1),o[0]=x4(y+1/3,u,f),o[1]=x4(y,u,f),o[2]=x4(y-1/3,u,f);else if(~t.indexOf("="))return o=t.match(C1e),i&&o.length<4&&(o[3]=1),o}else o=t.match(C8)||Zm.transparent;o=o.map(Number)}return n&&!N&&(u=o[0]/Pi,f=o[1]/Pi,a=o[2]/Pi,M=Math.max(u,f,a),O=Math.min(u,f,a),k=(M+O)/2,M===O?y=w=0:($=M-O,w=k>.5?$/(2-M-O):$/(M+O),y=M===u?(f-a)/$+(f<a?6:0):M===f?(a-u)/$+2:(u-f)/$+4,y*=60),o[0]=~~(y+.5),o[1]=~~(w*100+.5),o[2]=~~(k*100+.5)),i&&o.length<4&&(o[3]=1),o},gB=function(t){var n=[],i=[],o=-1;return t.split(T0).forEach(function(u){var f=u.match(HN)||[];n.push.apply(n,f),i.push(o+=f.length+1)}),n.c=i,n},aM=function(t,n,i){var o="",u=(t+o).match(T0),f=n?"hsla(":"rgba(",a=0,y,w,k,M;if(!u)return t;if(u=u.map(function(O){return(O=mB(O,n,1))&&f+(n?O[0]+","+O[1]+"%,"+O[2]+"%,"+O[3]:O.join(","))+")"}),i&&(k=gB(t),y=i.c,y.join(o)!==k.c.join(o)))for(w=t.replace(T0,"1").split(HN),M=w.length-1;a<M;a++)o+=w[a]+(~y.indexOf(a)?u.shift()||f+"0,0,0,0)":(k.length?k:u.length?u:i).shift());if(!w)for(w=t.split(T0),M=w.length-1;a<M;a++)o+=w[a]+u[a];return o+w[M]},T0=function(){var e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",t;for(t in Zm)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),K1e=/hsl[a]?\(/,Y1e=function(t){var n=t.join(" "),i;if(T0.lastIndex=0,T0.test(n))return i=K1e.test(n),t[1]=aM(t[1],i),t[0]=aM(t[0],i,gB(t[1])),!0},u_,rc=function(){var e=Date.now,t=500,n=33,i=e(),o=i,u=1e3/240,f=u,a=[],y,w,k,M,O,$,N=function B(J){var U=e()-o,G=J===!0,Z,Q,se,ce;if(U>t&&(i+=U-n),o+=U,se=o-i,Z=se-f,(Z>0||G)&&(ce=++M.frame,O=se-M.time*1e3,M.time=se=se/1e3,f+=Z+(Z>=u?4:u-Z),Q=1),G||(y=w(B)),Q)for($=0;$<a.length;$++)a[$](se,O,ce,J)};return M={time:0,frame:0,tick:function(){N(!0)},deltaRatio:function(J){return O/(1e3/(J||60))},wake:function(){GN&&(!k8&&LE()&&(cl=k8=window,zE=cl.document||{},Hs.gsap=Fp,(cl.gsapVersions||(cl.gsapVersions=[])).push(Fp.version),ZN(Cx||cl.GreenSockGlobals||!cl.gsap&&cl||{}),k=cl.requestAnimationFrame,pB.forEach(fB)),y&&M.sleep(),w=k||function(J){return setTimeout(J,f-M.time*1e3+1|0)},u_=1,N(2))},sleep:function(){(k?cl.cancelAnimationFrame:clearTimeout)(y),u_=0,w=c_},lagSmoothing:function(J,U){t=J||1/0,n=Math.min(U||33,t)},fps:function(J){u=1e3/(J||240),f=M.time*1e3+u},add:function(J,U,G){var Z=U?function(Q,se,ce,A){J(Q,se,ce,A),M.remove(Z)}:J;return M.remove(J),a[G?"unshift":"push"](Z),H0(),Z},remove:function(J,U){~(U=a.indexOf(J))&&a.splice(U,1)&&$>=U&&$--},_listeners:a},M}(),H0=function(){return!u_&&rc.wake()},$r={},J1e=/^[\d.\-M][\d.\-,\s]/,Q1e=/["']/g,eme=function(t){for(var n={},i=t.substr(1,t.length-3).split(":"),o=i[0],u=1,f=i.length,a,y,w;u<f;u++)y=i[u],a=u!==f-1?y.lastIndexOf(","):y.length,w=y.substr(0,a),n[o]=isNaN(w)?w.replace(Q1e,"").trim():+w,o=y.substr(a+1).trim();return n},tme=function(t){var n=t.indexOf("(")+1,i=t.indexOf(")"),o=t.indexOf("(",n);return t.substring(n,~o&&o<i?t.indexOf(")",i+1):i)},nme=function(t){var n=(t+"").split("("),i=$r[n[0]];return i&&n.length>1&&i.config?i.config.apply(null,~t.indexOf("{")?[eme(n[1])]:tme(t).split(",").map(eB)):$r._CE&&J1e.test(t)?$r._CE("",t):i},_B=function(t){return function(n){return 1-t(1-n)}},yB=function e(t,n){for(var i=t._first,o;i;)i instanceof jo?e(i,n):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==n&&(i.timeline?e(i.timeline,n):(o=i._ease,i._ease=i._yEase,i._yEase=o,i._yoyo=n)),i=i._next},vp=function(t,n){return t&&(fo(t)?t:$r[t]||nme(t))||n},qp=function(t,n,i,o){i===void 0&&(i=function(y){return 1-n(1-y)}),o===void 0&&(o=function(y){return y<.5?n(y*2)/2:1-n((1-y)*2)/2});var u={easeIn:n,easeOut:i,easeInOut:o},f;return od(t,function(a){$r[a]=Hs[a]=u,$r[f=a.toLowerCase()]=i;for(var y in u)$r[f+(y==="easeIn"?".in":y==="easeOut"?".out":".inOut")]=$r[a+"."+y]=u[y]}),u},vB=function(t){return function(n){return n<.5?(1-t(1-n*2))/2:.5+t((n-.5)*2)/2}},b4=function e(t,n,i){var o=n>=1?n:1,u=(i||(t?.3:.45))/(n<1?n:1),f=u/T8*(Math.asin(1/o)||0),a=function(k){return k===1?1:o*Math.pow(2,-10*k)*T1e((k-f)*u)+1},y=t==="out"?a:t==="in"?function(w){return 1-a(1-w)}:vB(a);return u=T8/u,y.config=function(w,k){return e(t,w,k)},y},w4=function e(t,n){n===void 0&&(n=1.70158);var i=function(f){return f?--f*f*((n+1)*f+n)+1:0},o=t==="out"?i:t==="in"?function(u){return 1-i(1-u)}:vB(i);return o.config=function(u){return e(t,u)},o};od("Linear,Quad,Cubic,Quart,Quint,Strong",function(e,t){var n=t<5?t+1:t;qp(e+",Power"+(n-1),t?function(i){return Math.pow(i,n)}:function(i){return i},function(i){return 1-Math.pow(1-i,n)},function(i){return i<.5?Math.pow(i*2,n)/2:1-Math.pow((1-i)*2,n)/2})});$r.Linear.easeNone=$r.none=$r.Linear.easeIn;qp("Elastic",b4("in"),b4("out"),b4());(function(e,t){var n=1/t,i=2*n,o=2.5*n,u=function(a){return a<n?e*a*a:a<i?e*Math.pow(a-1.5/t,2)+.75:a<o?e*(a-=2.25/t)*a+.9375:e*Math.pow(a-2.625/t,2)+.984375};qp("Bounce",function(f){return 1-u(1-f)},u)})(7.5625,2.75);qp("Expo",function(e){return e?Math.pow(2,10*(e-1)):0});qp("Circ",function(e){return-(UN(1-e*e)-1)});qp("Sine",function(e){return e===1?1:-S1e(e*w1e)+1});qp("Back",w4("in"),w4("out"),w4());$r.SteppedEase=$r.steps=Hs.SteppedEase={config:function(t,n){t===void 0&&(t=1);var i=1/t,o=t+(n?0:1),u=n?1:0,f=1-Ai;return function(a){return((o*q_(0,f,a)|0)+u)*i}}};U0.ease=$r["quad.out"];od("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(e){return NE+=e+","+e+"Params,"});var rme=function(t,n){this.id=E1e++,t._gsap=this,this.target=t,this.harness=n,this.get=n?n.get:M1e,this.set=n?n.getSetter:EB},d_=function(){function e(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,W0(this,+n.duration,1,1),this.data=n.data,po&&(this._ctx=po,po.data.push(this)),u_||rc.wake()}var t=e.prototype;return t.delay=function(i){return i||i===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},t.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},t.totalDuration=function(i){return arguments.length?(this._dirty=0,W0(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(i,o){if(H0(),!arguments.length)return this._tTime;var u=this._dp;if(u&&u.smoothChildTiming&&this._ts){for(g3(this,i),!u._dp||u.parent||rB(u,this);u&&u.parent;)u.parent._time!==u._start+(u._ts>=0?u._tTime/u._ts:(u.totalDuration()-u._tTime)/-u._ts)&&u.totalTime(u._tTime,!0),u=u.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&qc(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!o||this._initted&&Math.abs(this._zTime)===Ai||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),QN(this,i,o)),this},t.time=function(i,o){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+rM(this))%(this._dur+this._rDelay)||(i?this._dur:0),o):this._time},t.totalProgress=function(i,o){return arguments.length?this.totalTime(this.totalDuration()*i,o):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},t.progress=function(i,o){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-i:i)+rM(this),o):this.duration()?Math.min(1,this._time/this._dur):this.ratio},t.iteration=function(i,o){var u=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*u,o):this._repeat?V0(this._tTime,u)+1:1},t.timeScale=function(i){if(!arguments.length)return this._rts===-Ai?0:this._rts;if(this._rts===i)return this;var o=this.parent&&this._ts?Ax(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-Ai?0:this._rts,this.totalTime(q_(-Math.abs(this._delay),this._tDur,o),!0),m3(this),z1e(this)},t.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(H0(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Ai&&(this._tTime-=Ai)))),this):this._ps},t.startTime=function(i){if(arguments.length){this._start=i;var o=this.parent||this._dp;return o&&(o._sort||!this.parent)&&qc(o,this,i-this._delay),this}return this._start},t.endTime=function(i){return this._start+(vs(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(i){var o=this.parent||this._dp;return o?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Ax(o.rawTime(i),this):this._tTime:this._tTime},t.revert=function(i){i===void 0&&(i=A1e);var o=Oa;return Oa=i,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents)),this.data!=="nested"&&i.kill!==!1&&this.kill(),Oa=o,this},t.globalTime=function(i){for(var o=this,u=arguments.length?i:o.rawTime();o;)u=o._start+u/(o._ts||1),o=o._dp;return!this.parent&&this._sat?this._sat.vars.immediateRender?-1/0:this._sat.globalTime(i):u},t.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,iM(this)):this._repeat===-2?1/0:this._repeat},t.repeatDelay=function(i){if(arguments.length){var o=this._time;return this._rDelay=i,iM(this),o?this.time(o):this}return this._rDelay},t.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},t.seek=function(i,o){return this.totalTime(ll(this,i),vs(o))},t.restart=function(i,o){return this.play().totalTime(i?-this._delay:0,vs(o))},t.play=function(i,o){return i!=null&&this.seek(i,o),this.reversed(!1).paused(!1)},t.reverse=function(i,o){return i!=null&&this.seek(i||this.totalDuration(),o),this.reversed(!0).paused(!1)},t.pause=function(i,o){return i!=null&&this.seek(i,o),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-Ai:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-Ai,this},t.isActive=function(){var i=this.parent||this._dp,o=this._start,u;return!!(!i||this._ts&&this._initted&&i.isActive()&&(u=i.rawTime(!0))>=o&&u<this.endTime(!0)-Ai)},t.eventCallback=function(i,o,u){var f=this.vars;return arguments.length>1?(o?(f[i]=o,u&&(f[i+"Params"]=u),i==="onUpdate"&&(this._onUpdate=o)):delete f[i],this):f[i]},t.then=function(i){var o=this;return new Promise(function(u){var f=fo(i)?i:tB,a=function(){var w=o.then;o.then=null,fo(f)&&(f=f(o))&&(f.then||f===o)&&(o.then=w),u(f),o.then=w};o._initted&&o.totalProgress()===1&&o._ts>=0||!o._tTime&&o._ts<0?a():o._prom=a})},t.kill=function(){Gm(this)},e}();Cl(d_.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Ai,_prom:0,_ps:!1,_rts:1});var jo=function(e){$N(t,e);function t(i,o){var u;return i===void 0&&(i={}),u=e.call(this,i)||this,u.labels={},u.smoothChildTiming=!!i.smoothChildTiming,u.autoRemoveChildren=!!i.autoRemoveChildren,u._sort=vs(i.sortChildren),io&&qc(i.parent||io,Ou(u),o),i.reversed&&u.reverse(),i.paused&&u.paused(!0),i.scrollTrigger&&iB(Ou(u),i.scrollTrigger),u}var n=t.prototype;return n.to=function(o,u,f){return mg(0,arguments,this),this},n.from=function(o,u,f){return mg(1,arguments,this),this},n.fromTo=function(o,u,f,a){return mg(2,arguments,this),this},n.set=function(o,u,f){return u.duration=0,u.parent=this,fg(u).repeatDelay||(u.repeat=0),u.immediateRender=!!u.immediateRender,new Po(o,u,ll(this,f),1),this},n.call=function(o,u,f){return qc(this,Po.delayedCall(0,o,u),f)},n.staggerTo=function(o,u,f,a,y,w,k){return f.duration=u,f.stagger=f.stagger||a,f.onComplete=w,f.onCompleteParams=k,f.parent=this,new Po(o,f,ll(this,y)),this},n.staggerFrom=function(o,u,f,a,y,w,k){return f.runBackwards=1,fg(f).immediateRender=vs(f.immediateRender),this.staggerTo(o,u,f,a,y,w,k)},n.staggerFromTo=function(o,u,f,a,y,w,k,M){return a.startAt=f,fg(a).immediateRender=vs(a.immediateRender),this.staggerTo(o,u,a,y,w,k,M)},n.render=function(o,u,f){var a=this._time,y=this._dirty?this.totalDuration():this._tDur,w=this._dur,k=o<=0?0:da(o),M=this._zTime<0!=o<0&&(this._initted||!w),O,$,N,B,J,U,G,Z,Q,se,ce,A;if(this!==io&&k>y&&o>=0&&(k=y),k!==this._tTime||f||M){if(a!==this._time&&w&&(k+=this._time-a,o+=this._time-a),O=k,Q=this._start,Z=this._ts,U=!Z,M&&(w||(a=this._zTime),(o||!u)&&(this._zTime=o)),this._repeat){if(ce=this._yoyo,J=w+this._rDelay,this._repeat<-1&&o<0)return this.totalTime(J*100+o,u,f);if(O=da(k%J),k===y?(B=this._repeat,O=w):(B=~~(k/J),B&&B===k/J&&(O=w,B--),O>w&&(O=w)),se=V0(this._tTime,J),!a&&this._tTime&&se!==B&&this._tTime-se*J-this._dur<=0&&(se=B),ce&&B&1&&(O=w-O,A=1),B!==se&&!this._lock){var _e=ce&&se&1,le=_e===(ce&&B&1);if(B<se&&(_e=!_e),a=_e?0:k%w?w:k,this._lock=1,this.render(a||(A?0:da(B*J)),u,!w)._lock=0,this._tTime=k,!u&&this.parent&&_l(this,"onRepeat"),this.vars.repeatRefresh&&!A&&(this.invalidate()._lock=1),a&&a!==this._time||U!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(w=this._dur,y=this._tDur,le&&(this._lock=2,a=_e?w:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!A&&this.invalidate()),this._lock=0,!this._ts&&!U)return this;yB(this,A)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(G=j1e(this,da(a),da(O)),G&&(k-=O-(O=G._start))),this._tTime=k,this._time=O,this._act=!Z,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=o,a=0),!a&&O&&!u&&!B&&(_l(this,"onStart"),this._tTime!==k))return this;if(O>=a&&o>=0)for($=this._first;$;){if(N=$._next,($._act||O>=$._start)&&$._ts&&G!==$){if($.parent!==this)return this.render(o,u,f);if($.render($._ts>0?(O-$._start)*$._ts:($._dirty?$.totalDuration():$._tDur)+(O-$._start)*$._ts,u,f),O!==this._time||!this._ts&&!U){G=0,N&&(k+=this._zTime=-Ai);break}}$=N}else{$=this._last;for(var ve=o<0?o:O;$;){if(N=$._prev,($._act||ve<=$._end)&&$._ts&&G!==$){if($.parent!==this)return this.render(o,u,f);if($.render($._ts>0?(ve-$._start)*$._ts:($._dirty?$.totalDuration():$._tDur)+(ve-$._start)*$._ts,u,f||Oa&&($._initted||$._startAt)),O!==this._time||!this._ts&&!U){G=0,N&&(k+=this._zTime=ve?-Ai:Ai);break}}$=N}}if(G&&!u&&(this.pause(),G.render(O>=a?0:-Ai)._zTime=O>=a?1:-1,this._ts))return this._start=Q,m3(this),this.render(o,u,f);this._onUpdate&&!u&&_l(this,"onUpdate",!0),(k===y&&this._tTime>=this.totalDuration()||!k&&a)&&(Q===this._start||Math.abs(Z)!==Math.abs(this._ts))&&(this._lock||((o||!w)&&(k===y&&this._ts>0||!k&&this._ts<0)&&ph(this,1),!u&&!(o<0&&!a)&&(k||a||!y)&&(_l(this,k===y&&o>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(k<y&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(o,u){var f=this;if(Ku(u)||(u=ll(this,u,o)),!(o instanceof d_)){if(La(o))return o.forEach(function(a){return f.add(a,u)}),this;if(Na(o))return this.addLabel(o,u);if(fo(o))o=Po.delayedCall(0,o);else return this}return this!==o?qc(this,o,u):this},n.getChildren=function(o,u,f,a){o===void 0&&(o=!0),u===void 0&&(u=!0),f===void 0&&(f=!0),a===void 0&&(a=-ml);for(var y=[],w=this._first;w;)w._start>=a&&(w instanceof Po?u&&y.push(w):(f&&y.push(w),o&&y.push.apply(y,w.getChildren(!0,u,f)))),w=w._next;return y},n.getById=function(o){for(var u=this.getChildren(1,1,1),f=u.length;f--;)if(u[f].vars.id===o)return u[f]},n.remove=function(o){return Na(o)?this.removeLabel(o):fo(o)?this.killTweensOf(o):(f3(this,o),o===this._recent&&(this._recent=this._last),yp(this))},n.totalTime=function(o,u){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=da(rc.time-(this._ts>0?o/this._ts:(this.totalDuration()-o)/-this._ts))),e.prototype.totalTime.call(this,o,u),this._forcing=0,this):this._tTime},n.addLabel=function(o,u){return this.labels[o]=ll(this,u),this},n.removeLabel=function(o){return delete this.labels[o],this},n.addPause=function(o,u,f){var a=Po.delayedCall(0,u||c_,f);return a.data="isPause",this._hasPause=1,qc(this,a,ll(this,o))},n.removePause=function(o){var u=this._first;for(o=ll(this,o);u;)u._start===o&&u.data==="isPause"&&ph(u),u=u._next},n.killTweensOf=function(o,u,f){for(var a=this.getTweensOf(o,f),y=a.length;y--;)qd!==a[y]&&a[y].kill(o,u);return this},n.getTweensOf=function(o,u){for(var f=[],a=gl(o),y=this._first,w=Ku(u),k;y;)y instanceof Po?R1e(y._targets,a)&&(w?(!qd||y._initted&&y._ts)&&y.globalTime(0)<=u&&y.globalTime(y.totalDuration())>u:!u||y.isActive())&&f.push(y):(k=y.getTweensOf(a,u)).length&&f.push.apply(f,k),y=y._next;return f},n.tweenTo=function(o,u){u=u||{};var f=this,a=ll(f,o),y=u,w=y.startAt,k=y.onStart,M=y.onStartParams,O=y.immediateRender,$,N=Po.to(f,Cl({ease:u.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:u.duration||Math.abs((a-(w&&"time"in w?w.time:f._time))/f.timeScale())||Ai,onStart:function(){if(f.pause(),!$){var J=u.duration||Math.abs((a-(w&&"time"in w?w.time:f._time))/f.timeScale());N._dur!==J&&W0(N,J,0,1).render(N._time,!0,!0),$=1}k&&k.apply(N,M||[])}},u));return O?N.render(0):N},n.tweenFromTo=function(o,u,f){return this.tweenTo(u,Cl({startAt:{time:ll(this,o)}},f))},n.recent=function(){return this._recent},n.nextLabel=function(o){return o===void 0&&(o=this._time),oM(this,ll(this,o))},n.previousLabel=function(o){return o===void 0&&(o=this._time),oM(this,ll(this,o),1)},n.currentLabel=function(o){return arguments.length?this.seek(o,!0):this.previousLabel(this._time+Ai)},n.shiftChildren=function(o,u,f){f===void 0&&(f=0);for(var a=this._first,y=this.labels,w;a;)a._start>=f&&(a._start+=o,a._end+=o),a=a._next;if(u)for(w in y)y[w]>=f&&(y[w]+=o);return yp(this)},n.invalidate=function(o){var u=this._first;for(this._lock=0;u;)u.invalidate(o),u=u._next;return e.prototype.invalidate.call(this,o)},n.clear=function(o){o===void 0&&(o=!0);for(var u=this._first,f;u;)f=u._next,this.remove(u),u=f;return this._dp&&(this._time=this._tTime=this._pTime=0),o&&(this.labels={}),yp(this)},n.totalDuration=function(o){var u=0,f=this,a=f._last,y=ml,w,k,M;if(arguments.length)return f.timeScale((f._repeat<0?f.duration():f.totalDuration())/(f.reversed()?-o:o));if(f._dirty){for(M=f.parent;a;)w=a._prev,a._dirty&&a.totalDuration(),k=a._start,k>y&&f._sort&&a._ts&&!f._lock?(f._lock=1,qc(f,a,k-a._delay,1)._lock=0):y=k,k<0&&a._ts&&(u-=k,(!M&&!f._dp||M&&M.smoothChildTiming)&&(f._start+=k/f._ts,f._time-=k,f._tTime-=k),f.shiftChildren(-k,!1,-1/0),y=0),a._end>u&&a._ts&&(u=a._end),a=w;W0(f,f===io&&f._time>u?f._time:u,1,1),f._dirty=0}return f._tDur},t.updateRoot=function(o){if(io._ts&&(QN(io,Ax(o,io)),YN=rc.frame),rc.frame>=tM){tM+=$0.autoSleep||120;var u=io._first;if((!u||!u._ts)&&$0.autoSleep&&rc._listeners.length<2){for(;u&&!u._ts;)u=u._next;u||rc.sleep()}}},t}(d_);Cl(jo.prototype,{_lock:0,_hasPause:0,_forcing:0});var ime=function(t,n,i,o,u,f,a){var y=new m1(this._pt,t,n,0,1,pme,null,u),w=0,k=0,M,O,$,N,B,J,U,G;for(y.b=i,y.e=o,i+="",o+="",(U=~o.indexOf("random("))&&(o=jE(o)),f&&(G=[i,o],f(G,t,n),i=G[0],o=G[1]),O=i.match(y4)||[];M=y4.exec(o);)N=M[0],B=o.substring(w,M.index),$?$=($+1)%5:B.substr(-5)==="rgba("&&($=1),N!==O[k++]&&(J=parseFloat(O[k-1])||0,y._pt={_next:y._pt,p:B||k===1?B:",",s:J,c:N.charAt(1)==="="?JN(J,N)-J:parseFloat(N)-J,m:$&&$<4?Math.round:0},w=y4.lastIndex);return y.c=w<o.length?o.substring(w,o.length):"",y.fp=a,(k1e.test(o)||U)&&(y.e=0),this._pt=y,y},$E=function(t,n,i,o,u,f,a,y,w,k){fo(o)&&(o=o(u||0,t,f));var M=t[n],O=i!=="get"?i:fo(M)?w?t[n.indexOf("set")||!fo(t["get"+n.substr(3)])?n:"get"+n.substr(3)](w):t[n]():M,$=fo(M)?w?ume:wB:VE,N;if(Na(o)&&(~o.indexOf("random(")&&(o=jE(o)),o.charAt(1)==="="&&(N=JN(O,o)+(fh(O)||0),(N||N===0)&&(o=N))),!k||O!==o||O8)return!isNaN(O*o)&&o!==""?(N=new m1(this._pt,t,n,+O||0,o-(O||0),typeof M=="boolean"?hme:SB,0,$),w&&(N.fp=w),a&&N.modifier(a,this,t),this._pt=N):(!M&&!(n in t)&&XN(n,o),ime.call(this,t,n,O,o,$,y||$0.stringFilter,w))},ome=function(t,n,i,o,u){if(fo(t)&&(t=gg(t,u,n,i,o)),!ou(t)||t.style&&t.nodeType||La(t)||WN(t))return Na(t)?gg(t,u,n,i,o):t;var f={},a;for(a in t)f[a]=gg(t[a],u,n,i,o);return f},ame=function(t,n,i,o,u,f){var a,y,w,k;if(dl[t]&&(a=new dl[t]).init(u,a.rawVars?n[t]:ome(n[t],o,u,f,i),i,o,f)!==!1&&(i._pt=y=new m1(i._pt,u,t,0,1,a.render,a,0,a.priority),i!==u0))for(w=i._ptLookup[i._targets.indexOf(u)],k=a._props.length;k--;)w[a._props[k]]=y;return a},qd,O8,UE=function e(t,n,i){var o=t.vars,u=o.ease,f=o.startAt,a=o.immediateRender,y=o.lazy,w=o.onUpdate,k=o.onUpdateParams,M=o.callbackScope,O=o.runBackwards,$=o.yoyoEase,N=o.keyframes,B=o.autoRevert,J=t._dur,U=t._startAt,G=t._targets,Z=t.parent,Q=Z&&Z.data==="nested"?Z.vars.targets:G,se=t._overwrite==="auto"&&!OE,ce=t.timeline,A,_e,le,ve,Ue,$e,Ae,Re,Oe,Ye,Qe,ze,Pe;if(ce&&(!N||!u)&&(u="none"),t._ease=vp(u,U0.ease),t._yEase=$?_B(vp($===!0?u:$,U0.ease)):0,$&&t._yoyo&&!t._repeat&&($=t._yEase,t._yEase=t._ease,t._ease=$),t._from=!ce&&!!o.runBackwards,!ce||N&&!o.stagger){if(Re=G[0]?pg(G[0]).harness:0,ze=Re&&o[Re.prop],A=Ix(o,FE),U&&(U._zTime<0&&U.progress(1),n<0&&O&&a&&!B?U.render(-1,!0):U.revert(O&&J?p2:I1e),U._lazy=0),f){if(ph(t._startAt=Po.set(G,Cl({data:"isStart",overwrite:!1,parent:Z,immediateRender:!0,lazy:!U&&vs(y),startAt:null,delay:0,onUpdate:w,onUpdateParams:k,callbackScope:M,stagger:0},f))),t._startAt._dp=0,t._startAt._sat=t,n<0&&(Oa||!a&&!B)&&t._startAt.revert(p2),a&&J&&n<=0&&i<=0){n&&(t._zTime=n);return}}else if(O&&J&&!U){if(n&&(a=!1),le=Cl({overwrite:!1,data:"isFromStart",lazy:a&&!U&&vs(y),immediateRender:a,stagger:0,parent:Z},A),ze&&(le[Re.prop]=ze),ph(t._startAt=Po.set(G,le)),t._startAt._dp=0,t._startAt._sat=t,n<0&&(Oa?t._startAt.revert(p2):t._startAt.render(-1,!0)),t._zTime=n,!a)e(t._startAt,Ai,Ai);else if(!n)return}for(t._pt=t._ptCache=0,y=J&&vs(y)||y&&!J,_e=0;_e<G.length;_e++){if(Ue=G[_e],Ae=Ue._gsap||BE(G)[_e]._gsap,t._ptLookup[_e]=Ye={},P8[Ae.id]&&ah.length&&Px(),Qe=Q===G?_e:Q.indexOf(Ue),Re&&(Oe=new Re).init(Ue,ze||A,t,Qe,Q)!==!1&&(t._pt=ve=new m1(t._pt,Ue,Oe.name,0,1,Oe.render,Oe,0,Oe.priority),Oe._props.forEach(function(je){Ye[je]=ve}),Oe.priority&&($e=1)),!Re||ze)for(le in A)dl[le]&&(Oe=ame(le,A,t,Qe,Ue,Q))?Oe.priority&&($e=1):Ye[le]=ve=$E.call(t,Ue,le,"get",A[le],Qe,Q,0,o.stringFilter);t._op&&t._op[_e]&&t.kill(Ue,t._op[_e]),se&&t._pt&&(qd=t,io.killTweensOf(Ue,Ye,t.globalTime(n)),Pe=!t.parent,qd=0),t._pt&&y&&(P8[Ae.id]=1)}$e&&_me(t),t._onInit&&t._onInit(t)}t._onUpdate=w,t._initted=(!t._op||t._pt)&&!Pe,N&&n<=0&&ce.render(ml,!0,!0)},sme=function(t,n,i,o,u,f,a){var y=(t._pt&&t._ptCache||(t._ptCache={}))[n],w,k,M,O;if(!y)for(y=t._ptCache[n]=[],M=t._ptLookup,O=t._targets.length;O--;){if(w=M[O][n],w&&w.d&&w.d._pt)for(w=w.d._pt;w&&w.p!==n&&w.fp!==n;)w=w._next;if(!w)return O8=1,t.vars[n]="+=0",UE(t,a),O8=0,1;y.push(w)}for(O=y.length;O--;)k=y[O],w=k._pt||k,w.s=(o||o===0)&&!u?o:w.s+(o||0)+f*w.c,w.c=i-w.s,k.e&&(k.e=D1e(i)+fh(k.e)),k.b&&(k.b=w.s+fh(k.b))},lme=function(t,n){var i=t[0]?pg(t[0]).harness:0,o=i&&i.aliases,u,f,a,y;if(!o)return n;u=zp({},n);for(f in o)if(f in u)for(y=o[f].split(","),a=y.length;a--;)u[y[a]]=u[f];return u},cme=function(t,n,i,o){var u=n.ease||o||"power1.inOut",f,a;if(La(n))a=i[t]||(i[t]=[]),n.forEach(function(y,w){return a.push({t:w/(n.length-1)*100,v:y,e:u})});else for(f in n)a=i[f]||(i[f]=[]),f==="ease"||a.push({t:parseFloat(t),v:n[f],e:u})},gg=function(t,n,i,o,u){return fo(t)?t.call(n,i,o,u):Na(t)&&~t.indexOf("random(")?jE(t):t},xB=NE+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",bB={};od(xB+",id,stagger,delay,duration,paused,scrollTrigger",function(e){return bB[e]=1});var Po=function(e){$N(t,e);function t(i,o,u,f){var a;typeof o=="number"&&(u.duration=o,o=u,u=null),a=e.call(this,f?o:fg(o))||this;var y=a.vars,w=y.duration,k=y.delay,M=y.immediateRender,O=y.stagger,$=y.overwrite,N=y.keyframes,B=y.defaults,J=y.scrollTrigger,U=y.yoyoEase,G=o.parent||io,Z=(La(i)||WN(i)?Ku(i[0]):"length"in o)?[i]:gl(i),Q,se,ce,A,_e,le,ve,Ue;if(a._targets=Z.length?BE(Z):kx("GSAP target "+i+" not found. https://greensock.com",!$0.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=$,N||O||Bv(w)||Bv(k)){if(o=a.vars,Q=a.timeline=new jo({data:"nested",defaults:B||{},targets:G&&G.data==="nested"?G.vars.targets:Z}),Q.kill(),Q.parent=Q._dp=Ou(a),Q._start=0,O||Bv(w)||Bv(k)){if(A=Z.length,ve=O&&lB(O),ou(O))for(_e in O)~xB.indexOf(_e)&&(Ue||(Ue={}),Ue[_e]=O[_e]);for(se=0;se<A;se++)ce=Ix(o,bB),ce.stagger=0,U&&(ce.yoyoEase=U),Ue&&zp(ce,Ue),le=Z[se],ce.duration=+gg(w,Ou(a),se,le,Z),ce.delay=(+gg(k,Ou(a),se,le,Z)||0)-a._delay,!O&&A===1&&ce.delay&&(a._delay=k=ce.delay,a._start+=k,ce.delay=0),Q.to(le,ce,ve?ve(se,le,Z):0),Q._ease=$r.none;Q.duration()?w=k=0:a.timeline=0}else if(N){fg(Cl(Q.vars.defaults,{ease:"none"})),Q._ease=vp(N.ease||o.ease||"none");var $e=0,Ae,Re,Oe;if(La(N))N.forEach(function(Ye){return Q.to(Z,Ye,">")}),Q.duration();else{ce={};for(_e in N)_e==="ease"||_e==="easeEach"||cme(_e,N[_e],ce,N.easeEach);for(_e in ce)for(Ae=ce[_e].sort(function(Ye,Qe){return Ye.t-Qe.t}),$e=0,se=0;se<Ae.length;se++)Re=Ae[se],Oe={ease:Re.e,duration:(Re.t-(se?Ae[se-1].t:0))/100*w},Oe[_e]=Re.v,Q.to(Z,Oe,$e),$e+=Oe.duration;Q.duration()<w&&Q.to({},{duration:w-Q.duration()})}}w||a.duration(w=Q.duration())}else a.timeline=0;return $===!0&&!OE&&(qd=Ou(a),io.killTweensOf(Z),qd=0),qc(G,Ou(a),u),o.reversed&&a.reverse(),o.paused&&a.paused(!0),(M||!w&&!N&&a._start===da(G._time)&&vs(M)&&F1e(Ou(a))&&G.data!=="nested")&&(a._tTime=-Ai,a.render(Math.max(0,-k)||0)),J&&iB(Ou(a),J),a}var n=t.prototype;return n.render=function(o,u,f){var a=this._time,y=this._tDur,w=this._dur,k=o<0,M=o>y-Ai&&!k?y:o<Ai?0:o,O,$,N,B,J,U,G,Z,Q;if(!w)B1e(this,o,u,f);else if(M!==this._tTime||!o||f||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==k){if(O=M,Z=this.timeline,this._repeat){if(B=w+this._rDelay,this._repeat<-1&&k)return this.totalTime(B*100+o,u,f);if(O=da(M%B),M===y?(N=this._repeat,O=w):(N=~~(M/B),N&&N===M/B&&(O=w,N--),O>w&&(O=w)),U=this._yoyo&&N&1,U&&(Q=this._yEase,O=w-O),J=V0(this._tTime,B),O===a&&!f&&this._initted)return this._tTime=M,this;N!==J&&(Z&&this._yEase&&yB(Z,U),this.vars.repeatRefresh&&!U&&!this._lock&&(this._lock=f=1,this.render(da(B*N),!0).invalidate()._lock=0))}if(!this._initted){if(oB(this,k?o:O,f,u,M))return this._tTime=0,this;if(a!==this._time)return this;if(w!==this._dur)return this.render(o,u,f)}if(this._tTime=M,this._time=O,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=G=(Q||this._ease)(O/w),this._from&&(this.ratio=G=1-G),O&&!a&&!u&&!N&&(_l(this,"onStart"),this._tTime!==M))return this;for($=this._pt;$;)$.r(G,$.d),$=$._next;Z&&Z.render(o<0?o:!O&&U?-Ai:Z._dur*Z._ease(O/this._dur),u,f)||this._startAt&&(this._zTime=o),this._onUpdate&&!u&&(k&&I8(this,o,u,f),_l(this,"onUpdate")),this._repeat&&N!==J&&this.vars.onRepeat&&!u&&this.parent&&_l(this,"onRepeat"),(M===this._tDur||!M)&&this._tTime===M&&(k&&!this._onUpdate&&I8(this,o,!0,!0),(o||!w)&&(M===this._tDur&&this._ts>0||!M&&this._ts<0)&&ph(this,1),!u&&!(k&&!a)&&(M||a||U)&&(_l(this,M===y?"onComplete":"onReverseComplete",!0),this._prom&&!(M<y&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(o){return(!o||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(o),e.prototype.invalidate.call(this,o)},n.resetTo=function(o,u,f,a){u_||rc.wake(),this._ts||this.play();var y=Math.min(this._dur,(this._dp._time-this._start)*this._ts),w;return this._initted||UE(this,y),w=this._ease(y/this._dur),sme(this,o,u,f,a,w,y)?this.resetTo(o,u,f,a):(g3(this,0),this.parent||nB(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(o,u){if(u===void 0&&(u="all"),!o&&(!u||u==="all"))return this._lazy=this._pt=0,this.parent?Gm(this):this;if(this.timeline){var f=this.timeline.totalDuration();return this.timeline.killTweensOf(o,u,qd&&qd.vars.overwrite!==!0)._first||Gm(this),this.parent&&f!==this.timeline.totalDuration()&&W0(this,this._dur*this.timeline._tDur/f,0,1),this}var a=this._targets,y=o?gl(o):a,w=this._ptLookup,k=this._pt,M,O,$,N,B,J,U;if((!u||u==="all")&&L1e(a,y))return u==="all"&&(this._pt=0),Gm(this);for(M=this._op=this._op||[],u!=="all"&&(Na(u)&&(B={},od(u,function(G){return B[G]=1}),u=B),u=lme(a,u)),U=a.length;U--;)if(~y.indexOf(a[U])){O=w[U],u==="all"?(M[U]=u,N=O,$={}):($=M[U]=M[U]||{},N=u);for(B in N)J=O&&O[B],J&&((!("kill"in J.d)||J.d.kill(B)===!0)&&f3(this,J,"_pt"),delete O[B]),$!=="all"&&($[B]=1)}return this._initted&&!this._pt&&k&&Gm(this),this},t.to=function(o,u){return new t(o,u,arguments[2])},t.from=function(o,u){return mg(1,arguments)},t.delayedCall=function(o,u,f,a){return new t(u,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:o,onComplete:u,onReverseComplete:u,onCompleteParams:f,onReverseCompleteParams:f,callbackScope:a})},t.fromTo=function(o,u,f){return mg(2,arguments)},t.set=function(o,u){return u.duration=0,u.repeatDelay||(u.repeat=0),new t(o,u)},t.killTweensOf=function(o,u,f){return io.killTweensOf(o,u,f)},t}(d_);Cl(Po.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});od("staggerTo,staggerFrom,staggerFromTo",function(e){Po[e]=function(){var t=new jo,n=M8.call(arguments,0);return n.splice(e==="staggerFromTo"?5:4,0,0),t[e].apply(t,n)}});var VE=function(t,n,i){return t[n]=i},wB=function(t,n,i){return t[n](i)},ume=function(t,n,i,o){return t[n](o.fp,i)},dme=function(t,n,i){return t.setAttribute(n,i)},EB=function(t,n){return fo(t[n])?wB:VN(t[n])&&t.setAttribute?dme:VE},SB=function(t,n){return n.set(n.t,n.p,Math.round((n.s+n.c*t)*1e6)/1e6,n)},hme=function(t,n){return n.set(n.t,n.p,!!(n.s+n.c*t),n)},pme=function(t,n){var i=n._pt,o="";if(!t&&n.b)o=n.b;else if(t===1&&n.e)o=n.e;else{for(;i;)o=i.p+(i.m?i.m(i.s+i.c*t):Math.round((i.s+i.c*t)*1e4)/1e4)+o,i=i._next;o+=n.c}n.set(n.t,n.p,o,n)},WE=function(t,n){for(var i=n._pt;i;)i.r(t,i.d),i=i._next},fme=function(t,n,i,o){for(var u=this._pt,f;u;)f=u._next,u.p===o&&u.modifier(t,n,i),u=f},mme=function(t){for(var n=this._pt,i,o;n;)o=n._next,n.p===t&&!n.op||n.op===t?f3(this,n,"_pt"):n.dep||(i=1),n=o;return!i},gme=function(t,n,i,o){o.mSet(t,n,o.m.call(o.tween,i,o.mt),o)},_me=function(t){for(var n=t._pt,i,o,u,f;n;){for(i=n._next,o=u;o&&o.pr>n.pr;)o=o._next;(n._prev=o?o._prev:f)?n._prev._next=n:u=n,(n._next=o)?o._prev=n:f=n,n=i}t._pt=u},m1=function(){function e(n,i,o,u,f,a,y,w,k){this.t=i,this.s=u,this.c=f,this.p=o,this.r=a||SB,this.d=y||this,this.set=w||VE,this.pr=k||0,this._next=n,n&&(n._prev=this)}var t=e.prototype;return t.modifier=function(i,o,u){this.mSet=this.mSet||this.set,this.set=gme,this.m=i,this.mt=u,this.tween=o},e}();od(NE+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(e){return FE[e]=1});Hs.TweenMax=Hs.TweenLite=Po;Hs.TimelineLite=Hs.TimelineMax=jo;io=new jo({sortChildren:!1,defaults:U0,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});$0.stringFilter=Y1e;var xp=[],m2={},yme=[],sM=0,vme=0,E4=function(t){return(m2[t]||yme).map(function(n){return n()})},L8=function(){var t=Date.now(),n=[];t-sM>2&&(E4("matchMediaInit"),xp.forEach(function(i){var o=i.queries,u=i.conditions,f,a,y,w;for(a in o)f=cl.matchMedia(o[a]).matches,f&&(y=1),f!==u[a]&&(u[a]=f,w=1);w&&(i.revert(),y&&n.push(i))}),E4("matchMediaRevert"),n.forEach(function(i){return i.onMatch(i)}),sM=t,E4("matchMedia"))},TB=function(){function e(n,i){this.selector=i&&D8(i),this.data=[],this._r=[],this.isReverted=!1,this.id=vme++,n&&this.add(n)}var t=e.prototype;return t.add=function(i,o,u){fo(i)&&(u=o,o=i,i=fo);var f=this,a=function(){var w=po,k=f.selector,M;return w&&w!==f&&w.data.push(f),u&&(f.selector=D8(u)),po=f,M=o.apply(f,arguments),fo(M)&&f._r.push(M),po=w,f.selector=k,f.isReverted=!1,M};return f.last=a,i===fo?a(f):i?f[i]=a:a},t.ignore=function(i){var o=po;po=null,i(this),po=o},t.getTweens=function(){var i=[];return this.data.forEach(function(o){return o instanceof e?i.push.apply(i,o.getTweens()):o instanceof Po&&!(o.parent&&o.parent.data==="nested")&&i.push(o)}),i},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(i,o){var u=this;if(i){var f=this.getTweens();this.data.forEach(function(y){y.data==="isFlip"&&(y.revert(),y.getChildren(!0,!0,!1).forEach(function(w){return f.splice(f.indexOf(w),1)}))}),f.map(function(y){return{g:y.globalTime(0),t:y}}).sort(function(y,w){return w.g-y.g||-1/0}).forEach(function(y){return y.t.revert(i)}),this.data.forEach(function(y){return!(y instanceof Po)&&y.revert&&y.revert(i)}),this._r.forEach(function(y){return y(i,u)}),this.isReverted=!0}else this.data.forEach(function(y){return y.kill&&y.kill()});if(this.clear(),o)for(var a=xp.length;a--;)xp[a].id===this.id&&xp.splice(a,1)},t.revert=function(i){this.kill(i||{})},e}(),xme=function(){function e(n){this.contexts=[],this.scope=n}var t=e.prototype;return t.add=function(i,o,u){ou(i)||(i={matches:i});var f=new TB(0,u||this.scope),a=f.conditions={},y,w,k;po&&!f.selector&&(f.selector=po.selector),this.contexts.push(f),o=f.add("onMatch",o),f.queries=i;for(w in i)w==="all"?k=1:(y=cl.matchMedia(i[w]),y&&(xp.indexOf(f)<0&&xp.push(f),(a[w]=y.matches)&&(k=1),y.addListener?y.addListener(L8):y.addEventListener("change",L8)));return k&&o(f),this},t.revert=function(i){this.kill(i||{})},t.kill=function(i){this.contexts.forEach(function(o){return o.kill(i,!0)})},e}(),Mx={registerPlugin:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];n.forEach(function(o){return fB(o)})},timeline:function(t){return new jo(t)},getTweensOf:function(t,n){return io.getTweensOf(t,n)},getProperty:function(t,n,i,o){Na(t)&&(t=gl(t)[0]);var u=pg(t||{}).get,f=i?tB:eB;return i==="native"&&(i=""),t&&(n?f((dl[n]&&dl[n].get||u)(t,n,i,o)):function(a,y,w){return f((dl[a]&&dl[a].get||u)(t,a,y,w))})},quickSetter:function(t,n,i){if(t=gl(t),t.length>1){var o=t.map(function(k){return Fp.quickSetter(k,n,i)}),u=o.length;return function(k){for(var M=u;M--;)o[M](k)}}t=t[0]||{};var f=dl[n],a=pg(t),y=a.harness&&(a.harness.aliases||{})[n]||n,w=f?function(k){var M=new f;u0._pt=0,M.init(t,i?k+i:k,u0,0,[t]),M.render(1,M),u0._pt&&WE(1,u0)}:a.set(t,y);return f?w:function(k){return w(t,y,i?k+i:k,a,1)}},quickTo:function(t,n,i){var o,u=Fp.to(t,zp((o={},o[n]="+=0.1",o.paused=!0,o),i||{})),f=function(y,w,k){return u.resetTo(n,y,w,k)};return f.tween=u,f},isTweening:function(t){return io.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=vp(t.ease,U0.ease)),nM(U0,t||{})},config:function(t){return nM($0,t||{})},registerEffect:function(t){var n=t.name,i=t.effect,o=t.plugins,u=t.defaults,f=t.extendTimeline;(o||"").split(",").forEach(function(a){return a&&!dl[a]&&!Hs[a]&&kx(n+" effect requires "+a+" plugin.")}),v4[n]=function(a,y,w){return i(gl(a),Cl(y||{},u),w)},f&&(jo.prototype[n]=function(a,y,w){return this.add(v4[n](a,ou(y)?y:(w=y)&&{},this),w)})},registerEase:function(t,n){$r[t]=vp(n)},parseEase:function(t,n){return arguments.length?vp(t,n):$r},getById:function(t){return io.getById(t)},exportRoot:function(t,n){t===void 0&&(t={});var i=new jo(t),o,u;for(i.smoothChildTiming=vs(t.smoothChildTiming),io.remove(i),i._dp=0,i._time=i._tTime=io._time,o=io._first;o;)u=o._next,(n||!(!o._dur&&o instanceof Po&&o.vars.onComplete===o._targets[0]))&&qc(i,o,o._start-o._delay),o=u;return qc(io,i,0),i},context:function(t,n){return t?new TB(t,n):po},matchMedia:function(t){return new xme(t)},matchMediaRefresh:function(){return xp.forEach(function(t){var n=t.conditions,i,o;for(o in n)n[o]&&(n[o]=!1,i=1);i&&t.revert()})||L8()},addEventListener:function(t,n){var i=m2[t]||(m2[t]=[]);~i.indexOf(n)||i.push(n)},removeEventListener:function(t,n){var i=m2[t],o=i&&i.indexOf(n);o>=0&&i.splice(o,1)},utils:{wrap:G1e,wrapYoyo:Z1e,distribute:lB,random:uB,snap:cB,normalize:q1e,getUnit:fh,clamp:U1e,splitColor:mB,toArray:gl,selector:D8,mapRange:hB,pipe:W1e,unitize:H1e,interpolate:X1e,shuffle:sB},install:ZN,effects:v4,ticker:rc,updateRoot:jo.updateRoot,plugins:dl,globalTimeline:io,core:{PropTween:m1,globals:KN,Tween:Po,Timeline:jo,Animation:d_,getCache:pg,_removeLinkedListItem:f3,reverting:function(){return Oa},context:function(t){return t&&po&&(po.data.push(t),t._ctx=po),po},suppressOverwrites:function(t){return OE=t}}};od("to,from,fromTo,delayedCall,set,killTweensOf",function(e){return Mx[e]=Po[e]});rc.add(jo.updateRoot);u0=Mx.to({},{duration:0});var bme=function(t,n){for(var i=t._pt;i&&i.p!==n&&i.op!==n&&i.fp!==n;)i=i._next;return i},wme=function(t,n){var i=t._targets,o,u,f;for(o in n)for(u=i.length;u--;)f=t._ptLookup[u][o],f&&(f=f.d)&&(f._pt&&(f=bme(f,o)),f&&f.modifier&&f.modifier(n[o],t,i[u],o))},S4=function(t,n){return{name:t,rawVars:1,init:function(o,u,f){f._onInit=function(a){var y,w;if(Na(u)&&(y={},od(u,function(k){return y[k]=1}),u=y),n){y={};for(w in u)y[w]=n(u[w]);u=y}wme(a,u)}}}},Fp=Mx.registerPlugin({name:"attr",init:function(t,n,i,o,u){var f,a,y;this.tween=i;for(f in n)y=t.getAttribute(f)||"",a=this.add(t,"setAttribute",(y||0)+"",n[f],o,u,0,0,f),a.op=f,a.b=y,this._props.push(f)},render:function(t,n){for(var i=n._pt;i;)Oa?i.set(i.t,i.p,i.b,i):i.r(t,i.d),i=i._next}},{name:"endArray",init:function(t,n){for(var i=n.length;i--;)this.add(t,i,t[i]||0,n[i],0,0,0,0,0,1)}},S4("roundProps",R8),S4("modifiers"),S4("snap",cB))||Mx;Po.version=jo.version=Fp.version="3.12.2";GN=1;LE()&&H0();$r.Power0;$r.Power1;$r.Power2;$r.Power3;$r.Power4;$r.Linear;$r.Quad;$r.Cubic;$r.Quart;$r.Quint;$r.Strong;var Eme=$r.Elastic;$r.Back;$r.SteppedEase;$r.Bounce;$r.Sine;$r.Expo;$r.Circ;/*!
 * EasePack 3.12.2
 * https://greensock.com
 *
 * @license Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Bs,jv,CB=function(){return Bs||typeof window<"u"&&(Bs=window.gsap)&&Bs.registerPlugin&&Bs},z8=function(t,n){return!!(typeof t>"u"?n:t&&!~(t+"").indexOf("false"))},Sme=function(t){if(Bs=t||CB(),Bs){jv=Bs.registerEase;var n=Bs.parseEase(),i=function(f){return function(a){var y=.5+a/2;f.config=function(w){return f(2*(1-w)*w*y+w*w)}}},o;for(o in n)n[o].config||i(n[o]);jv("slow",mh),jv("expoScale",HE),jv("rough",h_);for(o in _g)o!=="version"&&Bs.core.globals(o,_g[o])}},kB=function(t,n,i){t=Math.min(1,t||.7);var o=t<1?n||n===0?n:.7:0,u=(1-t)/2,f=u+t,a=z8(i);return function(y){var w=y+(.5-y)*o;return y<u?a?1-(y=1-y/u)*y:w-(y=1-y/u)*y*y*y*w:y>f?a?y===1?0:1-(y=(y-f)/u)*y:w+(y-w)*(y=(y-f)/u)*y*y*y:a?1:w}},PB=function(t,n,i){var o=Math.log(n/t),u=n-t;return i&&(i=Bs.parseEase(i)),function(f){return(t*Math.exp(o*(i?i(f):f))-t)/u}},T4=function(t,n,i){this.t=t,this.v=n,i&&(this.next=i,i.prev=this,this.c=i.v-n,this.gap=i.t-t)},IB=function(t){typeof t!="object"&&(t={points:+t||20});for(var n=t.taper||"none",i=[],o=0,u=(+t.points||20)|0,f=u,a=z8(t.randomize,!0),y=z8(t.clamp),w=Bs?Bs.parseEase(t.template):0,k=(+t.strength||1)*.4,M,O,$,N,B,J,U;--f>-1;)M=a?Math.random():1/u*f,O=w?w(M):M,n==="none"?$=k:n==="out"?(N=1-M,$=N*N*k):n==="in"?$=M*M*k:M<.5?(N=M*2,$=N*N*.5*k):(N=(1-M)*2,$=N*N*.5*k),a?O+=Math.random()*$-$*.5:f%2?O+=$*.5:O-=$*.5,y&&(O>1?O=1:O<0&&(O=0)),i[o++]={x:M,y:O};for(i.sort(function(G,Z){return G.x-Z.x}),J=new T4(1,1,null),f=u;f--;)B=i[f],J=new T4(B.x,B.y,J);return U=new T4(0,0,J.t?J:J.next),function(G){var Z=U;if(G>Z.t){for(;Z.next&&G>=Z.t;)Z=Z.next;Z=Z.prev}else for(;Z.prev&&G<=Z.t;)Z=Z.prev;return U=Z,Z.v+(G-Z.t)/Z.gap*Z.c}},mh=kB(.7);mh.ease=mh;mh.config=kB;var HE=PB(1,2);HE.config=PB;var h_=IB();h_.ease=h_;h_.config=IB;var _g={SlowMo:mh,RoughEase:h_,ExpoScaleEase:HE};for(var lM in _g)_g[lM].register=Sme,_g[lM].version="3.12.2";CB()&&Bs.registerPlugin(mh);class AB extends Zt.Component{componentDidMount(){Uf(".button--bubble").each(function(){var t=Uf(this).parent().find(".circle.top-left"),n=Uf(this).parent().find(".circle.bottom-right"),i=new jo,o=new jo,u=new jo({paused:!0});i.to(t,1.2,{x:-25,y:-25,scaleY:2,ease:mh.ease.config(.1,.7,!1)}),i.to(t.eq(0),.1,{scale:.2,x:"+=6",y:"-=2"}),i.to(t.eq(1),.1,{scaleX:1,scaleY:.8,x:"-=10",y:"-=7"},"-=0.1"),i.to(t.eq(2),.1,{scale:.2,x:"-=15",y:"+=6"},"-=0.1"),i.to(t.eq(0),1,{scale:0,x:"-=5",y:"-=15",opacity:0}),i.to(t.eq(1),1,{scaleX:.4,scaleY:.4,x:"-=10",y:"-=10",opacity:0},"-=1"),i.to(t.eq(2),1,{scale:0,x:"-=15",y:"+=5",opacity:0},"-=1");var f=new jo,a=new jo;f.set(t,{x:0,y:0,rotation:-45}),f.add(i),o.set(n,{x:0,y:0}),o.to(n,1.1,{x:30,y:30,ease:mh.ease.config(.1,.7,!1)}),o.to(n.eq(0),.1,{scale:.2,x:"-=6",y:"+=3"}),o.to(n.eq(1),.1,{scale:.8,x:"+=7",y:"+=3"},"-=0.1"),o.to(n.eq(2),.1,{scale:.2,x:"+=15",y:"-=6"},"-=0.2"),o.to(n.eq(0),1,{scale:0,x:"+=5",y:"+=15",opacity:0}),o.to(n.eq(1),1,{scale:.4,x:"+=7",y:"+=7",opacity:0},"-=1"),o.to(n.eq(2),1,{scale:0,x:"+=15",y:"-=5",opacity:0},"-=1"),a.set(n,{x:0,y:0,rotation:45}),a.add(o),u.add(f),u.to(Uf(this).parent().find(".button.effect-button"),.8,{scaleY:1.1},.1),u.add(a,.2),u.to(Uf(this).parent().find(".button.effect-button"),1.8,{scale:1,ease:Eme.easeOut.config(1.2,.4)},1.2),u.timeScale(2.6),Uf(this).on("mouseover",function(){u.restart()})})}render(){const{onClick:t}=this.props;return z.jsxs("div",{className:"mainbutton",children:[z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",className:"goo",children:z.jsx("defs",{children:z.jsxs("filter",{id:"goo",children:[z.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"10",result:"blur"}),z.jsx("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 19 -9",result:"goo"}),z.jsx("feComposite",{in:"SourceGraphic",in2:"goo"})]})})}),z.jsxs("span",{className:"button--bubble__container",children:[z.jsx("a",{href:"/map",className:"button button--bubble",onClick:t,children:"Create an amble now!"}),z.jsxs("span",{className:"button--bubble__effect-container",children:[z.jsx("span",{className:"circle top-left"}),z.jsx("span",{className:"circle top-left"}),z.jsx("span",{className:"circle top-left"}),z.jsx("span",{className:"button effect-button"}),z.jsx("span",{className:"circle bottom-right"}),z.jsx("span",{className:"circle bottom-right"}),z.jsx("span",{className:"circle bottom-right"})]})]})]})}}function Tme(){return z.jsx(z.Fragment,{children:z.jsx("div",{className:"wrapper-function-1",children:z.jsx("a",{className:"wrapper-function-text",children:z.jsx("span",{children:"↓"})})})})}const qE=({zoom:e})=>(V.useEffect(()=>{ds.accessToken="pk.eyJ1IjoieGluZ3llYWgiLCJhIjoiY2toeWFsOXdsMGE3djJybjBzaGZkdWE2aSJ9.wqzmeUmjmYZiKeW3NGvIiw";const t=new ds.Map({container:"map",center:[-73.971321,40.776676],zoom:e||10.7,style:"mapbox://styles/xingyeah/clk2yxv5y006s01pg4ws580kw"});return()=>{t.remove()}},[e]),z.jsx("div",{id:"map",style:{width:"97.5%",height:"97.5%",border:"0px solid #00684a"}}));function Cme(){const[e,t]=V.useState(""),[n,i]=V.useState("");V.useEffect(()=>{o()},[]);let o=()=>{Hp.get("users/getquote").then(u=>{const f=u.data,a=Object.keys(f),y=Math.floor(Math.random()*a.length),w=a[y],k=f[w];t(k),i(w)}).catch(u=>{console.error("Error fetching data:",u)})};return ed({palette:{primary:{main:"#004d40"},secondary:{main:"#004d40"}}}),z.jsxs("div",{className:"landing-page-container",children:[z.jsx("div",{className:"menubar-area",children:z.jsx(RE,{})}),z.jsxs("div",{children:[z.jsxs("div",{className:"quote",children:[z.jsx("h2",{children:e}),z.jsxs("small",{children:["- ",n]})]}),z.jsx("div",{className:"btn-container",children:z.jsx("button",{className:"btn",onClick:o,children:"Get a reflection"})}),z.jsx("br",{}),z.jsx("br",{}),z.jsx("br",{}),z.jsx("br",{})]})]})}const kme=()=>{const[e,t]=V.useState(""),[n,i]=V.useState(""),o=B=>{t(B.target.value)},u=async()=>{try{const B=await Hp.post("/users/chatgpt",{input:e});i(B.data.message),console.log(B.data.message)}catch(B){console.error("Error fetching response from backend:",B)}};ed({palette:{primary:{main:"#004d40"},secondary:{main:"#004d40"}}});const f=40.7505,a=-73.9934,y="Yeshiva University Museum",w=7,k="415 East Houston Street, 10002 Manhattan",M=new Date,O={month:"long",day:"numeric"},$=M.toLocaleString(void 0,O),N=[{value:"",label:"Interesting stuff about your amble"},{value:`Tell me one thing good that happened on ${$}`,label:"1. Tell me something good that happened on this date"},{value:`Give me a short paragraph on ${y}`,label:"2. Where is an interesting place I might visit as I amble"},{value:`Suggest some mindfulness classes around ${k} `,label:"3. Suggest some mindfulness classes on my route"},{value:`On average how many calories will I burn on a ${w} mile walk?`,label:"4. On average how many calories will I burn?"},{value:`What point of interest is found around longitude ${a} and latitude ${f}?`,label:"5. What else is interesting as I amble?"},{value:`Who was born on ${$}?`,label:"6. Who was born on this day?"}];return z.jsxs("div",{className:"landing-page-container",children:[z.jsx("div",{children:z.jsx("select",{value:e,onChange:o,children:N.map(B=>z.jsx("option",{value:B.value,children:B.label},B.value))})}),z.jsx("div",{className:"btn-container",children:z.jsx("button",{className:"btn",onClick:u,children:"Choose something"})}),z.jsx("br",{}),z.jsx("br",{}),z.jsx("div",{className:"response-container",children:n&&z.jsx("div",{children:n})}),z.jsx("div",{className:"attribution-text",children:"Get a reflection from 'They Said So' : Chose something powered by ChatGPT"}),z.jsx("br",{}),z.jsx("div",{className:"endbar"})]})},Pme=()=>z.jsxs("div",{children:[z.jsx(Cme,{}),z.jsx(kme,{})]});function MB(){const[e,t]=V.useState(!1),[n,i]=V.useState(!1),o=V.useRef(null),u=V.useRef(null),[f,a]=V.useState(!1),y=()=>{document.querySelector(".additional-block-close-menubar").classList.add("hide"),document.querySelector(".overlay").classList.add("hide"),document.querySelector(".menu-bar").classList.add("hide"),document.querySelector(".additional-blocks-menubar").classList.add("hide"),document.querySelector(".additional-block-text-menubar").classList.add("hide")},w=()=>{document.querySelector(".additional-block-close-Reg-menu").classList.add("hide"),document.querySelector(".overlay-Reg").classList.add("hide"),document.querySelector(".Reg-menu").classList.add("hide"),document.querySelector(".additional-blocks-Reg").classList.add("hide"),document.querySelector(".additional-block-text-Reg").classList.add("hide")},k=()=>{y()},M=()=>{w()},O=()=>{t(!e)},$=()=>{n?(k(),setTimeout(()=>{i(!1)},1e3)):i(!0)},N=()=>{f?(M(),setTimeout(()=>{a(!1)},1e3)):a(!0)},B=J=>{o.current&&!o.current.contains(J.target)&&!u.current.contains(J.target)&&t(!1)};return V.useEffect(()=>(document.addEventListener("mousedown",B),()=>{document.removeEventListener("mousedown",B)}),[]),z.jsxs("div",{className:"menubar-container",children:[z.jsx("div",{className:"menu-button-wrapper",children:z.jsx(FN,{className:"menu-button",sx:{fontSize:24,color:"white"},onClick:$})}),z.jsxs("div",{className:"profile-button-wrapper",children:[z.jsx(BN,{className:`profile-button ${e?"active":""}`,sx:{fontSize:25,color:"white"},onClick:O,ref:u}),e&&z.jsxs("div",{className:"options-box",ref:o,children:[z.jsxs("button",{className:"option",children:[" ",z.jsx("span",{className:"option-text",onClick:N,children:"Sign Up"})]}),z.jsx("button",{className:"option",children:z.jsx("span",{className:"option-text",children:"Sign In"})})]})]}),z.jsx("div",{className:"history-button-wrapper",children:z.jsx(NN,{className:"history-button",sx:{fontSize:25,color:"white"}})}),n&&z.jsxs(z.Fragment,{children:[z.jsxs("div",{className:`menu-bar ${n?"show":""}`,children:[z.jsxs("div",{className:"additional-blocks-menubar",children:[z.jsx("div",{className:"additional-block-text-menubar",children:z.jsx("span",{className:"text_bar_2-menubar",children:"Navigation"})}),z.jsx("div",{className:"additional-block-close-menubar",children:z.jsx(iu,{sx:{fontSize:27,color:"white"},onClick:$})})]}),z.jsx("button",{className:"option-bottom-menu",children:"Home Page"}),z.jsx("button",{className:"option-bottom-menu",children:"Plan Page"}),z.jsx("button",{className:"option-bottom-menu",children:"Green Inform Page"}),z.jsx("button",{className:"option-bottom-menu",children:"About"})]}),z.jsx("div",{className:"overlay"})]}),f&&z.jsxs(z.Fragment,{children:[z.jsxs("div",{className:`Reg-menu ${f?"show":""}`,children:[z.jsxs("div",{className:"additional-blocks-Reg",children:[z.jsx("div",{className:"additional-block-text-Reg",children:z.jsx("span",{className:"text_bar_2-Reg",children:"Sign Up"})}),z.jsx("div",{className:"additional-block-close-Reg-menu",children:z.jsx(iu,{sx:{fontSize:27,color:"white"},onClick:N})})]}),z.jsx(nN,{})]}),z.jsx("div",{className:"overlay-Reg"})]})]})}ed({palette:{primary:{main:"#004d40"},secondary:{main:"#004d40"}}});const cM=[];function uM(){const e=hc(),[t,n]=V.useState(0),i=()=>{e("/interface-two")};return V.useEffect(()=>{const o=setInterval(()=>{n(u=>(u+1)%cM.length)},80);return()=>{clearInterval(o)}},[]),z.jsxs(z.Fragment,{children:[z.jsx(MB,{}),z.jsxs("div",{className:"homepagecontainer",children:[z.jsx("div",{className:"mapwrapper_homepage",children:z.jsx(qE,{zoom:12.8})}),z.jsxs("div",{className:"flex-container",children:[z.jsxs("span",{className:"hometext",children:[z.jsx("span",{style:{fontSize:"28px",fontWeight:550},children:"amble - the peaceful way"}),z.jsx("br",{}),z.jsx("span",{style:{fontSize:"16px"},children:"The purpose of our application is to generate walking routes for users to guide them though the quiet corners of Manhattan. The route generating algorthm takes forecast conditions into our machine learning model to determine busyiness based on taxizone, citibike and subway data and pair this infomation with crimes statistics for areas of Manhattan to ensure users can enjoy a quiet, peaceful and safe journey!"})]}),z.jsx("div",{className:"LOGO",children:z.jsx("img",{src:cM[t],className:"Logo",alt:"Logo"})}),z.jsx(AB,{onClick:i})]})]})]})}var Ime={exports:{}};(function(e,t){(function(n,i){e.exports=i()})(En,function(){var n=1e3,i=6e4,o=36e5,u="millisecond",f="second",a="minute",y="hour",w="day",k="week",M="month",O="quarter",$="year",N="date",B="Invalid Date",J=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,U=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,G={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Ae){var Re=["th","st","nd","rd"],Oe=Ae%100;return"["+Ae+(Re[(Oe-20)%10]||Re[Oe]||Re[0])+"]"}},Z=function(Ae,Re,Oe){var Ye=String(Ae);return!Ye||Ye.length>=Re?Ae:""+Array(Re+1-Ye.length).join(Oe)+Ae},Q={s:Z,z:function(Ae){var Re=-Ae.utcOffset(),Oe=Math.abs(Re),Ye=Math.floor(Oe/60),Qe=Oe%60;return(Re<=0?"+":"-")+Z(Ye,2,"0")+":"+Z(Qe,2,"0")},m:function Ae(Re,Oe){if(Re.date()<Oe.date())return-Ae(Oe,Re);var Ye=12*(Oe.year()-Re.year())+(Oe.month()-Re.month()),Qe=Re.clone().add(Ye,M),ze=Oe-Qe<0,Pe=Re.clone().add(Ye+(ze?-1:1),M);return+(-(Ye+(Oe-Qe)/(ze?Qe-Pe:Pe-Qe))||0)},a:function(Ae){return Ae<0?Math.ceil(Ae)||0:Math.floor(Ae)},p:function(Ae){return{M,y:$,w:k,d:w,D:N,h:y,m:a,s:f,ms:u,Q:O}[Ae]||String(Ae||"").toLowerCase().replace(/s$/,"")},u:function(Ae){return Ae===void 0}},se="en",ce={};ce[se]=G;var A=function(Ae){return Ae instanceof Ue},_e=function Ae(Re,Oe,Ye){var Qe;if(!Re)return se;if(typeof Re=="string"){var ze=Re.toLowerCase();ce[ze]&&(Qe=ze),Oe&&(ce[ze]=Oe,Qe=ze);var Pe=Re.split("-");if(!Qe&&Pe.length>1)return Ae(Pe[0])}else{var je=Re.name;ce[je]=Re,Qe=je}return!Ye&&Qe&&(se=Qe),Qe||!Ye&&se},le=function(Ae,Re){if(A(Ae))return Ae.clone();var Oe=typeof Re=="object"?Re:{};return Oe.date=Ae,Oe.args=arguments,new Ue(Oe)},ve=Q;ve.l=_e,ve.i=A,ve.w=function(Ae,Re){return le(Ae,{locale:Re.$L,utc:Re.$u,x:Re.$x,$offset:Re.$offset})};var Ue=function(){function Ae(Oe){this.$L=_e(Oe.locale,null,!0),this.parse(Oe)}var Re=Ae.prototype;return Re.parse=function(Oe){this.$d=function(Ye){var Qe=Ye.date,ze=Ye.utc;if(Qe===null)return new Date(NaN);if(ve.u(Qe))return new Date;if(Qe instanceof Date)return new Date(Qe);if(typeof Qe=="string"&&!/Z$/i.test(Qe)){var Pe=Qe.match(J);if(Pe){var je=Pe[2]-1||0,lt=(Pe[7]||"0").substring(0,3);return ze?new Date(Date.UTC(Pe[1],je,Pe[3]||1,Pe[4]||0,Pe[5]||0,Pe[6]||0,lt)):new Date(Pe[1],je,Pe[3]||1,Pe[4]||0,Pe[5]||0,Pe[6]||0,lt)}}return new Date(Qe)}(Oe),this.$x=Oe.x||{},this.init()},Re.init=function(){var Oe=this.$d;this.$y=Oe.getFullYear(),this.$M=Oe.getMonth(),this.$D=Oe.getDate(),this.$W=Oe.getDay(),this.$H=Oe.getHours(),this.$m=Oe.getMinutes(),this.$s=Oe.getSeconds(),this.$ms=Oe.getMilliseconds()},Re.$utils=function(){return ve},Re.isValid=function(){return this.$d.toString()!==B},Re.isSame=function(Oe,Ye){var Qe=le(Oe);return this.startOf(Ye)<=Qe&&Qe<=this.endOf(Ye)},Re.isAfter=function(Oe,Ye){return le(Oe)<this.startOf(Ye)},Re.isBefore=function(Oe,Ye){return this.endOf(Ye)<le(Oe)},Re.$g=function(Oe,Ye,Qe){return ve.u(Oe)?this[Ye]:this.set(Qe,Oe)},Re.unix=function(){return Math.floor(this.valueOf()/1e3)},Re.valueOf=function(){return this.$d.getTime()},Re.startOf=function(Oe,Ye){var Qe=this,ze=!!ve.u(Ye)||Ye,Pe=ve.p(Oe),je=function(Rt,St){var Qt=ve.w(Qe.$u?Date.UTC(Qe.$y,St,Rt):new Date(Qe.$y,St,Rt),Qe);return ze?Qt:Qt.endOf(w)},lt=function(Rt,St){return ve.w(Qe.toDate()[Rt].apply(Qe.toDate("s"),(ze?[0,0,0,0]:[23,59,59,999]).slice(St)),Qe)},ot=this.$W,ct=this.$M,Ct=this.$D,ut="set"+(this.$u?"UTC":"");switch(Pe){case $:return ze?je(1,0):je(31,11);case M:return ze?je(1,ct):je(0,ct+1);case k:var yt=this.$locale().weekStart||0,Dt=(ot<yt?ot+7:ot)-yt;return je(ze?Ct-Dt:Ct+(6-Dt),ct);case w:case N:return lt(ut+"Hours",0);case y:return lt(ut+"Minutes",1);case a:return lt(ut+"Seconds",2);case f:return lt(ut+"Milliseconds",3);default:return this.clone()}},Re.endOf=function(Oe){return this.startOf(Oe,!1)},Re.$set=function(Oe,Ye){var Qe,ze=ve.p(Oe),Pe="set"+(this.$u?"UTC":""),je=(Qe={},Qe[w]=Pe+"Date",Qe[N]=Pe+"Date",Qe[M]=Pe+"Month",Qe[$]=Pe+"FullYear",Qe[y]=Pe+"Hours",Qe[a]=Pe+"Minutes",Qe[f]=Pe+"Seconds",Qe[u]=Pe+"Milliseconds",Qe)[ze],lt=ze===w?this.$D+(Ye-this.$W):Ye;if(ze===M||ze===$){var ot=this.clone().set(N,1);ot.$d[je](lt),ot.init(),this.$d=ot.set(N,Math.min(this.$D,ot.daysInMonth())).$d}else je&&this.$d[je](lt);return this.init(),this},Re.set=function(Oe,Ye){return this.clone().$set(Oe,Ye)},Re.get=function(Oe){return this[ve.p(Oe)]()},Re.add=function(Oe,Ye){var Qe,ze=this;Oe=Number(Oe);var Pe=ve.p(Ye),je=function(ct){var Ct=le(ze);return ve.w(Ct.date(Ct.date()+Math.round(ct*Oe)),ze)};if(Pe===M)return this.set(M,this.$M+Oe);if(Pe===$)return this.set($,this.$y+Oe);if(Pe===w)return je(1);if(Pe===k)return je(7);var lt=(Qe={},Qe[a]=i,Qe[y]=o,Qe[f]=n,Qe)[Pe]||1,ot=this.$d.getTime()+Oe*lt;return ve.w(ot,this)},Re.subtract=function(Oe,Ye){return this.add(-1*Oe,Ye)},Re.format=function(Oe){var Ye=this,Qe=this.$locale();if(!this.isValid())return Qe.invalidDate||B;var ze=Oe||"YYYY-MM-DDTHH:mm:ssZ",Pe=ve.z(this),je=this.$H,lt=this.$m,ot=this.$M,ct=Qe.weekdays,Ct=Qe.months,ut=function(St,Qt,Lt,qt){return St&&(St[Qt]||St(Ye,ze))||Lt[Qt].slice(0,qt)},yt=function(St){return ve.s(je%12||12,St,"0")},Dt=Qe.meridiem||function(St,Qt,Lt){var qt=St<12?"AM":"PM";return Lt?qt.toLowerCase():qt},Rt={YY:String(this.$y).slice(-2),YYYY:ve.s(this.$y,4,"0"),M:ot+1,MM:ve.s(ot+1,2,"0"),MMM:ut(Qe.monthsShort,ot,Ct,3),MMMM:ut(Ct,ot),D:this.$D,DD:ve.s(this.$D,2,"0"),d:String(this.$W),dd:ut(Qe.weekdaysMin,this.$W,ct,2),ddd:ut(Qe.weekdaysShort,this.$W,ct,3),dddd:ct[this.$W],H:String(je),HH:ve.s(je,2,"0"),h:yt(1),hh:yt(2),a:Dt(je,lt,!0),A:Dt(je,lt,!1),m:String(lt),mm:ve.s(lt,2,"0"),s:String(this.$s),ss:ve.s(this.$s,2,"0"),SSS:ve.s(this.$ms,3,"0"),Z:Pe};return ze.replace(U,function(St,Qt){return Qt||Rt[St]||Pe.replace(":","")})},Re.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Re.diff=function(Oe,Ye,Qe){var ze,Pe=ve.p(Ye),je=le(Oe),lt=(je.utcOffset()-this.utcOffset())*i,ot=this-je,ct=ve.m(this,je);return ct=(ze={},ze[$]=ct/12,ze[M]=ct,ze[O]=ct/3,ze[k]=(ot-lt)/6048e5,ze[w]=(ot-lt)/864e5,ze[y]=ot/o,ze[a]=ot/i,ze[f]=ot/n,ze)[Pe]||ot,Qe?ct:ve.a(ct)},Re.daysInMonth=function(){return this.endOf(M).$D},Re.$locale=function(){return ce[this.$L]},Re.locale=function(Oe,Ye){if(!Oe)return this.$L;var Qe=this.clone(),ze=_e(Oe,Ye,!0);return ze&&(Qe.$L=ze),Qe},Re.clone=function(){return ve.w(this.$d,this)},Re.toDate=function(){return new Date(this.valueOf())},Re.toJSON=function(){return this.isValid()?this.toISOString():null},Re.toISOString=function(){return this.$d.toISOString()},Re.toString=function(){return this.$d.toUTCString()},Ae}(),$e=Ue.prototype;return le.prototype=$e,[["$ms",u],["$s",f],["$m",a],["$H",y],["$W",w],["$M",M],["$y",$],["$D",N]].forEach(function(Ae){$e[Ae[1]]=function(Re){return this.$g(Re,Ae[0],Ae[1])}}),le.extend=function(Ae,Re){return Ae.$i||(Ae(Re,Ue,le),Ae.$i=!0),le},le.locale=_e,le.isDayjs=A,le.unix=function(Ae){return le(1e3*Ae)},le.en=ce[se],le.Ls=ce,le.p={},le})})(Ime);const Dx="api.openweathermap.org/data/2.5",Rx="80503c1dbe4d41ea31d3d65de6bad11b";var GE={},Ame=pc;Object.defineProperty(GE,"__esModule",{value:!0});var DB=GE.default=void 0,Mme=Ame(fc()),Dme=z,Rme=(0,Mme.default)((0,Dme.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96z"}),"Cloud");DB=GE.default=Rme;function dM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function F8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dM(Object(n),!0).forEach(function(i){Ni(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dM(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hM(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function y3(e,t,n){return t&&hM(e.prototype,t),n&&hM(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ni(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function au(){return au=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},au.apply(this,arguments)}function ZE(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N8(e,t)}function Ox(e){return Ox=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Ox(e)}function N8(e,t){return N8=Object.setPrototypeOf||function(i,o){return i.__proto__=o,i},N8(e,t)}function Ome(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Lme(e,t){if(e==null)return{};var n={},i=Object.keys(e),o,u;for(u=0;u<i.length;u++)o=i[u],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function v3(e,t){if(e==null)return{};var n=Lme(e,t),i,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)i=u[o],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function tc(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zme(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tc(e)}function XE(e){var t=Ome();return function(){var i=Ox(e),o;if(t){var u=Ox(this).constructor;o=Reflect.construct(i,arguments,u)}else o=i.apply(this,arguments);return zme(this,o)}}function Fme(e,t){return jme(e)||Ume(e,t)||RB(e,t)||Wme()}function Nme(e){return Bme(e)||$me(e)||RB(e)||Vme()}function Bme(e){if(Array.isArray(e))return B8(e)}function jme(e){if(Array.isArray(e))return e}function $me(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ume(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i=[],o=!0,u=!1,f,a;try{for(n=n.call(e);!(o=(f=n.next()).done)&&(i.push(f.value),!(t&&i.length===t));o=!0);}catch(y){u=!0,a=y}finally{try{!o&&n.return!=null&&n.return()}finally{if(u)throw a}}return i}}function RB(e,t){if(e){if(typeof e=="string")return B8(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B8(e,t)}}function B8(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Vme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Hme=y3(function e(t){var n=this,i=t.expanded,o=i===void 0?[]:i,u=t.allowMultipleExpanded,f=u===void 0?!1:u,a=t.allowZeroExpanded,y=a===void 0?!1:a;_3(this,e),Ni(this,"expanded",void 0),Ni(this,"allowMultipleExpanded",void 0),Ni(this,"allowZeroExpanded",void 0),Ni(this,"toggleExpanded",function(w){if(n.isItemDisabled(w))return n;var k=n.isItemExpanded(w);return k?n.augment({expanded:n.expanded.filter(function(M){return M!==w})}):n.augment({expanded:n.allowMultipleExpanded?[].concat(Nme(n.expanded),[w]):[w]})}),Ni(this,"isItemDisabled",function(w){var k=n.isItemExpanded(w),M=n.expanded.length===1;return!!(k&&!n.allowZeroExpanded&&M)}),Ni(this,"isItemExpanded",function(w){return n.expanded.indexOf(w)!==-1}),Ni(this,"getPanelAttributes",function(w,k){var M=k??n.isItemExpanded(w);return{role:n.allowMultipleExpanded?void 0:"region","aria-hidden":n.allowMultipleExpanded?!M:void 0,"aria-labelledby":n.getButtonId(w),id:n.getPanelId(w),hidden:M?void 0:!0}}),Ni(this,"getHeadingAttributes",function(){return{role:"heading"}}),Ni(this,"getButtonAttributes",function(w,k){var M=k??n.isItemExpanded(w),O=n.isItemDisabled(w);return{id:n.getButtonId(w),"aria-disabled":O,"aria-expanded":M,"aria-controls":n.getPanelId(w),role:"button",tabIndex:0}}),Ni(this,"getPanelId",function(w){return"accordion__panel-".concat(w)}),Ni(this,"getButtonId",function(w){return"accordion__heading-".concat(w)}),Ni(this,"augment",function(w){return new e(F8({expanded:n.expanded,allowMultipleExpanded:n.allowMultipleExpanded,allowZeroExpanded:n.allowZeroExpanded},w))}),this.expanded=o,this.allowMultipleExpanded=f,this.allowZeroExpanded=y}),OB=V.createContext(null),LB=function(e){ZE(n,e);var t=XE(n);function n(){var i;_3(this,n);for(var o=arguments.length,u=new Array(o),f=0;f<o;f++)u[f]=arguments[f];return i=t.call.apply(t,[this].concat(u)),Ni(tc(i),"state",new Hme({expanded:i.props.preExpanded,allowMultipleExpanded:i.props.allowMultipleExpanded,allowZeroExpanded:i.props.allowZeroExpanded})),Ni(tc(i),"toggleExpanded",function(a){i.setState(function(y){return y.toggleExpanded(a)},function(){i.props.onChange&&i.props.onChange(i.state.expanded)})}),Ni(tc(i),"isItemDisabled",function(a){return i.state.isItemDisabled(a)}),Ni(tc(i),"isItemExpanded",function(a){return i.state.isItemExpanded(a)}),Ni(tc(i),"getPanelAttributes",function(a,y){return i.state.getPanelAttributes(a,y)}),Ni(tc(i),"getHeadingAttributes",function(){return i.state.getHeadingAttributes()}),Ni(tc(i),"getButtonAttributes",function(a,y){return i.state.getButtonAttributes(a,y)}),i}return y3(n,[{key:"render",value:function(){var o=this.state,u=o.allowZeroExpanded,f=o.allowMultipleExpanded;return V.createElement(OB.Provider,{value:{allowMultipleExpanded:f,allowZeroExpanded:u,toggleExpanded:this.toggleExpanded,isItemDisabled:this.isItemDisabled,isItemExpanded:this.isItemExpanded,getPanelAttributes:this.getPanelAttributes,getHeadingAttributes:this.getHeadingAttributes,getButtonAttributes:this.getButtonAttributes}},this.props.children||null)}}]),n}(V.PureComponent);Ni(LB,"defaultProps",{allowMultipleExpanded:!1,allowZeroExpanded:!1});var zB=function(e){ZE(n,e);var t=XE(n);function n(){var i;_3(this,n);for(var o=arguments.length,u=new Array(o),f=0;f<o;f++)u[f]=arguments[f];return i=t.call.apply(t,[this].concat(u)),Ni(tc(i),"renderChildren",function(a){return a?i.props.children(a):null}),i}return y3(n,[{key:"render",value:function(){return V.createElement(OB.Consumer,null,this.renderChildren)}}]),n}(V.PureComponent),qme=["className","allowMultipleExpanded","allowZeroExpanded","onChange","preExpanded"],FB=function(t){var n=t.className,i=n===void 0?"accordion":n,o=t.allowMultipleExpanded,u=t.allowZeroExpanded,f=t.onChange,a=t.preExpanded,y=v3(t,qme);return V.createElement(LB,{preExpanded:a,allowMultipleExpanded:o,allowZeroExpanded:u,onChange:f},V.createElement("div",au({"data-accordion-component":"Accordion",className:i},y)))},j8;(function(e){e.Accordion="Accordion",e.AccordionItem="AccordionItem",e.AccordionItemButton="AccordionItemButton",e.AccordionItemHeading="AccordionItemHeading",e.AccordionItemPanel="AccordionItemPanel"})(j8||(j8={}));var NB=j8,C4=0;function Gme(){var e=C4;return C4=C4+1,"raa-".concat(e)}var Zme=V.useId||Gme,Xme=/[\u0009\u000a\u000c\u000d\u0020]/g;function p_(e){return e===""||Xme.test(e)?(console.error('uuid must be a valid HTML5 id but was given "'.concat(e,'", ASCII whitespaces are forbidden')),!1):!0}var BB=V.createContext(null),Kme=function(t){var n=t.children,i=t.uuid,o=t.accordionContext,u=t.dangerouslySetExpanded,f=function(){o.toggleExpanded(i)},a=function(w){var k=u??w.isItemExpanded(i),M=w.isItemDisabled(i),O=w.getPanelAttributes(i,u),$=w.getHeadingAttributes(i),N=w.getButtonAttributes(i,u);return V.createElement(BB.Provider,{value:{uuid:i,expanded:k,disabled:M,toggleExpanded:f,panelAttributes:O,headingAttributes:$,buttonAttributes:N}},n)};return V.createElement(zB,null,a)},Yme=function(t){return V.createElement(zB,null,function(n){return V.createElement(Kme,au({},t,{accordionContext:n}))})},x3=function(t){var n=t.children,i=function(u){return u?n(u):null};return V.createElement(BB.Consumer,null,i)},Jme=["uuid","dangerouslySetExpanded","className","activeClassName"],KE=function(t){var n=t.uuid,i=t.dangerouslySetExpanded,o=t.className,u=o===void 0?"accordion__item":o,f=t.activeClassName,a=v3(t,Jme),y=V.useState(Zme()),w=Fme(y,1),k=w[0],M=n??k,O=function(N){var B=N.expanded,J=B&&f?f:u;return V.createElement("div",au({"data-accordion-component":"AccordionItem",className:J},a))};return p_(M.toString()),a.id&&p_(a.id),V.createElement(Yme,{uuid:M,dangerouslySetExpanded:i},V.createElement(x3,null,O))};KE.displayName=NB.AccordionItem;function jB(e){return e&&(e.matches('[data-accordion-component="Accordion"]')?e:jB(e.parentElement))}function b3(e){var t=jB(e);return t&&Array.from(t.querySelectorAll('[data-accordion-component="AccordionItemButton"]'))}function Qme(e){var t=b3(e)||[],n=t[0];n&&n.focus()}function ege(e){var t=b3(e)||[],n=t[t.length-1];n&&n.focus()}function tge(e){var t=b3(e)||[],n=t.indexOf(e);if(n!==-1){var i=t[n+1];i&&i.focus()}}function nge(e){var t=b3(e)||[],n=t.indexOf(e);if(n!==-1){var i=t[n-1];i&&i.focus()}}var Du={END:"End",ENTER:"Enter",HOME:"Home",SPACE:" ",SPACE_DEPRECATED:"Spacebar",UP:"ArrowUp",DOWN:"ArrowDown",LEFT:"ArrowLeft",RIGHT:"ArrowRight"},rge=["toggleExpanded","className"],ige=function(t){var n=t.toggleExpanded,i=t.className,o=i===void 0?"accordion__button":i,u=v3(t,rge),f=function(y){var w=y.key;if((w===Du.ENTER||w===Du.SPACE||w===Du.SPACE_DEPRECATED)&&(y.preventDefault(),n()),y.target instanceof HTMLElement)switch(w){case Du.HOME:{y.preventDefault(),Qme(y.target);break}case Du.END:{y.preventDefault(),ege(y.target);break}case Du.LEFT:case Du.UP:{y.preventDefault(),nge(y.target);break}case Du.RIGHT:case Du.DOWN:{y.preventDefault(),tge(y.target);break}}};return u.id&&p_(u.id),V.createElement("div",au({className:o},u,{role:"button",tabIndex:0,onClick:n,onKeyDown:f,"data-accordion-component":"AccordionItemButton"}))},$B=function(t){return V.createElement(x3,null,function(n){var i=n.toggleExpanded,o=n.buttonAttributes;return V.createElement(ige,au({toggleExpanded:i},t,o))})},oge={className:"accordion__heading","aria-level":3},age=`AccordionItemButton may contain only one child element, which must be an instance of AccordionItemButton.

From the WAI-ARIA spec (https://www.w3.org/TR/wai-aria-practices-1.1/#accordion):

“The button element is the only element inside the heading element. That is, if there are other visually persistent elements, they are not included inside the heading element.”

`,UB=function(e){ZE(n,e);var t=XE(n);function n(){var i;_3(this,n);for(var o=arguments.length,u=new Array(o),f=0;f<o;f++)u[f]=arguments[f];return i=t.call.apply(t,[this].concat(u)),Ni(tc(i),"ref",void 0),Ni(tc(i),"setRef",function(a){i.ref=a}),i}return y3(n,[{key:"componentDidUpdate",value:function(){n.VALIDATE(this.ref)}},{key:"componentDidMount",value:function(){n.VALIDATE(this.ref)}},{key:"render",value:function(){return V.createElement("div",au({"data-accordion-component":"AccordionItemHeading"},this.props,{ref:this.setRef}))}}],[{key:"VALIDATE",value:function(o){if(o===void 0)throw new Error("ref is undefined");if(!(o.childElementCount===1&&o.firstElementChild&&o.firstElementChild.getAttribute("data-accordion-component")==="AccordionItemButton"))throw new Error(age)}}]),n}(V.PureComponent);Ni(UB,"defaultProps",oge);var YE=function(t){return V.createElement(x3,null,function(n){var i=n.headingAttributes;return t.id&&p_(t.id),V.createElement(UB,au({},t,i))})};YE.displayName=NB.AccordionItemHeading;var sge=["className","region","id"],VB=function(t){var n=t.className,i=n===void 0?"accordion__panel":n,o=t.region,u=t.id,f=v3(t,sge),a=function(w){var k=w.panelAttributes;u&&p_(u);var M=F8(F8({},k),{},{"aria-labelledby":o?k["aria-labelledby"]:void 0});return V.createElement("div",au({"data-accordion-component":"AccordionItemPanel",className:i},f,M,{role:o?"region":void 0}))};return V.createElement(x3,null,a)};const lge=({data:e})=>z.jsxs(z.Fragment,{children:[z.jsx("label",{className:"title",children:"Future Three Days"}),z.jsx("div",{style:{overflow:"auto"},children:z.jsx(FB,{allowZeroExpanded:!0,children:e.list.slice(0,24).map((t,n)=>z.jsxs(KE,{children:[z.jsx(YE,{children:z.jsx($B,{children:z.jsxs("div",{className:"daily-item",children:[z.jsx("img",{alt:"weather",className:"icon-small",src:`https://openweathermap.org/img/wn/${t.weather[0].icon}@2x.png`}),z.jsx("label",{className:"Date",children:t.dt_txt}),z.jsx("label",{className:"weather-general",children:t.weather[0].main}),z.jsxs("label",{className:"min-max",children:[Math.round(t.main.temp_min),"°C/",Math.round(t.main.temp_max),"°C"]})]})})}),z.jsx(VB,{children:z.jsxs("div",{className:"daily-details-grids",children:[z.jsxs("div",{className:"daily-details-grids-item",children:[z.jsx("label",{className:"d-title",children:"Description:"}),z.jsx("label",{className:"content",children:t.weather[0].description})]}),z.jsxs("div",{className:"daily-details-grids-item",children:[z.jsx("label",{className:"d-title",children:"Pressure:"}),z.jsxs("label",{className:"content",children:[t.main.pressure," hPa"]})]}),z.jsxs("div",{className:"daily-details-grids-item",children:[z.jsx("label",{className:"d-title",children:"Humidity:"}),z.jsxs("label",{className:"content",children:[t.main.humidity,"%"]})]}),z.jsxs("div",{className:"daily-details-grids-item",children:[z.jsx("label",{className:"d-title",children:"Clouds:"}),z.jsxs("label",{className:"content",children:[t.clouds.all,"%"]})]}),z.jsxs("div",{className:"daily-details-grids-item",children:[z.jsx("label",{className:"d-title",children:"Wind speed:"}),z.jsxs("label",{className:"content",children:[t.wind.speed," m/s"]})]}),z.jsxs("div",{className:"daily-details-grids-item",children:[z.jsx("label",{className:"d-title",children:"Feels like:"}),z.jsxs("label",{className:"content",children:[t.main.feels_like,"°C"]})]})]})})]},n))})})]});const cge=({data:e})=>z.jsxs(z.Fragment,{children:[z.jsx("label",{className:"title",children:"Current"}),z.jsx(FB,{allowZeroExpanded:!0,children:z.jsxs(KE,{children:[z.jsx(YE,{children:z.jsx($B,{children:z.jsxs("div",{className:"daily-item",children:[z.jsx("img",{alt:"weather",className:"icon-small",src:`https://openweathermap.org/img/wn/${e.weather[0].icon}@2x.png`}),z.jsx("label",{className:"Date",children:"Now"}),z.jsx("label",{className:"weather-general",children:e.weather[0].main}),z.jsxs("label",{className:"min-max",children:[Math.round(e.main.temp_min),"°C/",Math.round(e.main.temp_max),"°C"]})]})})}),z.jsx(VB,{children:z.jsxs("div",{className:"daily-details-grids",children:[z.jsxs("div",{className:"daily-details-grids-item",children:[z.jsx("label",{className:"d-title",children:"Description:"}),z.jsx("label",{className:"content",children:e.weather[0].description})]}),z.jsxs("div",{className:"daily-details-grids-item",children:[z.jsx("label",{className:"d-title",children:"Pressure:"}),z.jsxs("label",{className:"content",children:[e.main.pressure," hPa"]})]}),z.jsxs("div",{className:"daily-details-grids-item",children:[z.jsx("label",{className:"d-title",children:"Humidity:"}),z.jsxs("label",{className:"content",children:[e.main.humidity,"%"]})]}),z.jsxs("div",{className:"daily-details-grids-item",children:[z.jsx("label",{className:"d-title",children:"Clouds:"}),z.jsxs("label",{className:"content",children:[e.clouds.all,"%"]})]}),z.jsxs("div",{className:"daily-details-grids-item",children:[z.jsx("label",{className:"d-title",children:"Wind speed:"}),z.jsxs("label",{className:"content",children:[e.wind.speed," m/s"]})]}),z.jsxs("div",{className:"daily-details-grids-item",children:[z.jsx("label",{className:"d-title",children:"Feels like:"}),z.jsxs("label",{className:"content",children:[e.main.feels_like,"°C"]})]})]})})]})})]}),uge=ed({palette:{primary:{main:"#004d40"},secondary:{main:"#004d40"}}});function dge(){const e=hc(),t=()=>{e("/")},[n,i]=V.useState(!1),o=()=>{n?(u(),setTimeout(()=>{i(!1)},1e3)):i(!0)},u=()=>{f()},f=()=>{document.querySelector(".popup-overlay").classList.add("hide"),document.querySelector(".additional-blocks-weather").classList.add("hide"),document.querySelector(".additional-block-close-weather").classList.add("hide"),document.querySelector(".w_current").classList.add("hide"),document.querySelector(".overlay-weatherwin").classList.add("hide")},[a,y]=V.useState(null),[w,k]=V.useState(null),M=()=>{const O=fetch(`https://${Dx}/weather?lat=40.776676&lon=-73.971321&appid=${Rx}&units=metric`),$=fetch(`https://${Dx}/forecast?lat=40.776676&lon=-73.971321&appid=${Rx}&units=metric`);Promise.all([O,$]).then(async N=>{const B=await N[0].json(),J=await N[1].json();y(B),k(J)}).catch(N=>console.log(N))};return V.useEffect(()=>{M()},[]),console.log(a),console.log(w),z.jsx(sE,{theme:uge,children:z.jsxs("div",{children:[z.jsx("div",{className:"menubar-area-interface",children:z.jsx(RE,{})}),z.jsx("div",{className:"mapwrapper_routeplan",children:z.jsx("img",{src:"/static/images/newyork.jpg",alt:"pics",className:"pic-in-rightbox"})}),n&&z.jsx(z.Fragment,{children:z.jsxs("div",{className:"popup-overlay",children:[z.jsxs("div",{className:"additional-blocks-weather",children:[z.jsx("div",{className:"additional-block-text-preplan-weatherwin",children:z.jsx("span",{className:"text_bar_2-preplan-weatherwin",children:"Weather Information"})}),z.jsx("div",{className:"additional-block-close-weather",onClick:o,children:z.jsx(iu,{sx:{fontSize:27,color:"white"}})})]}),z.jsxs("div",{className:"w_current",children:[a&&z.jsx(cge,{data:a}),w&&z.jsx(lge,{data:w})]})]})}),n&&z.jsx("div",{className:"overlay-weatherwin"}),z.jsx("div",{className:"PlanWin",children:z.jsxs("div",{className:"PlanMap",children:[z.jsxs("div",{className:"additional-blocks",children:[z.jsx("div",{className:"additional-block-text-preplan",children:z.jsx("span",{className:"text_bar_2-preplan",children:"During the planning process"})}),z.jsx("div",{className:"additional-block-weather",onClick:o,children:z.jsx(DB,{sx:{fontSize:24,color:"white"}})}),z.jsx("div",{className:"additional-block-close",onClick:t,children:z.jsx(iu,{sx:{fontSize:27,color:"white"}})})]}),z.jsx(pce,{})]})})]})})}const hge="pk.eyJ1IjoiZmluYmFyYWxsYW4iLCJhIjoiY2xqY3NtYWN6MjV0ODNqcXhhaTY4aGQxdSJ9.VeVQzxCCtpyP_MeT1CkjOg";ds.accessToken=hge;const pge=()=>{V.useEffect(()=>{if(t.current)return;t.current=new ds.Map({container:e.current,style:"mapbox://styles/mapbox/streets-v12",center:[o,n],zoom:f});const k=sF.data.map(M=>({id:M.id,name:M.name,latitude:M.location.latitude,longitude:M.location.longitude}));w(k),console.log(k),t.current.on("load",()=>{k.forEach(M=>{const O=document.createElement("div");O.className="marker",new ds.Marker(O).setLngLat([M.longitude,M.latitude]).addTo(t.current)})})},[]),V.useEffect(()=>{t.current&&t.current.on("move",()=>{u(t.current.getCenter().lng.toFixed(4)),i(t.current.getCenter().lat.toFixed(4)),a(t.current.getZoom().toFixed(2))})});const e=V.useRef(null),t=V.useRef(null),[n,i]=V.useState(40.727872),[o,u]=V.useState(-73.993157),[f,a]=V.useState(12.4),[y,w]=V.useState([]);return z.jsx("div",{children:z.jsx("div",{ref:e,className:"map-container"})})};const fge=({data:e})=>z.jsxs("div",{className:"weather",children:[z.jsxs("div",{className:"top",children:[z.jsx("img",{alt:"weather",className:"weather-icon",src:`https://openweathermap.org/img/wn/${e.weather[0].icon}@2x.png`}),z.jsxs("p",{className:"temperature",children:[Math.round(e.main.temp),"°C"]})]}),z.jsx("div",{className:"parameter-row",children:z.jsx("p",{className:"weather-description",children:e.weather[0].description})}),z.jsxs("div",{className:"parameter-row",children:[z.jsx("span",{className:"parameter-label",children:"Feels like"}),z.jsx("div",{children:z.jsxs("span",{className:"parameter-value",children:[Math.round(e.main.feels_like),"°C"]})})]}),z.jsxs("div",{className:"parameter-row",children:[z.jsx("span",{className:"parameter-label",children:"Wind"}),z.jsx("div",{children:z.jsxs("span",{className:"parameter-value",children:[e.wind.speed," m/s"]})})]}),z.jsxs("div",{className:"parameter-row",children:[z.jsx("span",{className:"parameter-label",children:"Humidity"}),z.jsx("div",{children:z.jsxs("span",{className:"parameter-value",children:[e.main.humidity,"%"]})})]})]}),mge=ed({palette:{primary:{main:"#004d40"},secondary:{main:"#004d40"}}});function gge(){const[e,t]=V.useState(null),[n,i]=V.useState(null),o=()=>{const u=fetch(`https://${Dx}/weather?lat=40.776676&lon=-73.971321&appid=${Rx}&units=metric`),f=fetch(`https://${Dx}/forecast?lat=40.776676&lon=-73.971321&appid=${Rx}&units=metric`);Promise.all([u,f]).then(async a=>{const y=await a[0].json(),w=await a[1].json();t(y),i(w)}).catch(a=>console.log(a))};return V.useEffect(()=>{o()},[]),console.log(e),console.log(n),z.jsx(sE,{theme:mge,children:z.jsxs("div",{children:[z.jsx(MB,{}),z.jsx("div",{className:"mapwrapper_showroute",children:z.jsx(qE,{zoom:15.5})}),z.jsxs("div",{className:"PlanWin",children:[z.jsx("div",{className:"green-weather-block",children:e&&z.jsx(fge,{data:e})}),z.jsxs("div",{className:"PlanMap",children:[z.jsxs("div",{className:"button-group-1",children:[z.jsx(Jl,{variant:"contained",style:{borderRadius:0},sx:{width:"270px",height:"2.8rem"},size:"small",color:"primary",children:"Route Information"}),z.jsx(Jl,{variant:"contained",style:{borderRadius:0},sx:{width:"270px",height:"2.8rem"},size:"small",color:"primary",children:"General Information"})]}),z.jsxs("div",{className:"additional-blocks",children:[z.jsx("div",{className:"additional-block-text",children:z.jsx("span",{className:"text_bar_2",children:"Regernate Plan"})}),z.jsx("div",{className:"additional-block-favorite",children:z.jsx(ux,{sx:{fontSize:24,color:"white"}})}),z.jsx("div",{className:"additional-block-close",children:z.jsx(iu,{sx:{fontSize:26,color:"white"}})})]}),z.jsx(pge,{})]})]})]})})}const _ge=()=>{const{signIn:e}=h3(),[t,n]=V.useState(""),[i,o]=V.useState(""),[u,f]=V.useState(""),a=hc(),y=async w=>{w.preventDefault(),f("");try{await e(t,i),a("/account")}catch(k){f(k.message),console.log(k.message)}};return z.jsxs("div",{className:"Signin-container",children:[z.jsxs("div",{children:[z.jsx("h1",{className:"signin-text1",children:"Sign in to your account"}),z.jsxs("p",{className:"signin-text2",children:["Don't have an account yet? ",z.jsx(Jx,{to:"/signup",className:"signin-text3",children:"Sign up."})]})]}),z.jsxs("form",{children:[z.jsxs("div",{className:"email-container",children:[z.jsx("label",{children:"Email Address"}),z.jsx("input",{onChange:w=>n(w.target.value),type:"email",className:"email"})]}),z.jsxs("div",{className:"password-container",children:[z.jsx("label",{children:"Password"}),z.jsx("input",{onChange:w=>o(w.target.value),type:"password",className:"password"})]}),z.jsx("div",{className:"wrapper-function-signin",children:z.jsx("a",{className:"wrapper-function-text-signin",onClick:y,href:"#",type:"submit",children:z.jsx("span",{children:"Sign In"})})})]})]})},yge=()=>{const[e,t]=V.useState(""),[n,i]=V.useState(""),[o,u]=V.useState(""),[f,a]=V.useState(""),[y,w]=V.useState(""),{createUser:k}=h3(),M=hc(),O=async $=>{$.preventDefault(),u("");try{await k(e,n,f,y),M("/account")}catch(N){u(N.message),console.log(N.message)}};return z.jsxs("div",{className:"Signup-container",children:[z.jsxs("div",{children:[z.jsx("h1",{className:"signup-text1",children:"Sign up for a free account"}),z.jsxs("p",{className:"signup-text2",children:["Already have an account yet?"," ",z.jsx(Jx,{to:"/signin",className:"signup-text3",children:"Sign in."})]})]}),z.jsxs("form",{onSubmit:O,children:[z.jsxs("div",{className:"email-container",children:[z.jsx("label",{children:"Email Address"}),z.jsx("input",{onChange:$=>t($.target.value),type:"email",className:"email"})]}),z.jsxs("div",{className:"name-container",children:[z.jsx("label",{children:"User Name"}),z.jsx("input",{onChange:$=>a($.target.value),type:"text",className:"name"})]}),z.jsxs("div",{className:"address-container",children:[z.jsx("label",{children:"Address"}),z.jsx("input",{onChange:$=>w($.target.value),type:"text",className:"address"})]}),z.jsxs("div",{className:"password-container",children:[z.jsx("label",{children:"Password"}),z.jsx("input",{onChange:$=>i($.target.value),type:"password",className:"password"})]}),z.jsx("div",{className:"wrapper-function-signup",children:z.jsx("a",{className:"wrapper-function-text-signup",href:"#",type:"submit",onClick:O,children:z.jsx("span",{children:"Sign Up"})})})]})]})};const vge=()=>{const e=hc(),{user:t,logout:n}=h3(),i=async()=>{try{await n(),e("/signin"),console.log("You are logged out")}catch(o){console.log(o.message)}};return z.jsxs("div",{className:"account",children:[z.jsx("h1",{className:"account-text1",children:"Account"}),z.jsxs("p",{className:"account-text2",children:["User Email:",t&&t.email]}),z.jsx("div",{className:"wrapper-function-logout",children:z.jsx("a",{className:"wrapper-function-text-logout",href:"#",type:"submit",onClick:i,children:z.jsx("span",{children:"Log Out"})})})]})},xge=({children:e})=>{const{user:t}=h3();return t?e:z.jsx(IH,{to:"/signin"})};ed({palette:{primary:{main:"#004d40"},secondary:{main:"#004d40"}}});function bge(){const{temp1:e,temp2:t}=iN(),n=e+" "+t+"!",i=e+" "+t;return z.jsxs("div",{className:"landing-page-container",children:[z.jsx("div",{className:"menubar-area",children:z.jsx(RE,{})}),z.jsxs("div",{className:"homepage-pics-container",children:[z.jsxs("div",{className:"left-color-block",children:[z.jsxs("span",{className:"hometext-title",children:[!e&&!t&&z.jsxs("span",{style:{fontSize:"36px",fontWeight:500},children:["amble ",z.jsx("br",{}),"- the peaceful way"]}),e&&t&&z.jsxs("span",{style:{fontSize:"36px",fontWeight:500},children:["Welcome back our everlasting friend,",z.jsx("br",{}),i,"!"]}),z.jsx("br",{}),z.jsx("br",{}),z.jsx("br",{}),z.jsxs("span",{style:{fontSize:"16px"},children:["The purpose of our application is to generate walking routes for users to guide them though the quiet corners of Manhattan.",z.jsx("br",{}),z.jsx("br",{}),"The route generating algorthm takes forecast conditions into our machine learning model to determine busyiness based on taxizone, citibike and subway data and pair this infomation with crimes statistics for areas of Manhattan to ensure users can enjoy a quiet, peaceful and safe journey!"]})]}),z.jsx("div",{className:"home-button-container",children:z.jsx(AB,{})})]}),z.jsx("div",{className:"guidebutton",children:z.jsx("a",{href:"#mapwrapper_landingpage",children:z.jsx(Tme,{})})})]}),z.jsxs("div",{className:"mapwrapper_landingpage",id:"mapwrapper_landingpage",children:[z.jsx("div",{className:"leftbox",children:z.jsx(qE,{zoom:12})}),z.jsxs("div",{className:"rightbox",children:[z.jsx("div",{className:"rightbox-in-1",children:z.jsxs("span",{className:"hometext-address",children:[z.jsx("span",{style:{fontSize:"42px",fontWeight:500},children:"Hey, "}),e&&t&&z.jsx("span",{style:{fontSize:"38px",fontWeight:500},children:n}),z.jsx("br",{}),z.jsx("br",{}),z.jsxs("span",{style:{fontSize:"17px"},children:["Please discover the green world around you!"," "]}),z.jsx("span",{style:{fontSize:"17px"},children:"You can find pedestrian walkways, gardens, green spaces, parks, commercial areas, and a vast array of interest points."})]})}),z.jsx("div",{className:"rightbox-in-2",children:z.jsx("img",{src:"/static/images/newyork6.jpg",alt:"pics",className:"pic-in-rightbox"})})]})]}),z.jsx("div",{className:"endbar"})]})}function wge(){return z.jsx("h2",{children:"The requested page does not exist"})}function Ege(){return z.jsx("div",{children:z.jsx(FH,{children:z.jsx(VH,{children:z.jsx(Qhe,{children:z.jsx($H,{children:z.jsx(hpe,{children:z.jsxs(MH,{children:[z.jsx(Ga,{exact:!0,path:"/",element:z.jsx(bge,{})}),z.jsx(Ga,{exact:!0,path:"/map",element:z.jsx(dge,{})}),z.jsx(Ga,{path:"/login",element:z.jsx(nN,{})}),z.jsx(Ga,{path:"/loginCheck",element:z.jsx(ppe,{})}),z.jsx(Ga,{path:"/userpref",element:z.jsx(t1e,{})}),z.jsx(Ga,{path:"*",element:z.jsx(wge,{})}),z.jsx(Ga,{path:"/chatbox",element:z.jsx(s1e,{})}),z.jsx(Ga,{path:"/showroute",element:z.jsx(gge,{})}),z.jsx(Ga,{path:"/homepage",element:z.jsx(uM,{})}),z.jsx(Ga,{path:"/signin",element:z.jsx(_ge,{})}),z.jsx(Ga,{path:"/signup",element:z.jsx(yge,{})}),z.jsx(Ga,{path:"/homepage",element:z.jsx(uM,{})}),z.jsx(Ga,{path:"/resources",element:z.jsx(Pme,{})}),z.jsx(Ga,{path:"/account",element:z.jsx(xge,{children:z.jsx(vge,{})})})]})})})})})})})}const Sge=k4.createRoot(document.getElementById("root"));Sge.render(z.jsx(Ege,{}));
