function Qz(e,t){for(var r=0;r<t.length;r++){const o=t[r];if(typeof o!="string"&&!Array.isArray(o)){for(const l in o)if(l!=="default"&&!(l in e)){const u=Object.getOwnPropertyDescriptor(o,l);u&&Object.defineProperty(e,l,u.get?u:{enumerable:!0,get:()=>o[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var Vh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ac(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function eL(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function o(){if(this instanceof o){var l=[null];l.push.apply(l,arguments);var u=Function.bind.apply(t,l);return new u}return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(o){var l=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(r,o,l.get?l:{enumerable:!0,get:function(){return e[o]}})}),r}var ME={exports:{}},a2={},IE={exports:{}},Fr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $g=Symbol.for("react.element"),tL=Symbol.for("react.portal"),nL=Symbol.for("react.fragment"),rL=Symbol.for("react.strict_mode"),iL=Symbol.for("react.profiler"),oL=Symbol.for("react.provider"),sL=Symbol.for("react.context"),aL=Symbol.for("react.forward_ref"),lL=Symbol.for("react.suspense"),cL=Symbol.for("react.memo"),uL=Symbol.for("react.lazy"),WS=Symbol.iterator;function dL(e){return e===null||typeof e!="object"?null:(e=WS&&e[WS]||e["@@iterator"],typeof e=="function"?e:null)}var AE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},DE=Object.assign,RE={};function Wf(e,t,r){this.props=e,this.context=t,this.refs=RE,this.updater=r||AE}Wf.prototype.isReactComponent={};Wf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Wf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function zE(){}zE.prototype=Wf.prototype;function Gw(e,t,r){this.props=e,this.context=t,this.refs=RE,this.updater=r||AE}var qw=Gw.prototype=new zE;qw.constructor=Gw;DE(qw,Wf.prototype);qw.isPureReactComponent=!0;var HS=Array.isArray,LE=Object.prototype.hasOwnProperty,Zw={current:null},OE={key:!0,ref:!0,__self:!0,__source:!0};function FE(e,t,r){var o,l={},u=null,f=null;if(t!=null)for(o in t.ref!==void 0&&(f=t.ref),t.key!==void 0&&(u=""+t.key),t)LE.call(t,o)&&!OE.hasOwnProperty(o)&&(l[o]=t[o]);var i=arguments.length-2;if(i===1)l.children=r;else if(1<i){for(var _=Array(i),b=0;b<i;b++)_[b]=arguments[b+2];l.children=_}if(e&&e.defaultProps)for(o in i=e.defaultProps,i)l[o]===void 0&&(l[o]=i[o]);return{$$typeof:$g,type:e,key:u,ref:f,props:l,_owner:Zw.current}}function hL(e,t){return{$$typeof:$g,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Xw(e){return typeof e=="object"&&e!==null&&e.$$typeof===$g}function pL(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var GS=/\/+/g;function nb(e,t){return typeof e=="object"&&e!==null&&e.key!=null?pL(""+e.key):t.toString(36)}function jy(e,t,r,o,l){var u=typeof e;(u==="undefined"||u==="boolean")&&(e=null);var f=!1;if(e===null)f=!0;else switch(u){case"string":case"number":f=!0;break;case"object":switch(e.$$typeof){case $g:case tL:f=!0}}if(f)return f=e,l=l(f),e=o===""?"."+nb(f,0):o,HS(l)?(r="",e!=null&&(r=e.replace(GS,"$&/")+"/"),jy(l,t,r,"",function(b){return b})):l!=null&&(Xw(l)&&(l=hL(l,r+(!l.key||f&&f.key===l.key?"":(""+l.key).replace(GS,"$&/")+"/")+e)),t.push(l)),1;if(f=0,o=o===""?".":o+":",HS(e))for(var i=0;i<e.length;i++){u=e[i];var _=o+nb(u,i);f+=jy(u,t,r,_,l)}else if(_=dL(e),typeof _=="function")for(e=_.call(e),i=0;!(u=e.next()).done;)u=u.value,_=o+nb(u,i++),f+=jy(u,t,r,_,l);else if(u==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return f}function ly(e,t,r){if(e==null)return e;var o=[],l=0;return jy(e,o,"","",function(u){return t.call(r,u,l++)}),o}function fL(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ds={current:null},Vy={transition:null},mL={ReactCurrentDispatcher:Ds,ReactCurrentBatchConfig:Vy,ReactCurrentOwner:Zw};Fr.Children={map:ly,forEach:function(e,t,r){ly(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ly(e,function(){t++}),t},toArray:function(e){return ly(e,function(t){return t})||[]},only:function(e){if(!Xw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Fr.Component=Wf;Fr.Fragment=nL;Fr.Profiler=iL;Fr.PureComponent=Gw;Fr.StrictMode=rL;Fr.Suspense=lL;Fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mL;Fr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=DE({},e.props),l=e.key,u=e.ref,f=e._owner;if(t!=null){if(t.ref!==void 0&&(u=t.ref,f=Zw.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(_ in t)LE.call(t,_)&&!OE.hasOwnProperty(_)&&(o[_]=t[_]===void 0&&i!==void 0?i[_]:t[_])}var _=arguments.length-2;if(_===1)o.children=r;else if(1<_){i=Array(_);for(var b=0;b<_;b++)i[b]=arguments[b+2];o.children=i}return{$$typeof:$g,type:e.type,key:l,ref:u,props:o,_owner:f}};Fr.createContext=function(e){return e={$$typeof:sL,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:oL,_context:e},e.Consumer=e};Fr.createElement=FE;Fr.createFactory=function(e){var t=FE.bind(null,e);return t.type=e,t};Fr.createRef=function(){return{current:null}};Fr.forwardRef=function(e){return{$$typeof:aL,render:e}};Fr.isValidElement=Xw;Fr.lazy=function(e){return{$$typeof:uL,_payload:{_status:-1,_result:e},_init:fL}};Fr.memo=function(e,t){return{$$typeof:cL,type:e,compare:t===void 0?null:t}};Fr.startTransition=function(e){var t=Vy.transition;Vy.transition={};try{e()}finally{Vy.transition=t}};Fr.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Fr.useCallback=function(e,t){return Ds.current.useCallback(e,t)};Fr.useContext=function(e){return Ds.current.useContext(e)};Fr.useDebugValue=function(){};Fr.useDeferredValue=function(e){return Ds.current.useDeferredValue(e)};Fr.useEffect=function(e,t){return Ds.current.useEffect(e,t)};Fr.useId=function(){return Ds.current.useId()};Fr.useImperativeHandle=function(e,t,r){return Ds.current.useImperativeHandle(e,t,r)};Fr.useInsertionEffect=function(e,t){return Ds.current.useInsertionEffect(e,t)};Fr.useLayoutEffect=function(e,t){return Ds.current.useLayoutEffect(e,t)};Fr.useMemo=function(e,t){return Ds.current.useMemo(e,t)};Fr.useReducer=function(e,t,r){return Ds.current.useReducer(e,t,r)};Fr.useRef=function(e){return Ds.current.useRef(e)};Fr.useState=function(e){return Ds.current.useState(e)};Fr.useSyncExternalStore=function(e,t,r){return Ds.current.useSyncExternalStore(e,t,r)};Fr.useTransition=function(){return Ds.current.useTransition()};Fr.version="18.2.0";IE.exports=Fr;var U=IE.exports;const Gs=Ac(U),rg=Qz({__proto__:null,default:Gs},[U]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gL=U,yL=Symbol.for("react.element"),_L=Symbol.for("react.fragment"),vL=Object.prototype.hasOwnProperty,xL=gL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bL={key:!0,ref:!0,__self:!0,__source:!0};function BE(e,t,r){var o,l={},u=null,f=null;r!==void 0&&(u=""+r),t.key!==void 0&&(u=""+t.key),t.ref!==void 0&&(f=t.ref);for(o in t)vL.call(t,o)&&!bL.hasOwnProperty(o)&&(l[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps,t)l[o]===void 0&&(l[o]=t[o]);return{$$typeof:yL,type:e,key:u,ref:f,props:l,_owner:xL.current}}a2.Fragment=_L;a2.jsx=BE;a2.jsxs=BE;ME.exports=a2;var V=ME.exports,l3={},NE={exports:{}},Ma={},$E={exports:{}},jE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Me,Le){var qe=Me.length;Me.push(Le);e:for(;0<qe;){var ct=qe-1>>>1,wt=Me[ct];if(0<l(wt,Le))Me[ct]=Le,Me[qe]=wt,qe=ct;else break e}}function r(Me){return Me.length===0?null:Me[0]}function o(Me){if(Me.length===0)return null;var Le=Me[0],qe=Me.pop();if(qe!==Le){Me[0]=qe;e:for(var ct=0,wt=Me.length,St=wt>>>1;ct<St;){var ht=2*(ct+1)-1,Dt=Me[ht],bt=ht+1,Et=Me[bt];if(0>l(Dt,qe))bt<wt&&0>l(Et,Dt)?(Me[ct]=Et,Me[bt]=qe,ct=bt):(Me[ct]=Dt,Me[ht]=qe,ct=ht);else if(bt<wt&&0>l(Et,qe))Me[ct]=Et,Me[bt]=qe,ct=bt;else break e}}return Le}function l(Me,Le){var qe=Me.sortIndex-Le.sortIndex;return qe!==0?qe:Me.id-Le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var f=Date,i=f.now();e.unstable_now=function(){return f.now()-i}}var _=[],b=[],E=1,k=null,R=3,B=!1,F=!1,L=!1,X=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(Me){for(var Le=r(b);Le!==null;){if(Le.callback===null)o(b);else if(Le.startTime<=Me)o(b),Le.sortIndex=Le.expirationTime,t(_,Le);else break;Le=r(b)}}function Q(Me){if(L=!1,G(Me),!F)if(r(_)!==null)F=!0,je(te);else{var Le=r(b);Le!==null&&ze(Q,Le.startTime-Me)}}function te(Me,Le){F=!1,L&&(L=!1,$(de),de=-1),B=!0;var qe=R;try{for(G(Le),k=r(_);k!==null&&(!(k.expirationTime>Le)||Me&&!ke());){var ct=k.callback;if(typeof ct=="function"){k.callback=null,R=k.priorityLevel;var wt=ct(k.expirationTime<=Le);Le=e.unstable_now(),typeof wt=="function"?k.callback=wt:k===r(_)&&o(_),G(Le)}else o(_);k=r(_)}if(k!==null)var St=!0;else{var ht=r(b);ht!==null&&ze(Q,ht.startTime-Le),St=!1}return St}finally{k=null,R=qe,B=!1}}var le=!1,M=null,de=-1,ce=5,xe=-1;function ke(){return!(e.unstable_now()-xe<ce)}function $e(){if(M!==null){var Me=e.unstable_now();xe=Me;var Le=!0;try{Le=M(!0,Me)}finally{Le?_e():(le=!1,M=null)}}else le=!1}var _e;if(typeof H=="function")_e=function(){H($e)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,me=we.port2;we.port1.onmessage=$e,_e=function(){me.postMessage(null)}}else _e=function(){X($e,0)};function je(Me){M=Me,le||(le=!0,_e())}function ze(Me,Le){de=X(function(){Me(e.unstable_now())},Le)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Me){Me.callback=null},e.unstable_continueExecution=function(){F||B||(F=!0,je(te))},e.unstable_forceFrameRate=function(Me){0>Me||125<Me?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<Me?Math.floor(1e3/Me):5},e.unstable_getCurrentPriorityLevel=function(){return R},e.unstable_getFirstCallbackNode=function(){return r(_)},e.unstable_next=function(Me){switch(R){case 1:case 2:case 3:var Le=3;break;default:Le=R}var qe=R;R=Le;try{return Me()}finally{R=qe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Me,Le){switch(Me){case 1:case 2:case 3:case 4:case 5:break;default:Me=3}var qe=R;R=Me;try{return Le()}finally{R=qe}},e.unstable_scheduleCallback=function(Me,Le,qe){var ct=e.unstable_now();switch(typeof qe=="object"&&qe!==null?(qe=qe.delay,qe=typeof qe=="number"&&0<qe?ct+qe:ct):qe=ct,Me){case 1:var wt=-1;break;case 2:wt=250;break;case 5:wt=1073741823;break;case 4:wt=1e4;break;default:wt=5e3}return wt=qe+wt,Me={id:E++,callback:Le,priorityLevel:Me,startTime:qe,expirationTime:wt,sortIndex:-1},qe>ct?(Me.sortIndex=qe,t(b,Me),r(_)===null&&Me===r(b)&&(L?($(de),de=-1):L=!0,ze(Q,qe-ct))):(Me.sortIndex=wt,t(_,Me),F||B||(F=!0,je(te))),Me},e.unstable_shouldYield=ke,e.unstable_wrapCallback=function(Me){var Le=R;return function(){var qe=R;R=Le;try{return Me.apply(this,arguments)}finally{R=qe}}}})(jE);$E.exports=jE;var wL=$E.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VE=U,Ea=wL;function hn(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var UE=new Set,ig={};function Uh(e,t){wf(e,t),wf(e+"Capture",t)}function wf(e,t){for(ig[e]=t,e=0;e<t.length;e++)UE.add(t[e])}var pu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c3=Object.prototype.hasOwnProperty,SL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qS={},ZS={};function TL(e){return c3.call(ZS,e)?!0:c3.call(qS,e)?!1:SL.test(e)?ZS[e]=!0:(qS[e]=!0,!1)}function CL(e,t,r,o){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function EL(e,t,r,o){if(t===null||typeof t>"u"||CL(e,t,r,o))return!0;if(o)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Rs(e,t,r,o,l,u,f){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=l,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=u,this.removeEmptyString=f}var ns={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ns[e]=new Rs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ns[t]=new Rs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ns[e]=new Rs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ns[e]=new Rs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ns[e]=new Rs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ns[e]=new Rs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ns[e]=new Rs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ns[e]=new Rs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ns[e]=new Rs(e,5,!1,e.toLowerCase(),null,!1,!1)});var Yw=/[\-:]([a-z])/g;function Kw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Yw,Kw);ns[t]=new Rs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Yw,Kw);ns[t]=new Rs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Yw,Kw);ns[t]=new Rs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ns[e]=new Rs(e,1,!1,e.toLowerCase(),null,!1,!1)});ns.xlinkHref=new Rs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ns[e]=new Rs(e,1,!1,e.toLowerCase(),null,!0,!0)});function Jw(e,t,r,o){var l=ns.hasOwnProperty(t)?ns[t]:null;(l!==null?l.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(EL(t,r,l,o)&&(r=null),o||l===null?TL(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):l.mustUseProperty?e[l.propertyName]=r===null?l.type===3?!1:"":r:(t=l.attributeName,o=l.attributeNamespace,r===null?e.removeAttribute(t):(l=l.type,r=l===3||l===4&&r===!0?"":""+r,o?e.setAttributeNS(o,t,r):e.setAttribute(t,r))))}var bu=VE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cy=Symbol.for("react.element"),Zp=Symbol.for("react.portal"),Xp=Symbol.for("react.fragment"),Qw=Symbol.for("react.strict_mode"),u3=Symbol.for("react.profiler"),WE=Symbol.for("react.provider"),HE=Symbol.for("react.context"),e4=Symbol.for("react.forward_ref"),d3=Symbol.for("react.suspense"),h3=Symbol.for("react.suspense_list"),t4=Symbol.for("react.memo"),Ju=Symbol.for("react.lazy"),GE=Symbol.for("react.offscreen"),XS=Symbol.iterator;function om(e){return e===null||typeof e!="object"?null:(e=XS&&e[XS]||e["@@iterator"],typeof e=="function"?e:null)}var to=Object.assign,rb;function Cm(e){if(rb===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);rb=t&&t[1]||""}return`
`+rb+e}var ib=!1;function ob(e,t){if(!e||ib)return"";ib=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(b){var o=b}Reflect.construct(e,[],t)}else{try{t.call()}catch(b){o=b}e.call(t.prototype)}else{try{throw Error()}catch(b){o=b}e()}}catch(b){if(b&&o&&typeof b.stack=="string"){for(var l=b.stack.split(`
`),u=o.stack.split(`
`),f=l.length-1,i=u.length-1;1<=f&&0<=i&&l[f]!==u[i];)i--;for(;1<=f&&0<=i;f--,i--)if(l[f]!==u[i]){if(f!==1||i!==1)do if(f--,i--,0>i||l[f]!==u[i]){var _=`
`+l[f].replace(" at new "," at ");return e.displayName&&_.includes("<anonymous>")&&(_=_.replace("<anonymous>",e.displayName)),_}while(1<=f&&0<=i);break}}}finally{ib=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Cm(e):""}function PL(e){switch(e.tag){case 5:return Cm(e.type);case 16:return Cm("Lazy");case 13:return Cm("Suspense");case 19:return Cm("SuspenseList");case 0:case 2:case 15:return e=ob(e.type,!1),e;case 11:return e=ob(e.type.render,!1),e;case 1:return e=ob(e.type,!0),e;default:return""}}function p3(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Xp:return"Fragment";case Zp:return"Portal";case u3:return"Profiler";case Qw:return"StrictMode";case d3:return"Suspense";case h3:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case HE:return(e.displayName||"Context")+".Consumer";case WE:return(e._context.displayName||"Context")+".Provider";case e4:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case t4:return t=e.displayName||null,t!==null?t:p3(e.type)||"Memo";case Ju:t=e._payload,e=e._init;try{return p3(e(t))}catch{}}return null}function kL(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return p3(t);case 8:return t===Qw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function yd(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qE(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ML(e){var t=qE(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var l=r.get,u=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(f){o=""+f,u.call(this,f)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(f){o=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function uy(e){e._valueTracker||(e._valueTracker=ML(e))}function ZE(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),o="";return e&&(o=qE(e)?e.checked?"true":"false":e.value),e=o,e!==r?(t.setValue(e),!0):!1}function d_(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function f3(e,t){var r=t.checked;return to({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function YS(e,t){var r=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;r=yd(t.value!=null?t.value:r),e._wrapperState={initialChecked:o,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function XE(e,t){t=t.checked,t!=null&&Jw(e,"checked",t,!1)}function m3(e,t){XE(e,t);var r=yd(t.value),o=t.type;if(r!=null)o==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?g3(e,t.type,r):t.hasOwnProperty("defaultValue")&&g3(e,t.type,yd(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function KS(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function g3(e,t,r){(t!=="number"||d_(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Em=Array.isArray;function cf(e,t,r,o){if(e=e.options,t){t={};for(var l=0;l<r.length;l++)t["$"+r[l]]=!0;for(r=0;r<e.length;r++)l=t.hasOwnProperty("$"+e[r].value),e[r].selected!==l&&(e[r].selected=l),l&&o&&(e[r].defaultSelected=!0)}else{for(r=""+yd(r),t=null,l=0;l<e.length;l++){if(e[l].value===r){e[l].selected=!0,o&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function y3(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(hn(91));return to({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function JS(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(hn(92));if(Em(r)){if(1<r.length)throw Error(hn(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:yd(r)}}function YE(e,t){var r=yd(t.value),o=yd(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),o!=null&&(e.defaultValue=""+o)}function QS(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function KE(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _3(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?KE(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var dy,JE=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,o,l){MSApp.execUnsafeLocalFunction(function(){return e(t,r,o,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(dy=dy||document.createElement("div"),dy.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=dy.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function og(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var zm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},IL=["Webkit","ms","Moz","O"];Object.keys(zm).forEach(function(e){IL.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),zm[t]=zm[e]})});function QE(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||zm.hasOwnProperty(e)&&zm[e]?(""+t).trim():t+"px"}function e9(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var o=r.indexOf("--")===0,l=QE(r,t[r],o);r==="float"&&(r="cssFloat"),o?e.setProperty(r,l):e[r]=l}}var AL=to({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function v3(e,t){if(t){if(AL[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(hn(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(hn(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(hn(61))}if(t.style!=null&&typeof t.style!="object")throw Error(hn(62))}}function x3(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var b3=null;function n4(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var w3=null,uf=null,df=null;function eT(e){if(e=Ug(e)){if(typeof w3!="function")throw Error(hn(280));var t=e.stateNode;t&&(t=h2(t),w3(e.stateNode,e.type,t))}}function t9(e){uf?df?df.push(e):df=[e]:uf=e}function n9(){if(uf){var e=uf,t=df;if(df=uf=null,eT(e),t)for(e=0;e<t.length;e++)eT(t[e])}}function r9(e,t){return e(t)}function i9(){}var sb=!1;function o9(e,t,r){if(sb)return e(t,r);sb=!0;try{return r9(e,t,r)}finally{sb=!1,(uf!==null||df!==null)&&(i9(),n9())}}function sg(e,t){var r=e.stateNode;if(r===null)return null;var o=h2(r);if(o===null)return null;r=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(hn(231,t,typeof r));return r}var S3=!1;if(pu)try{var sm={};Object.defineProperty(sm,"passive",{get:function(){S3=!0}}),window.addEventListener("test",sm,sm),window.removeEventListener("test",sm,sm)}catch{S3=!1}function DL(e,t,r,o,l,u,f,i,_){var b=Array.prototype.slice.call(arguments,3);try{t.apply(r,b)}catch(E){this.onError(E)}}var Lm=!1,h_=null,p_=!1,T3=null,RL={onError:function(e){Lm=!0,h_=e}};function zL(e,t,r,o,l,u,f,i,_){Lm=!1,h_=null,DL.apply(RL,arguments)}function LL(e,t,r,o,l,u,f,i,_){if(zL.apply(this,arguments),Lm){if(Lm){var b=h_;Lm=!1,h_=null}else throw Error(hn(198));p_||(p_=!0,T3=b)}}function Wh(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function s9(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function tT(e){if(Wh(e)!==e)throw Error(hn(188))}function OL(e){var t=e.alternate;if(!t){if(t=Wh(e),t===null)throw Error(hn(188));return t!==e?null:e}for(var r=e,o=t;;){var l=r.return;if(l===null)break;var u=l.alternate;if(u===null){if(o=l.return,o!==null){r=o;continue}break}if(l.child===u.child){for(u=l.child;u;){if(u===r)return tT(l),e;if(u===o)return tT(l),t;u=u.sibling}throw Error(hn(188))}if(r.return!==o.return)r=l,o=u;else{for(var f=!1,i=l.child;i;){if(i===r){f=!0,r=l,o=u;break}if(i===o){f=!0,o=l,r=u;break}i=i.sibling}if(!f){for(i=u.child;i;){if(i===r){f=!0,r=u,o=l;break}if(i===o){f=!0,o=u,r=l;break}i=i.sibling}if(!f)throw Error(hn(189))}}if(r.alternate!==o)throw Error(hn(190))}if(r.tag!==3)throw Error(hn(188));return r.stateNode.current===r?e:t}function a9(e){return e=OL(e),e!==null?l9(e):null}function l9(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=l9(e);if(t!==null)return t;e=e.sibling}return null}var c9=Ea.unstable_scheduleCallback,nT=Ea.unstable_cancelCallback,FL=Ea.unstable_shouldYield,BL=Ea.unstable_requestPaint,ho=Ea.unstable_now,NL=Ea.unstable_getCurrentPriorityLevel,r4=Ea.unstable_ImmediatePriority,u9=Ea.unstable_UserBlockingPriority,f_=Ea.unstable_NormalPriority,$L=Ea.unstable_LowPriority,d9=Ea.unstable_IdlePriority,l2=null,Sc=null;function jL(e){if(Sc&&typeof Sc.onCommitFiberRoot=="function")try{Sc.onCommitFiberRoot(l2,e,void 0,(e.current.flags&128)===128)}catch{}}var Fl=Math.clz32?Math.clz32:WL,VL=Math.log,UL=Math.LN2;function WL(e){return e>>>=0,e===0?32:31-(VL(e)/UL|0)|0}var hy=64,py=4194304;function Pm(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function m_(e,t){var r=e.pendingLanes;if(r===0)return 0;var o=0,l=e.suspendedLanes,u=e.pingedLanes,f=r&268435455;if(f!==0){var i=f&~l;i!==0?o=Pm(i):(u&=f,u!==0&&(o=Pm(u)))}else f=r&~l,f!==0?o=Pm(f):u!==0&&(o=Pm(u));if(o===0)return 0;if(t!==0&&t!==o&&!(t&l)&&(l=o&-o,u=t&-t,l>=u||l===16&&(u&4194240)!==0))return t;if(o&4&&(o|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)r=31-Fl(t),l=1<<r,o|=e[r],t&=~l;return o}function HL(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GL(e,t){for(var r=e.suspendedLanes,o=e.pingedLanes,l=e.expirationTimes,u=e.pendingLanes;0<u;){var f=31-Fl(u),i=1<<f,_=l[f];_===-1?(!(i&r)||i&o)&&(l[f]=HL(i,t)):_<=t&&(e.expiredLanes|=i),u&=~i}}function C3(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function h9(){var e=hy;return hy<<=1,!(hy&4194240)&&(hy=64),e}function ab(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function jg(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Fl(t),e[t]=r}function qL(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<r;){var l=31-Fl(r),u=1<<l;t[l]=0,o[l]=-1,e[l]=-1,r&=~u}}function i4(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var o=31-Fl(r),l=1<<o;l&t|e[o]&t&&(e[o]|=t),r&=~l}}var fi=0;function p9(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var f9,o4,m9,g9,y9,E3=!1,fy=[],ad=null,ld=null,cd=null,ag=new Map,lg=new Map,ed=[],ZL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rT(e,t){switch(e){case"focusin":case"focusout":ad=null;break;case"dragenter":case"dragleave":ld=null;break;case"mouseover":case"mouseout":cd=null;break;case"pointerover":case"pointerout":ag.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lg.delete(t.pointerId)}}function am(e,t,r,o,l,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:r,eventSystemFlags:o,nativeEvent:u,targetContainers:[l]},t!==null&&(t=Ug(t),t!==null&&o4(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function XL(e,t,r,o,l){switch(t){case"focusin":return ad=am(ad,e,t,r,o,l),!0;case"dragenter":return ld=am(ld,e,t,r,o,l),!0;case"mouseover":return cd=am(cd,e,t,r,o,l),!0;case"pointerover":var u=l.pointerId;return ag.set(u,am(ag.get(u)||null,e,t,r,o,l)),!0;case"gotpointercapture":return u=l.pointerId,lg.set(u,am(lg.get(u)||null,e,t,r,o,l)),!0}return!1}function _9(e){var t=mh(e.target);if(t!==null){var r=Wh(t);if(r!==null){if(t=r.tag,t===13){if(t=s9(r),t!==null){e.blockedOn=t,y9(e.priority,function(){m9(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Uy(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=P3(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);b3=o,r.target.dispatchEvent(o),b3=null}else return t=Ug(r),t!==null&&o4(t),e.blockedOn=r,!1;t.shift()}return!0}function iT(e,t,r){Uy(e)&&r.delete(t)}function YL(){E3=!1,ad!==null&&Uy(ad)&&(ad=null),ld!==null&&Uy(ld)&&(ld=null),cd!==null&&Uy(cd)&&(cd=null),ag.forEach(iT),lg.forEach(iT)}function lm(e,t){e.blockedOn===t&&(e.blockedOn=null,E3||(E3=!0,Ea.unstable_scheduleCallback(Ea.unstable_NormalPriority,YL)))}function cg(e){function t(l){return lm(l,e)}if(0<fy.length){lm(fy[0],e);for(var r=1;r<fy.length;r++){var o=fy[r];o.blockedOn===e&&(o.blockedOn=null)}}for(ad!==null&&lm(ad,e),ld!==null&&lm(ld,e),cd!==null&&lm(cd,e),ag.forEach(t),lg.forEach(t),r=0;r<ed.length;r++)o=ed[r],o.blockedOn===e&&(o.blockedOn=null);for(;0<ed.length&&(r=ed[0],r.blockedOn===null);)_9(r),r.blockedOn===null&&ed.shift()}var hf=bu.ReactCurrentBatchConfig,g_=!0;function KL(e,t,r,o){var l=fi,u=hf.transition;hf.transition=null;try{fi=1,s4(e,t,r,o)}finally{fi=l,hf.transition=u}}function JL(e,t,r,o){var l=fi,u=hf.transition;hf.transition=null;try{fi=4,s4(e,t,r,o)}finally{fi=l,hf.transition=u}}function s4(e,t,r,o){if(g_){var l=P3(e,t,r,o);if(l===null)yb(e,t,o,y_,r),rT(e,o);else if(XL(l,e,t,r,o))o.stopPropagation();else if(rT(e,o),t&4&&-1<ZL.indexOf(e)){for(;l!==null;){var u=Ug(l);if(u!==null&&f9(u),u=P3(e,t,r,o),u===null&&yb(e,t,o,y_,r),u===l)break;l=u}l!==null&&o.stopPropagation()}else yb(e,t,o,null,r)}}var y_=null;function P3(e,t,r,o){if(y_=null,e=n4(o),e=mh(e),e!==null)if(t=Wh(e),t===null)e=null;else if(r=t.tag,r===13){if(e=s9(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return y_=e,null}function v9(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(NL()){case r4:return 1;case u9:return 4;case f_:case $L:return 16;case d9:return 536870912;default:return 16}default:return 16}}var rd=null,a4=null,Wy=null;function x9(){if(Wy)return Wy;var e,t=a4,r=t.length,o,l="value"in rd?rd.value:rd.textContent,u=l.length;for(e=0;e<r&&t[e]===l[e];e++);var f=r-e;for(o=1;o<=f&&t[r-o]===l[u-o];o++);return Wy=l.slice(e,1<o?1-o:void 0)}function Hy(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function my(){return!0}function oT(){return!1}function Ia(e){function t(r,o,l,u,f){this._reactName=r,this._targetInst=l,this.type=o,this.nativeEvent=u,this.target=f,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(r=e[i],this[i]=r?r(u):u[i]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?my:oT,this.isPropagationStopped=oT,this}return to(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=my)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=my)},persist:function(){},isPersistent:my}),t}var Hf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},l4=Ia(Hf),Vg=to({},Hf,{view:0,detail:0}),QL=Ia(Vg),lb,cb,cm,c2=to({},Vg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:c4,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cm&&(cm&&e.type==="mousemove"?(lb=e.screenX-cm.screenX,cb=e.screenY-cm.screenY):cb=lb=0,cm=e),lb)},movementY:function(e){return"movementY"in e?e.movementY:cb}}),sT=Ia(c2),eO=to({},c2,{dataTransfer:0}),tO=Ia(eO),nO=to({},Vg,{relatedTarget:0}),ub=Ia(nO),rO=to({},Hf,{animationName:0,elapsedTime:0,pseudoElement:0}),iO=Ia(rO),oO=to({},Hf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sO=Ia(oO),aO=to({},Hf,{data:0}),aT=Ia(aO),lO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dO(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=uO[e])?!!t[e]:!1}function c4(){return dO}var hO=to({},Vg,{key:function(e){if(e.key){var t=lO[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hy(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cO[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:c4,charCode:function(e){return e.type==="keypress"?Hy(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hy(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pO=Ia(hO),fO=to({},c2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lT=Ia(fO),mO=to({},Vg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:c4}),gO=Ia(mO),yO=to({},Hf,{propertyName:0,elapsedTime:0,pseudoElement:0}),_O=Ia(yO),vO=to({},c2,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xO=Ia(vO),bO=[9,13,27,32],u4=pu&&"CompositionEvent"in window,Om=null;pu&&"documentMode"in document&&(Om=document.documentMode);var wO=pu&&"TextEvent"in window&&!Om,b9=pu&&(!u4||Om&&8<Om&&11>=Om),cT=String.fromCharCode(32),uT=!1;function w9(e,t){switch(e){case"keyup":return bO.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function S9(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yp=!1;function SO(e,t){switch(e){case"compositionend":return S9(t);case"keypress":return t.which!==32?null:(uT=!0,cT);case"textInput":return e=t.data,e===cT&&uT?null:e;default:return null}}function TO(e,t){if(Yp)return e==="compositionend"||!u4&&w9(e,t)?(e=x9(),Wy=a4=rd=null,Yp=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return b9&&t.locale!=="ko"?null:t.data;default:return null}}var CO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dT(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!CO[e.type]:t==="textarea"}function T9(e,t,r,o){t9(o),t=__(t,"onChange"),0<t.length&&(r=new l4("onChange","change",null,r,o),e.push({event:r,listeners:t}))}var Fm=null,ug=null;function EO(e){L9(e,0)}function u2(e){var t=Qp(e);if(ZE(t))return e}function PO(e,t){if(e==="change")return t}var C9=!1;if(pu){var db;if(pu){var hb="oninput"in document;if(!hb){var hT=document.createElement("div");hT.setAttribute("oninput","return;"),hb=typeof hT.oninput=="function"}db=hb}else db=!1;C9=db&&(!document.documentMode||9<document.documentMode)}function pT(){Fm&&(Fm.detachEvent("onpropertychange",E9),ug=Fm=null)}function E9(e){if(e.propertyName==="value"&&u2(ug)){var t=[];T9(t,ug,e,n4(e)),o9(EO,t)}}function kO(e,t,r){e==="focusin"?(pT(),Fm=t,ug=r,Fm.attachEvent("onpropertychange",E9)):e==="focusout"&&pT()}function MO(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return u2(ug)}function IO(e,t){if(e==="click")return u2(t)}function AO(e,t){if(e==="input"||e==="change")return u2(t)}function DO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nl=typeof Object.is=="function"?Object.is:DO;function dg(e,t){if(Nl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var l=r[o];if(!c3.call(t,l)||!Nl(e[l],t[l]))return!1}return!0}function fT(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mT(e,t){var r=fT(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=t&&o>=t)return{node:r,offset:t-e};e=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fT(r)}}function P9(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?P9(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function k9(){for(var e=window,t=d_();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=d_(e.document)}return t}function d4(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function RO(e){var t=k9(),r=e.focusedElem,o=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&P9(r.ownerDocument.documentElement,r)){if(o!==null&&d4(r)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=r.textContent.length,u=Math.min(o.start,l);o=o.end===void 0?u:Math.min(o.end,l),!e.extend&&u>o&&(l=o,o=u,u=l),l=mT(r,u);var f=mT(r,o);l&&f&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==f.node||e.focusOffset!==f.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),u>o?(e.addRange(t),e.extend(f.node,f.offset)):(t.setEnd(f.node,f.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var zO=pu&&"documentMode"in document&&11>=document.documentMode,Kp=null,k3=null,Bm=null,M3=!1;function gT(e,t,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;M3||Kp==null||Kp!==d_(o)||(o=Kp,"selectionStart"in o&&d4(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Bm&&dg(Bm,o)||(Bm=o,o=__(k3,"onSelect"),0<o.length&&(t=new l4("onSelect","select",null,t,r),e.push({event:t,listeners:o}),t.target=Kp)))}function gy(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Jp={animationend:gy("Animation","AnimationEnd"),animationiteration:gy("Animation","AnimationIteration"),animationstart:gy("Animation","AnimationStart"),transitionend:gy("Transition","TransitionEnd")},pb={},M9={};pu&&(M9=document.createElement("div").style,"AnimationEvent"in window||(delete Jp.animationend.animation,delete Jp.animationiteration.animation,delete Jp.animationstart.animation),"TransitionEvent"in window||delete Jp.transitionend.transition);function d2(e){if(pb[e])return pb[e];if(!Jp[e])return e;var t=Jp[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in M9)return pb[e]=t[r];return e}var I9=d2("animationend"),A9=d2("animationiteration"),D9=d2("animationstart"),R9=d2("transitionend"),z9=new Map,yT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sd(e,t){z9.set(e,t),Uh(t,[e])}for(var fb=0;fb<yT.length;fb++){var mb=yT[fb],LO=mb.toLowerCase(),OO=mb[0].toUpperCase()+mb.slice(1);Sd(LO,"on"+OO)}Sd(I9,"onAnimationEnd");Sd(A9,"onAnimationIteration");Sd(D9,"onAnimationStart");Sd("dblclick","onDoubleClick");Sd("focusin","onFocus");Sd("focusout","onBlur");Sd(R9,"onTransitionEnd");wf("onMouseEnter",["mouseout","mouseover"]);wf("onMouseLeave",["mouseout","mouseover"]);wf("onPointerEnter",["pointerout","pointerover"]);wf("onPointerLeave",["pointerout","pointerover"]);Uh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Uh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Uh("onBeforeInput",["compositionend","keypress","textInput","paste"]);Uh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Uh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Uh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var km="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FO=new Set("cancel close invalid load scroll toggle".split(" ").concat(km));function _T(e,t,r){var o=e.type||"unknown-event";e.currentTarget=r,LL(o,t,void 0,e),e.currentTarget=null}function L9(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],l=o.event;o=o.listeners;e:{var u=void 0;if(t)for(var f=o.length-1;0<=f;f--){var i=o[f],_=i.instance,b=i.currentTarget;if(i=i.listener,_!==u&&l.isPropagationStopped())break e;_T(l,i,b),u=_}else for(f=0;f<o.length;f++){if(i=o[f],_=i.instance,b=i.currentTarget,i=i.listener,_!==u&&l.isPropagationStopped())break e;_T(l,i,b),u=_}}}if(p_)throw e=T3,p_=!1,T3=null,e}function Fi(e,t){var r=t[z3];r===void 0&&(r=t[z3]=new Set);var o=e+"__bubble";r.has(o)||(O9(t,e,2,!1),r.add(o))}function gb(e,t,r){var o=0;t&&(o|=4),O9(r,e,o,t)}var yy="_reactListening"+Math.random().toString(36).slice(2);function hg(e){if(!e[yy]){e[yy]=!0,UE.forEach(function(r){r!=="selectionchange"&&(FO.has(r)||gb(r,!1,e),gb(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[yy]||(t[yy]=!0,gb("selectionchange",!1,t))}}function O9(e,t,r,o){switch(v9(t)){case 1:var l=KL;break;case 4:l=JL;break;default:l=s4}r=l.bind(null,t,r,e),l=void 0,!S3||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),o?l!==void 0?e.addEventListener(t,r,{capture:!0,passive:l}):e.addEventListener(t,r,!0):l!==void 0?e.addEventListener(t,r,{passive:l}):e.addEventListener(t,r,!1)}function yb(e,t,r,o,l){var u=o;if(!(t&1)&&!(t&2)&&o!==null)e:for(;;){if(o===null)return;var f=o.tag;if(f===3||f===4){var i=o.stateNode.containerInfo;if(i===l||i.nodeType===8&&i.parentNode===l)break;if(f===4)for(f=o.return;f!==null;){var _=f.tag;if((_===3||_===4)&&(_=f.stateNode.containerInfo,_===l||_.nodeType===8&&_.parentNode===l))return;f=f.return}for(;i!==null;){if(f=mh(i),f===null)return;if(_=f.tag,_===5||_===6){o=u=f;continue e}i=i.parentNode}}o=o.return}o9(function(){var b=u,E=n4(r),k=[];e:{var R=z9.get(e);if(R!==void 0){var B=l4,F=e;switch(e){case"keypress":if(Hy(r)===0)break e;case"keydown":case"keyup":B=pO;break;case"focusin":F="focus",B=ub;break;case"focusout":F="blur",B=ub;break;case"beforeblur":case"afterblur":B=ub;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=sT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=tO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=gO;break;case I9:case A9:case D9:B=iO;break;case R9:B=_O;break;case"scroll":B=QL;break;case"wheel":B=xO;break;case"copy":case"cut":case"paste":B=sO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=lT}var L=(t&4)!==0,X=!L&&e==="scroll",$=L?R!==null?R+"Capture":null:R;L=[];for(var H=b,G;H!==null;){G=H;var Q=G.stateNode;if(G.tag===5&&Q!==null&&(G=Q,$!==null&&(Q=sg(H,$),Q!=null&&L.push(pg(H,Q,G)))),X)break;H=H.return}0<L.length&&(R=new B(R,F,null,r,E),k.push({event:R,listeners:L}))}}if(!(t&7)){e:{if(R=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",R&&r!==b3&&(F=r.relatedTarget||r.fromElement)&&(mh(F)||F[fu]))break e;if((B||R)&&(R=E.window===E?E:(R=E.ownerDocument)?R.defaultView||R.parentWindow:window,B?(F=r.relatedTarget||r.toElement,B=b,F=F?mh(F):null,F!==null&&(X=Wh(F),F!==X||F.tag!==5&&F.tag!==6)&&(F=null)):(B=null,F=b),B!==F)){if(L=sT,Q="onMouseLeave",$="onMouseEnter",H="mouse",(e==="pointerout"||e==="pointerover")&&(L=lT,Q="onPointerLeave",$="onPointerEnter",H="pointer"),X=B==null?R:Qp(B),G=F==null?R:Qp(F),R=new L(Q,H+"leave",B,r,E),R.target=X,R.relatedTarget=G,Q=null,mh(E)===b&&(L=new L($,H+"enter",F,r,E),L.target=G,L.relatedTarget=X,Q=L),X=Q,B&&F)t:{for(L=B,$=F,H=0,G=L;G;G=Lp(G))H++;for(G=0,Q=$;Q;Q=Lp(Q))G++;for(;0<H-G;)L=Lp(L),H--;for(;0<G-H;)$=Lp($),G--;for(;H--;){if(L===$||$!==null&&L===$.alternate)break t;L=Lp(L),$=Lp($)}L=null}else L=null;B!==null&&vT(k,R,B,L,!1),F!==null&&X!==null&&vT(k,X,F,L,!0)}}e:{if(R=b?Qp(b):window,B=R.nodeName&&R.nodeName.toLowerCase(),B==="select"||B==="input"&&R.type==="file")var te=PO;else if(dT(R))if(C9)te=AO;else{te=MO;var le=kO}else(B=R.nodeName)&&B.toLowerCase()==="input"&&(R.type==="checkbox"||R.type==="radio")&&(te=IO);if(te&&(te=te(e,b))){T9(k,te,r,E);break e}le&&le(e,R,b),e==="focusout"&&(le=R._wrapperState)&&le.controlled&&R.type==="number"&&g3(R,"number",R.value)}switch(le=b?Qp(b):window,e){case"focusin":(dT(le)||le.contentEditable==="true")&&(Kp=le,k3=b,Bm=null);break;case"focusout":Bm=k3=Kp=null;break;case"mousedown":M3=!0;break;case"contextmenu":case"mouseup":case"dragend":M3=!1,gT(k,r,E);break;case"selectionchange":if(zO)break;case"keydown":case"keyup":gT(k,r,E)}var M;if(u4)e:{switch(e){case"compositionstart":var de="onCompositionStart";break e;case"compositionend":de="onCompositionEnd";break e;case"compositionupdate":de="onCompositionUpdate";break e}de=void 0}else Yp?w9(e,r)&&(de="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(de="onCompositionStart");de&&(b9&&r.locale!=="ko"&&(Yp||de!=="onCompositionStart"?de==="onCompositionEnd"&&Yp&&(M=x9()):(rd=E,a4="value"in rd?rd.value:rd.textContent,Yp=!0)),le=__(b,de),0<le.length&&(de=new aT(de,e,null,r,E),k.push({event:de,listeners:le}),M?de.data=M:(M=S9(r),M!==null&&(de.data=M)))),(M=wO?SO(e,r):TO(e,r))&&(b=__(b,"onBeforeInput"),0<b.length&&(E=new aT("onBeforeInput","beforeinput",null,r,E),k.push({event:E,listeners:b}),E.data=M))}L9(k,t)})}function pg(e,t,r){return{instance:e,listener:t,currentTarget:r}}function __(e,t){for(var r=t+"Capture",o=[];e!==null;){var l=e,u=l.stateNode;l.tag===5&&u!==null&&(l=u,u=sg(e,r),u!=null&&o.unshift(pg(e,u,l)),u=sg(e,t),u!=null&&o.push(pg(e,u,l))),e=e.return}return o}function Lp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vT(e,t,r,o,l){for(var u=t._reactName,f=[];r!==null&&r!==o;){var i=r,_=i.alternate,b=i.stateNode;if(_!==null&&_===o)break;i.tag===5&&b!==null&&(i=b,l?(_=sg(r,u),_!=null&&f.unshift(pg(r,_,i))):l||(_=sg(r,u),_!=null&&f.push(pg(r,_,i)))),r=r.return}f.length!==0&&e.push({event:t,listeners:f})}var BO=/\r\n?/g,NO=/\u0000|\uFFFD/g;function xT(e){return(typeof e=="string"?e:""+e).replace(BO,`
`).replace(NO,"")}function _y(e,t,r){if(t=xT(t),xT(e)!==t&&r)throw Error(hn(425))}function v_(){}var I3=null,A3=null;function D3(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var R3=typeof setTimeout=="function"?setTimeout:void 0,$O=typeof clearTimeout=="function"?clearTimeout:void 0,bT=typeof Promise=="function"?Promise:void 0,jO=typeof queueMicrotask=="function"?queueMicrotask:typeof bT<"u"?function(e){return bT.resolve(null).then(e).catch(VO)}:R3;function VO(e){setTimeout(function(){throw e})}function _b(e,t){var r=t,o=0;do{var l=r.nextSibling;if(e.removeChild(r),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(o===0){e.removeChild(l),cg(t);return}o--}else r!=="$"&&r!=="$?"&&r!=="$!"||o++;r=l}while(r);cg(t)}function ud(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function wT(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Gf=Math.random().toString(36).slice(2),_c="__reactFiber$"+Gf,fg="__reactProps$"+Gf,fu="__reactContainer$"+Gf,z3="__reactEvents$"+Gf,UO="__reactListeners$"+Gf,WO="__reactHandles$"+Gf;function mh(e){var t=e[_c];if(t)return t;for(var r=e.parentNode;r;){if(t=r[fu]||r[_c]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=wT(e);e!==null;){if(r=e[_c])return r;e=wT(e)}return t}e=r,r=e.parentNode}return null}function Ug(e){return e=e[_c]||e[fu],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qp(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(hn(33))}function h2(e){return e[fg]||null}var L3=[],ef=-1;function Td(e){return{current:e}}function Ni(e){0>ef||(e.current=L3[ef],L3[ef]=null,ef--)}function Di(e,t){ef++,L3[ef]=e.current,e.current=t}var _d={},xs=Td(_d),Zs=Td(!1),Mh=_d;function Sf(e,t){var r=e.type.contextTypes;if(!r)return _d;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var l={},u;for(u in r)l[u]=t[u];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Xs(e){return e=e.childContextTypes,e!=null}function x_(){Ni(Zs),Ni(xs)}function ST(e,t,r){if(xs.current!==_d)throw Error(hn(168));Di(xs,t),Di(Zs,r)}function F9(e,t,r){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return r;o=o.getChildContext();for(var l in o)if(!(l in t))throw Error(hn(108,kL(e)||"Unknown",l));return to({},r,o)}function b_(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_d,Mh=xs.current,Di(xs,e),Di(Zs,Zs.current),!0}function TT(e,t,r){var o=e.stateNode;if(!o)throw Error(hn(169));r?(e=F9(e,t,Mh),o.__reactInternalMemoizedMergedChildContext=e,Ni(Zs),Ni(xs),Di(xs,e)):Ni(Zs),Di(Zs,r)}var au=null,p2=!1,vb=!1;function B9(e){au===null?au=[e]:au.push(e)}function HO(e){p2=!0,B9(e)}function Cd(){if(!vb&&au!==null){vb=!0;var e=0,t=fi;try{var r=au;for(fi=1;e<r.length;e++){var o=r[e];do o=o(!0);while(o!==null)}au=null,p2=!1}catch(l){throw au!==null&&(au=au.slice(e+1)),c9(r4,Cd),l}finally{fi=t,vb=!1}}return null}var tf=[],nf=0,w_=null,S_=0,qa=[],Za=0,Ih=null,lu=1,cu="";function uh(e,t){tf[nf++]=S_,tf[nf++]=w_,w_=e,S_=t}function N9(e,t,r){qa[Za++]=lu,qa[Za++]=cu,qa[Za++]=Ih,Ih=e;var o=lu;e=cu;var l=32-Fl(o)-1;o&=~(1<<l),r+=1;var u=32-Fl(t)+l;if(30<u){var f=l-l%5;u=(o&(1<<f)-1).toString(32),o>>=f,l-=f,lu=1<<32-Fl(t)+l|r<<l|o,cu=u+e}else lu=1<<u|r<<l|o,cu=e}function h4(e){e.return!==null&&(uh(e,1),N9(e,1,0))}function p4(e){for(;e===w_;)w_=tf[--nf],tf[nf]=null,S_=tf[--nf],tf[nf]=null;for(;e===Ih;)Ih=qa[--Za],qa[Za]=null,cu=qa[--Za],qa[Za]=null,lu=qa[--Za],qa[Za]=null}var Ta=null,Sa=null,Vi=!1,zl=null;function $9(e,t){var r=Xa(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function CT(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ta=e,Sa=ud(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ta=e,Sa=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ih!==null?{id:lu,overflow:cu}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Xa(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ta=e,Sa=null,!0):!1;default:return!1}}function O3(e){return(e.mode&1)!==0&&(e.flags&128)===0}function F3(e){if(Vi){var t=Sa;if(t){var r=t;if(!CT(e,t)){if(O3(e))throw Error(hn(418));t=ud(r.nextSibling);var o=Ta;t&&CT(e,t)?$9(o,r):(e.flags=e.flags&-4097|2,Vi=!1,Ta=e)}}else{if(O3(e))throw Error(hn(418));e.flags=e.flags&-4097|2,Vi=!1,Ta=e}}}function ET(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ta=e}function vy(e){if(e!==Ta)return!1;if(!Vi)return ET(e),Vi=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!D3(e.type,e.memoizedProps)),t&&(t=Sa)){if(O3(e))throw j9(),Error(hn(418));for(;t;)$9(e,t),t=ud(t.nextSibling)}if(ET(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(hn(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Sa=ud(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Sa=null}}else Sa=Ta?ud(e.stateNode.nextSibling):null;return!0}function j9(){for(var e=Sa;e;)e=ud(e.nextSibling)}function Tf(){Sa=Ta=null,Vi=!1}function f4(e){zl===null?zl=[e]:zl.push(e)}var GO=bu.ReactCurrentBatchConfig;function Al(e,t){if(e&&e.defaultProps){t=to({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var T_=Td(null),C_=null,rf=null,m4=null;function g4(){m4=rf=C_=null}function y4(e){var t=T_.current;Ni(T_),e._currentValue=t}function B3(e,t,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===r)break;e=e.return}}function pf(e,t){C_=e,m4=rf=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qs=!0),e.firstContext=null)}function nl(e){var t=e._currentValue;if(m4!==e)if(e={context:e,memoizedValue:t,next:null},rf===null){if(C_===null)throw Error(hn(308));rf=e,C_.dependencies={lanes:0,firstContext:e}}else rf=rf.next=e;return t}var gh=null;function _4(e){gh===null?gh=[e]:gh.push(e)}function V9(e,t,r,o){var l=t.interleaved;return l===null?(r.next=r,_4(t)):(r.next=l.next,l.next=r),t.interleaved=r,mu(e,o)}function mu(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Qu=!1;function v4(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function U9(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function uu(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function dd(e,t,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,Hr&2){var l=o.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),o.pending=t,mu(e,r)}return l=o.interleaved,l===null?(t.next=t,_4(o)):(t.next=l.next,l.next=t),o.interleaved=t,mu(e,r)}function Gy(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,r|=o,t.lanes=r,i4(e,r)}}function PT(e,t){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var l=null,u=null;if(r=r.firstBaseUpdate,r!==null){do{var f={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};u===null?l=u=f:u=u.next=f,r=r.next}while(r!==null);u===null?l=u=t:u=u.next=t}else l=u=t;r={baseState:o.baseState,firstBaseUpdate:l,lastBaseUpdate:u,shared:o.shared,effects:o.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function E_(e,t,r,o){var l=e.updateQueue;Qu=!1;var u=l.firstBaseUpdate,f=l.lastBaseUpdate,i=l.shared.pending;if(i!==null){l.shared.pending=null;var _=i,b=_.next;_.next=null,f===null?u=b:f.next=b,f=_;var E=e.alternate;E!==null&&(E=E.updateQueue,i=E.lastBaseUpdate,i!==f&&(i===null?E.firstBaseUpdate=b:i.next=b,E.lastBaseUpdate=_))}if(u!==null){var k=l.baseState;f=0,E=b=_=null,i=u;do{var R=i.lane,B=i.eventTime;if((o&R)===R){E!==null&&(E=E.next={eventTime:B,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var F=e,L=i;switch(R=t,B=r,L.tag){case 1:if(F=L.payload,typeof F=="function"){k=F.call(B,k,R);break e}k=F;break e;case 3:F.flags=F.flags&-65537|128;case 0:if(F=L.payload,R=typeof F=="function"?F.call(B,k,R):F,R==null)break e;k=to({},k,R);break e;case 2:Qu=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,R=l.effects,R===null?l.effects=[i]:R.push(i))}else B={eventTime:B,lane:R,tag:i.tag,payload:i.payload,callback:i.callback,next:null},E===null?(b=E=B,_=k):E=E.next=B,f|=R;if(i=i.next,i===null){if(i=l.shared.pending,i===null)break;R=i,i=R.next,R.next=null,l.lastBaseUpdate=R,l.shared.pending=null}}while(1);if(E===null&&(_=k),l.baseState=_,l.firstBaseUpdate=b,l.lastBaseUpdate=E,t=l.shared.interleaved,t!==null){l=t;do f|=l.lane,l=l.next;while(l!==t)}else u===null&&(l.shared.lanes=0);Dh|=f,e.lanes=f,e.memoizedState=k}}function kT(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],l=o.callback;if(l!==null){if(o.callback=null,o=r,typeof l!="function")throw Error(hn(191,l));l.call(o)}}}var W9=new VE.Component().refs;function N3(e,t,r,o){t=e.memoizedState,r=r(o,t),r=r==null?t:to({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var f2={isMounted:function(e){return(e=e._reactInternals)?Wh(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var o=As(),l=pd(e),u=uu(o,l);u.payload=t,r!=null&&(u.callback=r),t=dd(e,u,l),t!==null&&(Bl(t,e,l,o),Gy(t,e,l))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var o=As(),l=pd(e),u=uu(o,l);u.tag=1,u.payload=t,r!=null&&(u.callback=r),t=dd(e,u,l),t!==null&&(Bl(t,e,l,o),Gy(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=As(),o=pd(e),l=uu(r,o);l.tag=2,t!=null&&(l.callback=t),t=dd(e,l,o),t!==null&&(Bl(t,e,o,r),Gy(t,e,o))}};function MT(e,t,r,o,l,u,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,u,f):t.prototype&&t.prototype.isPureReactComponent?!dg(r,o)||!dg(l,u):!0}function H9(e,t,r){var o=!1,l=_d,u=t.contextType;return typeof u=="object"&&u!==null?u=nl(u):(l=Xs(t)?Mh:xs.current,o=t.contextTypes,u=(o=o!=null)?Sf(e,l):_d),t=new t(r,u),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=f2,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=u),t}function IT(e,t,r,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,o),t.state!==e&&f2.enqueueReplaceState(t,t.state,null)}function $3(e,t,r,o){var l=e.stateNode;l.props=r,l.state=e.memoizedState,l.refs=W9,v4(e);var u=t.contextType;typeof u=="object"&&u!==null?l.context=nl(u):(u=Xs(t)?Mh:xs.current,l.context=Sf(e,u)),l.state=e.memoizedState,u=t.getDerivedStateFromProps,typeof u=="function"&&(N3(e,t,u,r),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&f2.enqueueReplaceState(l,l.state,null),E_(e,r,l,o),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function um(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(hn(309));var o=r.stateNode}if(!o)throw Error(hn(147,e));var l=o,u=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===u?t.ref:(t=function(f){var i=l.refs;i===W9&&(i=l.refs={}),f===null?delete i[u]:i[u]=f},t._stringRef=u,t)}if(typeof e!="string")throw Error(hn(284));if(!r._owner)throw Error(hn(290,e))}return e}function xy(e,t){throw e=Object.prototype.toString.call(t),Error(hn(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function AT(e){var t=e._init;return t(e._payload)}function G9(e){function t($,H){if(e){var G=$.deletions;G===null?($.deletions=[H],$.flags|=16):G.push(H)}}function r($,H){if(!e)return null;for(;H!==null;)t($,H),H=H.sibling;return null}function o($,H){for($=new Map;H!==null;)H.key!==null?$.set(H.key,H):$.set(H.index,H),H=H.sibling;return $}function l($,H){return $=fd($,H),$.index=0,$.sibling=null,$}function u($,H,G){return $.index=G,e?(G=$.alternate,G!==null?(G=G.index,G<H?($.flags|=2,H):G):($.flags|=2,H)):($.flags|=1048576,H)}function f($){return e&&$.alternate===null&&($.flags|=2),$}function i($,H,G,Q){return H===null||H.tag!==6?(H=Eb(G,$.mode,Q),H.return=$,H):(H=l(H,G),H.return=$,H)}function _($,H,G,Q){var te=G.type;return te===Xp?E($,H,G.props.children,Q,G.key):H!==null&&(H.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===Ju&&AT(te)===H.type)?(Q=l(H,G.props),Q.ref=um($,H,G),Q.return=$,Q):(Q=Jy(G.type,G.key,G.props,null,$.mode,Q),Q.ref=um($,H,G),Q.return=$,Q)}function b($,H,G,Q){return H===null||H.tag!==4||H.stateNode.containerInfo!==G.containerInfo||H.stateNode.implementation!==G.implementation?(H=Pb(G,$.mode,Q),H.return=$,H):(H=l(H,G.children||[]),H.return=$,H)}function E($,H,G,Q,te){return H===null||H.tag!==7?(H=bh(G,$.mode,Q,te),H.return=$,H):(H=l(H,G),H.return=$,H)}function k($,H,G){if(typeof H=="string"&&H!==""||typeof H=="number")return H=Eb(""+H,$.mode,G),H.return=$,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case cy:return G=Jy(H.type,H.key,H.props,null,$.mode,G),G.ref=um($,null,H),G.return=$,G;case Zp:return H=Pb(H,$.mode,G),H.return=$,H;case Ju:var Q=H._init;return k($,Q(H._payload),G)}if(Em(H)||om(H))return H=bh(H,$.mode,G,null),H.return=$,H;xy($,H)}return null}function R($,H,G,Q){var te=H!==null?H.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return te!==null?null:i($,H,""+G,Q);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case cy:return G.key===te?_($,H,G,Q):null;case Zp:return G.key===te?b($,H,G,Q):null;case Ju:return te=G._init,R($,H,te(G._payload),Q)}if(Em(G)||om(G))return te!==null?null:E($,H,G,Q,null);xy($,G)}return null}function B($,H,G,Q,te){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return $=$.get(G)||null,i(H,$,""+Q,te);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case cy:return $=$.get(Q.key===null?G:Q.key)||null,_(H,$,Q,te);case Zp:return $=$.get(Q.key===null?G:Q.key)||null,b(H,$,Q,te);case Ju:var le=Q._init;return B($,H,G,le(Q._payload),te)}if(Em(Q)||om(Q))return $=$.get(G)||null,E(H,$,Q,te,null);xy(H,Q)}return null}function F($,H,G,Q){for(var te=null,le=null,M=H,de=H=0,ce=null;M!==null&&de<G.length;de++){M.index>de?(ce=M,M=null):ce=M.sibling;var xe=R($,M,G[de],Q);if(xe===null){M===null&&(M=ce);break}e&&M&&xe.alternate===null&&t($,M),H=u(xe,H,de),le===null?te=xe:le.sibling=xe,le=xe,M=ce}if(de===G.length)return r($,M),Vi&&uh($,de),te;if(M===null){for(;de<G.length;de++)M=k($,G[de],Q),M!==null&&(H=u(M,H,de),le===null?te=M:le.sibling=M,le=M);return Vi&&uh($,de),te}for(M=o($,M);de<G.length;de++)ce=B(M,$,de,G[de],Q),ce!==null&&(e&&ce.alternate!==null&&M.delete(ce.key===null?de:ce.key),H=u(ce,H,de),le===null?te=ce:le.sibling=ce,le=ce);return e&&M.forEach(function(ke){return t($,ke)}),Vi&&uh($,de),te}function L($,H,G,Q){var te=om(G);if(typeof te!="function")throw Error(hn(150));if(G=te.call(G),G==null)throw Error(hn(151));for(var le=te=null,M=H,de=H=0,ce=null,xe=G.next();M!==null&&!xe.done;de++,xe=G.next()){M.index>de?(ce=M,M=null):ce=M.sibling;var ke=R($,M,xe.value,Q);if(ke===null){M===null&&(M=ce);break}e&&M&&ke.alternate===null&&t($,M),H=u(ke,H,de),le===null?te=ke:le.sibling=ke,le=ke,M=ce}if(xe.done)return r($,M),Vi&&uh($,de),te;if(M===null){for(;!xe.done;de++,xe=G.next())xe=k($,xe.value,Q),xe!==null&&(H=u(xe,H,de),le===null?te=xe:le.sibling=xe,le=xe);return Vi&&uh($,de),te}for(M=o($,M);!xe.done;de++,xe=G.next())xe=B(M,$,de,xe.value,Q),xe!==null&&(e&&xe.alternate!==null&&M.delete(xe.key===null?de:xe.key),H=u(xe,H,de),le===null?te=xe:le.sibling=xe,le=xe);return e&&M.forEach(function($e){return t($,$e)}),Vi&&uh($,de),te}function X($,H,G,Q){if(typeof G=="object"&&G!==null&&G.type===Xp&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case cy:e:{for(var te=G.key,le=H;le!==null;){if(le.key===te){if(te=G.type,te===Xp){if(le.tag===7){r($,le.sibling),H=l(le,G.props.children),H.return=$,$=H;break e}}else if(le.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===Ju&&AT(te)===le.type){r($,le.sibling),H=l(le,G.props),H.ref=um($,le,G),H.return=$,$=H;break e}r($,le);break}else t($,le);le=le.sibling}G.type===Xp?(H=bh(G.props.children,$.mode,Q,G.key),H.return=$,$=H):(Q=Jy(G.type,G.key,G.props,null,$.mode,Q),Q.ref=um($,H,G),Q.return=$,$=Q)}return f($);case Zp:e:{for(le=G.key;H!==null;){if(H.key===le)if(H.tag===4&&H.stateNode.containerInfo===G.containerInfo&&H.stateNode.implementation===G.implementation){r($,H.sibling),H=l(H,G.children||[]),H.return=$,$=H;break e}else{r($,H);break}else t($,H);H=H.sibling}H=Pb(G,$.mode,Q),H.return=$,$=H}return f($);case Ju:return le=G._init,X($,H,le(G._payload),Q)}if(Em(G))return F($,H,G,Q);if(om(G))return L($,H,G,Q);xy($,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,H!==null&&H.tag===6?(r($,H.sibling),H=l(H,G),H.return=$,$=H):(r($,H),H=Eb(G,$.mode,Q),H.return=$,$=H),f($)):r($,H)}return X}var Cf=G9(!0),q9=G9(!1),Wg={},Tc=Td(Wg),mg=Td(Wg),gg=Td(Wg);function yh(e){if(e===Wg)throw Error(hn(174));return e}function x4(e,t){switch(Di(gg,t),Di(mg,e),Di(Tc,Wg),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:_3(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=_3(t,e)}Ni(Tc),Di(Tc,t)}function Ef(){Ni(Tc),Ni(mg),Ni(gg)}function Z9(e){yh(gg.current);var t=yh(Tc.current),r=_3(t,e.type);t!==r&&(Di(mg,e),Di(Tc,r))}function b4(e){mg.current===e&&(Ni(Tc),Ni(mg))}var Ji=Td(0);function P_(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xb=[];function w4(){for(var e=0;e<xb.length;e++)xb[e]._workInProgressVersionPrimary=null;xb.length=0}var qy=bu.ReactCurrentDispatcher,bb=bu.ReactCurrentBatchConfig,Ah=0,eo=null,Mo=null,Wo=null,k_=!1,Nm=!1,yg=0,qO=0;function fs(){throw Error(hn(321))}function S4(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Nl(e[r],t[r]))return!1;return!0}function T4(e,t,r,o,l,u){if(Ah=u,eo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qy.current=e===null||e.memoizedState===null?KO:JO,e=r(o,l),Nm){u=0;do{if(Nm=!1,yg=0,25<=u)throw Error(hn(301));u+=1,Wo=Mo=null,t.updateQueue=null,qy.current=QO,e=r(o,l)}while(Nm)}if(qy.current=M_,t=Mo!==null&&Mo.next!==null,Ah=0,Wo=Mo=eo=null,k_=!1,t)throw Error(hn(300));return e}function C4(){var e=yg!==0;return yg=0,e}function pc(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wo===null?eo.memoizedState=Wo=e:Wo=Wo.next=e,Wo}function rl(){if(Mo===null){var e=eo.alternate;e=e!==null?e.memoizedState:null}else e=Mo.next;var t=Wo===null?eo.memoizedState:Wo.next;if(t!==null)Wo=t,Mo=e;else{if(e===null)throw Error(hn(310));Mo=e,e={memoizedState:Mo.memoizedState,baseState:Mo.baseState,baseQueue:Mo.baseQueue,queue:Mo.queue,next:null},Wo===null?eo.memoizedState=Wo=e:Wo=Wo.next=e}return Wo}function _g(e,t){return typeof t=="function"?t(e):t}function wb(e){var t=rl(),r=t.queue;if(r===null)throw Error(hn(311));r.lastRenderedReducer=e;var o=Mo,l=o.baseQueue,u=r.pending;if(u!==null){if(l!==null){var f=l.next;l.next=u.next,u.next=f}o.baseQueue=l=u,r.pending=null}if(l!==null){u=l.next,o=o.baseState;var i=f=null,_=null,b=u;do{var E=b.lane;if((Ah&E)===E)_!==null&&(_=_.next={lane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),o=b.hasEagerState?b.eagerState:e(o,b.action);else{var k={lane:E,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null};_===null?(i=_=k,f=o):_=_.next=k,eo.lanes|=E,Dh|=E}b=b.next}while(b!==null&&b!==u);_===null?f=o:_.next=i,Nl(o,t.memoizedState)||(qs=!0),t.memoizedState=o,t.baseState=f,t.baseQueue=_,r.lastRenderedState=o}if(e=r.interleaved,e!==null){l=e;do u=l.lane,eo.lanes|=u,Dh|=u,l=l.next;while(l!==e)}else l===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Sb(e){var t=rl(),r=t.queue;if(r===null)throw Error(hn(311));r.lastRenderedReducer=e;var o=r.dispatch,l=r.pending,u=t.memoizedState;if(l!==null){r.pending=null;var f=l=l.next;do u=e(u,f.action),f=f.next;while(f!==l);Nl(u,t.memoizedState)||(qs=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),r.lastRenderedState=u}return[u,o]}function X9(){}function Y9(e,t){var r=eo,o=rl(),l=t(),u=!Nl(o.memoizedState,l);if(u&&(o.memoizedState=l,qs=!0),o=o.queue,E4(Q9.bind(null,r,o,e),[e]),o.getSnapshot!==t||u||Wo!==null&&Wo.memoizedState.tag&1){if(r.flags|=2048,vg(9,J9.bind(null,r,o,l,t),void 0,null),Ho===null)throw Error(hn(349));Ah&30||K9(r,t,l)}return l}function K9(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=eo.updateQueue,t===null?(t={lastEffect:null,stores:null},eo.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function J9(e,t,r,o){t.value=r,t.getSnapshot=o,eP(t)&&tP(e)}function Q9(e,t,r){return r(function(){eP(t)&&tP(e)})}function eP(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Nl(e,r)}catch{return!0}}function tP(e){var t=mu(e,1);t!==null&&Bl(t,e,1,-1)}function DT(e){var t=pc();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_g,lastRenderedState:e},t.queue=e,e=e.dispatch=YO.bind(null,eo,e),[t.memoizedState,e]}function vg(e,t,r,o){return e={tag:e,create:t,destroy:r,deps:o,next:null},t=eo.updateQueue,t===null?(t={lastEffect:null,stores:null},eo.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,t.lastEffect=e)),e}function nP(){return rl().memoizedState}function Zy(e,t,r,o){var l=pc();eo.flags|=e,l.memoizedState=vg(1|t,r,void 0,o===void 0?null:o)}function m2(e,t,r,o){var l=rl();o=o===void 0?null:o;var u=void 0;if(Mo!==null){var f=Mo.memoizedState;if(u=f.destroy,o!==null&&S4(o,f.deps)){l.memoizedState=vg(t,r,u,o);return}}eo.flags|=e,l.memoizedState=vg(1|t,r,u,o)}function RT(e,t){return Zy(8390656,8,e,t)}function E4(e,t){return m2(2048,8,e,t)}function rP(e,t){return m2(4,2,e,t)}function iP(e,t){return m2(4,4,e,t)}function oP(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sP(e,t,r){return r=r!=null?r.concat([e]):null,m2(4,4,oP.bind(null,t,e),r)}function P4(){}function aP(e,t){var r=rl();t=t===void 0?null:t;var o=r.memoizedState;return o!==null&&t!==null&&S4(t,o[1])?o[0]:(r.memoizedState=[e,t],e)}function lP(e,t){var r=rl();t=t===void 0?null:t;var o=r.memoizedState;return o!==null&&t!==null&&S4(t,o[1])?o[0]:(e=e(),r.memoizedState=[e,t],e)}function cP(e,t,r){return Ah&21?(Nl(r,t)||(r=h9(),eo.lanes|=r,Dh|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qs=!0),e.memoizedState=r)}function ZO(e,t){var r=fi;fi=r!==0&&4>r?r:4,e(!0);var o=bb.transition;bb.transition={};try{e(!1),t()}finally{fi=r,bb.transition=o}}function uP(){return rl().memoizedState}function XO(e,t,r){var o=pd(e);if(r={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null},dP(e))hP(t,r);else if(r=V9(e,t,r,o),r!==null){var l=As();Bl(r,e,o,l),pP(r,t,o)}}function YO(e,t,r){var o=pd(e),l={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null};if(dP(e))hP(t,l);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var f=t.lastRenderedState,i=u(f,r);if(l.hasEagerState=!0,l.eagerState=i,Nl(i,f)){var _=t.interleaved;_===null?(l.next=l,_4(t)):(l.next=_.next,_.next=l),t.interleaved=l;return}}catch{}finally{}r=V9(e,t,l,o),r!==null&&(l=As(),Bl(r,e,o,l),pP(r,t,o))}}function dP(e){var t=e.alternate;return e===eo||t!==null&&t===eo}function hP(e,t){Nm=k_=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function pP(e,t,r){if(r&4194240){var o=t.lanes;o&=e.pendingLanes,r|=o,t.lanes=r,i4(e,r)}}var M_={readContext:nl,useCallback:fs,useContext:fs,useEffect:fs,useImperativeHandle:fs,useInsertionEffect:fs,useLayoutEffect:fs,useMemo:fs,useReducer:fs,useRef:fs,useState:fs,useDebugValue:fs,useDeferredValue:fs,useTransition:fs,useMutableSource:fs,useSyncExternalStore:fs,useId:fs,unstable_isNewReconciler:!1},KO={readContext:nl,useCallback:function(e,t){return pc().memoizedState=[e,t===void 0?null:t],e},useContext:nl,useEffect:RT,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Zy(4194308,4,oP.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Zy(4194308,4,e,t)},useInsertionEffect:function(e,t){return Zy(4,2,e,t)},useMemo:function(e,t){var r=pc();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var o=pc();return t=r!==void 0?r(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=XO.bind(null,eo,e),[o.memoizedState,e]},useRef:function(e){var t=pc();return e={current:e},t.memoizedState=e},useState:DT,useDebugValue:P4,useDeferredValue:function(e){return pc().memoizedState=e},useTransition:function(){var e=DT(!1),t=e[0];return e=ZO.bind(null,e[1]),pc().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var o=eo,l=pc();if(Vi){if(r===void 0)throw Error(hn(407));r=r()}else{if(r=t(),Ho===null)throw Error(hn(349));Ah&30||K9(o,t,r)}l.memoizedState=r;var u={value:r,getSnapshot:t};return l.queue=u,RT(Q9.bind(null,o,u,e),[e]),o.flags|=2048,vg(9,J9.bind(null,o,u,r,t),void 0,null),r},useId:function(){var e=pc(),t=Ho.identifierPrefix;if(Vi){var r=cu,o=lu;r=(o&~(1<<32-Fl(o)-1)).toString(32)+r,t=":"+t+"R"+r,r=yg++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=qO++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},JO={readContext:nl,useCallback:aP,useContext:nl,useEffect:E4,useImperativeHandle:sP,useInsertionEffect:rP,useLayoutEffect:iP,useMemo:lP,useReducer:wb,useRef:nP,useState:function(){return wb(_g)},useDebugValue:P4,useDeferredValue:function(e){var t=rl();return cP(t,Mo.memoizedState,e)},useTransition:function(){var e=wb(_g)[0],t=rl().memoizedState;return[e,t]},useMutableSource:X9,useSyncExternalStore:Y9,useId:uP,unstable_isNewReconciler:!1},QO={readContext:nl,useCallback:aP,useContext:nl,useEffect:E4,useImperativeHandle:sP,useInsertionEffect:rP,useLayoutEffect:iP,useMemo:lP,useReducer:Sb,useRef:nP,useState:function(){return Sb(_g)},useDebugValue:P4,useDeferredValue:function(e){var t=rl();return Mo===null?t.memoizedState=e:cP(t,Mo.memoizedState,e)},useTransition:function(){var e=Sb(_g)[0],t=rl().memoizedState;return[e,t]},useMutableSource:X9,useSyncExternalStore:Y9,useId:uP,unstable_isNewReconciler:!1};function Pf(e,t){try{var r="",o=t;do r+=PL(o),o=o.return;while(o);var l=r}catch(u){l=`
Error generating stack: `+u.message+`
`+u.stack}return{value:e,source:t,stack:l,digest:null}}function Tb(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function j3(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var eF=typeof WeakMap=="function"?WeakMap:Map;function fP(e,t,r){r=uu(-1,r),r.tag=3,r.payload={element:null};var o=t.value;return r.callback=function(){A_||(A_=!0,K3=o),j3(e,t)},r}function mP(e,t,r){r=uu(-1,r),r.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var l=t.value;r.payload=function(){return o(l)},r.callback=function(){j3(e,t)}}var u=e.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(r.callback=function(){j3(e,t),typeof o!="function"&&(hd===null?hd=new Set([this]):hd.add(this));var f=t.stack;this.componentDidCatch(t.value,{componentStack:f!==null?f:""})}),r}function zT(e,t,r){var o=e.pingCache;if(o===null){o=e.pingCache=new eF;var l=new Set;o.set(t,l)}else l=o.get(t),l===void 0&&(l=new Set,o.set(t,l));l.has(r)||(l.add(r),e=fF.bind(null,e,t,r),t.then(e,e))}function LT(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function OT(e,t,r,o,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=uu(-1,1),t.tag=2,dd(r,t,1))),r.lanes|=1),e)}var tF=bu.ReactCurrentOwner,qs=!1;function Is(e,t,r,o){t.child=e===null?q9(t,null,r,o):Cf(t,e.child,r,o)}function FT(e,t,r,o,l){r=r.render;var u=t.ref;return pf(t,l),o=T4(e,t,r,o,u,l),r=C4(),e!==null&&!qs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,gu(e,t,l)):(Vi&&r&&h4(t),t.flags|=1,Is(e,t,o,l),t.child)}function BT(e,t,r,o,l){if(e===null){var u=r.type;return typeof u=="function"&&!L4(u)&&u.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=u,gP(e,t,u,o,l)):(e=Jy(r.type,null,o,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!(e.lanes&l)){var f=u.memoizedProps;if(r=r.compare,r=r!==null?r:dg,r(f,o)&&e.ref===t.ref)return gu(e,t,l)}return t.flags|=1,e=fd(u,o),e.ref=t.ref,e.return=t,t.child=e}function gP(e,t,r,o,l){if(e!==null){var u=e.memoizedProps;if(dg(u,o)&&e.ref===t.ref)if(qs=!1,t.pendingProps=o=u,(e.lanes&l)!==0)e.flags&131072&&(qs=!0);else return t.lanes=e.lanes,gu(e,t,l)}return V3(e,t,r,o,l)}function yP(e,t,r){var o=t.pendingProps,l=o.children,u=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Di(sf,_a),_a|=r;else{if(!(r&1073741824))return e=u!==null?u.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Di(sf,_a),_a|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=u!==null?u.baseLanes:r,Di(sf,_a),_a|=o}else u!==null?(o=u.baseLanes|r,t.memoizedState=null):o=r,Di(sf,_a),_a|=o;return Is(e,t,l,r),t.child}function _P(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function V3(e,t,r,o,l){var u=Xs(r)?Mh:xs.current;return u=Sf(t,u),pf(t,l),r=T4(e,t,r,o,u,l),o=C4(),e!==null&&!qs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,gu(e,t,l)):(Vi&&o&&h4(t),t.flags|=1,Is(e,t,r,l),t.child)}function NT(e,t,r,o,l){if(Xs(r)){var u=!0;b_(t)}else u=!1;if(pf(t,l),t.stateNode===null)Xy(e,t),H9(t,r,o),$3(t,r,o,l),o=!0;else if(e===null){var f=t.stateNode,i=t.memoizedProps;f.props=i;var _=f.context,b=r.contextType;typeof b=="object"&&b!==null?b=nl(b):(b=Xs(r)?Mh:xs.current,b=Sf(t,b));var E=r.getDerivedStateFromProps,k=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function";k||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(i!==o||_!==b)&&IT(t,f,o,b),Qu=!1;var R=t.memoizedState;f.state=R,E_(t,o,f,l),_=t.memoizedState,i!==o||R!==_||Zs.current||Qu?(typeof E=="function"&&(N3(t,r,E,o),_=t.memoizedState),(i=Qu||MT(t,r,i,o,R,_,b))?(k||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=_),f.props=o,f.state=_,f.context=b,o=i):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{f=t.stateNode,U9(e,t),i=t.memoizedProps,b=t.type===t.elementType?i:Al(t.type,i),f.props=b,k=t.pendingProps,R=f.context,_=r.contextType,typeof _=="object"&&_!==null?_=nl(_):(_=Xs(r)?Mh:xs.current,_=Sf(t,_));var B=r.getDerivedStateFromProps;(E=typeof B=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(i!==k||R!==_)&&IT(t,f,o,_),Qu=!1,R=t.memoizedState,f.state=R,E_(t,o,f,l);var F=t.memoizedState;i!==k||R!==F||Zs.current||Qu?(typeof B=="function"&&(N3(t,r,B,o),F=t.memoizedState),(b=Qu||MT(t,r,b,o,R,F,_)||!1)?(E||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,F,_),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,F,_)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||i===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=F),f.props=o,f.state=F,f.context=_,o=b):(typeof f.componentDidUpdate!="function"||i===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),o=!1)}return U3(e,t,r,o,u,l)}function U3(e,t,r,o,l,u){_P(e,t);var f=(t.flags&128)!==0;if(!o&&!f)return l&&TT(t,r,!1),gu(e,t,u);o=t.stateNode,tF.current=t;var i=f&&typeof r.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&f?(t.child=Cf(t,e.child,null,u),t.child=Cf(t,null,i,u)):Is(e,t,i,u),t.memoizedState=o.state,l&&TT(t,r,!0),t.child}function vP(e){var t=e.stateNode;t.pendingContext?ST(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ST(e,t.context,!1),x4(e,t.containerInfo)}function $T(e,t,r,o,l){return Tf(),f4(l),t.flags|=256,Is(e,t,r,o),t.child}var W3={dehydrated:null,treeContext:null,retryLane:0};function H3(e){return{baseLanes:e,cachePool:null,transitions:null}}function xP(e,t,r){var o=t.pendingProps,l=Ji.current,u=!1,f=(t.flags&128)!==0,i;if((i=f)||(i=e!==null&&e.memoizedState===null?!1:(l&2)!==0),i?(u=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Di(Ji,l&1),e===null)return F3(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(f=o.children,e=o.fallback,u?(o=t.mode,u=t.child,f={mode:"hidden",children:f},!(o&1)&&u!==null?(u.childLanes=0,u.pendingProps=f):u=_2(f,o,0,null),e=bh(e,o,r,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=H3(r),t.memoizedState=W3,e):k4(t,f));if(l=e.memoizedState,l!==null&&(i=l.dehydrated,i!==null))return nF(e,t,f,o,i,l,r);if(u){u=o.fallback,f=t.mode,l=e.child,i=l.sibling;var _={mode:"hidden",children:o.children};return!(f&1)&&t.child!==l?(o=t.child,o.childLanes=0,o.pendingProps=_,t.deletions=null):(o=fd(l,_),o.subtreeFlags=l.subtreeFlags&14680064),i!==null?u=fd(i,u):(u=bh(u,f,r,null),u.flags|=2),u.return=t,o.return=t,o.sibling=u,t.child=o,o=u,u=t.child,f=e.child.memoizedState,f=f===null?H3(r):{baseLanes:f.baseLanes|r,cachePool:null,transitions:f.transitions},u.memoizedState=f,u.childLanes=e.childLanes&~r,t.memoizedState=W3,o}return u=e.child,e=u.sibling,o=fd(u,{mode:"visible",children:o.children}),!(t.mode&1)&&(o.lanes=r),o.return=t,o.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=o,t.memoizedState=null,o}function k4(e,t){return t=_2({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function by(e,t,r,o){return o!==null&&f4(o),Cf(t,e.child,null,r),e=k4(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function nF(e,t,r,o,l,u,f){if(r)return t.flags&256?(t.flags&=-257,o=Tb(Error(hn(422))),by(e,t,f,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(u=o.fallback,l=t.mode,o=_2({mode:"visible",children:o.children},l,0,null),u=bh(u,l,f,null),u.flags|=2,o.return=t,u.return=t,o.sibling=u,t.child=o,t.mode&1&&Cf(t,e.child,null,f),t.child.memoizedState=H3(f),t.memoizedState=W3,u);if(!(t.mode&1))return by(e,t,f,null);if(l.data==="$!"){if(o=l.nextSibling&&l.nextSibling.dataset,o)var i=o.dgst;return o=i,u=Error(hn(419)),o=Tb(u,o,void 0),by(e,t,f,o)}if(i=(f&e.childLanes)!==0,qs||i){if(o=Ho,o!==null){switch(f&-f){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(o.suspendedLanes|f)?0:l,l!==0&&l!==u.retryLane&&(u.retryLane=l,mu(e,l),Bl(o,e,l,-1))}return z4(),o=Tb(Error(hn(421))),by(e,t,f,o)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=mF.bind(null,e),l._reactRetry=t,null):(e=u.treeContext,Sa=ud(l.nextSibling),Ta=t,Vi=!0,zl=null,e!==null&&(qa[Za++]=lu,qa[Za++]=cu,qa[Za++]=Ih,lu=e.id,cu=e.overflow,Ih=t),t=k4(t,o.children),t.flags|=4096,t)}function jT(e,t,r){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),B3(e.return,t,r)}function Cb(e,t,r,o,l){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:l}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=o,u.tail=r,u.tailMode=l)}function bP(e,t,r){var o=t.pendingProps,l=o.revealOrder,u=o.tail;if(Is(e,t,o.children,r),o=Ji.current,o&2)o=o&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jT(e,r,t);else if(e.tag===19)jT(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(Di(Ji,o),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(r=t.child,l=null;r!==null;)e=r.alternate,e!==null&&P_(e)===null&&(l=r),r=r.sibling;r=l,r===null?(l=t.child,t.child=null):(l=r.sibling,r.sibling=null),Cb(t,!1,l,r,u);break;case"backwards":for(r=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&P_(e)===null){t.child=l;break}e=l.sibling,l.sibling=r,r=l,l=e}Cb(t,!0,r,null,u);break;case"together":Cb(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xy(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function gu(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Dh|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(hn(153));if(t.child!==null){for(e=t.child,r=fd(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=fd(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function rF(e,t,r){switch(t.tag){case 3:vP(t),Tf();break;case 5:Z9(t);break;case 1:Xs(t.type)&&b_(t);break;case 4:x4(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,l=t.memoizedProps.value;Di(T_,o._currentValue),o._currentValue=l;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(Di(Ji,Ji.current&1),t.flags|=128,null):r&t.child.childLanes?xP(e,t,r):(Di(Ji,Ji.current&1),e=gu(e,t,r),e!==null?e.sibling:null);Di(Ji,Ji.current&1);break;case 19:if(o=(r&t.childLanes)!==0,e.flags&128){if(o)return bP(e,t,r);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Di(Ji,Ji.current),o)break;return null;case 22:case 23:return t.lanes=0,yP(e,t,r)}return gu(e,t,r)}var wP,G3,SP,TP;wP=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};G3=function(){};SP=function(e,t,r,o){var l=e.memoizedProps;if(l!==o){e=t.stateNode,yh(Tc.current);var u=null;switch(r){case"input":l=f3(e,l),o=f3(e,o),u=[];break;case"select":l=to({},l,{value:void 0}),o=to({},o,{value:void 0}),u=[];break;case"textarea":l=y3(e,l),o=y3(e,o),u=[];break;default:typeof l.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=v_)}v3(r,o);var f;r=null;for(b in l)if(!o.hasOwnProperty(b)&&l.hasOwnProperty(b)&&l[b]!=null)if(b==="style"){var i=l[b];for(f in i)i.hasOwnProperty(f)&&(r||(r={}),r[f]="")}else b!=="dangerouslySetInnerHTML"&&b!=="children"&&b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(ig.hasOwnProperty(b)?u||(u=[]):(u=u||[]).push(b,null));for(b in o){var _=o[b];if(i=l!=null?l[b]:void 0,o.hasOwnProperty(b)&&_!==i&&(_!=null||i!=null))if(b==="style")if(i){for(f in i)!i.hasOwnProperty(f)||_&&_.hasOwnProperty(f)||(r||(r={}),r[f]="");for(f in _)_.hasOwnProperty(f)&&i[f]!==_[f]&&(r||(r={}),r[f]=_[f])}else r||(u||(u=[]),u.push(b,r)),r=_;else b==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,i=i?i.__html:void 0,_!=null&&i!==_&&(u=u||[]).push(b,_)):b==="children"?typeof _!="string"&&typeof _!="number"||(u=u||[]).push(b,""+_):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&(ig.hasOwnProperty(b)?(_!=null&&b==="onScroll"&&Fi("scroll",e),u||i===_||(u=[])):(u=u||[]).push(b,_))}r&&(u=u||[]).push("style",r);var b=u;(t.updateQueue=b)&&(t.flags|=4)}};TP=function(e,t,r,o){r!==o&&(t.flags|=4)};function dm(e,t){if(!Vi)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ms(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(t)for(var l=e.child;l!==null;)r|=l.lanes|l.childLanes,o|=l.subtreeFlags&14680064,o|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)r|=l.lanes|l.childLanes,o|=l.subtreeFlags,o|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=o,e.childLanes=r,t}function iF(e,t,r){var o=t.pendingProps;switch(p4(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ms(t),null;case 1:return Xs(t.type)&&x_(),ms(t),null;case 3:return o=t.stateNode,Ef(),Ni(Zs),Ni(xs),w4(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(vy(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,zl!==null&&(ew(zl),zl=null))),G3(e,t),ms(t),null;case 5:b4(t);var l=yh(gg.current);if(r=t.type,e!==null&&t.stateNode!=null)SP(e,t,r,o,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(hn(166));return ms(t),null}if(e=yh(Tc.current),vy(t)){o=t.stateNode,r=t.type;var u=t.memoizedProps;switch(o[_c]=t,o[fg]=u,e=(t.mode&1)!==0,r){case"dialog":Fi("cancel",o),Fi("close",o);break;case"iframe":case"object":case"embed":Fi("load",o);break;case"video":case"audio":for(l=0;l<km.length;l++)Fi(km[l],o);break;case"source":Fi("error",o);break;case"img":case"image":case"link":Fi("error",o),Fi("load",o);break;case"details":Fi("toggle",o);break;case"input":YS(o,u),Fi("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!u.multiple},Fi("invalid",o);break;case"textarea":JS(o,u),Fi("invalid",o)}v3(r,u),l=null;for(var f in u)if(u.hasOwnProperty(f)){var i=u[f];f==="children"?typeof i=="string"?o.textContent!==i&&(u.suppressHydrationWarning!==!0&&_y(o.textContent,i,e),l=["children",i]):typeof i=="number"&&o.textContent!==""+i&&(u.suppressHydrationWarning!==!0&&_y(o.textContent,i,e),l=["children",""+i]):ig.hasOwnProperty(f)&&i!=null&&f==="onScroll"&&Fi("scroll",o)}switch(r){case"input":uy(o),KS(o,u,!0);break;case"textarea":uy(o),QS(o);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(o.onclick=v_)}o=l,t.updateQueue=o,o!==null&&(t.flags|=4)}else{f=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=KE(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=f.createElement(r,{is:o.is}):(e=f.createElement(r),r==="select"&&(f=e,o.multiple?f.multiple=!0:o.size&&(f.size=o.size))):e=f.createElementNS(e,r),e[_c]=t,e[fg]=o,wP(e,t,!1,!1),t.stateNode=e;e:{switch(f=x3(r,o),r){case"dialog":Fi("cancel",e),Fi("close",e),l=o;break;case"iframe":case"object":case"embed":Fi("load",e),l=o;break;case"video":case"audio":for(l=0;l<km.length;l++)Fi(km[l],e);l=o;break;case"source":Fi("error",e),l=o;break;case"img":case"image":case"link":Fi("error",e),Fi("load",e),l=o;break;case"details":Fi("toggle",e),l=o;break;case"input":YS(e,o),l=f3(e,o),Fi("invalid",e);break;case"option":l=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},l=to({},o,{value:void 0}),Fi("invalid",e);break;case"textarea":JS(e,o),l=y3(e,o),Fi("invalid",e);break;default:l=o}v3(r,l),i=l;for(u in i)if(i.hasOwnProperty(u)){var _=i[u];u==="style"?e9(e,_):u==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,_!=null&&JE(e,_)):u==="children"?typeof _=="string"?(r!=="textarea"||_!=="")&&og(e,_):typeof _=="number"&&og(e,""+_):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ig.hasOwnProperty(u)?_!=null&&u==="onScroll"&&Fi("scroll",e):_!=null&&Jw(e,u,_,f))}switch(r){case"input":uy(e),KS(e,o,!1);break;case"textarea":uy(e),QS(e);break;case"option":o.value!=null&&e.setAttribute("value",""+yd(o.value));break;case"select":e.multiple=!!o.multiple,u=o.value,u!=null?cf(e,!!o.multiple,u,!1):o.defaultValue!=null&&cf(e,!!o.multiple,o.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=v_)}switch(r){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ms(t),null;case 6:if(e&&t.stateNode!=null)TP(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(hn(166));if(r=yh(gg.current),yh(Tc.current),vy(t)){if(o=t.stateNode,r=t.memoizedProps,o[_c]=t,(u=o.nodeValue!==r)&&(e=Ta,e!==null))switch(e.tag){case 3:_y(o.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_y(o.nodeValue,r,(e.mode&1)!==0)}u&&(t.flags|=4)}else o=(r.nodeType===9?r:r.ownerDocument).createTextNode(o),o[_c]=t,t.stateNode=o}return ms(t),null;case 13:if(Ni(Ji),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Vi&&Sa!==null&&t.mode&1&&!(t.flags&128))j9(),Tf(),t.flags|=98560,u=!1;else if(u=vy(t),o!==null&&o.dehydrated!==null){if(e===null){if(!u)throw Error(hn(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(hn(317));u[_c]=t}else Tf(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ms(t),u=!1}else zl!==null&&(ew(zl),zl=null),u=!0;if(!u)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,t.mode&1&&(e===null||Ji.current&1?Ao===0&&(Ao=3):z4())),t.updateQueue!==null&&(t.flags|=4),ms(t),null);case 4:return Ef(),G3(e,t),e===null&&hg(t.stateNode.containerInfo),ms(t),null;case 10:return y4(t.type._context),ms(t),null;case 17:return Xs(t.type)&&x_(),ms(t),null;case 19:if(Ni(Ji),u=t.memoizedState,u===null)return ms(t),null;if(o=(t.flags&128)!==0,f=u.rendering,f===null)if(o)dm(u,!1);else{if(Ao!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(f=P_(e),f!==null){for(t.flags|=128,dm(u,!1),o=f.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=r,r=t.child;r!==null;)u=r,e=o,u.flags&=14680066,f=u.alternate,f===null?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=f.childLanes,u.lanes=f.lanes,u.child=f.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=f.memoizedProps,u.memoizedState=f.memoizedState,u.updateQueue=f.updateQueue,u.type=f.type,e=f.dependencies,u.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Di(Ji,Ji.current&1|2),t.child}e=e.sibling}u.tail!==null&&ho()>kf&&(t.flags|=128,o=!0,dm(u,!1),t.lanes=4194304)}else{if(!o)if(e=P_(f),e!==null){if(t.flags|=128,o=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),dm(u,!0),u.tail===null&&u.tailMode==="hidden"&&!f.alternate&&!Vi)return ms(t),null}else 2*ho()-u.renderingStartTime>kf&&r!==1073741824&&(t.flags|=128,o=!0,dm(u,!1),t.lanes=4194304);u.isBackwards?(f.sibling=t.child,t.child=f):(r=u.last,r!==null?r.sibling=f:t.child=f,u.last=f)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=ho(),t.sibling=null,r=Ji.current,Di(Ji,o?r&1|2:r&1),t):(ms(t),null);case 22:case 23:return R4(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&t.mode&1?_a&1073741824&&(ms(t),t.subtreeFlags&6&&(t.flags|=8192)):ms(t),null;case 24:return null;case 25:return null}throw Error(hn(156,t.tag))}function oF(e,t){switch(p4(t),t.tag){case 1:return Xs(t.type)&&x_(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ef(),Ni(Zs),Ni(xs),w4(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return b4(t),null;case 13:if(Ni(Ji),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(hn(340));Tf()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ni(Ji),null;case 4:return Ef(),null;case 10:return y4(t.type._context),null;case 22:case 23:return R4(),null;case 24:return null;default:return null}}var wy=!1,ys=!1,sF=typeof WeakSet=="function"?WeakSet:Set,$n=null;function of(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(o){so(e,t,o)}else r.current=null}function q3(e,t,r){try{r()}catch(o){so(e,t,o)}}var VT=!1;function aF(e,t){if(I3=g_,e=k9(),d4(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var l=o.anchorOffset,u=o.focusNode;o=o.focusOffset;try{r.nodeType,u.nodeType}catch{r=null;break e}var f=0,i=-1,_=-1,b=0,E=0,k=e,R=null;t:for(;;){for(var B;k!==r||l!==0&&k.nodeType!==3||(i=f+l),k!==u||o!==0&&k.nodeType!==3||(_=f+o),k.nodeType===3&&(f+=k.nodeValue.length),(B=k.firstChild)!==null;)R=k,k=B;for(;;){if(k===e)break t;if(R===r&&++b===l&&(i=f),R===u&&++E===o&&(_=f),(B=k.nextSibling)!==null)break;k=R,R=k.parentNode}k=B}r=i===-1||_===-1?null:{start:i,end:_}}else r=null}r=r||{start:0,end:0}}else r=null;for(A3={focusedElem:e,selectionRange:r},g_=!1,$n=t;$n!==null;)if(t=$n,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$n=e;else for(;$n!==null;){t=$n;try{var F=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(F!==null){var L=F.memoizedProps,X=F.memoizedState,$=t.stateNode,H=$.getSnapshotBeforeUpdate(t.elementType===t.type?L:Al(t.type,L),X);$.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var G=t.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(hn(163))}}catch(Q){so(t,t.return,Q)}if(e=t.sibling,e!==null){e.return=t.return,$n=e;break}$n=t.return}return F=VT,VT=!1,F}function $m(e,t,r){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&e)===e){var u=l.destroy;l.destroy=void 0,u!==void 0&&q3(t,r,u)}l=l.next}while(l!==o)}}function g2(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var o=r.create;r.destroy=o()}r=r.next}while(r!==t)}}function Z3(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function CP(e){var t=e.alternate;t!==null&&(e.alternate=null,CP(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[_c],delete t[fg],delete t[z3],delete t[UO],delete t[WO])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function EP(e){return e.tag===5||e.tag===3||e.tag===4}function UT(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||EP(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function X3(e,t,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=v_));else if(o!==4&&(e=e.child,e!==null))for(X3(e,t,r),e=e.sibling;e!==null;)X3(e,t,r),e=e.sibling}function Y3(e,t,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Y3(e,t,r),e=e.sibling;e!==null;)Y3(e,t,r),e=e.sibling}var Jo=null,Dl=!1;function Xu(e,t,r){for(r=r.child;r!==null;)PP(e,t,r),r=r.sibling}function PP(e,t,r){if(Sc&&typeof Sc.onCommitFiberUnmount=="function")try{Sc.onCommitFiberUnmount(l2,r)}catch{}switch(r.tag){case 5:ys||of(r,t);case 6:var o=Jo,l=Dl;Jo=null,Xu(e,t,r),Jo=o,Dl=l,Jo!==null&&(Dl?(e=Jo,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Jo.removeChild(r.stateNode));break;case 18:Jo!==null&&(Dl?(e=Jo,r=r.stateNode,e.nodeType===8?_b(e.parentNode,r):e.nodeType===1&&_b(e,r),cg(e)):_b(Jo,r.stateNode));break;case 4:o=Jo,l=Dl,Jo=r.stateNode.containerInfo,Dl=!0,Xu(e,t,r),Jo=o,Dl=l;break;case 0:case 11:case 14:case 15:if(!ys&&(o=r.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){l=o=o.next;do{var u=l,f=u.destroy;u=u.tag,f!==void 0&&(u&2||u&4)&&q3(r,t,f),l=l.next}while(l!==o)}Xu(e,t,r);break;case 1:if(!ys&&(of(r,t),o=r.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=r.memoizedProps,o.state=r.memoizedState,o.componentWillUnmount()}catch(i){so(r,t,i)}Xu(e,t,r);break;case 21:Xu(e,t,r);break;case 22:r.mode&1?(ys=(o=ys)||r.memoizedState!==null,Xu(e,t,r),ys=o):Xu(e,t,r);break;default:Xu(e,t,r)}}function WT(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new sF),t.forEach(function(o){var l=gF.bind(null,e,o);r.has(o)||(r.add(o),o.then(l,l))})}}function Il(e,t){var r=t.deletions;if(r!==null)for(var o=0;o<r.length;o++){var l=r[o];try{var u=e,f=t,i=f;e:for(;i!==null;){switch(i.tag){case 5:Jo=i.stateNode,Dl=!1;break e;case 3:Jo=i.stateNode.containerInfo,Dl=!0;break e;case 4:Jo=i.stateNode.containerInfo,Dl=!0;break e}i=i.return}if(Jo===null)throw Error(hn(160));PP(u,f,l),Jo=null,Dl=!1;var _=l.alternate;_!==null&&(_.return=null),l.return=null}catch(b){so(l,t,b)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)kP(t,e),t=t.sibling}function kP(e,t){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Il(t,e),dc(e),o&4){try{$m(3,e,e.return),g2(3,e)}catch(L){so(e,e.return,L)}try{$m(5,e,e.return)}catch(L){so(e,e.return,L)}}break;case 1:Il(t,e),dc(e),o&512&&r!==null&&of(r,r.return);break;case 5:if(Il(t,e),dc(e),o&512&&r!==null&&of(r,r.return),e.flags&32){var l=e.stateNode;try{og(l,"")}catch(L){so(e,e.return,L)}}if(o&4&&(l=e.stateNode,l!=null)){var u=e.memoizedProps,f=r!==null?r.memoizedProps:u,i=e.type,_=e.updateQueue;if(e.updateQueue=null,_!==null)try{i==="input"&&u.type==="radio"&&u.name!=null&&XE(l,u),x3(i,f);var b=x3(i,u);for(f=0;f<_.length;f+=2){var E=_[f],k=_[f+1];E==="style"?e9(l,k):E==="dangerouslySetInnerHTML"?JE(l,k):E==="children"?og(l,k):Jw(l,E,k,b)}switch(i){case"input":m3(l,u);break;case"textarea":YE(l,u);break;case"select":var R=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!u.multiple;var B=u.value;B!=null?cf(l,!!u.multiple,B,!1):R!==!!u.multiple&&(u.defaultValue!=null?cf(l,!!u.multiple,u.defaultValue,!0):cf(l,!!u.multiple,u.multiple?[]:"",!1))}l[fg]=u}catch(L){so(e,e.return,L)}}break;case 6:if(Il(t,e),dc(e),o&4){if(e.stateNode===null)throw Error(hn(162));l=e.stateNode,u=e.memoizedProps;try{l.nodeValue=u}catch(L){so(e,e.return,L)}}break;case 3:if(Il(t,e),dc(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{cg(t.containerInfo)}catch(L){so(e,e.return,L)}break;case 4:Il(t,e),dc(e);break;case 13:Il(t,e),dc(e),l=e.child,l.flags&8192&&(u=l.memoizedState!==null,l.stateNode.isHidden=u,!u||l.alternate!==null&&l.alternate.memoizedState!==null||(A4=ho())),o&4&&WT(e);break;case 22:if(E=r!==null&&r.memoizedState!==null,e.mode&1?(ys=(b=ys)||E,Il(t,e),ys=b):Il(t,e),dc(e),o&8192){if(b=e.memoizedState!==null,(e.stateNode.isHidden=b)&&!E&&e.mode&1)for($n=e,E=e.child;E!==null;){for(k=$n=E;$n!==null;){switch(R=$n,B=R.child,R.tag){case 0:case 11:case 14:case 15:$m(4,R,R.return);break;case 1:of(R,R.return);var F=R.stateNode;if(typeof F.componentWillUnmount=="function"){o=R,r=R.return;try{t=o,F.props=t.memoizedProps,F.state=t.memoizedState,F.componentWillUnmount()}catch(L){so(o,r,L)}}break;case 5:of(R,R.return);break;case 22:if(R.memoizedState!==null){GT(k);continue}}B!==null?(B.return=R,$n=B):GT(k)}E=E.sibling}e:for(E=null,k=e;;){if(k.tag===5){if(E===null){E=k;try{l=k.stateNode,b?(u=l.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(i=k.stateNode,_=k.memoizedProps.style,f=_!=null&&_.hasOwnProperty("display")?_.display:null,i.style.display=QE("display",f))}catch(L){so(e,e.return,L)}}}else if(k.tag===6){if(E===null)try{k.stateNode.nodeValue=b?"":k.memoizedProps}catch(L){so(e,e.return,L)}}else if((k.tag!==22&&k.tag!==23||k.memoizedState===null||k===e)&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===e)break e;for(;k.sibling===null;){if(k.return===null||k.return===e)break e;E===k&&(E=null),k=k.return}E===k&&(E=null),k.sibling.return=k.return,k=k.sibling}}break;case 19:Il(t,e),dc(e),o&4&&WT(e);break;case 21:break;default:Il(t,e),dc(e)}}function dc(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(EP(r)){var o=r;break e}r=r.return}throw Error(hn(160))}switch(o.tag){case 5:var l=o.stateNode;o.flags&32&&(og(l,""),o.flags&=-33);var u=UT(e);Y3(e,u,l);break;case 3:case 4:var f=o.stateNode.containerInfo,i=UT(e);X3(e,i,f);break;default:throw Error(hn(161))}}catch(_){so(e,e.return,_)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function lF(e,t,r){$n=e,MP(e)}function MP(e,t,r){for(var o=(e.mode&1)!==0;$n!==null;){var l=$n,u=l.child;if(l.tag===22&&o){var f=l.memoizedState!==null||wy;if(!f){var i=l.alternate,_=i!==null&&i.memoizedState!==null||ys;i=wy;var b=ys;if(wy=f,(ys=_)&&!b)for($n=l;$n!==null;)f=$n,_=f.child,f.tag===22&&f.memoizedState!==null?qT(l):_!==null?(_.return=f,$n=_):qT(l);for(;u!==null;)$n=u,MP(u),u=u.sibling;$n=l,wy=i,ys=b}HT(e)}else l.subtreeFlags&8772&&u!==null?(u.return=l,$n=u):HT(e)}}function HT(e){for(;$n!==null;){var t=$n;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ys||g2(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!ys)if(r===null)o.componentDidMount();else{var l=t.elementType===t.type?r.memoizedProps:Al(t.type,r.memoizedProps);o.componentDidUpdate(l,r.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var u=t.updateQueue;u!==null&&kT(t,u,o);break;case 3:var f=t.updateQueue;if(f!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}kT(t,f,r)}break;case 5:var i=t.stateNode;if(r===null&&t.flags&4){r=i;var _=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":_.autoFocus&&r.focus();break;case"img":_.src&&(r.src=_.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var b=t.alternate;if(b!==null){var E=b.memoizedState;if(E!==null){var k=E.dehydrated;k!==null&&cg(k)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(hn(163))}ys||t.flags&512&&Z3(t)}catch(R){so(t,t.return,R)}}if(t===e){$n=null;break}if(r=t.sibling,r!==null){r.return=t.return,$n=r;break}$n=t.return}}function GT(e){for(;$n!==null;){var t=$n;if(t===e){$n=null;break}var r=t.sibling;if(r!==null){r.return=t.return,$n=r;break}$n=t.return}}function qT(e){for(;$n!==null;){var t=$n;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{g2(4,t)}catch(_){so(t,r,_)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var l=t.return;try{o.componentDidMount()}catch(_){so(t,l,_)}}var u=t.return;try{Z3(t)}catch(_){so(t,u,_)}break;case 5:var f=t.return;try{Z3(t)}catch(_){so(t,f,_)}}}catch(_){so(t,t.return,_)}if(t===e){$n=null;break}var i=t.sibling;if(i!==null){i.return=t.return,$n=i;break}$n=t.return}}var cF=Math.ceil,I_=bu.ReactCurrentDispatcher,M4=bu.ReactCurrentOwner,Qa=bu.ReactCurrentBatchConfig,Hr=0,Ho=null,xo=null,ts=0,_a=0,sf=Td(0),Ao=0,xg=null,Dh=0,y2=0,I4=0,jm=null,Hs=null,A4=0,kf=1/0,ou=null,A_=!1,K3=null,hd=null,Sy=!1,id=null,D_=0,Vm=0,J3=null,Yy=-1,Ky=0;function As(){return Hr&6?ho():Yy!==-1?Yy:Yy=ho()}function pd(e){return e.mode&1?Hr&2&&ts!==0?ts&-ts:GO.transition!==null?(Ky===0&&(Ky=h9()),Ky):(e=fi,e!==0||(e=window.event,e=e===void 0?16:v9(e.type)),e):1}function Bl(e,t,r,o){if(50<Vm)throw Vm=0,J3=null,Error(hn(185));jg(e,r,o),(!(Hr&2)||e!==Ho)&&(e===Ho&&(!(Hr&2)&&(y2|=r),Ao===4&&td(e,ts)),Ys(e,o),r===1&&Hr===0&&!(t.mode&1)&&(kf=ho()+500,p2&&Cd()))}function Ys(e,t){var r=e.callbackNode;GL(e,t);var o=m_(e,e===Ho?ts:0);if(o===0)r!==null&&nT(r),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(r!=null&&nT(r),t===1)e.tag===0?HO(ZT.bind(null,e)):B9(ZT.bind(null,e)),jO(function(){!(Hr&6)&&Cd()}),r=null;else{switch(p9(o)){case 1:r=r4;break;case 4:r=u9;break;case 16:r=f_;break;case 536870912:r=d9;break;default:r=f_}r=FP(r,IP.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function IP(e,t){if(Yy=-1,Ky=0,Hr&6)throw Error(hn(327));var r=e.callbackNode;if(ff()&&e.callbackNode!==r)return null;var o=m_(e,e===Ho?ts:0);if(o===0)return null;if(o&30||o&e.expiredLanes||t)t=R_(e,o);else{t=o;var l=Hr;Hr|=2;var u=DP();(Ho!==e||ts!==t)&&(ou=null,kf=ho()+500,xh(e,t));do try{hF();break}catch(i){AP(e,i)}while(1);g4(),I_.current=u,Hr=l,xo!==null?t=0:(Ho=null,ts=0,t=Ao)}if(t!==0){if(t===2&&(l=C3(e),l!==0&&(o=l,t=Q3(e,l))),t===1)throw r=xg,xh(e,0),td(e,o),Ys(e,ho()),r;if(t===6)td(e,o);else{if(l=e.current.alternate,!(o&30)&&!uF(l)&&(t=R_(e,o),t===2&&(u=C3(e),u!==0&&(o=u,t=Q3(e,u))),t===1))throw r=xg,xh(e,0),td(e,o),Ys(e,ho()),r;switch(e.finishedWork=l,e.finishedLanes=o,t){case 0:case 1:throw Error(hn(345));case 2:dh(e,Hs,ou);break;case 3:if(td(e,o),(o&130023424)===o&&(t=A4+500-ho(),10<t)){if(m_(e,0)!==0)break;if(l=e.suspendedLanes,(l&o)!==o){As(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=R3(dh.bind(null,e,Hs,ou),t);break}dh(e,Hs,ou);break;case 4:if(td(e,o),(o&4194240)===o)break;for(t=e.eventTimes,l=-1;0<o;){var f=31-Fl(o);u=1<<f,f=t[f],f>l&&(l=f),o&=~u}if(o=l,o=ho()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*cF(o/1960))-o,10<o){e.timeoutHandle=R3(dh.bind(null,e,Hs,ou),o);break}dh(e,Hs,ou);break;case 5:dh(e,Hs,ou);break;default:throw Error(hn(329))}}}return Ys(e,ho()),e.callbackNode===r?IP.bind(null,e):null}function Q3(e,t){var r=jm;return e.current.memoizedState.isDehydrated&&(xh(e,t).flags|=256),e=R_(e,t),e!==2&&(t=Hs,Hs=r,t!==null&&ew(t)),e}function ew(e){Hs===null?Hs=e:Hs.push.apply(Hs,e)}function uF(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var o=0;o<r.length;o++){var l=r[o],u=l.getSnapshot;l=l.value;try{if(!Nl(u(),l))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function td(e,t){for(t&=~I4,t&=~y2,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Fl(t),o=1<<r;e[r]=-1,t&=~o}}function ZT(e){if(Hr&6)throw Error(hn(327));ff();var t=m_(e,0);if(!(t&1))return Ys(e,ho()),null;var r=R_(e,t);if(e.tag!==0&&r===2){var o=C3(e);o!==0&&(t=o,r=Q3(e,o))}if(r===1)throw r=xg,xh(e,0),td(e,t),Ys(e,ho()),r;if(r===6)throw Error(hn(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,dh(e,Hs,ou),Ys(e,ho()),null}function D4(e,t){var r=Hr;Hr|=1;try{return e(t)}finally{Hr=r,Hr===0&&(kf=ho()+500,p2&&Cd())}}function Rh(e){id!==null&&id.tag===0&&!(Hr&6)&&ff();var t=Hr;Hr|=1;var r=Qa.transition,o=fi;try{if(Qa.transition=null,fi=1,e)return e()}finally{fi=o,Qa.transition=r,Hr=t,!(Hr&6)&&Cd()}}function R4(){_a=sf.current,Ni(sf)}function xh(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,$O(r)),xo!==null)for(r=xo.return;r!==null;){var o=r;switch(p4(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&x_();break;case 3:Ef(),Ni(Zs),Ni(xs),w4();break;case 5:b4(o);break;case 4:Ef();break;case 13:Ni(Ji);break;case 19:Ni(Ji);break;case 10:y4(o.type._context);break;case 22:case 23:R4()}r=r.return}if(Ho=e,xo=e=fd(e.current,null),ts=_a=t,Ao=0,xg=null,I4=y2=Dh=0,Hs=jm=null,gh!==null){for(t=0;t<gh.length;t++)if(r=gh[t],o=r.interleaved,o!==null){r.interleaved=null;var l=o.next,u=r.pending;if(u!==null){var f=u.next;u.next=l,o.next=f}r.pending=o}gh=null}return e}function AP(e,t){do{var r=xo;try{if(g4(),qy.current=M_,k_){for(var o=eo.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}k_=!1}if(Ah=0,Wo=Mo=eo=null,Nm=!1,yg=0,M4.current=null,r===null||r.return===null){Ao=1,xg=t,xo=null;break}e:{var u=e,f=r.return,i=r,_=t;if(t=ts,i.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){var b=_,E=i,k=E.tag;if(!(E.mode&1)&&(k===0||k===11||k===15)){var R=E.alternate;R?(E.updateQueue=R.updateQueue,E.memoizedState=R.memoizedState,E.lanes=R.lanes):(E.updateQueue=null,E.memoizedState=null)}var B=LT(f);if(B!==null){B.flags&=-257,OT(B,f,i,u,t),B.mode&1&&zT(u,b,t),t=B,_=b;var F=t.updateQueue;if(F===null){var L=new Set;L.add(_),t.updateQueue=L}else F.add(_);break e}else{if(!(t&1)){zT(u,b,t),z4();break e}_=Error(hn(426))}}else if(Vi&&i.mode&1){var X=LT(f);if(X!==null){!(X.flags&65536)&&(X.flags|=256),OT(X,f,i,u,t),f4(Pf(_,i));break e}}u=_=Pf(_,i),Ao!==4&&(Ao=2),jm===null?jm=[u]:jm.push(u),u=f;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t;var $=fP(u,_,t);PT(u,$);break e;case 1:i=_;var H=u.type,G=u.stateNode;if(!(u.flags&128)&&(typeof H.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(hd===null||!hd.has(G)))){u.flags|=65536,t&=-t,u.lanes|=t;var Q=mP(u,i,t);PT(u,Q);break e}}u=u.return}while(u!==null)}zP(r)}catch(te){t=te,xo===r&&r!==null&&(xo=r=r.return);continue}break}while(1)}function DP(){var e=I_.current;return I_.current=M_,e===null?M_:e}function z4(){(Ao===0||Ao===3||Ao===2)&&(Ao=4),Ho===null||!(Dh&268435455)&&!(y2&268435455)||td(Ho,ts)}function R_(e,t){var r=Hr;Hr|=2;var o=DP();(Ho!==e||ts!==t)&&(ou=null,xh(e,t));do try{dF();break}catch(l){AP(e,l)}while(1);if(g4(),Hr=r,I_.current=o,xo!==null)throw Error(hn(261));return Ho=null,ts=0,Ao}function dF(){for(;xo!==null;)RP(xo)}function hF(){for(;xo!==null&&!FL();)RP(xo)}function RP(e){var t=OP(e.alternate,e,_a);e.memoizedProps=e.pendingProps,t===null?zP(e):xo=t,M4.current=null}function zP(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=oF(r,t),r!==null){r.flags&=32767,xo=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ao=6,xo=null;return}}else if(r=iF(r,t,_a),r!==null){xo=r;return}if(t=t.sibling,t!==null){xo=t;return}xo=t=e}while(t!==null);Ao===0&&(Ao=5)}function dh(e,t,r){var o=fi,l=Qa.transition;try{Qa.transition=null,fi=1,pF(e,t,r,o)}finally{Qa.transition=l,fi=o}return null}function pF(e,t,r,o){do ff();while(id!==null);if(Hr&6)throw Error(hn(327));r=e.finishedWork;var l=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(hn(177));e.callbackNode=null,e.callbackPriority=0;var u=r.lanes|r.childLanes;if(qL(e,u),e===Ho&&(xo=Ho=null,ts=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Sy||(Sy=!0,FP(f_,function(){return ff(),null})),u=(r.flags&15990)!==0,r.subtreeFlags&15990||u){u=Qa.transition,Qa.transition=null;var f=fi;fi=1;var i=Hr;Hr|=4,M4.current=null,aF(e,r),kP(r,e),RO(A3),g_=!!I3,A3=I3=null,e.current=r,lF(r),BL(),Hr=i,fi=f,Qa.transition=u}else e.current=r;if(Sy&&(Sy=!1,id=e,D_=l),u=e.pendingLanes,u===0&&(hd=null),jL(r.stateNode),Ys(e,ho()),t!==null)for(o=e.onRecoverableError,r=0;r<t.length;r++)l=t[r],o(l.value,{componentStack:l.stack,digest:l.digest});if(A_)throw A_=!1,e=K3,K3=null,e;return D_&1&&e.tag!==0&&ff(),u=e.pendingLanes,u&1?e===J3?Vm++:(Vm=0,J3=e):Vm=0,Cd(),null}function ff(){if(id!==null){var e=p9(D_),t=Qa.transition,r=fi;try{if(Qa.transition=null,fi=16>e?16:e,id===null)var o=!1;else{if(e=id,id=null,D_=0,Hr&6)throw Error(hn(331));var l=Hr;for(Hr|=4,$n=e.current;$n!==null;){var u=$n,f=u.child;if($n.flags&16){var i=u.deletions;if(i!==null){for(var _=0;_<i.length;_++){var b=i[_];for($n=b;$n!==null;){var E=$n;switch(E.tag){case 0:case 11:case 15:$m(8,E,u)}var k=E.child;if(k!==null)k.return=E,$n=k;else for(;$n!==null;){E=$n;var R=E.sibling,B=E.return;if(CP(E),E===b){$n=null;break}if(R!==null){R.return=B,$n=R;break}$n=B}}}var F=u.alternate;if(F!==null){var L=F.child;if(L!==null){F.child=null;do{var X=L.sibling;L.sibling=null,L=X}while(L!==null)}}$n=u}}if(u.subtreeFlags&2064&&f!==null)f.return=u,$n=f;else e:for(;$n!==null;){if(u=$n,u.flags&2048)switch(u.tag){case 0:case 11:case 15:$m(9,u,u.return)}var $=u.sibling;if($!==null){$.return=u.return,$n=$;break e}$n=u.return}}var H=e.current;for($n=H;$n!==null;){f=$n;var G=f.child;if(f.subtreeFlags&2064&&G!==null)G.return=f,$n=G;else e:for(f=H;$n!==null;){if(i=$n,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:g2(9,i)}}catch(te){so(i,i.return,te)}if(i===f){$n=null;break e}var Q=i.sibling;if(Q!==null){Q.return=i.return,$n=Q;break e}$n=i.return}}if(Hr=l,Cd(),Sc&&typeof Sc.onPostCommitFiberRoot=="function")try{Sc.onPostCommitFiberRoot(l2,e)}catch{}o=!0}return o}finally{fi=r,Qa.transition=t}}return!1}function XT(e,t,r){t=Pf(r,t),t=fP(e,t,1),e=dd(e,t,1),t=As(),e!==null&&(jg(e,1,t),Ys(e,t))}function so(e,t,r){if(e.tag===3)XT(e,e,r);else for(;t!==null;){if(t.tag===3){XT(t,e,r);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(hd===null||!hd.has(o))){e=Pf(r,e),e=mP(t,e,1),t=dd(t,e,1),e=As(),t!==null&&(jg(t,1,e),Ys(t,e));break}}t=t.return}}function fF(e,t,r){var o=e.pingCache;o!==null&&o.delete(t),t=As(),e.pingedLanes|=e.suspendedLanes&r,Ho===e&&(ts&r)===r&&(Ao===4||Ao===3&&(ts&130023424)===ts&&500>ho()-A4?xh(e,0):I4|=r),Ys(e,t)}function LP(e,t){t===0&&(e.mode&1?(t=py,py<<=1,!(py&130023424)&&(py=4194304)):t=1);var r=As();e=mu(e,t),e!==null&&(jg(e,t,r),Ys(e,r))}function mF(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),LP(e,r)}function gF(e,t){var r=0;switch(e.tag){case 13:var o=e.stateNode,l=e.memoizedState;l!==null&&(r=l.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(hn(314))}o!==null&&o.delete(t),LP(e,r)}var OP;OP=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Zs.current)qs=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return qs=!1,rF(e,t,r);qs=!!(e.flags&131072)}else qs=!1,Vi&&t.flags&1048576&&N9(t,S_,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;Xy(e,t),e=t.pendingProps;var l=Sf(t,xs.current);pf(t,r),l=T4(null,t,o,e,l,r);var u=C4();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xs(o)?(u=!0,b_(t)):u=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,v4(t),l.updater=f2,t.stateNode=l,l._reactInternals=t,$3(t,o,e,r),t=U3(null,t,o,!0,u,r)):(t.tag=0,Vi&&u&&h4(t),Is(null,t,l,r),t=t.child),t;case 16:o=t.elementType;e:{switch(Xy(e,t),e=t.pendingProps,l=o._init,o=l(o._payload),t.type=o,l=t.tag=_F(o),e=Al(o,e),l){case 0:t=V3(null,t,o,e,r);break e;case 1:t=NT(null,t,o,e,r);break e;case 11:t=FT(null,t,o,e,r);break e;case 14:t=BT(null,t,o,Al(o.type,e),r);break e}throw Error(hn(306,o,""))}return t;case 0:return o=t.type,l=t.pendingProps,l=t.elementType===o?l:Al(o,l),V3(e,t,o,l,r);case 1:return o=t.type,l=t.pendingProps,l=t.elementType===o?l:Al(o,l),NT(e,t,o,l,r);case 3:e:{if(vP(t),e===null)throw Error(hn(387));o=t.pendingProps,u=t.memoizedState,l=u.element,U9(e,t),E_(t,o,null,r);var f=t.memoizedState;if(o=f.element,u.isDehydrated)if(u={element:o,isDehydrated:!1,cache:f.cache,pendingSuspenseBoundaries:f.pendingSuspenseBoundaries,transitions:f.transitions},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){l=Pf(Error(hn(423)),t),t=$T(e,t,o,r,l);break e}else if(o!==l){l=Pf(Error(hn(424)),t),t=$T(e,t,o,r,l);break e}else for(Sa=ud(t.stateNode.containerInfo.firstChild),Ta=t,Vi=!0,zl=null,r=q9(t,null,o,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Tf(),o===l){t=gu(e,t,r);break e}Is(e,t,o,r)}t=t.child}return t;case 5:return Z9(t),e===null&&F3(t),o=t.type,l=t.pendingProps,u=e!==null?e.memoizedProps:null,f=l.children,D3(o,l)?f=null:u!==null&&D3(o,u)&&(t.flags|=32),_P(e,t),Is(e,t,f,r),t.child;case 6:return e===null&&F3(t),null;case 13:return xP(e,t,r);case 4:return x4(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=Cf(t,null,o,r):Is(e,t,o,r),t.child;case 11:return o=t.type,l=t.pendingProps,l=t.elementType===o?l:Al(o,l),FT(e,t,o,l,r);case 7:return Is(e,t,t.pendingProps,r),t.child;case 8:return Is(e,t,t.pendingProps.children,r),t.child;case 12:return Is(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(o=t.type._context,l=t.pendingProps,u=t.memoizedProps,f=l.value,Di(T_,o._currentValue),o._currentValue=f,u!==null)if(Nl(u.value,f)){if(u.children===l.children&&!Zs.current){t=gu(e,t,r);break e}}else for(u=t.child,u!==null&&(u.return=t);u!==null;){var i=u.dependencies;if(i!==null){f=u.child;for(var _=i.firstContext;_!==null;){if(_.context===o){if(u.tag===1){_=uu(-1,r&-r),_.tag=2;var b=u.updateQueue;if(b!==null){b=b.shared;var E=b.pending;E===null?_.next=_:(_.next=E.next,E.next=_),b.pending=_}}u.lanes|=r,_=u.alternate,_!==null&&(_.lanes|=r),B3(u.return,r,t),i.lanes|=r;break}_=_.next}}else if(u.tag===10)f=u.type===t.type?null:u.child;else if(u.tag===18){if(f=u.return,f===null)throw Error(hn(341));f.lanes|=r,i=f.alternate,i!==null&&(i.lanes|=r),B3(f,r,t),f=u.sibling}else f=u.child;if(f!==null)f.return=u;else for(f=u;f!==null;){if(f===t){f=null;break}if(u=f.sibling,u!==null){u.return=f.return,f=u;break}f=f.return}u=f}Is(e,t,l.children,r),t=t.child}return t;case 9:return l=t.type,o=t.pendingProps.children,pf(t,r),l=nl(l),o=o(l),t.flags|=1,Is(e,t,o,r),t.child;case 14:return o=t.type,l=Al(o,t.pendingProps),l=Al(o.type,l),BT(e,t,o,l,r);case 15:return gP(e,t,t.type,t.pendingProps,r);case 17:return o=t.type,l=t.pendingProps,l=t.elementType===o?l:Al(o,l),Xy(e,t),t.tag=1,Xs(o)?(e=!0,b_(t)):e=!1,pf(t,r),H9(t,o,l),$3(t,o,l,r),U3(null,t,o,!0,e,r);case 19:return bP(e,t,r);case 22:return yP(e,t,r)}throw Error(hn(156,t.tag))};function FP(e,t){return c9(e,t)}function yF(e,t,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xa(e,t,r,o){return new yF(e,t,r,o)}function L4(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _F(e){if(typeof e=="function")return L4(e)?1:0;if(e!=null){if(e=e.$$typeof,e===e4)return 11;if(e===t4)return 14}return 2}function fd(e,t){var r=e.alternate;return r===null?(r=Xa(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Jy(e,t,r,o,l,u){var f=2;if(o=e,typeof e=="function")L4(e)&&(f=1);else if(typeof e=="string")f=5;else e:switch(e){case Xp:return bh(r.children,l,u,t);case Qw:f=8,l|=8;break;case u3:return e=Xa(12,r,t,l|2),e.elementType=u3,e.lanes=u,e;case d3:return e=Xa(13,r,t,l),e.elementType=d3,e.lanes=u,e;case h3:return e=Xa(19,r,t,l),e.elementType=h3,e.lanes=u,e;case GE:return _2(r,l,u,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case WE:f=10;break e;case HE:f=9;break e;case e4:f=11;break e;case t4:f=14;break e;case Ju:f=16,o=null;break e}throw Error(hn(130,e==null?e:typeof e,""))}return t=Xa(f,r,t,l),t.elementType=e,t.type=o,t.lanes=u,t}function bh(e,t,r,o){return e=Xa(7,e,o,t),e.lanes=r,e}function _2(e,t,r,o){return e=Xa(22,e,o,t),e.elementType=GE,e.lanes=r,e.stateNode={isHidden:!1},e}function Eb(e,t,r){return e=Xa(6,e,null,t),e.lanes=r,e}function Pb(e,t,r){return t=Xa(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function vF(e,t,r,o,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ab(0),this.expirationTimes=ab(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ab(0),this.identifierPrefix=o,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function O4(e,t,r,o,l,u,f,i,_){return e=new vF(e,t,r,i,_),t===1?(t=1,u===!0&&(t|=8)):t=0,u=Xa(3,null,null,t),e.current=u,u.stateNode=e,u.memoizedState={element:o,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},v4(u),e}function xF(e,t,r){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zp,key:o==null?null:""+o,children:e,containerInfo:t,implementation:r}}function BP(e){if(!e)return _d;e=e._reactInternals;e:{if(Wh(e)!==e||e.tag!==1)throw Error(hn(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(hn(171))}if(e.tag===1){var r=e.type;if(Xs(r))return F9(e,r,t)}return t}function NP(e,t,r,o,l,u,f,i,_){return e=O4(r,o,!0,e,l,u,f,i,_),e.context=BP(null),r=e.current,o=As(),l=pd(r),u=uu(o,l),u.callback=t??null,dd(r,u,l),e.current.lanes=l,jg(e,l,o),Ys(e,o),e}function v2(e,t,r,o){var l=t.current,u=As(),f=pd(l);return r=BP(r),t.context===null?t.context=r:t.pendingContext=r,t=uu(u,f),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=dd(l,t,f),e!==null&&(Bl(e,l,f,u),Gy(e,l,f)),f}function z_(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function YT(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function F4(e,t){YT(e,t),(e=e.alternate)&&YT(e,t)}function bF(){return null}var $P=typeof reportError=="function"?reportError:function(e){console.error(e)};function B4(e){this._internalRoot=e}x2.prototype.render=B4.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(hn(409));v2(e,t,null,null)};x2.prototype.unmount=B4.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rh(function(){v2(null,e,null,null)}),t[fu]=null}};function x2(e){this._internalRoot=e}x2.prototype.unstable_scheduleHydration=function(e){if(e){var t=g9();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ed.length&&t!==0&&t<ed[r].priority;r++);ed.splice(r,0,e),r===0&&_9(e)}};function N4(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function b2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function KT(){}function wF(e,t,r,o,l){if(l){if(typeof o=="function"){var u=o;o=function(){var b=z_(f);u.call(b)}}var f=NP(t,o,e,0,null,!1,!1,"",KT);return e._reactRootContainer=f,e[fu]=f.current,hg(e.nodeType===8?e.parentNode:e),Rh(),f}for(;l=e.lastChild;)e.removeChild(l);if(typeof o=="function"){var i=o;o=function(){var b=z_(_);i.call(b)}}var _=O4(e,0,!1,null,null,!1,!1,"",KT);return e._reactRootContainer=_,e[fu]=_.current,hg(e.nodeType===8?e.parentNode:e),Rh(function(){v2(t,_,r,o)}),_}function w2(e,t,r,o,l){var u=r._reactRootContainer;if(u){var f=u;if(typeof l=="function"){var i=l;l=function(){var _=z_(f);i.call(_)}}v2(t,f,e,l)}else f=wF(r,t,e,l,o);return z_(f)}f9=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Pm(t.pendingLanes);r!==0&&(i4(t,r|1),Ys(t,ho()),!(Hr&6)&&(kf=ho()+500,Cd()))}break;case 13:Rh(function(){var o=mu(e,1);if(o!==null){var l=As();Bl(o,e,1,l)}}),F4(e,1)}};o4=function(e){if(e.tag===13){var t=mu(e,134217728);if(t!==null){var r=As();Bl(t,e,134217728,r)}F4(e,134217728)}};m9=function(e){if(e.tag===13){var t=pd(e),r=mu(e,t);if(r!==null){var o=As();Bl(r,e,t,o)}F4(e,t)}};g9=function(){return fi};y9=function(e,t){var r=fi;try{return fi=e,t()}finally{fi=r}};w3=function(e,t,r){switch(t){case"input":if(m3(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var o=r[t];if(o!==e&&o.form===e.form){var l=h2(o);if(!l)throw Error(hn(90));ZE(o),m3(o,l)}}}break;case"textarea":YE(e,r);break;case"select":t=r.value,t!=null&&cf(e,!!r.multiple,t,!1)}};r9=D4;i9=Rh;var SF={usingClientEntryPoint:!1,Events:[Ug,Qp,h2,t9,n9,D4]},hm={findFiberByHostInstance:mh,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},TF={bundleType:hm.bundleType,version:hm.version,rendererPackageName:hm.rendererPackageName,rendererConfig:hm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bu.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=a9(e),e===null?null:e.stateNode},findFiberByHostInstance:hm.findFiberByHostInstance||bF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ty=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ty.isDisabled&&Ty.supportsFiber)try{l2=Ty.inject(TF),Sc=Ty}catch{}}Ma.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SF;Ma.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!N4(t))throw Error(hn(200));return xF(e,t,null,r)};Ma.createRoot=function(e,t){if(!N4(e))throw Error(hn(299));var r=!1,o="",l=$P;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=O4(e,1,!1,null,null,r,!1,o,l),e[fu]=t.current,hg(e.nodeType===8?e.parentNode:e),new B4(t)};Ma.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(hn(188)):(e=Object.keys(e).join(","),Error(hn(268,e)));return e=a9(t),e=e===null?null:e.stateNode,e};Ma.flushSync=function(e){return Rh(e)};Ma.hydrate=function(e,t,r){if(!b2(t))throw Error(hn(200));return w2(null,e,t,!0,r)};Ma.hydrateRoot=function(e,t,r){if(!N4(e))throw Error(hn(405));var o=r!=null&&r.hydratedSources||null,l=!1,u="",f=$P;if(r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(f=r.onRecoverableError)),t=NP(t,null,e,1,r??null,l,!1,u,f),e[fu]=t.current,hg(e),o)for(e=0;e<o.length;e++)r=o[e],l=r._getVersion,l=l(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,l]:t.mutableSourceEagerHydrationData.push(r,l);return new x2(t)};Ma.render=function(e,t,r){if(!b2(t))throw Error(hn(200));return w2(null,e,t,!1,r)};Ma.unmountComponentAtNode=function(e){if(!b2(e))throw Error(hn(40));return e._reactRootContainer?(Rh(function(){w2(null,null,e,!1,function(){e._reactRootContainer=null,e[fu]=null})}),!0):!1};Ma.unstable_batchedUpdates=D4;Ma.unstable_renderSubtreeIntoContainer=function(e,t,r,o){if(!b2(r))throw Error(hn(200));if(e==null||e._reactInternals===void 0)throw Error(hn(38));return w2(e,t,r,!1,o)};Ma.version="18.2.0-next-9e3b772b8-20220608";function jP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jP)}catch(e){console.error(e)}}jP(),NE.exports=Ma;var Hg=NE.exports;const Cy=Ac(Hg);var JT=Hg;l3.createRoot=JT.createRoot,l3.hydrateRoot=JT.hydrateRoot;/**
 * @remix-run/router v1.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bg(){return bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},bg.apply(this,arguments)}var od;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(od||(od={}));const QT="popstate";function CF(e){e===void 0&&(e={});function t(o,l){let{pathname:u,search:f,hash:i}=o.location;return tw("",{pathname:u,search:f,hash:i},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(o,l){return typeof l=="string"?l:VP(l)}return PF(t,r,null,e)}function Do(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $4(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function EF(){return Math.random().toString(36).substr(2,8)}function eC(e,t){return{usr:e.state,key:e.key,idx:t}}function tw(e,t,r,o){return r===void 0&&(r=null),bg({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?qf(t):t,{state:r,key:t&&t.key||o||EF()})}function VP(e){let{pathname:t="/",search:r="",hash:o=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),o&&o!=="#"&&(t+=o.charAt(0)==="#"?o:"#"+o),t}function qf(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let o=e.indexOf("?");o>=0&&(t.search=e.substr(o),e=e.substr(0,o)),e&&(t.pathname=e)}return t}function PF(e,t,r,o){o===void 0&&(o={});let{window:l=document.defaultView,v5Compat:u=!1}=o,f=l.history,i=od.Pop,_=null,b=E();b==null&&(b=0,f.replaceState(bg({},f.state,{idx:b}),""));function E(){return(f.state||{idx:null}).idx}function k(){i=od.Pop;let X=E(),$=X==null?null:X-b;b=X,_&&_({action:i,location:L.location,delta:$})}function R(X,$){i=od.Push;let H=tw(L.location,X,$);r&&r(H,X),b=E()+1;let G=eC(H,b),Q=L.createHref(H);try{f.pushState(G,"",Q)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;l.location.assign(Q)}u&&_&&_({action:i,location:L.location,delta:1})}function B(X,$){i=od.Replace;let H=tw(L.location,X,$);r&&r(H,X),b=E();let G=eC(H,b),Q=L.createHref(H);f.replaceState(G,"",Q),u&&_&&_({action:i,location:L.location,delta:0})}function F(X){let $=l.location.origin!=="null"?l.location.origin:l.location.href,H=typeof X=="string"?X:VP(X);return Do($,"No window.location.(origin|href) available to create URL for href: "+H),new URL(H,$)}let L={get action(){return i},get location(){return e(l,f)},listen(X){if(_)throw new Error("A history only accepts one active listener");return l.addEventListener(QT,k),_=X,()=>{l.removeEventListener(QT,k),_=null}},createHref(X){return t(l,X)},createURL:F,encodeLocation(X){let $=F(X);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:R,replace:B,go(X){return f.go(X)}};return L}var tC;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(tC||(tC={}));function kF(e,t,r){r===void 0&&(r="/");let o=typeof t=="string"?qf(t):t,l=HP(o.pathname||"/",r);if(l==null)return null;let u=UP(e);MF(u);let f=null;for(let i=0;f==null&&i<u.length;++i)f=BF(u[i],jF(l));return f}function UP(e,t,r,o){t===void 0&&(t=[]),r===void 0&&(r=[]),o===void 0&&(o="");let l=(u,f,i)=>{let _={relativePath:i===void 0?u.path||"":i,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};_.relativePath.startsWith("/")&&(Do(_.relativePath.startsWith(o),'Absolute route path "'+_.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),_.relativePath=_.relativePath.slice(o.length));let b=wh([o,_.relativePath]),E=r.concat(_);u.children&&u.children.length>0&&(Do(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+b+'".')),UP(u.children,t,E,b)),!(u.path==null&&!u.index)&&t.push({path:b,score:OF(b,u.index),routesMeta:E})};return e.forEach((u,f)=>{var i;if(u.path===""||!((i=u.path)!=null&&i.includes("?")))l(u,f);else for(let _ of WP(u.path))l(u,f,_)}),t}function WP(e){let t=e.split("/");if(t.length===0)return[];let[r,...o]=t,l=r.endsWith("?"),u=r.replace(/\?$/,"");if(o.length===0)return l?[u,""]:[u];let f=WP(o.join("/")),i=[];return i.push(...f.map(_=>_===""?u:[u,_].join("/"))),l&&i.push(...f),i.map(_=>e.startsWith("/")&&_===""?"/":_)}function MF(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:FF(t.routesMeta.map(o=>o.childrenIndex),r.routesMeta.map(o=>o.childrenIndex)))}const IF=/^:\w+$/,AF=3,DF=2,RF=1,zF=10,LF=-2,nC=e=>e==="*";function OF(e,t){let r=e.split("/"),o=r.length;return r.some(nC)&&(o+=LF),t&&(o+=DF),r.filter(l=>!nC(l)).reduce((l,u)=>l+(IF.test(u)?AF:u===""?RF:zF),o)}function FF(e,t){return e.length===t.length&&e.slice(0,-1).every((o,l)=>o===t[l])?e[e.length-1]-t[t.length-1]:0}function BF(e,t){let{routesMeta:r}=e,o={},l="/",u=[];for(let f=0;f<r.length;++f){let i=r[f],_=f===r.length-1,b=l==="/"?t:t.slice(l.length)||"/",E=NF({path:i.relativePath,caseSensitive:i.caseSensitive,end:_},b);if(!E)return null;Object.assign(o,E.params);let k=i.route;u.push({params:o,pathname:wh([l,E.pathname]),pathnameBase:qF(wh([l,E.pathnameBase])),route:k}),E.pathnameBase!=="/"&&(l=wh([l,E.pathnameBase]))}return u}function NF(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,o]=$F(e.path,e.caseSensitive,e.end),l=t.match(r);if(!l)return null;let u=l[0],f=u.replace(/(.)\/+$/,"$1"),i=l.slice(1);return{params:o.reduce((b,E,k)=>{if(E==="*"){let R=i[k]||"";f=u.slice(0,u.length-R.length).replace(/(.)\/+$/,"$1")}return b[E]=VF(i[k]||"",E),b},{}),pathname:u,pathnameBase:f,pattern:e}}function $F(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),$4(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let o=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(f,i)=>(o.push(i),"/([^\\/]+)"));return e.endsWith("*")?(o.push("*"),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),o]}function jF(e){try{return decodeURI(e)}catch(t){return $4(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function VF(e,t){try{return decodeURIComponent(e)}catch(r){return $4(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),e}}function HP(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,o=e.charAt(r);return o&&o!=="/"?null:e.slice(r)||"/"}function UF(e,t){t===void 0&&(t="/");let{pathname:r,search:o="",hash:l=""}=typeof e=="string"?qf(e):e;return{pathname:r?r.startsWith("/")?r:WF(r,t):t,search:ZF(o),hash:XF(l)}}function WF(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function kb(e,t,r,o){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function HF(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function GF(e,t,r,o){o===void 0&&(o=!1);let l;typeof e=="string"?l=qf(e):(l=bg({},e),Do(!l.pathname||!l.pathname.includes("?"),kb("?","pathname","search",l)),Do(!l.pathname||!l.pathname.includes("#"),kb("#","pathname","hash",l)),Do(!l.search||!l.search.includes("#"),kb("#","search","hash",l)));let u=e===""||l.pathname==="",f=u?"/":l.pathname,i;if(o||f==null)i=r;else{let k=t.length-1;if(f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),k-=1;l.pathname=R.join("/")}i=k>=0?t[k]:"/"}let _=UF(l,i),b=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&r.endsWith("/");return!_.pathname.endsWith("/")&&(b||E)&&(_.pathname+="/"),_}const wh=e=>e.join("/").replace(/\/\/+/g,"/"),qF=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ZF=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,XF=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function YF(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const GP=["post","put","patch","delete"];new Set(GP);const KF=["get",...GP];new Set(KF);/**
 * React Router v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function L_(){return L_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},L_.apply(this,arguments)}const j4=U.createContext(null),JF=U.createContext(null),S2=U.createContext(null),T2=U.createContext(null),Zf=U.createContext({outlet:null,matches:[],isDataRoute:!1}),qP=U.createContext(null);function C2(){return U.useContext(T2)!=null}function ZP(){return C2()||Do(!1),U.useContext(T2).location}function XP(e){U.useContext(S2).static||U.useLayoutEffect(e)}function YP(){let{isDataRoute:e}=U.useContext(Zf);return e?dB():QF()}function QF(){C2()||Do(!1);let e=U.useContext(j4),{basename:t,navigator:r}=U.useContext(S2),{matches:o}=U.useContext(Zf),{pathname:l}=ZP(),u=JSON.stringify(HF(o).map(_=>_.pathnameBase)),f=U.useRef(!1);return XP(()=>{f.current=!0}),U.useCallback(function(_,b){if(b===void 0&&(b={}),!f.current)return;if(typeof _=="number"){r.go(_);return}let E=GF(_,JSON.parse(u),l,b.relative==="path");e==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:wh([t,E.pathname])),(b.replace?r.replace:r.push)(E,b.state,b)},[t,r,u,l,e])}function eB(e,t){return tB(e,t)}function tB(e,t,r){C2()||Do(!1);let{navigator:o}=U.useContext(S2),{matches:l}=U.useContext(Zf),u=l[l.length-1],f=u?u.params:{};u&&u.pathname;let i=u?u.pathnameBase:"/";u&&u.route;let _=ZP(),b;if(t){var E;let L=typeof t=="string"?qf(t):t;i==="/"||(E=L.pathname)!=null&&E.startsWith(i)||Do(!1),b=L}else b=_;let k=b.pathname||"/",R=i==="/"?k:k.slice(i.length)||"/",B=kF(e,{pathname:R}),F=sB(B&&B.map(L=>Object.assign({},L,{params:Object.assign({},f,L.params),pathname:wh([i,o.encodeLocation?o.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?i:wh([i,o.encodeLocation?o.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),l,r);return t&&F?U.createElement(T2.Provider,{value:{location:L_({pathname:"/",search:"",hash:"",state:null,key:"default"},b),navigationType:od.Pop}},F):F}function nB(){let e=uB(),t=YF(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},u=null;return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},t),r?U.createElement("pre",{style:l},r):null,u)}const rB=U.createElement(nB,null);class iB extends U.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error?U.createElement(Zf.Provider,{value:this.props.routeContext},U.createElement(qP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oB(e){let{routeContext:t,match:r,children:o}=e,l=U.useContext(j4);return l&&l.static&&l.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=r.route.id),U.createElement(Zf.Provider,{value:t},o)}function sB(e,t,r){var o;if(t===void 0&&(t=[]),r===void 0&&(r=null),e==null){var l;if((l=r)!=null&&l.errors)e=r.matches;else return null}let u=e,f=(o=r)==null?void 0:o.errors;if(f!=null){let i=u.findIndex(_=>_.route.id&&(f==null?void 0:f[_.route.id]));i>=0||Do(!1),u=u.slice(0,Math.min(u.length,i+1))}return u.reduceRight((i,_,b)=>{let E=_.route.id?f==null?void 0:f[_.route.id]:null,k=null;r&&(k=_.route.errorElement||rB);let R=t.concat(u.slice(0,b+1)),B=()=>{let F;return E?F=k:_.route.Component?F=U.createElement(_.route.Component,null):_.route.element?F=_.route.element:F=i,U.createElement(oB,{match:_,routeContext:{outlet:i,matches:R,isDataRoute:r!=null},children:F})};return r&&(_.route.ErrorBoundary||_.route.errorElement||b===0)?U.createElement(iB,{location:r.location,revalidation:r.revalidation,component:k,error:E,children:B(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):B()},null)}var nw;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"})(nw||(nw={}));var wg;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"})(wg||(wg={}));function aB(e){let t=U.useContext(j4);return t||Do(!1),t}function lB(e){let t=U.useContext(JF);return t||Do(!1),t}function cB(e){let t=U.useContext(Zf);return t||Do(!1),t}function KP(e){let t=cB(),r=t.matches[t.matches.length-1];return r.route.id||Do(!1),r.route.id}function uB(){var e;let t=U.useContext(qP),r=lB(wg.UseRouteError),o=KP(wg.UseRouteError);return t||((e=r.errors)==null?void 0:e[o])}function dB(){let{router:e}=aB(nw.UseNavigateStable),t=KP(wg.UseNavigateStable),r=U.useRef(!1);return XP(()=>{r.current=!0}),U.useCallback(function(l,u){u===void 0&&(u={}),r.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,L_({fromRouteId:t},u)))},[e,t])}function hc(e){Do(!1)}function hB(e){let{basename:t="/",children:r=null,location:o,navigationType:l=od.Pop,navigator:u,static:f=!1}=e;C2()&&Do(!1);let i=t.replace(/^\/*/,"/"),_=U.useMemo(()=>({basename:i,navigator:u,static:f}),[i,u,f]);typeof o=="string"&&(o=qf(o));let{pathname:b="/",search:E="",hash:k="",state:R=null,key:B="default"}=o,F=U.useMemo(()=>{let L=HP(b,i);return L==null?null:{location:{pathname:L,search:E,hash:k,state:R,key:B},navigationType:l}},[i,b,E,k,R,B,l]);return F==null?null:U.createElement(S2.Provider,{value:_},U.createElement(T2.Provider,{children:r,value:F}))}function pB(e){let{children:t,location:r}=e;return eB(rw(t),r)}var rC;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(rC||(rC={}));new Promise(()=>{});function rw(e,t){t===void 0&&(t=[]);let r=[];return U.Children.forEach(e,(o,l)=>{if(!U.isValidElement(o))return;let u=[...t,l];if(o.type===U.Fragment){r.push.apply(r,rw(o.props.children,u));return}o.type!==hc&&Do(!1),!o.props.index||!o.props.children||Do(!1);let f={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(f.children=rw(o.props.children,u)),r.push(f)}),r}/**
 * React Router DOM v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const fB="startTransition",iC=rg[fB];function mB(e){let{basename:t,children:r,future:o,window:l}=e,u=U.useRef();u.current==null&&(u.current=CF({window:l,v5Compat:!0}));let f=u.current,[i,_]=U.useState({action:f.action,location:f.location}),{v7_startTransition:b}=o||{},E=U.useCallback(k=>{b&&iC?iC(()=>_(k)):_(k)},[_,b]);return U.useLayoutEffect(()=>f.listen(E),[f,E]),U.createElement(hB,{basename:t,children:r,location:i.location,navigationType:i.action,navigator:f})}var oC;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(oC||(oC={}));var sC;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(sC||(sC={}));var JP={exports:{}};(function(e,t){(function(r,o){e.exports=o()})(Vh,function(){var r,o,l;function u(i,_){if(!r)r=_;else if(!o)o=_;else{var b="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+r+")(sharedChunk); ("+o+")(sharedChunk); self.onerror = null;",E={};r(E),l=_(E),typeof window<"u"&&window&&window.URL&&window.URL.createObjectURL&&(l.workerUrl=window.URL.createObjectURL(new Blob([b],{type:"text/javascript"})))}}u(["exports"],function(i){var _=typeof self<"u"?self:{},b="2.15.0";let E;const k={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(E==null){const s=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{E={}.API_URL_REGEX!=null?new RegExp({}.API_URL_REGEX):s}catch{E=s}}return E},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get API_CDN_URL_REGEX(){return/^((https?:)?\/\/)?api\.mapbox\.c(n|om)(\/mapbox-gl-js\/)(.*$)/i},get EVENTS_URL(){if(!k.API_URL)return null;try{const s=new URL(k.API_URL);return s.hostname==="api.mapbox.cn"?"https://events.mapbox.cn/events/v2":s.hostname==="api.mapbox.com"?"https://events.mapbox.com/events/v2":null}catch{return null}},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},R={supported:!1,testSupport:function(s){!L&&F&&(X?$(s):B=s)}};let B,F,L=!1,X=!1;function $(s){const n=s.createTexture();s.bindTexture(s.TEXTURE_2D,n);try{if(s.texImage2D(s.TEXTURE_2D,0,s.RGBA,s.RGBA,s.UNSIGNED_BYTE,F),s.isContextLost())return;R.supported=!0}catch{}s.deleteTexture(n),L=!0}_.document&&(F=_.document.createElement("img"),F.onload=function(){B&&$(B),B=null,X=!0},F.onerror=function(){L=!0,B=null},F.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const H="01";function G(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Q=te;function te(s,n,a,d){this.cx=3*s,this.bx=3*(a-s)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*n,this.by=3*(d-n)-this.cy,this.ay=1-this.cy-this.by,this.p1x=s,this.p1y=n,this.p2x=a,this.p2y=d}te.prototype={sampleCurveX:function(s){return((this.ax*s+this.bx)*s+this.cx)*s},sampleCurveY:function(s){return((this.ay*s+this.by)*s+this.cy)*s},sampleCurveDerivativeX:function(s){return(3*this.ax*s+2*this.bx)*s+this.cx},solveCurveX:function(s,n){if(n===void 0&&(n=1e-6),s<0)return 0;if(s>1)return 1;for(var a=s,d=0;d<8;d++){var p=this.sampleCurveX(a)-s;if(Math.abs(p)<n)return a;var g=this.sampleCurveDerivativeX(a);if(Math.abs(g)<1e-6)break;a-=p/g}var v=0,w=1;for(a=s,d=0;d<20&&(p=this.sampleCurveX(a),!(Math.abs(p-s)<n));d++)s>p?v=a:w=a,a=.5*(w-v)+v;return a},solve:function(s,n){return this.sampleCurveY(this.solveCurveX(s,n))}};var le=G(Q),M=de;function de(s,n){this.x=s,this.y=n}de.prototype={clone:function(){return new de(this.x,this.y)},add:function(s){return this.clone()._add(s)},sub:function(s){return this.clone()._sub(s)},multByPoint:function(s){return this.clone()._multByPoint(s)},divByPoint:function(s){return this.clone()._divByPoint(s)},mult:function(s){return this.clone()._mult(s)},div:function(s){return this.clone()._div(s)},rotate:function(s){return this.clone()._rotate(s)},rotateAround:function(s,n){return this.clone()._rotateAround(s,n)},matMult:function(s){return this.clone()._matMult(s)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(s){return this.x===s.x&&this.y===s.y},dist:function(s){return Math.sqrt(this.distSqr(s))},distSqr:function(s){var n=s.x-this.x,a=s.y-this.y;return n*n+a*a},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(s){return Math.atan2(this.y-s.y,this.x-s.x)},angleWith:function(s){return this.angleWithSep(s.x,s.y)},angleWithSep:function(s,n){return Math.atan2(this.x*n-this.y*s,this.x*s+this.y*n)},_matMult:function(s){var n=s[2]*this.x+s[3]*this.y;return this.x=s[0]*this.x+s[1]*this.y,this.y=n,this},_add:function(s){return this.x+=s.x,this.y+=s.y,this},_sub:function(s){return this.x-=s.x,this.y-=s.y,this},_mult:function(s){return this.x*=s,this.y*=s,this},_div:function(s){return this.x/=s,this.y/=s,this},_multByPoint:function(s){return this.x*=s.x,this.y*=s.y,this},_divByPoint:function(s){return this.x/=s.x,this.y/=s.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var s=this.y;return this.y=this.x,this.x=-s,this},_rotate:function(s){var n=Math.cos(s),a=Math.sin(s),d=a*this.x+n*this.y;return this.x=n*this.x-a*this.y,this.y=d,this},_rotateAround:function(s,n){var a=Math.cos(s),d=Math.sin(s),p=n.y+d*(this.x-n.x)+a*(this.y-n.y);return this.x=n.x+a*(this.x-n.x)-d*(this.y-n.y),this.y=p,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},de.convert=function(s){return s instanceof de?s:Array.isArray(s)?new de(s[0],s[1]):s};var ce=G(M);const xe=Math.PI/180,ke=180/Math.PI;function $e(s){return s*xe}function _e(s){return s*ke}const we=[[0,0],[1,0],[1,1],[0,1]];function me(s){if(s<=0)return 0;if(s>=1)return 1;const n=s*s,a=n*s;return 4*(s<.5?a:3*(s-n)+a-.75)}function je(s,n,a,d){const p=new le(s,n,a,d);return function(g){return p.solve(g)}}const ze=je(.25,.1,.25,1);function Me(s,n,a){return Math.min(a,Math.max(n,s))}function Le(s,n,a){return(a=Me((a-s)/(n-s),0,1))*a*(3-2*a)}function qe(s,n,a){const d=a-n,p=((s-n)%d+d)%d+n;return p===n?a:p}function ct(s,n,a){if(!s.length)return a(null,[]);let d=s.length;const p=new Array(s.length);let g=null;s.forEach((v,w)=>{n(v,(C,P)=>{C&&(g=C),p[w]=P,--d==0&&a(g,p)})})}function wt(s){const n=[];for(const a in s)n.push(s[a]);return n}function St(s,...n){for(const a of n)for(const d in a)s[d]=a[d];return s}let ht=1;function Dt(){return ht++}function bt(){return function s(n){return n?(n^Math.random()*(16>>n/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,s)}()}function Et(s){return s<=1?1:Math.pow(2,Math.ceil(Math.log(s)/Math.LN2))}function Xt(s){return!!s&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(s)}function rn(s,n){s.forEach(a=>{n[a]&&(n[a]=n[a].bind(n))})}function _t(s,n){return s.indexOf(n,s.length-n.length)!==-1}function at(s,n,a){const d={};for(const p in s)d[p]=n.call(a||this,s[p],p,s);return d}function ft(s,n,a){const d={};for(const p in s)n.call(a||this,s[p],p,s)&&(d[p]=s[p]);return d}function Ft(s){return Array.isArray(s)?s.map(Ft):typeof s=="object"&&s?at(s,Ft):s}const un={};function rt(s){un[s]||(typeof console<"u"&&console.warn(s),un[s]=!0)}function an(s,n,a){return(a.y-s.y)*(n.x-s.x)>(n.y-s.y)*(a.x-s.x)}function Tt(s){let n=0;for(let a,d,p=0,g=s.length,v=g-1;p<g;v=p++)a=s[p],d=s[v],n+=(d.x-a.x)*(a.y+d.y);return n}function on(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function ln(s){const n={};if(s.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(a,d,p,g)=>{const v=p||g;return n[d]=!v||v.toLowerCase(),""}),n["max-age"]){const a=parseInt(n["max-age"],10);isNaN(a)?delete n["max-age"]:n["max-age"]=a}return n}let sn=null;function Qt(s){if(sn==null){const n=s.navigator?s.navigator.userAgent:null;sn=!!s.safari||!(!n||!(/\b(iPad|iPhone|iPod)\b/.test(n)||n.match("Safari")&&!n.match("Chrome")))}return sn}function Tn(s){try{const n=_[s];return n.setItem("_mapbox_test_",1),n.removeItem("_mapbox_test_"),!0}catch{return!1}}function Zn(s,n){return[s[4*n],s[4*n+1],s[4*n+2],s[4*n+3]]}const hr="mapbox-tiles";let $t=500,Dn=50,Wn,Cn;function Pn(){try{return _.caches}catch{}}function In(){Pn()&&!Wn&&(Wn=_.caches.open(hr))}function er(s){const n=s.indexOf("?");if(n<0)return s;const a=function(p){const g=p.indexOf("?");return g>0?p.slice(g+1).split("&"):[]}(s),d=a.filter(p=>{const g=p.split("=");return g[0]==="language"||g[0]==="worldview"});return d.length?`${s.slice(0,n)}?${d.join("&")}`:s.slice(0,n)}let dn=1/0;const yn={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(yn);class zn extends Error{constructor(n,a,d){a===401&&et(d)&&(n+=": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes"),super(n),this.status=a,this.url=d}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const Qn=on()?()=>self.worker&&self.worker.referrer:()=>(_.location.protocol==="blob:"?_.parent:_).location.href,Cr=function(s,n){if(!(/^file:/.test(a=s.url)||/^file:/.test(Qn())&&!/^\w+:/.test(a))){if(_.fetch&&_.Request&&_.AbortController&&_.Request.prototype.hasOwnProperty("signal"))return function(d,p){const g=new _.AbortController,v=new _.Request(d.url,{method:d.method||"GET",body:d.body,credentials:d.credentials,headers:d.headers,referrer:Qn(),referrerPolicy:d.referrerPolicy,signal:g.signal});let w=!1,C=!1;const P=(z=v.url).indexOf("sku=")>0&&et(z);var z;d.type==="json"&&v.headers.set("Accept","application/json");const N=(K,ee,ie)=>{if(C)return;if(K&&K.message!=="SecurityError"&&rt(K.toString()),ee&&ie)return W(ee);const fe=Date.now();_.fetch(v).then(Te=>{if(Te.ok){const Fe=P?Te.clone():null;return W(Te,Fe,fe)}return p(new zn(Te.statusText,Te.status,d.url))}).catch(Te=>{Te.name!=="AbortError"&&p(new Error(`${Te.message} ${d.url}`))})},W=(K,ee,ie)=>{(d.type==="arrayBuffer"?K.arrayBuffer():d.type==="json"?K.json():K.text()).then(fe=>{C||(ee&&ie&&function(Te,Fe,Ce){if(In(),!Wn)return;const Oe={status:Fe.status,statusText:Fe.statusText,headers:new _.Headers};Fe.headers.forEach((pt,st)=>Oe.headers.set(st,pt));const Ve=ln(Fe.headers.get("Cache-Control")||"");if(Ve["no-store"])return;Ve["max-age"]&&Oe.headers.set("Expires",new Date(Ce+1e3*Ve["max-age"]).toUTCString());const Ne=Oe.headers.get("Expires");Ne&&(new Date(Ne).getTime()-Ce<42e4||function(pt,st){if(Cn===void 0)try{new Response(new ReadableStream),Cn=!0}catch{Cn=!1}Cn?st(pt.body):pt.blob().then(st)}(Fe,pt=>{const st=new _.Response(pt,Oe);In(),Wn&&Wn.then(Mt=>Mt.put(er(Te.url),st)).catch(Mt=>rt(Mt.message))}))}(v,ee,ie),w=!0,p(null,fe,K.headers.get("Cache-Control"),K.headers.get("Expires")))}).catch(fe=>{C||p(new Error(fe.message))})};return P?function(K,ee){if(In(),!Wn)return ee(null);const ie=er(K.url);Wn.then(fe=>{fe.match(ie).then(Te=>{const Fe=function(Ce){if(!Ce)return!1;const Oe=new Date(Ce.headers.get("Expires")||0),Ve=ln(Ce.headers.get("Cache-Control")||"");return Oe>Date.now()&&!Ve["no-cache"]}(Te);fe.delete(ie),Fe&&fe.put(ie,Te.clone()),ee(null,Te,Fe)}).catch(ee)}).catch(ee)}(v,N):N(null,null),{cancel:()=>{C=!0,w||g.abort()}}}(s,n);if(on()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",s,n,void 0,!0)}var a;return function(d,p){const g=new _.XMLHttpRequest;g.open(d.method||"GET",d.url,!0),d.type==="arrayBuffer"&&(g.responseType="arraybuffer");for(const v in d.headers)g.setRequestHeader(v,d.headers[v]);return d.type==="json"&&(g.responseType="text",g.setRequestHeader("Accept","application/json")),g.withCredentials=d.credentials==="include",g.onerror=()=>{p(new Error(g.statusText))},g.onload=()=>{if((g.status>=200&&g.status<300||g.status===0)&&g.response!==null){let v=g.response;if(d.type==="json")try{v=JSON.parse(g.response)}catch(w){return p(w)}p(null,v,g.getResponseHeader("Cache-Control"),g.getResponseHeader("Expires"))}else p(new zn(g.statusText,g.status,d.url))},g.send(d.body),{cancel:()=>g.abort()}}(s,n)},Ur=function(s,n){return Cr(St(s,{type:"arrayBuffer"}),n)};function yi(s){const n=_.document.createElement("a");return n.href=s,n.protocol===_.document.location.protocol&&n.host===_.document.location.host}const Ee="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let ae,ue;ae=[],ue=0;const Pe=function(s,n){if(R.supported&&(s.headers||(s.headers={}),s.headers.accept="image/webp,*/*"),ue>=k.MAX_PARALLEL_IMAGE_REQUESTS){const g={requestParameters:s,callback:n,cancelled:!1,cancel(){this.cancelled=!0}};return ae.push(g),g}ue++;let a=!1;const d=()=>{if(!a)for(a=!0,ue--;ae.length&&ue<k.MAX_PARALLEL_IMAGE_REQUESTS;){const g=ae.shift(),{requestParameters:v,callback:w,cancelled:C}=g;C||(g.cancel=Pe(v,w).cancel)}},p=Ur(s,(g,v,w,C)=>{d(),g?n(g):v&&(_.createImageBitmap?function(P,z){const N=new _.Blob([new Uint8Array(P)],{type:"image/png"});_.createImageBitmap(N).then(W=>{z(null,W)}).catch(W=>{z(new Error(`Could not load image because of ${W.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(v,(P,z)=>n(P,z,w,C)):function(P,z){const N=new _.Image,W=_.URL;N.onload=()=>{z(null,N),W.revokeObjectURL(N.src),N.onload=null,_.requestAnimationFrame(()=>{N.src=Ee})},N.onerror=()=>z(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const K=new _.Blob([new Uint8Array(P)],{type:"image/png"});N.src=P.byteLength?W.createObjectURL(K):Ee}(v,(P,z)=>n(P,z,w,C)))});return{cancel:()=>{p.cancel(),d()}}},Be="NO_ACCESS_TOKEN";function Ze(s){return s.indexOf("mapbox:")===0}function et(s){return k.API_URL_REGEX.test(s)}function Qe(s){return k.API_CDN_URL_REGEX.test(s)}function Xe(s){return k.API_STYLE_REGEX.test(s)&&!it(s)}function it(s){return k.API_SPRITE_REGEX.test(s)}const Nt=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Kt(s){const n=s.match(Nt);if(!n)throw new Error("Unable to parse URL object");return{protocol:n[1],authority:n[2],path:n[3]||"/",params:n[4]?n[4].split("&"):[]}}function Ut(s){const n=s.params.length?`?${s.params.join("&")}`:"";return`${s.protocol}://${s.authority}${s.path}${n}`}const Xn="mapbox.eventData";function nr(s){if(!s)return null;const n=s.split(".");if(!n||n.length!==3)return null;try{return JSON.parse(decodeURIComponent(_.atob(n[1]).split("").map(a=>"%"+("00"+a.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch{return null}}class Kn{constructor(n){this.type=n,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(n){const a=nr(k.ACCESS_TOKEN);let d="";return d=a&&a.u?_.btoa(encodeURIComponent(a.u).replace(/%([0-9A-F]{2})/g,(p,g)=>String.fromCharCode(+("0x"+g)))):k.ACCESS_TOKEN||"",n?`${Xn}.${n}:${d}`:`${Xn}:${d}`}fetchEventData(){const n=Tn("localStorage"),a=this.getStorageKey(),d=this.getStorageKey("uuid");if(n)try{const p=_.localStorage.getItem(a);p&&(this.eventData=JSON.parse(p));const g=_.localStorage.getItem(d);g&&(this.anonId=g)}catch{rt("Unable to read from LocalStorage")}}saveEventData(){const n=Tn("localStorage"),a=this.getStorageKey(),d=this.getStorageKey("uuid");if(n)try{_.localStorage.setItem(d,this.anonId),Object.keys(this.eventData).length>=1&&_.localStorage.setItem(a,JSON.stringify(this.eventData))}catch{rt("Unable to write to LocalStorage")}}processRequests(n){}postEvent(n,a,d,p){if(!k.EVENTS_URL)return;const g=Kt(k.EVENTS_URL);g.params.push(`access_token=${p||k.ACCESS_TOKEN||""}`);const v={event:this.type,created:new Date(n).toISOString()},w=a?St(v,a):v,C={url:Ut(g),headers:{"Content-Type":"text/plain"},body:JSON.stringify([w])};this.pendingRequest=function(P,z){return Cr(St(P,{method:"POST"}),z)}(C,P=>{this.pendingRequest=null,d(P),this.saveEventData(),this.processRequests(p)})}queueRequest(n,a){this.queue.push(n),this.processRequests(a)}}const rr=new class extends Kn{constructor(s){super("appUserTurnstile"),this._customAccessToken=s}postTurnstileEvent(s,n){k.EVENTS_URL&&k.ACCESS_TOKEN&&Array.isArray(s)&&s.some(a=>Ze(a)||et(a))&&this.queueRequest(Date.now(),n)}processRequests(s){if(this.pendingRequest||this.queue.length===0)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const n=nr(k.ACCESS_TOKEN),a=n?n.u:k.ACCESS_TOKEN;let d=a!==this.eventData.tokenU;Xt(this.anonId)||(this.anonId=bt(),d=!0);const p=this.queue.shift();if(this.eventData.lastSuccess){const g=new Date(this.eventData.lastSuccess),v=new Date(p),w=(p-this.eventData.lastSuccess)/864e5;d=d||w>=1||w<-1||g.getDate()!==v.getDate()}else d=!0;d?this.postEvent(p,{sdkIdentifier:"mapbox-gl-js",sdkVersion:b,skuId:H,"enabled.telemetry":!1,userId:this.anonId},g=>{g||(this.eventData.lastSuccess=p,this.eventData.tokenU=a)},s):this.processRequests()}},pr=rr.postTurnstileEvent.bind(rr),Br=new class extends Kn{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(s,n,a,d){this.skuToken=n,this.errorCb=d,k.EVENTS_URL&&(a||k.ACCESS_TOKEN?this.queueRequest({id:s,timestamp:Date.now()},a):this.errorCb(new Error(Be)))}processRequests(s){if(this.pendingRequest||this.queue.length===0)return;const{id:n,timestamp:a}=this.queue.shift();n&&this.success[n]||(this.anonId||this.fetchEventData(),Xt(this.anonId)||(this.anonId=bt()),this.postEvent(a,{sdkIdentifier:"mapbox-gl-js",sdkVersion:b,skuId:H,skuToken:this.skuToken,userId:this.anonId},d=>{d?this.errorCb(d):n&&(this.success[n]=!0)},s))}},jr=Br.postMapLoadEvent.bind(Br),wi=new class extends Kn{constructor(){super("gljs.performance")}postPerformanceEvent(s,n){k.EVENTS_URL&&(s||k.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:n},s)}processRequests(s){if(this.pendingRequest||this.queue.length===0)return;const{timestamp:n,performanceData:a}=this.queue.shift(),d=function(p){const g=_.performance.getEntriesByType("resource"),v=_.performance.getEntriesByType("mark"),w=function(W){const K={};if(W){for(const ee in W)if(ee!=="other")for(const ie of W[ee]){const fe=`${ee}ResolveRangeMin`,Te=`${ee}ResolveRangeMax`,Fe=`${ee}RequestCount`,Ce=`${ee}RequestCachedCount`;K[fe]=Math.min(K[fe]||1/0,ie.startTime),K[Te]=Math.max(K[Te]||-1/0,ie.responseEnd);const Oe=Ve=>{K[Ve]===void 0&&(K[Ve]=0),++K[Ve]};ie.transferSize!==void 0&&ie.transferSize===0&&Oe(Ce),Oe(Fe)}}return K}(function(W,K){const ee={};if(W)for(const ie of W){const fe=K(ie);ee[fe]===void 0&&(ee[fe]=[]),ee[fe].push(ie)}return ee}(g,_i)),C=_.devicePixelRatio,P=_.navigator.connection||_.navigator.mozConnection||_.navigator.webkitConnection,z={counters:[],metadata:[],attributes:[]},N=(W,K,ee)=>{ee!=null&&W.push({name:K,value:ee.toString()})};for(const W in w)N(z.counters,W,w[W]);if(p.interactionRange[0]!==1/0&&p.interactionRange[1]!==-1/0&&(N(z.counters,"interactionRangeMin",p.interactionRange[0]),N(z.counters,"interactionRangeMax",p.interactionRange[1])),v)for(const W of Object.keys(Mr)){const K=Mr[W],ee=v.find(ie=>ie.name===K);ee&&N(z.counters,K,ee.startTime)}return N(z.counters,"visibilityHidden",p.visibilityHidden),N(z.attributes,"style",function(W){if(W)for(const K of W){const ee=K.name.split("?")[0];if(Xe(ee)){const ie=ee.split("/").slice(-2);if(ie.length===2)return`mapbox://styles/${ie[0]}/${ie[1]}`}}}(g)),N(z.attributes,"terrainEnabled",p.terrainEnabled?"true":"false"),N(z.attributes,"fogEnabled",p.fogEnabled?"true":"false"),N(z.attributes,"projection",p.projection),N(z.attributes,"zoom",p.zoom),N(z.metadata,"devicePixelRatio",C),N(z.metadata,"connectionEffectiveType",P?P.effectiveType:void 0),N(z.metadata,"navigatorUserAgent",_.navigator.userAgent),N(z.metadata,"screenWidth",_.screen.width),N(z.metadata,"screenHeight",_.screen.height),N(z.metadata,"windowWidth",_.innerWidth),N(z.metadata,"windowHeight",_.innerHeight),N(z.metadata,"mapWidth",p.width/C),N(z.metadata,"mapHeight",p.height/C),N(z.metadata,"webglRenderer",p.renderer),N(z.metadata,"webglVendor",p.vendor),N(z.metadata,"sdkVersion",b),N(z.metadata,"sdkIdentifier","mapbox-gl-js"),z}(a);for(const p of d.metadata);for(const p of d.counters);for(const p of d.attributes);this.postEvent(n,d,()=>{},s)}},ut=wi.postPerformanceEvent.bind(wi),xt=new class extends Kn{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(s,n,a,d){if(!k.API_URL||!k.SESSION_PATH)return;const p=Kt(k.API_URL+k.SESSION_PATH);p.params.push(`sku=${n||""}`),p.params.push(`access_token=${d||k.ACCESS_TOKEN||""}`);const g={url:Ut(p),headers:{"Content-Type":"text/plain"}};this.pendingRequest=function(v,w){return Cr(St(v,{method:"GET"}),w)}(g,v=>{this.pendingRequest=null,a(v),this.saveEventData(),this.processRequests(d)})}getSessionAPI(s,n,a,d){this.skuToken=n,this.errorCb=d,k.SESSION_PATH&&k.API_URL&&(a||k.ACCESS_TOKEN?this.queueRequest({id:s,timestamp:Date.now()},a):this.errorCb(new Error(Be)))}processRequests(s){if(this.pendingRequest||this.queue.length===0)return;const{id:n,timestamp:a}=this.queue.shift();n&&this.success[n]||this.getSession(a,this.skuToken,d=>{d?this.errorCb(d):n&&(this.success[n]=!0)},s)}},_n=xt.getSessionAPI.bind(xt),Rn=new Set,Mr={create:"create",load:"load",fullLoad:"fullLoad"},zi={mark(s){_.performance.mark(s)},measure(s,n,a){_.performance.measure(s,n,a)}};function _i(s){const n=s.name.split("?")[0];return Qe(n)&&n.includes("mapbox-gl.js")?"javascript":Qe(n)&&n.includes("mapbox-gl.css")?"css":function(a){return k.API_FONTS_REGEX.test(a)}(n)?"fontRange":it(n)?"sprite":Xe(n)?"style":function(a){return k.API_TILEJSON_REGEX.test(a)}(n)?"tilejson":"other"}const ir=_.performance;function dl(s){const n=s?s.url.toString():void 0;return ir.getEntriesByName(n)}let zc,hl,Lc,ws;const zs={now:()=>Lc!==void 0?Lc:_.performance.now(),setNow(s){Lc=s},restoreNow(){Lc=void 0},frame(s){const n=_.requestAnimationFrame(s);return{cancel:()=>_.cancelAnimationFrame(n)}},getImageData(s,n=0){const{width:a,height:d}=s;ws||(ws=_.document.createElement("canvas"));const p=ws.getContext("2d",{willReadFrequently:!0});if(!p)throw new Error("failed to create canvas 2d context");return(a>ws.width||d>ws.height)&&(ws.width=a,ws.height=d),p.clearRect(-n,-n,a+2*n,d+2*n),p.drawImage(s,0,0,a,d),p.getImageData(-n,-n,a+2*n,d+2*n)},resolveURL:s=>(zc||(zc=_.document.createElement("a")),zc.href=s,zc.href),get devicePixelRatio(){return _.devicePixelRatio},get prefersReducedMotion(){return!!_.matchMedia&&(hl==null&&(hl=_.matchMedia("(prefers-reduced-motion: reduce)")),hl.matches)}};function Cu(s,n,a){a[s]&&a[s].indexOf(n)!==-1||(a[s]=a[s]||[],a[s].push(n))}function Md(s,n,a){if(a&&a[s]){const d=a[s].indexOf(n);d!==-1&&a[s].splice(d,1)}}class ia{constructor(n,a={}){St(this,a),this.type=n}}class oa extends ia{constructor(n,a={}){super("error",St({error:n},a))}}class Oc{on(n,a){return this._listeners=this._listeners||{},Cu(n,a,this._listeners),this}off(n,a){return Md(n,a,this._listeners),Md(n,a,this._oneTimeListeners),this}once(n,a){return a?(this._oneTimeListeners=this._oneTimeListeners||{},Cu(n,a,this._oneTimeListeners),this):new Promise(d=>this.once(n,d))}fire(n,a){typeof n=="string"&&(n=new ia(n,a||{}));const d=n.type;if(this.listens(d)){n.target=this;const p=this._listeners&&this._listeners[d]?this._listeners[d].slice():[];for(const w of p)w.call(this,n);const g=this._oneTimeListeners&&this._oneTimeListeners[d]?this._oneTimeListeners[d].slice():[];for(const w of g)Md(d,w,this._oneTimeListeners),w.call(this,n);const v=this._eventedParent;v&&(St(n,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),v.fire(n))}else n instanceof oa&&console.error(n.error);return this}listens(n){return!!(this._listeners&&this._listeners[n]&&this._listeners[n].length>0||this._oneTimeListeners&&this._oneTimeListeners[n]&&this._oneTimeListeners[n].length>0||this._eventedParent&&this._eventedParent.listens(n))}setEventedParent(n,a){return this._eventedParent=n,this._eventedParentData=a,this}}var Pt=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","private":true,"default":0,"minimum":0,"maximum":1,"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{},"globe":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["source"]}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","private":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["fill-extrusion-edge-radius"]},"fill-extrusion-rounded-roof":{"type":"boolean","default":true,"requires":["fill-extrusion-edge-radius"],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":false,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"transition":false,"requires":[{"source":"geojson","has":{"lineMetrics":true}}],"property-type":"constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function Ls(s,...n){for(const a of n)for(const d in a)s[d]=a[d];return s}function Si(s){return s instanceof Number||s instanceof String||s instanceof Boolean?s.valueOf():s}function Ui(s){if(Array.isArray(s))return s.map(Ui);if(s instanceof Object&&!(s instanceof Number||s instanceof String||s instanceof Boolean)){const n={};for(const a in s)n[a]=Ui(s[a]);return n}return Si(s)}class So extends Error{constructor(n,a){super(a),this.message=a,this.key=n}}var To=So;class Vl{constructor(n,a=[]){this.parent=n,this.bindings={};for(const[d,p]of a)this.bindings[d]=p}concat(n){return new Vl(this,n)}get(n){if(this.bindings[n])return this.bindings[n];if(this.parent)return this.parent.get(n);throw new Error(`${n} not found in scope.`)}has(n){return!!this.bindings[n]||!!this.parent&&this.parent.has(n)}}var Yh=Vl;const Ul={kind:"null"},pn={kind:"number"},xr={kind:"string"},fr={kind:"boolean"},zo={kind:"color"},Ss={kind:"object"},_r={kind:"value"},Ti={kind:"collator"},Wl={kind:"formatted"},Ts={kind:"resolvedImage"};function rs(s,n){return{kind:"array",itemType:s,N:n}}function ci(s){if(s.kind==="array"){const n=ci(s.itemType);return typeof s.N=="number"?`array<${n}, ${s.N}>`:s.itemType.kind==="value"?"array":`array<${n}>`}return s.kind}const Ra=[Ul,pn,xr,fr,zo,Wl,Ss,rs(_r),Ts];function Co(s,n){if(n.kind==="error")return null;if(s.kind==="array"){if(n.kind==="array"&&(n.N===0&&n.itemType.kind==="value"||!Co(s.itemType,n.itemType))&&(typeof s.N!="number"||s.N===n.N))return null}else{if(s.kind===n.kind)return null;if(s.kind==="value"){for(const a of Ra)if(!Co(a,n))return null}}return`Expected ${ci(s)} but found ${ci(n)} instead.`}function pl(s,n){return n.some(a=>a.kind===s.kind)}function Fc(s,n){return n.some(a=>a==="null"?s===null:a==="array"?Array.isArray(s):a==="object"?s&&!Array.isArray(s)&&typeof s=="object":a===typeof s)}var fl,Id={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ml(s){return(s=Math.round(s))<0?0:s>255?255:s}function Hl(s){return ml(s[s.length-1]==="%"?parseFloat(s)/100*255:parseInt(s))}function Bc(s){return(n=s[s.length-1]==="%"?parseFloat(s)/100:parseFloat(s))<0?0:n>1?1:n;var n}function Gl(s,n,a){return a<0?a+=1:a>1&&(a-=1),6*a<1?s+(n-s)*a*6:2*a<1?n:3*a<2?s+(n-s)*(2/3-a)*6:s}try{fl={}.parseCSSColor=function(s){var n,a=s.replace(/ /g,"").toLowerCase();if(a in Id)return Id[a].slice();if(a[0]==="#")return a.length===4?(n=parseInt(a.substr(1),16))>=0&&n<=4095?[(3840&n)>>4|(3840&n)>>8,240&n|(240&n)>>4,15&n|(15&n)<<4,1]:null:a.length===7&&(n=parseInt(a.substr(1),16))>=0&&n<=16777215?[(16711680&n)>>16,(65280&n)>>8,255&n,1]:null;var d=a.indexOf("("),p=a.indexOf(")");if(d!==-1&&p+1===a.length){var g=a.substr(0,d),v=a.substr(d+1,p-(d+1)).split(","),w=1;switch(g){case"rgba":if(v.length!==4)return null;w=Bc(v.pop());case"rgb":return v.length!==3?null:[Hl(v[0]),Hl(v[1]),Hl(v[2]),w];case"hsla":if(v.length!==4)return null;w=Bc(v.pop());case"hsl":if(v.length!==3)return null;var C=(parseFloat(v[0])%360+360)%360/360,P=Bc(v[1]),z=Bc(v[2]),N=z<=.5?z*(P+1):z+P-z*P,W=2*z-N;return[ml(255*Gl(W,N,C+1/3)),ml(255*Gl(W,N,C)),ml(255*Gl(W,N,C-1/3)),w];default:return null}}return null}}catch{}class Eo{constructor(n,a,d,p=1){this.r=n,this.g=a,this.b=d,this.a=p}static parse(n){if(!n)return;if(n instanceof Eo)return n;if(typeof n!="string")return;const a=fl(n);return a?new Eo(a[0]/255*a[3],a[1]/255*a[3],a[2]/255*a[3],a[3]):void 0}toString(){const[n,a,d,p]=this.toArray();return`rgba(${Math.round(n)},${Math.round(a)},${Math.round(d)},${p})`}toArray(){const{r:n,g:a,b:d,a:p}=this;return p===0?[0,0,0,0]:[255*n/p,255*a/p,255*d/p,p]}toArray01(){const{r:n,g:a,b:d,a:p}=this;return p===0?[0,0,0,0]:[n/p,a/p,d/p,p]}toArray01PremultipliedAlpha(){const{r:n,g:a,b:d,a:p}=this;return[n,a,d,p]}}Eo.black=new Eo(0,0,0,1),Eo.white=new Eo(1,1,1,1),Eo.transparent=new Eo(0,0,0,0),Eo.red=new Eo(1,0,0,1),Eo.blue=new Eo(0,0,1,1);var Mi=Eo;class Ad{constructor(n,a,d){this.sensitivity=n?a?"variant":"case":a?"accent":"base",this.locale=d,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(n,a){return this.collator.compare(n,a)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Nc{constructor(n,a,d,p,g){this.text=n.normalize?n.normalize():n,this.image=a,this.scale=d,this.fontStack=p,this.textColor=g}}class Lo{constructor(n){this.sections=n}static fromString(n){return new Lo([new Nc(n,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(n=>n.text.length!==0||n.image&&n.image.name.length!==0)}static factory(n){return n instanceof Lo?n:Lo.fromString(n)}toString(){return this.sections.length===0?"":this.sections.map(n=>n.text).join("")}serialize(){const n=["format"];for(const a of this.sections){if(a.image){n.push(["image",a.image.name]);continue}n.push(a.text);const d={};a.fontStack&&(d["text-font"]=["literal",a.fontStack.split(",")]),a.scale&&(d["font-scale"]=a.scale),a.textColor&&(d["text-color"]=["rgba"].concat(a.textColor.toArray())),n.push(d)}return n}}class is{constructor(n){this.name=n.name,this.available=n.available}toString(){return this.name}static fromString(n){return n?new is({name:n,available:!1}):null}serialize(){return["image",this.name]}}function Kh(s,n,a,d){return typeof s=="number"&&s>=0&&s<=255&&typeof n=="number"&&n>=0&&n<=255&&typeof a=="number"&&a>=0&&a<=255?d===void 0||typeof d=="number"&&d>=0&&d<=1?null:`Invalid rgba value [${[s,n,a,d].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof d=="number"?[s,n,a,d]:[s,n,a]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function $c(s){if(s===null||typeof s=="string"||typeof s=="boolean"||typeof s=="number"||s instanceof Mi||s instanceof Ad||s instanceof Lo||s instanceof is)return!0;if(Array.isArray(s)){for(const n of s)if(!$c(n))return!1;return!0}if(typeof s=="object"){for(const n in s)if(!$c(s[n]))return!1;return!0}return!1}function Ci(s){if(s===null)return Ul;if(typeof s=="string")return xr;if(typeof s=="boolean")return fr;if(typeof s=="number")return pn;if(s instanceof Mi)return zo;if(s instanceof Ad)return Ti;if(s instanceof Lo)return Wl;if(s instanceof is)return Ts;if(Array.isArray(s)){const n=s.length;let a;for(const d of s){const p=Ci(d);if(a){if(a===p)continue;a=_r;break}a=p}return rs(a||_r,n)}return Ss}function jc(s){const n=typeof s;return s===null?"":n==="string"||n==="number"||n==="boolean"?String(s):s instanceof Mi||s instanceof Lo||s instanceof is?s.toString():JSON.stringify(s)}class Dd{constructor(n,a){this.type=n,this.value=a}static parse(n,a){if(n.length!==2)return a.error(`'literal' expression requires exactly one argument, but found ${n.length-1} instead.`);if(!$c(n[1]))return a.error("invalid value");const d=n[1];let p=Ci(d);const g=a.expectedType;return p.kind!=="array"||p.N!==0||!g||g.kind!=="array"||typeof g.N=="number"&&g.N!==0||(p=g),new Dd(p,d)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof Mi?["rgba"].concat(this.value.toArray()):this.value instanceof Lo?this.value.serialize():this.value}}var za=Dd,Wi=class{constructor(s){this.name="ExpressionEvaluationError",this.message=s}toJSON(){return this.message}};const Eu={string:xr,number:pn,boolean:fr,object:Ss};class Vc{constructor(n,a){this.type=n,this.args=a}static parse(n,a){if(n.length<2)return a.error("Expected at least one argument.");let d,p=1;const g=n[0];if(g==="array"){let w,C;if(n.length>2){const P=n[1];if(typeof P!="string"||!(P in Eu)||P==="object")return a.error('The item type argument of "array" must be one of string, number, boolean',1);w=Eu[P],p++}else w=_r;if(n.length>3){if(n[2]!==null&&(typeof n[2]!="number"||n[2]<0||n[2]!==Math.floor(n[2])))return a.error('The length argument to "array" must be a positive integer literal',2);C=n[2],p++}d=rs(w,C)}else d=Eu[g];const v=[];for(;p<n.length;p++){const w=a.parse(n[p],p,_r);if(!w)return null;v.push(w)}return new Vc(d,v)}evaluate(n){for(let a=0;a<this.args.length;a++){const d=this.args[a].evaluate(n);if(!Co(this.type,Ci(d)))return d;if(a===this.args.length-1)throw new Wi(`Expected value to be of type ${ci(this.type)}, but found ${ci(Ci(d))} instead.`)}return null}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}serialize(){const n=this.type,a=[n.kind];if(n.kind==="array"){const d=n.itemType;if(d.kind==="string"||d.kind==="number"||d.kind==="boolean"){a.push(d.kind);const p=n.N;(typeof p=="number"||this.args.length>1)&&a.push(p)}}return a.concat(this.args.map(d=>d.serialize()))}}var Os=Vc;class sa{constructor(n){this.type=Wl,this.sections=n}static parse(n,a){if(n.length<2)return a.error("Expected at least one argument.");const d=n[1];if(!Array.isArray(d)&&typeof d=="object")return a.error("First argument must be an image or text section.");const p=[];let g=!1;for(let v=1;v<=n.length-1;++v){const w=n[v];if(g&&typeof w=="object"&&!Array.isArray(w)){g=!1;let C=null;if(w["font-scale"]&&(C=a.parse(w["font-scale"],1,pn),!C))return null;let P=null;if(w["text-font"]&&(P=a.parse(w["text-font"],1,rs(xr)),!P))return null;let z=null;if(w["text-color"]&&(z=a.parse(w["text-color"],1,zo),!z))return null;const N=p[p.length-1];N.scale=C,N.font=P,N.textColor=z}else{const C=a.parse(n[v],1,_r);if(!C)return null;const P=C.type.kind;if(P!=="string"&&P!=="value"&&P!=="null"&&P!=="resolvedImage")return a.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");g=!0,p.push({content:C,scale:null,font:null,textColor:null})}}return new sa(p)}evaluate(n){return new Lo(this.sections.map(a=>{const d=a.content.evaluate(n);return Ci(d)===Ts?new Nc("",d,null,null,null):new Nc(jc(d),null,a.scale?a.scale.evaluate(n):null,a.font?a.font.evaluate(n).join(","):null,a.textColor?a.textColor.evaluate(n):null)}))}eachChild(n){for(const a of this.sections)n(a.content),a.scale&&n(a.scale),a.font&&n(a.font),a.textColor&&n(a.textColor)}outputDefined(){return!1}serialize(){const n=["format"];for(const a of this.sections){n.push(a.content.serialize());const d={};a.scale&&(d["font-scale"]=a.scale.serialize()),a.font&&(d["text-font"]=a.font.serialize()),a.textColor&&(d["text-color"]=a.textColor.serialize()),n.push(d)}return n}}class ql{constructor(n){this.type=Ts,this.input=n}static parse(n,a){if(n.length!==2)return a.error("Expected two arguments.");const d=a.parse(n[1],1,xr);return d?new ql(d):a.error("No image name provided.")}evaluate(n){const a=this.input.evaluate(n),d=is.fromString(a);return d&&n.availableImages&&(d.available=n.availableImages.indexOf(a)>-1),d}eachChild(n){n(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const r1={"to-boolean":fr,"to-color":zo,"to-number":pn,"to-string":xr};class Rd{constructor(n,a){this.type=n,this.args=a}static parse(n,a){if(n.length<2)return a.error("Expected at least one argument.");const d=n[0];if((d==="to-boolean"||d==="to-string")&&n.length!==2)return a.error("Expected one argument.");const p=r1[d],g=[];for(let v=1;v<n.length;v++){const w=a.parse(n[v],v,_r);if(!w)return null;g.push(w)}return new Rd(p,g)}evaluate(n){if(this.type.kind==="boolean")return!!this.args[0].evaluate(n);if(this.type.kind==="color"){let a,d;for(const p of this.args){if(a=p.evaluate(n),d=null,a instanceof Mi)return a;if(typeof a=="string"){const g=n.parseColor(a);if(g)return g}else if(Array.isArray(a)&&(d=a.length<3||a.length>4?`Invalid rbga value ${JSON.stringify(a)}: expected an array containing either three or four numeric values.`:Kh(a[0],a[1],a[2],a[3]),!d))return new Mi(a[0]/255,a[1]/255,a[2]/255,a[3])}throw new Wi(d||`Could not parse color from value '${typeof a=="string"?a:String(JSON.stringify(a))}'`)}if(this.type.kind==="number"){let a=null;for(const d of this.args){if(a=d.evaluate(n),a===null)return 0;const p=Number(a);if(!isNaN(p))return p}throw new Wi(`Could not convert ${JSON.stringify(a)} to number.`)}return this.type.kind==="formatted"?Lo.fromString(jc(this.args[0].evaluate(n))):this.type.kind==="resolvedImage"?is.fromString(jc(this.args[0].evaluate(n))):jc(this.args[0].evaluate(n))}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}serialize(){if(this.type.kind==="formatted")return new sa([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new ql(this.args[0]).serialize();const n=[`to-${this.type.kind}`];return this.eachChild(a=>{n.push(a.serialize())}),n}}var Zl=Rd;const Oo=["Unknown","Point","LineString","Polygon"];var Pu=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Oo[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const s=this.featureDistanceData.center,n=this.featureDistanceData.scale,{x:a,y:d}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(a*n-s[0])+this.featureDistanceData.bearing[1]*(d*n-s[1])}return 0}parseColor(s){let n=this._parseColorCache[s];return n||(n=this._parseColorCache[s]=Mi.parse(s)),n}};class aa{constructor(n,a,d,p){this.name=n,this.type=a,this._evaluate=d,this.args=p}evaluate(n){return this._evaluate(n,this.args)}eachChild(n){this.args.forEach(n)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(n=>n.serialize()))}static parse(n,a){const d=n[0],p=aa.definitions[d];if(!p)return a.error(`Unknown expression "${d}". If you wanted a literal array, use ["literal", [...]].`,0);const g=Array.isArray(p)?p[0]:p.type,v=Array.isArray(p)?[[p[1],p[2]]]:p.overloads,w=v.filter(([P])=>!Array.isArray(P)||P.length===n.length-1);let C=null;for(const[P,z]of w){C=new Ir(a.registry,a.path,null,a.scope);const N=[];let W=!1;for(let K=1;K<n.length;K++){const ee=n[K],ie=Array.isArray(P)?P[K-1]:P.type,fe=C.parse(ee,1+N.length,ie);if(!fe){W=!0;break}N.push(fe)}if(!W)if(Array.isArray(P)&&P.length!==N.length)C.error(`Expected ${P.length} arguments, but found ${N.length} instead.`);else{for(let K=0;K<N.length;K++){const ee=Array.isArray(P)?P[K]:P.type,ie=N[K];C.concat(K+1).checkSubtype(ee,ie.type)}if(C.errors.length===0)return new aa(d,g,z,N)}}if(w.length===1)a.errors.push(...C.errors);else{const P=(w.length?w:v).map(([N])=>{return W=N,Array.isArray(W)?`(${W.map(ci).join(", ")})`:`(${ci(W.type)}...)`;var W}).join(" | "),z=[];for(let N=1;N<n.length;N++){const W=a.parse(n[N],1+z.length);if(!W)return null;z.push(ci(W.type))}a.error(`Expected arguments of type ${P}, but found (${z.join(", ")}) instead.`)}return null}static register(n,a){aa.definitions=a;for(const d in a)n[d]=aa}}var la=aa;class Uc{constructor(n,a,d){this.type=Ti,this.locale=d,this.caseSensitive=n,this.diacriticSensitive=a}static parse(n,a){if(n.length!==2)return a.error("Expected one argument.");const d=n[1];if(typeof d!="object"||Array.isArray(d))return a.error("Collator options argument must be an object.");const p=a.parse(d["case-sensitive"]!==void 0&&d["case-sensitive"],1,fr);if(!p)return null;const g=a.parse(d["diacritic-sensitive"]!==void 0&&d["diacritic-sensitive"],1,fr);if(!g)return null;let v=null;return d.locale&&(v=a.parse(d.locale,1,xr),!v)?null:new Uc(p,g,v)}evaluate(n){return new Ad(this.caseSensitive.evaluate(n),this.diacriticSensitive.evaluate(n),this.locale?this.locale.evaluate(n):null)}eachChild(n){n(this.caseSensitive),n(this.diacriticSensitive),this.locale&&n(this.locale)}outputDefined(){return!1}serialize(){const n={};return n["case-sensitive"]=this.caseSensitive.serialize(),n["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(n.locale=this.locale.serialize()),["collator",n]}}const ca=8192;function T(s,n){s[0]=Math.min(s[0],n[0]),s[1]=Math.min(s[1],n[1]),s[2]=Math.max(s[2],n[0]),s[3]=Math.max(s[3],n[1])}function A(s,n){return!(s[0]<=n[0]||s[2]>=n[2]||s[1]<=n[1]||s[3]>=n[3])}function j(s,n){const a=(180+s[0])/360,d=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+s[1]*Math.PI/360)))/360,p=Math.pow(2,n.z);return[Math.round(a*p*ca),Math.round(d*p*ca)]}function Y(s,n,a){const d=s[0]-n[0],p=s[1]-n[1],g=s[0]-a[0],v=s[1]-a[1];return d*v-g*p==0&&d*g<=0&&p*v<=0}function oe(s,n){let a=!1;for(let v=0,w=n.length;v<w;v++){const C=n[v];for(let P=0,z=C.length;P<z-1;P++){if(Y(s,C[P],C[P+1]))return!1;(p=C[P])[1]>(d=s)[1]!=(g=C[P+1])[1]>d[1]&&d[0]<(g[0]-p[0])*(d[1]-p[1])/(g[1]-p[1])+p[0]&&(a=!a)}}var d,p,g;return a}function se(s,n){for(let a=0;a<n.length;a++)if(oe(s,n[a]))return!0;return!1}function he(s,n,a,d){const p=d[0]-a[0],g=d[1]-a[1],v=(s[0]-a[0])*g-p*(s[1]-a[1]),w=(n[0]-a[0])*g-p*(n[1]-a[1]);return v>0&&w<0||v<0&&w>0}function Ue(s,n,a){for(const P of a)for(let z=0;z<P.length-1;++z)if((w=[(v=P[z+1])[0]-(g=P[z])[0],v[1]-g[1]])[0]*(C=[(p=n)[0]-(d=s)[0],p[1]-d[1]])[1]-w[1]*C[0]!=0&&he(d,p,g,v)&&he(g,v,d,p))return!0;var d,p,g,v,w,C;return!1}function De(s,n){for(let a=0;a<s.length;++a)if(!oe(s[a],n))return!1;for(let a=0;a<s.length-1;++a)if(Ue(s[a],s[a+1],n))return!1;return!0}function nt(s,n){for(let a=0;a<n.length;a++)if(De(s,n[a]))return!0;return!1}function At(s,n,a){const d=[];for(let p=0;p<s.length;p++){const g=[];for(let v=0;v<s[p].length;v++){const w=j(s[p][v],a);T(n,w),g.push(w)}d.push(g)}return d}function jt(s,n,a){const d=[];for(let p=0;p<s.length;p++){const g=At(s[p],n,a);d.push(g)}return d}function vt(s,n,a,d){if(s[0]<a[0]||s[0]>a[2]){const p=.5*d;let g=s[0]-a[0]>p?-d:a[0]-s[0]>p?d:0;g===0&&(g=s[0]-a[2]>p?-d:a[2]-s[0]>p?d:0),s[0]+=g}T(n,s)}function cn(s,n,a,d){const p=Math.pow(2,d.z)*ca,g=[d.x*ca,d.y*ca],v=[];if(!s)return v;for(const w of s)for(const C of w){const P=[C.x+g[0],C.y+g[1]];vt(P,n,a,p),v.push(P)}return v}function or(s,n,a,d){const p=Math.pow(2,d.z)*ca,g=[d.x*ca,d.y*ca],v=[];if(!s)return v;for(const C of s){const P=[];for(const z of C){const N=[z.x+g[0],z.y+g[1]];T(n,N),P.push(N)}v.push(P)}if(n[2]-n[0]<=p/2){(w=n)[0]=w[1]=1/0,w[2]=w[3]=-1/0;for(const C of v)for(const P of C)vt(P,n,a,p)}var w;return v}class Tr{constructor(n,a){this.type=fr,this.geojson=n,this.geometries=a}static parse(n,a){if(n.length!==2)return a.error(`'within' expression requires exactly one argument, but found ${n.length-1} instead.`);if($c(n[1])){const d=n[1];if(d.type==="FeatureCollection")for(let p=0;p<d.features.length;++p){const g=d.features[p].geometry.type;if(g==="Polygon"||g==="MultiPolygon")return new Tr(d,d.features[p].geometry)}else if(d.type==="Feature"){const p=d.geometry.type;if(p==="Polygon"||p==="MultiPolygon")return new Tr(d,d.geometry)}else if(d.type==="Polygon"||d.type==="MultiPolygon")return new Tr(d,d)}return a.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(n){if(n.geometry()!=null&&n.canonicalID()!=null){if(n.geometryType()==="Point")return function(a,d){const p=[1/0,1/0,-1/0,-1/0],g=[1/0,1/0,-1/0,-1/0],v=a.canonicalID();if(!v)return!1;if(d.type==="Polygon"){const w=At(d.coordinates,g,v),C=cn(a.geometry(),p,g,v);if(!A(p,g))return!1;for(const P of C)if(!oe(P,w))return!1}if(d.type==="MultiPolygon"){const w=jt(d.coordinates,g,v),C=cn(a.geometry(),p,g,v);if(!A(p,g))return!1;for(const P of C)if(!se(P,w))return!1}return!0}(n,this.geometries);if(n.geometryType()==="LineString")return function(a,d){const p=[1/0,1/0,-1/0,-1/0],g=[1/0,1/0,-1/0,-1/0],v=a.canonicalID();if(!v)return!1;if(d.type==="Polygon"){const w=At(d.coordinates,g,v),C=or(a.geometry(),p,g,v);if(!A(p,g))return!1;for(const P of C)if(!De(P,w))return!1}if(d.type==="MultiPolygon"){const w=jt(d.coordinates,g,v),C=or(a.geometry(),p,g,v);if(!A(p,g))return!1;for(const P of C)if(!nt(P,w))return!1}return!0}(n,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var vr=Tr;function Ii(s){if(s instanceof la&&(s.name==="get"&&s.args.length===1||s.name==="feature-state"||s.name==="has"&&s.args.length===1||s.name==="properties"||s.name==="geometry-type"||s.name==="id"||/^filter-/.test(s.name))||s instanceof vr)return!1;let n=!0;return s.eachChild(a=>{n&&!Ii(a)&&(n=!1)}),n}function ti(s){if(s instanceof la&&s.name==="feature-state")return!1;let n=!0;return s.eachChild(a=>{n&&!ti(a)&&(n=!1)}),n}function po(s,n){if(s instanceof la&&n.indexOf(s.name)>=0)return!1;let a=!0;return s.eachChild(d=>{a&&!po(d,n)&&(a=!1)}),a}class qo{constructor(n,a){this.type=a.type,this.name=n,this.boundExpression=a}static parse(n,a){if(n.length!==2||typeof n[1]!="string")return a.error("'var' expression requires exactly one string literal argument.");const d=n[1];return a.scope.has(d)?new qo(d,a.scope.get(d)):a.error(`Unknown variable "${d}". Make sure "${d}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(n){return this.boundExpression.evaluate(n)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var Er=qo;class Cs{constructor(n,a=[],d,p=new Yh,g=[]){this.registry=n,this.path=a,this.key=a.map(v=>`[${v}]`).join(""),this.scope=p,this.errors=g,this.expectedType=d}parse(n,a,d,p,g={}){return a?this.concat(a,d,p)._parse(n,g):this._parse(n,g)}_parse(n,a){function d(p,g,v){return v==="assert"?new Os(g,[p]):v==="coerce"?new Zl(g,[p]):p}if(n!==null&&typeof n!="string"&&typeof n!="boolean"&&typeof n!="number"||(n=["literal",n]),Array.isArray(n)){if(n.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const p=n[0];if(typeof p!="string")return this.error(`Expression name must be a string, but found ${typeof p} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const g=this.registry[p];if(g){let v=g.parse(n,this);if(!v)return null;if(this.expectedType){const w=this.expectedType,C=v.type;if(w.kind!=="string"&&w.kind!=="number"&&w.kind!=="boolean"&&w.kind!=="object"&&w.kind!=="array"||C.kind!=="value")if(w.kind!=="color"&&w.kind!=="formatted"&&w.kind!=="resolvedImage"||C.kind!=="value"&&C.kind!=="string"){if(this.checkSubtype(w,C))return null}else v=d(v,w,a.typeAnnotation||"coerce");else v=d(v,w,a.typeAnnotation||"assert")}if(!(v instanceof za)&&v.type.kind!=="resolvedImage"&&vi(v)){const w=new Pu;try{v=new za(v.type,v.evaluate(w))}catch(C){return this.error(C.message),null}}return v}return this.error(`Unknown expression "${p}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(n===void 0?"'undefined' value invalid. Use null instead.":typeof n=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof n} instead.`)}concat(n,a,d){const p=typeof n=="number"?this.path.concat(n):this.path,g=d?this.scope.concat(d):this.scope;return new Cs(this.registry,p,a||null,g,this.errors)}error(n,...a){const d=`${this.key}${a.map(p=>`[${p}]`).join("")}`;this.errors.push(new To(d,n))}checkSubtype(n,a){const d=Co(n,a);return d&&this.error(d),d}}var Ir=Cs;function vi(s){if(s instanceof Er)return vi(s.boundExpression);if(s instanceof la&&s.name==="error"||s instanceof Uc||s instanceof vr)return!1;const n=s instanceof Zl||s instanceof Os;let a=!0;return s.eachChild(d=>{a=n?a&&vi(d):a&&d instanceof za}),!!a&&Ii(s)&&po(s,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function La(s,n){const a=s.length-1;let d,p,g=0,v=a,w=0;for(;g<=v;)if(w=Math.floor((g+v)/2),d=s[w],p=s[w+1],d<=n){if(w===a||n<p)return w;g=w+1}else{if(!(d>n))throw new Wi("Input is not a number.");v=w-1}return 0}class Xl{constructor(n,a,d){this.type=n,this.input=a,this.labels=[],this.outputs=[];for(const[p,g]of d)this.labels.push(p),this.outputs.push(g)}static parse(n,a){if(n.length-1<4)return a.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if((n.length-1)%2!=0)return a.error("Expected an even number of arguments.");const d=a.parse(n[1],1,pn);if(!d)return null;const p=[];let g=null;a.expectedType&&a.expectedType.kind!=="value"&&(g=a.expectedType);for(let v=1;v<n.length;v+=2){const w=v===1?-1/0:n[v],C=n[v+1],P=v,z=v+1;if(typeof w!="number")return a.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',P);if(p.length&&p[p.length-1][0]>=w)return a.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',P);const N=a.parse(C,z,g);if(!N)return null;g=g||N.type,p.push([w,N])}return new Xl(g,d,p)}evaluate(n){const a=this.labels,d=this.outputs;if(a.length===1)return d[0].evaluate(n);const p=this.input.evaluate(n);if(p<=a[0])return d[0].evaluate(n);const g=a.length;return p>=a[g-1]?d[g-1].evaluate(n):d[La(a,p)].evaluate(n)}eachChild(n){n(this.input);for(const a of this.outputs)n(a)}outputDefined(){return this.outputs.every(n=>n.outputDefined())}serialize(){const n=["step",this.input.serialize()];for(let a=0;a<this.labels.length;a++)a>0&&n.push(this.labels[a]),n.push(this.outputs[a].serialize());return n}}var os=Xl;function wr(s,n,a){return s*(1-a)+n*a}var Fo=Object.freeze({__proto__:null,array:function(s,n,a){return s.map((d,p)=>wr(d,n[p],a))},color:function(s,n,a){return new Mi(wr(s.r,n.r,a),wr(s.g,n.g,a),wr(s.b,n.b,a),wr(s.a,n.a,a))},number:wr});const ua=.95047,Fs=1.08883,Zo=4/29,da=6/29,Es=3*da*da,ha=da*da*da,i1=Math.PI/180,o1=180/Math.PI;function zd(s){return s>ha?Math.pow(s,1/3):s/Es+Zo}function Vr(s){return s>da?s*s*s:Es*(s-Zo)}function Yl(s){return 255*(s<=.0031308?12.92*s:1.055*Math.pow(s,1/2.4)-.055)}function Bo(s){return(s/=255)<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4)}function gl(s){const n=Bo(s.r),a=Bo(s.g),d=Bo(s.b),p=zd((.4124564*n+.3575761*a+.1804375*d)/ua),g=zd((.2126729*n+.7151522*a+.072175*d)/1);return{l:116*g-16,a:500*(p-g),b:200*(g-zd((.0193339*n+.119192*a+.9503041*d)/Fs)),alpha:s.a}}function Jh(s){let n=(s.l+16)/116,a=isNaN(s.a)?n:n+s.a/500,d=isNaN(s.b)?n:n-s.b/200;return n=1*Vr(n),a=ua*Vr(a),d=Fs*Vr(d),new Mi(Yl(3.2404542*a-1.5371385*n-.4985314*d),Yl(-.969266*a+1.8760108*n+.041556*d),Yl(.0556434*a-.2040259*n+1.0572252*d),s.alpha)}function s1(s,n,a){const d=n-s;return s+a*(d>180||d<-180?d-360*Math.round(d/360):d)}const Kl={forward:gl,reverse:Jh,interpolate:function(s,n,a){return{l:wr(s.l,n.l,a),a:wr(s.a,n.a,a),b:wr(s.b,n.b,a),alpha:wr(s.alpha,n.alpha,a)}}},ss={forward:function(s){const{l:n,a,b:d}=gl(s),p=Math.atan2(d,a)*o1;return{h:p<0?p+360:p,c:Math.sqrt(a*a+d*d),l:n,alpha:s.a}},reverse:function(s){const n=s.h*i1,a=s.c;return Jh({l:s.l,a:Math.cos(n)*a,b:Math.sin(n)*a,alpha:s.alpha})},interpolate:function(s,n,a){return{h:s1(s.h,n.h,a),c:wr(s.c,n.c,a),l:wr(s.l,n.l,a),alpha:wr(s.alpha,n.alpha,a)}}};var Wc=Object.freeze({__proto__:null,hcl:ss,lab:Kl});class as{constructor(n,a,d,p,g){this.type=n,this.operator=a,this.interpolation=d,this.input=p,this.labels=[],this.outputs=[];for(const[v,w]of g)this.labels.push(v),this.outputs.push(w)}static interpolationFactor(n,a,d,p){let g=0;if(n.name==="exponential")g=ku(a,n.base,d,p);else if(n.name==="linear")g=ku(a,1,d,p);else if(n.name==="cubic-bezier"){const v=n.controlPoints;g=new le(v[0],v[1],v[2],v[3]).solve(ku(a,1,d,p))}return g}static parse(n,a){let[d,p,g,...v]=n;if(!Array.isArray(p)||p.length===0)return a.error("Expected an interpolation type expression.",1);if(p[0]==="linear")p={name:"linear"};else if(p[0]==="exponential"){const P=p[1];if(typeof P!="number")return a.error("Exponential interpolation requires a numeric base.",1,1);p={name:"exponential",base:P}}else{if(p[0]!=="cubic-bezier")return a.error(`Unknown interpolation type ${String(p[0])}`,1,0);{const P=p.slice(1);if(P.length!==4||P.some(z=>typeof z!="number"||z<0||z>1))return a.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);p={name:"cubic-bezier",controlPoints:P}}}if(n.length-1<4)return a.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if((n.length-1)%2!=0)return a.error("Expected an even number of arguments.");if(g=a.parse(g,2,pn),!g)return null;const w=[];let C=null;d==="interpolate-hcl"||d==="interpolate-lab"?C=zo:a.expectedType&&a.expectedType.kind!=="value"&&(C=a.expectedType);for(let P=0;P<v.length;P+=2){const z=v[P],N=v[P+1],W=P+3,K=P+4;if(typeof z!="number")return a.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',W);if(w.length&&w[w.length-1][0]>=z)return a.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',W);const ee=a.parse(N,K,C);if(!ee)return null;C=C||ee.type,w.push([z,ee])}return C.kind==="number"||C.kind==="color"||C.kind==="array"&&C.itemType.kind==="number"&&typeof C.N=="number"?new as(C,d,p,g,w):a.error(`Type ${ci(C)} is not interpolatable.`)}evaluate(n){const a=this.labels,d=this.outputs;if(a.length===1)return d[0].evaluate(n);const p=this.input.evaluate(n);if(p<=a[0])return d[0].evaluate(n);const g=a.length;if(p>=a[g-1])return d[g-1].evaluate(n);const v=La(a,p),w=as.interpolationFactor(this.interpolation,p,a[v],a[v+1]),C=d[v].evaluate(n),P=d[v+1].evaluate(n);return this.operator==="interpolate"?Fo[this.type.kind.toLowerCase()](C,P,w):this.operator==="interpolate-hcl"?ss.reverse(ss.interpolate(ss.forward(C),ss.forward(P),w)):Kl.reverse(Kl.interpolate(Kl.forward(C),Kl.forward(P),w))}eachChild(n){n(this.input);for(const a of this.outputs)n(a)}outputDefined(){return this.outputs.every(n=>n.outputDefined())}serialize(){let n;n=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const a=[this.operator,n,this.input.serialize()];for(let d=0;d<this.labels.length;d++)a.push(this.labels[d],this.outputs[d].serialize());return a}}function ku(s,n,a,d){const p=d-a,g=s-a;return p===0?0:n===1?g/p:(Math.pow(n,g)-1)/(Math.pow(n,p)-1)}var Xo=as;class yl{constructor(n,a){this.type=n,this.args=a}static parse(n,a){if(n.length<2)return a.error("Expectected at least one argument.");let d=null;const p=a.expectedType;p&&p.kind!=="value"&&(d=p);const g=[];for(const w of n.slice(1)){const C=a.parse(w,1+g.length,d,void 0,{typeAnnotation:"omit"});if(!C)return null;d=d||C.type,g.push(C)}const v=p&&g.some(w=>Co(p,w.type));return new yl(v?_r:d,g)}evaluate(n){let a,d=null,p=0;for(const g of this.args){if(p++,d=g.evaluate(n),d&&d instanceof is&&!d.available&&(a||(a=d),d=null,p===this.args.length))return a;if(d!==null)break}return d}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}serialize(){const n=["coalesce"];return this.eachChild(a=>{n.push(a.serialize())}),n}}var Jl=yl;class Ql{constructor(n,a){this.type=a.type,this.bindings=[].concat(n),this.result=a}evaluate(n){return this.result.evaluate(n)}eachChild(n){for(const a of this.bindings)n(a[1]);n(this.result)}static parse(n,a){if(n.length<4)return a.error(`Expected at least 3 arguments, but found ${n.length-1} instead.`);const d=[];for(let g=1;g<n.length-1;g+=2){const v=n[g];if(typeof v!="string")return a.error(`Expected string, but found ${typeof v} instead.`,g);if(/[^a-zA-Z0-9_]/.test(v))return a.error("Variable names must contain only alphanumeric characters or '_'.",g);const w=a.parse(n[g+1],g+1);if(!w)return null;d.push([v,w])}const p=a.parse(n[n.length-1],n.length-1,a.expectedType,d);return p?new Ql(d,p):null}outputDefined(){return this.result.outputDefined()}serialize(){const n=["let"];for(const[a,d]of this.bindings)n.push(a,d.serialize());return n.push(this.result.serialize()),n}}var Qh=Ql;class ec{constructor(n,a,d){this.type=n,this.index=a,this.input=d}static parse(n,a){if(n.length!==3)return a.error(`Expected 2 arguments, but found ${n.length-1} instead.`);const d=a.parse(n[1],1,pn),p=a.parse(n[2],2,rs(a.expectedType||_r));return d&&p?new ec(p.type.itemType,d,p):null}evaluate(n){const a=this.index.evaluate(n),d=this.input.evaluate(n);if(a<0)throw new Wi(`Array index out of bounds: ${a} < 0.`);if(a>=d.length)throw new Wi(`Array index out of bounds: ${a} > ${d.length-1}.`);if(a!==Math.floor(a))throw new Wi(`Array index must be an integer, but found ${a} instead.`);return d[a]}eachChild(n){n(this.index),n(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var Ld=ec;class Hc{constructor(n,a){this.type=fr,this.needle=n,this.haystack=a}static parse(n,a){if(n.length!==3)return a.error(`Expected 2 arguments, but found ${n.length-1} instead.`);const d=a.parse(n[1],1,_r),p=a.parse(n[2],2,_r);return d&&p?pl(d.type,[fr,xr,pn,Ul,_r])?new Hc(d,p):a.error(`Expected first argument to be of type boolean, string, number or null, but found ${ci(d.type)} instead`):null}evaluate(n){const a=this.needle.evaluate(n),d=this.haystack.evaluate(n);if(d==null)return!1;if(!Fc(a,["boolean","string","number","null"]))throw new Wi(`Expected first argument to be of type boolean, string, number or null, but found ${ci(Ci(a))} instead.`);if(!Fc(d,["string","array"]))throw new Wi(`Expected second argument to be of type array or string, but found ${ci(Ci(d))} instead.`);return d.indexOf(a)>=0}eachChild(n){n(this.needle),n(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var Mu=Hc;class _l{constructor(n,a,d){this.type=pn,this.needle=n,this.haystack=a,this.fromIndex=d}static parse(n,a){if(n.length<=2||n.length>=5)return a.error(`Expected 3 or 4 arguments, but found ${n.length-1} instead.`);const d=a.parse(n[1],1,_r),p=a.parse(n[2],2,_r);if(!d||!p)return null;if(!pl(d.type,[fr,xr,pn,Ul,_r]))return a.error(`Expected first argument to be of type boolean, string, number or null, but found ${ci(d.type)} instead`);if(n.length===4){const g=a.parse(n[3],3,pn);return g?new _l(d,p,g):null}return new _l(d,p)}evaluate(n){const a=this.needle.evaluate(n),d=this.haystack.evaluate(n);if(!Fc(a,["boolean","string","number","null"]))throw new Wi(`Expected first argument to be of type boolean, string, number or null, but found ${ci(Ci(a))} instead.`);if(!Fc(d,["string","array"]))throw new Wi(`Expected second argument to be of type array or string, but found ${ci(Ci(d))} instead.`);if(this.fromIndex){const p=this.fromIndex.evaluate(n);return d.indexOf(a,p)}return d.indexOf(a)}eachChild(n){n(this.needle),n(this.haystack),this.fromIndex&&n(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const n=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),n]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var Od=_l;class Re{constructor(n,a,d,p,g,v){this.inputType=n,this.type=a,this.input=d,this.cases=p,this.outputs=g,this.otherwise=v}static parse(n,a){if(n.length<5)return a.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if(n.length%2!=1)return a.error("Expected an even number of arguments.");let d,p;a.expectedType&&a.expectedType.kind!=="value"&&(p=a.expectedType);const g={},v=[];for(let P=2;P<n.length-1;P+=2){let z=n[P];const N=n[P+1];Array.isArray(z)||(z=[z]);const W=a.concat(P);if(z.length===0)return W.error("Expected at least one branch label.");for(const ee of z){if(typeof ee!="number"&&typeof ee!="string")return W.error("Branch labels must be numbers or strings.");if(typeof ee=="number"&&Math.abs(ee)>Number.MAX_SAFE_INTEGER)return W.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof ee=="number"&&Math.floor(ee)!==ee)return W.error("Numeric branch labels must be integer values.");if(d){if(W.checkSubtype(d,Ci(ee)))return null}else d=Ci(ee);if(g[String(ee)]!==void 0)return W.error("Branch labels must be unique.");g[String(ee)]=v.length}const K=a.parse(N,P,p);if(!K)return null;p=p||K.type,v.push(K)}const w=a.parse(n[1],1,_r);if(!w)return null;const C=a.parse(n[n.length-1],n.length-1,p);return C?w.type.kind!=="value"&&a.concat(1).checkSubtype(d,w.type)?null:new Re(d,p,w,g,v,C):null}evaluate(n){const a=this.input.evaluate(n);return(Ci(a)===this.inputType&&this.outputs[this.cases[a]]||this.otherwise).evaluate(n)}eachChild(n){n(this.input),this.outputs.forEach(n),n(this.otherwise)}outputDefined(){return this.outputs.every(n=>n.outputDefined())&&this.otherwise.outputDefined()}serialize(){const n=["match",this.input.serialize()],a=Object.keys(this.cases).sort(),d=[],p={};for(const v of a){const w=p[this.cases[v]];w===void 0?(p[this.cases[v]]=d.length,d.push([this.cases[v],[v]])):d[w][1].push(v)}const g=v=>this.inputType.kind==="number"?Number(v):v;for(const[v,w]of d)n.push(w.length===1?g(w[0]):w.map(g)),n.push(this.outputs[v].serialize());return n.push(this.otherwise.serialize()),n}}var Ke=Re;class mt{constructor(n,a,d){this.type=n,this.branches=a,this.otherwise=d}static parse(n,a){if(n.length<4)return a.error(`Expected at least 3 arguments, but found only ${n.length-1}.`);if(n.length%2!=0)return a.error("Expected an odd number of arguments.");let d;a.expectedType&&a.expectedType.kind!=="value"&&(d=a.expectedType);const p=[];for(let v=1;v<n.length-1;v+=2){const w=a.parse(n[v],v,fr);if(!w)return null;const C=a.parse(n[v+1],v+1,d);if(!C)return null;p.push([w,C]),d=d||C.type}const g=a.parse(n[n.length-1],n.length-1,d);return g?new mt(d,p,g):null}evaluate(n){for(const[a,d]of this.branches)if(a.evaluate(n))return d.evaluate(n);return this.otherwise.evaluate(n)}eachChild(n){for(const[a,d]of this.branches)n(a),n(d);n(this.otherwise)}outputDefined(){return this.branches.every(([n,a])=>a.outputDefined())&&this.otherwise.outputDefined()}serialize(){const n=["case"];return this.eachChild(a=>{n.push(a.serialize())}),n}}var Ct=mt;class Bt{constructor(n,a,d,p){this.type=n,this.input=a,this.beginIndex=d,this.endIndex=p}static parse(n,a){if(n.length<=2||n.length>=5)return a.error(`Expected 3 or 4 arguments, but found ${n.length-1} instead.`);const d=a.parse(n[1],1,_r),p=a.parse(n[2],2,pn);if(!d||!p)return null;if(!pl(d.type,[rs(_r),xr,_r]))return a.error(`Expected first argument to be of type array or string, but found ${ci(d.type)} instead`);if(n.length===4){const g=a.parse(n[3],3,pn);return g?new Bt(d.type,d,p,g):null}return new Bt(d.type,d,p)}evaluate(n){const a=this.input.evaluate(n),d=this.beginIndex.evaluate(n);if(!Fc(a,["string","array"]))throw new Wi(`Expected first argument to be of type array or string, but found ${ci(Ci(a))} instead.`);if(this.endIndex){const p=this.endIndex.evaluate(n);return a.slice(d,p)}return a.slice(d)}eachChild(n){n(this.input),n(this.beginIndex),this.endIndex&&n(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const n=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),n]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var xn=Bt;function An(s,n){return s==="=="||s==="!="?n.kind==="boolean"||n.kind==="string"||n.kind==="number"||n.kind==="null"||n.kind==="value":n.kind==="string"||n.kind==="number"||n.kind==="value"}function Vn(s,n,a,d){return d.compare(n,a)===0}function En(s,n,a){const d=s!=="=="&&s!=="!=";return class QP{constructor(g,v,w){this.type=fr,this.lhs=g,this.rhs=v,this.collator=w,this.hasUntypedArgument=g.type.kind==="value"||v.type.kind==="value"}static parse(g,v){if(g.length!==3&&g.length!==4)return v.error("Expected two or three arguments.");const w=g[0];let C=v.parse(g[1],1,_r);if(!C)return null;if(!An(w,C.type))return v.concat(1).error(`"${w}" comparisons are not supported for type '${ci(C.type)}'.`);let P=v.parse(g[2],2,_r);if(!P)return null;if(!An(w,P.type))return v.concat(2).error(`"${w}" comparisons are not supported for type '${ci(P.type)}'.`);if(C.type.kind!==P.type.kind&&C.type.kind!=="value"&&P.type.kind!=="value")return v.error(`Cannot compare types '${ci(C.type)}' and '${ci(P.type)}'.`);d&&(C.type.kind==="value"&&P.type.kind!=="value"?C=new Os(P.type,[C]):C.type.kind!=="value"&&P.type.kind==="value"&&(P=new Os(C.type,[P])));let z=null;if(g.length===4){if(C.type.kind!=="string"&&P.type.kind!=="string"&&C.type.kind!=="value"&&P.type.kind!=="value")return v.error("Cannot use collator to compare non-string types.");if(z=v.parse(g[3],3,Ti),!z)return null}return new QP(C,P,z)}evaluate(g){const v=this.lhs.evaluate(g),w=this.rhs.evaluate(g);if(d&&this.hasUntypedArgument){const C=Ci(v),P=Ci(w);if(C.kind!==P.kind||C.kind!=="string"&&C.kind!=="number")throw new Wi(`Expected arguments for "${s}" to be (string, string) or (number, number), but found (${C.kind}, ${P.kind}) instead.`)}if(this.collator&&!d&&this.hasUntypedArgument){const C=Ci(v),P=Ci(w);if(C.kind!=="string"||P.kind!=="string")return n(g,v,w)}return this.collator?a(g,v,w,this.collator.evaluate(g)):n(g,v,w)}eachChild(g){g(this.lhs),g(this.rhs),this.collator&&g(this.collator)}outputDefined(){return!0}serialize(){const g=[s];return this.eachChild(v=>{g.push(v.serialize())}),g}}}const Pr=En("==",function(s,n,a){return n===a},Vn),sr=En("!=",function(s,n,a){return n!==a},function(s,n,a,d){return!Vn(0,n,a,d)}),yr=En("<",function(s,n,a){return n<a},function(s,n,a,d){return d.compare(n,a)<0}),kr=En(">",function(s,n,a){return n>a},function(s,n,a,d){return d.compare(n,a)>0}),Jn=En("<=",function(s,n,a){return n<=a},function(s,n,a,d){return d.compare(n,a)<=0}),ni=En(">=",function(s,n,a){return n>=a},function(s,n,a,d){return d.compare(n,a)>=0});class uo{constructor(n,a,d,p,g,v){this.type=xr,this.number=n,this.locale=a,this.currency=d,this.unit=p,this.minFractionDigits=g,this.maxFractionDigits=v}static parse(n,a){if(n.length!==3)return a.error("Expected two arguments.");const d=a.parse(n[1],1,pn);if(!d)return null;const p=n[2];if(typeof p!="object"||Array.isArray(p))return a.error("NumberFormat options argument must be an object.");let g=null;if(p.locale&&(g=a.parse(p.locale,1,xr),!g))return null;let v=null;if(p.currency&&(v=a.parse(p.currency,1,xr),!v))return null;let w=null;if(p.unit&&(w=a.parse(p.unit,1,xr),!w))return null;let C=null;if(p["min-fraction-digits"]&&(C=a.parse(p["min-fraction-digits"],1,pn),!C))return null;let P=null;return p["max-fraction-digits"]&&(P=a.parse(p["max-fraction-digits"],1,pn),!P)?null:new uo(d,g,v,w,C,P)}evaluate(n){return new Intl.NumberFormat(this.locale?this.locale.evaluate(n):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(n):void 0,unit:this.unit?this.unit.evaluate(n):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(n):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(n):void 0}).format(this.number.evaluate(n))}eachChild(n){n(this.number),this.locale&&n(this.locale),this.currency&&n(this.currency),this.unit&&n(this.unit),this.minFractionDigits&&n(this.minFractionDigits),this.maxFractionDigits&&n(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const n={};return this.locale&&(n.locale=this.locale.serialize()),this.currency&&(n.currency=this.currency.serialize()),this.unit&&(n.unit=this.unit.serialize()),this.minFractionDigits&&(n["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(n["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),n]}}class Li{constructor(n){this.type=pn,this.input=n}static parse(n,a){if(n.length!==2)return a.error(`Expected 1 argument, but found ${n.length-1} instead.`);const d=a.parse(n[1],1);return d?d.type.kind!=="array"&&d.type.kind!=="string"&&d.type.kind!=="value"?a.error(`Expected argument of type string or array, but found ${ci(d.type)} instead.`):new Li(d):null}evaluate(n){const a=this.input.evaluate(n);if(typeof a=="string"||Array.isArray(a))return a.length;throw new Wi(`Expected value to be of type string or array, but found ${ci(Ci(a))} instead.`)}eachChild(n){n(this.input)}outputDefined(){return!1}serialize(){const n=["length"];return this.eachChild(a=>{n.push(a.serialize())}),n}}const Yo={"==":Pr,"!=":sr,">":kr,"<":yr,">=":ni,"<=":Jn,array:Os,at:Ld,boolean:Os,case:Ct,coalesce:Jl,collator:Uc,format:sa,image:ql,in:Mu,"index-of":Od,interpolate:Xo,"interpolate-hcl":Xo,"interpolate-lab":Xo,length:Li,let:Qh,literal:za,match:Ke,number:Os,"number-format":uo,object:Os,slice:xn,step:os,string:Os,"to-boolean":Zl,"to-color":Zl,"to-number":Zl,"to-string":Zl,var:Er,within:vr};function Ps(s,[n,a,d,p]){n=n.evaluate(s),a=a.evaluate(s),d=d.evaluate(s);const g=p?p.evaluate(s):1,v=Kh(n,a,d,g);if(v)throw new Wi(v);return new Mi(n/255*g,a/255*g,d/255*g,g)}function No(s,n){return s in n}function no(s,n){const a=n[s];return a===void 0?null:a}function Bs(s){return{type:s}}la.register(Yo,{error:[{kind:"error"},[xr],(s,[n])=>{throw new Wi(n.evaluate(s))}],typeof:[xr,[_r],(s,[n])=>ci(Ci(n.evaluate(s)))],"to-rgba":[rs(pn,4),[zo],(s,[n])=>n.evaluate(s).toArray()],rgb:[zo,[pn,pn,pn],Ps],rgba:[zo,[pn,pn,pn,pn],Ps],has:{type:fr,overloads:[[[xr],(s,[n])=>No(n.evaluate(s),s.properties())],[[xr,Ss],(s,[n,a])=>No(n.evaluate(s),a.evaluate(s))]]},get:{type:_r,overloads:[[[xr],(s,[n])=>no(n.evaluate(s),s.properties())],[[xr,Ss],(s,[n,a])=>no(n.evaluate(s),a.evaluate(s))]]},"feature-state":[_r,[xr],(s,[n])=>no(n.evaluate(s),s.featureState||{})],properties:[Ss,[],s=>s.properties()],"geometry-type":[xr,[],s=>s.geometryType()],id:[_r,[],s=>s.id()],zoom:[pn,[],s=>s.globals.zoom],pitch:[pn,[],s=>s.globals.pitch||0],"distance-from-center":[pn,[],s=>s.distanceFromCenter()],"heatmap-density":[pn,[],s=>s.globals.heatmapDensity||0],"line-progress":[pn,[],s=>s.globals.lineProgress||0],"sky-radial-progress":[pn,[],s=>s.globals.skyRadialProgress||0],accumulated:[_r,[],s=>s.globals.accumulated===void 0?null:s.globals.accumulated],"+":[pn,Bs(pn),(s,n)=>{let a=0;for(const d of n)a+=d.evaluate(s);return a}],"*":[pn,Bs(pn),(s,n)=>{let a=1;for(const d of n)a*=d.evaluate(s);return a}],"-":{type:pn,overloads:[[[pn,pn],(s,[n,a])=>n.evaluate(s)-a.evaluate(s)],[[pn],(s,[n])=>-n.evaluate(s)]]},"/":[pn,[pn,pn],(s,[n,a])=>n.evaluate(s)/a.evaluate(s)],"%":[pn,[pn,pn],(s,[n,a])=>n.evaluate(s)%a.evaluate(s)],ln2:[pn,[],()=>Math.LN2],pi:[pn,[],()=>Math.PI],e:[pn,[],()=>Math.E],"^":[pn,[pn,pn],(s,[n,a])=>Math.pow(n.evaluate(s),a.evaluate(s))],sqrt:[pn,[pn],(s,[n])=>Math.sqrt(n.evaluate(s))],log10:[pn,[pn],(s,[n])=>Math.log(n.evaluate(s))/Math.LN10],ln:[pn,[pn],(s,[n])=>Math.log(n.evaluate(s))],log2:[pn,[pn],(s,[n])=>Math.log(n.evaluate(s))/Math.LN2],sin:[pn,[pn],(s,[n])=>Math.sin(n.evaluate(s))],cos:[pn,[pn],(s,[n])=>Math.cos(n.evaluate(s))],tan:[pn,[pn],(s,[n])=>Math.tan(n.evaluate(s))],asin:[pn,[pn],(s,[n])=>Math.asin(n.evaluate(s))],acos:[pn,[pn],(s,[n])=>Math.acos(n.evaluate(s))],atan:[pn,[pn],(s,[n])=>Math.atan(n.evaluate(s))],min:[pn,Bs(pn),(s,n)=>Math.min(...n.map(a=>a.evaluate(s)))],max:[pn,Bs(pn),(s,n)=>Math.max(...n.map(a=>a.evaluate(s)))],abs:[pn,[pn],(s,[n])=>Math.abs(n.evaluate(s))],round:[pn,[pn],(s,[n])=>{const a=n.evaluate(s);return a<0?-Math.round(-a):Math.round(a)}],floor:[pn,[pn],(s,[n])=>Math.floor(n.evaluate(s))],ceil:[pn,[pn],(s,[n])=>Math.ceil(n.evaluate(s))],"filter-==":[fr,[xr,_r],(s,[n,a])=>s.properties()[n.value]===a.value],"filter-id-==":[fr,[_r],(s,[n])=>s.id()===n.value],"filter-type-==":[fr,[xr],(s,[n])=>s.geometryType()===n.value],"filter-<":[fr,[xr,_r],(s,[n,a])=>{const d=s.properties()[n.value],p=a.value;return typeof d==typeof p&&d<p}],"filter-id-<":[fr,[_r],(s,[n])=>{const a=s.id(),d=n.value;return typeof a==typeof d&&a<d}],"filter->":[fr,[xr,_r],(s,[n,a])=>{const d=s.properties()[n.value],p=a.value;return typeof d==typeof p&&d>p}],"filter-id->":[fr,[_r],(s,[n])=>{const a=s.id(),d=n.value;return typeof a==typeof d&&a>d}],"filter-<=":[fr,[xr,_r],(s,[n,a])=>{const d=s.properties()[n.value],p=a.value;return typeof d==typeof p&&d<=p}],"filter-id-<=":[fr,[_r],(s,[n])=>{const a=s.id(),d=n.value;return typeof a==typeof d&&a<=d}],"filter->=":[fr,[xr,_r],(s,[n,a])=>{const d=s.properties()[n.value],p=a.value;return typeof d==typeof p&&d>=p}],"filter-id->=":[fr,[_r],(s,[n])=>{const a=s.id(),d=n.value;return typeof a==typeof d&&a>=d}],"filter-has":[fr,[_r],(s,[n])=>n.value in s.properties()],"filter-has-id":[fr,[],s=>s.id()!==null&&s.id()!==void 0],"filter-type-in":[fr,[rs(xr)],(s,[n])=>n.value.indexOf(s.geometryType())>=0],"filter-id-in":[fr,[rs(_r)],(s,[n])=>n.value.indexOf(s.id())>=0],"filter-in-small":[fr,[xr,rs(_r)],(s,[n,a])=>a.value.indexOf(s.properties()[n.value])>=0],"filter-in-large":[fr,[xr,rs(_r)],(s,[n,a])=>function(d,p,g,v){for(;g<=v;){const w=g+v>>1;if(p[w]===d)return!0;p[w]>d?v=w-1:g=w+1}return!1}(s.properties()[n.value],a.value,0,a.value.length-1)],all:{type:fr,overloads:[[[fr,fr],(s,[n,a])=>n.evaluate(s)&&a.evaluate(s)],[Bs(fr),(s,n)=>{for(const a of n)if(!a.evaluate(s))return!1;return!0}]]},any:{type:fr,overloads:[[[fr,fr],(s,[n,a])=>n.evaluate(s)||a.evaluate(s)],[Bs(fr),(s,n)=>{for(const a of n)if(a.evaluate(s))return!0;return!1}]]},"!":[fr,[fr],(s,[n])=>!n.evaluate(s)],"is-supported-script":[fr,[xr],(s,[n])=>{const a=s.globals&&s.globals.isSupportedScript;return!a||a(n.evaluate(s))}],upcase:[xr,[xr],(s,[n])=>n.evaluate(s).toUpperCase()],downcase:[xr,[xr],(s,[n])=>n.evaluate(s).toLowerCase()],concat:[xr,Bs(_r),(s,n)=>n.map(a=>jc(a.evaluate(s))).join("")],"resolved-locale":[xr,[Ti],(s,[n])=>n.evaluate(s).resolvedLocale()]});var Fd=Yo;function o0(s){return{result:"success",value:s}}function Gc(s){return{result:"error",value:s}}function Iu(s){return s["property-type"]==="data-driven"}function ep(s){return!!s.expression&&s.expression.parameters.indexOf("zoom")>-1}function tp(s){return!!s.expression&&s.expression.interpolated}function Ar(s){return s instanceof Number?"number":s instanceof String?"string":s instanceof Boolean?"boolean":Array.isArray(s)?"array":s===null?"null":typeof s}function Bd(s){return typeof s=="object"&&s!==null&&!Array.isArray(s)}function s0(s){return s}function np(s,n){const a=n.type==="color",d=s.stops&&typeof s.stops[0][0]=="object",p=d||!(d||s.property!==void 0),g=s.type||(tp(n)?"exponential":"interval");if(a&&((s=Ls({},s)).stops&&(s.stops=s.stops.map(P=>[P[0],Mi.parse(P[1])])),s.default=Mi.parse(s.default?s.default:n.default)),s.colorSpace&&s.colorSpace!=="rgb"&&!Wc[s.colorSpace])throw new Error(`Unknown color space: ${s.colorSpace}`);let v,w,C;if(g==="exponential")v=vl;else if(g==="interval")v=rp;else if(g==="categorical"){v=a0,w=Object.create(null);for(const P of s.stops)w[P[0]]=P[1];C=typeof s.stops[0][0]}else{if(g!=="identity")throw new Error(`Unknown function type "${g}"`);v=l0}if(d){const P={},z=[];for(let K=0;K<s.stops.length;K++){const ee=s.stops[K],ie=ee[0].zoom;P[ie]===void 0&&(P[ie]={zoom:ie,type:s.type,property:s.property,default:s.default,stops:[]},z.push(ie)),P[ie].stops.push([ee[0].value,ee[1]])}const N=[];for(const K of z)N.push([P[K].zoom,np(P[K],n)]);const W={name:"linear"};return{kind:"composite",interpolationType:W,interpolationFactor:Xo.interpolationFactor.bind(void 0,W),zoomStops:N.map(K=>K[0]),evaluate:({zoom:K},ee)=>vl({stops:N,base:s.base},n,K).evaluate(K,ee)}}if(p){const P=g==="exponential"?{name:"exponential",base:s.base!==void 0?s.base:1}:null;return{kind:"camera",interpolationType:P,interpolationFactor:Xo.interpolationFactor.bind(void 0,P),zoomStops:s.stops.map(z=>z[0]),evaluate:({zoom:z})=>v(s,n,z,w,C)}}return{kind:"source",evaluate(P,z){const N=z&&z.properties?z.properties[s.property]:void 0;return N===void 0?Au(s.default,n.default):v(s,n,N,w,C)}}}function Au(s,n,a){return s!==void 0?s:n!==void 0?n:a!==void 0?a:void 0}function a0(s,n,a,d,p){return Au(typeof a===p?d[a]:void 0,s.default,n.default)}function rp(s,n,a){if(Ar(a)!=="number")return Au(s.default,n.default);const d=s.stops.length;if(d===1||a<=s.stops[0][0])return s.stops[0][1];if(a>=s.stops[d-1][0])return s.stops[d-1][1];const p=La(s.stops.map(g=>g[0]),a);return s.stops[p][1]}function vl(s,n,a){const d=s.base!==void 0?s.base:1;if(Ar(a)!=="number")return Au(s.default,n.default);const p=s.stops.length;if(p===1||a<=s.stops[0][0])return s.stops[0][1];if(a>=s.stops[p-1][0])return s.stops[p-1][1];const g=La(s.stops.map(z=>z[0]),a),v=function(z,N,W,K){const ee=K-W,ie=z-W;return ee===0?0:N===1?ie/ee:(Math.pow(N,ie)-1)/(Math.pow(N,ee)-1)}(a,d,s.stops[g][0],s.stops[g+1][0]),w=s.stops[g][1],C=s.stops[g+1][1];let P=Fo[n.type]||s0;if(s.colorSpace&&s.colorSpace!=="rgb"){const z=Wc[s.colorSpace];P=(N,W)=>z.reverse(z.interpolate(z.forward(N),z.forward(W),v))}return typeof w.evaluate=="function"?{evaluate(...z){const N=w.evaluate.apply(void 0,z),W=C.evaluate.apply(void 0,z);if(N!==void 0&&W!==void 0)return P(N,W,v)}}:P(w,C,v)}function l0(s,n,a){return n.type==="color"?a=Mi.parse(a):n.type==="formatted"?a=Lo.fromString(a.toString()):n.type==="resolvedImage"?a=is.fromString(a.toString()):Ar(a)===n.type||n.type==="enum"&&n.values[a]||(a=void 0),Au(a,s.default,n.default)}class ip{constructor(n,a){this.expression=n,this._warningHistory={},this._evaluator=new Pu,this._defaultValue=a?function(d){return d.type==="color"&&(Bd(d.default)||Array.isArray(d.default))?new Mi(0,0,0,0):d.type==="color"?Mi.parse(d.default)||null:d.default===void 0?null:d.default}(a):null,this._enumValues=a&&a.type==="enum"?a.values:null}evaluateWithoutErrorHandling(n,a,d,p,g,v,w,C){return this._evaluator.globals=n,this._evaluator.feature=a,this._evaluator.featureState=d,this._evaluator.canonical=p||null,this._evaluator.availableImages=g||null,this._evaluator.formattedSection=v,this._evaluator.featureTileCoord=w||null,this._evaluator.featureDistanceData=C||null,this.expression.evaluate(this._evaluator)}evaluate(n,a,d,p,g,v,w,C){this._evaluator.globals=n,this._evaluator.feature=a||null,this._evaluator.featureState=d||null,this._evaluator.canonical=p||null,this._evaluator.availableImages=g||null,this._evaluator.formattedSection=v||null,this._evaluator.featureTileCoord=w||null,this._evaluator.featureDistanceData=C||null;try{const P=this.expression.evaluate(this._evaluator);if(P==null||typeof P=="number"&&P!=P)return this._defaultValue;if(this._enumValues&&!(P in this._enumValues))throw new Wi(`Expected value to be one of ${Object.keys(this._enumValues).map(z=>JSON.stringify(z)).join(", ")}, but found ${JSON.stringify(P)} instead.`);return P}catch(P){return this._warningHistory[P.message]||(this._warningHistory[P.message]=!0,typeof console<"u"&&console.warn(P.message)),this._defaultValue}}}function Du(s){return Array.isArray(s)&&s.length>0&&typeof s[0]=="string"&&s[0]in Fd}function Ru(s,n){const a=new Ir(Fd,[],n?function(p){const g={color:zo,string:xr,number:pn,enum:xr,boolean:fr,formatted:Wl,resolvedImage:Ts};return p.type==="array"?rs(g[p.value]||_r,p.length):g[p.type]}(n):void 0),d=a.parse(s,void 0,void 0,void 0,n&&n.type==="string"?{typeAnnotation:"coerce"}:void 0);return d?o0(new ip(d,n)):Gc(a.errors)}class a1{constructor(n,a){this.kind=n,this._styleExpression=a,this.isStateDependent=n!=="constant"&&!ti(a.expression)}evaluateWithoutErrorHandling(n,a,d,p,g,v){return this._styleExpression.evaluateWithoutErrorHandling(n,a,d,p,g,v)}evaluate(n,a,d,p,g,v){return this._styleExpression.evaluate(n,a,d,p,g,v)}}class Nd{constructor(n,a,d,p){this.kind=n,this.zoomStops=d,this._styleExpression=a,this.isStateDependent=n!=="camera"&&!ti(a.expression),this.interpolationType=p}evaluateWithoutErrorHandling(n,a,d,p,g,v){return this._styleExpression.evaluateWithoutErrorHandling(n,a,d,p,g,v)}evaluate(n,a,d,p,g,v){return this._styleExpression.evaluate(n,a,d,p,g,v)}interpolationFactor(n,a,d){return this.interpolationType?Xo.interpolationFactor(this.interpolationType,n,a,d):0}}function $d(s,n){if((s=Ru(s,n)).result==="error")return s;const a=s.value.expression,d=Ii(a);if(!d&&!Iu(n))return Gc([new To("","data expressions not supported")]);const p=po(a,["zoom","pitch","distance-from-center"]);if(!p&&!ep(n))return Gc([new To("","zoom expressions not supported")]);const g=sp(a);return g||p?g instanceof To?Gc([g]):g instanceof Xo&&!tp(n)?Gc([new To("",'"interpolate" expressions cannot be used with this property')]):o0(g?new Nd(d?"camera":"composite",s.value,g.labels,g instanceof Xo?g.interpolation:void 0):new a1(d?"constant":"source",s.value)):Gc([new To("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class op{constructor(n,a){this._parameters=n,this._specification=a,Ls(this,np(this._parameters,this._specification))}static deserialize(n){return new op(n._parameters,n._specification)}static serialize(n){return{_parameters:n._parameters,_specification:n._specification}}}function sp(s){let n=null;if(s instanceof Qh)n=sp(s.result);else if(s instanceof Jl){for(const a of s.args)if(n=sp(a),n)break}else(s instanceof os||s instanceof Xo)&&s.input instanceof la&&s.input.name==="zoom"&&(n=s);return n instanceof To||s.eachChild(a=>{const d=sp(a);d instanceof To?n=d:!n&&d?n=new To("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):n&&d&&n!==d&&(n=new To("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),n}class bn{constructor(n,a,d,p){this.message=(n?`${n}: `:"")+d,p&&(this.identifier=p),a!=null&&a.__line__&&(this.line=a.__line__)}}function pa(s){const n=s.key,a=s.value,d=s.valueSpec||{},p=s.objectElementValidators||{},g=s.style,v=s.styleSpec;let w=[];const C=Ar(a);if(C!=="object")return[new bn(n,a,`object expected, ${C} found`)];for(const P in a){const z=P.split(".")[0];let N;p[z]?N=p[z]:d[z]?N=$o:p["*"]?N=p["*"]:d["*"]&&(N=$o),N?w=w.concat(N({key:(n&&`${n}.`)+P,value:a[P],valueSpec:d[z]||d["*"],style:g,styleSpec:v,object:a,objectKey:P},a)):w.push(new bn(n,a[P],`unknown property "${P}"`))}for(const P in d)p[P]||d[P].required&&d[P].default===void 0&&a[P]===void 0&&w.push(new bn(n,a,`missing required property "${P}"`));return w}function c0(s){const n=s.value,a=s.valueSpec,d=s.style,p=s.styleSpec,g=s.key,v=s.arrayElementValidator||$o;if(Ar(n)!=="array")return[new bn(g,n,`array expected, ${Ar(n)} found`)];if(a.length&&n.length!==a.length)return[new bn(g,n,`array length ${a.length} expected, length ${n.length} found`)];if(a["min-length"]&&n.length<a["min-length"])return[new bn(g,n,`array length at least ${a["min-length"]} expected, length ${n.length} found`)];let w={type:a.value,values:a.values,minimum:a.minimum,maximum:a.maximum,function:void 0};p.$version<7&&(w.function=a.function),Ar(a.value)==="object"&&(w=a.value);let C=[];for(let P=0;P<n.length;P++)C=C.concat(v({array:n,arrayIndex:P,value:n[P],valueSpec:w,style:d,styleSpec:p,key:`${g}[${P}]`}));return C}function jd(s){const n=s.key,a=s.value,d=s.valueSpec;let p=Ar(a);if(p==="number"&&a!=a&&(p="NaN"),p!=="number")return[new bn(n,a,`number expected, ${p} found`)];if("minimum"in d){let g=d.minimum;if(Ar(d.minimum)==="array"&&(g=d.minimum[s.arrayIndex]),a<g)return[new bn(n,a,`${a} is less than the minimum value ${g}`)]}if("maximum"in d){let g=d.maximum;if(Ar(d.maximum)==="array"&&(g=d.maximum[s.arrayIndex]),a>g)return[new bn(n,a,`${a} is greater than the maximum value ${g}`)]}return[]}function Vd(s){const n=s.valueSpec,a=Si(s.value.type);let d,p,g,v={};const w=a!=="categorical"&&s.value.property===void 0,C=!w,P=Ar(s.value.stops)==="array"&&Ar(s.value.stops[0])==="array"&&Ar(s.value.stops[0][0])==="object",z=pa({key:s.key,value:s.value,valueSpec:s.styleSpec.function,style:s.style,styleSpec:s.styleSpec,objectElementValidators:{stops:function(K){if(a==="identity")return[new bn(K.key,K.value,'identity function may not have a "stops" property')];let ee=[];const ie=K.value;return ee=ee.concat(c0({key:K.key,value:ie,valueSpec:K.valueSpec,style:K.style,styleSpec:K.styleSpec,arrayElementValidator:N})),Ar(ie)==="array"&&ie.length===0&&ee.push(new bn(K.key,ie,"array must have at least one stop")),ee},default:function(K){return $o({key:K.key,value:K.value,valueSpec:n,style:K.style,styleSpec:K.styleSpec})}}});return a==="identity"&&w&&z.push(new bn(s.key,s.value,'missing required property "property"')),a==="identity"||s.value.stops||z.push(new bn(s.key,s.value,'missing required property "stops"')),a==="exponential"&&s.valueSpec.expression&&!tp(s.valueSpec)&&z.push(new bn(s.key,s.value,"exponential functions not supported")),s.styleSpec.$version>=8&&(C&&!Iu(s.valueSpec)?z.push(new bn(s.key,s.value,"property functions not supported")):w&&!ep(s.valueSpec)&&z.push(new bn(s.key,s.value,"zoom functions not supported"))),a!=="categorical"&&!P||s.value.property!==void 0||z.push(new bn(s.key,s.value,'"property" property is required')),z;function N(K){let ee=[];const ie=K.value,fe=K.key;if(Ar(ie)!=="array")return[new bn(fe,ie,`array expected, ${Ar(ie)} found`)];if(ie.length!==2)return[new bn(fe,ie,`array length 2 expected, length ${ie.length} found`)];if(P){if(Ar(ie[0])!=="object")return[new bn(fe,ie,`object expected, ${Ar(ie[0])} found`)];if(ie[0].zoom===void 0)return[new bn(fe,ie,"object stop key must have zoom")];if(ie[0].value===void 0)return[new bn(fe,ie,"object stop key must have value")];const Te=Si(ie[0].zoom);if(typeof Te!="number")return[new bn(fe,ie[0].zoom,"stop zoom values must be numbers")];if(g&&g>Te)return[new bn(fe,ie[0].zoom,"stop zoom values must appear in ascending order")];Te!==g&&(g=Te,p=void 0,v={}),ee=ee.concat(pa({key:`${fe}[0]`,value:ie[0],valueSpec:{zoom:{}},style:K.style,styleSpec:K.styleSpec,objectElementValidators:{zoom:jd,value:W}}))}else ee=ee.concat(W({key:`${fe}[0]`,value:ie[0],valueSpec:{},style:K.style,styleSpec:K.styleSpec},ie));return Du(Ui(ie[1]))?ee.concat([new bn(`${fe}[1]`,ie[1],"expressions are not allowed in function stops.")]):ee.concat($o({key:`${fe}[1]`,value:ie[1],valueSpec:n,style:K.style,styleSpec:K.styleSpec}))}function W(K,ee){const ie=Ar(K.value),fe=Si(K.value),Te=K.value!==null?K.value:ee;if(d){if(ie!==d)return[new bn(K.key,Te,`${ie} stop domain type must match previous stop domain type ${d}`)]}else d=ie;if(ie!=="number"&&ie!=="string"&&ie!=="boolean"&&typeof fe!="number"&&typeof fe!="string"&&typeof fe!="boolean")return[new bn(K.key,Te,"stop domain value must be a number, string, or boolean")];if(ie!=="number"&&a!=="categorical"){let Fe=`number expected, ${ie} found`;return Iu(n)&&a===void 0&&(Fe+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new bn(K.key,Te,Fe)]}return a!=="categorical"||ie!=="number"||typeof fe=="number"&&isFinite(fe)&&Math.floor(fe)===fe?a!=="categorical"&&ie==="number"&&typeof fe=="number"&&typeof p=="number"&&p!==void 0&&fe<p?[new bn(K.key,Te,"stop domain values must appear in ascending order")]:(p=fe,a==="categorical"&&fe in v?[new bn(K.key,Te,"stop domain values must be unique")]:(v[fe]=!0,[])):[new bn(K.key,Te,`integer expected, found ${String(fe)}`)]}}function fo(s){const n=(s.expressionContext==="property"?$d:Ru)(Ui(s.value),s.valueSpec);if(n.result==="error")return n.value.map(d=>new bn(`${s.key}${d.key}`,s.value,d.message));const a=n.value.expression||n.value._styleExpression.expression;if(s.expressionContext==="property"&&s.propertyKey==="text-font"&&!a.outputDefined())return[new bn(s.key,s.value,`Invalid data expression for "${s.propertyKey}". Output values must be contained as literals within the expression.`)];if(s.expressionContext==="property"&&s.propertyType==="layout"&&!ti(a))return[new bn(s.key,s.value,'"feature-state" data expressions are not supported with layout properties.')];if(s.expressionContext==="filter")return Ud(a,s);if(s.expressionContext&&s.expressionContext.indexOf("cluster")===0){if(!po(a,["zoom","feature-state"]))return[new bn(s.key,s.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(s.expressionContext==="cluster-initial"&&!Ii(a))return[new bn(s.key,s.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Ud(s,n){const a=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(n.valueSpec&&n.valueSpec.expression)for(const p of n.valueSpec.expression.parameters)a.delete(p);if(a.size===0)return[];const d=[];return s instanceof la&&a.has(s.name)?[new bn(n.key,n.value,`["${s.name}"] expression is not supported in a filter for a ${n.object.type} layer with id: ${n.object.id}`)]:(s.eachChild(p=>{d.push(...Ud(p,n))}),d)}function ap(s){const n=s.key,a=s.value,d=s.valueSpec,p=[];return Array.isArray(d.values)?d.values.indexOf(Si(a))===-1&&p.push(new bn(n,a,`expected one of [${d.values.join(", ")}], ${JSON.stringify(a)} found`)):Object.keys(d.values).indexOf(Si(a))===-1&&p.push(new bn(n,a,`expected one of [${Object.keys(d.values).join(", ")}], ${JSON.stringify(a)} found`)),p}function l1(s){if(s===!0||s===!1)return!0;if(!Array.isArray(s)||s.length===0)return!1;switch(s[0]){case"has":return s.length>=2&&s[1]!=="$id"&&s[1]!=="$type";case"in":return s.length>=3&&(typeof s[1]!="string"||Array.isArray(s[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return s.length!==3||Array.isArray(s[1])||Array.isArray(s[2]);case"any":case"all":for(const n of s.slice(1))if(!l1(n)&&typeof n!="boolean")return!1;return!0;default:return!0}}function lp(s,n="fill"){if(s==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};l1(s)||(s=Lu(s));const a=s;let d=!0;try{d=function(P){if(!zu(P))return P;let z=Ui(P);return cp(z),z=u0(z),z}(a)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(a,null,2)}
        `)}const p=Pt[`filter_${n}`],g=Ru(d,p);let v=null;if(g.result==="error")throw new Error(g.value.map(P=>`${P.key}: ${P.message}`).join(", "));v=(P,z,N)=>g.value.evaluate(P,z,{},N);let w=null,C=null;if(d!==a){const P=Ru(a,p);if(P.result==="error")throw new Error(P.value.map(z=>`${z.key}: ${z.message}`).join(", "));w=(z,N,W,K,ee)=>P.value.evaluate(z,N,{},W,void 0,void 0,K,ee),C=!Ii(P.value.expression)}return{filter:v,dynamicFilter:w||void 0,needGeometry:d0(d),needFeature:!!C}}function u0(s){if(!Array.isArray(s))return s;const n=function(a){if(c1.has(a[0])){for(let d=1;d<a.length;d++)if(zu(a[d]))return!0}return a}(s);return n===!0?n:n.map(a=>u0(a))}function cp(s){let n=!1;const a=[];if(s[0]==="case"){for(let d=1;d<s.length-1;d+=2)n=n||zu(s[d]),a.push(s[d+1]);a.push(s[s.length-1])}else if(s[0]==="match"){n=n||zu(s[1]);for(let d=2;d<s.length-1;d+=2)a.push(s[d+1]);a.push(s[s.length-1])}else if(s[0]==="step"){n=n||zu(s[1]);for(let d=1;d<s.length-1;d+=2)a.push(s[d+1])}n&&(s.length=0,s.push("any",...a));for(let d=1;d<s.length;d++)cp(s[d])}function zu(s){if(!Array.isArray(s))return!1;if((n=s[0])==="pitch"||n==="distance-from-center")return!0;var n;for(let a=1;a<s.length;a++)if(zu(s[a]))return!0;return!1}const c1=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function Fv(s,n){return s<n?-1:s>n?1:0}function d0(s){if(!Array.isArray(s))return!1;if(s[0]==="within")return!0;for(let n=1;n<s.length;n++)if(d0(s[n]))return!0;return!1}function Lu(s){if(!s)return!0;const n=s[0];return s.length<=1?n!=="any":n==="=="?u1(s[1],s[2],"=="):n==="!="?up(u1(s[1],s[2],"==")):n==="<"||n===">"||n==="<="||n===">="?u1(s[1],s[2],n):n==="any"?(a=s.slice(1),["any"].concat(a.map(Lu))):n==="all"?["all"].concat(s.slice(1).map(Lu)):n==="none"?["all"].concat(s.slice(1).map(Lu).map(up)):n==="in"?d1(s[1],s.slice(2)):n==="!in"?up(d1(s[1],s.slice(2))):n==="has"?h1(s[1]):n==="!has"?up(h1(s[1])):n!=="within"||s;var a}function u1(s,n,a){switch(s){case"$type":return[`filter-type-${a}`,n];case"$id":return[`filter-id-${a}`,n];default:return[`filter-${a}`,s,n]}}function d1(s,n){if(n.length===0)return!1;switch(s){case"$type":return["filter-type-in",["literal",n]];case"$id":return["filter-id-in",["literal",n]];default:return n.length>200&&!n.some(a=>typeof a!=typeof n[0])?["filter-in-large",s,["literal",n.sort(Fv)]]:["filter-in-small",s,["literal",n]]}}function h1(s){switch(s){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",s]}}function up(s){return["!",s]}function Wd(s){return l1(Ui(s.value))?fo(Ls({},s,{expressionContext:"filter",valueSpec:s.styleSpec[`filter_${s.layerType||"fill"}`]})):Hd(s)}function Hd(s){const n=s.value,a=s.key;if(Ar(n)!=="array")return[new bn(a,n,`array expected, ${Ar(n)} found`)];const d=s.styleSpec;let p,g=[];if(n.length<1)return[new bn(a,n,"filter array must have at least 1 element")];switch(g=g.concat(ap({key:`${a}[0]`,value:n[0],valueSpec:d.filter_operator,style:s.style,styleSpec:s.styleSpec})),Si(n[0])){case"<":case"<=":case">":case">=":n.length>=2&&Si(n[1])==="$type"&&g.push(new bn(a,n,`"$type" cannot be use with operator "${n[0]}"`));case"==":case"!=":n.length!==3&&g.push(new bn(a,n,`filter array for operator "${n[0]}" must have 3 elements`));case"in":case"!in":n.length>=2&&(p=Ar(n[1]),p!=="string"&&g.push(new bn(`${a}[1]`,n[1],`string expected, ${p} found`)));for(let v=2;v<n.length;v++)p=Ar(n[v]),Si(n[1])==="$type"?g=g.concat(ap({key:`${a}[${v}]`,value:n[v],valueSpec:d.geometry_type,style:s.style,styleSpec:s.styleSpec})):p!=="string"&&p!=="number"&&p!=="boolean"&&g.push(new bn(`${a}[${v}]`,n[v],`string, number, or boolean expected, ${p} found`));break;case"any":case"all":case"none":for(let v=1;v<n.length;v++)g=g.concat(Hd({key:`${a}[${v}]`,value:n[v],style:s.style,styleSpec:s.styleSpec}));break;case"has":case"!has":p=Ar(n[1]),n.length!==2?g.push(new bn(a,n,`filter array for "${n[0]}" operator must have 2 elements`)):p!=="string"&&g.push(new bn(`${a}[1]`,n[1],`string expected, ${p} found`));break;case"within":p=Ar(n[1]),n.length!==2?g.push(new bn(a,n,`filter array for "${n[0]}" operator must have 2 elements`)):p!=="object"&&g.push(new bn(`${a}[1]`,n[1],`object expected, ${p} found`))}return g}function p1(s,n){const a=s.key,d=s.style,p=s.styleSpec,g=s.value,v=s.objectKey,w=p[`${n}_${s.layerType}`];if(!w)return[];const C=v.match(/^(.*)-transition$/);if(n==="paint"&&C&&w[C[1]]&&w[C[1]].transition)return $o({key:a,value:g,valueSpec:p.transition,style:d,styleSpec:p});const P=s.valueSpec||w[v];if(!P)return[new bn(a,g,`unknown property "${v}"`)];let z;if(Ar(g)==="string"&&Iu(P)&&!P.tokens&&(z=/^{([^}]+)}$/.exec(g))){const W=`\`{ "type": "identity", "property": ${z?JSON.stringify(z[1]):'"_"'} }\``;return[new bn(a,g,`"${v}" does not support interpolation syntax
Use an identity property function instead: ${W}.`)]}const N=[];return s.layerType==="symbol"&&(v==="text-field"&&d&&!d.glyphs&&N.push(new bn(a,g,'use of "text-field" requires a style "glyphs" property')),v==="text-font"&&Bd(Ui(g))&&Si(g.type)==="identity"&&N.push(new bn(a,g,'"text-font" does not support identity functions'))),N.concat($o({key:s.key,value:g,valueSpec:P,style:d,styleSpec:p,expressionContext:"property",propertyType:n,propertyKey:v}))}function h0(s){return p1(s,"paint")}function f1(s){return p1(s,"layout")}function p0(s){let n=[];const a=s.value,d=s.key,p=s.style,g=s.styleSpec;a.type||a.ref||n.push(new bn(d,a,'either "type" or "ref" is required'));let v=Si(a.type);const w=Si(a.ref);if(a.id){const C=Si(a.id);for(let P=0;P<s.arrayIndex;P++){const z=p.layers[P];Si(z.id)===C&&n.push(new bn(d,a.id,`duplicate layer id "${a.id}", previously used at line ${z.id.__line__}`))}}if("ref"in a){let C;["type","source","source-layer","filter","layout"].forEach(P=>{P in a&&n.push(new bn(d,a[P],`"${P}" is prohibited for ref layers`))}),p.layers.forEach(P=>{Si(P.id)===w&&(C=P)}),C?C.ref?n.push(new bn(d,a.ref,"ref cannot reference another ref layer")):v=Si(C.type):typeof w=="string"&&n.push(new bn(d,a.ref,`ref layer "${w}" not found`))}else if(v!=="background"&&v!=="sky")if(a.source){const C=p.sources&&p.sources[a.source],P=C&&Si(C.type);C?P==="vector"&&v==="raster"?n.push(new bn(d,a.source,`layer "${a.id}" requires a raster source`)):P==="raster"&&v!=="raster"?n.push(new bn(d,a.source,`layer "${a.id}" requires a vector source`)):P!=="vector"||a["source-layer"]?P==="raster-dem"&&v!=="hillshade"?n.push(new bn(d,a.source,"raster-dem source can only be used with layer type 'hillshade'.")):v!=="line"||!a.paint||!a.paint["line-gradient"]&&!a.paint["line-trim-offset"]||P==="geojson"&&C.lineMetrics||n.push(new bn(d,a,`layer "${a.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):n.push(new bn(d,a,`layer "${a.id}" must specify a "source-layer"`)):n.push(new bn(d,a.source,`source "${a.source}" not found`))}else n.push(new bn(d,a,'missing required property "source"'));return n=n.concat(pa({key:d,value:a,valueSpec:g.layer,style:s.style,styleSpec:s.styleSpec,objectElementValidators:{"*":()=>[],type:()=>$o({key:`${d}.type`,value:a.type,valueSpec:g.layer.type,style:s.style,styleSpec:s.styleSpec,object:a,objectKey:"type"}),filter:C=>Wd(Ls({layerType:v},C)),layout:C=>pa({layer:a,key:C.key,value:C.value,valueSpec:{},style:C.style,styleSpec:C.styleSpec,objectElementValidators:{"*":P=>f1(Ls({layerType:v},P))}}),paint:C=>pa({layer:a,key:C.key,value:C.value,valueSpec:{},style:C.style,styleSpec:C.styleSpec,objectElementValidators:{"*":P=>h0(Ls({layerType:v},P))}})}})),n}function tc(s){const n=s.value,a=s.key,d=Ar(n);return d!=="string"?[new bn(a,n,`string expected, ${d} found`)]:[]}const f0={promoteId:function({key:s,value:n}){if(Ar(n)==="string")return tc({key:s,value:n});{const a=[];for(const d in n)a.push(...tc({key:`${s}.${d}`,value:n[d]}));return a}}};function m0(s){const n=s.value,a=s.key,d=s.styleSpec,p=s.style;if(!n.type)return[new bn(a,n,'"type" is required')];const g=Si(n.type);let v;switch(g){case"vector":case"raster":case"raster-dem":return v=pa({key:a,value:n,valueSpec:d[`source_${g.replace("-","_")}`],style:s.style,styleSpec:d,objectElementValidators:f0}),v;case"geojson":if(v=pa({key:a,value:n,valueSpec:d.source_geojson,style:p,styleSpec:d,objectElementValidators:f0}),n.cluster)for(const w in n.clusterProperties){const[C,P]=n.clusterProperties[w],z=typeof C=="string"?[C,["accumulated"],["get",w]]:C;v.push(...fo({key:`${a}.${w}.map`,value:P,expressionContext:"cluster-map"})),v.push(...fo({key:`${a}.${w}.reduce`,value:z,expressionContext:"cluster-reduce"}))}return v;case"video":return pa({key:a,value:n,valueSpec:d.source_video,style:p,styleSpec:d});case"image":return pa({key:a,value:n,valueSpec:d.source_image,style:p,styleSpec:d});case"canvas":return[new bn(a,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return ap({key:`${a}.type`,value:n.type,valueSpec:{values:Bv(d)},style:p,styleSpec:d})}}function Bv(s){return s.source.reduce((n,a)=>{const d=s[a];return d.type.type==="enum"&&(n=n.concat(Object.keys(d.type.values))),n},[])}function g0(s){const n=s.value,a=s.styleSpec,d=a.light,p=s.style;let g=[];const v=Ar(n);if(n===void 0)return g;if(v!=="object")return g=g.concat([new bn("light",n,`object expected, ${v} found`)]),g;for(const w in n){const C=w.match(/^(.*)-transition$/);g=g.concat(C&&d[C[1]]&&d[C[1]].transition?$o({key:w,value:n[w],valueSpec:a.transition,style:p,styleSpec:a}):d[w]?$o({key:w,value:n[w],valueSpec:d[w],style:p,styleSpec:a}):[new bn(w,n[w],`unknown property "${w}"`)])}return g}function m1(s){const n=s.value,a=s.key,d=s.style,p=s.styleSpec,g=p.terrain;let v=[];const w=Ar(n);if(n===void 0)return v;if(w!=="object")return v=v.concat([new bn("terrain",n,`object expected, ${w} found`)]),v;for(const C in n){const P=C.match(/^(.*)-transition$/);v=v.concat(P&&g[P[1]]&&g[P[1]].transition?$o({key:C,value:n[C],valueSpec:p.transition,style:d,styleSpec:p}):g[C]?$o({key:C,value:n[C],valueSpec:g[C],style:d,styleSpec:p}):[new bn(C,n[C],`unknown property "${C}"`)])}if(n.source){const C=d.sources&&d.sources[n.source],P=C&&Si(C.type);C?P!=="raster-dem"&&v.push(new bn(a,n.source,`terrain cannot be used with a source of type ${String(P)}, it only be used with a "raster-dem" source type`)):v.push(new bn(a,n.source,`source "${n.source}" not found`))}else v.push(new bn(a,n,'terrain is missing required property "source"'));return v}function y0(s){const n=s.value,a=s.style,d=s.styleSpec,p=d.fog;let g=[];const v=Ar(n);if(n===void 0)return g;if(v!=="object")return g=g.concat([new bn("fog",n,`object expected, ${v} found`)]),g;for(const w in n){const C=w.match(/^(.*)-transition$/);g=g.concat(C&&p[C[1]]&&p[C[1]].transition?$o({key:w,value:n[w],valueSpec:d.transition,style:a,styleSpec:d}):p[w]?$o({key:w,value:n[w],valueSpec:p[w],style:a,styleSpec:d}):[new bn(w,n[w],`unknown property "${w}"`)])}return g}const _0={"*":()=>[],array:c0,boolean:function(s){const n=s.value,a=s.key,d=Ar(n);return d!=="boolean"?[new bn(a,n,`boolean expected, ${d} found`)]:[]},number:jd,color:function(s){const n=s.key,a=s.value,d=Ar(a);return d!=="string"?[new bn(n,a,`color expected, ${d} found`)]:fl(a)===null?[new bn(n,a,`color expected, "${a}" found`)]:[]},enum:ap,filter:Wd,function:Vd,layer:p0,object:pa,source:m0,light:g0,terrain:m1,fog:y0,string:tc,formatted:function(s){return tc(s).length===0?[]:fo(s)},resolvedImage:function(s){return tc(s).length===0?[]:fo(s)},projection:function(s){const n=s.value,a=s.styleSpec,d=a.projection,p=s.style;let g=[];const v=Ar(n);if(v==="object")for(const w in n)g=g.concat($o({key:w,value:n[w],valueSpec:d[w],style:p,styleSpec:a}));else v!=="string"&&(g=g.concat([new bn("projection",n,`object or string expected, ${v} found`)]));return g}};function $o(s){const n=s.value,a=s.valueSpec,d=s.styleSpec;return a.expression&&Bd(Si(n))?Vd(s):a.expression&&Du(Ui(n))?fo(s):a.type&&_0[a.type]?_0[a.type](s):pa(Ls({},s,{valueSpec:a.type?d[a.type]:a}))}function Nv(s){const n=s.value,a=s.key,d=tc(s);return d.length||(n.indexOf("{fontstack}")===-1&&d.push(new bn(a,n,'"glyphs" url must include a "{fontstack}" token')),n.indexOf("{range}")===-1&&d.push(new bn(a,n,'"glyphs" url must include a "{range}" token'))),d}function v0(s,n=Pt){return Ns($o({key:"",value:s,valueSpec:n.$root,styleSpec:n,style:s,objectElementValidators:{glyphs:Nv,"*":()=>[]}}))}const $v=s=>Ns(h0(s)),jv=s=>Ns(f1(s));function Ns(s){return s.slice().sort((n,a)=>n.line&&a.line?n.line-a.line:0)}function x0(s,n){let a=!1;if(n&&n.length)for(const d of n)s.fire(new oa(new Error(d.message))),a=!0;return a}var Vv=Oa,fa=3;function Oa(s,n,a){var d=this.cells=[];if(s instanceof ArrayBuffer){this.arrayBuffer=s;var p=new Int32Array(this.arrayBuffer);s=p[0],this.d=(n=p[1])+2*(a=p[2]);for(var g=0;g<this.d*this.d;g++){var v=p[fa+g],w=p[fa+g+1];d.push(v===w?null:p.subarray(v,w))}var C=p[fa+d.length+1];this.keys=p.subarray(p[fa+d.length],C),this.bboxes=p.subarray(C),this.insert=this._insertReadonly}else{this.d=n+2*a;for(var P=0;P<this.d*this.d;P++)d.push([]);this.keys=[],this.bboxes=[]}this.n=n,this.extent=s,this.padding=a,this.scale=n/s,this.uid=0;var z=a/n*s;this.min=-z,this.max=s+z}Oa.prototype.insert=function(s,n,a,d,p){this._forEachCell(n,a,d,p,this._insertCell,this.uid++),this.keys.push(s),this.bboxes.push(n),this.bboxes.push(a),this.bboxes.push(d),this.bboxes.push(p)},Oa.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Oa.prototype._insertCell=function(s,n,a,d,p,g){this.cells[p].push(g)},Oa.prototype.query=function(s,n,a,d,p){var g=this.min,v=this.max;if(s<=g&&n<=g&&v<=a&&v<=d&&!p)return Array.prototype.slice.call(this.keys);var w=[];return this._forEachCell(s,n,a,d,this._queryCell,w,{},p),w},Oa.prototype._queryCell=function(s,n,a,d,p,g,v,w){var C=this.cells[p];if(C!==null)for(var P=this.keys,z=this.bboxes,N=0;N<C.length;N++){var W=C[N];if(v[W]===void 0){var K=4*W;(w?w(z[K+0],z[K+1],z[K+2],z[K+3]):s<=z[K+2]&&n<=z[K+3]&&a>=z[K+0]&&d>=z[K+1])?(v[W]=!0,g.push(P[W])):v[W]=!1}}},Oa.prototype._forEachCell=function(s,n,a,d,p,g,v,w){for(var C=this._convertToCellCoord(s),P=this._convertToCellCoord(n),z=this._convertToCellCoord(a),N=this._convertToCellCoord(d),W=C;W<=z;W++)for(var K=P;K<=N;K++){var ee=this.d*K+W;if((!w||w(this._convertFromCellCoord(W),this._convertFromCellCoord(K),this._convertFromCellCoord(W+1),this._convertFromCellCoord(K+1)))&&p.call(this,s,n,a,d,ee,g,v,w))return}},Oa.prototype._convertFromCellCoord=function(s){return(s-this.padding)/this.scale},Oa.prototype._convertToCellCoord=function(s){return Math.max(0,Math.min(this.d-1,Math.floor(s*this.scale)+this.padding))},Oa.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var s=this.cells,n=fa+this.cells.length+1+1,a=0,d=0;d<this.cells.length;d++)a+=this.cells[d].length;var p=new Int32Array(n+a+this.keys.length+this.bboxes.length);p[0]=this.extent,p[1]=this.n,p[2]=this.padding;for(var g=n,v=0;v<s.length;v++){var w=s[v];p[fa+v]=g,p.set(w,g),g+=w.length}return p[fa+s.length]=g,p.set(this.keys,g),p[fa+s.length+1]=g+=this.keys.length,p.set(this.bboxes,g),g+=this.bboxes.length,p.buffer};var qc=G(Vv);const dp={};function Sn(s,n,a={}){Object.defineProperty(s,"_classRegistryKey",{value:n,writeable:!1}),dp[n]={klass:s,omit:a.omit||[]}}Sn(Object,"Object"),qc.serialize=function(s,n){const a=s.toArrayBuffer();return n&&n.push(a),{buffer:a}},qc.deserialize=function(s){return new qc(s.buffer)},Object.defineProperty(qc,"name",{value:"Grid"}),Sn(qc,"Grid"),Sn(Mi,"Color"),Sn(Error,"Error"),Sn(zn,"AJAXError"),Sn(is,"ResolvedImage"),Sn(op,"StylePropertyFunction"),Sn(ip,"StyleExpression",{omit:["_evaluator"]}),Sn(Nd,"ZoomDependentExpression"),Sn(a1,"ZoomConstantExpression"),Sn(la,"CompoundExpression",{omit:["_evaluate"]});for(const s in Fd)dp[Fd[s]._classRegistryKey]||Sn(Fd[s],`Expression${s}`);function g1(s){return s&&typeof ArrayBuffer<"u"&&(s instanceof ArrayBuffer||s.constructor&&s.constructor.name==="ArrayBuffer")}function y1(s){return _.ImageBitmap&&s instanceof _.ImageBitmap}function Ou(s,n){if(s==null||typeof s=="boolean"||typeof s=="number"||typeof s=="string"||s instanceof Boolean||s instanceof Number||s instanceof String||s instanceof Date||s instanceof RegExp)return s;if(g1(s)||y1(s))return n&&n.push(s),s;if(ArrayBuffer.isView(s)){const a=s;return n&&n.push(a.buffer),a}if(s instanceof _.ImageData)return n&&n.push(s.data.buffer),s;if(Array.isArray(s)){const a=[];for(const d of s)a.push(Ou(d,n));return a}if(typeof s=="object"){const a=s.constructor,d=a._classRegistryKey;if(!d)throw new Error(`can't serialize object of unregistered class ${d}`);const p=a.serialize?a.serialize(s,n):{};if(!a.serialize){for(const g in s)s.hasOwnProperty(g)&&(dp[d].omit.indexOf(g)>=0||(p[g]=Ou(s[g],n)));s instanceof Error&&(p.message=s.message)}if(p.$name)throw new Error("$name property is reserved for worker serialization logic.");return d!=="Object"&&(p.$name=d),p}throw new Error("can't serialize object of type "+typeof s)}function Zc(s){if(s==null||typeof s=="boolean"||typeof s=="number"||typeof s=="string"||s instanceof Boolean||s instanceof Number||s instanceof String||s instanceof Date||s instanceof RegExp||g1(s)||y1(s)||ArrayBuffer.isView(s)||s instanceof _.ImageData)return s;if(Array.isArray(s))return s.map(Zc);if(typeof s=="object"){const n=s.$name||"Object",{klass:a}=dp[n];if(!a)throw new Error(`can't deserialize unregistered class ${n}`);if(a.deserialize)return a.deserialize(s);const d=Object.create(a.prototype);for(const p of Object.keys(s))p!=="$name"&&(d[p]=Zc(s[p]));return d}throw new Error("can't deserialize object of type "+typeof s)}const vn={"Latin-1 Supplement":s=>s>=128&&s<=255,Arabic:s=>s>=1536&&s<=1791,"Arabic Supplement":s=>s>=1872&&s<=1919,"Arabic Extended-A":s=>s>=2208&&s<=2303,"Hangul Jamo":s=>s>=4352&&s<=4607,"Unified Canadian Aboriginal Syllabics":s=>s>=5120&&s<=5759,Khmer:s=>s>=6016&&s<=6143,"Unified Canadian Aboriginal Syllabics Extended":s=>s>=6320&&s<=6399,"General Punctuation":s=>s>=8192&&s<=8303,"Letterlike Symbols":s=>s>=8448&&s<=8527,"Number Forms":s=>s>=8528&&s<=8591,"Miscellaneous Technical":s=>s>=8960&&s<=9215,"Control Pictures":s=>s>=9216&&s<=9279,"Optical Character Recognition":s=>s>=9280&&s<=9311,"Enclosed Alphanumerics":s=>s>=9312&&s<=9471,"Geometric Shapes":s=>s>=9632&&s<=9727,"Miscellaneous Symbols":s=>s>=9728&&s<=9983,"Miscellaneous Symbols and Arrows":s=>s>=11008&&s<=11263,"CJK Radicals Supplement":s=>s>=11904&&s<=12031,"Kangxi Radicals":s=>s>=12032&&s<=12255,"Ideographic Description Characters":s=>s>=12272&&s<=12287,"CJK Symbols and Punctuation":s=>s>=12288&&s<=12351,Hiragana:s=>s>=12352&&s<=12447,Katakana:s=>s>=12448&&s<=12543,Bopomofo:s=>s>=12544&&s<=12591,"Hangul Compatibility Jamo":s=>s>=12592&&s<=12687,Kanbun:s=>s>=12688&&s<=12703,"Bopomofo Extended":s=>s>=12704&&s<=12735,"CJK Strokes":s=>s>=12736&&s<=12783,"Katakana Phonetic Extensions":s=>s>=12784&&s<=12799,"Enclosed CJK Letters and Months":s=>s>=12800&&s<=13055,"CJK Compatibility":s=>s>=13056&&s<=13311,"CJK Unified Ideographs Extension A":s=>s>=13312&&s<=19903,"Yijing Hexagram Symbols":s=>s>=19904&&s<=19967,"CJK Unified Ideographs":s=>s>=19968&&s<=40959,"Yi Syllables":s=>s>=40960&&s<=42127,"Yi Radicals":s=>s>=42128&&s<=42191,"Hangul Jamo Extended-A":s=>s>=43360&&s<=43391,"Hangul Syllables":s=>s>=44032&&s<=55215,"Hangul Jamo Extended-B":s=>s>=55216&&s<=55295,"Private Use Area":s=>s>=57344&&s<=63743,"CJK Compatibility Ideographs":s=>s>=63744&&s<=64255,"Arabic Presentation Forms-A":s=>s>=64336&&s<=65023,"Vertical Forms":s=>s>=65040&&s<=65055,"CJK Compatibility Forms":s=>s>=65072&&s<=65103,"Small Form Variants":s=>s>=65104&&s<=65135,"Arabic Presentation Forms-B":s=>s>=65136&&s<=65279,"Halfwidth and Fullwidth Forms":s=>s>=65280&&s<=65519};function _1(s){for(const n of s)if(v1(n.charCodeAt(0)))return!0;return!1}function Uv(s){for(const n of s)if(!b0(n.charCodeAt(0)))return!1;return!0}function b0(s){return!(vn.Arabic(s)||vn["Arabic Supplement"](s)||vn["Arabic Extended-A"](s)||vn["Arabic Presentation Forms-A"](s)||vn["Arabic Presentation Forms-B"](s))}function v1(s){return!(s!==746&&s!==747&&(s<4352||!(vn["Bopomofo Extended"](s)||vn.Bopomofo(s)||vn["CJK Compatibility Forms"](s)&&!(s>=65097&&s<=65103)||vn["CJK Compatibility Ideographs"](s)||vn["CJK Compatibility"](s)||vn["CJK Radicals Supplement"](s)||vn["CJK Strokes"](s)||!(!vn["CJK Symbols and Punctuation"](s)||s>=12296&&s<=12305||s>=12308&&s<=12319||s===12336)||vn["CJK Unified Ideographs Extension A"](s)||vn["CJK Unified Ideographs"](s)||vn["Enclosed CJK Letters and Months"](s)||vn["Hangul Compatibility Jamo"](s)||vn["Hangul Jamo Extended-A"](s)||vn["Hangul Jamo Extended-B"](s)||vn["Hangul Jamo"](s)||vn["Hangul Syllables"](s)||vn.Hiragana(s)||vn["Ideographic Description Characters"](s)||vn.Kanbun(s)||vn["Kangxi Radicals"](s)||vn["Katakana Phonetic Extensions"](s)||vn.Katakana(s)&&s!==12540||!(!vn["Halfwidth and Fullwidth Forms"](s)||s===65288||s===65289||s===65293||s>=65306&&s<=65310||s===65339||s===65341||s===65343||s>=65371&&s<=65503||s===65507||s>=65512&&s<=65519)||!(!vn["Small Form Variants"](s)||s>=65112&&s<=65118||s>=65123&&s<=65126)||vn["Unified Canadian Aboriginal Syllabics"](s)||vn["Unified Canadian Aboriginal Syllabics Extended"](s)||vn["Vertical Forms"](s)||vn["Yijing Hexagram Symbols"](s)||vn["Yi Syllables"](s)||vn["Yi Radicals"](s))))}function w0(s){return!(v1(s)||function(n){return!!(vn["Latin-1 Supplement"](n)&&(n===167||n===169||n===174||n===177||n===188||n===189||n===190||n===215||n===247)||vn["General Punctuation"](n)&&(n===8214||n===8224||n===8225||n===8240||n===8241||n===8251||n===8252||n===8258||n===8263||n===8264||n===8265||n===8273)||vn["Letterlike Symbols"](n)||vn["Number Forms"](n)||vn["Miscellaneous Technical"](n)&&(n>=8960&&n<=8967||n>=8972&&n<=8991||n>=8996&&n<=9e3||n===9003||n>=9085&&n<=9114||n>=9150&&n<=9165||n===9167||n>=9169&&n<=9179||n>=9186&&n<=9215)||vn["Control Pictures"](n)&&n!==9251||vn["Optical Character Recognition"](n)||vn["Enclosed Alphanumerics"](n)||vn["Geometric Shapes"](n)||vn["Miscellaneous Symbols"](n)&&!(n>=9754&&n<=9759)||vn["Miscellaneous Symbols and Arrows"](n)&&(n>=11026&&n<=11055||n>=11088&&n<=11097||n>=11192&&n<=11243)||vn["CJK Symbols and Punctuation"](n)||vn.Katakana(n)||vn["Private Use Area"](n)||vn["CJK Compatibility Forms"](n)||vn["Small Form Variants"](n)||vn["Halfwidth and Fullwidth Forms"](n)||n===8734||n===8756||n===8757||n>=9984&&n<=10087||n>=10102&&n<=10131||n===65532||n===65533)}(s))}function S0(s){return s>=1424&&s<=2303||vn["Arabic Presentation Forms-A"](s)||vn["Arabic Presentation Forms-B"](s)}function Wv(s,n){return!(!n&&S0(s)||s>=2304&&s<=3583||s>=3840&&s<=4255||vn.Khmer(s))}function Hv(s){for(const n of s)if(S0(n.charCodeAt(0)))return!0;return!1}const x1="deferred",b1="loading",w1="loaded";let Fu=null,m="unavailable",c=null;const h=function(s){s&&typeof s=="string"&&s.indexOf("NetworkError")>-1&&(m="error"),Fu&&Fu(s)};function y(){x.fire(new ia("pluginStateChange",{pluginStatus:m,pluginURL:c}))}const x=new Oc,S=function(){return m},I=function(){if(m!==x1||!c)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");m=b1,y(),c&&Ur({url:c},s=>{s?h(s):(m=w1,y())})},D={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>m===w1||D.applyArabicShaping!=null,isLoading:()=>m===b1,setState(s){m=s.pluginStatus,c=s.pluginURL},isParsed:()=>D.applyArabicShaping!=null&&D.processBidirectionalText!=null&&D.processStyledBidirectionalText!=null,getPluginURL:()=>c};class O{constructor(n,a){this.zoom=n,a?(this.now=a.now,this.fadeDuration=a.fadeDuration,this.transition=a.transition,this.pitch=a.pitch):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0)}isSupportedScript(n){return function(a,d){for(const p of a)if(!Wv(p.charCodeAt(0),d))return!1;return!0}(n,D.isLoaded())}}class Z{constructor(n,a){this.property=n,this.value=a,this.expression=function(d,p){if(Bd(d))return new op(d,p);if(Du(d)){const g=$d(d,p);if(g.result==="error")throw new Error(g.value.map(v=>`${v.key}: ${v.message}`).join(", "));return g.value}{let g=d;return typeof d=="string"&&p.type==="color"&&(g=Mi.parse(d)),{kind:"constant",evaluate:()=>g}}}(a===void 0?n.specification.default:a,n.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(n,a,d){return this.property.possiblyEvaluate(this,n,a,d)}}class q{constructor(n){this.property=n,this.value=new Z(n,void 0)}transitioned(n,a){return new pe(this.property,this.value,a,St({},n.transition,this.transition),n.now)}untransitioned(){return new pe(this.property,this.value,null,{},0)}}class ne{constructor(n){this._properties=n,this._values=Object.create(n.defaultTransitionablePropertyValues)}getValue(n){return Ft(this._values[n].value.value)}setValue(n,a){this._values.hasOwnProperty(n)||(this._values[n]=new q(this._values[n].property)),this._values[n].value=new Z(this._values[n].property,a===null?void 0:Ft(a))}getTransition(n){return Ft(this._values[n].transition)}setTransition(n,a){this._values.hasOwnProperty(n)||(this._values[n]=new q(this._values[n].property)),this._values[n].transition=Ft(a)||void 0}serialize(){const n={};for(const a of Object.keys(this._values)){const d=this.getValue(a);d!==void 0&&(n[a]=d);const p=this.getTransition(a);p!==void 0&&(n[`${a}-transition`]=p)}return n}transitioned(n,a){const d=new ye(this._properties);for(const p of Object.keys(this._values))d._values[p]=this._values[p].transitioned(n,a._values[p]);return d}untransitioned(){const n=new ye(this._properties);for(const a of Object.keys(this._values))n._values[a]=this._values[a].untransitioned();return n}}class pe{constructor(n,a,d,p,g){const v=p.delay||0,w=p.duration||0;g=g||0,this.property=n,this.value=a,this.begin=g+v,this.end=this.begin+w,n.specification.transition&&(p.delay||p.duration)&&(this.prior=d)}possiblyEvaluate(n,a,d){const p=n.now||0,g=this.value.possiblyEvaluate(n,a,d),v=this.prior;if(v){if(p>this.end)return this.prior=null,g;if(this.value.isDataDriven())return this.prior=null,g;if(p<this.begin)return v.possiblyEvaluate(n,a,d);{const w=(p-this.begin)/(this.end-this.begin);return this.property.interpolate(v.possiblyEvaluate(n,a,d),g,me(w))}}return g}}class ye{constructor(n){this._properties=n,this._values=Object.create(n.defaultTransitioningPropertyValues)}possiblyEvaluate(n,a,d){const p=new Se(this._properties);for(const g of Object.keys(this._values))p._values[g]=this._values[g].possiblyEvaluate(n,a,d);return p}hasTransition(){for(const n of Object.keys(this._values))if(this._values[n].prior)return!0;return!1}}class be{constructor(n){this._properties=n,this._values=Object.create(n.defaultPropertyValues)}getValue(n){return Ft(this._values[n].value)}setValue(n,a){this._values[n]=new Z(this._values[n].property,a===null?void 0:Ft(a))}serialize(){const n={};for(const a of Object.keys(this._values)){const d=this.getValue(a);d!==void 0&&(n[a]=d)}return n}possiblyEvaluate(n,a,d){const p=new Se(this._properties);for(const g of Object.keys(this._values))p._values[g]=this._values[g].possiblyEvaluate(n,a,d);return p}}class ve{constructor(n,a,d){this.property=n,this.value=a,this.parameters=d}isConstant(){return this.value.kind==="constant"}constantOr(n){return this.value.kind==="constant"?this.value.value:n}evaluate(n,a,d,p){return this.property.evaluate(this.value,this.parameters,n,a,d,p)}}class Se{constructor(n){this._properties=n,this._values=Object.create(n.defaultPossiblyEvaluatedValues)}get(n){return this._values[n]}}class re{constructor(n){this.specification=n}possiblyEvaluate(n,a){return n.expression.evaluate(a)}interpolate(n,a,d){const p=Fo[this.specification.type];return p?p(n,a,d):n}}class ge{constructor(n,a){this.specification=n,this.overrides=a}possiblyEvaluate(n,a,d,p){return new ve(this,n.expression.kind==="constant"||n.expression.kind==="camera"?{kind:"constant",value:n.expression.evaluate(a,null,{},d,p)}:n.expression,a)}interpolate(n,a,d){if(n.value.kind!=="constant"||a.value.kind!=="constant")return n;if(n.value.value===void 0||a.value.value===void 0)return new ve(this,{kind:"constant",value:void 0},n.parameters);const p=Fo[this.specification.type];return p?new ve(this,{kind:"constant",value:p(n.value.value,a.value.value,d)},n.parameters):n}evaluate(n,a,d,p,g,v){return n.kind==="constant"?n.value:n.evaluate(a,d,p,g,v)}}class Ie{constructor(n){this.specification=n}possiblyEvaluate(n,a,d,p){return!!n.expression.evaluate(a,null,{},d,p)}interpolate(){return!1}}class Ae{constructor(n){this.properties=n,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const a=new O(0,{});for(const d in n){const p=n[d];p.specification.overridable&&this.overridableProperties.push(d);const g=this.defaultPropertyValues[d]=new Z(p,void 0),v=this.defaultTransitionablePropertyValues[d]=new q(p);this.defaultTransitioningPropertyValues[d]=v.untransitioned(),this.defaultPossiblyEvaluatedValues[d]=g.possiblyEvaluate(a)}}}function We(s,n){return 256*(s=Me(Math.floor(s),0,255))+Me(Math.floor(n),0,255)}Sn(ge,"DataDrivenProperty"),Sn(re,"DataConstantProperty"),Sn(Ie,"ColorRampProperty");const Ge={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class He{constructor(n,a){this._structArray=n,this._pos1=a*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class tt{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(n,a){return n._trim(),a&&(n.isTransferred=!0,a.push(n.arrayBuffer)),{length:n.length,arrayBuffer:n.arrayBuffer}}static deserialize(n){const a=Object.create(this.prototype);return a.arrayBuffer=n.arrayBuffer,a.length=n.length,a.capacity=n.arrayBuffer.byteLength/a.bytesPerElement,a._refreshViews(),a}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(n){this.reserve(n),this.length=n}reserve(n){if(n>this.capacity){this.capacity=Math.max(n,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const a=this.uint8;this._refreshViews(),a&&this.uint8.set(a)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function Je(s,n=1){let a=0,d=0;return{members:s.map(p=>{const g=Ge[p.type].BYTES_PER_ELEMENT,v=a=dt(a,Math.max(n,g)),w=p.components||1;return d=Math.max(d,g),a+=g*w,{name:p.name,type:p.type,components:w,offset:v}}),size:dt(a,Math.max(d,n)),alignment:n}}function dt(s,n){return Math.ceil(s/n)*n}class qt extends tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,a){const d=this.length;return this.resize(d+1),this.emplace(d,n,a)}emplace(n,a,d){const p=2*n;return this.int16[p+0]=a,this.int16[p+1]=d,n}}qt.prototype.bytesPerElement=4,Sn(qt,"StructArrayLayout2i4");class ot extends tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,a,d){const p=this.length;return this.resize(p+1),this.emplace(p,n,a,d)}emplace(n,a,d,p){const g=3*n;return this.int16[g+0]=a,this.int16[g+1]=d,this.int16[g+2]=p,n}}ot.prototype.bytesPerElement=6,Sn(ot,"StructArrayLayout3i6");class zt extends tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,a,d,p){const g=this.length;return this.resize(g+1),this.emplace(g,n,a,d,p)}emplace(n,a,d,p,g){const v=4*n;return this.int16[v+0]=a,this.int16[v+1]=d,this.int16[v+2]=p,this.int16[v+3]=g,n}}zt.prototype.bytesPerElement=8,Sn(zt,"StructArrayLayout4i8");class gt extends tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,a,d,p,g,v,w){const C=this.length;return this.resize(C+1),this.emplace(C,n,a,d,p,g,v,w)}emplace(n,a,d,p,g,v,w,C){const P=6*n,z=12*n,N=3*n;return this.int16[P+0]=a,this.int16[P+1]=d,this.uint8[z+4]=p,this.uint8[z+5]=g,this.uint8[z+6]=v,this.uint8[z+7]=w,this.float32[N+2]=C,n}}gt.prototype.bytesPerElement=12,Sn(gt,"StructArrayLayout2i4ub1f12");class Gt extends tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,a,d,p){const g=this.length;return this.resize(g+1),this.emplace(g,n,a,d,p)}emplace(n,a,d,p,g){const v=4*n;return this.float32[v+0]=a,this.float32[v+1]=d,this.float32[v+2]=p,this.float32[v+3]=g,n}}Gt.prototype.bytesPerElement=16,Sn(Gt,"StructArrayLayout4f16");class lt extends tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,a,d,p,g){const v=this.length;return this.resize(v+1),this.emplace(v,n,a,d,p,g)}emplace(n,a,d,p,g,v){const w=6*n,C=3*n;return this.uint16[w+0]=a,this.uint16[w+1]=d,this.uint16[w+2]=p,this.uint16[w+3]=g,this.float32[C+2]=v,n}}lt.prototype.bytesPerElement=12,Sn(lt,"StructArrayLayout4ui1f12");class Rt extends tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,a,d,p){const g=this.length;return this.resize(g+1),this.emplace(g,n,a,d,p)}emplace(n,a,d,p,g){const v=4*n;return this.uint16[v+0]=a,this.uint16[v+1]=d,this.uint16[v+2]=p,this.uint16[v+3]=g,n}}Rt.prototype.bytesPerElement=8,Sn(Rt,"StructArrayLayout4ui8");class Yt extends tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,a,d,p,g,v){const w=this.length;return this.resize(w+1),this.emplace(w,n,a,d,p,g,v)}emplace(n,a,d,p,g,v,w){const C=6*n;return this.int16[C+0]=a,this.int16[C+1]=d,this.int16[C+2]=p,this.int16[C+3]=g,this.int16[C+4]=v,this.int16[C+5]=w,n}}Yt.prototype.bytesPerElement=12,Sn(Yt,"StructArrayLayout6i12");class Vt extends tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,a,d,p,g,v,w,C,P,z,N,W){const K=this.length;return this.resize(K+1),this.emplace(K,n,a,d,p,g,v,w,C,P,z,N,W)}emplace(n,a,d,p,g,v,w,C,P,z,N,W,K){const ee=12*n;return this.int16[ee+0]=a,this.int16[ee+1]=d,this.int16[ee+2]=p,this.int16[ee+3]=g,this.uint16[ee+4]=v,this.uint16[ee+5]=w,this.uint16[ee+6]=C,this.uint16[ee+7]=P,this.int16[ee+8]=z,this.int16[ee+9]=N,this.int16[ee+10]=W,this.int16[ee+11]=K,n}}Vt.prototype.bytesPerElement=24,Sn(Vt,"StructArrayLayout4i4ui4i24");class Jt extends tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,a,d,p,g,v){const w=this.length;return this.resize(w+1),this.emplace(w,n,a,d,p,g,v)}emplace(n,a,d,p,g,v,w){const C=10*n,P=5*n;return this.int16[C+0]=a,this.int16[C+1]=d,this.int16[C+2]=p,this.float32[P+2]=g,this.float32[P+3]=v,this.float32[P+4]=w,n}}Jt.prototype.bytesPerElement=20,Sn(Jt,"StructArrayLayout3i3f20");class On extends tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(n){const a=this.length;return this.resize(a+1),this.emplace(a,n)}emplace(n,a){return this.uint32[1*n+0]=a,n}}On.prototype.bytesPerElement=4,Sn(On,"StructArrayLayout1ul4");class tr extends tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,a,d,p,g,v,w,C,P,z,N,W,K){const ee=this.length;return this.resize(ee+1),this.emplace(ee,n,a,d,p,g,v,w,C,P,z,N,W,K)}emplace(n,a,d,p,g,v,w,C,P,z,N,W,K,ee){const ie=20*n,fe=10*n;return this.int16[ie+0]=a,this.int16[ie+1]=d,this.int16[ie+2]=p,this.int16[ie+3]=g,this.int16[ie+4]=v,this.float32[fe+3]=w,this.float32[fe+4]=C,this.float32[fe+5]=P,this.float32[fe+6]=z,this.int16[ie+14]=N,this.uint32[fe+8]=W,this.uint16[ie+18]=K,this.uint16[ie+19]=ee,n}}tr.prototype.bytesPerElement=40,Sn(tr,"StructArrayLayout5i4f1i1ul2ui40");class kn extends tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,a,d,p,g,v,w){const C=this.length;return this.resize(C+1),this.emplace(C,n,a,d,p,g,v,w)}emplace(n,a,d,p,g,v,w,C){const P=8*n;return this.int16[P+0]=a,this.int16[P+1]=d,this.int16[P+2]=p,this.int16[P+4]=g,this.int16[P+5]=v,this.int16[P+6]=w,this.int16[P+7]=C,n}}kn.prototype.bytesPerElement=16,Sn(kn,"StructArrayLayout3i2i2i16");class Gn extends tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,a,d,p,g){const v=this.length;return this.resize(v+1),this.emplace(v,n,a,d,p,g)}emplace(n,a,d,p,g,v){const w=4*n,C=8*n;return this.float32[w+0]=a,this.float32[w+1]=d,this.float32[w+2]=p,this.int16[C+6]=g,this.int16[C+7]=v,n}}Gn.prototype.bytesPerElement=16,Sn(Gn,"StructArrayLayout2f1f2i16");class Sr extends tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,a,d,p){const g=this.length;return this.resize(g+1),this.emplace(g,n,a,d,p)}emplace(n,a,d,p,g){const v=12*n,w=3*n;return this.uint8[v+0]=a,this.uint8[v+1]=d,this.float32[w+1]=p,this.float32[w+2]=g,n}}Sr.prototype.bytesPerElement=12,Sn(Sr,"StructArrayLayout2ub2f12");class br extends tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,a,d){const p=this.length;return this.resize(p+1),this.emplace(p,n,a,d)}emplace(n,a,d,p){const g=3*n;return this.float32[g+0]=a,this.float32[g+1]=d,this.float32[g+2]=p,n}}br.prototype.bytesPerElement=12,Sn(br,"StructArrayLayout3f12");class Ln extends tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,a,d){const p=this.length;return this.resize(p+1),this.emplace(p,n,a,d)}emplace(n,a,d,p){const g=3*n;return this.uint16[g+0]=a,this.uint16[g+1]=d,this.uint16[g+2]=p,n}}Ln.prototype.bytesPerElement=6,Sn(Ln,"StructArrayLayout3ui6");class Nr extends tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(n,a,d,p,g,v,w,C,P,z,N,W,K,ee,ie,fe,Te,Fe,Ce,Oe,Ve){const Ne=this.length;return this.resize(Ne+1),this.emplace(Ne,n,a,d,p,g,v,w,C,P,z,N,W,K,ee,ie,fe,Te,Fe,Ce,Oe,Ve)}emplace(n,a,d,p,g,v,w,C,P,z,N,W,K,ee,ie,fe,Te,Fe,Ce,Oe,Ve,Ne){const pt=30*n,st=15*n,Mt=60*n;return this.int16[pt+0]=a,this.int16[pt+1]=d,this.int16[pt+2]=p,this.float32[st+2]=g,this.float32[st+3]=v,this.uint16[pt+8]=w,this.uint16[pt+9]=C,this.uint32[st+5]=P,this.uint32[st+6]=z,this.uint32[st+7]=N,this.uint16[pt+16]=W,this.uint16[pt+17]=K,this.uint16[pt+18]=ee,this.float32[st+10]=ie,this.float32[st+11]=fe,this.uint8[Mt+48]=Te,this.uint8[Mt+49]=Fe,this.uint8[Mt+50]=Ce,this.uint32[st+13]=Oe,this.int16[pt+28]=Ve,this.uint8[Mt+58]=Ne,n}}Nr.prototype.bytesPerElement=60,Sn(Nr,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class Gr extends tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(n,a,d,p,g,v,w,C,P,z,N,W,K,ee,ie,fe,Te,Fe,Ce,Oe,Ve,Ne,pt,st,Mt,Zt,yt,Lt,Ot,Wt){const en=this.length;return this.resize(en+1),this.emplace(en,n,a,d,p,g,v,w,C,P,z,N,W,K,ee,ie,fe,Te,Fe,Ce,Oe,Ve,Ne,pt,st,Mt,Zt,yt,Lt,Ot,Wt)}emplace(n,a,d,p,g,v,w,C,P,z,N,W,K,ee,ie,fe,Te,Fe,Ce,Oe,Ve,Ne,pt,st,Mt,Zt,yt,Lt,Ot,Wt,en){const kt=38*n,fn=19*n;return this.int16[kt+0]=a,this.int16[kt+1]=d,this.int16[kt+2]=p,this.float32[fn+2]=g,this.float32[fn+3]=v,this.int16[kt+8]=w,this.int16[kt+9]=C,this.int16[kt+10]=P,this.int16[kt+11]=z,this.int16[kt+12]=N,this.int16[kt+13]=W,this.uint16[kt+14]=K,this.uint16[kt+15]=ee,this.uint16[kt+16]=ie,this.uint16[kt+17]=fe,this.uint16[kt+18]=Te,this.uint16[kt+19]=Fe,this.uint16[kt+20]=Ce,this.uint16[kt+21]=Oe,this.uint16[kt+22]=Ve,this.uint16[kt+23]=Ne,this.uint16[kt+24]=pt,this.uint16[kt+25]=st,this.uint16[kt+26]=Mt,this.uint16[kt+27]=Zt,this.uint16[kt+28]=yt,this.uint32[fn+15]=Lt,this.float32[fn+16]=Ot,this.float32[fn+17]=Wt,this.float32[fn+18]=en,n}}Gr.prototype.bytesPerElement=76,Sn(Gr,"StructArrayLayout3i2f6i15ui1ul3f76");class qr extends tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n){const a=this.length;return this.resize(a+1),this.emplace(a,n)}emplace(n,a){return this.float32[1*n+0]=a,n}}qr.prototype.bytesPerElement=4,Sn(qr,"StructArrayLayout1f4");class Zr extends tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,a,d,p,g){const v=this.length;return this.resize(v+1),this.emplace(v,n,a,d,p,g)}emplace(n,a,d,p,g,v){const w=5*n;return this.float32[w+0]=a,this.float32[w+1]=d,this.float32[w+2]=p,this.float32[w+3]=g,this.float32[w+4]=v,n}}Zr.prototype.bytesPerElement=20,Sn(Zr,"StructArrayLayout5f20");class jo extends tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,a,d,p){const g=this.length;return this.resize(g+1),this.emplace(g,n,a,d,p)}emplace(n,a,d,p,g){const v=6*n;return this.uint32[3*n+0]=a,this.uint16[v+2]=d,this.uint16[v+3]=p,this.uint16[v+4]=g,n}}jo.prototype.bytesPerElement=12,Sn(jo,"StructArrayLayout1ul3ui12");class mo extends tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,a){const d=this.length;return this.resize(d+1),this.emplace(d,n,a)}emplace(n,a,d){const p=2*n;return this.uint16[p+0]=a,this.uint16[p+1]=d,n}}mo.prototype.bytesPerElement=4,Sn(mo,"StructArrayLayout2ui4");class $s extends tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n){const a=this.length;return this.resize(a+1),this.emplace(a,n)}emplace(n,a){return this.uint16[1*n+0]=a,n}}$s.prototype.bytesPerElement=2,Sn($s,"StructArrayLayout1ui2");class Fa extends tt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,a){const d=this.length;return this.resize(d+1),this.emplace(d,n,a)}emplace(n,a,d){const p=2*n;return this.float32[p+0]=a,this.float32[p+1]=d,n}}Fa.prototype.bytesPerElement=8,Sn(Fa,"StructArrayLayout2f8");class xi extends He{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}xi.prototype.size=40;class Xr extends tr{get(n){return new xi(this,n)}}Sn(Xr,"CollisionBoxArray");class zr extends He{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(n){this._structArray.uint8[this._pos1+49]=n}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(n){this._structArray.uint8[this._pos1+50]=n}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(n){this._structArray.uint32[this._pos4+13]=n}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(n){this._structArray.uint8[this._pos1+58]=n}}zr.prototype.size=60;class Hi extends Nr{get(n){return new zr(this,n)}}Sn(Hi,"PlacedSymbolArray");class Ko extends He{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(n){this._structArray.uint32[this._pos4+15]=n}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}Ko.prototype.size=76;class pi extends Gr{get(n){return new Ko(this,n)}}Sn(pi,"SymbolInstanceArray");class ls extends qr{getoffsetX(n){return this.float32[1*n+0]}}Sn(ls,"GlyphOffsetArray");class hp extends qt{getx(n){return this.int16[2*n+0]}gety(n){return this.int16[2*n+1]}}Sn(hp,"SymbolLineVertexArray");class Xc extends He{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}Xc.prototype.size=12;class Gd extends jo{get(n){return new Xc(this,n)}}Sn(Gd,"FeatureIndexArray");class xl extends mo{geta_centroid_pos0(n){return this.uint16[2*n+0]}geta_centroid_pos1(n){return this.uint16[2*n+1]}}Sn(xl,"FillExtrusionCentroidArray");const nc=Je([{name:"a_pattern",components:4,type:"Uint16"},{name:"a_pixel_ratio",components:1,type:"Float32"}]),Yc=Je([{name:"a_dash",components:4,type:"Uint16"}]);var pp={exports:{}},qd={exports:{}};qd.exports=function(s,n){var a,d,p,g,v,w,C,P;for(d=s.length-(a=3&s.length),p=n,v=3432918353,w=461845907,P=0;P<d;)C=255&s.charCodeAt(P)|(255&s.charCodeAt(++P))<<8|(255&s.charCodeAt(++P))<<16|(255&s.charCodeAt(++P))<<24,++P,p=27492+(65535&(g=5*(65535&(p=(p^=C=(65535&(C=(C=(65535&C)*v+(((C>>>16)*v&65535)<<16)&4294967295)<<15|C>>>17))*w+(((C>>>16)*w&65535)<<16)&4294967295)<<13|p>>>19))+((5*(p>>>16)&65535)<<16)&4294967295))+((58964+(g>>>16)&65535)<<16);switch(C=0,a){case 3:C^=(255&s.charCodeAt(P+2))<<16;case 2:C^=(255&s.charCodeAt(P+1))<<8;case 1:p^=C=(65535&(C=(C=(65535&(C^=255&s.charCodeAt(P)))*v+(((C>>>16)*v&65535)<<16)&4294967295)<<15|C>>>17))*w+(((C>>>16)*w&65535)<<16)&4294967295}return p^=s.length,p=2246822507*(65535&(p^=p>>>16))+((2246822507*(p>>>16)&65535)<<16)&4294967295,p=3266489909*(65535&(p^=p>>>13))+((3266489909*(p>>>16)&65535)<<16)&4294967295,(p^=p>>>16)>>>0};var S1=qd.exports,f6={exports:{}};f6.exports=function(s,n){for(var a,d=s.length,p=n^d,g=0;d>=4;)a=1540483477*(65535&(a=255&s.charCodeAt(g)|(255&s.charCodeAt(++g))<<8|(255&s.charCodeAt(++g))<<16|(255&s.charCodeAt(++g))<<24))+((1540483477*(a>>>16)&65535)<<16),p=1540483477*(65535&p)+((1540483477*(p>>>16)&65535)<<16)^(a=1540483477*(65535&(a^=a>>>24))+((1540483477*(a>>>16)&65535)<<16)),d-=4,++g;switch(d){case 3:p^=(255&s.charCodeAt(g+2))<<16;case 2:p^=(255&s.charCodeAt(g+1))<<8;case 1:p=1540483477*(65535&(p^=255&s.charCodeAt(g)))+((1540483477*(p>>>16)&65535)<<16)}return p=1540483477*(65535&(p^=p>>>13))+((1540483477*(p>>>16)&65535)<<16),(p^=p>>>15)>>>0};var m6=S1,CD=f6.exports;pp.exports=m6,pp.exports.murmur3=m6,pp.exports.murmur2=CD;var Gv=G(pp.exports);class T0{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(n,a,d,p){this.ids.push(g6(n)),this.positions.push(a,d,p)}getPositions(n){const a=g6(n);let d=0,p=this.ids.length-1;for(;d<p;){const v=d+p>>1;this.ids[v]>=a?p=v:d=v+1}const g=[];for(;this.ids[d]===a;)g.push({index:this.positions[3*d],start:this.positions[3*d+1],end:this.positions[3*d+2]}),d++;return g}static serialize(n,a){const d=new Float64Array(n.ids),p=new Uint32Array(n.positions);return qv(d,p,0,d.length-1),a&&a.push(d.buffer,p.buffer),{ids:d,positions:p}}static deserialize(n){const a=new T0;return a.ids=n.ids,a.positions=n.positions,a.indexed=!0,a}}function g6(s){const n=+s;return!isNaN(n)&&Number.MIN_SAFE_INTEGER<=n&&n<=Number.MAX_SAFE_INTEGER?n:Gv(String(s))}function qv(s,n,a,d){for(;a<d;){const p=s[a+d>>1];let g=a-1,v=d+1;for(;;){do g++;while(s[g]<p);do v--;while(s[v]>p);if(g>=v)break;C0(s,g,v),C0(n,3*g,3*v),C0(n,3*g+1,3*v+1),C0(n,3*g+2,3*v+2)}v-a<d-v?(qv(s,n,a,v),a=v+1):(qv(s,n,v+1,d),d=v)}}function C0(s,n,a){const d=s[n];s[n]=s[a],s[a]=d}Sn(T0,"FeaturePositionMap");class Kc{constructor(n){this.gl=n.gl,this.initialized=!1}fetchUniformLocation(n,a){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(n,a),this.initialized=!0),!!this.location}}class E0 extends Kc{constructor(n){super(n),this.current=0}set(n,a,d){this.fetchUniformLocation(n,a)&&this.current!==d&&(this.current=d,this.gl.uniform1f(this.location,d))}}class y6 extends Kc{constructor(n){super(n),this.current=[0,0,0,0]}set(n,a,d){this.fetchUniformLocation(n,a)&&(d[0]===this.current[0]&&d[1]===this.current[1]&&d[2]===this.current[2]&&d[3]===this.current[3]||(this.current=d,this.gl.uniform4f(this.location,d[0],d[1],d[2],d[3])))}}class _6 extends Kc{constructor(n){super(n),this.current=Mi.transparent}set(n,a,d){this.fetchUniformLocation(n,a)&&(d.r===this.current.r&&d.g===this.current.g&&d.b===this.current.b&&d.a===this.current.a||(this.current=d,this.gl.uniform4f(this.location,d.r,d.g,d.b,d.a)))}}const ED=new Float32Array(16),PD=new Float32Array(9),kD=new Float32Array(4);function Zv(s){return[We(255*s.r,255*s.g),We(255*s.b,255*s.a)]}class T1{constructor(n,a,d){this.value=n,this.uniformNames=a.map(p=>`u_${p}`),this.type=d}setUniform(n,a,d,p,g){a.set(n,g,p.constantOr(this.value))}getBinding(n,a){return this.type==="color"?new _6(n):new E0(n)}}class fp{constructor(n,a){this.uniformNames=a.map(d=>`u_${d}`),this.pattern=null,this.pixelRatio=1}setConstantPatternPositions(n){this.pixelRatio=n.pixelRatio||1,this.pattern=n.tl.concat(n.br)}setUniform(n,a,d,p,g){const v=g==="u_pattern"||g==="u_dash"?this.pattern:g==="u_pixel_ratio"?this.pixelRatio:null;v&&a.set(n,g,v)}getBinding(n,a){return a==="u_pattern"||a==="u_dash"?new y6(n):new E0(n)}}class Jc{constructor(n,a,d,p){this.expression=n,this.type=d,this.maxValue=0,this.paintVertexAttributes=a.map(g=>({name:`a_${g}`,type:"Float32",components:d==="color"?2:1,offset:0})),this.paintVertexArray=new p}populatePaintArray(n,a,d,p,g,v){const w=this.paintVertexArray.length,C=this.expression.evaluate(new O(0),a,{},g,p,v);this.paintVertexArray.resize(n),this._setPaintValue(w,n,C)}updatePaintArray(n,a,d,p,g){const v=this.expression.evaluate({zoom:0},d,p,void 0,g);this._setPaintValue(n,a,v)}_setPaintValue(n,a,d){if(this.type==="color"){const p=Zv(d);for(let g=n;g<a;g++)this.paintVertexArray.emplace(g,p[0],p[1])}else{for(let p=n;p<a;p++)this.paintVertexArray.emplace(p,d);this.maxValue=Math.max(this.maxValue,Math.abs(d))}}upload(n){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=n.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class bl{constructor(n,a,d,p,g,v){this.expression=n,this.uniformNames=a.map(w=>`u_${w}_t`),this.type=d,this.useIntegerZoom=p,this.zoom=g,this.maxValue=0,this.paintVertexAttributes=a.map(w=>({name:`a_${w}`,type:"Float32",components:d==="color"?4:2,offset:0})),this.paintVertexArray=new v}populatePaintArray(n,a,d,p,g,v){const w=this.expression.evaluate(new O(this.zoom),a,{},g,p,v),C=this.expression.evaluate(new O(this.zoom+1),a,{},g,p,v),P=this.paintVertexArray.length;this.paintVertexArray.resize(n),this._setPaintValue(P,n,w,C)}updatePaintArray(n,a,d,p,g){const v=this.expression.evaluate({zoom:this.zoom},d,p,void 0,g),w=this.expression.evaluate({zoom:this.zoom+1},d,p,void 0,g);this._setPaintValue(n,a,v,w)}_setPaintValue(n,a,d,p){if(this.type==="color"){const g=Zv(d),v=Zv(p);for(let w=n;w<a;w++)this.paintVertexArray.emplace(w,g[0],g[1],v[0],v[1])}else{for(let g=n;g<a;g++)this.paintVertexArray.emplace(g,d,p);this.maxValue=Math.max(this.maxValue,Math.abs(d),Math.abs(p))}}upload(n){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=n.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(n,a,d,p,g){const v=this.useIntegerZoom?Math.floor(d.zoom):d.zoom,w=Me(this.expression.interpolationFactor(v,this.zoom,this.zoom+1),0,1);a.set(n,g,w)}getBinding(n,a){return new E0(n)}}class Bu{constructor(n,a,d,p,g){this.expression=n,this.layerId=g,this.paintVertexAttributes=(d==="array"?Yc:nc).members;for(let v=0;v<a.length;++v);this.paintVertexArray=new p}populatePaintArray(n,a,d){const p=this.paintVertexArray.length;this.paintVertexArray.resize(n),this._setPaintValues(p,n,a.patterns&&a.patterns[this.layerId],d)}updatePaintArray(n,a,d,p,g,v){this._setPaintValues(n,a,d.patterns&&d.patterns[this.layerId],v)}_setPaintValues(n,a,d,p){if(!p||!d)return;const g=p[d];if(!g)return;const{tl:v,br:w,pixelRatio:C}=g;for(let P=n;P<a;P++)this.paintVertexArray.emplace(P,v[0],v[1],w[0],w[1],C)}upload(n){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=n.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Nu{constructor(n,a,d=()=>!0){this.binders={},this._buffers=[];const p=[];for(const g in n.paint._values){if(!d(g))continue;const v=n.paint.get(g);if(!(v instanceof ve&&Iu(v.property.specification)))continue;const w=ID(g,n.type),C=v.value,P=v.property.specification.type,z=!!v.property.useIntegerZoom,N=g==="line-dasharray"||g.endsWith("pattern"),W=g==="line-dasharray"&&n.layout.get("line-cap").value.kind!=="constant";if(C.kind!=="constant"||W)if(C.kind==="source"||W||N){const K=v6(g,P,"source");this.binders[g]=N?new Bu(C,w,P,K,n.id):new Jc(C,w,P,K),p.push(`/a_${g}`)}else{const K=v6(g,P,"composite");this.binders[g]=new bl(C,w,P,z,a,K),p.push(`/z_${g}`)}else this.binders[g]=N?new fp(C.value,w):new T1(C.value,w,P),p.push(`/u_${g}`)}this.cacheKey=p.sort().join("")}getMaxValue(n){const a=this.binders[n];return a instanceof Jc||a instanceof bl?a.maxValue:0}populatePaintArrays(n,a,d,p,g,v){for(const w in this.binders){const C=this.binders[w];(C instanceof Jc||C instanceof bl||C instanceof Bu)&&C.populatePaintArray(n,a,d,p,g,v)}}setConstantPatternPositions(n){for(const a in this.binders){const d=this.binders[a];d instanceof fp&&d.setConstantPatternPositions(n)}}updatePaintArrays(n,a,d,p,g,v){let w=!1;for(const C in n){const P=a.getPositions(C);for(const z of P){const N=d.feature(z.index);for(const W in this.binders){const K=this.binders[W];if((K instanceof Jc||K instanceof bl||K instanceof Bu)&&K.expression.isStateDependent===!0){const ee=p.paint.get(W);K.expression=ee.value,K.updatePaintArray(z.start,z.end,N,n[C],g,v),w=!0}}}}return w}defines(){const n=[];for(const a in this.binders){const d=this.binders[a];(d instanceof T1||d instanceof fp)&&n.push(...d.uniformNames.map(p=>`#define HAS_UNIFORM_${p}`))}return n}getBinderAttributes(){const n=[];for(const a in this.binders){const d=this.binders[a];if(d instanceof Jc||d instanceof bl||d instanceof Bu)for(let p=0;p<d.paintVertexAttributes.length;p++)n.push(d.paintVertexAttributes[p].name)}return n}getBinderUniforms(){const n=[];for(const a in this.binders){const d=this.binders[a];if(d instanceof T1||d instanceof fp||d instanceof bl)for(const p of d.uniformNames)n.push(p)}return n}getPaintVertexBuffers(){return this._buffers}getUniforms(n){const a=[];for(const d in this.binders){const p=this.binders[d];if(p instanceof T1||p instanceof fp||p instanceof bl)for(const g of p.uniformNames)a.push({name:g,property:d,binding:p.getBinding(n,g)})}return a}setUniforms(n,a,d,p,g){for(const{name:v,property:w,binding:C}of d)this.binders[w].setUniform(n,C,g,p.get(w),v)}updatePaintBuffers(){this._buffers=[];for(const n in this.binders){const a=this.binders[n];(a instanceof Jc||a instanceof bl||a instanceof Bu)&&a.paintVertexBuffer&&this._buffers.push(a.paintVertexBuffer)}}upload(n){for(const a in this.binders){const d=this.binders[a];(d instanceof Jc||d instanceof bl||d instanceof Bu)&&d.upload(n)}this.updatePaintBuffers()}destroy(){for(const n in this.binders){const a=this.binders[n];(a instanceof Jc||a instanceof bl||a instanceof Bu)&&a.destroy()}}}class Zd{constructor(n,a,d=()=>!0){this.programConfigurations={};for(const p of n)this.programConfigurations[p.id]=new Nu(p,a,d);this.needsUpload=!1,this._featureMap=new T0,this._bufferOffset=0}populatePaintArrays(n,a,d,p,g,v,w){for(const C in this.programConfigurations)this.programConfigurations[C].populatePaintArrays(n,a,p,g,v,w);a.id!==void 0&&this._featureMap.add(a.id,d,this._bufferOffset,n),this._bufferOffset=n,this.needsUpload=!0}updatePaintArrays(n,a,d,p,g){for(const v of d)this.needsUpload=this.programConfigurations[v.id].updatePaintArrays(n,this._featureMap,a,v,p,g)||this.needsUpload}get(n){return this.programConfigurations[n]}upload(n){if(this.needsUpload){for(const a in this.programConfigurations)this.programConfigurations[a].upload(n);this.needsUpload=!1}}destroy(){for(const n in this.programConfigurations)this.programConfigurations[n].destroy()}}const MD={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern","pixel_ratio"],"fill-pattern":["pattern","pixel_ratio"],"fill-extrusion-pattern":["pattern","pixel_ratio"],"line-dasharray":["dash"]};function ID(s,n){return MD[s]||[s.replace(`${n}-`,"").replace(/-/g,"_")]}const AD={"line-pattern":{source:lt,composite:lt},"fill-pattern":{source:lt,composite:lt},"fill-extrusion-pattern":{source:lt,composite:lt},"line-dasharray":{source:Rt,composite:Rt}},DD={color:{source:Fa,composite:Gt},number:{source:qr,composite:Fa}};function v6(s,n,a){const d=AD[s];return d&&d[a]||DD[n][a]}Sn(T1,"ConstantBinder"),Sn(fp,"PatternConstantBinder"),Sn(Jc,"SourceExpressionBinder"),Sn(Bu,"PatternCompositeBinder"),Sn(bl,"CompositeExpressionBinder"),Sn(Nu,"ProgramConfiguration",{omit:["_buffers"]}),Sn(Zd,"ProgramConfigurationSet");const x6="-transition";class wl extends Oc{constructor(n,a){if(super(),this.id=n.id,this.type=n.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,n.type!=="custom"&&(this.metadata=n.metadata,this.minzoom=n.minzoom,this.maxzoom=n.maxzoom,n.type!=="background"&&n.type!=="sky"&&(this.source=n.source,this.sourceLayer=n["source-layer"],this.filter=n.filter),a.layout&&(this._unevaluatedLayout=new be(a.layout)),a.paint)){this._transitionablePaint=new ne(a.paint);for(const d in n.paint)this.setPaintProperty(d,n.paint[d],{validate:!1});for(const d in n.layout)this.setLayoutProperty(d,n.layout[d],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Se(a.paint)}}getLayoutProperty(n){return n==="visibility"?this.visibility:this._unevaluatedLayout.getValue(n)}setLayoutProperty(n,a,d={}){a!=null&&this._validate(jv,`layers.${this.id}.layout.${n}`,n,a,d)||(n!=="visibility"?this._unevaluatedLayout.setValue(n,a):this.visibility=a)}getPaintProperty(n){return _t(n,x6)?this._transitionablePaint.getTransition(n.slice(0,-11)):this._transitionablePaint.getValue(n)}setPaintProperty(n,a,d={}){if(a!=null&&this._validate($v,`layers.${this.id}.paint.${n}`,n,a,d))return!1;if(_t(n,x6))return this._transitionablePaint.setTransition(n.slice(0,-11),a||void 0),!1;{const p=this._transitionablePaint._values[n],g=p.value.isDataDriven(),v=p.value;this._transitionablePaint.setValue(n,a),this._handleSpecialPaintPropertyUpdate(n);const w=this._transitionablePaint._values[n].value,C=w.isDataDriven(),P=_t(n,"pattern")||n==="line-dasharray";return C||g||P||this._handleOverridablePaintPropertyUpdate(n,v,w)}}_handleSpecialPaintPropertyUpdate(n){}getProgramIds(){return null}getProgramConfiguration(n){return null}_handleOverridablePaintPropertyUpdate(n,a,d){return!1}isHidden(n){return!!(this.minzoom&&n<this.minzoom)||!!(this.maxzoom&&n>=this.maxzoom)||this.visibility==="none"}updateTransitions(n){this._transitioningPaint=this._transitionablePaint.transitioned(n,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(n,a){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(n,void 0,a)),this.paint=this._transitioningPaint.possiblyEvaluate(n,void 0,a)}serialize(){const n={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(n.layout=n.layout||{},n.layout.visibility=this.visibility),ft(n,(a,d)=>!(a===void 0||d==="layout"&&!Object.keys(a).length||d==="paint"&&!Object.keys(a).length))}_validate(n,a,d,p,g={}){return(!g||g.validate!==!1)&&x0(this,n.call(v0,{key:a,layerType:this.type,objectKey:d,value:p,styleSpec:Pt,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const n in this.paint._values){const a=this.paint.get(n);if(a instanceof ve&&Iu(a.property.specification)&&(a.value.kind==="source"||a.value.kind==="composite")&&a.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=lp(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}const RD=Je([{name:"a_pos",components:2,type:"Int16"}],4),zD=Je([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class Gi{constructor(n=[]){this.segments=n}prepareSegment(n,a,d,p){let g=this.segments[this.segments.length-1];return n>Gi.MAX_VERTEX_ARRAY_LENGTH&&rt(`Max vertices per segment is ${Gi.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${n}`),(!g||g.vertexLength+n>Gi.MAX_VERTEX_ARRAY_LENGTH||g.sortKey!==p)&&(g={vertexOffset:a.length,primitiveOffset:d.length,vertexLength:0,primitiveLength:0},p!==void 0&&(g.sortKey=p),this.segments.push(g)),g}get(){return this.segments}destroy(){for(const n of this.segments)for(const a in n.vaos)n.vaos[a].destroy()}static simpleSegment(n,a,d,p){return new Gi([{vertexOffset:n,primitiveOffset:a,vertexLength:d,primitiveLength:p,vaos:{},sortKey:0}])}}Gi.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Sn(Gi,"SegmentVector");var Un=8192;class $u{constructor(n,a){n&&(a?this.setSouthWest(n).setNorthEast(a):n.length===4?this.setSouthWest([n[0],n[1]]).setNorthEast([n[2],n[3]]):this.setSouthWest(n[0]).setNorthEast(n[1]))}setNorthEast(n){return this._ne=n instanceof Yr?new Yr(n.lng,n.lat):Yr.convert(n),this}setSouthWest(n){return this._sw=n instanceof Yr?new Yr(n.lng,n.lat):Yr.convert(n),this}extend(n){const a=this._sw,d=this._ne;let p,g;if(n instanceof Yr)p=n,g=n;else{if(!(n instanceof $u))return Array.isArray(n)?n.length===4||n.every(Array.isArray)?this.extend($u.convert(n)):this.extend(Yr.convert(n)):typeof n=="object"&&n!==null&&n.hasOwnProperty("lat")&&(n.hasOwnProperty("lon")||n.hasOwnProperty("lng"))?this.extend(Yr.convert(n)):this;if(p=n._sw,g=n._ne,!p||!g)return this}return a||d?(a.lng=Math.min(p.lng,a.lng),a.lat=Math.min(p.lat,a.lat),d.lng=Math.max(g.lng,d.lng),d.lat=Math.max(g.lat,d.lat)):(this._sw=new Yr(p.lng,p.lat),this._ne=new Yr(g.lng,g.lat)),this}getCenter(){return new Yr((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new Yr(this.getWest(),this.getNorth())}getSouthEast(){return new Yr(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(n){const{lng:a,lat:d}=Yr.convert(n);let p=this._sw.lng<=a&&a<=this._ne.lng;return this._sw.lng>this._ne.lng&&(p=this._sw.lng>=a&&a>=this._ne.lng),this._sw.lat<=d&&d<=this._ne.lat&&p}static convert(n){return!n||n instanceof $u?n:new $u(n)}}var P0=1e-6,js=typeof Float32Array<"u"?Float32Array:Array;function b6(){var s=new js(9);return js!=Float32Array&&(s[1]=0,s[2]=0,s[3]=0,s[5]=0,s[6]=0,s[7]=0),s[0]=1,s[4]=1,s[8]=1,s}function w6(s,n,a){var d=n[0],p=n[1],g=n[2],v=n[3],w=n[4],C=n[5],P=n[6],z=n[7],N=n[8],W=a[0],K=a[1],ee=a[2],ie=a[3],fe=a[4],Te=a[5],Fe=a[6],Ce=a[7],Oe=a[8];return s[0]=W*d+K*v+ee*P,s[1]=W*p+K*w+ee*z,s[2]=W*g+K*C+ee*N,s[3]=ie*d+fe*v+Te*P,s[4]=ie*p+fe*w+Te*z,s[5]=ie*g+fe*C+Te*N,s[6]=Fe*d+Ce*v+Oe*P,s[7]=Fe*p+Ce*w+Oe*z,s[8]=Fe*g+Ce*C+Oe*N,s}function Sl(s){return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}function Xv(s,n){var a=n[0],d=n[1],p=n[2],g=n[3],v=n[4],w=n[5],C=n[6],P=n[7],z=n[8],N=n[9],W=n[10],K=n[11],ee=n[12],ie=n[13],fe=n[14],Te=n[15],Fe=a*w-d*v,Ce=a*C-p*v,Oe=a*P-g*v,Ve=d*C-p*w,Ne=d*P-g*w,pt=p*P-g*C,st=z*ie-N*ee,Mt=z*fe-W*ee,Zt=z*Te-K*ee,yt=N*fe-W*ie,Lt=N*Te-K*ie,Ot=W*Te-K*fe,Wt=Fe*Ot-Ce*Lt+Oe*yt+Ve*Zt-Ne*Mt+pt*st;return Wt?(s[0]=(w*Ot-C*Lt+P*yt)*(Wt=1/Wt),s[1]=(p*Lt-d*Ot-g*yt)*Wt,s[2]=(ie*pt-fe*Ne+Te*Ve)*Wt,s[3]=(W*Ne-N*pt-K*Ve)*Wt,s[4]=(C*Zt-v*Ot-P*Mt)*Wt,s[5]=(a*Ot-p*Zt+g*Mt)*Wt,s[6]=(fe*Oe-ee*pt-Te*Ce)*Wt,s[7]=(z*pt-W*Oe+K*Ce)*Wt,s[8]=(v*Lt-w*Zt+P*st)*Wt,s[9]=(d*Zt-a*Lt-g*st)*Wt,s[10]=(ee*Ne-ie*Oe+Te*Fe)*Wt,s[11]=(N*Oe-z*Ne-K*Fe)*Wt,s[12]=(w*Mt-v*yt-C*st)*Wt,s[13]=(a*yt-d*Mt+p*st)*Wt,s[14]=(ie*Ce-ee*Ve-fe*Fe)*Wt,s[15]=(z*Ve-N*Ce+W*Fe)*Wt,s):null}function Xd(s,n,a){var d=n[0],p=n[1],g=n[2],v=n[3],w=n[4],C=n[5],P=n[6],z=n[7],N=n[8],W=n[9],K=n[10],ee=n[11],ie=n[12],fe=n[13],Te=n[14],Fe=n[15],Ce=a[0],Oe=a[1],Ve=a[2],Ne=a[3];return s[0]=Ce*d+Oe*w+Ve*N+Ne*ie,s[1]=Ce*p+Oe*C+Ve*W+Ne*fe,s[2]=Ce*g+Oe*P+Ve*K+Ne*Te,s[3]=Ce*v+Oe*z+Ve*ee+Ne*Fe,s[4]=(Ce=a[4])*d+(Oe=a[5])*w+(Ve=a[6])*N+(Ne=a[7])*ie,s[5]=Ce*p+Oe*C+Ve*W+Ne*fe,s[6]=Ce*g+Oe*P+Ve*K+Ne*Te,s[7]=Ce*v+Oe*z+Ve*ee+Ne*Fe,s[8]=(Ce=a[8])*d+(Oe=a[9])*w+(Ve=a[10])*N+(Ne=a[11])*ie,s[9]=Ce*p+Oe*C+Ve*W+Ne*fe,s[10]=Ce*g+Oe*P+Ve*K+Ne*Te,s[11]=Ce*v+Oe*z+Ve*ee+Ne*Fe,s[12]=(Ce=a[12])*d+(Oe=a[13])*w+(Ve=a[14])*N+(Ne=a[15])*ie,s[13]=Ce*p+Oe*C+Ve*W+Ne*fe,s[14]=Ce*g+Oe*P+Ve*K+Ne*Te,s[15]=Ce*v+Oe*z+Ve*ee+Ne*Fe,s}function C1(s,n,a){var d,p,g,v,w,C,P,z,N,W,K,ee,ie=a[0],fe=a[1],Te=a[2];return n===s?(s[12]=n[0]*ie+n[4]*fe+n[8]*Te+n[12],s[13]=n[1]*ie+n[5]*fe+n[9]*Te+n[13],s[14]=n[2]*ie+n[6]*fe+n[10]*Te+n[14],s[15]=n[3]*ie+n[7]*fe+n[11]*Te+n[15]):(p=n[1],g=n[2],v=n[3],w=n[4],C=n[5],P=n[6],z=n[7],N=n[8],W=n[9],K=n[10],ee=n[11],s[0]=d=n[0],s[1]=p,s[2]=g,s[3]=v,s[4]=w,s[5]=C,s[6]=P,s[7]=z,s[8]=N,s[9]=W,s[10]=K,s[11]=ee,s[12]=d*ie+w*fe+N*Te+n[12],s[13]=p*ie+C*fe+W*Te+n[13],s[14]=g*ie+P*fe+K*Te+n[14],s[15]=v*ie+z*fe+ee*Te+n[15]),s}function Yd(s,n,a){var d=a[0],p=a[1],g=a[2];return s[0]=n[0]*d,s[1]=n[1]*d,s[2]=n[2]*d,s[3]=n[3]*d,s[4]=n[4]*p,s[5]=n[5]*p,s[6]=n[6]*p,s[7]=n[7]*p,s[8]=n[8]*g,s[9]=n[9]*g,s[10]=n[10]*g,s[11]=n[11]*g,s[12]=n[12],s[13]=n[13],s[14]=n[14],s[15]=n[15],s}function Yv(s,n,a){var d=Math.sin(a),p=Math.cos(a),g=n[4],v=n[5],w=n[6],C=n[7],P=n[8],z=n[9],N=n[10],W=n[11];return n!==s&&(s[0]=n[0],s[1]=n[1],s[2]=n[2],s[3]=n[3],s[12]=n[12],s[13]=n[13],s[14]=n[14],s[15]=n[15]),s[4]=g*p+P*d,s[5]=v*p+z*d,s[6]=w*p+N*d,s[7]=C*p+W*d,s[8]=P*p-g*d,s[9]=z*p-v*d,s[10]=N*p-w*d,s[11]=W*p-C*d,s}function k0(s,n,a){var d=Math.sin(a),p=Math.cos(a),g=n[0],v=n[1],w=n[2],C=n[3],P=n[8],z=n[9],N=n[10],W=n[11];return n!==s&&(s[4]=n[4],s[5]=n[5],s[6]=n[6],s[7]=n[7],s[12]=n[12],s[13]=n[13],s[14]=n[14],s[15]=n[15]),s[0]=g*p-P*d,s[1]=v*p-z*d,s[2]=w*p-N*d,s[3]=C*p-W*d,s[8]=g*d+P*p,s[9]=v*d+z*p,s[10]=w*d+N*p,s[11]=C*d+W*p,s}function S6(s,n){return s[0]=n[0],s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=n[1],s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=n[2],s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}function T6(s,n,a){var d,p,g,v=a[0],w=a[1],C=a[2],P=Math.hypot(v,w,C);return P<P0?null:(v*=P=1/P,w*=P,C*=P,d=Math.sin(n),p=Math.cos(n),s[0]=v*v*(g=1-p)+p,s[1]=w*v*g+C*d,s[2]=C*v*g-w*d,s[3]=0,s[4]=v*w*g-C*d,s[5]=w*w*g+p,s[6]=C*w*g+v*d,s[7]=0,s[8]=v*C*g+w*d,s[9]=w*C*g-v*d,s[10]=C*C*g+p,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s)}Math.hypot||(Math.hypot=function(){for(var s=0,n=arguments.length;n--;)s+=arguments[n]*arguments[n];return Math.sqrt(s)});var LD=Xd;function Kv(){var s=new js(3);return js!=Float32Array&&(s[0]=0,s[1]=0,s[2]=0),s}function C6(s){var n=new js(3);return n[0]=s[0],n[1]=s[1],n[2]=s[2],n}function E1(s){return Math.hypot(s[0],s[1],s[2])}function mp(s,n,a){var d=new js(3);return d[0]=s,d[1]=n,d[2]=a,d}function Qc(s,n,a){return s[0]=n[0]+a[0],s[1]=n[1]+a[1],s[2]=n[2]+a[2],s}function Jv(s,n,a){return s[0]=n[0]-a[0],s[1]=n[1]-a[1],s[2]=n[2]-a[2],s}function E6(s,n,a){return s[0]=n[0]*a[0],s[1]=n[1]*a[1],s[2]=n[2]*a[2],s}function P1(s,n,a){return s[0]=Math.min(n[0],a[0]),s[1]=Math.min(n[1],a[1]),s[2]=Math.min(n[2],a[2]),s}function k1(s,n,a){return s[0]=Math.max(n[0],a[0]),s[1]=Math.max(n[1],a[1]),s[2]=Math.max(n[2],a[2]),s}function ma(s,n,a){return s[0]=n[0]*a,s[1]=n[1]*a,s[2]=n[2]*a,s}function M1(s,n,a,d){return s[0]=n[0]+a[0]*d,s[1]=n[1]+a[1]*d,s[2]=n[2]+a[2]*d,s}function cs(s,n){var a=n[0],d=n[1],p=n[2],g=a*a+d*d+p*p;return g>0&&(g=1/Math.sqrt(g)),s[0]=n[0]*g,s[1]=n[1]*g,s[2]=n[2]*g,s}function Ba(s,n){return s[0]*n[0]+s[1]*n[1]+s[2]*n[2]}function Qv(s,n,a){var d=n[0],p=n[1],g=n[2],v=a[0],w=a[1],C=a[2];return s[0]=p*C-g*w,s[1]=g*v-d*C,s[2]=d*w-p*v,s}function $i(s,n,a){var d=n[0],p=n[1],g=n[2],v=a[3]*d+a[7]*p+a[11]*g+a[15];return s[0]=(a[0]*d+a[4]*p+a[8]*g+a[12])/(v=v||1),s[1]=(a[1]*d+a[5]*p+a[9]*g+a[13])/v,s[2]=(a[2]*d+a[6]*p+a[10]*g+a[14])/v,s}function P6(s,n,a){var d=a[0],p=a[1],g=a[2],v=n[0],w=n[1],C=n[2],P=p*C-g*w,z=g*v-d*C,N=d*w-p*v,W=p*N-g*z,K=g*P-d*N,ee=d*z-p*P,ie=2*a[3];return z*=ie,N*=ie,K*=2,ee*=2,s[0]=v+(P*=ie)+(W*=2),s[1]=w+z+K,s[2]=C+N+ee,s}var I1,Tl=Jv,OD=E6,FD=E1;function k6(s,n,a){return s[0]=n[0]*a,s[1]=n[1]*a,s[2]=n[2]*a,s[3]=n[3]*a,s}function M6(s,n){var a=n[0],d=n[1],p=n[2],g=n[3],v=a*a+d*d+p*p+g*g;return v>0&&(v=1/Math.sqrt(v)),s[0]=a*v,s[1]=d*v,s[2]=p*v,s[3]=g*v,s}function Kd(s,n,a){var d=n[0],p=n[1],g=n[2],v=n[3];return s[0]=a[0]*d+a[4]*p+a[8]*g+a[12]*v,s[1]=a[1]*d+a[5]*p+a[9]*g+a[13]*v,s[2]=a[2]*d+a[6]*p+a[10]*g+a[14]*v,s[3]=a[3]*d+a[7]*p+a[11]*g+a[15]*v,s}function I6(){var s=new js(4);return js!=Float32Array&&(s[0]=0,s[1]=0,s[2]=0),s[3]=1,s}function A6(s){return s[0]=0,s[1]=0,s[2]=0,s[3]=1,s}function D6(s,n,a){a*=.5;var d=n[0],p=n[1],g=n[2],v=n[3],w=Math.sin(a),C=Math.cos(a);return s[0]=d*C+v*w,s[1]=p*C+g*w,s[2]=g*C-p*w,s[3]=v*C-d*w,s}function R6(s,n,a){a*=.5;var d=n[0],p=n[1],g=n[2],v=n[3],w=Math.sin(a),C=Math.cos(a);return s[0]=d*C-g*w,s[1]=p*C+v*w,s[2]=g*C+d*w,s[3]=v*C-p*w,s}Kv(),I1=new js(4),js!=Float32Array&&(I1[0]=0,I1[1]=0,I1[2]=0,I1[3]=0);var BD=M6;Kv(),mp(1,0,0),mp(0,1,0),I6(),I6(),b6();const ND=Je([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:z6}=ND,L6=Je([{name:"a_pos_3",components:3,type:"Int16"}]);var A1=Je([{name:"a_pos",type:"Int16",components:2}]);class ex{constructor(n,a){this.pos=n,this.dir=a}intersectsPlane(n,a,d){const p=Ba(a,this.dir);if(Math.abs(p)<1e-6)return!1;const g=((n[0]-this.pos[0])*a[0]+(n[1]-this.pos[1])*a[1]+(n[2]-this.pos[2])*a[2])/p;return d[0]=this.pos[0]+this.dir[0]*g,d[1]=this.pos[1]+this.dir[1]*g,d[2]=this.pos[2]+this.dir[2]*g,!0}closestPointOnSphere(n,a,d){if(function(K,ee){var ie=K[0],fe=K[1],Te=K[2],Fe=ee[0],Ce=ee[1],Oe=ee[2];return Math.abs(ie-Fe)<=P0*Math.max(1,Math.abs(ie),Math.abs(Fe))&&Math.abs(fe-Ce)<=P0*Math.max(1,Math.abs(fe),Math.abs(Ce))&&Math.abs(Te-Oe)<=P0*Math.max(1,Math.abs(Te),Math.abs(Oe))}(this.pos,n)||a===0)return d[0]=d[1]=d[2]=0,!1;const[p,g,v]=this.dir,w=this.pos[0]-n[0],C=this.pos[1]-n[1],P=this.pos[2]-n[2],z=p*p+g*g+v*v,N=2*(w*p+C*g+P*v),W=N*N-4*z*(w*w+C*C+P*P-a*a);if(W<0){const K=Math.max(-N/2,0),ee=w+p*K,ie=C+g*K,fe=P+v*K,Te=Math.hypot(ee,ie,fe);return d[0]=ee*a/Te,d[1]=ie*a/Te,d[2]=fe*a/Te,!1}{const K=(-N-Math.sqrt(W))/(2*z);if(K<0){const ee=Math.hypot(w,C,P);return d[0]=w*a/ee,d[1]=C*a/ee,d[2]=P*a/ee,!1}return d[0]=w+p*K,d[1]=C+g*K,d[2]=P+v*K,!0}}}class tx{constructor(n,a,d,p,g){this.TL=n,this.TR=a,this.BR=d,this.BL=p,this.horizon=g}static fromInvProjectionMatrix(n,a,d){const p=[-1,1,1],g=[1,1,1],v=[1,-1,1],w=[-1,-1,1],C=$i(p,p,n),P=$i(g,g,n),z=$i(v,v,n),N=$i(w,w,n);return new tx(C,P,z,N,a/d)}}class nx{constructor(n,a){this.points=n,this.planes=a}static fromInvProjectionMatrix(n,a,d,p){const g=Math.pow(2,d),v=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(C=>{const P=Kd([],C,n),z=1/P[3]/a*g;return function(N,W,K){return N[0]=W[0]*K[0],N[1]=W[1]*K[1],N[2]=W[2]*K[2],N[3]=W[3]*K[3],N}(P,P,[z,z,p?1/P[3]:z,z])}),w=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(C=>{const P=cs([],Qv([],Tl([],v[C[0]],v[C[1]]),Tl([],v[C[2]],v[C[1]]))),z=-Ba(P,v[C[1]]);return P.concat(z)});return new nx(v,w)}}class us{static fromPoints(n){const a=[1/0,1/0,1/0],d=[-1/0,-1/0,-1/0];for(const p of n)P1(a,a,p),k1(d,d,p);return new us(a,d)}static applyTransform(n,a){const d=n.getCorners();for(let p=0;p<d.length;++p)$i(d[p],d[p],a);return us.fromPoints(d)}constructor(n,a){this.min=n,this.max=a,this.center=ma([],Qc([],this.min,this.max),.5)}quadrant(n){const a=[n%2==0,n<2],d=C6(this.min),p=C6(this.max);for(let g=0;g<a.length;g++)d[g]=a[g]?this.min[g]:this.center[g],p[g]=a[g]?this.center[g]:this.max[g];return p[2]=this.max[2],new us(d,p)}distanceX(n){return Math.max(Math.min(this.max[0],n[0]),this.min[0])-n[0]}distanceY(n){return Math.max(Math.min(this.max[1],n[1]),this.min[1])-n[1]}distanceZ(n){return Math.max(Math.min(this.max[2],n[2]),this.min[2])-n[2]}getCorners(){const n=this.min,a=this.max;return[[n[0],n[1],n[2]],[a[0],n[1],n[2]],[a[0],a[1],n[2]],[n[0],a[1],n[2]],[n[0],n[1],a[2]],[a[0],n[1],a[2]],[a[0],a[1],a[2]],[n[0],a[1],a[2]]]}intersects(n){const a=this.getCorners();let d=!0;for(let p=0;p<n.planes.length;p++){const g=n.planes[p];let v=0;for(let w=0;w<a.length;w++)v+=Ba(g,a[w])+g[3]>=0;if(v===0)return 0;v!==a.length&&(d=!1)}if(d)return 2;for(let p=0;p<3;p++){let g=Number.MAX_VALUE,v=-Number.MAX_VALUE;for(let w=0;w<n.points.length;w++){const C=n.points[w][p]-this.min[p];g=Math.min(g,C),v=Math.max(v,C)}if(v<0||g>this.max[p]-this.min[p])return 0}return 1}}const rx=5,O6=6,rc=Un/Math.PI/2,$D=16383,Jd=64,D1=[Jd,32,16],Na=-rc,$a=rc,jD=[new us([Na,Na,Na],[$a,$a,$a]),new us([Na,Na,Na],[0,0,$a]),new us([0,Na,Na],[$a,0,$a]),new us([Na,0,Na],[0,$a,$a]),new us([0,0,Na],[$a,$a,$a])];function M0(s){return s*rc/L1}function F6(s,n,a,d=!0){const p=ma([],s._camera.position,s.worldSize),g=[n,a,1,1];Kd(g,g,s.pixelMatrixInverse),k6(g,g,1/g[3]);const v=cs([],Tl([],g,p)),w=s.globeMatrix,C=[w[12],w[13],w[14]],P=Tl([],C,p),z=E1(P),N=cs([],P),W=s.worldSize/(2*Math.PI),K=Ba(N,v),ee=Math.asin(W/z);if(ee<Math.acos(K)){if(!d)return null;const Zt=[],yt=[];ma(Zt,v,z/K),cs(yt,Tl(yt,Zt,P)),cs(v,Qc(v,P,ma(v,yt,Math.tan(ee)*z)))}const ie=[];new ex(p,v).closestPointOnSphere(C,W,ie);const fe=cs([],Zn(w,0)),Te=cs([],Zn(w,1)),Fe=cs([],Zn(w,2)),Ce=Ba(fe,ie),Oe=Ba(Te,ie),Ve=Ba(Fe,ie),Ne=_e(Math.asin(-Oe/W));let pt=_e(Math.atan2(Ce,Ve));pt=s.center.lng+function(Zt,yt){const Lt=(yt-Zt+180)%360-180;return Lt<-180?Lt+360:Lt}(s.center.lng,pt);const st=oc(pt),Mt=Me(sc(Ne),0,1);return new vp(st,Mt)}class VD{constructor(n,a,d){this.a=Tl([],n,d),this.b=Tl([],a,d),this.center=d;const p=cs([],this.a),g=cs([],this.b);this.angle=Math.acos(Ba(p,g))}}function ix(s,n){if(s.angle===0)return null;let a;return a=s.a[n]===0?1/s.angle*.5*Math.PI:1/s.angle*Math.atan(s.b[n]/s.a[n]/Math.sin(s.angle)-1/Math.tan(s.angle)),a<0||a>1?null:function(d,p,g,v){const w=Math.sin(g);return d*(Math.sin((1-v)*g)/w)+p*(Math.sin(v*g)/w)}(s.a[n],s.b[n],s.angle,Me(a,0,1))+s.center[n]}function ic(s){if(s.z<=1)return jD[s.z+2*s.y+s.x];const n=ox(I0(s));return us.fromPoints(n)}function Qd(s,n,a){return ma(s,s,1-a),M1(s,s,n,a)}function B6(s,n){const a=_p(n.zoom);if(a===0)return ic(s);const d=I0(s),p=ox(d),g=oc(d.getWest())*n.worldSize,v=oc(d.getEast())*n.worldSize,w=sc(d.getNorth())*n.worldSize,C=sc(d.getSouth())*n.worldSize,P=[g,w,0],z=[v,w,0],N=[g,C,0],W=[v,C,0],K=Xv([],n.globeMatrix);return $i(P,P,K),$i(z,z,K),$i(N,N,K),$i(W,W,K),p[0]=Qd(p[0],N,a),p[1]=Qd(p[1],W,a),p[2]=Qd(p[2],z,a),p[3]=Qd(p[3],P,a),us.fromPoints(p)}function N6(s,n,a){for(const d of s)$i(d,d,n),ma(d,d,a)}function UD(s,n,a){const d=n/s.worldSize,p=s.globeMatrix;if(a.z<=1){const st=ic(a).getCorners();return N6(st,p,d),us.fromPoints(st)}const g=I0(a),v=ox(g);N6(v,p,d);const w=Number.MAX_VALUE,C=[-w,-w,-w],P=[w,w,w];if(g.contains(s.center)){for(const Zt of v)P1(P,P,Zt),k1(C,C,Zt);C[2]=0;const st=s.point,Mt=[st.x*d,st.y*d,0];return P1(P,P,Mt),k1(C,C,Mt),new us(P,C)}const z=[p[12]*d,p[13]*d,p[14]*d],N=g.getCenter(),W=Me(s.center.lat,-Uo,Uo),K=Me(N.lat,-Uo,Uo),ee=oc(s.center.lng),ie=sc(W);let fe=ee-oc(N.lng);const Te=ie-sc(K);fe>.5?fe-=1:fe<-.5&&(fe+=1);let Fe=0;Math.abs(fe)>Math.abs(Te)?Fe=fe>=0?1:3:(Fe=Te>=0?0:2,M1(z,z,[p[4]*d,p[5]*d,p[6]*d],-Math.sin($e(Te>=0?g.getSouth():g.getNorth()))*rc));const Ce=v[Fe],Oe=v[(Fe+1)%4],Ve=new VD(Ce,Oe,z),Ne=[ix(Ve,0)||Ce[0],ix(Ve,1)||Ce[1],ix(Ve,2)||Ce[2]],pt=_p(s.zoom);if(pt>0){const st=function({x:Zt,y:yt,z:Lt},Ot,Wt,en,kt){const fn=1/(1<<Lt);let Mn=Zt*fn,gn=Mn+fn,lr=yt*fn,tn=lr+fn,Bn=0;const cr=(Mn+gn)/2-en;return cr>.5?Bn=-1:cr<-.5&&(Bn=1),Mn=((Mn+Bn)*Ot-(en*=Ot))*Wt+en,gn=((gn+Bn)*Ot-en)*Wt+en,lr=(lr*Ot-(kt*=Ot))*Wt+kt,tn=(tn*Ot-kt)*Wt+kt,[[Mn,tn,0],[gn,tn,0],[gn,lr,0],[Mn,lr,0]]}(a,n,s._pixelsPerMercatorPixel,ee,ie);for(let Zt=0;Zt<v.length;Zt++)Qd(v[Zt],st[Zt],pt);const Mt=Qc([],st[Fe],st[(Fe+1)%4]);ma(Mt,Mt,.5),Qd(Ne,Mt,pt)}for(const st of v)P1(P,P,st),k1(C,C,st);return P[2]=Math.min(Ce[2],Oe[2]),P1(P,P,Ne),k1(C,C,Ne),new us(P,C)}function I0({x:s,y:n,z:a}){const d=1/(1<<a),p=new Yr(ga(s*d),Vo((n+1)*d)),g=new Yr(ga((s+1)*d),Vo(n*d));return new $u(p,g)}function ox(s){const n=$e(s.getNorth()),a=$e(s.getSouth()),d=Math.cos(n),p=Math.cos(a),g=Math.sin(n),v=Math.sin(a),w=s.getWest(),C=s.getEast();return[gp(p,v,w),gp(p,v,C),gp(d,g,C),gp(d,g,w)]}function gp(s,n,a,d=rc){return a=$e(a),[s*Math.sin(a)*d,-n*d,s*Math.cos(a)*d]}function yp(s,n,a){return gp(Math.cos($e(s)),Math.sin($e(s)),n,a)}function R1(s,n,a,d){const p=1<<a.z,g=(s/Un+a.x)/p;return yp(Vo((n/Un+a.y)/p),ga(g),d)}function A0({min:s,max:n}){return $D/Math.max(n[0]-s[0],n[1]-s[1],n[2]-s[2])}const $6=new Float64Array(16);function z1(s){const n=A0(s),a=S6($6,[n,n,n]);return C1(a,a,((d=[])[0]=-(p=s.min)[0],d[1]=-p[1],d[2]=-p[2],d));var d,p}function sx(s){const n=(d=s.min,(a=$6)[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=d[0],a[13]=d[1],a[14]=d[2],a[15]=1,a);var a,d;const p=1/A0(s);return Yd(n,n,[p,p,p])}function j6(s,n,a,d,p){const g=function(C){const P=Un/(2*Math.PI);return C/(2*Math.PI)/P}(a),v=[s,n,-a/(2*Math.PI)],w=Sl(new Float64Array(16));return C1(w,w,v),Yd(w,w,[g,g,g]),Yv(w,w,$e(-p)),k0(w,w,$e(-d)),w}function _p(s){return Le(rx,O6,s)}function V6(s,n){const a=yp(n.lat,n.lng),d=function(ee){const ie=yp(ee._center.lat,ee._center.lng);let fe=Qv([],mp(0,1,0),ie);const Te=T6([],-ee.angle,ie);fe=$i(fe,fe,Te),T6(Te,-ee._pitch,fe);const Fe=cs([],ie);return ma(Fe,Fe,M0(ee.cameraToCenterDistance/ee.pixelsPerMeter)),$i(Fe,Fe,Te),Qc([],ie,Fe)}(s);return v=(p=Jv([],d,a))[0],w=p[1],C=p[2],P=(g=a)[0],z=g[1],N=g[2],K=(W=Math.sqrt(v*v+w*w+C*C)*Math.sqrt(P*P+z*z+N*N))&&Ba(p,g)/W,Math.acos(Math.min(Math.max(K,-1),1));var p,g,v,w,C,P,z,N,W,K}function ax(s,n){return V6(s,n)>Math.PI/2*1.01}const U6=$e(85),WD=Math.cos(U6),HD=Math.sin(U6),L1=63710088e-1,W6=2*Math.PI*L1;class ju{constructor(n,a){if(isNaN(n)||isNaN(a))throw new Error(`Invalid LngLat object: (${n}, ${a})`);if(this.lng=+n,this.lat=+a,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new ju(qe(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(n){const a=Math.PI/180,d=this.lat*a,p=n.lat*a,g=Math.sin(d)*Math.sin(p)+Math.cos(d)*Math.cos(p)*Math.cos((n.lng-this.lng)*a);return L1*Math.acos(Math.min(g,1))}toBounds(n=0){const a=360*n/40075017,d=a/Math.cos(Math.PI/180*this.lat);return new $u(new ju(this.lng-d,this.lat-a),new ju(this.lng+d,this.lat+a))}toEcef(n){const a=M0(n);return yp(this.lat,this.lng,rc+a)}static convert(n){if(n instanceof ju)return n;if(Array.isArray(n)&&(n.length===2||n.length===3))return new ju(Number(n[0]),Number(n[1]));if(!Array.isArray(n)&&typeof n=="object"&&n!==null)return new ju(Number("lng"in n?n.lng:n.lon),Number(n.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}var Yr=ju;function lx(s){return W6*Math.cos(s*Math.PI/180)}function oc(s){return(180+s)/360}function sc(s){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+s*Math.PI/360)))/360}function Cl(s,n){return s/lx(n)}function ga(s){return 360*s-180}function Vo(s){return 360/Math.PI*Math.atan(Math.exp((180-360*s)*Math.PI/180))-90}function H6(s,n){return s*lx(Vo(n))}const Uo=85.051129;function G6(s){return 1/Math.cos(s*Math.PI/180)}class vp{constructor(n,a,d=0){this.x=+n,this.y=+a,this.z=+d}static fromLngLat(n,a=0){const d=Yr.convert(n);return new vp(oc(d.lng),sc(d.lat),Cl(a,d.lat))}toLngLat(){return new Yr(ga(this.x),Vo(this.y))}toAltitude(){return H6(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/W6*G6(Vo(this.y))}}function cx(s,n,a,d,p,g,v,w,C){const P=(n+d)/2,z=(a+p)/2,N=new ce(P,z);w(N),function(W,K,ee,ie,fe,Te){const Fe=ee-fe,Ce=ie-Te;return Math.abs((ie-K)*Fe-(ee-W)*Ce)/Math.hypot(Fe,Ce)}(N.x,N.y,g.x,g.y,v.x,v.y)>=C?(cx(s,n,a,P,z,g,N,w,C),cx(s,P,z,d,p,N,v,w,C)):s.push(v)}function q6(s,n,a){let d=s[0],p=d.x,g=d.y;n(d);const v=[d];for(let w=1;w<s.length;w++){const C=s[w],{x:P,y:z}=C;n(C),cx(v,p,g,P,z,d,C,n,a),p=P,g=z,d=C}return v}function ux(s,n,a,d){if(d(n,a)){const p=n.add(a)._mult(.5);ux(s,n,p,d),ux(s,p,a,d)}else s.push(a)}function GD(s,n){let a=s[0];const d=[a];for(let p=1;p<s.length;p++){const g=s[p];ux(d,a,g,n),a=g}return d}const dx=Math.pow(2,14)-1,Z6=-dx-1;function qD(s,n){const a=Math.round(s.x*n),d=Math.round(s.y*n);return s.x=Me(a,Z6,dx),s.y=Me(d,Z6,dx),(a<s.x||a>s.x+1||d<s.y||d>s.y+1)&&rt("Geometry exceeds allowed extent, reduce your vector tile buffer size"),s}function eu(s,n,a){const d=s.loadGeometry(),p=s.extent,g=Un/p;if(n&&a&&a.projection.isReprojectedInTileSpace){const v=1<<n.z,{scale:w,x:C,y:P,projection:z}=a,N=W=>{const K=ga((n.x+W.x/p)/v),ee=Vo((n.y+W.y/p)/v),ie=z.project(K,ee);W.x=(ie.x*w-C)*p,W.y=(ie.y*w-P)*p};for(let W=0;W<d.length;W++)if(s.type!==1)d[W]=q6(d[W],N,1);else{const K=[];for(const ee of d[W])ee.x<0||ee.x>=p||ee.y<0||ee.y>=p||(N(ee),K.push(ee));d[W]=K}}for(const v of d)for(const w of v)qD(w,g);return d}function eh(s,n){return{type:s.type,id:s.id,properties:s.properties,geometry:n?eu(s):[]}}function D0(s,n,a,d,p){s.emplaceBack(2*n+(d+1)/2,2*a+(p+1)/2)}function R0(s,n,a){s.emplaceBack(n.x,n.y,n.z,a[0]*16384,a[1]*16384,a[2]*16384)}class hx{constructor(n){this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(a=>a.id),this.index=n.index,this.hasPattern=!1,this.projection=n.projection,this.layoutVertexArray=new qt,this.indexArray=new Ln,this.segments=new Gi,this.programConfigurations=new Zd(n.layers,n.zoom),this.stateDependentLayerIds=this.layers.filter(a=>a.isStateDependent()).map(a=>a.id)}populate(n,a,d,p){const g=this.layers[0],v=[];let w=null;g.type==="circle"&&(w=g.layout.get("circle-sort-key"));for(const{feature:P,id:z,index:N,sourceLayerIndex:W}of n){const K=this.layers[0]._featureFilter.needGeometry,ee=eh(P,K);if(!this.layers[0]._featureFilter.filter(new O(this.zoom),ee,d))continue;const ie=w?w.evaluate(ee,{},d):void 0,fe={id:z,properties:P.properties,type:P.type,sourceLayerIndex:W,index:N,geometry:K?ee.geometry:eu(P,d,p),patterns:{},sortKey:ie};v.push(fe)}w&&v.sort((P,z)=>P.sortKey-z.sortKey);let C=null;p.projection.name==="globe"&&(this.globeExtVertexArray=new Yt,C=p.projection);for(const P of v){const{geometry:z,index:N,sourceLayerIndex:W}=P,K=n[N].feature;this.addFeature(P,z,N,a.availableImages,d,C),a.featureIndex.insert(K,z,N,W,this.index)}}update(n,a,d,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(n,a,this.stateDependentLayers,d,p)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,RD.members),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=n.createVertexBuffer(this.globeExtVertexArray,zD.members))),this.programConfigurations.upload(n),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(n,a,d,p,g,v){for(const w of a)for(const C of w){const P=C.x,z=C.y;if(P<0||P>=Un||z<0||z>=Un)continue;if(v){const K=v.projectTilePoint(P,z,g),ee=v.upVector(g,P,z),ie=this.globeExtVertexArray;R0(ie,K,ee),R0(ie,K,ee),R0(ie,K,ee),R0(ie,K,ee)}const N=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,n.sortKey),W=N.vertexLength;D0(this.layoutVertexArray,P,z,-1,-1),D0(this.layoutVertexArray,P,z,1,-1),D0(this.layoutVertexArray,P,z,1,1),D0(this.layoutVertexArray,P,z,-1,1),this.indexArray.emplaceBack(W,W+1,W+2),this.indexArray.emplaceBack(W,W+2,W+3),N.vertexLength+=4,N.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,d,{},p,g)}}function X6(s,n){for(let a=0;a<s.length;a++)if(th(n,s[a]))return!0;for(let a=0;a<n.length;a++)if(th(s,n[a]))return!0;return!!px(s,n)}function ZD(s,n,a){return!!th(s,n)||!!fx(n,s,a)}function Y6(s,n){if(s.length===1)return J6(n,s[0]);for(let a=0;a<n.length;a++){const d=n[a];for(let p=0;p<d.length;p++)if(th(s,d[p]))return!0}for(let a=0;a<s.length;a++)if(J6(n,s[a]))return!0;for(let a=0;a<n.length;a++)if(px(s,n[a]))return!0;return!1}function XD(s,n,a){if(s.length>1){if(px(s,n))return!0;for(let d=0;d<n.length;d++)if(fx(n[d],s,a))return!0}for(let d=0;d<s.length;d++)if(fx(s[d],n,a))return!0;return!1}function px(s,n){if(s.length===0||n.length===0)return!1;for(let a=0;a<s.length-1;a++){const d=s[a],p=s[a+1];for(let g=0;g<n.length-1;g++)if(YD(d,p,n[g],n[g+1]))return!0}return!1}function YD(s,n,a,d){return an(s,a,d)!==an(n,a,d)&&an(s,n,a)!==an(s,n,d)}function fx(s,n,a){const d=a*a;if(n.length===1)return s.distSqr(n[0])<d;for(let p=1;p<n.length;p++)if(K6(s,n[p-1],n[p])<d)return!0;return!1}function K6(s,n,a){const d=n.distSqr(a);if(d===0)return s.distSqr(n);const p=((s.x-n.x)*(a.x-n.x)+(s.y-n.y)*(a.y-n.y))/d;return s.distSqr(p<0?n:p>1?a:a.sub(n)._mult(p)._add(n))}function J6(s,n){let a,d,p,g=!1;for(let v=0;v<s.length;v++){a=s[v];for(let w=0,C=a.length-1;w<a.length;C=w++)d=a[w],p=a[C],d.y>n.y!=p.y>n.y&&n.x<(p.x-d.x)*(n.y-d.y)/(p.y-d.y)+d.x&&(g=!g)}return g}function th(s,n){let a=!1;for(let d=0,p=s.length-1;d<s.length;p=d++){const g=s[d],v=s[p];g.y>n.y!=v.y>n.y&&n.x<(v.x-g.x)*(n.y-g.y)/(v.y-g.y)+g.x&&(a=!a)}return a}function Q6(s,n,a,d,p){for(const v of s)if(n<=v.x&&a<=v.y&&d>=v.x&&p>=v.y)return!0;const g=[new ce(n,a),new ce(n,p),new ce(d,p),new ce(d,a)];if(s.length>2){for(const v of g)if(th(s,v))return!0}for(let v=0;v<s.length-1;v++)if(KD(s[v],s[v+1],g))return!0;return!1}function KD(s,n,a){const d=a[0],p=a[2];if(s.x<d.x&&n.x<d.x||s.x>p.x&&n.x>p.x||s.y<d.y&&n.y<d.y||s.y>p.y&&n.y>p.y)return!1;const g=an(s,n,a[0]);return g!==an(s,n,a[1])||g!==an(s,n,a[2])||g!==an(s,n,a[3])}function xp(s,n,a){const d=n.paint.get(s).value;return d.kind==="constant"?d.value:a.programConfigurations.get(n.id).getMaxValue(s)}function z0(s){return Math.sqrt(s[0]*s[0]+s[1]*s[1])}function e7(s,n,a,d,p){if(!n[0]&&!n[1])return s;const g=ce.convert(n)._mult(p);a==="viewport"&&g._rotate(-d);const v=[];for(let w=0;w<s.length;w++)v.push(s[w].sub(g));return v}function t7(s,n,a,d){const p=ce.convert(s)._mult(d);return n==="viewport"&&p._rotate(-a),p}Sn(hx,"CircleBucket",{omit:["layers"]});const JD=new Ae({"circle-sort-key":new ge(Pt.layout_circle["circle-sort-key"])});var QD={paint:new Ae({"circle-radius":new ge(Pt.paint_circle["circle-radius"]),"circle-color":new ge(Pt.paint_circle["circle-color"]),"circle-blur":new ge(Pt.paint_circle["circle-blur"]),"circle-opacity":new ge(Pt.paint_circle["circle-opacity"]),"circle-translate":new re(Pt.paint_circle["circle-translate"]),"circle-translate-anchor":new re(Pt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new re(Pt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new re(Pt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new ge(Pt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new ge(Pt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new ge(Pt.paint_circle["circle-stroke-opacity"])}),layout:JD};function n7(s,n,a,d,p,g,v,w,C){if(g&&s.queryGeometry.isAboveHorizon)return!1;g&&(C*=s.pixelToTileUnitsFactor);const P=s.tileID.canonical,z=a.projection.upVectorScale(P,a.center.lat,a.worldSize).metersToTile;for(const N of n)for(const W of N){const K=W.add(w),ee=p&&a.elevation?a.elevation.exaggeration()*p.getElevationAt(K.x,K.y,!0):0,ie=a.projection.projectTilePoint(K.x,K.y,P);if(ee>0){const Ce=a.projection.upVector(P,K.x,K.y);ie.x+=Ce[0]*z*ee,ie.y+=Ce[1]*z*ee,ie.z+=Ce[2]*z*ee}const fe=g?K:eR(ie.x,ie.y,ie.z,d),Te=g?s.tilespaceRays.map(Ce=>nR(Ce,ee)):s.queryGeometry.screenGeometry,Fe=Kd([],[ie.x,ie.y,ie.z,1],d);if(!v&&g?C*=Fe[3]/a.cameraToCenterDistance:v&&!g&&(C*=a.cameraToCenterDistance/Fe[3]),g){const Ce=Vo((W.y/Un+P.y)/(1<<P.z));C/=a.projection.pixelsPerMeter(Ce,1)/Cl(1,Ce)}if(ZD(Te,fe,C))return!0}return!1}function eR(s,n,a,d){const p=Kd([],[s,n,a,1],d);return new ce(p[0]/p[3],p[1]/p[3])}const r7=mp(0,0,0),tR=mp(0,0,1);function nR(s,n){const a=Kv();return r7[2]=n,s.intersectsPlane(r7,tR,a),new ce(a[0],a[1])}class i7 extends hx{}function o7(s,{width:n,height:a},d,p){if(p){if(p instanceof Uint8ClampedArray)p=new Uint8Array(p.buffer);else if(p.length!==n*a*d)throw new RangeError("mismatched image size")}else p=new Uint8Array(n*a*d);return s.width=n,s.height=a,s.data=p,s}function s7(s,n,a){const{width:d,height:p}=n;d===s.width&&p===s.height||(mx(s,n,{x:0,y:0},{x:0,y:0},{width:Math.min(s.width,d),height:Math.min(s.height,p)},a),s.width=d,s.height=p,s.data=n.data)}function mx(s,n,a,d,p,g){if(p.width===0||p.height===0)return n;if(p.width>s.width||p.height>s.height||a.x>s.width-p.width||a.y>s.height-p.height)throw new RangeError("out of range source coordinates for image copy");if(p.width>n.width||p.height>n.height||d.x>n.width-p.width||d.y>n.height-p.height)throw new RangeError("out of range destination coordinates for image copy");const v=s.data,w=n.data;for(let C=0;C<p.height;C++){const P=((a.y+C)*s.width+a.x)*g,z=((d.y+C)*n.width+d.x)*g;for(let N=0;N<p.width*g;N++)w[z+N]=v[P+N]}return n}Sn(i7,"HeatmapBucket",{omit:["layers"]});class tu{constructor(n,a){o7(this,n,1,a)}resize(n){s7(this,new tu(n),1)}clone(){return new tu({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(n,a,d,p,g){mx(n,a,d,p,g,1)}}class Vs{constructor(n,a){o7(this,n,4,a)}resize(n){s7(this,new Vs(n),4)}replace(n,a){a?this.data.set(n):this.data=n instanceof Uint8ClampedArray?new Uint8Array(n.buffer):n}clone(){return new Vs({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(n,a,d,p,g){mx(n,a,d,p,g,4)}}Sn(tu,"AlphaImage"),Sn(Vs,"RGBAImage");var rR={paint:new Ae({"heatmap-radius":new ge(Pt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new ge(Pt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new re(Pt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Ie(Pt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new re(Pt.paint_heatmap["heatmap-opacity"])})};function gx(s){const n={},a=s.resolution||256,d=s.clips?s.clips.length:1,p=s.image||new Vs({width:a,height:d}),g=(v,w,C)=>{n[s.evaluationKey]=C;const P=s.expression.evaluate(n);p.data[v+w+0]=Math.floor(255*P.r/P.a),p.data[v+w+1]=Math.floor(255*P.g/P.a),p.data[v+w+2]=Math.floor(255*P.b/P.a),p.data[v+w+3]=Math.floor(255*P.a)};if(s.clips)for(let v=0,w=0;v<d;++v,w+=4*a)for(let C=0,P=0;C<a;C++,P+=4){const z=C/(a-1),{start:N,end:W}=s.clips[v];g(w,P,N*(1-z)+W*z)}else for(let v=0,w=0;v<a;v++,w+=4)g(0,w,v/(a-1));return p}var iR={paint:new Ae({"hillshade-illumination-direction":new re(Pt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new re(Pt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new re(Pt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new re(Pt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new re(Pt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new re(Pt.paint_hillshade["hillshade-accent-color"])})};const oR=Je([{name:"a_pos",components:2,type:"Int16"}],4),{members:sR}=oR;var yx={exports:{}};function L0(s,n,a){a=a||2;var d,p,g,v,w,C,P,z=n&&n.length,N=z?n[0]*a:s.length,W=a7(s,0,N,a,!0),K=[];if(!W||W.next===W.prev)return K;if(z&&(W=function(ie,fe,Te,Fe){var Ce,Oe,Ve,Ne=[];for(Ce=0,Oe=fe.length;Ce<Oe;Ce++)(Ve=a7(ie,fe[Ce]*Fe,Ce<Oe-1?fe[Ce+1]*Fe:ie.length,Fe,!1))===Ve.next&&(Ve.steiner=!0),Ne.push(fR(Ve));for(Ne.sort(dR),Ce=0;Ce<Ne.length;Ce++)Te=hR(Ne[Ce],Te);return Te}(s,n,W,a)),s.length>80*a){d=g=s[0],p=v=s[1];for(var ee=a;ee<N;ee+=a)(w=s[ee])<d&&(d=w),(C=s[ee+1])<p&&(p=C),w>g&&(g=w),C>v&&(v=C);P=(P=Math.max(g-d,v-p))!==0?32767/P:0}return O1(W,K,a,d,p,P,0),K}function a7(s,n,a,d,p){var g,v;if(p===xx(s,n,a,d)>0)for(g=n;g<a;g+=d)v=u7(g,s[g],s[g+1],v);else for(g=a-d;g>=n;g-=d)v=u7(g,s[g],s[g+1],v);return v&&O0(v,v.next)&&(B1(v),v=v.next),v}function nh(s,n){if(!s)return s;n||(n=s);var a,d=s;do if(a=!1,d.steiner||!O0(d,d.next)&&qi(d.prev,d,d.next)!==0)d=d.next;else{if(B1(d),(d=n=d.prev)===d.next)break;a=!0}while(a||d!==n);return n}function O1(s,n,a,d,p,g,v){if(s){!v&&g&&function(z,N,W,K){var ee=z;do ee.z===0&&(ee.z=_x(ee.x,ee.y,N,W,K)),ee.prevZ=ee.prev,ee.nextZ=ee.next,ee=ee.next;while(ee!==z);ee.prevZ.nextZ=null,ee.prevZ=null,function(ie){var fe,Te,Fe,Ce,Oe,Ve,Ne,pt,st=1;do{for(Te=ie,ie=null,Oe=null,Ve=0;Te;){for(Ve++,Fe=Te,Ne=0,fe=0;fe<st&&(Ne++,Fe=Fe.nextZ);fe++);for(pt=st;Ne>0||pt>0&&Fe;)Ne!==0&&(pt===0||!Fe||Te.z<=Fe.z)?(Ce=Te,Te=Te.nextZ,Ne--):(Ce=Fe,Fe=Fe.nextZ,pt--),Oe?Oe.nextZ=Ce:ie=Ce,Ce.prevZ=Oe,Oe=Ce;Te=Fe}Oe.nextZ=null,st*=2}while(Ve>1)}(ee)}(s,d,p,g);for(var w,C,P=s;s.prev!==s.next;)if(w=s.prev,C=s.next,g?lR(s,d,p,g):aR(s))n.push(w.i/a|0),n.push(s.i/a|0),n.push(C.i/a|0),B1(s),s=C.next,P=C.next;else if((s=C)===P){v?v===1?O1(s=cR(nh(s),n,a),n,a,d,p,g,2):v===2&&uR(s,n,a,d,p,g):O1(nh(s),n,a,d,p,g,1);break}}}function aR(s){var n=s.prev,a=s,d=s.next;if(qi(n,a,d)>=0)return!1;for(var p=n.x,g=a.x,v=d.x,w=n.y,C=a.y,P=d.y,z=p<g?p<v?p:v:g<v?g:v,N=w<C?w<P?w:P:C<P?C:P,W=p>g?p>v?p:v:g>v?g:v,K=w>C?w>P?w:P:C>P?C:P,ee=d.next;ee!==n;){if(ee.x>=z&&ee.x<=W&&ee.y>=N&&ee.y<=K&&bp(p,w,g,C,v,P,ee.x,ee.y)&&qi(ee.prev,ee,ee.next)>=0)return!1;ee=ee.next}return!0}function lR(s,n,a,d){var p=s.prev,g=s,v=s.next;if(qi(p,g,v)>=0)return!1;for(var w=p.x,C=g.x,P=v.x,z=p.y,N=g.y,W=v.y,K=w<C?w<P?w:P:C<P?C:P,ee=z<N?z<W?z:W:N<W?N:W,ie=w>C?w>P?w:P:C>P?C:P,fe=z>N?z>W?z:W:N>W?N:W,Te=_x(K,ee,n,a,d),Fe=_x(ie,fe,n,a,d),Ce=s.prevZ,Oe=s.nextZ;Ce&&Ce.z>=Te&&Oe&&Oe.z<=Fe;){if(Ce.x>=K&&Ce.x<=ie&&Ce.y>=ee&&Ce.y<=fe&&Ce!==p&&Ce!==v&&bp(w,z,C,N,P,W,Ce.x,Ce.y)&&qi(Ce.prev,Ce,Ce.next)>=0||(Ce=Ce.prevZ,Oe.x>=K&&Oe.x<=ie&&Oe.y>=ee&&Oe.y<=fe&&Oe!==p&&Oe!==v&&bp(w,z,C,N,P,W,Oe.x,Oe.y)&&qi(Oe.prev,Oe,Oe.next)>=0))return!1;Oe=Oe.nextZ}for(;Ce&&Ce.z>=Te;){if(Ce.x>=K&&Ce.x<=ie&&Ce.y>=ee&&Ce.y<=fe&&Ce!==p&&Ce!==v&&bp(w,z,C,N,P,W,Ce.x,Ce.y)&&qi(Ce.prev,Ce,Ce.next)>=0)return!1;Ce=Ce.prevZ}for(;Oe&&Oe.z<=Fe;){if(Oe.x>=K&&Oe.x<=ie&&Oe.y>=ee&&Oe.y<=fe&&Oe!==p&&Oe!==v&&bp(w,z,C,N,P,W,Oe.x,Oe.y)&&qi(Oe.prev,Oe,Oe.next)>=0)return!1;Oe=Oe.nextZ}return!0}function cR(s,n,a){var d=s;do{var p=d.prev,g=d.next.next;!O0(p,g)&&l7(p,d,d.next,g)&&F1(p,g)&&F1(g,p)&&(n.push(p.i/a|0),n.push(d.i/a|0),n.push(g.i/a|0),B1(d),B1(d.next),d=s=g),d=d.next}while(d!==s);return nh(d)}function uR(s,n,a,d,p,g){var v=s;do{for(var w=v.next.next;w!==v.prev;){if(v.i!==w.i&&mR(v,w)){var C=c7(v,w);return v=nh(v,v.next),C=nh(C,C.next),O1(v,n,a,d,p,g,0),void O1(C,n,a,d,p,g,0)}w=w.next}v=v.next}while(v!==s)}function dR(s,n){return s.x-n.x}function hR(s,n){var a=function(p,g){var v,w=g,C=p.x,P=p.y,z=-1/0;do{if(P<=w.y&&P>=w.next.y&&w.next.y!==w.y){var N=w.x+(P-w.y)*(w.next.x-w.x)/(w.next.y-w.y);if(N<=C&&N>z&&(z=N,v=w.x<w.next.x?w:w.next,N===C))return v}w=w.next}while(w!==g);if(!v)return null;var W,K=v,ee=v.x,ie=v.y,fe=1/0;w=v;do C>=w.x&&w.x>=ee&&C!==w.x&&bp(P<ie?C:z,P,ee,ie,P<ie?z:C,P,w.x,w.y)&&(W=Math.abs(P-w.y)/(C-w.x),F1(w,p)&&(W<fe||W===fe&&(w.x>v.x||w.x===v.x&&pR(v,w)))&&(v=w,fe=W)),w=w.next;while(w!==K);return v}(s,n);if(!a)return n;var d=c7(a,s);return nh(d,d.next),nh(a,a.next)}function pR(s,n){return qi(s.prev,s,n.prev)<0&&qi(n.next,s,s.next)<0}function _x(s,n,a,d,p){return(s=1431655765&((s=858993459&((s=252645135&((s=16711935&((s=(s-a)*p|0)|s<<8))|s<<4))|s<<2))|s<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=(n-d)*p|0)|n<<8))|n<<4))|n<<2))|n<<1))<<1}function fR(s){var n=s,a=s;do(n.x<a.x||n.x===a.x&&n.y<a.y)&&(a=n),n=n.next;while(n!==s);return a}function bp(s,n,a,d,p,g,v,w){return(p-v)*(n-w)>=(s-v)*(g-w)&&(s-v)*(d-w)>=(a-v)*(n-w)&&(a-v)*(g-w)>=(p-v)*(d-w)}function mR(s,n){return s.next.i!==n.i&&s.prev.i!==n.i&&!function(a,d){var p=a;do{if(p.i!==a.i&&p.next.i!==a.i&&p.i!==d.i&&p.next.i!==d.i&&l7(p,p.next,a,d))return!0;p=p.next}while(p!==a);return!1}(s,n)&&(F1(s,n)&&F1(n,s)&&function(a,d){var p=a,g=!1,v=(a.x+d.x)/2,w=(a.y+d.y)/2;do p.y>w!=p.next.y>w&&p.next.y!==p.y&&v<(p.next.x-p.x)*(w-p.y)/(p.next.y-p.y)+p.x&&(g=!g),p=p.next;while(p!==a);return g}(s,n)&&(qi(s.prev,s,n.prev)||qi(s,n.prev,n))||O0(s,n)&&qi(s.prev,s,s.next)>0&&qi(n.prev,n,n.next)>0)}function qi(s,n,a){return(n.y-s.y)*(a.x-n.x)-(n.x-s.x)*(a.y-n.y)}function O0(s,n){return s.x===n.x&&s.y===n.y}function l7(s,n,a,d){var p=B0(qi(s,n,a)),g=B0(qi(s,n,d)),v=B0(qi(a,d,s)),w=B0(qi(a,d,n));return p!==g&&v!==w||!(p!==0||!F0(s,a,n))||!(g!==0||!F0(s,d,n))||!(v!==0||!F0(a,s,d))||!(w!==0||!F0(a,n,d))}function F0(s,n,a){return n.x<=Math.max(s.x,a.x)&&n.x>=Math.min(s.x,a.x)&&n.y<=Math.max(s.y,a.y)&&n.y>=Math.min(s.y,a.y)}function B0(s){return s>0?1:s<0?-1:0}function F1(s,n){return qi(s.prev,s,s.next)<0?qi(s,n,s.next)>=0&&qi(s,s.prev,n)>=0:qi(s,n,s.prev)<0||qi(s,s.next,n)<0}function c7(s,n){var a=new vx(s.i,s.x,s.y),d=new vx(n.i,n.x,n.y),p=s.next,g=n.prev;return s.next=n,n.prev=s,a.next=p,p.prev=a,d.next=a,a.prev=d,g.next=d,d.prev=g,d}function u7(s,n,a,d){var p=new vx(s,n,a);return d?(p.next=d.next,p.prev=d,d.next.prev=p,d.next=p):(p.prev=p,p.next=p),p}function B1(s){s.next.prev=s.prev,s.prev.next=s.next,s.prevZ&&(s.prevZ.nextZ=s.nextZ),s.nextZ&&(s.nextZ.prevZ=s.prevZ)}function vx(s,n,a){this.i=s,this.x=n,this.y=a,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function xx(s,n,a,d){for(var p=0,g=n,v=a-d;g<a;g+=d)p+=(s[v]-s[g])*(s[g+1]+s[v+1]),v=g;return p}yx.exports=L0,yx.exports.default=L0,L0.deviation=function(s,n,a,d){var p=n&&n.length,g=Math.abs(xx(s,0,p?n[0]*a:s.length,a));if(p)for(var v=0,w=n.length;v<w;v++)g-=Math.abs(xx(s,n[v]*a,v<w-1?n[v+1]*a:s.length,a));var C=0;for(v=0;v<d.length;v+=3){var P=d[v]*a,z=d[v+1]*a,N=d[v+2]*a;C+=Math.abs((s[P]-s[N])*(s[z+1]-s[P+1])-(s[P]-s[z])*(s[N+1]-s[P+1]))}return g===0&&C===0?0:Math.abs((C-g)/g)},L0.flatten=function(s){for(var n=s[0][0].length,a={vertices:[],holes:[],dimensions:n},d=0,p=0;p<s.length;p++){for(var g=0;g<s[p].length;g++)for(var v=0;v<n;v++)a.vertices.push(s[p][g][v]);p>0&&a.holes.push(d+=s[p-1].length)}return a};var bx=G(yx.exports);function gR(s,n,a,d,p){d7(s,n,a||0,d||s.length-1,p||yR)}function d7(s,n,a,d,p){for(;d>a;){if(d-a>600){var g=d-a+1,v=n-a+1,w=Math.log(g),C=.5*Math.exp(2*w/3),P=.5*Math.sqrt(w*C*(g-C)/g)*(v-g/2<0?-1:1);d7(s,n,Math.max(a,Math.floor(n-v*C/g+P)),Math.min(d,Math.floor(n+(g-v)*C/g+P)),p)}var z=s[n],N=a,W=d;for(N1(s,a,n),p(s[d],z)>0&&N1(s,a,d);N<W;){for(N1(s,N,W),N++,W--;p(s[N],z)<0;)N++;for(;p(s[W],z)>0;)W--}p(s[a],z)===0?N1(s,a,W):N1(s,++W,d),W<=n&&(a=W+1),n<=W&&(d=W-1)}}function N1(s,n,a){var d=s[n];s[n]=s[a],s[a]=d}function yR(s,n){return s<n?-1:s>n?1:0}function wx(s,n){const a=s.length;if(a<=1)return[s];const d=[];let p,g;for(let v=0;v<a;v++){const w=Tt(s[v]);w!==0&&(s[v].area=Math.abs(w),g===void 0&&(g=w<0),g===w<0?(p&&d.push(p),p=[s[v]]):p.push(s[v]))}if(p&&d.push(p),n>1)for(let v=0;v<d.length;v++)d[v].length<=n||(gR(d[v],n,1,d[v].length-1,_R),d[v]=d[v].slice(0,n));return d}function _R(s,n){return n.area-s.area}function Sx(s,n,a){const d=a.patternDependencies;let p=!1;for(const g of n){const v=g.paint.get(`${s}-pattern`);v.isConstant()||(p=!0);const w=v.constantOr(null);w&&(p=!0,d[w]=!0)}return p}function Tx(s,n,a,d,p){const g=p.patternDependencies;for(const v of n){const w=v.paint.get(`${s}-pattern`).value;if(w.kind!=="constant"){let C=w.evaluate({zoom:d},a,{},p.availableImages);C=C&&C.name?C.name:C,g[C]=!0,a.patterns[v.id]=C}}return a}class N0{constructor(n){this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(a=>a.id),this.index=n.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new qt,this.indexArray=new Ln,this.indexArray2=new mo,this.programConfigurations=new Zd(n.layers,n.zoom),this.segments=new Gi,this.segments2=new Gi,this.stateDependentLayerIds=this.layers.filter(a=>a.isStateDependent()).map(a=>a.id),this.projection=n.projection}populate(n,a,d,p){this.hasPattern=Sx("fill",this.layers,a);const g=this.layers[0].layout.get("fill-sort-key"),v=[];for(const{feature:w,id:C,index:P,sourceLayerIndex:z}of n){const N=this.layers[0]._featureFilter.needGeometry,W=eh(w,N);if(!this.layers[0]._featureFilter.filter(new O(this.zoom),W,d))continue;const K=g?g.evaluate(W,{},d,a.availableImages):void 0,ee={id:C,properties:w.properties,type:w.type,sourceLayerIndex:z,index:P,geometry:N?W.geometry:eu(w,d,p),patterns:{},sortKey:K};v.push(ee)}g&&v.sort((w,C)=>w.sortKey-C.sortKey);for(const w of v){const{geometry:C,index:P,sourceLayerIndex:z}=w;if(this.hasPattern){const N=Tx("fill",this.layers,w,this.zoom,a);this.patternFeatures.push(N)}else this.addFeature(w,C,P,d,{},a.availableImages);a.featureIndex.insert(n[P].feature,C,P,z,this.index)}}update(n,a,d,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(n,a,this.stateDependentLayers,d,p)}addFeatures(n,a,d,p,g){for(const v of this.patternFeatures)this.addFeature(v,v.geometry,v.index,a,d,p)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,sR),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.indexBuffer2=n.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(n),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(n,a,d,p,g,v=[]){for(const w of wx(a,500)){let C=0;for(const ee of w)C+=ee.length;const P=this.segments.prepareSegment(C,this.layoutVertexArray,this.indexArray),z=P.vertexLength,N=[],W=[];for(const ee of w){if(ee.length===0)continue;ee!==w[0]&&W.push(N.length/2);const ie=this.segments2.prepareSegment(ee.length,this.layoutVertexArray,this.indexArray2),fe=ie.vertexLength;this.layoutVertexArray.emplaceBack(ee[0].x,ee[0].y),this.indexArray2.emplaceBack(fe+ee.length-1,fe),N.push(ee[0].x),N.push(ee[0].y);for(let Te=1;Te<ee.length;Te++)this.layoutVertexArray.emplaceBack(ee[Te].x,ee[Te].y),this.indexArray2.emplaceBack(fe+Te-1,fe+Te),N.push(ee[Te].x),N.push(ee[Te].y);ie.vertexLength+=ee.length,ie.primitiveLength+=ee.length}const K=bx(N,W);for(let ee=0;ee<K.length;ee+=3)this.indexArray.emplaceBack(z+K[ee],z+K[ee+1],z+K[ee+2]);P.vertexLength+=C,P.primitiveLength+=K.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,d,g,v,p)}}Sn(N0,"FillBucket",{omit:["layers","patternFeatures"]});const vR=new Ae({"fill-sort-key":new ge(Pt.layout_fill["fill-sort-key"])});var xR={paint:new Ae({"fill-antialias":new re(Pt.paint_fill["fill-antialias"]),"fill-opacity":new ge(Pt.paint_fill["fill-opacity"]),"fill-color":new ge(Pt.paint_fill["fill-color"]),"fill-outline-color":new ge(Pt.paint_fill["fill-outline-color"]),"fill-translate":new re(Pt.paint_fill["fill-translate"]),"fill-translate-anchor":new re(Pt.paint_fill["fill-translate-anchor"]),"fill-pattern":new ge(Pt.paint_fill["fill-pattern"])}),layout:vR};const bR=Je([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),wR=Je([{name:"a_centroid_pos",components:2,type:"Uint16"}]),SR=Je([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:TR}=bR;var $0={},CR=M,h7=wp;function wp(s,n,a,d,p){this.properties={},this.extent=a,this.type=0,this._pbf=s,this._geometry=-1,this._keys=d,this._values=p,s.readFields(ER,this,n)}function ER(s,n,a){s==1?n.id=a.readVarint():s==2?function(d,p){for(var g=d.readVarint()+d.pos;d.pos<g;){var v=p._keys[d.readVarint()],w=p._values[d.readVarint()];p.properties[v]=w}}(a,n):s==3?n.type=a.readVarint():s==4&&(n._geometry=a.pos)}function PR(s){for(var n,a,d=0,p=0,g=s.length,v=g-1;p<g;v=p++)d+=((a=s[v]).x-(n=s[p]).x)*(n.y+a.y);return d}wp.types=["Unknown","Point","LineString","Polygon"],wp.prototype.loadGeometry=function(){var s=this._pbf;s.pos=this._geometry;for(var n,a=s.readVarint()+s.pos,d=1,p=0,g=0,v=0,w=[];s.pos<a;){if(p<=0){var C=s.readVarint();d=7&C,p=C>>3}if(p--,d===1||d===2)g+=s.readSVarint(),v+=s.readSVarint(),d===1&&(n&&w.push(n),n=[]),n.push(new CR(g,v));else{if(d!==7)throw new Error("unknown command "+d);n&&n.push(n[0].clone())}}return n&&w.push(n),w},wp.prototype.bbox=function(){var s=this._pbf;s.pos=this._geometry;for(var n=s.readVarint()+s.pos,a=1,d=0,p=0,g=0,v=1/0,w=-1/0,C=1/0,P=-1/0;s.pos<n;){if(d<=0){var z=s.readVarint();a=7&z,d=z>>3}if(d--,a===1||a===2)(p+=s.readSVarint())<v&&(v=p),p>w&&(w=p),(g+=s.readSVarint())<C&&(C=g),g>P&&(P=g);else if(a!==7)throw new Error("unknown command "+a)}return[v,C,w,P]},wp.prototype.toGeoJSON=function(s,n,a){var d,p,g=this.extent*Math.pow(2,a),v=this.extent*s,w=this.extent*n,C=this.loadGeometry(),P=wp.types[this.type];function z(K){for(var ee=0;ee<K.length;ee++){var ie=K[ee];K[ee]=[360*(ie.x+v)/g-180,360/Math.PI*Math.atan(Math.exp((180-360*(ie.y+w)/g)*Math.PI/180))-90]}}switch(this.type){case 1:var N=[];for(d=0;d<C.length;d++)N[d]=C[d][0];z(C=N);break;case 2:for(d=0;d<C.length;d++)z(C[d]);break;case 3:for(C=function(K){var ee=K.length;if(ee<=1)return[K];for(var ie,fe,Te=[],Fe=0;Fe<ee;Fe++){var Ce=PR(K[Fe]);Ce!==0&&(fe===void 0&&(fe=Ce<0),fe===Ce<0?(ie&&Te.push(ie),ie=[K[Fe]]):ie.push(K[Fe]))}return ie&&Te.push(ie),Te}(C),d=0;d<C.length;d++)for(p=0;p<C[d].length;p++)z(C[d][p])}C.length===1?C=C[0]:P="Multi"+P;var W={type:"Feature",geometry:{type:P,coordinates:C},properties:this.properties};return"id"in this&&(W.id=this.id),W};var kR=h7,p7=f7;function f7(s,n){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=s,this._keys=[],this._values=[],this._features=[],s.readFields(MR,this,n),this.length=this._features.length}function MR(s,n,a){s===15?n.version=a.readVarint():s===1?n.name=a.readString():s===5?n.extent=a.readVarint():s===2?n._features.push(a.pos):s===3?n._keys.push(a.readString()):s===4&&n._values.push(function(d){for(var p=null,g=d.readVarint()+d.pos;d.pos<g;){var v=d.readVarint()>>3;p=v===1?d.readString():v===2?d.readFloat():v===3?d.readDouble():v===4?d.readVarint64():v===5?d.readVarint():v===6?d.readSVarint():v===7?d.readBoolean():null}return p}(a))}f7.prototype.feature=function(s){if(s<0||s>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[s];var n=this._pbf.readVarint()+this._pbf.pos;return new kR(this._pbf,n,this.extent,this._keys,this._values)};var IR=p7;function AR(s,n,a){if(s===3){var d=new IR(a,a.readVarint()+a.pos);d.length&&(n[d.name]=d)}}var Cx=$0.VectorTile=function(s,n){this.layers=s.readFields(AR,{},n)},j0=$0.VectorTileFeature=h7;function V0(s,n,a,d){const p=[],g=d===0?(v,w,C,P,z,N)=>{v.push(new ce(N,C+(N-w)/(P-w)*(z-C)))}:(v,w,C,P,z,N)=>{v.push(new ce(w+(N-C)/(z-C)*(P-w),N))};for(const v of s){const w=[];for(const C of v){if(C.length<=2)continue;const P=[];for(let W=0;W<C.length-1;W++){const K=C[W].x,ee=C[W].y,ie=C[W+1].x,fe=C[W+1].y,Te=d===0?K:ee,Fe=d===0?ie:fe;Te<n?Fe>n&&g(P,K,ee,ie,fe,n):Te>a?Fe<a&&g(P,K,ee,ie,fe,a):P.push(C[W]),Fe<n&&Te>=n&&g(P,K,ee,ie,fe,n),Fe>a&&Te<=a&&g(P,K,ee,ie,fe,a)}let z=C[C.length-1];const N=d===0?z.x:z.y;N>=n&&N<=a&&P.push(z),P.length&&(z=P[P.length-1],P[0].x===z.x&&P[0].y===z.y||P.push(P[0]),w.push(P))}w.length&&p.push(w)}return p}$0.VectorTileLayer=p7;const DR=j0.types,RR=Math.pow(2,13);function $1(s,n,a,d,p,g,v,w){s.emplaceBack((n<<1)+v,(a<<1)+g,(Math.floor(d*RR)<<1)+p,Math.round(w))}function j1(s,n,a){s.emplaceBack(n.x,n.y,n.z,a[0]*16384,a[1]*16384,a[2]*16384)}class m7{constructor(){this.acc=new ce(0,0),this.polyCount=[]}startRing(n){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new ce(n.x,n.y),this.max=new ce(n.x,n.y))}append(n,a){this.currentPolyCount.edges++,this.acc._add(n);const d=this.min,p=this.max;n.x<d.x?d.x=n.x:n.x>p.x&&(p.x=n.x),n.y<d.y?d.y=n.y:n.y>p.y&&(p.y=n.y),((n.x===0||n.x===Un)&&n.x===a.x)!=((n.y===0||n.y===Un)&&n.y===a.y)&&this.processBorderOverlap(n,a),a.x<0!=n.x<0&&this.addBorderIntersection(0,wr(a.y,n.y,(0-a.x)/(n.x-a.x))),a.x>Un!=n.x>Un&&this.addBorderIntersection(1,wr(a.y,n.y,(Un-a.x)/(n.x-a.x))),a.y<0!=n.y<0&&this.addBorderIntersection(2,wr(a.x,n.x,(0-a.y)/(n.y-a.y))),a.y>Un!=n.y>Un&&this.addBorderIntersection(3,wr(a.x,n.x,(Un-a.y)/(n.y-a.y)))}addBorderIntersection(n,a){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const d=this.borders[n];a<d[0]&&(d[0]=a),a>d[1]&&(d[1]=a)}processBorderOverlap(n,a){if(n.x===a.x){if(n.y===a.y)return;const d=n.x===0?0:1;this.addBorderIntersection(d,a.y),this.addBorderIntersection(d,n.y)}else{const d=n.y===0?2:3;this.addBorderIntersection(d,a.x),this.addBorderIntersection(d,n.x)}}centroid(){const n=this.polyCount.reduce((a,d)=>a+d.edges,0);return n!==0?this.acc.div(n)._round():new ce(0,0)}span(){return new ce(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((n,a)=>n+ +(a[0]!==Number.MAX_VALUE),0)}}class V1{constructor(n){this.zoom=n.zoom,this.canonical=n.canonical,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(a=>a.id),this.index=n.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=n.projection,this.layoutVertexArray=new zt,this.centroidVertexArray=new xl,this.indexArray=new Ln,this.programConfigurations=new Zd(n.layers,n.zoom),this.segments=new Gi,this.stateDependentLayerIds=this.layers.filter(a=>a.isStateDependent()).map(a=>a.id),this.enableTerrain=n.enableTerrain}populate(n,a,d,p){this.features=[],this.hasPattern=Sx("fill-extrusion",this.layers,a),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=function(g){const v=Math.exp(Math.PI*(1-g.y/(1<<g.z)*2));return 80150034*v/(v*v+1)/Un/(1<<g.z)}(d),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter;for(const{feature:g,id:v,index:w,sourceLayerIndex:C}of n){const P=this.layers[0]._featureFilter.needGeometry,z=eh(g,P);if(!this.layers[0]._featureFilter.filter(new O(this.zoom),z,d))continue;const N={id:v,sourceLayerIndex:C,index:w,geometry:P?z.geometry:eu(g,d,p),properties:g.properties,type:g.type,patterns:{}},W=this.layoutVertexArray.length;this.hasPattern?this.features.push(Tx("fill-extrusion",this.layers,N,this.zoom,a)):this.addFeature(N,N.geometry,w,d,{},a.availableImages,p),a.featureIndex.insert(g,N.geometry,w,C,this.index,W)}this.sortBorders()}addFeatures(n,a,d,p,g){for(const v of this.features){const{geometry:w}=v;this.addFeature(v,w,v.index,a,d,p,g)}this.sortBorders()}update(n,a,d,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(n,a,this.stateDependentLayers,d,p)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,TR),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=n.createVertexBuffer(this.layoutVertexExtArray,SR.members,!0))),this.programConfigurations.upload(n),this.uploaded=!0}uploadCentroid(n){this.centroidVertexArray.length!==0&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=n.createVertexBuffer(this.centroidVertexArray,wR.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(n,a,d,p,g,v,w){const C=[new ce(0,0),new ce(Un,Un)],P=w.projection,z=P.name==="globe",N=this.enableTerrain&&!z?new m7:null,W=DR[n.type]==="Polygon";z&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new Yt);const K=wx(a,500);for(let Te=K.length-1;Te>=0;Te--){const Fe=K[Te];(Fe.length===0||(ee=Fe[0]).every(Ce=>Ce.x<=0)||ee.every(Ce=>Ce.x>=Un)||ee.every(Ce=>Ce.y<=0)||ee.every(Ce=>Ce.y>=Un))&&K.splice(Te,1)}var ee;let ie;if(z)ie=w7(K,C,p);else{ie=[];for(const Te of K)ie.push({polygon:Te,bounds:C})}const fe=W?this.edgeRadius:0;for(const{polygon:Te,bounds:Fe}of ie){let Ce=0,Oe=0;for(const Ne of Te)W&&!Ne[0].equals(Ne[Ne.length-1])&&Ne.push(Ne[0]),Oe+=W?Ne.length-1:Ne.length;const Ve=this.segments.prepareSegment((W?5:4)*Oe,this.layoutVertexArray,this.indexArray);if(W){const Ne=[],pt=[];Ce=Ve.vertexLength;for(const Mt of Te){let Zt,yt;Mt.length&&Mt!==Te[0]&&pt.push(Ne.length/2),Zt=Mt[1].sub(Mt[0])._perp()._unit();for(let Lt=1;Lt<Mt.length;Lt++){const Ot=Mt[Lt],Wt=Mt[Lt===Mt.length-1?1:Lt+1];let{x:en,y:kt}=Ot;if(fe){yt=Wt.sub(Ot)._perp()._unit();const fn=Zt.add(yt)._unit(),Mn=fe*Math.min(4,1/(Zt.x*fn.x+Zt.y*fn.y));en+=Mn*fn.x,kt+=Mn*fn.y,Zt=yt}$1(this.layoutVertexArray,en,kt,0,0,1,1,0),Ve.vertexLength++,Ne.push(Ot.x,Ot.y),z&&j1(this.layoutVertexExtArray,P.projectTilePoint(en,kt,p),P.upVector(p,en,kt))}}const st=bx(Ne,pt);for(let Mt=0;Mt<st.length;Mt+=3)this.indexArray.emplaceBack(Ce+st[Mt],Ce+st[Mt+2],Ce+st[Mt+1]),Ve.primitiveLength++}for(const Ne of Te){N&&Ne.length&&N.startRing(Ne[0]);let pt,st,Mt,Zt=Ne.length>4&&v7(Ne[Ne.length-2],Ne[0],Ne[1]),yt=fe?zR(Ne[Ne.length-2],Ne[0],Ne[1],fe):0;st=Ne[1].sub(Ne[0])._perp()._unit();let Lt=!0;for(let Ot=1,Wt=0;Ot<Ne.length;Ot++){let en=Ne[Ot-1],kt=Ne[Ot];const fn=Ne[Ot===Ne.length-1?1:Ot+1];if(N&&W&&N.currentPolyCount.top++,_7(kt,en,Fe)){fe&&(st=fn.sub(kt)._perp()._unit(),Lt=!Lt);continue}N&&N.append(kt,en);const Mn=kt.sub(en)._perp(),gn=Mn.x/(Math.abs(Mn.x)+Math.abs(Mn.y)),lr=Mn.y>0?1:0,tn=en.dist(kt);if(Wt+tn>32768&&(Wt=0),fe){Mt=fn.sub(kt)._perp()._unit();let ur=y7(en,kt,fn,g7(st,Mt),fe);isNaN(ur)&&(ur=0);const Yn=kt.sub(en)._unit();en=en.add(Yn.mult(yt))._round(),kt=kt.add(Yn.mult(-ur))._round(),yt=ur,st=Mt}const Bn=Ve.vertexLength,cr=Ne.length>4&&v7(en,kt,fn);let Dr=x7(Wt,Zt,Lt);if($1(this.layoutVertexArray,en.x,en.y,gn,lr,0,0,Dr),$1(this.layoutVertexArray,en.x,en.y,gn,lr,0,1,Dr),Wt+=tn,Dr=x7(Wt,cr,!Lt),Zt=cr,$1(this.layoutVertexArray,kt.x,kt.y,gn,lr,0,0,Dr),$1(this.layoutVertexArray,kt.x,kt.y,gn,lr,0,1,Dr),Ve.vertexLength+=4,this.indexArray.emplaceBack(Bn+0,Bn+1,Bn+2),this.indexArray.emplaceBack(Bn+1,Bn+3,Bn+2),Ve.primitiveLength+=2,fe){const ur=Ce+(Ot===1?Ne.length-2:Ot-2),Yn=Ot===1?Ce:ur+1;if(this.indexArray.emplaceBack(Bn+1,ur,Bn+3),this.indexArray.emplaceBack(ur,Yn,Bn+3),Ve.primitiveLength+=2,pt===void 0&&(pt=Bn),!_7(fn,Ne[Ot],Fe)){const ui=Ot===Ne.length-1?pt:Ve.vertexLength;this.indexArray.emplaceBack(Bn+2,Bn+3,ui),this.indexArray.emplaceBack(Bn+3,ui+1,ui),this.indexArray.emplaceBack(Bn+3,Yn,ui+1),Ve.primitiveLength+=3}Lt=!Lt}if(z){const ur=this.layoutVertexExtArray,Yn=P.projectTilePoint(en.x,en.y,p),ui=P.projectTilePoint(kt.x,kt.y,p),mr=P.upVector(p,en.x,en.y),gr=P.upVector(p,kt.x,kt.y);j1(ur,Yn,mr),j1(ur,Yn,mr),j1(ur,ui,gr),j1(ur,ui,gr)}}W&&(Ce+=Ne.length-1)}}if(N&&N.polyCount.length>0){if(N.borders){N.vertexArrayOffset=this.centroidVertexArray.length;const Te=N.borders,Fe=this.featuresOnBorder.push(N)-1;for(let Ce=0;Ce<4;Ce++)Te[Ce][0]!==Number.MAX_VALUE&&this.borders[Ce].push(Fe)}this.encodeCentroid(N.borders?void 0:N.centroid(),N)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,d,g,v,p)}sortBorders(){for(let n=0;n<4;n++)this.borders[n].sort((a,d)=>this.featuresOnBorder[a].borders[n][0]-this.featuresOnBorder[d].borders[n][0])}encodeCentroid(n,a,d=!0){let p,g;if(n)if(n.y!==0){const w=a.span()._mult(this.tileToMeter);p=(Math.max(n.x,1)<<3)+Math.min(7,Math.round(w.x/10)),g=(Math.max(n.y,1)<<3)+Math.min(7,Math.round(w.y/10))}else p=Math.ceil(7*(n.x+450)),g=0;else p=0,g=+d;let v=d?this.centroidVertexArray.length:a.vertexArrayOffset;for(const w of a.polyCount){d&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*w.edges+w.top);for(let C=0;C<w.top;C++)this.centroidVertexArray.emplace(v++,p,g);for(let C=0;C<2*w.edges;C++)this.centroidVertexArray.emplace(v++,0,g),this.centroidVertexArray.emplace(v++,p,g)}}}function g7(s,n){const a=s.add(n)._unit();return s.x*a.x+s.y*a.y}function zR(s,n,a,d){const p=n.sub(s)._perp()._unit(),g=a.sub(n)._perp()._unit();return y7(s,n,a,g7(p,g),d)}function y7(s,n,a,d,p){const g=Math.sqrt(1-d*d);return Math.min(s.dist(n)/3,n.dist(a)/3,p*g/d)}function _7(s,n,a){return s.x<a[0].x&&n.x<a[0].x||s.x>a[1].x&&n.x>a[1].x||s.y<a[0].y&&n.y<a[0].y||s.y>a[1].y&&n.y>a[1].y}function v7(s,n,a){if(s.x<0||s.x>=Un||n.x<0||n.x>=Un||a.x<0||a.x>=Un)return!1;const d=a.sub(n),p=d.perp(),g=s.sub(n);return(d.x*g.x+d.y*g.y)/Math.sqrt((d.x*d.x+d.y*d.y)*(g.x*g.x+g.y*g.y))>-.866&&p.x*g.x+p.y*g.y<0}function x7(s,n,a){const d=n?2|s:-3&s;return a?1|d:-2&d}function b7(){const s=Math.PI/32,n=Math.tan(s),a=L1;return a*Math.sqrt(1+2*n*n)-a}function w7(s,n,a){const d=1<<a.z,p=ga(a.x/d),g=ga((a.x+1)/d),v=Vo(a.y/d),w=Vo((a.y+1)/d);return function(C,P,z,N,W=0,K){const ee=[];if(!C.length||!z||!N)return ee;const ie=(Ne,pt)=>{for(const st of Ne)ee.push({polygon:st,bounds:pt})},fe=Math.ceil(Math.log2(z)),Te=Math.ceil(Math.log2(N)),Fe=fe-Te,Ce=[];for(let Ne=0;Ne<Math.abs(Fe);Ne++)Ce.push(Fe>0?0:1);for(let Ne=0;Ne<Math.min(fe,Te);Ne++)Ce.push(0),Ce.push(1);let Oe=C;if(Oe=V0(Oe,P[0].y-W,P[1].y+W,1),Oe=V0(Oe,P[0].x-W,P[1].x+W,0),!Oe.length)return ee;const Ve=[];for(Ce.length?Ve.push({polygons:Oe,bounds:P,depth:0}):ie(Oe,P);Ve.length;){const Ne=Ve.pop(),pt=Ne.depth,st=Ce[pt],Mt=Ne.bounds[0],Zt=Ne.bounds[1],yt=st===0?Mt.x:Mt.y,Lt=st===0?Zt.x:Zt.y,Ot=K?K(st,yt,Lt):.5*(yt+Lt),Wt=V0(Ne.polygons,yt-W,Ot+W,st),en=V0(Ne.polygons,Ot-W,Lt+W,st);if(Wt.length){const kt=[Mt,new ce(st===0?Ot:Zt.x,st===1?Ot:Zt.y)];Ce.length>pt+1?Ve.push({polygons:Wt,bounds:kt,depth:pt+1}):ie(Wt,kt)}if(en.length){const kt=[new ce(st===0?Ot:Mt.x,st===1?Ot:Mt.y),Zt];Ce.length>pt+1?Ve.push({polygons:en,bounds:kt,depth:pt+1}):ie(en,kt)}}return ee}(s,n,Math.ceil((g-p)/11.25),Math.ceil((v-w)/11.25),1,(C,P,z)=>{if(C===0)return .5*(P+z);{const N=Vo((a.y+P/Un)/d);return(sc(.5*(Vo((a.y+z/Un)/d)+N))*d-a.y)*Un}})}Sn(V1,"FillExtrusionBucket",{omit:["layers","features"]}),Sn(m7,"PartMetadata");const LR=new Ae({"fill-extrusion-edge-radius":new re(Pt["layout_fill-extrusion"]["fill-extrusion-edge-radius"])});var OR={paint:new Ae({"fill-extrusion-opacity":new re(Pt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new ge(Pt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new re(Pt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new re(Pt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new ge(Pt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new ge(Pt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new ge(Pt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new re(Pt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new re(Pt["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new re(Pt["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"]),"fill-extrusion-rounded-roof":new re(Pt["paint_fill-extrusion"]["fill-extrusion-rounded-roof"])}),layout:LR};function S7(s,n,a){var d=2*Math.PI*6378137/256/Math.pow(2,a);return[s*d-2*Math.PI*6378137/2,n*d-2*Math.PI*6378137/2]}class U0{constructor(n,a,d){this.z=n,this.x=a,this.y=d,this.key=U1(0,n,n,a,d)}equals(n){return this.z===n.z&&this.x===n.x&&this.y===n.y}url(n,a){const d=function(g,v,w){var C=S7(256*g,256*(v=Math.pow(2,w)-v-1),w),P=S7(256*(g+1),256*(v+1),w);return C[0]+","+C[1]+","+P[0]+","+P[1]}(this.x,this.y,this.z),p=function(g,v,w){let C,P="";for(let z=g;z>0;z--)C=1<<z-1,P+=(v&C?1:0)+(w&C?2:0);return P}(this.z,this.x,this.y);return n[(this.x+this.y)%n.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(a==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",p).replace("{bbox-epsg-3857}",d)}toString(){return`${this.z}/${this.x}/${this.y}`}}class T7{constructor(n,a){this.wrap=n,this.canonical=a,this.key=U1(n,a.z,a.z,a.x,a.y)}}class ds{constructor(n,a,d,p,g){this.overscaledZ=n,this.wrap=a,this.canonical=new U0(d,+p,+g),this.key=a===0&&n===d?this.canonical.key:U1(a,n,d,p,g)}equals(n){return this.overscaledZ===n.overscaledZ&&this.wrap===n.wrap&&this.canonical.equals(n.canonical)}scaledTo(n){const a=this.canonical.z-n;return n>this.canonical.z?new ds(n,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new ds(n,this.wrap,n,this.canonical.x>>a,this.canonical.y>>a)}calculateScaledKey(n,a=!0){if(this.overscaledZ===n&&a)return this.key;if(n>this.canonical.z)return U1(this.wrap*+a,n,this.canonical.z,this.canonical.x,this.canonical.y);{const d=this.canonical.z-n;return U1(this.wrap*+a,n,n,this.canonical.x>>d,this.canonical.y>>d)}}isChildOf(n){if(n.wrap!==this.wrap)return!1;const a=this.canonical.z-n.canonical.z;return n.overscaledZ===0||n.overscaledZ<this.overscaledZ&&n.canonical.x===this.canonical.x>>a&&n.canonical.y===this.canonical.y>>a}children(n){if(this.overscaledZ>=n)return[new ds(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const a=this.canonical.z+1,d=2*this.canonical.x,p=2*this.canonical.y;return[new ds(a,this.wrap,a,d,p),new ds(a,this.wrap,a,d+1,p),new ds(a,this.wrap,a,d,p+1),new ds(a,this.wrap,a,d+1,p+1)]}isLessThan(n){return this.wrap<n.wrap||!(this.wrap>n.wrap)&&(this.overscaledZ<n.overscaledZ||!(this.overscaledZ>n.overscaledZ)&&(this.canonical.x<n.canonical.x||!(this.canonical.x>n.canonical.x)&&this.canonical.y<n.canonical.y))}wrapped(){return new ds(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(n){return new ds(this.overscaledZ,n,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new T7(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function U1(s,n,a,d,p){const g=1<<Math.min(a,22);let v=g*(p%g)+d%g;return s&&a<22&&(v+=g*g*((s<0?-2*s-1:2*s)%(1<<2*(22-a)))),16*(32*v+a)+(n-a)}Sn(U0,"CanonicalTileID"),Sn(ds,"OverscaledTileID",{omit:["projMatrix"]});class Sp extends ce{constructor(n,a,d){super(n,a),this.z=d}}function W1(s,n){return s.x*n.x+s.y*n.y}function C7(s,n){if(s.length===1){let a=0;const d=n[a++];let p;for(;!p||d.equals(p);)if(p=n[a++],!p)return 1/0;for(;a<n.length;a++){const g=n[a],v=s[0],w=p.sub(d),C=g.sub(d),P=v.sub(d),z=W1(w,w),N=W1(w,C),W=W1(C,C),K=W1(P,w),ee=W1(P,C),ie=z*W-N*N,fe=(W*K-N*ee)/ie,Te=(z*ee-N*K)/ie,Fe=d.z*(1-fe-Te)+p.z*fe+g.z*Te;if(isFinite(Fe))return Fe}return 1/0}{let a=1/0;for(const d of n)a=Math.min(a,d.z);return a}}function E7(s,n,a,d,p,g,v,w){const C=v*p.getElevationAt(s,n,!0,!0),P=g[0]!==0,z=P?g[1]===0?v*(g[0]/7-450):v*function(N,W,K){const ee=Math.floor(W[0]/8),ie=Math.floor(W[1]/8),fe=10*(W[0]-8*ee),Te=10*(W[1]-8*ie),Fe=N.getElevationAt(ee,ie,!0,!0),Ce=N.getMeterToDEM(K),Oe=Math.floor(.5*(fe*Ce-1)),Ve=Math.floor(.5*(Te*Ce-1)),Ne=N.tileCoordToPixel(ee,ie),pt=2*Oe+1,st=2*Ve+1,Mt=function(en,kt,fn,Mn,gn){return[en.getElevationAtPixel(kt,fn,!0),en.getElevationAtPixel(kt+gn,fn,!0),en.getElevationAtPixel(kt,fn+gn,!0),en.getElevationAtPixel(kt+Mn,fn+gn,!0)]}(N,Ne.x-Oe,Ne.y-Ve,pt,st),Zt=Math.abs(Mt[0]-Mt[1]),yt=Math.abs(Mt[2]-Mt[3]),Lt=Math.abs(Mt[0]-Mt[2])+Math.abs(Mt[1]-Mt[3]),Ot=Math.min(.25,.5*Ce*(Zt+yt)/pt),Wt=Math.min(.25,.5*Ce*Lt/st);return Fe+Math.max(Ot*fe,Wt*Te)}(p,g,w):C;return{base:C+(a===0)?-1:a,top:P?Math.max(z+d,C+a+2):C+d}}const FR=Je([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:BR}=FR,NR=Je([{name:"a_packed",components:4,type:"Float32"}]),{members:$R}=NR,jR=j0.types,VR=Math.cos(Math.PI/180*37.5);class W0{constructor(n){this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(a=>a.id),this.index=n.index,this.projection=n.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(a=>{this.gradients[a.id]={}}),this.layoutVertexArray=new gt,this.layoutVertexArray2=new Gt,this.indexArray=new Ln,this.programConfigurations=new Zd(n.layers,n.zoom),this.segments=new Gi,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(a=>a.isStateDependent()).map(a=>a.id)}populate(n,a,d,p){this.hasPattern=Sx("line",this.layers,a);const g=this.layers[0].layout.get("line-sort-key"),v=[];for(const{feature:z,id:N,index:W,sourceLayerIndex:K}of n){const ee=this.layers[0]._featureFilter.needGeometry,ie=eh(z,ee);if(!this.layers[0]._featureFilter.filter(new O(this.zoom),ie,d))continue;const fe=g?g.evaluate(ie,{},d):void 0,Te={id:N,properties:z.properties,type:z.type,sourceLayerIndex:K,index:W,geometry:ee?ie.geometry:eu(z,d,p),patterns:{},sortKey:fe};v.push(Te)}g&&v.sort((z,N)=>z.sortKey-N.sortKey);const{lineAtlas:w,featureIndex:C}=a,P=this.addConstantDashes(w);for(const z of v){const{geometry:N,index:W,sourceLayerIndex:K}=z;if(P&&this.addFeatureDashes(z,w),this.hasPattern){const ee=Tx("line",this.layers,z,this.zoom,a);this.patternFeatures.push(ee)}else this.addFeature(z,N,W,d,w.positions,a.availableImages);C.insert(n[W].feature,N,W,K,this.index)}}addConstantDashes(n){let a=!1;for(const d of this.layers){const p=d.paint.get("line-dasharray").value,g=d.layout.get("line-cap").value;if(p.kind!=="constant"||g.kind!=="constant")a=!0;else{const v=g.value,w=p.value;if(!w)continue;n.addDash(w,v)}}return a}addFeatureDashes(n,a){const d=this.zoom;for(const p of this.layers){const g=p.paint.get("line-dasharray").value,v=p.layout.get("line-cap").value;if(g.kind==="constant"&&v.kind==="constant")continue;let w,C;if(g.kind==="constant"){if(w=g.value,!w)continue}else w=g.evaluate({zoom:d},n);C=v.kind==="constant"?v.value:v.evaluate({zoom:d},n),a.addDash(w,C),n.patterns[p.id]=a.getKey(w,C)}}update(n,a,d,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(n,a,this.stateDependentLayers,d,p)}addFeatures(n,a,d,p,g){for(const v of this.patternFeatures)this.addFeature(v,v.geometry,v.index,a,d,p)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=n.createVertexBuffer(this.layoutVertexArray2,$R)),this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,BR),this.indexBuffer=n.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(n),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(n){if(n.properties&&n.properties.hasOwnProperty("mapbox_clip_start")&&n.properties.hasOwnProperty("mapbox_clip_end"))return{start:+n.properties.mapbox_clip_start,end:+n.properties.mapbox_clip_end}}addFeature(n,a,d,p,g,v){const w=this.layers[0].layout,C=w.get("line-join").evaluate(n,{}),P=w.get("line-cap").evaluate(n,{}),z=w.get("line-miter-limit"),N=w.get("line-round-limit");this.lineClips=this.lineFeatureClips(n);for(const W of a)this.addLine(W,n,C,P,z,N);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,d,g,v,p)}addLine(n,a,d,p,g,v){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let Te=0;Te<n.length-1;Te++)this.totalDistance+=n[Te].dist(n[Te+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const w=jR[a.type]==="Polygon";let C=n.length;for(;C>=2&&n[C-1].equals(n[C-2]);)C--;let P=0;for(;P<C-1&&n[P].equals(n[P+1]);)P++;if(C<(w?3:2))return;d==="bevel"&&(g=1.05);const z=this.overscaling<=16?15*Un/(512*this.overscaling):0,N=this.segments.prepareSegment(10*C,this.layoutVertexArray,this.indexArray);let W,K,ee,ie,fe;this.e1=this.e2=-1,w&&(W=n[C-2],fe=n[P].sub(W)._unit()._perp());for(let Te=P;Te<C;Te++){if(ee=Te===C-1?w?n[P+1]:void 0:n[Te+1],ee&&n[Te].equals(ee))continue;fe&&(ie=fe),W&&(K=W),W=n[Te],fe=ee?ee.sub(W)._unit()._perp():ie,ie=ie||fe;let Fe=ie.add(fe);Fe.x===0&&Fe.y===0||Fe._unit();const Ce=ie.x*fe.x+ie.y*fe.y,Oe=Fe.x*fe.x+Fe.y*fe.y,Ve=Oe!==0?1/Oe:1/0,Ne=2*Math.sqrt(2-2*Oe),pt=Oe<VR&&K&&ee,st=ie.x*fe.y-ie.y*fe.x>0;if(pt&&Te>P){const yt=W.dist(K);if(yt>2*z){const Lt=W.sub(W.sub(K)._mult(z/yt)._round());this.updateDistance(K,Lt),this.addCurrentVertex(Lt,ie,0,0,N),K=Lt}}const Mt=K&&ee;let Zt=Mt?d:w?"butt":p;if(Mt&&Zt==="round"&&(Ve<v?Zt="miter":Ve<=2&&(Zt="fakeround")),Zt==="miter"&&Ve>g&&(Zt="bevel"),Zt==="bevel"&&(Ve>2&&(Zt="flipbevel"),Ve<g&&(Zt="miter")),K&&this.updateDistance(K,W),Zt==="miter")Fe._mult(Ve),this.addCurrentVertex(W,Fe,0,0,N);else if(Zt==="flipbevel"){if(Ve>100)Fe=fe.mult(-1);else{const yt=Ve*ie.add(fe).mag()/ie.sub(fe).mag();Fe._perp()._mult(yt*(st?-1:1))}this.addCurrentVertex(W,Fe,0,0,N),this.addCurrentVertex(W,Fe.mult(-1),0,0,N)}else if(Zt==="bevel"||Zt==="fakeround"){const yt=-Math.sqrt(Ve*Ve-1),Lt=st?yt:0,Ot=st?0:yt;if(K&&this.addCurrentVertex(W,ie,Lt,Ot,N),Zt==="fakeround"){const Wt=Math.round(180*Ne/Math.PI/20);for(let en=1;en<Wt;en++){let kt=en/Wt;if(kt!==.5){const Mn=kt-.5;kt+=kt*Mn*(kt-1)*((1.0904+Ce*(Ce*(3.55645-1.43519*Ce)-3.2452))*Mn*Mn+(.848013+Ce*(.215638*Ce-1.06021)))}const fn=fe.sub(ie)._mult(kt)._add(ie)._unit()._mult(st?-1:1);this.addHalfVertex(W,fn.x,fn.y,!1,st,0,N)}}ee&&this.addCurrentVertex(W,fe,-Lt,-Ot,N)}else if(Zt==="butt")this.addCurrentVertex(W,Fe,0,0,N);else if(Zt==="square"){const yt=K?1:-1;K||this.addCurrentVertex(W,Fe,yt,yt,N),this.addCurrentVertex(W,Fe,0,0,N),K&&this.addCurrentVertex(W,Fe,yt,yt,N)}else Zt==="round"&&(K&&(this.addCurrentVertex(W,ie,0,0,N),this.addCurrentVertex(W,ie,1,1,N,!0)),ee&&(this.addCurrentVertex(W,fe,-1,-1,N,!0),this.addCurrentVertex(W,fe,0,0,N)));if(pt&&Te<C-1){const yt=W.dist(ee);if(yt>2*z){const Lt=W.add(ee.sub(W)._mult(z/yt)._round());this.updateDistance(W,Lt),this.addCurrentVertex(Lt,fe,0,0,N),W=Lt}}}}addCurrentVertex(n,a,d,p,g,v=!1){const w=a.y*p-a.x,C=-a.y-a.x*p;this.addHalfVertex(n,a.x+a.y*d,a.y-a.x*d,v,!1,d,g),this.addHalfVertex(n,w,C,v,!0,-p,g)}addHalfVertex({x:n,y:a},d,p,g,v,w,C){this.layoutVertexArray.emplaceBack((n<<1)+(g?1:0),(a<<1)+(v?1:0),Math.round(63*d)+128,Math.round(63*p)+128,1+(w===0?0:w<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const P=C.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,P),C.primitiveLength++),v?this.e2=P:this.e1=P}updateScaledDistance(){if(this.lineClips){const n=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=n*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(n,a){this.distance+=n.dist(a),this.updateScaledDistance()}}Sn(W0,"LineBucket",{omit:["layers","patternFeatures"]});const UR=new Ae({"line-cap":new ge(Pt.layout_line["line-cap"]),"line-join":new ge(Pt.layout_line["line-join"]),"line-miter-limit":new re(Pt.layout_line["line-miter-limit"]),"line-round-limit":new re(Pt.layout_line["line-round-limit"]),"line-sort-key":new ge(Pt.layout_line["line-sort-key"])});var P7={paint:new Ae({"line-opacity":new ge(Pt.paint_line["line-opacity"]),"line-color":new ge(Pt.paint_line["line-color"]),"line-translate":new re(Pt.paint_line["line-translate"]),"line-translate-anchor":new re(Pt.paint_line["line-translate-anchor"]),"line-width":new ge(Pt.paint_line["line-width"]),"line-gap-width":new ge(Pt.paint_line["line-gap-width"]),"line-offset":new ge(Pt.paint_line["line-offset"]),"line-blur":new ge(Pt.paint_line["line-blur"]),"line-dasharray":new ge(Pt.paint_line["line-dasharray"]),"line-pattern":new ge(Pt.paint_line["line-pattern"]),"line-gradient":new Ie(Pt.paint_line["line-gradient"]),"line-trim-offset":new re(Pt.paint_line["line-trim-offset"])}),layout:UR};const k7=new class extends ge{possiblyEvaluate(s,n){return n=new O(Math.floor(n.zoom),{now:n.now,fadeDuration:n.fadeDuration,transition:n.transition}),super.possiblyEvaluate(s,n)}evaluate(s,n,a,d){return n=St({},n,{zoom:Math.floor(n.zoom)}),super.evaluate(s,n,a,d)}}(P7.paint.properties["line-width"].specification);function M7(s,n){return n>0?n+2*s:s}k7.useIntegerZoom=!0;const WR=Je([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),HR=Je([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),GR=Je([{name:"a_projected_pos",components:4,type:"Float32"}],4);Je([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const qR=Je([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),ZR=Je([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);Je([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const I7=Je([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),XR=Je([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Je([{name:"triangle",components:3,type:"Uint16"}]),Je([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),Je([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Je([{type:"Float32",name:"offsetX"}]),Je([{type:"Int16",name:"x"},{type:"Int16",name:"y"}]);var Po=24;const El=128;function Ex(s,n){const{expression:a}=n;if(a.kind==="constant")return{kind:"constant",layoutSize:a.evaluate(new O(s+1))};if(a.kind==="source")return{kind:"source"};{const{zoomStops:d,interpolationType:p}=a;let g=0;for(;g<d.length&&d[g]<=s;)g++;g=Math.max(0,g-1);let v=g;for(;v<d.length&&d[v]<s+1;)v++;v=Math.min(d.length-1,v);const w=d[g],C=d[v];return a.kind==="composite"?{kind:"composite",minZoom:w,maxZoom:C,interpolationType:p}:{kind:"camera",minZoom:w,maxZoom:C,minSize:a.evaluate(new O(w)),maxSize:a.evaluate(new O(C)),interpolationType:p}}}function H0(s,{uSize:n,uSizeT:a},{lowerSize:d,upperSize:p}){return s.kind==="source"?d/El:s.kind==="composite"?wr(d/El,p/El,a):n}function Tp(s,n){let a=0,d=0;if(s.kind==="constant")d=s.layoutSize;else if(s.kind!=="source"){const{interpolationType:p,minZoom:g,maxZoom:v}=s,w=p?Me(Xo.interpolationFactor(p,n,g,v),0,1):0;s.kind==="camera"?d=wr(s.minSize,s.maxSize,w):a=w}return{uSizeT:a,uSize:d}}var YR=Object.freeze({__proto__:null,SIZE_PACK_FACTOR:El,evaluateSizeForFeature:H0,evaluateSizeForZoom:Tp,getSizeData:Ex});function KR(s,n,a){return s.sections.forEach(d=>{d.text=function(p,g,v){const w=g.layout.get("text-transform").evaluate(v,{});return w==="uppercase"?p=p.toLocaleUpperCase():w==="lowercase"&&(p=p.toLocaleLowerCase()),D.applyArabicShaping&&(p=D.applyArabicShaping(p)),p}(d.text,n,a)}),s}const H1={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};function JR(s){return s===""||s===""||s===""||s===""||s===""||s===""||s===""||s===""||s===""||s===""||s===""||s===""||s===""||s===""||s===""||s===""||s===""}function QR(s){return s===""||s===""||s===""||s===""||s===""||s===""||s===""||s===""||s===""||s===""}var A7=ri,D7=function(s,n,a,d,p){var g,v,w=8*p-d-1,C=(1<<w)-1,P=C>>1,z=-7,N=a?p-1:0,W=a?-1:1,K=s[n+N];for(N+=W,g=K&(1<<-z)-1,K>>=-z,z+=w;z>0;g=256*g+s[n+N],N+=W,z-=8);for(v=g&(1<<-z)-1,g>>=-z,z+=d;z>0;v=256*v+s[n+N],N+=W,z-=8);if(g===0)g=1-P;else{if(g===C)return v?NaN:1/0*(K?-1:1);v+=Math.pow(2,d),g-=P}return(K?-1:1)*v*Math.pow(2,g-d)},R7=function(s,n,a,d,p,g){var v,w,C,P=8*g-p-1,z=(1<<P)-1,N=z>>1,W=p===23?Math.pow(2,-24)-Math.pow(2,-77):0,K=d?0:g-1,ee=d?1:-1,ie=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(w=isNaN(n)?1:0,v=z):(v=Math.floor(Math.log(n)/Math.LN2),n*(C=Math.pow(2,-v))<1&&(v--,C*=2),(n+=v+N>=1?W/C:W*Math.pow(2,1-N))*C>=2&&(v++,C/=2),v+N>=z?(w=0,v=z):v+N>=1?(w=(n*C-1)*Math.pow(2,p),v+=N):(w=n*Math.pow(2,N-1)*Math.pow(2,p),v=0));p>=8;s[a+K]=255&w,K+=ee,w/=256,p-=8);for(v=v<<p|w,P+=p;P>0;s[a+K]=255&v,K+=ee,v/=256,P-=8);s[a+K-ee]|=128*ie};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */function ri(s){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(s)?s:new Uint8Array(s||0),this.pos=0,this.type=0,this.length=this.buf.length}ri.Varint=0,ri.Fixed64=1,ri.Bytes=2,ri.Fixed32=5;var Px=4294967296,z7=1/Px,L7=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function nu(s){return s.type===ri.Bytes?s.readVarint()+s.pos:s.pos+1}function Cp(s,n,a){return a?4294967296*n+(s>>>0):4294967296*(n>>>0)+(s>>>0)}function O7(s,n,a){var d=n<=16383?1:n<=2097151?2:n<=268435455?3:Math.floor(Math.log(n)/(7*Math.LN2));a.realloc(d);for(var p=a.pos-1;p>=s;p--)a.buf[p+d]=a.buf[p]}function ez(s,n){for(var a=0;a<s.length;a++)n.writeVarint(s[a])}function tz(s,n){for(var a=0;a<s.length;a++)n.writeSVarint(s[a])}function nz(s,n){for(var a=0;a<s.length;a++)n.writeFloat(s[a])}function rz(s,n){for(var a=0;a<s.length;a++)n.writeDouble(s[a])}function iz(s,n){for(var a=0;a<s.length;a++)n.writeBoolean(s[a])}function oz(s,n){for(var a=0;a<s.length;a++)n.writeFixed32(s[a])}function sz(s,n){for(var a=0;a<s.length;a++)n.writeSFixed32(s[a])}function az(s,n){for(var a=0;a<s.length;a++)n.writeFixed64(s[a])}function lz(s,n){for(var a=0;a<s.length;a++)n.writeSFixed64(s[a])}function G0(s,n){return(s[n]|s[n+1]<<8|s[n+2]<<16)+16777216*s[n+3]}function Ep(s,n,a){s[a]=n,s[a+1]=n>>>8,s[a+2]=n>>>16,s[a+3]=n>>>24}function F7(s,n){return(s[n]|s[n+1]<<8|s[n+2]<<16)+(s[n+3]<<24)}ri.prototype={destroy:function(){this.buf=null},readFields:function(s,n,a){for(a=a||this.length;this.pos<a;){var d=this.readVarint(),p=d>>3,g=this.pos;this.type=7&d,s(p,n,this),this.pos===g&&this.skip(d)}return n},readMessage:function(s,n){return this.readFields(s,n,this.readVarint()+this.pos)},readFixed32:function(){var s=G0(this.buf,this.pos);return this.pos+=4,s},readSFixed32:function(){var s=F7(this.buf,this.pos);return this.pos+=4,s},readFixed64:function(){var s=G0(this.buf,this.pos)+G0(this.buf,this.pos+4)*Px;return this.pos+=8,s},readSFixed64:function(){var s=G0(this.buf,this.pos)+F7(this.buf,this.pos+4)*Px;return this.pos+=8,s},readFloat:function(){var s=D7(this.buf,this.pos,!0,23,4);return this.pos+=4,s},readDouble:function(){var s=D7(this.buf,this.pos,!0,52,8);return this.pos+=8,s},readVarint:function(s){var n,a,d=this.buf;return n=127&(a=d[this.pos++]),a<128?n:(n|=(127&(a=d[this.pos++]))<<7,a<128?n:(n|=(127&(a=d[this.pos++]))<<14,a<128?n:(n|=(127&(a=d[this.pos++]))<<21,a<128?n:function(p,g,v){var w,C,P=v.buf;if(w=(112&(C=P[v.pos++]))>>4,C<128||(w|=(127&(C=P[v.pos++]))<<3,C<128)||(w|=(127&(C=P[v.pos++]))<<10,C<128)||(w|=(127&(C=P[v.pos++]))<<17,C<128)||(w|=(127&(C=P[v.pos++]))<<24,C<128)||(w|=(1&(C=P[v.pos++]))<<31,C<128))return Cp(p,w,g);throw new Error("Expected varint not more than 10 bytes")}(n|=(15&(a=d[this.pos]))<<28,s,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var s=this.readVarint();return s%2==1?(s+1)/-2:s/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var s=this.readVarint()+this.pos,n=this.pos;return this.pos=s,s-n>=12&&L7?function(a,d,p){return L7.decode(a.subarray(d,p))}(this.buf,n,s):function(a,d,p){for(var g="",v=d;v<p;){var w,C,P,z=a[v],N=null,W=z>239?4:z>223?3:z>191?2:1;if(v+W>p)break;W===1?z<128&&(N=z):W===2?(192&(w=a[v+1]))==128&&(N=(31&z)<<6|63&w)<=127&&(N=null):W===3?(C=a[v+2],(192&(w=a[v+1]))==128&&(192&C)==128&&((N=(15&z)<<12|(63&w)<<6|63&C)<=2047||N>=55296&&N<=57343)&&(N=null)):W===4&&(C=a[v+2],P=a[v+3],(192&(w=a[v+1]))==128&&(192&C)==128&&(192&P)==128&&((N=(15&z)<<18|(63&w)<<12|(63&C)<<6|63&P)<=65535||N>=1114112)&&(N=null)),N===null?(N=65533,W=1):N>65535&&(N-=65536,g+=String.fromCharCode(N>>>10&1023|55296),N=56320|1023&N),g+=String.fromCharCode(N),v+=W}return g}(this.buf,n,s)},readBytes:function(){var s=this.readVarint()+this.pos,n=this.buf.subarray(this.pos,s);return this.pos=s,n},readPackedVarint:function(s,n){if(this.type!==ri.Bytes)return s.push(this.readVarint(n));var a=nu(this);for(s=s||[];this.pos<a;)s.push(this.readVarint(n));return s},readPackedSVarint:function(s){if(this.type!==ri.Bytes)return s.push(this.readSVarint());var n=nu(this);for(s=s||[];this.pos<n;)s.push(this.readSVarint());return s},readPackedBoolean:function(s){if(this.type!==ri.Bytes)return s.push(this.readBoolean());var n=nu(this);for(s=s||[];this.pos<n;)s.push(this.readBoolean());return s},readPackedFloat:function(s){if(this.type!==ri.Bytes)return s.push(this.readFloat());var n=nu(this);for(s=s||[];this.pos<n;)s.push(this.readFloat());return s},readPackedDouble:function(s){if(this.type!==ri.Bytes)return s.push(this.readDouble());var n=nu(this);for(s=s||[];this.pos<n;)s.push(this.readDouble());return s},readPackedFixed32:function(s){if(this.type!==ri.Bytes)return s.push(this.readFixed32());var n=nu(this);for(s=s||[];this.pos<n;)s.push(this.readFixed32());return s},readPackedSFixed32:function(s){if(this.type!==ri.Bytes)return s.push(this.readSFixed32());var n=nu(this);for(s=s||[];this.pos<n;)s.push(this.readSFixed32());return s},readPackedFixed64:function(s){if(this.type!==ri.Bytes)return s.push(this.readFixed64());var n=nu(this);for(s=s||[];this.pos<n;)s.push(this.readFixed64());return s},readPackedSFixed64:function(s){if(this.type!==ri.Bytes)return s.push(this.readSFixed64());var n=nu(this);for(s=s||[];this.pos<n;)s.push(this.readSFixed64());return s},skip:function(s){var n=7&s;if(n===ri.Varint)for(;this.buf[this.pos++]>127;);else if(n===ri.Bytes)this.pos=this.readVarint()+this.pos;else if(n===ri.Fixed32)this.pos+=4;else{if(n!==ri.Fixed64)throw new Error("Unimplemented type: "+n);this.pos+=8}},writeTag:function(s,n){this.writeVarint(s<<3|n)},realloc:function(s){for(var n=this.length||16;n<this.pos+s;)n*=2;if(n!==this.length){var a=new Uint8Array(n);a.set(this.buf),this.buf=a,this.length=n}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(s){this.realloc(4),Ep(this.buf,s,this.pos),this.pos+=4},writeSFixed32:function(s){this.realloc(4),Ep(this.buf,s,this.pos),this.pos+=4},writeFixed64:function(s){this.realloc(8),Ep(this.buf,-1&s,this.pos),Ep(this.buf,Math.floor(s*z7),this.pos+4),this.pos+=8},writeSFixed64:function(s){this.realloc(8),Ep(this.buf,-1&s,this.pos),Ep(this.buf,Math.floor(s*z7),this.pos+4),this.pos+=8},writeVarint:function(s){(s=+s||0)>268435455||s<0?function(n,a){var d,p;if(n>=0?(d=n%4294967296|0,p=n/4294967296|0):(p=~(-n/4294967296),4294967295^(d=~(-n%4294967296))?d=d+1|0:(d=0,p=p+1|0)),n>=18446744073709552e3||n<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");a.realloc(10),function(g,v,w){w.buf[w.pos++]=127&g|128,g>>>=7,w.buf[w.pos++]=127&g|128,g>>>=7,w.buf[w.pos++]=127&g|128,g>>>=7,w.buf[w.pos++]=127&g|128,w.buf[w.pos]=127&(g>>>=7)}(d,0,a),function(g,v){var w=(7&g)<<4;v.buf[v.pos++]|=w|((g>>>=3)?128:0),g&&(v.buf[v.pos++]=127&g|((g>>>=7)?128:0),g&&(v.buf[v.pos++]=127&g|((g>>>=7)?128:0),g&&(v.buf[v.pos++]=127&g|((g>>>=7)?128:0),g&&(v.buf[v.pos++]=127&g|((g>>>=7)?128:0),g&&(v.buf[v.pos++]=127&g)))))}(p,a)}(s,this):(this.realloc(4),this.buf[this.pos++]=127&s|(s>127?128:0),s<=127||(this.buf[this.pos++]=127&(s>>>=7)|(s>127?128:0),s<=127||(this.buf[this.pos++]=127&(s>>>=7)|(s>127?128:0),s<=127||(this.buf[this.pos++]=s>>>7&127))))},writeSVarint:function(s){this.writeVarint(s<0?2*-s-1:2*s)},writeBoolean:function(s){this.writeVarint(!!s)},writeString:function(s){s=String(s),this.realloc(4*s.length),this.pos++;var n=this.pos;this.pos=function(d,p,g){for(var v,w,C=0;C<p.length;C++){if((v=p.charCodeAt(C))>55295&&v<57344){if(!w){v>56319||C+1===p.length?(d[g++]=239,d[g++]=191,d[g++]=189):w=v;continue}if(v<56320){d[g++]=239,d[g++]=191,d[g++]=189,w=v;continue}v=w-55296<<10|v-56320|65536,w=null}else w&&(d[g++]=239,d[g++]=191,d[g++]=189,w=null);v<128?d[g++]=v:(v<2048?d[g++]=v>>6|192:(v<65536?d[g++]=v>>12|224:(d[g++]=v>>18|240,d[g++]=v>>12&63|128),d[g++]=v>>6&63|128),d[g++]=63&v|128)}return g}(this.buf,s,this.pos);var a=this.pos-n;a>=128&&O7(n,a,this),this.pos=n-1,this.writeVarint(a),this.pos+=a},writeFloat:function(s){this.realloc(4),R7(this.buf,s,this.pos,!0,23,4),this.pos+=4},writeDouble:function(s){this.realloc(8),R7(this.buf,s,this.pos,!0,52,8),this.pos+=8},writeBytes:function(s){var n=s.length;this.writeVarint(n),this.realloc(n);for(var a=0;a<n;a++)this.buf[this.pos++]=s[a]},writeRawMessage:function(s,n){this.pos++;var a=this.pos;s(n,this);var d=this.pos-a;d>=128&&O7(a,d,this),this.pos=a-1,this.writeVarint(d),this.pos+=d},writeMessage:function(s,n,a){this.writeTag(s,ri.Bytes),this.writeRawMessage(n,a)},writePackedVarint:function(s,n){n.length&&this.writeMessage(s,ez,n)},writePackedSVarint:function(s,n){n.length&&this.writeMessage(s,tz,n)},writePackedBoolean:function(s,n){n.length&&this.writeMessage(s,iz,n)},writePackedFloat:function(s,n){n.length&&this.writeMessage(s,nz,n)},writePackedDouble:function(s,n){n.length&&this.writeMessage(s,rz,n)},writePackedFixed32:function(s,n){n.length&&this.writeMessage(s,oz,n)},writePackedSFixed32:function(s,n){n.length&&this.writeMessage(s,sz,n)},writePackedFixed64:function(s,n){n.length&&this.writeMessage(s,az,n)},writePackedSFixed64:function(s,n){n.length&&this.writeMessage(s,lz,n)},writeBytesField:function(s,n){this.writeTag(s,ri.Bytes),this.writeBytes(n)},writeFixed32Field:function(s,n){this.writeTag(s,ri.Fixed32),this.writeFixed32(n)},writeSFixed32Field:function(s,n){this.writeTag(s,ri.Fixed32),this.writeSFixed32(n)},writeFixed64Field:function(s,n){this.writeTag(s,ri.Fixed64),this.writeFixed64(n)},writeSFixed64Field:function(s,n){this.writeTag(s,ri.Fixed64),this.writeSFixed64(n)},writeVarintField:function(s,n){this.writeTag(s,ri.Varint),this.writeVarint(n)},writeSVarintField:function(s,n){this.writeTag(s,ri.Varint),this.writeSVarint(n)},writeStringField:function(s,n){this.writeTag(s,ri.Bytes),this.writeString(n)},writeFloatField:function(s,n){this.writeTag(s,ri.Fixed32),this.writeFloat(n)},writeDoubleField:function(s,n){this.writeTag(s,ri.Fixed64),this.writeDouble(n)},writeBooleanField:function(s,n){this.writeVarintField(s,!!n)}};var q0=G(A7);const kx=3;function cz(s,n,a){n.glyphs=[],s===1&&a.readMessage(uz,n)}function uz(s,n,a){if(s===3){const{id:d,bitmap:p,width:g,height:v,left:w,top:C,advance:P}=a.readMessage(dz,{});n.glyphs.push({id:d,bitmap:new tu({width:g+2*kx,height:v+2*kx},p),metrics:{width:g,height:v,left:w,top:C,advance:P}})}else s===4?n.ascender=a.readSVarint():s===5&&(n.descender=a.readSVarint())}function dz(s,n,a){s===1?n.id=a.readVarint():s===2?n.bitmap=a.readBytes():s===3?n.width=a.readVarint():s===4?n.height=a.readVarint():s===5?n.left=a.readSVarint():s===6?n.top=a.readSVarint():s===7&&(n.advance=a.readVarint())}const B7=kx;function Mx(s){let n=0,a=0;for(const v of s)n+=v.w*v.h,a=Math.max(a,v.w);s.sort((v,w)=>w.h-v.h);const d=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(n/.95)),a),h:1/0}];let p=0,g=0;for(const v of s)for(let w=d.length-1;w>=0;w--){const C=d[w];if(!(v.w>C.w||v.h>C.h)){if(v.x=C.x,v.y=C.y,g=Math.max(g,v.y+v.h),p=Math.max(p,v.x+v.w),v.w===C.w&&v.h===C.h){const P=d.pop();w<d.length&&(d[w]=P)}else v.h===C.h?(C.x+=v.w,C.w-=v.w):v.w===C.w?(C.y+=v.h,C.h-=v.h):(d.push({x:C.x+v.w,y:C.y,w:C.w-v.w,h:v.h}),C.y+=v.h,C.h-=v.h);break}}return{w:p,h:g,fill:n/(p*g)||0}}const ks=1;class Ix{constructor(n,{pixelRatio:a,version:d,stretchX:p,stretchY:g,content:v}){this.paddedRect=n,this.pixelRatio=a,this.stretchX=p,this.stretchY=g,this.content=v,this.version=d}get tl(){return[this.paddedRect.x+ks,this.paddedRect.y+ks]}get br(){return[this.paddedRect.x+this.paddedRect.w-ks,this.paddedRect.y+this.paddedRect.h-ks]}get displaySize(){return[(this.paddedRect.w-2*ks)/this.pixelRatio,(this.paddedRect.h-2*ks)/this.pixelRatio]}}class N7{constructor(n,a){const d={},p={};this.haveRenderCallbacks=[];const g=[];this.addImages(n,d,g),this.addImages(a,p,g);const{w:v,h:w}=Mx(g),C=new Vs({width:v||1,height:w||1});for(const P in n){const z=n[P],N=d[P].paddedRect;Vs.copy(z.data,C,{x:0,y:0},{x:N.x+ks,y:N.y+ks},z.data)}for(const P in a){const z=a[P],N=p[P].paddedRect,W=N.x+ks,K=N.y+ks,ee=z.data.width,ie=z.data.height;Vs.copy(z.data,C,{x:0,y:0},{x:W,y:K},z.data),Vs.copy(z.data,C,{x:0,y:ie-1},{x:W,y:K-1},{width:ee,height:1}),Vs.copy(z.data,C,{x:0,y:0},{x:W,y:K+ie},{width:ee,height:1}),Vs.copy(z.data,C,{x:ee-1,y:0},{x:W-1,y:K},{width:1,height:ie}),Vs.copy(z.data,C,{x:0,y:0},{x:W+ee,y:K},{width:1,height:ie})}this.image=C,this.iconPositions=d,this.patternPositions=p}addImages(n,a,d){for(const p in n){const g=n[p],v={x:0,y:0,w:g.data.width+2*ks,h:g.data.height+2*ks};d.push(v),a[p]=new Ix(v,g),g.hasRenderCallback&&this.haveRenderCallbacks.push(p)}}patchUpdatedImages(n,a){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(d=>n.hasImage(d)),n.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const d in n.updatedImages)this.patchUpdatedImage(this.iconPositions[d],n.getImage(d),a),this.patchUpdatedImage(this.patternPositions[d],n.getImage(d),a)}patchUpdatedImage(n,a,d){if(!n||!a||n.version===a.version)return;n.version=a.version;const[p,g]=n.tl;d.update(a.data,void 0,{x:p,y:g})}}Sn(Ix,"ImagePosition"),Sn(N7,"ImageAtlas");const ya={horizontal:1,vertical:2,horizontalOnly:3},$7=-17;class G1{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(n,a){const d=new G1;return d.scale=n||1,d.fontStack=a,d}static forImage(n){const a=new G1;return a.imageName=n,a}}class Pp{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(n,a){const d=new Pp;for(let p=0;p<n.sections.length;p++){const g=n.sections[p];g.image?d.addImageSection(g):d.addTextSection(g,a)}return d}length(){return this.text.length}getSection(n){return this.sections[this.sectionIndex[n]]}getSections(){return this.sections}getSectionIndex(n){return this.sectionIndex[n]}getCharCode(n){return this.text.charCodeAt(n)}verticalizePunctuation(n){this.text=function(a,d){let p="";for(let g=0;g<a.length;g++){const v=a.charCodeAt(g+1)||null,w=a.charCodeAt(g-1)||null;p+=!d&&(v&&w0(v)&&!H1[a[g+1]]||w&&w0(w)&&!H1[a[g-1]])||!H1[a[g]]?a[g]:H1[a[g]]}return p}(this.text,n)}trim(){let n=0;for(let d=0;d<this.text.length&&Z0[this.text.charCodeAt(d)];d++)n++;let a=this.text.length;for(let d=this.text.length-1;d>=0&&d>=n&&Z0[this.text.charCodeAt(d)];d--)a--;this.text=this.text.substring(n,a),this.sectionIndex=this.sectionIndex.slice(n,a)}substring(n,a){const d=new Pp;return d.text=this.text.substring(n,a),d.sectionIndex=this.sectionIndex.slice(n,a),d.sections=this.sections,d}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((n,a)=>Math.max(n,this.sections[a].scale),0)}addTextSection(n,a){this.text+=n.text,this.sections.push(G1.forText(n.scale,n.fontStack||a));const d=this.sections.length-1;for(let p=0;p<n.text.length;++p)this.sectionIndex.push(d)}addImageSection(n){const a=n.image?n.image.name:"";if(a.length===0)return void rt("Can't add FormattedSection with an empty image.");const d=this.getNextImageSectionCharCode();d?(this.text+=String.fromCharCode(d),this.sections.push(G1.forImage(a)),this.sectionIndex.push(this.sections.length-1)):rt("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Ax(s,n,a,d,p,g,v,w,C,P,z,N,W,K,ee){const ie=Pp.fromFeature(s,p);N===ya.vertical&&ie.verticalizePunctuation(W);let fe=[];const Te=function(Ne,pt,st,Mt,Zt,yt){if(!Ne)return[];const Lt=[],Ot=function(fn,Mn,gn,lr,tn,Bn){let cr=0;for(let Dr=0;Dr<fn.length();Dr++){const ur=fn.getSection(Dr);cr+=j7(fn.getCharCode(Dr),ur,lr,tn,Mn,Bn)}return cr/Math.max(1,Math.ceil(cr/gn))}(Ne,pt,st,Mt,Zt,yt),Wt=Ne.text.indexOf("")>=0;let en=0;for(let fn=0;fn<Ne.length();fn++){const Mn=Ne.getSection(fn),gn=Ne.getCharCode(fn);if(Z0[gn]||(en+=j7(gn,Mn,Mt,Zt,pt,yt)),fn<Ne.length()-1){const lr=!((kt=gn)<11904||!(vn["Bopomofo Extended"](kt)||vn.Bopomofo(kt)||vn["CJK Compatibility Forms"](kt)||vn["CJK Compatibility Ideographs"](kt)||vn["CJK Compatibility"](kt)||vn["CJK Radicals Supplement"](kt)||vn["CJK Strokes"](kt)||vn["CJK Symbols and Punctuation"](kt)||vn["CJK Unified Ideographs Extension A"](kt)||vn["CJK Unified Ideographs"](kt)||vn["Enclosed CJK Letters and Months"](kt)||vn["Halfwidth and Fullwidth Forms"](kt)||vn.Hiragana(kt)||vn["Ideographic Description Characters"](kt)||vn["Kangxi Radicals"](kt)||vn["Katakana Phonetic Extensions"](kt)||vn.Katakana(kt)||vn["Vertical Forms"](kt)||vn["Yi Radicals"](kt)||vn["Yi Syllables"](kt)));(hz[gn]||lr||Mn.imageName)&&Lt.push(U7(fn+1,en,Ot,Lt,pz(gn,Ne.getCharCode(fn+1),lr&&Wt),!1))}}var kt;return W7(U7(Ne.length(),en,Ot,Lt,0,!0))}(ie,P,g,n,d,K),{processBidirectionalText:Fe,processStyledBidirectionalText:Ce}=D;if(Fe&&ie.sections.length===1){const Ne=Fe(ie.toString(),Te);for(const pt of Ne){const st=new Pp;st.text=pt,st.sections=ie.sections;for(let Mt=0;Mt<pt.length;Mt++)st.sectionIndex.push(0);fe.push(st)}}else if(Ce){const Ne=Ce(ie.text,ie.sectionIndex,Te);for(const pt of Ne){const st=new Pp;st.text=pt[0],st.sectionIndex=pt[1],st.sections=ie.sections,fe.push(st)}}else fe=function(Ne,pt){const st=[],Mt=Ne.text;let Zt=0;for(const yt of pt)st.push(Ne.substring(Zt,yt)),Zt=yt;return Zt<Mt.length&&st.push(Ne.substring(Zt,Mt.length)),st}(ie,Te);const Oe=[],Ve={positionedLines:Oe,text:ie.toString(),top:z[1],bottom:z[1],left:z[0],right:z[0],writingMode:N,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(Ne,pt,st,Mt,Zt,yt,Lt,Ot,Wt,en,kt,fn){let Mn=0,gn=0,lr=0;const tn=Ot==="right"?1:Ot==="left"?0:.5;let Bn=!1;for(const mr of Zt){const gr=mr.getSections();for(const Kr of gr){if(Kr.imageName)continue;const ii=pt[Kr.fontStack];if(ii&&(Bn=ii.ascender!==void 0&&ii.descender!==void 0,!Bn))break}if(!Bn)break}let cr=0;for(const mr of Zt){mr.trim();const gr=mr.getMaxScale(),Kr=(gr-1)*Po,ii={positionedGlyphs:[],lineOffset:0};Ne.positionedLines[cr]=ii;const oi=ii.positionedGlyphs;let Jr=0;if(!mr.length()){gn+=yt,++cr;continue}let Ei=0,Oi=0;for(let Qr=0;Qr<mr.length();Qr++){const ro=mr.getSection(Qr),Xi=mr.getSectionIndex(Qr),Ai=mr.getCharCode(Qr);let Lr=ro.scale,Yi=null,si=null,hs=null,Ki=Po,ko=0;const go=!(Wt===ya.horizontal||!kt&&!v1(Ai)||kt&&(Z0[Ai]||(Dr=Ai,vn.Arabic(Dr)||vn["Arabic Supplement"](Dr)||vn["Arabic Extended-A"](Dr)||vn["Arabic Presentation Forms-A"](Dr)||vn["Arabic Presentation Forms-B"](Dr))));if(ro.imageName){const ps=Mt[ro.imageName];if(!ps)continue;hs=ro.imageName,Ne.iconsInText=Ne.iconsInText||!0,si=ps.paddedRect;const yo=ps.displaySize;Lr=Lr*Po/fn,Yi={width:yo[0],height:yo[1],left:ks,top:-B7,advance:go?yo[1]:yo[0],localGlyph:!1},ko=Bn?-Yi.height*Lr:$7+gr*Po-yo[1]*Lr,Ki=Yi.advance;const Ml=(go?yo[0]:yo[1])*Lr-Po*gr;Ml>0&&Ml>Jr&&(Jr=Ml)}else{const ps=st[ro.fontStack];if(!ps)continue;ps[Ai]&&(si=ps[Ai]);const yo=pt[ro.fontStack];if(!yo)continue;const Ml=yo.glyphs[Ai];if(!Ml)continue;if(Yi=Ml.metrics,Ki=Ai!==8203?Po:0,Bn){const zp=yo.ascender!==void 0?Math.abs(yo.ascender):0,nm=yo.descender!==void 0?Math.abs(yo.descender):0,rm=(zp+nm)*Lr;Ei<rm&&(Ei=rm,Oi=(zp-nm)/2*Lr),ko=-zp*Lr}else ko=$7+(gr-Lr)*Po}go?(Ne.verticalizable=!0,oi.push({glyph:Ai,imageName:hs,x:Mn,y:gn+ko,vertical:go,scale:Lr,localGlyph:Yi.localGlyph,fontStack:ro.fontStack,sectionIndex:Xi,metrics:Yi,rect:si}),Mn+=Ki*Lr+en):(oi.push({glyph:Ai,imageName:hs,x:Mn,y:gn+ko,vertical:go,scale:Lr,localGlyph:Yi.localGlyph,fontStack:ro.fontStack,sectionIndex:Xi,metrics:Yi,rect:si}),Mn+=Yi.advance*Lr+en)}oi.length!==0&&(lr=Math.max(Mn-en,lr),Bn?H7(oi,tn,Jr,Oi,yt*gr/2):H7(oi,tn,Jr,0,yt/2)),Mn=0;const Zi=yt*gr+Jr;ii.lineOffset=Math.max(Jr,Kr),gn+=Zi,++cr}var Dr;const ur=gn,{horizontalAlign:Yn,verticalAlign:ui}=Dx(Lt);(function(mr,gr,Kr,ii,oi,Jr){const Ei=(gr-Kr)*oi,Oi=-Jr*ii;for(const Zi of mr)for(const Qr of Zi.positionedGlyphs)Qr.x+=Ei,Qr.y+=Oi})(Ne.positionedLines,tn,Yn,ui,lr,ur),Ne.top+=-ui*ur,Ne.bottom=Ne.top+ur,Ne.left+=-Yn*lr,Ne.right=Ne.left+lr,Ne.hasBaseline=Bn}(Ve,n,a,d,fe,v,w,C,N,P,W,ee),!function(Ne){for(const pt of Ne)if(pt.positionedGlyphs.length!==0)return!1;return!0}(Oe)&&Ve}const Z0={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},hz={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function j7(s,n,a,d,p,g){if(n.imageName){const v=d[n.imageName];return v?v.displaySize[0]*n.scale*Po/g+p:0}{const v=a[n.fontStack],w=v&&v.glyphs[s];return w?w.metrics.advance*n.scale+p:0}}function V7(s,n,a,d){const p=Math.pow(s-n,2);return d?s<n?p/2:2*p:p+Math.abs(a)*a}function pz(s,n,a){let d=0;return s===10&&(d-=1e4),a&&(d+=150),s!==40&&s!==65288||(d+=50),n!==41&&n!==65289||(d+=50),d}function U7(s,n,a,d,p,g){let v=null,w=V7(n,a,p,g);for(const C of d){const P=V7(n-C.x,a,p,g)+C.badness;P<=w&&(v=C,w=P)}return{index:s,x:n,priorBreak:v,badness:w}}function W7(s){return s?W7(s.priorBreak).concat(s.index):[]}function Dx(s){let n=.5,a=.5;switch(s){case"right":case"top-right":case"bottom-right":n=1;break;case"left":case"top-left":case"bottom-left":n=0}switch(s){case"bottom":case"bottom-right":case"bottom-left":a=1;break;case"top":case"top-right":case"top-left":a=0}return{horizontalAlign:n,verticalAlign:a}}function H7(s,n,a,d,p){if(!(n||a||d||p))return;const g=s.length-1,v=s[g],w=(v.x+v.metrics.advance*v.scale)*n;for(let C=0;C<=g;C++)s[C].x-=w,s[C].y+=a+d+p}function fz(s,n,a){const{horizontalAlign:d,verticalAlign:p}=Dx(a),g=n[0]-s.displaySize[0]*d,v=n[1]-s.displaySize[1]*p;return{image:s,top:v,bottom:v+s.displaySize[1],left:g,right:g+s.displaySize[0]}}function G7(s,n,a,d,p,g){const v=s.image;let w;if(v.content){const fe=v.content,Te=v.pixelRatio||1;w=[fe[0]/Te,fe[1]/Te,v.displaySize[0]-fe[2]/Te,v.displaySize[1]-fe[3]/Te]}const C=n.left*g,P=n.right*g;let z,N,W,K;a==="width"||a==="both"?(K=p[0]+C-d[3],N=p[0]+P+d[1]):(K=p[0]+(C+P-v.displaySize[0])/2,N=K+v.displaySize[0]);const ee=n.top*g,ie=n.bottom*g;return a==="height"||a==="both"?(z=p[1]+ee-d[0],W=p[1]+ie+d[2]):(z=p[1]+(ee+ie-v.displaySize[1])/2,W=z+v.displaySize[1]),{image:v,top:z,right:N,bottom:W,left:K,collisionPadding:w}}class ru extends ce{constructor(n,a,d,p,g){super(n,a),this.angle=p,this.z=d,g!==void 0&&(this.segment=g)}clone(){return new ru(this.x,this.y,this.z,this.angle,this.segment)}}function q7(s,n,a,d,p){if(n.segment===void 0)return!0;let g=n,v=n.segment+1,w=0;for(;w>-a/2;){if(v--,v<0)return!1;w-=s[v].dist(g),g=s[v]}w+=s[v].dist(s[v+1]),v++;const C=[];let P=0;for(;w<a/2;){const z=s[v],N=s[v+1];if(!N)return!1;let W=s[v-1].angleTo(z)-z.angleTo(N);for(W=Math.abs((W+3*Math.PI)%(2*Math.PI)-Math.PI),C.push({distance:w,angleDelta:W}),P+=W;w-C[0].distance>d;)P-=C.shift().angleDelta;if(P>p)return!1;v++,w+=z.dist(N)}return!0}function Z7(s){let n=0;for(let a=0;a<s.length-1;a++)n+=s[a].dist(s[a+1]);return n}function X7(s,n,a){return s?.6*n*a:0}function Y7(s,n){return Math.max(s?s.right-s.left:0,n?n.right-n.left:0)}function mz(s,n,a,d,p,g){const v=X7(a,p,g),w=Y7(a,d)*g;let C=0;const P=Z7(s)/2;for(let z=0;z<s.length-1;z++){const N=s[z],W=s[z+1],K=N.dist(W);if(C+K>P){const ee=(P-C)/K,ie=wr(N.x,W.x,ee),fe=wr(N.y,W.y,ee),Te=new ru(ie,fe,0,W.angleTo(N),z);return!v||q7(s,Te,w,v,n)?Te:void 0}C+=K}}function gz(s,n,a,d,p,g,v,w,C){const P=X7(d,g,v),z=Y7(d,p),N=z*v,W=s[0].x===0||s[0].x===C||s[0].y===0||s[0].y===C;return n-N<n/4&&(n=N+n/4),K7(s,W?n/2*w%n:(z/2+2*g)*v*w%n,n,P,a,N,W,!1,C)}function K7(s,n,a,d,p,g,v,w,C){const P=g/2,z=Z7(s);let N=0,W=n-a,K=[];for(let ee=0;ee<s.length-1;ee++){const ie=s[ee],fe=s[ee+1],Te=ie.dist(fe),Fe=fe.angleTo(ie);for(;W+a<N+Te;){W+=a;const Ce=(W-N)/Te,Oe=wr(ie.x,fe.x,Ce),Ve=wr(ie.y,fe.y,Ce);if(Oe>=0&&Oe<C&&Ve>=0&&Ve<C&&W-P>=0&&W+P<=z){const Ne=new ru(Oe,Ve,0,Fe,ee);Ne._round(),d&&!q7(s,Ne,g,d,p)||K.push(Ne)}}N+=Te}return w||K.length||v||(K=K7(s,N/2,a,d,p,g,v,!0,C)),K}function J7(s,n,a,d,p){const g=[];for(let v=0;v<s.length;v++){const w=s[v];let C;for(let P=0;P<w.length-1;P++){let z=w[P],N=w[P+1];z.x<n&&N.x<n||(z.x<n?z=new ce(n,z.y+(n-z.x)/(N.x-z.x)*(N.y-z.y))._round():N.x<n&&(N=new ce(n,z.y+(n-z.x)/(N.x-z.x)*(N.y-z.y))._round()),z.y<a&&N.y<a||(z.y<a?z=new ce(z.x+(a-z.y)/(N.y-z.y)*(N.x-z.x),a)._round():N.y<a&&(N=new ce(z.x+(a-z.y)/(N.y-z.y)*(N.x-z.x),a)._round()),z.x>=d&&N.x>=d||(z.x>=d?z=new ce(d,z.y+(d-z.x)/(N.x-z.x)*(N.y-z.y))._round():N.x>=d&&(N=new ce(d,z.y+(d-z.x)/(N.x-z.x)*(N.y-z.y))._round()),z.y>=p&&N.y>=p||(z.y>=p?z=new ce(z.x+(p-z.y)/(N.y-z.y)*(N.x-z.x),p)._round():N.y>=p&&(N=new ce(z.x+(p-z.y)/(N.y-z.y)*(N.x-z.x),p)._round()),C&&z.equals(C[C.length-1])||(C=[z],g.push(C)),C.push(N)))))}}return g}Sn(ru,"Anchor");const q1=1e20;function Q7(s,n,a,d,p,g,v,w,C){for(let P=n;P<n+d;P++)eS(s,a*g+P,g,p,v,w,C);for(let P=a;P<a+p;P++)eS(s,P*g+n,1,d,v,w,C)}function eS(s,n,a,d,p,g,v){g[0]=0,v[0]=-q1,v[1]=q1,p[0]=s[n];for(let w=1,C=0,P=0;w<d;w++){p[w]=s[n+w*a];const z=w*w;do{const N=g[C];P=(p[w]-p[N]+z-N*N)/(w-N)/2}while(P<=v[C]&&--C>-1);C++,g[C]=w,v[C]=P,v[C+1]=q1}for(let w=0,C=0;w<d;w++){for(;v[C+1]<w;)C++;const P=g[C],z=w-P;s[n+w*a]=p[P]+z*z}}const Pl=2,Rx={none:0,ideographs:1,all:2};class kp{constructor(n,a,d){this.requestManager=n,this.localGlyphMode=a,this.localFontFamily=d,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(n){this.url=n}getGlyphs(n,a){const d=[];for(const p in n)for(const g of n[p])d.push({stack:p,id:g});ct(d,({stack:p,id:g},v)=>{let w=this.entries[p];w||(w=this.entries[p]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let C=w.glyphs[g];if(C!==void 0)return void v(null,{stack:p,id:g,glyph:C});if(C=this._tinySDF(w,p,g),C)return w.glyphs[g]=C,void v(null,{stack:p,id:g,glyph:C});const P=Math.floor(g/256);if(256*P>65535)return void v(new Error("glyphs > 65535 not supported"));if(w.ranges[P])return void v(null,{stack:p,id:g,glyph:C});let z=w.requests[P];z||(z=w.requests[P]=[],kp.loadGlyphRange(p,P,this.url,this.requestManager,(N,W)=>{if(W){w.ascender=W.ascender,w.descender=W.descender;for(const K in W.glyphs)this._doesCharSupportLocalGlyph(+K)||(w.glyphs[+K]=W.glyphs[+K]);w.ranges[P]=!0}for(const K of z)K(N,W);delete w.requests[P]})),z.push((N,W)=>{N?v(N):W&&v(null,{stack:p,id:g,glyph:W.glyphs[g]||null})})},(p,g)=>{if(p)a(p);else if(g){const v={};for(const{stack:w,id:C,glyph:P}of g)v[w]===void 0&&(v[w]={}),v[w].glyphs===void 0&&(v[w].glyphs={}),v[w].glyphs[C]=P&&{id:P.id,bitmap:P.bitmap.clone(),metrics:P.metrics},v[w].ascender=this.entries[w].ascender,v[w].descender=this.entries[w].descender;a(null,v)}})}_doesCharSupportLocalGlyph(n){return this.localGlyphMode!==Rx.none&&(this.localGlyphMode===Rx.all?!!this.localFontFamily:!!this.localFontFamily&&(vn["CJK Unified Ideographs"](n)||vn["Hangul Syllables"](n)||vn.Hiragana(n)||vn.Katakana(n)||vn["CJK Symbols and Punctuation"](n)))}_tinySDF(n,a,d){const p=this.localFontFamily;if(!p||!this._doesCharSupportLocalGlyph(d))return;let g=n.tinySDF;if(!g){let ie="400";/bold/i.test(a)?ie="900":/medium/i.test(a)?ie="500":/light/i.test(a)&&(ie="200"),g=n.tinySDF=new kp.TinySDF({fontFamily:p,fontWeight:ie,fontSize:24*Pl,buffer:3*Pl,radius:8*Pl}),g.fontWeight=ie}if(this.localGlyphs[g.fontWeight][d])return this.localGlyphs[g.fontWeight][d];const v=String.fromCharCode(d),{data:w,width:C,height:P,glyphWidth:z,glyphHeight:N,glyphLeft:W,glyphTop:K,glyphAdvance:ee}=g.draw(v);return this.localGlyphs[g.fontWeight][d]={id:d,bitmap:new tu({width:C,height:P},w),metrics:{width:z/Pl,height:N/Pl,left:W/Pl,top:K/Pl-27,advance:ee/Pl,localGlyph:!0}}}}kp.loadGlyphRange=function(s,n,a,d,p){const g=256*n,v=g+255,w=d.transformRequest(d.normalizeGlyphsURL(a).replace("{fontstack}",s).replace("{range}",`${g}-${v}`),yn.Glyphs);Ur(w,(C,P)=>{if(C)p(C);else if(P){const z={},N=function(W){return new q0(W).readFields(cz,{})}(P);for(const W of N.glyphs)z[W.id]=W;p(null,{glyphs:z,ascender:N.ascender,descender:N.descender})}})},kp.TinySDF=class{constructor({fontSize:s=24,buffer:n=3,radius:a=8,cutoff:d=.25,fontFamily:p="sans-serif",fontWeight:g="normal",fontStyle:v="normal"}={}){this.buffer=n,this.cutoff=d,this.radius=a;const w=this.size=s+4*n,C=this._createCanvas(w),P=this.ctx=C.getContext("2d",{willReadFrequently:!0});P.font=`${v} ${g} ${s}px ${p}`,P.textBaseline="alphabetic",P.textAlign="left",P.fillStyle="black",this.gridOuter=new Float64Array(w*w),this.gridInner=new Float64Array(w*w),this.f=new Float64Array(w),this.z=new Float64Array(w+1),this.v=new Uint16Array(w)}_createCanvas(s){const n=document.createElement("canvas");return n.width=n.height=s,n}draw(s){const{width:n,actualBoundingBoxAscent:a,actualBoundingBoxDescent:d,actualBoundingBoxLeft:p,actualBoundingBoxRight:g}=this.ctx.measureText(s),v=Math.ceil(a),w=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(g-p))),C=Math.min(this.size-this.buffer,v+Math.ceil(d)),P=w+2*this.buffer,z=C+2*this.buffer,N=Math.max(P*z,0),W=new Uint8ClampedArray(N),K={data:W,width:P,height:z,glyphWidth:w,glyphHeight:C,glyphTop:v,glyphLeft:0,glyphAdvance:n};if(w===0||C===0)return K;const{ctx:ee,buffer:ie,gridInner:fe,gridOuter:Te}=this;ee.clearRect(ie,ie,w,C),ee.fillText(s,ie,ie+v);const Fe=ee.getImageData(ie,ie,w,C);Te.fill(q1,0,N),fe.fill(0,0,N);for(let Ce=0;Ce<C;Ce++)for(let Oe=0;Oe<w;Oe++){const Ve=Fe.data[4*(Ce*w+Oe)+3]/255;if(Ve===0)continue;const Ne=(Ce+ie)*P+Oe+ie;if(Ve===1)Te[Ne]=0,fe[Ne]=q1;else{const pt=.5-Ve;Te[Ne]=pt>0?pt*pt:0,fe[Ne]=pt<0?pt*pt:0}}Q7(Te,0,0,P,z,P,this.f,this.v,this.z),Q7(fe,ie,ie,w,C,P,this.f,this.v,this.z);for(let Ce=0;Ce<N;Ce++){const Oe=Math.sqrt(Te[Ce])-Math.sqrt(fe[Ce]);W[Ce]=Math.round(255-255*(Oe/this.radius+this.cutoff))}return K}};const Mp=ks;function tS(s,n,a,d){const p=[],g=s.image,v=g.pixelRatio,w=g.paddedRect.w-2*Mp,C=g.paddedRect.h-2*Mp,P=s.right-s.left,z=s.bottom-s.top,N=g.stretchX||[[0,w]],W=g.stretchY||[[0,C]],K=(yt,Lt)=>yt+Lt[1]-Lt[0],ee=N.reduce(K,0),ie=W.reduce(K,0),fe=w-ee,Te=C-ie;let Fe=0,Ce=ee,Oe=0,Ve=ie,Ne=0,pt=fe,st=0,Mt=Te;if(g.content&&d){const yt=g.content;Fe=X0(N,0,yt[0]),Oe=X0(W,0,yt[1]),Ce=X0(N,yt[0],yt[2]),Ve=X0(W,yt[1],yt[3]),Ne=yt[0]-Fe,st=yt[1]-Oe,pt=yt[2]-yt[0]-Ce,Mt=yt[3]-yt[1]-Ve}const Zt=(yt,Lt,Ot,Wt)=>{const en=Y0(yt.stretch-Fe,Ce,P,s.left),kt=K0(yt.fixed-Ne,pt,yt.stretch,ee),fn=Y0(Lt.stretch-Oe,Ve,z,s.top),Mn=K0(Lt.fixed-st,Mt,Lt.stretch,ie),gn=Y0(Ot.stretch-Fe,Ce,P,s.left),lr=K0(Ot.fixed-Ne,pt,Ot.stretch,ee),tn=Y0(Wt.stretch-Oe,Ve,z,s.top),Bn=K0(Wt.fixed-st,Mt,Wt.stretch,ie),cr=new ce(en,fn),Dr=new ce(gn,fn),ur=new ce(gn,tn),Yn=new ce(en,tn),ui=new ce(kt/v,Mn/v),mr=new ce(lr/v,Bn/v),gr=n*Math.PI/180;if(gr){const oi=Math.sin(gr),Jr=Math.cos(gr),Ei=[Jr,-oi,oi,Jr];cr._matMult(Ei),Dr._matMult(Ei),Yn._matMult(Ei),ur._matMult(Ei)}const Kr=yt.stretch+yt.fixed,ii=Lt.stretch+Lt.fixed;return{tl:cr,tr:Dr,bl:Yn,br:ur,tex:{x:g.paddedRect.x+Mp+Kr,y:g.paddedRect.y+Mp+ii,w:Ot.stretch+Ot.fixed-Kr,h:Wt.stretch+Wt.fixed-ii},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:ui,pixelOffsetBR:mr,minFontScaleX:pt/v/P,minFontScaleY:Mt/v/z,isSDF:a}};if(d&&(g.stretchX||g.stretchY)){const yt=nS(N,fe,ee),Lt=nS(W,Te,ie);for(let Ot=0;Ot<yt.length-1;Ot++){const Wt=yt[Ot],en=yt[Ot+1];for(let kt=0;kt<Lt.length-1;kt++)p.push(Zt(Wt,Lt[kt],en,Lt[kt+1]))}}else p.push(Zt({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:w+1},{fixed:0,stretch:C+1}));return p}function X0(s,n,a){let d=0;for(const p of s)d+=Math.max(n,Math.min(a,p[1]))-Math.max(n,Math.min(a,p[0]));return d}function nS(s,n,a){const d=[{fixed:-Mp,stretch:0}];for(const[p,g]of s){const v=d[d.length-1];d.push({fixed:p-v.stretch,stretch:v.stretch}),d.push({fixed:p-v.stretch,stretch:v.stretch+(g-p)})}return d.push({fixed:n+Mp,stretch:a}),d}function Y0(s,n,a,d){return s/n*a+d}function K0(s,n,a,d){return s-n*a/d}function yz(s,n,a,d){const p=n+s.positionedLines[d].lineOffset;return d===0?a+p/2:a+(p+(n+s.positionedLines[d-1].lineOffset))/2}class _z{constructor(n=[],a=vz){if(this.data=n,this.length=this.data.length,this.compare=a,this.length>0)for(let d=(this.length>>1)-1;d>=0;d--)this._down(d)}push(n){this.data.push(n),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const n=this.data[0],a=this.data.pop();return this.length--,this.length>0&&(this.data[0]=a,this._down(0)),n}peek(){return this.data[0]}_up(n){const{data:a,compare:d}=this,p=a[n];for(;n>0;){const g=n-1>>1,v=a[g];if(d(p,v)>=0)break;a[n]=v,n=g}a[n]=p}_down(n){const{data:a,compare:d}=this,p=this.length>>1,g=a[n];for(;n<p;){let v=1+(n<<1),w=a[v];const C=v+1;if(C<this.length&&d(a[C],w)<0&&(v=C,w=a[C]),d(w,g)>=0)break;a[n]=w,n=v}a[n]=g}}function vz(s,n){return s<n?-1:s>n?1:0}function xz(s,n=1,a=!1){let d=1/0,p=1/0,g=-1/0,v=-1/0;const w=s[0];for(let K=0;K<w.length;K++){const ee=w[K];(!K||ee.x<d)&&(d=ee.x),(!K||ee.y<p)&&(p=ee.y),(!K||ee.x>g)&&(g=ee.x),(!K||ee.y>v)&&(v=ee.y)}const C=Math.min(g-d,v-p);let P=C/2;const z=new _z([],bz);if(C===0)return new ce(d,p);for(let K=d;K<g;K+=C)for(let ee=p;ee<v;ee+=C)z.push(new Ip(K+P,ee+P,P,s));let N=function(K){let ee=0,ie=0,fe=0;const Te=K[0];for(let Fe=0,Ce=Te.length,Oe=Ce-1;Fe<Ce;Oe=Fe++){const Ve=Te[Fe],Ne=Te[Oe],pt=Ve.x*Ne.y-Ne.x*Ve.y;ie+=(Ve.x+Ne.x)*pt,fe+=(Ve.y+Ne.y)*pt,ee+=3*pt}return new Ip(ie/ee,fe/ee,0,K)}(s),W=z.length;for(;z.length;){const K=z.pop();(K.d>N.d||!N.d)&&(N=K,a&&console.log("found best %d after %d probes",Math.round(1e4*K.d)/1e4,W)),K.max-N.d<=n||(P=K.h/2,z.push(new Ip(K.p.x-P,K.p.y-P,P,s)),z.push(new Ip(K.p.x+P,K.p.y-P,P,s)),z.push(new Ip(K.p.x-P,K.p.y+P,P,s)),z.push(new Ip(K.p.x+P,K.p.y+P,P,s)),W+=4)}return a&&(console.log(`num probes: ${W}`),console.log(`best distance: ${N.d}`)),N.p}function bz(s,n){return n.max-s.max}class Ip{constructor(n,a,d,p){this.p=new ce(n,a),this.h=d,this.d=function(g,v){let w=!1,C=1/0;for(let P=0;P<v.length;P++){const z=v[P];for(let N=0,W=z.length,K=W-1;N<W;K=N++){const ee=z[N],ie=z[K];ee.y>g.y!=ie.y>g.y&&g.x<(ie.x-ee.x)*(g.y-ee.y)/(ie.y-ee.y)+ee.x&&(w=!w),C=Math.min(C,K6(g,ee,ie))}}return(w?1:-1)*Math.sqrt(C)}(this.p,p),this.max=this.d+this.h*Math.SQRT2}}const Ap=7,zx=Number.POSITIVE_INFINITY,wz=Math.sqrt(2);function rS(s,[n,a]){let d=0,p=0;if(a===zx){n<0&&(n=0);const g=n/wz;switch(s){case"top-right":case"top-left":p=g-Ap;break;case"bottom-right":case"bottom-left":p=-g+Ap;break;case"bottom":p=-n+Ap;break;case"top":p=n-Ap}switch(s){case"top-right":case"bottom-right":d=-g;break;case"top-left":case"bottom-left":d=g;break;case"left":d=n;break;case"right":d=-n}}else{switch(n=Math.abs(n),a=Math.abs(a),s){case"top-right":case"top-left":case"top":p=a-Ap;break;case"bottom-right":case"bottom-left":case"bottom":p=-a+Ap}switch(s){case"top-right":case"bottom-right":case"right":d=-n;break;case"top-left":case"bottom-left":case"left":d=n}}return[d,p]}function Sz(s,n,a,d,p,g,v,w,C,P){s.createArrays(),s.tilePixelRatio=Un/(512*s.overscaling),s.compareText={},s.iconsNeedLinear=!1;const z=s.layers[0].layout,N=s.layers[0]._unevaluatedLayout._values,W={};if(s.textSizeData.kind==="composite"){const{minZoom:ie,maxZoom:fe}=s.textSizeData;W.compositeTextSizes=[N["text-size"].possiblyEvaluate(new O(ie),w),N["text-size"].possiblyEvaluate(new O(fe),w)]}if(s.iconSizeData.kind==="composite"){const{minZoom:ie,maxZoom:fe}=s.iconSizeData;W.compositeIconSizes=[N["icon-size"].possiblyEvaluate(new O(ie),w),N["icon-size"].possiblyEvaluate(new O(fe),w)]}W.layoutTextSize=N["text-size"].possiblyEvaluate(new O(C+1),w),W.layoutIconSize=N["icon-size"].possiblyEvaluate(new O(C+1),w),W.textMaxSize=N["text-size"].possiblyEvaluate(new O(18),w);const K=z.get("text-rotation-alignment")==="map"&&z.get("symbol-placement")!=="point",ee=z.get("text-size");for(const ie of s.features){const fe=z.get("text-font").evaluate(ie,{},w).join(","),Te=ee.evaluate(ie,{},w),Fe=W.layoutTextSize.evaluate(ie,{},w),Ce=(W.layoutIconSize.evaluate(ie,{},w),{horizontal:{},vertical:void 0}),Oe=ie.text;let Ve,Ne=[0,0];if(Oe){const Mt=Oe.toString(),Zt=z.get("text-letter-spacing").evaluate(ie,{},w)*Po,yt=z.get("text-line-height").evaluate(ie,{},w)*Po,Lt=Uv(Mt)?Zt:0,Ot=z.get("text-anchor").evaluate(ie,{},w),Wt=z.get("text-variable-anchor");if(!Wt){const gn=z.get("text-radial-offset").evaluate(ie,{},w);Ne=gn?rS(Ot,[gn*Po,zx]):z.get("text-offset").evaluate(ie,{},w).map(lr=>lr*Po)}let en=K?"center":z.get("text-justify").evaluate(ie,{},w);const kt=z.get("symbol-placement")==="point",fn=kt?z.get("text-max-width").evaluate(ie,{},w)*Po:1/0,Mn=gn=>{s.allowVerticalPlacement&&_1(Mt)&&(Ce.vertical=Ax(Oe,n,a,p,fe,fn,yt,Ot,gn,Lt,Ne,ya.vertical,!0,Fe,Te))};if(!K&&Wt){const gn=en==="auto"?Wt.map(tn=>Lx(tn)):[en];let lr=!1;for(let tn=0;tn<gn.length;tn++){const Bn=gn[tn];if(!Ce.horizontal[Bn])if(lr)Ce.horizontal[Bn]=Ce.horizontal[0];else{const cr=Ax(Oe,n,a,p,fe,fn,yt,"center",Bn,Lt,Ne,ya.horizontal,!1,Fe,Te);cr&&(Ce.horizontal[Bn]=cr,lr=cr.positionedLines.length===1)}}Mn("left")}else{if(en==="auto"&&(en=Lx(Ot)),kt||z.get("text-writing-mode").indexOf("horizontal")>=0||!_1(Mt)){const gn=Ax(Oe,n,a,p,fe,fn,yt,Ot,en,Lt,Ne,ya.horizontal,!1,Fe,Te);gn&&(Ce.horizontal[en]=gn)}Mn(kt?"left":en)}}let pt=!1;if(ie.icon&&ie.icon.name){const Mt=d[ie.icon.name];Mt&&(Ve=fz(p[ie.icon.name],z.get("icon-offset").evaluate(ie,{},w),z.get("icon-anchor").evaluate(ie,{},w)),pt=Mt.sdf,s.sdfIcons===void 0?s.sdfIcons=Mt.sdf:s.sdfIcons!==Mt.sdf&&rt("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Mt.pixelRatio!==s.pixelRatio||z.get("icon-rotate").constantOr(1)!==0)&&(s.iconsNeedLinear=!0))}const st=oS(Ce.horizontal)||Ce.vertical;s.iconsInText||(s.iconsInText=!!st&&st.iconsInText),(st||Ve)&&Tz(s,ie,Ce,Ve,d,W,Fe,0,Ne,pt,v,w,P)}g&&s.generateCollisionDebugBuffers(C,s.collisionBoxArray)}function Lx(s){switch(s){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Tz(s,n,a,d,p,g,v,w,C,P,z,N,W){let K=g.textMaxSize.evaluate(n,{},N);K===void 0&&(K=v);const ee=s.layers[0].layout,ie=ee.get("icon-offset").evaluate(n,{},N),fe=oS(a.horizontal)||a.vertical,Te=W.name==="globe",Fe=Po,Ce=v/Fe,Oe=s.tilePixelRatio*K/Fe,Ve=(Ot=s.overscaling,s.zoom>18&&Ot>2&&(Ot>>=1),Math.max(Un/(512*Ot),1)*ee.get("symbol-spacing")),Ne=ee.get("text-padding")*s.tilePixelRatio,pt=ee.get("icon-padding")*s.tilePixelRatio,st=$e(ee.get("text-max-angle")),Mt=ee.get("text-rotation-alignment")==="map"&&ee.get("symbol-placement")!=="point",Zt=ee.get("icon-rotation-alignment")==="map"&&ee.get("symbol-placement")!=="point",yt=ee.get("symbol-placement"),Lt=Ve/2;var Ot;const Wt=ee.get("icon-text-fit");let en;d&&Wt!=="none"&&(s.allowVerticalPlacement&&a.vertical&&(en=G7(d,a.vertical,Wt,ee.get("icon-text-fit-padding"),ie,Ce)),fe&&(d=G7(d,fe,Wt,ee.get("icon-text-fit-padding"),ie,Ce)));const kt=(fn,Mn,gn)=>{if(Mn.x<0||Mn.x>=Un||Mn.y<0||Mn.y>=Un)return;let lr=null;if(Te){const{x:tn,y:Bn,z:cr}=W.projectTilePoint(Mn.x,Mn.y,gn);lr={anchor:new ru(tn,Bn,cr,0,void 0),up:W.upVector(gn,Mn.x,Mn.y)}}(function(tn,Bn,cr,Dr,ur,Yn,ui,mr,gr,Kr,ii,oi,Jr,Ei,Oi,Zi,Qr,ro,Xi,Ai,Lr,Yi,si,hs,Ki){const ko=tn.addToLineVertexArray(Bn,Dr);let go,ps,yo,Ml,zp,nm,rm,BS=0,NS=0,$S=0,jS=0,Yx=-1,Kx=-1;const uc={};let VS=Gv("");const oh=cr?cr.anchor:Bn;let Jx=0,Qx=0;if(gr._unevaluatedLayout.getValue("text-radial-offset")===void 0?[Jx,Qx]=gr.layout.get("text-offset").evaluate(Lr,{},Ki).map(Us=>Us*Po):(Jx=gr.layout.get("text-radial-offset").evaluate(Lr,{},Ki)*Po,Qx=zx),tn.allowVerticalPlacement&&ur.vertical){const Us=ur.vertical;if(Oi)nm=Ox(Us),mr&&(rm=Ox(mr));else{const Ws=gr.layout.get("text-rotate").evaluate(Lr,{},Ki)+90;yo=J0(Kr,oh,Bn,ii,oi,Jr,Us,Ei,Ws,Zi),mr&&(Ml=J0(Kr,oh,Bn,ii,oi,Jr,mr,ro,Ws))}}if(Yn){const Us=gr.layout.get("icon-rotate").evaluate(Lr,{},Ki),Ws=gr.layout.get("icon-text-fit")!=="none",im=tS(Yn,Us,si,Ws),tb=mr?tS(mr,Us,si,Ws):void 0;ps=J0(Kr,oh,Bn,ii,oi,Jr,Yn,ro,Us),BS=4*im.length;const US=tn.iconSizeData;let sh=null;US.kind==="source"?(sh=[El*gr.layout.get("icon-size").evaluate(Lr,{},Ki)],sh[0]>Vu&&rt(`${tn.layerIds[0]}: Value for "icon-size" is >= ${Z1}. Reduce your "icon-size".`)):US.kind==="composite"&&(sh=[El*Yi.compositeIconSizes[0].evaluate(Lr,{},Ki),El*Yi.compositeIconSizes[1].evaluate(Lr,{},Ki)],(sh[0]>Vu||sh[1]>Vu)&&rt(`${tn.layerIds[0]}: Value for "icon-size" is >= ${Z1}. Reduce your "icon-size".`)),tn.addSymbols(tn.icon,im,sh,Ai,Xi,Lr,!1,cr,Bn,ko.lineStartIndex,ko.lineLength,-1,hs,Ki),Yx=tn.icon.placedSymbolArray.length-1,tb&&(NS=4*tb.length,tn.addSymbols(tn.icon,tb,sh,Ai,Xi,Lr,ya.vertical,cr,Bn,ko.lineStartIndex,ko.lineLength,-1,hs,Ki),Kx=tn.icon.placedSymbolArray.length-1)}for(const Us in ur.horizontal){const Ws=ur.horizontal[Us];go||(VS=Gv(Ws.text),Oi?zp=Ox(Ws):go=J0(Kr,oh,Bn,ii,oi,Jr,Ws,Ei,gr.layout.get("text-rotate").evaluate(Lr,{},Ki),Zi));const im=Ws.positionedLines.length===1;if($S+=iS(tn,cr,Bn,Ws,ui,gr,Oi,Lr,Zi,ko,ur.vertical?ya.horizontal:ya.horizontalOnly,im?Object.keys(ur.horizontal):[Us],uc,Yx,Yi,hs,Ki),im)break}ur.vertical&&(jS+=iS(tn,cr,Bn,ur.vertical,ui,gr,Oi,Lr,Zi,ko,ya.vertical,["vertical"],uc,Kx,Yi,hs,Ki));let Zu=-1;const eb=(Us,Ws)=>Us?Math.max(Us,Ws):Ws;Zu=eb(zp,Zu),Zu=eb(nm,Zu),Zu=eb(rm,Zu);const Jz=Zu>-1?1:0;tn.glyphOffsetArray.length>=Wu.MAX_GLYPHS&&rt("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Lr.sortKey!==void 0&&tn.addToSortKeyRanges(tn.symbolInstances.length,Lr.sortKey),tn.symbolInstances.emplaceBack(oh.x,oh.y,oh.z,Bn.x,Bn.y,uc.right>=0?uc.right:-1,uc.center>=0?uc.center:-1,uc.left>=0?uc.left:-1,uc.vertical>=0?uc.vertical:-1,Yx,Kx,VS,go!==void 0?go:tn.collisionBoxArray.length,go!==void 0?go+1:tn.collisionBoxArray.length,yo!==void 0?yo:tn.collisionBoxArray.length,yo!==void 0?yo+1:tn.collisionBoxArray.length,ps!==void 0?ps:tn.collisionBoxArray.length,ps!==void 0?ps+1:tn.collisionBoxArray.length,Ml||tn.collisionBoxArray.length,Ml?Ml+1:tn.collisionBoxArray.length,ii,$S,jS,BS,NS,Jz,0,Jx,Qx,Zu)})(s,Mn,lr,fn,a,d,p,en,s.layers[0],s.collisionBoxArray,n.index,n.sourceLayerIndex,s.index,Ne,Mt,C,0,pt,Zt,ie,n,g,P,z,N)};if(yt==="line")for(const fn of J7(n.geometry,0,0,Un,Un)){const Mn=gz(fn,Ve,st,a.vertical||fe,d,Fe,Oe,s.overscaling,Un);for(const gn of Mn)fe&&Cz(s,fe.text,Lt,gn)||kt(fn,gn,N)}else if(yt==="line-center"){for(const fn of n.geometry)if(fn.length>1){const Mn=mz(fn,st,a.vertical||fe,d,Fe,Oe);Mn&&kt(fn,Mn,N)}}else if(n.type==="Polygon")for(const fn of wx(n.geometry,0)){const Mn=xz(fn,16);kt(fn[0],new ru(Mn.x,Mn.y,0,0,void 0),N)}else if(n.type==="LineString")for(const fn of n.geometry)kt(fn,new ru(fn[0].x,fn[0].y,0,0,void 0),N);else if(n.type==="Point")for(const fn of n.geometry)for(const Mn of fn)kt([Mn],new ru(Mn.x,Mn.y,0,0,void 0),N)}const Z1=255,Vu=Z1*El;function iS(s,n,a,d,p,g,v,w,C,P,z,N,W,K,ee,ie,fe){const Te=function(Oe,Ve,Ne,pt,st,Mt,Zt,yt){const Lt=[];if(Ve.positionedLines.length===0)return Lt;const Ot=pt.layout.get("text-rotate").evaluate(Mt,{})*Math.PI/180,Wt=function(gn){const lr=gn[0],tn=gn[1],Bn=lr*tn;return Bn>0?[lr,-tn]:Bn<0?[-lr,tn]:lr===0?[tn,lr]:[tn,-lr]}(Ne);let en=Math.abs(Ve.top-Ve.bottom);for(const gn of Ve.positionedLines)en-=gn.lineOffset;const kt=Ve.positionedLines.length,fn=en/kt;let Mn=Ve.top-Ne[1];for(let gn=0;gn<kt;++gn){const lr=Ve.positionedLines[gn];Mn=yz(Ve,fn,Mn,gn);for(const tn of lr.positionedGlyphs){if(!tn.rect)continue;const Bn=tn.rect||{};let cr=B7+1,Dr=!0,ur=1,Yn=0;if(tn.imageName){const si=Zt[tn.imageName];if(!si)continue;if(si.sdf){rt("SDF images are not supported in formatted text and will be ignored.");continue}Dr=!1,ur=si.pixelRatio,cr=ks/ur}const ui=(st||yt)&&tn.vertical,mr=tn.metrics.advance*tn.scale/2,gr=tn.metrics,Kr=tn.rect;if(Kr===null)continue;yt&&Ve.verticalizable&&(Yn=tn.imageName?mr-tn.metrics.width*tn.scale/2:0);const ii=st?[tn.x+mr,tn.y]:[0,0];let oi=[0,0],Jr=[0,0],Ei=!1;st||(ui?(Jr=[tn.x+mr+Wt[0],tn.y+Wt[1]-Yn],Ei=!0):oi=[tn.x+mr+Ne[0],tn.y+Ne[1]-Yn]);const Oi=Kr.w*tn.scale/(ur*(tn.localGlyph?Pl:1)),Zi=Kr.h*tn.scale/(ur*(tn.localGlyph?Pl:1));let Qr,ro,Xi,Ai;if(ui){const si=tn.y-Mn,hs=new ce(-mr,mr-si),Ki=-Math.PI/2,ko=new ce(...Jr);Qr=new ce(-mr+oi[0],oi[1]),Qr._rotateAround(Ki,hs)._add(ko),Qr.x+=-si+mr,Qr.y-=(gr.left-cr)*tn.scale;const go=tn.imageName?gr.advance*tn.scale:Po*tn.scale,ps=String.fromCharCode(tn.glyph);JR(ps)?Qr.x+=(1-cr)*tn.scale:QR(ps)?Qr.x+=go-gr.height*tn.scale+(-cr-1)*tn.scale:Qr.x+=tn.imageName||gr.width+2*cr===Kr.w&&gr.height+2*cr===Kr.h?(go-Zi)/2:(go-(gr.height+2*cr)*tn.scale)/2,ro=new ce(Qr.x,Qr.y-Oi),Xi=new ce(Qr.x+Zi,Qr.y),Ai=new ce(Qr.x+Zi,Qr.y-Oi)}else{const si=(gr.left-cr)*tn.scale-mr+oi[0],hs=(-gr.top-cr)*tn.scale+oi[1],Ki=si+Oi,ko=hs+Zi;Qr=new ce(si,hs),ro=new ce(Ki,hs),Xi=new ce(si,ko),Ai=new ce(Ki,ko)}if(Ot){let si;si=st?new ce(0,0):Ei?new ce(Wt[0],Wt[1]):new ce(Ne[0],Ne[1]),Qr._rotateAround(Ot,si),ro._rotateAround(Ot,si),Xi._rotateAround(Ot,si),Ai._rotateAround(Ot,si)}const Lr=new ce(0,0),Yi=new ce(0,0);Lt.push({tl:Qr,tr:ro,bl:Xi,br:Ai,tex:Bn,writingMode:Ve.writingMode,glyphOffset:ii,sectionIndex:tn.sectionIndex,isSDF:Dr,pixelOffsetTL:Lr,pixelOffsetBR:Yi,minFontScaleX:0,minFontScaleY:0})}}return Lt}(0,d,C,g,v,w,p,s.allowVerticalPlacement),Fe=s.textSizeData;let Ce=null;Fe.kind==="source"?(Ce=[El*g.layout.get("text-size").evaluate(w,{},fe)],Ce[0]>Vu&&rt(`${s.layerIds[0]}: Value for "text-size" is >= ${Z1}. Reduce your "text-size".`)):Fe.kind==="composite"&&(Ce=[El*ee.compositeTextSizes[0].evaluate(w,{},fe),El*ee.compositeTextSizes[1].evaluate(w,{},fe)],(Ce[0]>Vu||Ce[1]>Vu)&&rt(`${s.layerIds[0]}: Value for "text-size" is >= ${Z1}. Reduce your "text-size".`)),s.addSymbols(s.text,Te,Ce,C,v,w,z,n,a,P.lineStartIndex,P.lineLength,K,ie,fe);for(const Oe of N)W[Oe]=s.text.placedSymbolArray.length-1;return 4*Te.length}function oS(s){for(const n in s)return s[n];return null}function J0(s,n,a,d,p,g,v,w,C,P){let z=v.top,N=v.bottom,W=v.left,K=v.right;const ee=v.collisionPadding;if(ee&&(W-=ee[0],z-=ee[1],K+=ee[2],N+=ee[3]),C){const ie=new ce(W,z),fe=new ce(K,z),Te=new ce(W,N),Fe=new ce(K,N),Ce=$e(C);let Oe=new ce(0,0);P&&(Oe=new ce(P[0],P[1])),ie._rotateAround(Ce,Oe),fe._rotateAround(Ce,Oe),Te._rotateAround(Ce,Oe),Fe._rotateAround(Ce,Oe),W=Math.min(ie.x,fe.x,Te.x,Fe.x),K=Math.max(ie.x,fe.x,Te.x,Fe.x),z=Math.min(ie.y,fe.y,Te.y,Fe.y),N=Math.max(ie.y,fe.y,Te.y,Fe.y)}return s.emplaceBack(n.x,n.y,n.z,a.x,a.y,W,z,K,N,w,d,p,g),s.length-1}function Ox(s){s.collisionPadding&&(s.top-=s.collisionPadding[1],s.bottom+=s.collisionPadding[3]);const n=s.bottom-s.top;return n>0?Math.max(10,n):null}function Cz(s,n,a,d){const p=s.compareText;if(n in p){const g=p[n];for(let v=g.length-1;v>=0;v--)if(d.dist(g[v])<a)return!0}else p[n]=[];return p[n].push(d),!1}function sS(s,n){const a=s.fovAboveCenter,d=s.elevation?s.elevation.getMinElevationBelowMSL()*n:0,p=(s._camera.position[2]*s.worldSize-d)/Math.cos(s._pitch),g=Math.sin(a)*p/Math.sin(Math.max(Math.PI/2-s._pitch-a,.01)),v=Math.sin(s._pitch)*g+p;return Math.min(1.01*v,p*(1/s._horizonShift))}function rh(s,n){if(!n.isReprojectedInTileSpace)return{scale:1<<s.z,x:s.x,y:s.y,x2:s.x+1,y2:s.y+1,projection:n};const a=Math.pow(2,-s.z),d=s.x*a,p=(s.x+1)*a,g=s.y*a,v=(s.y+1)*a,w=ga(d),C=ga(p),P=Vo(g),z=Vo(v),N=n.project(w,P),W=n.project(C,P),K=n.project(C,z),ee=n.project(w,z);let ie=Math.min(N.x,W.x,K.x,ee.x),fe=Math.min(N.y,W.y,K.y,ee.y),Te=Math.max(N.x,W.x,K.x,ee.x),Fe=Math.max(N.y,W.y,K.y,ee.y);const Ce=a/16;function Oe(Ne,pt,st,Mt,Zt,yt){const Lt=(st+Zt)/2,Ot=(Mt+yt)/2,Wt=n.project(ga(Lt),Vo(Ot)),en=Math.max(0,ie-Wt.x,fe-Wt.y,Wt.x-Te,Wt.y-Fe);ie=Math.min(ie,Wt.x),Te=Math.max(Te,Wt.x),fe=Math.min(fe,Wt.y),Fe=Math.max(Fe,Wt.y),en>Ce&&(Oe(Ne,Wt,st,Mt,Lt,Ot),Oe(Wt,pt,Lt,Ot,Zt,yt))}Oe(N,W,d,g,p,g),Oe(W,K,p,g,p,v),Oe(K,ee,p,v,d,v),Oe(ee,N,d,v,d,g),ie-=Ce,fe-=Ce,Te+=Ce,Fe+=Ce;const Ve=1/Math.max(Te-ie,Fe-fe);return{scale:Ve,x:ie*Ve,y:fe*Ve,x2:Te*Ve,y2:Fe*Ve,projection:n}}const Ez=Sl(new Float32Array(16));class Uu{constructor(n){this.spec=n,this.name=n.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(n,a){return{x:0,y:0,z:0}}unproject(n,a){return new Yr(0,0)}projectTilePoint(n,a,d){return{x:n,y:a,z:0}}locationPoint(n,a,d=!0){return n._coordinatePoint(n.locationCoordinate(a),d)}pixelsPerMeter(n,a){return Cl(1,n)*a}pixelSpaceConversion(n,a,d){return 1}farthestPixelDistance(n){return sS(n,n.pixelsPerMeter)}pointCoordinate(n,a,d,p){const g=n.horizonLineFromTop(!1),v=new ce(a,Math.max(g,d));return n.rayIntersectionCoordinate(n.pointRayIntersection(v,p))}pointCoordinate3D(n,a,d){const p=new ce(a,d);if(n.elevation)return n.elevation.pointCoordinate(p);{const g=this.pointCoordinate(n,p.x,p.y,0);return[g.x,g.y,g.z]}}isPointAboveHorizon(n,a){if(n.elevation)return!this.pointCoordinate3D(n,a.x,a.y);const d=n.horizonLineFromTop();return a.y<d}createInversionMatrix(n,a){return Ez}createTileMatrix(n,a,d){let p,g,v;const w=d.canonical,C=Sl(new Float64Array(16));if(this.isReprojectedInTileSpace){const P=rh(w,this);p=1,g=P.x+d.wrap*P.scale,v=P.y,Yd(C,C,[p/P.scale,p/P.scale,n.pixelsPerMeter/a])}else p=a/n.zoomScale(w.z),g=(w.x+Math.pow(2,w.z)*d.wrap)*p,v=w.y*p;return C1(C,C,[g,v,0]),Yd(C,C,[p/Un,p/Un,1]),C}upVector(n,a,d){return[0,0,1]}upVectorScale(n,a,d){return{metersToTile:1}}}class Pz extends Uu{constructor(n){super(n),this.range=[4,7],this.center=n.center||[-96,37.5];const[a,d]=this.parallels=n.parallels||[29.5,45.5],p=Math.sin($e(a));this.n=(p+Math.sin($e(d)))/2,this.c=1+p*(2*this.n-p),this.r0=Math.sqrt(this.c)/this.n}project(n,a){const{n:d,c:p,r0:g}=this,v=$e(n-this.center[0]),w=$e(a),C=Math.sqrt(p-2*d*Math.sin(w))/d;return{x:C*Math.sin(v*d),y:C*Math.cos(v*d)-g,z:0}}unproject(n,a){const{n:d,c:p,r0:g}=this,v=g+a;let w=Math.atan2(n,Math.abs(v))*Math.sign(v);v*d<0&&(w-=Math.PI*Math.sign(n)*Math.sign(v));const C=$e(this.center[0])*d;w=qe(w,-Math.PI-C,Math.PI-C);const P=Me(_e(w/d)+this.center[0],-180,180),z=Math.asin(Me((p-(n*n+v*v)*d*d)/(2*d),-1,1)),N=Me(_e(z),-Uo,Uo);return new Yr(P,N)}}const X1=1.340264,Y1=-.081106,K1=893e-6,J1=.003796,Q0=Math.sqrt(3)/2;class kz extends Uu{project(n,a){a=a/180*Math.PI,n=n/180*Math.PI;const d=Math.asin(Q0*Math.sin(a)),p=d*d,g=p*p*p;return{x:.5*(n*Math.cos(d)/(Q0*(X1+3*Y1*p+g*(7*K1+9*J1*p)))/Math.PI+.5),y:1-.5*(d*(X1+Y1*p+g*(K1+J1*p))/Math.PI+1),z:0}}unproject(n,a){n=(2*n-.5)*Math.PI;let d=a=(2*(1-a)-1)*Math.PI,p=d*d,g=p*p*p;for(let z,N,W,K=0;K<12&&(N=d*(X1+Y1*p+g*(K1+J1*p))-a,W=X1+3*Y1*p+g*(7*K1+9*J1*p),z=N/W,d=Me(d-z,-Math.PI/3,Math.PI/3),p=d*d,g=p*p*p,!(Math.abs(z)<1e-12));++K);const v=Q0*n*(X1+3*Y1*p+g*(7*K1+9*J1*p))/Math.cos(d),w=Math.asin(Math.sin(d)/Q0),C=Me(180*v/Math.PI,-180,180),P=Me(180*w/Math.PI,-Uo,Uo);return new Yr(C,P)}}class Mz extends Uu{constructor(n){super(n),this.wrap=!0,this.supportsWorldCopies=!0}project(n,a){return{x:.5+n/360,y:.5-a/360,z:0}}unproject(n,a){const d=360*(n-.5),p=Me(360*(.5-a),-Uo,Uo);return new Yr(d,p)}}const Dp=Math.PI/2;function ey(s){return Math.tan((Dp+s)/2)}class Iz extends Uu{constructor(n){super(n),this.center=n.center||[0,30];const[a,d]=this.parallels=n.parallels||[30,30];let p=$e(a),g=$e(d);this.southernCenter=p+g<0,this.southernCenter&&(p=-p,g=-g);const v=Math.cos(p),w=ey(p);this.n=p===g?Math.sin(p):Math.log(v/Math.cos(g))/Math.log(ey(g)/w),this.f=v*Math.pow(ey(p),this.n)/this.n}project(n,a){a=$e(a),this.southernCenter&&(a=-a),n=$e(n-this.center[0]);const d=1e-6,{n:p,f:g}=this;g>0?a<-Dp+d&&(a=-Dp+d):a>Dp-d&&(a=Dp-d);const v=g/Math.pow(ey(a),p);let w=v*Math.sin(p*n),C=g-v*Math.cos(p*n);return w=.5*(w/Math.PI+.5),C=.5*(C/Math.PI+.5),{x:w,y:this.southernCenter?C:1-C,z:0}}unproject(n,a){n=(2*n-.5)*Math.PI,this.southernCenter&&(a=1-a),a=(2*(1-a)-.5)*Math.PI;const{n:d,f:p}=this,g=p-a,v=Math.sign(g),w=Math.sign(d)*Math.sqrt(n*n+g*g);let C=Math.atan2(n,Math.abs(g))*v;g*d<0&&(C-=Math.PI*Math.sign(n)*v);const P=Me(_e(C/d)+this.center[0],-180,180),z=Me(_e(2*Math.atan(Math.pow(p/w,1/d))-Dp),-Uo,Uo);return new Yr(P,this.southernCenter?-z:z)}}class aS extends Uu{constructor(n){super(n),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(n,a){return{x:oc(n),y:sc(a),z:0}}unproject(n,a){const d=ga(n),p=Vo(a);return new Yr(d,p)}}const lS=$e(Uo);class Az extends Uu{project(n,a){const d=(a=$e(a))*a,p=d*d;return{x:.5*((n=$e(n))*(.8707-.131979*d+p*(p*(.003971*d-.001529*p)-.013791))/Math.PI+.5),y:1-.5*(a*(1.007226+d*(.015085+p*(.028874*d-.044475-.005916*p)))/Math.PI+1),z:0}}unproject(n,a){n=(2*n-.5)*Math.PI;let d=a=(2*(1-a)-1)*Math.PI,p=25,g=0,v=d*d;do{v=d*d;const P=v*v;g=(d*(1.007226+v*(.015085+P*(.028874*v-.044475-.005916*P)))-a)/(1.007226+v*(.045255+P*(.259866*v-.311325-.005916*11*P))),d=Me(d-g,-lS,lS)}while(Math.abs(g)>1e-6&&--p>0);v=d*d;const w=Me(_e(n/(.8707+v*(v*(v*v*v*(.003971-.001529*v)-.013791)-.131979))),-180,180),C=_e(d);return new Yr(w,C)}}const cS=$e(Uo);class Dz extends Uu{project(n,a){a=$e(a),n=$e(n);const d=Math.cos(a),p=2/Math.PI,g=Math.acos(d*Math.cos(n/2)),v=Math.sin(g)/g,w=.5*(n*p+2*d*Math.sin(n/2)/v)||0,C=.5*(a+Math.sin(a)/v)||0;return{x:.5*(w/Math.PI+.5),y:1-.5*(C/Math.PI+1),z:0}}unproject(n,a){let d=n=(2*n-.5)*Math.PI,p=a=(2*(1-a)-1)*Math.PI,g=25;const v=1e-6;let w=0,C=0;do{const P=Math.cos(p),z=Math.sin(p),N=2*z*P,W=z*z,K=P*P,ee=Math.cos(d/2),ie=Math.sin(d/2),fe=2*ee*ie,Te=ie*ie,Fe=1-K*ee*ee,Ce=Fe?1/Fe:0,Oe=Fe?Math.acos(P*ee)*Math.sqrt(1/Fe):0,Ve=.5*(2*Oe*P*ie+2*d/Math.PI)-n,Ne=.5*(Oe*z+p)-a,pt=.5*Ce*(K*Te+Oe*P*ee*W)+1/Math.PI,st=Ce*(fe*N/4-Oe*z*ie),Mt=.125*Ce*(N*ie-Oe*z*K*fe),Zt=.5*Ce*(W*ee+Oe*Te*P)+.5,yt=st*Mt-Zt*pt;w=(Ne*st-Ve*Zt)/yt,C=(Ve*Mt-Ne*pt)/yt,d=Me(d-w,-Math.PI,Math.PI),p=Me(p-C,-cS,cS)}while((Math.abs(w)>v||Math.abs(C)>v)&&--g>0);return new Yr(_e(d),_e(p))}}class uS extends Uu{constructor(n){super(n),this.center=n.center||[0,0],this.parallels=n.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos($e(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(n,a){const{scale:d,cosPhi:p}=this;return{x:$e(n)*p*d+.5,y:-Math.sin($e(a))/p*d+.5,z:0}}unproject(n,a){const{scale:d,cosPhi:p}=this,g=-(a-.5)/d,v=Me(_e((n-.5)/d)/p,-180,180),w=Math.asin(Me(g*p,-1,1)),C=Me(_e(w),-Uo,Uo);return new Yr(v,C)}}class Rz extends aS{constructor(n){super(n),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug"],this.range=[3,5]}projectTilePoint(n,a,d){const p=R1(n,a,d);return $i(p,p,z1(ic(d))),{x:p[0],y:p[1],z:p[2]}}locationPoint(n,a){const d=yp(a.lat,a.lng),p=cs([],d),g=n.elevation?n.elevation.getAtPointOrZero(n.locationCoordinate(a),n._centerAltitude):n._centerAltitude;M1(d,d,p,Cl(1,0)*Un*g);const v=Sl(new Float64Array(16));return Xd(v,n.pixelMatrix,n.globeMatrix),$i(d,d,v),new ce(d[0],d[1])}pixelsPerMeter(n,a){return Cl(1,0)*a}pixelSpaceConversion(n,a,d){const p=Cl(1,n)*a,g=wr(Cl(1,45)*a,p,d);return this.pixelsPerMeter(n,a)/g}createTileMatrix(n,a,d){const p=sx(ic(d.canonical));return Xd(new Float64Array(16),n.globeMatrix,p)}createInversionMatrix(n,a){const{center:d}=n,p=z1(ic(a));return k0(p,p,$e(d.lng)),Yv(p,p,$e(d.lat)),Yd(p,p,[n._pixelsPerMercatorPixel,n._pixelsPerMercatorPixel,1]),Float32Array.from(p)}pointCoordinate(n,a,d,p){return F6(n,a,d,!0)||new vp(0,0)}pointCoordinate3D(n,a,d){const p=this.pointCoordinate(n,a,d,0);return[p.x,p.y,p.z]}isPointAboveHorizon(n,a){return!F6(n,a.x,a.y,!1)}farthestPixelDistance(n){const a=function(p,g){const v=p.cameraToCenterDistance,w=p._centerAltitude*g,C=p._camera,P=p._camera.forward(),z=Qc([],ma([],P,-v),[0,0,w]),N=p.worldSize/(2*Math.PI),W=[0,0,-N],K=p.width/p.height,ee=Math.tan(p.fovAboveCenter),ie=ma([],C.up(),ee),fe=ma([],C.right(),ee*K),Te=cs([],Qc([],Qc([],P,ie),fe)),Fe=[];let Ce;if(new ex(z,Te).closestPointOnSphere(W,N,Fe)){const Oe=Qc([],Fe,W),Ve=Tl([],Oe,z);Ce=Math.cos(p.fovAboveCenter)*E1(Ve)}else{const Oe=Tl([],z,W),Ve=Tl([],W,z);cs(Ve,Ve);const Ne=E1(Oe)-N;Ce=Math.sqrt(Ne*(Ne+2*N));const pt=Math.acos(Ce/(N+Ne))-Math.acos(Ba(P,Ve));Ce*=Math.cos(pt)}return 1.01*Ce}(n,this.pixelsPerMeter(n.center.lat,n.worldSize)),d=_p(n.zoom);if(d>0){const p=sS(n,Cl(1,n.center.lat)*n.worldSize),g=n.worldSize/(2*Math.PI),v=Math.max(n.width,n.height)/n.worldSize*Math.PI;return wr(a,p+g*(1-Math.cos(v)),Math.pow(d,10))}return a}upVector(n,a,d){return R1(a,d,n,1)}upVectorScale(n){return{metersToTile:M0(A0(ic(n)))}}}function dS(s){const n=s.parallels,a=!!n&&Math.abs(n[0]+n[1])<.01;switch(s.name){case"mercator":return new aS(s);case"equirectangular":return new Mz(s);case"naturalEarth":return new Az(s);case"equalEarth":return new kz(s);case"winkelTripel":return new Dz(s);case"albers":return a?new uS(s):new Pz(s);case"lambertConformalConic":return a?new uS(s):new Iz(s);case"globe":return new Rz(s)}throw new Error(`Invalid projection name: ${s.name}`)}const zz=j0.types,Lz=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function ty(s,n,a,d,p,g,v,w,C,P,z,N,W){const K=w?Math.min(Vu,Math.round(w[0])):0,ee=w?Math.min(Vu,Math.round(w[1])):0;s.emplaceBack(n,a,Math.round(32*d),Math.round(32*p),g,v,(K<<1)+(C?1:0),ee,16*P,16*z,256*N,256*W)}function ny(s,n,a,d,p,g,v){s.emplaceBack(n,a,d,p,g,v)}function ry(s,n,a,d,p){s.emplaceBack(n,a,d,p),s.emplaceBack(n,a,d,p),s.emplaceBack(n,a,d,p),s.emplaceBack(n,a,d,p)}function Oz(s){for(const n of s.sections)if(Hv(n.text))return!0;return!1}class Fx{constructor(n){this.layoutVertexArray=new Vt,this.indexArray=new Ln,this.programConfigurations=n,this.segments=new Gi,this.dynamicLayoutVertexArray=new Gt,this.opacityVertexArray=new On,this.placedSymbolArray=new Hi,this.globeExtVertexArray=new Jt}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(n,a,d,p){this.isEmpty()||(d&&(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,WR.members),this.indexBuffer=n.createIndexBuffer(this.indexArray,a),this.dynamicLayoutVertexBuffer=n.createVertexBuffer(this.dynamicLayoutVertexArray,GR.members,!0),this.opacityVertexBuffer=n.createVertexBuffer(this.opacityVertexArray,Lz,!0),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=n.createVertexBuffer(this.globeExtVertexArray,HR.members,!0)),this.opacityVertexBuffer.itemSize=1),(d||p)&&this.programConfigurations.upload(n))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}}Sn(Fx,"SymbolBuffers");class Bx{constructor(n,a,d){this.layoutVertexArray=new n,this.layoutAttributes=a,this.indexArray=new d,this.segments=new Gi,this.collisionVertexArray=new Sr,this.collisionVertexArrayExt=new br}upload(n){this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=n.createVertexBuffer(this.collisionVertexArray,qR.members,!0),this.collisionVertexBufferExt=n.createVertexBuffer(this.collisionVertexArrayExt,ZR.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}Sn(Bx,"CollisionBuffers");class Wu{constructor(n){this.collisionBoxArray=n.collisionBoxArray,this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(v=>v.id),this.index=n.index,this.pixelRatio=n.pixelRatio,this.sourceLayerIndex=n.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Sl([]),this.placementViewportMatrix=Sl([]);const a=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Ex(this.zoom,a["text-size"]),this.iconSizeData=Ex(this.zoom,a["icon-size"]);const d=this.layers[0].layout,p=d.get("symbol-sort-key"),g=d.get("symbol-z-order");this.canOverlap=d.get("text-allow-overlap")||d.get("icon-allow-overlap")||d.get("text-ignore-placement")||d.get("icon-ignore-placement"),this.sortFeaturesByKey=g!=="viewport-y"&&p.constantOr(1)!==void 0,this.sortFeaturesByY=(g==="viewport-y"||g==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=d.get("text-writing-mode").map(v=>ya[v]),this.stateDependentLayerIds=this.layers.filter(v=>v.isStateDependent()).map(v=>v.id),this.sourceID=n.sourceID,this.projection=n.projection}createArrays(){this.text=new Fx(new Zd(this.layers,this.zoom,n=>/^text/.test(n))),this.icon=new Fx(new Zd(this.layers,this.zoom,n=>/^icon/.test(n))),this.glyphOffsetArray=new ls,this.lineVertexArray=new hp,this.symbolInstances=new pi}calculateGlyphDependencies(n,a,d,p,g){for(let v=0;v<n.length;v++)if(a[n.charCodeAt(v)]=!0,p&&g){const w=H1[n.charAt(v)];w&&(a[w.charCodeAt(0)]=!0)}}populate(n,a,d,p){const g=this.layers[0],v=g.layout,w=this.projection.name==="globe",C=v.get("text-font"),P=v.get("text-field"),z=v.get("icon-image"),N=(P.value.kind!=="constant"||P.value.value instanceof Lo&&!P.value.value.isEmpty()||P.value.value.toString().length>0)&&(C.value.kind!=="constant"||C.value.value.length>0),W=z.value.kind!=="constant"||!!z.value.value||Object.keys(z.parameters).length>0,K=v.get("symbol-sort-key");if(this.features=[],!N&&!W)return;const ee=a.iconDependencies,ie=a.glyphDependencies,fe=a.availableImages,Te=new O(this.zoom);for(const{feature:Fe,id:Ce,index:Oe,sourceLayerIndex:Ve}of n){const Ne=g._featureFilter.needGeometry,pt=eh(Fe,Ne);if(!g._featureFilter.filter(Te,pt,d))continue;if(Ne||(pt.geometry=eu(Fe,d,p)),w&&Fe.type!==1&&d.z<=5){const yt=pt.geometry,Lt=.98078528056,Ot=(Wt,en)=>Ba(R1(Wt.x,Wt.y,d,1),R1(en.x,en.y,d,1))<Lt;for(let Wt=0;Wt<yt.length;Wt++)yt[Wt]=GD(yt[Wt],Ot)}let st,Mt;if(N){const yt=g.getValueAndResolveTokens("text-field",pt,d,fe),Lt=Lo.factory(yt);Oz(Lt)&&(this.hasRTLText=!0),(!this.hasRTLText||S()==="unavailable"||this.hasRTLText&&D.isParsed())&&(st=KR(Lt,g,pt))}if(W){const yt=g.getValueAndResolveTokens("icon-image",pt,d,fe);Mt=yt instanceof is?yt:is.fromString(yt)}if(!st&&!Mt)continue;const Zt=this.sortFeaturesByKey?K.evaluate(pt,{},d):void 0;if(this.features.push({id:Ce,text:st,icon:Mt,index:Oe,sourceLayerIndex:Ve,geometry:pt.geometry,properties:Fe.properties,type:zz[Fe.type],sortKey:Zt}),Mt&&(ee[Mt.name]=!0),st){const yt=C.evaluate(pt,{},d).join(","),Lt=v.get("text-rotation-alignment")==="map"&&v.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(ya.vertical)>=0;for(const Ot of st.sections)if(Ot.image)ee[Ot.image.name]=!0;else{const Wt=_1(st.toString()),en=Ot.fontStack||yt,kt=ie[en]=ie[en]||{};this.calculateGlyphDependencies(Ot.text,kt,Lt,this.allowVerticalPlacement,Wt)}}}v.get("symbol-placement")==="line"&&(this.features=function(Fe){const Ce={},Oe={},Ve=[];let Ne=0;function pt(yt){Ve.push(Fe[yt]),Ne++}function st(yt,Lt,Ot){const Wt=Oe[yt];return delete Oe[yt],Oe[Lt]=Wt,Ve[Wt].geometry[0].pop(),Ve[Wt].geometry[0]=Ve[Wt].geometry[0].concat(Ot[0]),Wt}function Mt(yt,Lt,Ot){const Wt=Ce[Lt];return delete Ce[Lt],Ce[yt]=Wt,Ve[Wt].geometry[0].shift(),Ve[Wt].geometry[0]=Ot[0].concat(Ve[Wt].geometry[0]),Wt}function Zt(yt,Lt,Ot){const Wt=Ot?Lt[0][Lt[0].length-1]:Lt[0][0];return`${yt}:${Wt.x}:${Wt.y}`}for(let yt=0;yt<Fe.length;yt++){const Lt=Fe[yt],Ot=Lt.geometry,Wt=Lt.text?Lt.text.toString():null;if(!Wt){pt(yt);continue}const en=Zt(Wt,Ot),kt=Zt(Wt,Ot,!0);if(en in Oe&&kt in Ce&&Oe[en]!==Ce[kt]){const fn=Mt(en,kt,Ot),Mn=st(en,kt,Ve[fn].geometry);delete Ce[en],delete Oe[kt],Oe[Zt(Wt,Ve[Mn].geometry,!0)]=Mn,Ve[fn].geometry=null}else en in Oe?st(en,kt,Ot):kt in Ce?Mt(en,kt,Ot):(pt(yt),Ce[en]=Ne-1,Oe[kt]=Ne-1)}return Ve.filter(yt=>yt.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((Fe,Ce)=>Fe.sortKey-Ce.sortKey)}update(n,a,d,p){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(n,a,this.layers,d,p),this.icon.programConfigurations.updatePaintArrays(n,a,this.layers,d,p))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(n){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(n),this.iconCollisionBox.upload(n)),this.text.upload(n,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(n,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=dS(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(n,a){const d=this.lineVertexArray.length;if(n.segment!==void 0)for(const{x:p,y:g}of a)this.lineVertexArray.emplaceBack(p,g);return{lineStartIndex:d,lineLength:this.lineVertexArray.length-d}}addSymbols(n,a,d,p,g,v,w,C,P,z,N,W,K,ee){const ie=n.indexArray,fe=n.layoutVertexArray,Te=n.globeExtVertexArray,Fe=n.segments.prepareSegment(4*a.length,fe,ie,this.canOverlap?v.sortKey:void 0),Ce=this.glyphOffsetArray.length,Oe=Fe.vertexLength,Ve=this.allowVerticalPlacement&&w===ya.vertical?Math.PI/2:0,Ne=v.text&&v.text.sections;for(let st=0;st<a.length;st++){const{tl:Mt,tr:Zt,bl:yt,br:Lt,tex:Ot,pixelOffsetTL:Wt,pixelOffsetBR:en,minFontScaleX:kt,minFontScaleY:fn,glyphOffset:Mn,isSDF:gn,sectionIndex:lr}=a[st],tn=Fe.vertexLength,Bn=Mn[1];if(ty(fe,P.x,P.y,Mt.x,Bn+Mt.y,Ot.x,Ot.y,d,gn,Wt.x,Wt.y,kt,fn),ty(fe,P.x,P.y,Zt.x,Bn+Zt.y,Ot.x+Ot.w,Ot.y,d,gn,en.x,Wt.y,kt,fn),ty(fe,P.x,P.y,yt.x,Bn+yt.y,Ot.x,Ot.y+Ot.h,d,gn,Wt.x,en.y,kt,fn),ty(fe,P.x,P.y,Lt.x,Bn+Lt.y,Ot.x+Ot.w,Ot.y+Ot.h,d,gn,en.x,en.y,kt,fn),C){const{x:cr,y:Dr,z:ur}=C.anchor,[Yn,ui,mr]=C.up;ny(Te,cr,Dr,ur,Yn,ui,mr),ny(Te,cr,Dr,ur,Yn,ui,mr),ny(Te,cr,Dr,ur,Yn,ui,mr),ny(Te,cr,Dr,ur,Yn,ui,mr),ry(n.dynamicLayoutVertexArray,cr,Dr,ur,Ve)}else ry(n.dynamicLayoutVertexArray,P.x,P.y,P.z,Ve);ie.emplaceBack(tn,tn+1,tn+2),ie.emplaceBack(tn+1,tn+2,tn+3),Fe.vertexLength+=4,Fe.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Mn[0]),st!==a.length-1&&lr===a[st+1].sectionIndex||n.programConfigurations.populatePaintArrays(fe.length,v,v.index,{},K,ee,Ne&&Ne[lr])}const pt=C?C.anchor:P;n.placedSymbolArray.emplaceBack(pt.x,pt.y,pt.z,P.x,P.y,Ce,this.glyphOffsetArray.length-Ce,Oe,z,N,P.segment,d?d[0]:0,d?d[1]:0,p[0],p[1],w,0,!1,0,W,0)}_commitLayoutVertex(n,a,d,p,g,v,w){n.emplaceBack(a,d,p,g,v,Math.round(w.x),Math.round(w.y))}_addCollisionDebugVertices(n,a,d,p,g,v,w){const C=d.segments.prepareSegment(4,d.layoutVertexArray,d.indexArray),P=C.vertexLength,z=w.tileAnchorX,N=w.tileAnchorY;for(let K=0;K<4;K++)d.collisionVertexArray.emplaceBack(0,0,0,0);d.collisionVertexArrayExt.emplaceBack(a,-n.padding,-n.padding),d.collisionVertexArrayExt.emplaceBack(a,n.padding,-n.padding),d.collisionVertexArrayExt.emplaceBack(a,n.padding,n.padding),d.collisionVertexArrayExt.emplaceBack(a,-n.padding,n.padding),this._commitLayoutVertex(d.layoutVertexArray,p,g,v,z,N,new ce(n.x1,n.y1)),this._commitLayoutVertex(d.layoutVertexArray,p,g,v,z,N,new ce(n.x2,n.y1)),this._commitLayoutVertex(d.layoutVertexArray,p,g,v,z,N,new ce(n.x2,n.y2)),this._commitLayoutVertex(d.layoutVertexArray,p,g,v,z,N,new ce(n.x1,n.y2)),C.vertexLength+=4;const W=d.indexArray;W.emplaceBack(P,P+1),W.emplaceBack(P+1,P+2),W.emplaceBack(P+2,P+3),W.emplaceBack(P+3,P),C.primitiveLength+=4}_addTextDebugCollisionBoxes(n,a,d,p,g,v){for(let w=p;w<g;w++){const C=d.get(w),P=this.getSymbolInstanceTextSize(n,v,a,w);this._addCollisionDebugVertices(C,P,this.textCollisionBox,C.projectedAnchorX,C.projectedAnchorY,C.projectedAnchorZ,v)}}_addIconDebugCollisionBoxes(n,a,d,p,g,v){for(let w=p;w<g;w++){const C=d.get(w),P=this.getSymbolInstanceIconSize(n,a,v.placedIconSymbolIndex);this._addCollisionDebugVertices(C,P,this.iconCollisionBox,C.projectedAnchorX,C.projectedAnchorY,C.projectedAnchorZ,v)}}generateCollisionDebugBuffers(n,a){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Bx(kn,I7.members,mo),this.iconCollisionBox=new Bx(kn,I7.members,mo);const d=Tp(this.iconSizeData,n),p=Tp(this.textSizeData,n);for(let g=0;g<this.symbolInstances.length;g++){const v=this.symbolInstances.get(g);this._addTextDebugCollisionBoxes(p,n,a,v.textBoxStartIndex,v.textBoxEndIndex,v),this._addTextDebugCollisionBoxes(p,n,a,v.verticalTextBoxStartIndex,v.verticalTextBoxEndIndex,v),this._addIconDebugCollisionBoxes(d,n,a,v.iconBoxStartIndex,v.iconBoxEndIndex,v),this._addIconDebugCollisionBoxes(d,n,a,v.verticalIconBoxStartIndex,v.verticalIconBoxEndIndex,v)}}getSymbolInstanceTextSize(n,a,d,p){const g=this.text.placedSymbolArray.get(a.rightJustifiedTextSymbolIndex>=0?a.rightJustifiedTextSymbolIndex:a.centerJustifiedTextSymbolIndex>=0?a.centerJustifiedTextSymbolIndex:a.leftJustifiedTextSymbolIndex>=0?a.leftJustifiedTextSymbolIndex:a.verticalPlacedTextSymbolIndex>=0?a.verticalPlacedTextSymbolIndex:p),v=H0(this.textSizeData,n,g)/Po;return this.tilePixelRatio*v}getSymbolInstanceIconSize(n,a,d){const p=this.icon.placedSymbolArray.get(d),g=H0(this.iconSizeData,n,p);return this.tilePixelRatio*g}_commitDebugCollisionVertexUpdate(n,a,d){n.emplaceBack(a,-d,-d),n.emplaceBack(a,d,-d),n.emplaceBack(a,d,d),n.emplaceBack(a,-d,d)}_updateTextDebugCollisionBoxes(n,a,d,p,g,v){for(let w=p;w<g;w++){const C=d.get(w),P=this.getSymbolInstanceTextSize(n,v,a,w);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,P,C.padding)}}_updateIconDebugCollisionBoxes(n,a,d,p,g,v){for(let w=p;w<g;w++){const C=d.get(w),P=this.getSymbolInstanceIconSize(n,a,v);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,P,C.padding)}}updateCollisionDebugBuffers(n,a){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const d=Tp(this.iconSizeData,n),p=Tp(this.textSizeData,n);for(let g=0;g<this.symbolInstances.length;g++){const v=this.symbolInstances.get(g);this._updateTextDebugCollisionBoxes(p,n,a,v.textBoxStartIndex,v.textBoxEndIndex,v),this._updateTextDebugCollisionBoxes(p,n,a,v.verticalTextBoxStartIndex,v.verticalTextBoxEndIndex,v),this._updateIconDebugCollisionBoxes(d,n,a,v.iconBoxStartIndex,v.iconBoxEndIndex,v.placedIconSymbolIndex),this._updateIconDebugCollisionBoxes(d,n,a,v.verticalIconBoxStartIndex,v.verticalIconBoxEndIndex,v.placedIconSymbolIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(n,a,d,p,g,v,w,C,P){const z={};if(a<d){const{x1:N,y1:W,x2:K,y2:ee,padding:ie,projectedAnchorX:fe,projectedAnchorY:Te,projectedAnchorZ:Fe,tileAnchorX:Ce,tileAnchorY:Oe,featureIndex:Ve}=n.get(a);z.textBox={x1:N,y1:W,x2:K,y2:ee,padding:ie,projectedAnchorX:fe,projectedAnchorY:Te,projectedAnchorZ:Fe,tileAnchorX:Ce,tileAnchorY:Oe},z.textFeatureIndex=Ve}if(p<g){const{x1:N,y1:W,x2:K,y2:ee,padding:ie,projectedAnchorX:fe,projectedAnchorY:Te,projectedAnchorZ:Fe,tileAnchorX:Ce,tileAnchorY:Oe,featureIndex:Ve}=n.get(p);z.verticalTextBox={x1:N,y1:W,x2:K,y2:ee,padding:ie,projectedAnchorX:fe,projectedAnchorY:Te,projectedAnchorZ:Fe,tileAnchorX:Ce,tileAnchorY:Oe},z.verticalTextFeatureIndex=Ve}if(v<w){const{x1:N,y1:W,x2:K,y2:ee,padding:ie,projectedAnchorX:fe,projectedAnchorY:Te,projectedAnchorZ:Fe,tileAnchorX:Ce,tileAnchorY:Oe,featureIndex:Ve}=n.get(v);z.iconBox={x1:N,y1:W,x2:K,y2:ee,padding:ie,projectedAnchorX:fe,projectedAnchorY:Te,projectedAnchorZ:Fe,tileAnchorX:Ce,tileAnchorY:Oe},z.iconFeatureIndex=Ve}if(C<P){const{x1:N,y1:W,x2:K,y2:ee,padding:ie,projectedAnchorX:fe,projectedAnchorY:Te,projectedAnchorZ:Fe,tileAnchorX:Ce,tileAnchorY:Oe,featureIndex:Ve}=n.get(C);z.verticalIconBox={x1:N,y1:W,x2:K,y2:ee,padding:ie,projectedAnchorX:fe,projectedAnchorY:Te,projectedAnchorZ:Fe,tileAnchorX:Ce,tileAnchorY:Oe},z.verticalIconFeatureIndex=Ve}return z}deserializeCollisionBoxes(n){this.collisionArrays=[];for(let a=0;a<this.symbolInstances.length;a++){const d=this.symbolInstances.get(a);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(n,d.textBoxStartIndex,d.textBoxEndIndex,d.verticalTextBoxStartIndex,d.verticalTextBoxEndIndex,d.iconBoxStartIndex,d.iconBoxEndIndex,d.verticalIconBoxStartIndex,d.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(n,a){const d=n.placedSymbolArray.get(a),p=d.vertexStartIndex+4*d.numGlyphs;for(let g=d.vertexStartIndex;g<p;g+=4)n.indexArray.emplaceBack(g,g+1,g+2),n.indexArray.emplaceBack(g+1,g+2,g+3)}getSortedSymbolIndexes(n){if(this.sortedAngle===n&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const a=Math.sin(n),d=Math.cos(n),p=[],g=[],v=[];for(let w=0;w<this.symbolInstances.length;++w){v.push(w);const C=this.symbolInstances.get(w);p.push(0|Math.round(a*C.tileAnchorX+d*C.tileAnchorY)),g.push(C.featureIndex)}return v.sort((w,C)=>p[w]-p[C]||g[C]-g[w]),v}addToSortKeyRanges(n,a){const d=this.sortKeyRanges[this.sortKeyRanges.length-1];d&&d.sortKey===a?d.symbolInstanceEnd=n+1:this.sortKeyRanges.push({sortKey:a,symbolInstanceStart:n,symbolInstanceEnd:n+1})}sortFeatures(n){if(this.sortFeaturesByY&&this.sortedAngle!==n&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(n),this.sortedAngle=n,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const a of this.symbolInstanceIndexes){const d=this.symbolInstances.get(a);this.featureSortOrder.push(d.featureIndex);const{rightJustifiedTextSymbolIndex:p,centerJustifiedTextSymbolIndex:g,leftJustifiedTextSymbolIndex:v,verticalPlacedTextSymbolIndex:w,placedIconSymbolIndex:C,verticalPlacedIconSymbolIndex:P}=d;p>=0&&this.addIndicesForPlacedSymbol(this.text,p),g>=0&&g!==p&&this.addIndicesForPlacedSymbol(this.text,g),v>=0&&v!==g&&v!==p&&this.addIndicesForPlacedSymbol(this.text,v),w>=0&&this.addIndicesForPlacedSymbol(this.text,w),C>=0&&this.addIndicesForPlacedSymbol(this.icon,C),P>=0&&this.addIndicesForPlacedSymbol(this.icon,P)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}Sn(Wu,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),Wu.MAX_GLYPHS=65535,Wu.addDynamicAttributes=ry;const Fz=new Ae({"symbol-placement":new re(Pt.layout_symbol["symbol-placement"]),"symbol-spacing":new re(Pt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new re(Pt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new ge(Pt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new re(Pt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new re(Pt.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new re(Pt.layout_symbol["icon-ignore-placement"]),"icon-optional":new re(Pt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new re(Pt.layout_symbol["icon-rotation-alignment"]),"icon-size":new ge(Pt.layout_symbol["icon-size"]),"icon-text-fit":new re(Pt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new re(Pt.layout_symbol["icon-text-fit-padding"]),"icon-image":new ge(Pt.layout_symbol["icon-image"]),"icon-rotate":new ge(Pt.layout_symbol["icon-rotate"]),"icon-padding":new re(Pt.layout_symbol["icon-padding"]),"icon-keep-upright":new re(Pt.layout_symbol["icon-keep-upright"]),"icon-offset":new ge(Pt.layout_symbol["icon-offset"]),"icon-anchor":new ge(Pt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new re(Pt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new re(Pt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new re(Pt.layout_symbol["text-rotation-alignment"]),"text-field":new ge(Pt.layout_symbol["text-field"]),"text-font":new ge(Pt.layout_symbol["text-font"]),"text-size":new ge(Pt.layout_symbol["text-size"]),"text-max-width":new ge(Pt.layout_symbol["text-max-width"]),"text-line-height":new ge(Pt.layout_symbol["text-line-height"]),"text-letter-spacing":new ge(Pt.layout_symbol["text-letter-spacing"]),"text-justify":new ge(Pt.layout_symbol["text-justify"]),"text-radial-offset":new ge(Pt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new re(Pt.layout_symbol["text-variable-anchor"]),"text-anchor":new ge(Pt.layout_symbol["text-anchor"]),"text-max-angle":new re(Pt.layout_symbol["text-max-angle"]),"text-writing-mode":new re(Pt.layout_symbol["text-writing-mode"]),"text-rotate":new ge(Pt.layout_symbol["text-rotate"]),"text-padding":new re(Pt.layout_symbol["text-padding"]),"text-keep-upright":new re(Pt.layout_symbol["text-keep-upright"]),"text-transform":new ge(Pt.layout_symbol["text-transform"]),"text-offset":new ge(Pt.layout_symbol["text-offset"]),"text-allow-overlap":new re(Pt.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new re(Pt.layout_symbol["text-ignore-placement"]),"text-optional":new re(Pt.layout_symbol["text-optional"])});var Nx={paint:new Ae({"icon-opacity":new ge(Pt.paint_symbol["icon-opacity"]),"icon-color":new ge(Pt.paint_symbol["icon-color"]),"icon-halo-color":new ge(Pt.paint_symbol["icon-halo-color"]),"icon-halo-width":new ge(Pt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new ge(Pt.paint_symbol["icon-halo-blur"]),"icon-translate":new re(Pt.paint_symbol["icon-translate"]),"icon-translate-anchor":new re(Pt.paint_symbol["icon-translate-anchor"]),"text-opacity":new ge(Pt.paint_symbol["text-opacity"]),"text-color":new ge(Pt.paint_symbol["text-color"],{runtimeType:zo,getOverride:s=>s.textColor,hasOverride:s=>!!s.textColor}),"text-halo-color":new ge(Pt.paint_symbol["text-halo-color"]),"text-halo-width":new ge(Pt.paint_symbol["text-halo-width"]),"text-halo-blur":new ge(Pt.paint_symbol["text-halo-blur"]),"text-translate":new re(Pt.paint_symbol["text-translate"]),"text-translate-anchor":new re(Pt.paint_symbol["text-translate-anchor"])}),layout:Fz};class hS{constructor(n){this.type=n.property.overrides?n.property.overrides.runtimeType:Ul,this.defaultValue=n}evaluate(n){if(n.formattedSection){const a=this.defaultValue.property.overrides;if(a&&a.hasOverride(n.formattedSection))return a.getOverride(n.formattedSection)}return n.feature&&n.featureState?this.defaultValue.evaluate(n.feature,n.featureState):this.defaultValue.property.specification.default}eachChild(n){this.defaultValue.isConstant()||n(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Sn(hS,"FormatSectionOverride",{omit:["defaultValue"]});class iy extends wl{constructor(n){super(n,Nx)}recalculate(n,a){super.recalculate(n,a),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const d=this.layout.get("text-writing-mode");if(d){const p=[];for(const g of d)p.indexOf(g)<0&&p.push(g);this.layout._values["text-writing-mode"]=p}else this.layout._values["text-writing-mode"]=this.layout.get("symbol-placement")==="point"?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(n,a,d,p){const g=this.layout.get(n).evaluate(a,{},d,p),v=this._unevaluatedLayout._values[n];return v.isDataDriven()||Du(v.value)||!g?g:function(w,C){return C.replace(/{([^{}]+)}/g,(P,z)=>z in w?String(w[z]):"")}(a.properties,g)}createBucket(n){return new Wu(n)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const n of Nx.paint.overridableProperties){if(!iy.hasPaintOverride(this.layout,n))continue;const a=this.paint.get(n),d=new hS(a),p=new ip(d,a.property.specification);let g=null;g=a.value.kind==="constant"||a.value.kind==="source"?new a1("source",p):new Nd("composite",p,a.value.zoomStops,a.value._interpolationType),this.paint._values[n]=new ve(a.property,g,a.parameters)}}_handleOverridablePaintPropertyUpdate(n,a,d){return!(!this.layout||a.isDataDriven()||d.isDataDriven())&&iy.hasPaintOverride(this.layout,n)}static hasPaintOverride(n,a){const d=n.get("text-field"),p=Nx.paint.properties[a];let g=!1;const v=w=>{for(const C of w)if(p.overrides&&p.overrides.hasOverride(C))return void(g=!0)};if(d.value.kind==="constant"&&d.value.value instanceof Lo)v(d.value.value.sections);else if(d.value.kind==="source"){const w=P=>{g||(P instanceof za&&Ci(P.value)===Wl?v(P.value.sections):P instanceof sa?v(P.sections):P.eachChild(w))},C=d.value;C._styleExpression&&w(C._styleExpression.expression)}return g}getProgramConfiguration(n){return new Nu(this,n)}}var Bz={paint:new Ae({"background-color":new re(Pt.paint_background["background-color"]),"background-pattern":new re(Pt.paint_background["background-pattern"]),"background-opacity":new re(Pt.paint_background["background-opacity"])})},Nz={paint:new Ae({"raster-opacity":new re(Pt.paint_raster["raster-opacity"]),"raster-hue-rotate":new re(Pt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new re(Pt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new re(Pt.paint_raster["raster-brightness-max"]),"raster-saturation":new re(Pt.paint_raster["raster-saturation"]),"raster-contrast":new re(Pt.paint_raster["raster-contrast"]),"raster-resampling":new re(Pt.paint_raster["raster-resampling"]),"raster-fade-duration":new re(Pt.paint_raster["raster-fade-duration"])})};class $z extends wl{constructor(n){super(n,{}),this.implementation=n}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}isLayerDraped(){return this.implementation.renderToTile!==void 0}shouldRedrape(){return!!this.implementation.shouldRerenderTiles&&this.implementation.shouldRerenderTiles()}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(n){this.implementation.onAdd&&this.implementation.onAdd(n,n.painter.context.gl)}onRemove(n){this.implementation.onRemove&&this.implementation.onRemove(n,n.painter.context.gl)}}var jz={paint:new Ae({"sky-type":new re(Pt.paint_sky["sky-type"]),"sky-atmosphere-sun":new re(Pt.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new re(Pt.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new re(Pt.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new re(Pt.paint_sky["sky-gradient-radius"]),"sky-gradient":new Ie(Pt.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new re(Pt.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new re(Pt.paint_sky["sky-atmosphere-color"]),"sky-opacity":new re(Pt.paint_sky["sky-opacity"])})};function $x(s,n,a){const d=[0,0,1],p=A6([]);return R6(p,p,a?-$e(s)+Math.PI:$e(s)),D6(p,p,-$e(n)),P6(d,d,p),cs(d,d)}const Vz={circle:class extends wl{constructor(s){super(s,QD)}createBucket(s){return new hx(s)}queryRadius(s){const n=s;return xp("circle-radius",this,n)+xp("circle-stroke-width",this,n)+z0(this.paint.get("circle-translate"))}queryIntersectsFeature(s,n,a,d,p,g,v,w){const C=t7(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),g.angle,s.pixelToTileUnitsFactor),P=this.paint.get("circle-radius").evaluate(n,a)+this.paint.get("circle-stroke-width").evaluate(n,a);return n7(s,d,g,v,w,this.paint.get("circle-pitch-alignment")==="map",this.paint.get("circle-pitch-scale")==="map",C,P)}getProgramIds(){return["circle"]}getProgramConfiguration(s){return new Nu(this,s)}},heatmap:class extends wl{createBucket(s){return new i7(s)}constructor(s){super(s,rR),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(s){s==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=gx({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(s){return xp("heatmap-radius",this,s)}queryIntersectsFeature(s,n,a,d,p,g,v,w){const C=this.paint.get("heatmap-radius").evaluate(n,a);return n7(s,d,g,v,w,!0,!0,new ce(0,0),C)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(s){return new Nu(this,s)}},hillshade:class extends wl{constructor(s){super(s,iR)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}getProgramIds(){return["hillshade","hillshadePrepare"]}},fill:class extends wl{constructor(s){super(s,xR)}getProgramIds(){const s=this.paint.get("fill-pattern"),n=s&&s.constantOr(1),a=[n?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&a.push(n&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),a}getProgramConfiguration(s){return new Nu(this,s)}recalculate(s,n){super.recalculate(s,n);const a=this.paint._values["fill-outline-color"];a.value.kind==="constant"&&a.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(s){return new N0(s)}queryRadius(){return z0(this.paint.get("fill-translate"))}queryIntersectsFeature(s,n,a,d,p,g){return!s.queryGeometry.isAboveHorizon&&Y6(e7(s.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),g.angle,s.pixelToTileUnitsFactor),d)}isTileClipped(){return!0}},"fill-extrusion":class extends wl{constructor(s){super(s,OR)}createBucket(s){return new V1(s)}queryRadius(){return z0(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(s){return new Nu(this,s)}queryIntersectsFeature(s,n,a,d,p,g,v,w,C){const P=t7(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),g.angle,s.pixelToTileUnitsFactor),z=this.paint.get("fill-extrusion-height").evaluate(n,a),N=this.paint.get("fill-extrusion-base").evaluate(n,a),W=[0,0],K=w&&g.elevation,ee=g.elevation?g.elevation.exaggeration():1,ie=s.tile.getBucket(this);if(K&&ie instanceof V1){const Oe=ie.centroidVertexArray,Ve=C+1;Ve<Oe.length&&(W[0]=Oe.geta_centroid_pos0(Ve),W[1]=Oe.geta_centroid_pos1(Ve))}if(W[0]===0&&W[1]===1)return!1;g.projection.name==="globe"&&(d=w7([d],[new ce(0,0),new ce(Un,Un)],s.tileID.canonical).map(Oe=>Oe.polygon).flat());const fe=K?w:null,[Te,Fe]=function(Oe,Ve,Ne,pt,st,Mt,Zt,yt,Lt,Ot,Wt){return Oe.projection.name==="globe"?function(en,kt,fn,Mn,gn,lr,tn,Bn,cr,Dr,ur){const Yn=[],ui=[],mr=en.projection.upVectorScale(ur,en.center.lat,en.worldSize).metersToTile,gr=[0,0,0,1],Kr=[0,0,0,1],ii=(Jr,Ei,Oi,Zi)=>{Jr[0]=Ei,Jr[1]=Oi,Jr[2]=Zi,Jr[3]=1},oi=b7();fn>0&&(fn+=oi),Mn+=oi;for(const Jr of kt){const Ei=[],Oi=[];for(const Zi of Jr){const Qr=Zi.x+gn.x,ro=Zi.y+gn.y,Xi=en.projection.projectTilePoint(Qr,ro,ur),Ai=en.projection.upVector(ur,Zi.x,Zi.y);let Lr=fn,Yi=Mn;if(tn){const si=E7(Qr,ro,fn,Mn,tn,Bn,cr,Dr);Lr+=si.base,Yi+=si.top}fn!==0?ii(gr,Xi.x+Ai[0]*mr*Lr,Xi.y+Ai[1]*mr*Lr,Xi.z+Ai[2]*mr*Lr):ii(gr,Xi.x,Xi.y,Xi.z),ii(Kr,Xi.x+Ai[0]*mr*Yi,Xi.y+Ai[1]*mr*Yi,Xi.z+Ai[2]*mr*Yi),$i(gr,gr,lr),$i(Kr,Kr,lr),Ei.push(new Sp(gr[0],gr[1],gr[2])),Oi.push(new Sp(Kr[0],Kr[1],Kr[2]))}Yn.push(Ei),ui.push(Oi)}return[Yn,ui]}(Oe,Ve,Ne,pt,st,Mt,Zt,yt,Lt,Ot,Wt):Zt?function(en,kt,fn,Mn,gn,lr,tn,Bn,cr){const Dr=[],ur=[],Yn=[0,0,0,1];for(const ui of en){const mr=[],gr=[];for(const Kr of ui){const ii=Kr.x+Mn.x,oi=Kr.y+Mn.y,Jr=E7(ii,oi,kt,fn,lr,tn,Bn,cr);Yn[0]=ii,Yn[1]=oi,Yn[2]=Jr.base,Yn[3]=1,Kd(Yn,Yn,gn),Yn[3]=Math.max(Yn[3],1e-5);const Ei=new Sp(Yn[0]/Yn[3],Yn[1]/Yn[3],Yn[2]/Yn[3]);Yn[0]=ii,Yn[1]=oi,Yn[2]=Jr.top,Yn[3]=1,Kd(Yn,Yn,gn),Yn[3]=Math.max(Yn[3],1e-5);const Oi=new Sp(Yn[0]/Yn[3],Yn[1]/Yn[3],Yn[2]/Yn[3]);mr.push(Ei),gr.push(Oi)}Dr.push(mr),ur.push(gr)}return[Dr,ur]}(Ve,Ne,pt,st,Mt,Zt,yt,Lt,Ot):function(en,kt,fn,Mn,gn){const lr=[],tn=[],Bn=gn[8]*kt,cr=gn[9]*kt,Dr=gn[10]*kt,ur=gn[11]*kt,Yn=gn[8]*fn,ui=gn[9]*fn,mr=gn[10]*fn,gr=gn[11]*fn;for(const Kr of en){const ii=[],oi=[];for(const Jr of Kr){const Ei=Jr.x+Mn.x,Oi=Jr.y+Mn.y,Zi=gn[0]*Ei+gn[4]*Oi+gn[12],Qr=gn[1]*Ei+gn[5]*Oi+gn[13],ro=gn[2]*Ei+gn[6]*Oi+gn[14],Xi=gn[3]*Ei+gn[7]*Oi+gn[15],Ai=Zi+Bn,Lr=Qr+cr,Yi=ro+Dr,si=Math.max(Xi+ur,1e-5),hs=Zi+Yn,Ki=Qr+ui,ko=ro+mr,go=Math.max(Xi+gr,1e-5);ii.push(new Sp(Ai/si,Lr/si,Yi/si)),oi.push(new Sp(hs/go,Ki/go,ko/go))}lr.push(ii),tn.push(oi)}return[lr,tn]}(Ve,Ne,pt,st,Mt)}(g,d,N,z,P,v,fe,W,ee,g.center.lat,s.tileID.canonical),Ce=s.queryGeometry;return function(Oe,Ve,Ne){let pt=1/0;Y6(Ne,Ve)&&(pt=C7(Ne,Ve[0]));for(let st=0;st<Ve.length;st++){const Mt=Ve[st],Zt=Oe[st];for(let yt=0;yt<Mt.length-1;yt++){const Lt=Mt[yt],Ot=[Lt,Mt[yt+1],Zt[yt+1],Zt[yt],Lt];X6(Ne,Ot)&&(pt=Math.min(pt,C7(Ne,Ot)))}}return pt!==1/0&&pt}(Te,Fe,Ce.isPointQuery()?Ce.screenBounds:Ce.screenGeometry)}},line:class extends wl{constructor(s){super(s,P7),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(s){if(s==="line-gradient"){const n=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=n._styleExpression&&n._styleExpression.expression instanceof os,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}widthExpression(){return this._transitionablePaint._values["line-width"].value.expression}recalculate(s,n){super.recalculate(s,n),this.paint._values["line-floorwidth"]=k7.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,s)}createBucket(s){return new W0(s)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getProgramConfiguration(s){return new Nu(this,s)}queryRadius(s){const n=s,a=M7(xp("line-width",this,n),xp("line-gap-width",this,n)),d=xp("line-offset",this,n);return a/2+Math.abs(d)+z0(this.paint.get("line-translate"))}queryIntersectsFeature(s,n,a,d,p,g){if(s.queryGeometry.isAboveHorizon)return!1;const v=e7(s.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),g.angle,s.pixelToTileUnitsFactor),w=s.pixelToTileUnitsFactor/2*M7(this.paint.get("line-width").evaluate(n,a),this.paint.get("line-gap-width").evaluate(n,a)),C=this.paint.get("line-offset").evaluate(n,a);return C&&(d=function(P,z){const N=[],W=new ce(0,0);for(let K=0;K<P.length;K++){const ee=P[K],ie=[];for(let fe=0;fe<ee.length;fe++){const Te=ee[fe],Fe=ee[fe+1],Ce=fe===0?W:Te.sub(ee[fe-1])._unit()._perp(),Oe=fe===ee.length-1?W:Fe.sub(Te)._unit()._perp(),Ve=Ce._add(Oe)._unit();Ve._mult(1/(Ve.x*Oe.x+Ve.y*Oe.y)),ie.push(Ve._mult(z)._add(Te))}N.push(ie)}return N}(d,C*s.pixelToTileUnitsFactor)),function(P,z,N){for(let W=0;W<z.length;W++){const K=z[W];if(P.length>=3){for(let ee=0;ee<K.length;ee++)if(th(P,K[ee]))return!0}if(XD(P,K,N))return!0}return!1}(v,d,w)}isTileClipped(){return!0}},symbol:iy,background:class extends wl{constructor(s){super(s,Bz)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends wl{constructor(s){super(s,Nz)}getProgramIds(){return["raster"]}},sky:class extends wl{constructor(s){super(s,jz),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(s){s==="sky-gradient"?this._updateColorRamp():s!=="sky-atmosphere-sun"&&s!=="sky-atmosphere-halo-color"&&s!=="sky-atmosphere-color"&&s!=="sky-atmosphere-sun-intensity"||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=gx({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(s){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const n=s.style.light.properties.get("position");return this._lightPosition.azimuthal!==n.azimuthal||this._lightPosition.polar!==n.polar}return!1}getCenter(s,n){if(this.paint.get("sky-type")==="atmosphere"){const d=this.paint.get("sky-atmosphere-sun"),p=!d,g=s.style.light,v=g.properties.get("position");return p&&g.properties.get("anchor")==="viewport"&&rt("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),p?$x(v.azimuthal,90-v.polar,n):$x(d[0],90-d[1],n)}const a=this.paint.get("sky-gradient-center");return $x(a[0],90-a[1],n)}is3D(){return!1}isSky(){return!0}markSkyboxValid(s){this._skyboxInvalidated=!1,this._lightPosition=s.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const s=this.paint.get("sky-type");return s==="atmosphere"?["skyboxCapture","skybox"]:s==="gradient"?["skyboxGradient"]:null}}};class Q1{constructor(n,a,d,p){this.context=n,this.format=d,this.texture=n.gl.createTexture(),this.update(a,p)}update(n,a,d){const{width:p,height:g}=n,{context:v}=this,{gl:w}=v,{HTMLImageElement:C,HTMLCanvasElement:P,HTMLVideoElement:z,ImageData:N,ImageBitmap:W}=_;if(w.bindTexture(w.TEXTURE_2D,this.texture),v.pixelStoreUnpackFlipY.set(!1),v.pixelStoreUnpack.set(1),v.pixelStoreUnpackPremultiplyAlpha.set(this.format===w.RGBA&&(!a||a.premultiply!==!1)),d||this.size&&this.size[0]===p&&this.size[1]===g){const{x:K,y:ee}=d||{x:0,y:0};n instanceof C||n instanceof P||n instanceof z||n instanceof N||W&&n instanceof W?w.texSubImage2D(w.TEXTURE_2D,0,K,ee,w.RGBA,w.UNSIGNED_BYTE,n):w.texSubImage2D(w.TEXTURE_2D,0,K,ee,p,g,w.RGBA,w.UNSIGNED_BYTE,n.data)}else this.size=[p,g],n instanceof C||n instanceof P||n instanceof z||n instanceof N||W&&n instanceof W?w.texImage2D(w.TEXTURE_2D,0,this.format,this.format,w.UNSIGNED_BYTE,n):w.texImage2D(w.TEXTURE_2D,0,this.format,p,g,0,this.format,w.UNSIGNED_BYTE,n.data);this.useMipmap=!!(a&&a.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&w.generateMipmap(w.TEXTURE_2D)}bind(n,a){const{context:d}=this,{gl:p}=d;p.bindTexture(p.TEXTURE_2D,this.texture),n!==this.filter&&(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,n),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,this.useMipmap?n===p.NEAREST?p.NEAREST_MIPMAP_NEAREST:p.LINEAR_MIPMAP_NEAREST:n),this.filter=n),a!==this.wrap&&(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,a),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,a),this.wrap=a)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:n}=this.context;n.deleteTexture(this.texture),this.texture=null}}class Uz{constructor(n){this._callback=n,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class Wz{constructor(){this.tasks={},this.taskQueue=[],rn(["process"],this),this.invoker=new Uz(this.process),this.nextId=0}add(n,a){const d=this.nextId++,p=function({type:g,isSymbolTile:v,zoom:w}){return w=w||0,g==="message"?0:g!=="maybePrepare"||v?g!=="parseTile"||v?g==="parseTile"&&v?300-w:g==="maybePrepare"&&v?400-w:500:200-w:100-w}(a);if(p===0){on();try{n()}finally{}return{cancel:()=>{}}}return this.tasks[d]={fn:n,metadata:a,priority:p,id:d},this.taskQueue.push(d),this.invoker.trigger(),{cancel:()=>{delete this.tasks[d]}}}process(){on();try{if(this.taskQueue=this.taskQueue.filter(d=>!!this.tasks[d]),!this.taskQueue.length)return;const n=this.pick();if(n===null)return;const a=this.tasks[n];if(delete this.tasks[n],this.taskQueue.length&&this.invoker.trigger(),!a)return;a.fn()}finally{}}pick(){let n=null,a=1/0;for(let p=0;p<this.taskQueue.length;p++){const g=this.tasks[this.taskQueue[p]];g.priority<a&&(a=g.priority,n=p)}if(n===null)return null;const d=this.taskQueue[n];return this.taskQueue.splice(n,1),d}remove(){this.invoker.remove()}}class pS{constructor(n){this._stringToNumber={},this._numberToString=[];for(let a=0;a<n.length;a++){const d=n[a];this._stringToNumber[d]=a,this._numberToString[a]=d}}encode(n){return this._stringToNumber[n]}decode(n){return this._numberToString[n]}}const Hz=["tile","layer","source","sourceLayer","state"];class fS{constructor(n,a,d,p,g){this.type="Feature",this._vectorTileFeature=n,this._z=a,this._x=d,this._y=p,this.properties=n.properties,this.id=g}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(n){this._geometry=n}toJSON(){const n={type:"Feature",state:void 0,geometry:this.geometry,properties:this.properties};this.id!==void 0&&(n.id=this.id);for(const a of Hz)this[a]!==void 0&&(n[a]=this[a]);return n}}const ja=32,ac=33,Hu=new Uint16Array(8184);for(let s=0;s<2046;s++){let n=s+2,a=0,d=0,p=0,g=0,v=0,w=0;for(1&n?p=g=v=ja:a=d=w=ja;(n>>=1)>1;){const P=a+p>>1,z=d+g>>1;1&n?(p=a,g=d,a=v,d=w):(a=p,d=g,p=v,g=w),v=P,w=z}const C=4*s;Hu[C+0]=a,Hu[C+1]=d,Hu[C+2]=p,Hu[C+3]=g}const lc=new Uint16Array(2178),Gu=new Uint8Array(1089),oy=new Uint16Array(1089);function mS(s){return s===0?-.03125:s===32?.03125:0}var gS=Je([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);const yS={type:2,extent:Un,loadGeometry:()=>[[new ce(0,0),new ce(Un+1,0),new ce(Un+1,Un+1),new ce(0,Un+1),new ce(0,0)]]};class jx{constructor(n,a,d,p,g){this.tileID=n,this.uid=Dt(),this.uses=0,this.tileSize=a,this.tileZoom=d,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=g,this.expiredRequestCount=0,this.state="loading",p&&p.transform&&(this.projection=p.transform.projection)}registerFadeDuration(n){const a=n+this.timeAdded;a<zs.now()||this.fadeEndTime&&a<this.fadeEndTime||(this.fadeEndTime=a)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}get tileTransform(){return this._tileTransform||(this._tileTransform=rh(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(n,a,d){if(this.unloadVectorData(),this.state="loaded",n){n.featureIndex&&(this.latestFeatureIndex=n.featureIndex,n.rawTileData?(this.latestRawTileData=n.rawTileData,this.latestFeatureIndex.rawTileData=n.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=n.collisionBoxArray,this.buckets=function(p,g){const v={};if(!g)return v;for(const w of p){const C=w.layerIds.map(P=>g.getLayer(P)).filter(Boolean);if(C.length!==0){w.layers=C,w.stateDependentLayerIds&&(w.stateDependentLayers=w.stateDependentLayerIds.map(P=>C.filter(z=>z.id===P)[0]));for(const P of C)v[P.id]=w}}return v}(n.buckets,a.style),this.hasSymbolBuckets=!1;for(const p in this.buckets){const g=this.buckets[p];if(g instanceof Wu){if(this.hasSymbolBuckets=!0,!d)break;g.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const p in this.buckets){const g=this.buckets[p];if(g instanceof Wu&&g.hasRTLText){this.hasRTLText=!0,D.isLoading()||D.isLoaded()||S()!=="deferred"||I();break}}this.queryPadding=0;for(const p in this.buckets){const g=this.buckets[p];this.queryPadding=Math.max(this.queryPadding,a.style.getLayer(p).queryRadius(g))}n.imageAtlas&&(this.imageAtlas=n.imageAtlas),n.glyphAtlasImage&&(this.glyphAtlasImage=n.glyphAtlasImage),n.lineAtlas&&(this.lineAtlas=n.lineAtlas)}else this.collisionBoxArray=new Xr}unloadVectorData(){if(this.hasData()){for(const n in this.buckets)this.buckets[n].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(n){return this.buckets[n.id]}upload(n){for(const d in this.buckets){const p=this.buckets[d];p.uploadPending()&&p.upload(n)}const a=n.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Q1(n,this.imageAtlas.image,a.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Q1(n,this.glyphAtlasImage,a.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new Q1(n,this.lineAtlas.image,a.ALPHA),this.lineAtlas.uploaded=!0)}prepare(n){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(n,this.imageAtlasTexture)}queryRenderedFeatures(n,a,d,p,g,v,w,C){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:p,pixelPosMatrix:w,transform:v,params:g,tileTransform:this.tileTransform},n,a,d):{}}querySourceFeatures(n,a){const d=this.latestFeatureIndex;if(!d||!d.rawTileData)return;const p=d.loadVTLayers(),g=a?a.sourceLayer:"",v=p._geojsonTileLayer||p[g];if(!v)return;const w=lp(a&&a.filter),{z:C,x:P,y:z}=this.tileID.canonical,N={z:C,x:P,y:z};for(let W=0;W<v.length;W++){const K=v.feature(W);if(w.needGeometry){const fe=eh(K,!0);if(!w.filter(new O(this.tileID.overscaledZ),fe,this.tileID.canonical))continue}else if(!w.filter(new O(this.tileID.overscaledZ),K))continue;const ee=d.getId(K,g),ie=new fS(K,C,P,z,ee);ie.tile=N,n.push(ie)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(n){const a=this.expirationTime;if(n.cacheControl){const d=ln(n.cacheControl);d["max-age"]&&(this.expirationTime=Date.now()+1e3*d["max-age"])}else n.expires&&(this.expirationTime=new Date(n.expires).getTime());if(this.expirationTime){const d=Date.now();let p=!1;if(this.expirationTime>d)p=!1;else if(a)if(this.expirationTime<a)p=!0;else{const g=this.expirationTime-a;g?this.expirationTime=d+Math.max(g,3e4):p=!0}else p=!0;p?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(n,a){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(n).length===0||!a)return;const d=this.latestFeatureIndex.loadVTLayers(),p=a.style.listImages();for(const g in this.buckets){if(!a.style.hasLayer(g))continue;const v=this.buckets[g],w=v.layers[0].sourceLayer||"_geojsonTileLayer",C=d[w],P=n[w];if(!C||!P||Object.keys(P).length===0)continue;if(v.update(P,C,p,this.imageAtlas&&this.imageAtlas.patternPositions||{}),v instanceof W0||v instanceof N0){const N=a.style._getSourceCache(v.layers[0].source);a._terrain&&a._terrain.enabled&&N&&v.programConfigurations.needsUpload&&a._terrain._clearRenderCacheForTile(N.id,this.tileID)}const z=a&&a.style&&a.style.getLayer(g);z&&(this.queryPadding=Math.max(this.queryPadding,z.queryRadius(v)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<zs.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(n){this.symbolFadeHoldUntil=zs.now()+n}setTexture(n,a){const d=a.context,p=d.gl;this.texture=this.texture||a.getTileTexture(n.width),this.texture?this.texture.update(n,{useMipmap:!0}):(this.texture=new Q1(d,n,p.RGBA,{useMipmap:!0}),this.texture.bind(p.LINEAR,p.CLAMP_TO_EDGE))}setDependencies(n,a){const d={};for(const p of a)d[p]=!0;this.dependencies[n]=d}hasDependency(n,a){for(const d of n){const p=this.dependencies[d];if(p){for(const g of a)if(p[g])return!0}}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(n,a){if(!a||a.name==="mercator"||this._tileDebugBuffer)return;const d=eu(yS,this.tileID.canonical,this.tileTransform)[0],p=new qt,g=new $s;for(let v=0;v<d.length;v++){const{x:w,y:C}=d[v];p.emplaceBack(w,C),g.emplaceBack(v)}g.emplaceBack(0),this._tileDebugIndexBuffer=n.createIndexBuffer(g),this._tileDebugBuffer=n.createVertexBuffer(p,A1.members),this._tileDebugSegments=Gi.simpleSegment(0,0,p.length,g.length)}_makeTileBoundsBuffers(n,a){if(this._tileBoundsBuffer||!a||a.name==="mercator")return;const d=eu(yS,this.tileID.canonical,this.tileTransform)[0];let p,g;if(this.isRaster){const v=function(w,C){const P=rh(w,C),z=Math.pow(2,w.z);for(let fe=0;fe<ac;fe++)for(let Te=0;Te<ac;Te++){const Fe=ga((w.x+(Te+mS(Te))/ja)/z),Ce=Vo((w.y+(fe+mS(fe))/ja)/z),Oe=C.project(Fe,Ce),Ve=fe*ac+Te;lc[2*Ve+0]=Math.round((Oe.x*P.scale-P.x)*Un),lc[2*Ve+1]=Math.round((Oe.y*P.scale-P.y)*Un)}Gu.fill(0),oy.fill(0);for(let fe=2045;fe>=0;fe--){const Te=4*fe,Fe=Hu[Te+0],Ce=Hu[Te+1],Oe=Hu[Te+2],Ve=Hu[Te+3],Ne=Fe+Oe>>1,pt=Ce+Ve>>1,st=Ne+pt-Ce,Mt=pt+Fe-Ne,Zt=Ce*ac+Fe,yt=Ve*ac+Oe,Lt=pt*ac+Ne,Ot=Math.hypot((lc[2*Zt+0]+lc[2*yt+0])/2-lc[2*Lt+0],(lc[2*Zt+1]+lc[2*yt+1])/2-lc[2*Lt+1])>=16;Gu[Lt]=Gu[Lt]||(Ot?1:0),fe<1022&&(Gu[Lt]=Gu[Lt]||Gu[(Ce+Mt>>1)*ac+(Fe+st>>1)]||Gu[(Ve+Mt>>1)*ac+(Oe+st>>1)])}const N=new zt,W=new Ln;let K=0;function ee(fe,Te){const Fe=Te*ac+fe;return oy[Fe]===0&&(N.emplaceBack(lc[2*Fe+0],lc[2*Fe+1],fe*Un/ja,Te*Un/ja),oy[Fe]=++K),oy[Fe]-1}function ie(fe,Te,Fe,Ce,Oe,Ve){const Ne=fe+Fe>>1,pt=Te+Ce>>1;if(Math.abs(fe-Oe)+Math.abs(Te-Ve)>1&&Gu[pt*ac+Ne])ie(Oe,Ve,fe,Te,Ne,pt),ie(Fe,Ce,Oe,Ve,Ne,pt);else{const st=ee(fe,Te),Mt=ee(Fe,Ce),Zt=ee(Oe,Ve);W.emplaceBack(st,Mt,Zt)}}return ie(0,0,ja,ja,ja,0),ie(ja,ja,0,0,0,ja),{vertices:N,indices:W}}(this.tileID.canonical,a);p=v.vertices,g=v.indices}else{p=new zt,g=new Ln;for(const{x:w,y:C}of d)p.emplaceBack(w,C,0,0);const v=bx(p.int16,void 0,4);for(let w=0;w<v.length;w+=3)g.emplaceBack(v[w],v[w+1],v[w+2])}this._tileBoundsBuffer=n.createVertexBuffer(p,gS.members),this._tileBoundsIndexBuffer=n.createIndexBuffer(g),this._tileBoundsSegments=Gi.simpleSegment(0,0,p.length,g.length)}_makeGlobeTileDebugBuffers(n,a){const d=a.projection;if(!d||d.name!=="globe"||a.freezeTileCoverage)return;const p=this.tileID.canonical,g=z1(B6(p,a)),v=_p(a.zoom);let w;v>0&&(w=Xv(new Float64Array(16),a.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(n,p,a,g,w,v),this._makeGlobeTileDebugTextBuffer(n,p,a,g,w,v)}_globePoint(n,a,d,p,g,v,w){let C=R1(n,a,d);if(v){const P=1<<d.z,z=oc(p.center.lng),N=sc(p.center.lat),W=(d.x+.5)/P-z;let K=0;W>.5?K=-1:W<-.5&&(K=1);let ee=(n/Un+d.x)/P+K,ie=(a/Un+d.y)/P;ee=(ee-z)*p._pixelsPerMercatorPixel+z,ie=(ie-N)*p._pixelsPerMercatorPixel+N;const fe=[ee*p.worldSize,ie*p.worldSize,0];$i(fe,fe,v),C=Qd(C,fe,w)}return $i(C,C,g)}_makeGlobeTileDebugBorderBuffer(n,a,d,p,g,v){const w=new qt,C=new $s,P=new ot,z=(W,K,ee,ie,fe)=>{const Te=(ee-W)/(fe-1),Fe=(ie-K)/(fe-1),Ce=w.length;for(let Oe=0;Oe<fe;Oe++){const Ve=W+Oe*Te,Ne=K+Oe*Fe;w.emplaceBack(Ve,Ne);const pt=this._globePoint(Ve,Ne,a,d,p,g,v);P.emplaceBack(pt[0],pt[1],pt[2]),C.emplaceBack(Ce+Oe)}},N=Un;z(0,0,N,0,16),z(N,0,N,N,16),z(N,N,0,N,16),z(0,N,0,0,16),this._tileDebugIndexBuffer=n.createIndexBuffer(C),this._tileDebugBuffer=n.createVertexBuffer(w,A1.members),this._globeTileDebugBorderBuffer=n.createVertexBuffer(P,L6.members),this._tileDebugSegments=Gi.simpleSegment(0,0,w.length,C.length)}_makeGlobeTileDebugTextBuffer(n,a,d,p,g,v){const w=Un/4,C=new qt,P=new Ln,z=new ot,N=25;P.reserve(32),C.reserve(N),z.reserve(N);const W=(K,ee)=>N*K+ee;for(let K=0;K<N;K++){const ee=K*w;for(let ie=0;ie<N;ie++){const fe=ie*w;C.emplaceBack(fe,ee);const Te=this._globePoint(fe,ee,a,d,p,g,v);z.emplaceBack(Te[0],Te[1],Te[2])}}for(let K=0;K<4;K++)for(let ee=0;ee<4;ee++){const ie=W(K,ee),fe=W(K,ee+1),Te=W(K+1,ee),Fe=W(K+1,ee+1);P.emplaceBack(ie,fe,Te),P.emplaceBack(Te,fe,Fe)}this._tileDebugTextIndexBuffer=n.createIndexBuffer(P),this._tileDebugTextBuffer=n.createVertexBuffer(C,A1.members),this._globeTileDebugTextBuffer=n.createVertexBuffer(z,L6.members),this._tileDebugTextSegments=Gi.simpleSegment(0,0,N,32)}}class Gz{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(n,a,d){const p=String(a);if(this.stateChanges[n]=this.stateChanges[n]||{},this.stateChanges[n][p]=this.stateChanges[n][p]||{},St(this.stateChanges[n][p],d),this.deletedStates[n]===null){this.deletedStates[n]={};for(const g in this.state[n])g!==p&&(this.deletedStates[n][g]=null)}else if(this.deletedStates[n]&&this.deletedStates[n][p]===null){this.deletedStates[n][p]={};for(const g in this.state[n][p])d[g]||(this.deletedStates[n][p][g]=null)}else for(const g in d)this.deletedStates[n]&&this.deletedStates[n][p]&&this.deletedStates[n][p][g]===null&&delete this.deletedStates[n][p][g]}removeFeatureState(n,a,d){if(this.deletedStates[n]===null)return;const p=String(a);if(this.deletedStates[n]=this.deletedStates[n]||{},d&&a!==void 0)this.deletedStates[n][p]!==null&&(this.deletedStates[n][p]=this.deletedStates[n][p]||{},this.deletedStates[n][p][d]=null);else if(a!==void 0)if(this.stateChanges[n]&&this.stateChanges[n][p])for(d in this.deletedStates[n][p]={},this.stateChanges[n][p])this.deletedStates[n][p][d]=null;else this.deletedStates[n][p]=null;else this.deletedStates[n]=null}getState(n,a){const d=String(a),p=St({},(this.state[n]||{})[d],(this.stateChanges[n]||{})[d]);if(this.deletedStates[n]===null)return{};if(this.deletedStates[n]){const g=this.deletedStates[n][a];if(g===null)return{};for(const v in g)delete p[v]}return p}initializeTileState(n,a){n.setFeatureState(this.state,a)}coalesceChanges(n,a){const d={};for(const p in this.stateChanges){this.state[p]=this.state[p]||{};const g={};for(const v in this.stateChanges[p])this.state[p][v]||(this.state[p][v]={}),St(this.state[p][v],this.stateChanges[p][v]),g[v]=this.state[p][v];d[p]=g}for(const p in this.deletedStates){this.state[p]=this.state[p]||{};const g={};if(this.deletedStates[p]===null)for(const v in this.state[p])g[v]={},this.state[p][v]={};else for(const v in this.deletedStates[p]){if(this.deletedStates[p][v]===null)this.state[p][v]={};else if(this.state[p][v])for(const w of Object.keys(this.deletedStates[p][v]))delete this.state[p][v][w];g[v]=this.state[p][v]}d[p]=d[p]||{},St(d[p],g)}if(this.stateChanges={},this.deletedStates={},Object.keys(d).length!==0)for(const p in n)n[p].setFeatureState(d,a)}}class _S{constructor(n){this.size=n,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(n,a){const d=this.toIdx(n,a);return{min:this.minimums[d],max:this.maximums[d]}}isLeaf(n,a){return this.leaves[this.toIdx(n,a)]}toIdx(n,a){return a*this.size+n}}function vS(s,n,a,d){let p=0,g=Number.MAX_VALUE;for(let v=0;v<3;v++)if(Math.abs(d[v])<1e-15){if(a[v]<s[v]||a[v]>n[v])return null}else{const w=1/d[v];let C=(s[v]-a[v])*w,P=(n[v]-a[v])*w;if(C>P){const z=C;C=P,P=z}if(C>p&&(p=C),P<g&&(g=P),p>g)return null}return p}function xS(s,n,a,d,p,g,v,w,C,P,z){const N=d-s,W=p-n,K=g-a,ee=v-s,ie=w-n,fe=C-a,Te=z[1]*fe-z[2]*ie,Fe=z[2]*ee-z[0]*fe,Ce=z[0]*ie-z[1]*ee,Oe=N*Te+W*Fe+K*Ce;if(Math.abs(Oe)<1e-15)return null;const Ve=1/Oe,Ne=P[0]-s,pt=P[1]-n,st=P[2]-a,Mt=(Ne*Te+pt*Fe+st*Ce)*Ve;if(Mt<0||Mt>1)return null;const Zt=pt*K-st*W,yt=st*N-Ne*K,Lt=Ne*W-pt*N,Ot=(z[0]*Zt+z[1]*yt+z[2]*Lt)*Ve;return Ot<0||Mt+Ot>1?null:(ee*Zt+ie*yt+fe*Lt)*Ve}function bS(s,n,a){return(s-n)/(a-n)}function wS(s,n,a,d,p,g,v,w,C){const P=1<<a,z=g-d,N=v-p,W=(s+1)/P*z+d,K=(n+0)/P*N+p,ee=(n+1)/P*N+p;w[0]=(s+0)/P*z+d,w[1]=K,C[0]=W,C[1]=ee}class SS{constructor(n){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=n,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const a=function(g){const v=Math.ceil(Math.log2(g.dim/8)),w=[];let C=Math.ceil(Math.pow(2,v));const P=1/C,z=(K,ee,ie,fe,Te)=>{const Fe=fe?1:0,Ce=(K+1)*ie-Fe,Oe=ee*ie,Ve=(ee+1)*ie-Fe;Te[0]=K*ie,Te[1]=Oe,Te[2]=Ce,Te[3]=Ve};let N=new _S(C);const W=[];for(let K=0;K<C*C;K++){z(K%C,Math.floor(K/C),P,!1,W);const ee=qu(W[0],W[1],g),ie=qu(W[2],W[1],g),fe=qu(W[2],W[3],g),Te=qu(W[0],W[3],g);N.minimums.push(Math.min(ee,ie,fe,Te)),N.maximums.push(Math.max(ee,ie,fe,Te)),N.leaves.push(1)}for(w.push(N),C/=2;C>=1;C/=2){const K=w[w.length-1];N=new _S(C);for(let ee=0;ee<C*C;ee++){z(ee%C,Math.floor(ee/C),2,!0,W);const ie=K.getElevation(W[0],W[1]),fe=K.getElevation(W[2],W[1]),Te=K.getElevation(W[2],W[3]),Fe=K.getElevation(W[0],W[3]),Ce=K.isLeaf(W[0],W[1]),Oe=K.isLeaf(W[2],W[1]),Ve=K.isLeaf(W[2],W[3]),Ne=K.isLeaf(W[0],W[3]),pt=Math.min(ie.min,fe.min,Te.min,Fe.min),st=Math.max(ie.max,fe.max,Te.max,Fe.max),Mt=Ce&&Oe&&Ve&&Ne;N.maximums.push(st),N.minimums.push(pt),N.leaves.push(st-pt<=5&&Mt?1:0)}w.push(N)}return w}(this.dem),d=a.length-1,p=a[d];this._addNode(p.minimums[0],p.maximums[0],p.leaves[0]),this._construct(a,0,0,d,0)}raycastRoot(n,a,d,p,g,v,w=1){return vS([n,a,-100],[d,p,this.maximums[0]*w],g,v)}raycast(n,a,d,p,g,v,w=1){if(!this.nodeCount)return null;const C=this.raycastRoot(n,a,d,p,g,v,w);if(C==null)return null;const P=[],z=[],N=[],W=[],K=[{idx:0,t:C,nodex:0,nodey:0,depth:0}];for(;K.length>0;){const{idx:ee,t:ie,nodex:fe,nodey:Te,depth:Fe}=K.pop();if(this.leaves[ee]){wS(fe,Te,Fe,n,a,d,p,N,W);const Oe=1<<Fe,Ve=(fe+0)/Oe,Ne=(fe+1)/Oe,pt=(Te+0)/Oe,st=(Te+1)/Oe,Mt=qu(Ve,pt,this.dem)*w,Zt=qu(Ne,pt,this.dem)*w,yt=qu(Ne,st,this.dem)*w,Lt=qu(Ve,st,this.dem)*w,Ot=xS(N[0],N[1],Mt,W[0],N[1],Zt,W[0],W[1],yt,g,v),Wt=xS(W[0],W[1],yt,N[0],W[1],Lt,N[0],N[1],Mt,g,v),en=Math.min(Ot!==null?Ot:Number.MAX_VALUE,Wt!==null?Wt:Number.MAX_VALUE);if(en!==Number.MAX_VALUE)return en;{const kt=M1([],g,v,ie);if(TS(Mt,Zt,Lt,yt,bS(kt[0],N[0],W[0]),bS(kt[1],N[1],W[1]))>=kt[2])return ie}continue}let Ce=0;for(let Oe=0;Oe<this._siblingOffset.length;Oe++){wS((fe<<1)+this._siblingOffset[Oe][0],(Te<<1)+this._siblingOffset[Oe][1],Fe+1,n,a,d,p,N,W),N[2]=-100,W[2]=this.maximums[this.childOffsets[ee]+Oe]*w;const Ve=vS(N,W,g,v);if(Ve!=null){const Ne=Ve;P[Oe]=Ne;let pt=!1;for(let st=0;st<Ce&&!pt;st++)Ne>=P[z[st]]&&(z.splice(st,0,Oe),pt=!0);pt||(z[Ce]=Oe),Ce++}}for(let Oe=0;Oe<Ce;Oe++){const Ve=z[Oe];K.push({idx:this.childOffsets[ee]+Ve,t:P[Ve],nodex:(fe<<1)+this._siblingOffset[Ve][0],nodey:(Te<<1)+this._siblingOffset[Ve][1],depth:Fe+1})}}return null}_addNode(n,a,d){return this.minimums.push(n),this.maximums.push(a),this.leaves.push(d),this.childOffsets.push(0),this.nodeCount++}_construct(n,a,d,p,g){if(n[p].isLeaf(a,d)===1)return;this.childOffsets[g]||(this.childOffsets[g]=this.nodeCount);const v=p-1,w=n[v];let C=0,P=0;for(let z=0;z<this._siblingOffset.length;z++){const N=2*a+this._siblingOffset[z][0],W=2*d+this._siblingOffset[z][1],K=w.getElevation(N,W),ee=w.isLeaf(N,W),ie=this._addNode(K.min,K.max,ee);ee&&(C|=1<<z),P||(P=ie)}for(let z=0;z<this._siblingOffset.length;z++)C&1<<z||this._construct(n,2*a+this._siblingOffset[z][0],2*d+this._siblingOffset[z][1],v,P+z)}}function TS(s,n,a,d,p,g){return wr(wr(s,a,g),wr(n,d,g),p)}function qu(s,n,a){const d=a.dim,p=Me(s*d-.5,0,d-1),g=Me(n*d-.5,0,d-1),v=Math.floor(p),w=Math.floor(g),C=Math.min(v+1,d-1),P=Math.min(w+1,d-1);return TS(a.get(v,w),a.get(C,w),a.get(v,P),a.get(C,P),p-v,g-w)}const CS={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};function qz(s,n,a){return(256*s*256+256*n+a)/10-1e4}function Zz(s,n,a){return 256*s+n+a/256-32768}class sy{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(n,a,d,p=!1,g=!1){if(this.uid=n,a.height!==a.width)throw new RangeError("DEM tiles must be square");if(d&&d!=="mapbox"&&d!=="terrarium")return rt(`"${d}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=a.height;const v=this.dim=a.height-2,w=new Uint32Array(a.data.buffer);if(this.pixels=new Uint8Array(a.data.buffer),this.encoding=d||"mapbox",this.borderReady=p,!p){for(let C=0;C<v;C++)w[this._idx(-1,C)]=w[this._idx(0,C)],w[this._idx(v,C)]=w[this._idx(v-1,C)],w[this._idx(C,-1)]=w[this._idx(C,0)],w[this._idx(C,v)]=w[this._idx(C,v-1)];w[this._idx(-1,-1)]=w[this._idx(0,0)],w[this._idx(v,-1)]=w[this._idx(v-1,0)],w[this._idx(-1,v)]=w[this._idx(0,v-1)],w[this._idx(v,v)]=w[this._idx(v-1,v-1)],g&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new SS(this)}get(n,a,d=!1){d&&(n=Me(n,-1,this.dim),a=Me(a,-1,this.dim));const p=4*this._idx(n,a);return(this.encoding==="terrarium"?Zz:qz)(this.pixels[p],this.pixels[p+1],this.pixels[p+2])}static getUnpackVector(n){return CS[n]}get unpackVector(){return CS[this.encoding]}_idx(n,a){if(n<-1||n>=this.dim+1||a<-1||a>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(a+1)*this.stride+(n+1)}static pack(n,a){const d=[0,0,0,0],p=sy.getUnpackVector(a);let g=Math.floor((n+p[3])/p[2]);return d[2]=g%256,g=Math.floor(g/256),d[1]=g%256,g=Math.floor(g/256),d[0]=g,d}getPixels(){return new Vs({width:this.stride,height:this.stride},this.pixels)}backfillBorder(n,a,d){if(this.dim!==n.dim)throw new Error("dem dimension mismatch");let p=a*this.dim,g=a*this.dim+this.dim,v=d*this.dim,w=d*this.dim+this.dim;switch(a){case-1:p=g-1;break;case 1:g=p+1}switch(d){case-1:v=w-1;break;case 1:w=v+1}const C=-a*this.dim,P=-d*this.dim;for(let z=v;z<w;z++)for(let N=p;N<g;N++){const W=4*this._idx(N,z),K=4*this._idx(N+C,z+P);this.pixels[W+0]=n.pixels[K+0],this.pixels[W+1]=n.pixels[K+1],this.pixels[W+2]=n.pixels[K+2],this.pixels[W+3]=n.pixels[K+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}Sn(sy,"DEMData"),Sn(SS,"DemMinMaxQuadTree",{omit:["dem"]});class Xz{constructor(n,a){this.max=n,this.onRemove=a,this.reset()}reset(){for(const n in this.data)for(const a of this.data[n])a.timeout&&clearTimeout(a.timeout),this.onRemove(a.value);return this.data={},this.order=[],this}add(n,a,d){const p=n.wrapped().key;this.data[p]===void 0&&(this.data[p]=[]);const g={value:a,timeout:void 0};if(d!==void 0&&(g.timeout=setTimeout(()=>{this.remove(n,g)},d)),this.data[p].push(g),this.order.push(p),this.order.length>this.max){const v=this._getAndRemoveByKey(this.order[0]);v&&this.onRemove(v)}return this}has(n){return n.wrapped().key in this.data}getAndRemove(n){return this.has(n)?this._getAndRemoveByKey(n.wrapped().key):null}_getAndRemoveByKey(n){const a=this.data[n].shift();return a.timeout&&clearTimeout(a.timeout),this.data[n].length===0&&delete this.data[n],this.order.splice(this.order.indexOf(n),1),a.value}getByKey(n){const a=this.data[n];return a?a[0].value:null}get(n){return this.has(n)?this.data[n.wrapped().key][0].value:null}remove(n,a){if(!this.has(n))return this;const d=n.wrapped().key,p=a===void 0?0:this.data[d].indexOf(a),g=this.data[d][p];return this.data[d].splice(p,1),g.timeout&&clearTimeout(g.timeout),this.data[d].length===0&&delete this.data[d],this.onRemove(g.value),this.order.splice(this.order.indexOf(d),1),this}setMaxSize(n){for(this.max=n;this.order.length>this.max;){const a=this._getAndRemoveByKey(this.order[0]);a&&this.onRemove(a)}return this}filter(n){const a=[];for(const d in this.data)for(const p of this.data[d])n(p.value)||a.push(p);for(const d of a)this.remove(d.value.tileID,d)}}class Rp{constructor(n,a,d){this.func=n,this.mask=a,this.range=d}}Rp.ReadOnly=!1,Rp.ReadWrite=!0,Rp.disabled=new Rp(519,Rp.ReadOnly,[0,1]);const Vx=7680;class Ux{constructor(n,a,d,p,g,v){this.test=n,this.ref=a,this.mask=d,this.fail=p,this.depthFail=g,this.pass=v}}Ux.disabled=new Ux({func:519,mask:0},0,0,Vx,Vx,Vx);class cc{constructor(n,a,d){this.blendFunction=n,this.blendColor=a,this.mask=d}}cc.Replace=[1,0],cc.disabled=new cc(cc.Replace,Mi.transparent,[!1,!1,!1,!1]),cc.unblended=new cc(cc.Replace,Mi.transparent,[!0,!0,!0,!0]),cc.alphaBlended=new cc([1,771],Mi.transparent,[!0,!0,!0,!0]);const Wx=1029,Hx=2305;class kl{constructor(n,a,d){this.enable=n,this.mode=a,this.frontFace=d}}kl.disabled=new kl(!1,Wx,Hx),kl.backCCW=new kl(!0,Wx,Hx),kl.backCW=new kl(!0,Wx,2304),kl.frontCW=new kl(!0,1028,2304),kl.frontCCW=new kl(!0,1028,Hx);class ih extends Oc{constructor(n,a,d){super(),this.id=n,this._onlySymbols=d,a.on("data",p=>{p.dataType==="source"&&p.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&p.dataType==="source"&&p.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform))}),a.on("error",()=>{this._sourceErrored=!0}),this._source=a,this._tiles={},this._cache=new Xz(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=a.minTileCacheSize,this._maxTileCacheSize=a.maxTileCacheSize,this._loadedParentTiles={},this._coveredTiles={},this._state=new Gz,this._isRaster=this._source.type==="raster"||this._source.type==="raster-dem"||this._source.type==="custom"&&this._source._dataType==="raster"}onAdd(n){this.map=n,this._minTileCacheSize=this._minTileCacheSize===void 0&&n?n._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=this._maxTileCacheSize===void 0&&n?n._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const n in this._tiles){const a=this._tiles[n];if(a.state!=="loaded"&&a.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const n=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,n&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(n,a){return n.isSymbolTile=this._onlySymbols,this._source.loadTile(n,a)}_unloadTile(n){if(this._source.unloadTile)return this._source.unloadTile(n,()=>{})}_abortTile(n){if(this._source.abortTile)return this._source.abortTile(n,()=>{})}serialize(){return this._source.serialize()}prepare(n){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const a in this._tiles){const d=this._tiles[a];d.upload(n),d.prepare(this.map.style.imageManager)}}getIds(){return wt(this._tiles).map(n=>n.tileID).sort(ES).map(n=>n.key)}getRenderableIds(n){const a=[];for(const d in this._tiles)this._isIdRenderable(+d,n)&&a.push(this._tiles[d]);return n?a.sort((d,p)=>{const g=d.tileID,v=p.tileID,w=new ce(g.canonical.x,g.canonical.y)._rotate(this.transform.angle),C=new ce(v.canonical.x,v.canonical.y)._rotate(this.transform.angle);return g.overscaledZ-v.overscaledZ||C.y-w.y||C.x-w.x}).map(d=>d.tileID.key):a.map(d=>d.tileID).sort(ES).map(d=>d.key)}hasRenderableParent(n){const a=this.findLoadedParent(n,0);return!!a&&this._isIdRenderable(a.tileID.key)}_isIdRenderable(n,a){return this._tiles[n]&&this._tiles[n].hasData()&&!this._coveredTiles[n]&&(a||!this._tiles[n].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const n in this._tiles)this._tiles[n].state!=="errored"&&this._reloadTile(+n,"reloading")}}_reloadTile(n,a){const d=this._tiles[n];d&&(d.state!=="loading"&&(d.state=a),this._loadTile(d,this._tileLoaded.bind(this,d,n,a)))}_tileLoaded(n,a,d,p){if(p)if(n.state="errored",p.status!==404)this._source.fire(new oa(p,{tile:n}));else if(this._source.type==="raster-dem"&&this.usedForTerrain&&this.map.painter.terrain){const g=this.map.painter.terrain;this.update(this.transform,g.getScaledDemTileSize(),!0),g.resetTileLookupCache(this.id)}else this.update(this.transform);else n.timeAdded=zs.now(),d==="expired"&&(n.refreshedUponExpiration=!0),this._setTileReloadTimer(a,n),this._source.type==="raster-dem"&&n.dem&&this._backfillDEM(n),this._state.initializeTileState(n,this.map?this.map.painter:null),this._source.fire(new ia("data",{dataType:"source",tile:n,coord:n.tileID,sourceCacheId:this.id}))}_backfillDEM(n){const a=this.getRenderableIds();for(let p=0;p<a.length;p++){const g=a[p];if(n.neighboringTiles&&n.neighboringTiles[g]){const v=this.getTileByID(g);d(n,v),d(v,n)}}function d(p,g){if(!p.dem||p.dem.borderReady)return;p.needsHillshadePrepare=!0,p.needsDEMTextureUpload=!0;let v=g.tileID.canonical.x-p.tileID.canonical.x;const w=g.tileID.canonical.y-p.tileID.canonical.y,C=Math.pow(2,p.tileID.canonical.z),P=g.tileID.key;v===0&&w===0||Math.abs(w)>1||(Math.abs(v)>1&&(Math.abs(v+C)===1?v+=C:Math.abs(v-C)===1&&(v-=C)),g.dem&&p.dem&&(p.dem.backfillBorder(g.dem,v,w),p.neighboringTiles&&p.neighboringTiles[P]&&(p.neighboringTiles[P].backfilled=!0)))}}getTile(n){return this.getTileByID(n.key)}getTileByID(n){return this._tiles[n]}_retainLoadedChildren(n,a,d,p){for(const g in this._tiles){let v=this._tiles[g];if(p[g]||!v.hasData()||v.tileID.overscaledZ<=a||v.tileID.overscaledZ>d)continue;let w=v.tileID;for(;v&&v.tileID.overscaledZ>a+1;){const P=v.tileID.scaledTo(v.tileID.overscaledZ-1);v=this._tiles[P.key],v&&v.hasData()&&(w=P)}let C=w;for(;C.overscaledZ>a;)if(C=C.scaledTo(C.overscaledZ-1),n[C.key]){p[w.key]=w;break}}}findLoadedParent(n,a){if(n.key in this._loadedParentTiles){const d=this._loadedParentTiles[n.key];return d&&d.tileID.overscaledZ>=a?d:null}for(let d=n.overscaledZ-1;d>=a;d--){const p=n.scaledTo(d),g=this._getLoadedTile(p);if(g)return g}}_getLoadedTile(n){const a=this._tiles[n.key];return a&&a.hasData()?a:this._cache.getByKey(this._source.reparseOverscaled?n.wrapped().key:n.canonical.key)}updateCacheSize(n,a){a=a||this._source.tileSize;const d=Math.ceil(n.width/a)+1,p=Math.ceil(n.height/a)+1,g=Math.floor(d*p*5),v=typeof this._minTileCacheSize=="number"?Math.max(this._minTileCacheSize,g):g,w=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,v):v;this._cache.setMaxSize(w)}handleWrapJump(n){const a=Math.round((n-(this._prevLng===void 0?n:this._prevLng))/360);if(this._prevLng=n,a){const d={};for(const p in this._tiles){const g=this._tiles[p];g.tileID=g.tileID.unwrapTo(g.tileID.wrap+a),d[g.tileID.key]=g}this._tiles=d;for(const p in this._timers)clearTimeout(this._timers[p]),delete this._timers[p];for(const p in this._tiles)this._setTileReloadTimer(+p,this._tiles[p])}}update(n,a,d){if(this.transform=n,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!d)return;let p;this.updateCacheSize(n,a),this.transform.projection.name!=="globe"&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?p=n.getVisibleUnwrappedCoordinates(this._source.tileID).map(w=>new ds(w.canonical.z,w.wrap,w.canonical.z,w.canonical.x,w.canonical.y)):(p=n.coveringTiles({tileSize:a||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!d,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(p=p.filter(w=>this._source.hasTile(w)))):p=[];const g=this._updateRetainedTiles(p);if(PS(this._source.type)&&p.length!==0){const w={},C={},P=Object.keys(g);for(const N of P){const W=g[N],K=this._tiles[N];if(!K||K.fadeEndTime&&K.fadeEndTime<=zs.now())continue;const ee=this.findLoadedParent(W,Math.max(W.overscaledZ-ih.maxOverzooming,this._source.minzoom));ee&&(this._addTile(ee.tileID),w[ee.tileID.key]=ee.tileID),C[N]=W}const z=p[p.length-1].overscaledZ;for(const N in this._tiles){const W=this._tiles[N];if(g[N]||!W.hasData())continue;let K=W.tileID;for(;K.overscaledZ>z;){K=K.scaledTo(K.overscaledZ-1);const ee=this._tiles[K.key];if(ee&&ee.hasData()&&C[K.key]){g[N]=W.tileID;break}}}for(const N in w)g[N]||(this._coveredTiles[N]=!0,g[N]=w[N])}for(const w in g)this._tiles[w].clearFadeHold();const v=function(w,C){const P=[];for(const z in w)z in C||P.push(z);return P}(this._tiles,g);for(const w of v){const C=this._tiles[w];C.hasSymbolBuckets&&!C.holdingForFade()?C.setHoldDuration(this.map._fadeDuration):C.hasSymbolBuckets&&!C.symbolFadeFinished()||this._removeTile(+w)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const n in this._tiles)this._tiles[n].holdingForFade()&&this._removeTile(+n)}_updateRetainedTiles(n){const a={};if(n.length===0)return a;const d={},p=n.reduce((P,z)=>Math.min(P,z.overscaledZ),1/0),g=n[0].overscaledZ,v=Math.max(g-ih.maxOverzooming,this._source.minzoom),w=Math.max(g+ih.maxUnderzooming,this._source.minzoom),C={};for(const P of n){const z=this._addTile(P);a[P.key]=P,z.hasData()||p<this._source.maxzoom&&(C[P.key]=P)}this._retainLoadedChildren(C,p,w,a);for(const P of n){let z=this._tiles[P.key];if(z.hasData())continue;if(P.canonical.z>=this._source.maxzoom){const W=P.children(this._source.maxzoom)[0],K=this.getTile(W);if(K&&K.hasData()){a[W.key]=W;continue}}else{const W=P.children(this._source.maxzoom);if(a[W[0].key]&&a[W[1].key]&&a[W[2].key]&&a[W[3].key])continue}let N=z.wasRequested();for(let W=P.overscaledZ-1;W>=v;--W){const K=P.scaledTo(W);if(d[K.key]||(d[K.key]=!0,z=this.getTile(K),!z&&N&&(z=this._addTile(K)),z&&(a[K.key]=K,N=z.wasRequested(),z.hasData())))break}}return a}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const n in this._tiles){const a=[];let d,p=this._tiles[n].tileID;for(;p.overscaledZ>0;){if(p.key in this._loadedParentTiles){d=this._loadedParentTiles[p.key];break}a.push(p.key);const g=p.scaledTo(p.overscaledZ-1);if(d=this._getLoadedTile(g),d)break;p=g}for(const g of a)this._loadedParentTiles[g]=d}}_addTile(n){let a=this._tiles[n.key];if(a)return a;a=this._cache.getAndRemove(n),a&&(this._setTileReloadTimer(n.key,a),a.tileID=n,this._state.initializeTileState(a,this.map?this.map.painter:null),this._cacheTimers[n.key]&&(clearTimeout(this._cacheTimers[n.key]),delete this._cacheTimers[n.key],this._setTileReloadTimer(n.key,a)));const d=!!a;if(!d){const p=this.map?this.map.painter:null;a=new jx(n,this._source.tileSize*n.overscaleFactor(),this.transform.tileZoom,p,this._isRaster),this._loadTile(a,this._tileLoaded.bind(this,a,n.key,a.state))}return a?(a.uses++,this._tiles[n.key]=a,d||this._source.fire(new ia("dataloading",{tile:a,coord:a.tileID,dataType:"source"})),a):null}_setTileReloadTimer(n,a){n in this._timers&&(clearTimeout(this._timers[n]),delete this._timers[n]);const d=a.getExpiryTimeout();d&&(this._timers[n]=setTimeout(()=>{this._reloadTile(n,"expired"),delete this._timers[n]},d))}_removeTile(n){const a=this._tiles[n];a&&(a.uses--,delete this._tiles[n],this._timers[n]&&(clearTimeout(this._timers[n]),delete this._timers[n]),a.uses>0||(a.hasData()&&a.state!=="reloading"?this._cache.add(a.tileID,a,a.getExpiryTimeout()):(a.aborted=!0,this._abortTile(a),this._unloadTile(a))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const n in this._tiles)this._removeTile(+n);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(n,a,d){const p=[],g=this.transform;if(!g)return p;const v=g.projection.name==="globe",w=oc(g.center.lng);for(const C in this._tiles){const P=this._tiles[C];if(d&&P.clearQueryDebugViz(),P.holdingForFade())continue;let z;if(v){const N=P.tileID.canonical;if(N.z===0){const W=[Math.abs(Me(w,...em(N,-1))-w),Math.abs(Me(w,...em(N,1))-w)];z=[0,2*W.indexOf(Math.min(...W))-1]}else{const W=[Math.abs(Me(w,...em(N,-1))-w),Math.abs(Me(w,...em(N,0))-w),Math.abs(Me(w,...em(N,1))-w)];z=[W.indexOf(Math.min(...W))-1]}}else z=[0];for(const N of z){const W=n.containsTile(P,g,a,N);W&&p.push(W)}}return p}getVisibleCoordinates(n){const a=this.getRenderableIds(n).map(d=>this._tiles[d].tileID);for(const d of a)d.projMatrix=this.transform.calculateProjMatrix(d.toUnwrapped());return a}hasTransition(){if(this._source.hasTransition())return!0;if(PS(this._source.type))for(const n in this._tiles){const a=this._tiles[n];if(a.fadeEndTime!==void 0&&a.fadeEndTime>=zs.now())return!0}return!1}setFeatureState(n,a,d){this._state.updateState(n=n||"_geojsonTileLayer",a,d)}removeFeatureState(n,a,d){this._state.removeFeatureState(n=n||"_geojsonTileLayer",a,d)}getFeatureState(n,a){return this._state.getState(n=n||"_geojsonTileLayer",a)}setDependencies(n,a,d){const p=this._tiles[n];p&&p.setDependencies(a,d)}reloadTilesForDependencies(n,a){for(const d in this._tiles)this._tiles[d].hasDependency(n,a)&&this._reloadTile(+d,"reloading");this._cache.filter(d=>!d.hasDependency(n,a))}_preloadTiles(n,a){if(!this._sourceLoaded){const w=()=>{this._sourceLoaded&&(this._source.off("data",w),this._preloadTiles(n,a))};return void this._source.on("data",w)}const d=new Map,p=Array.isArray(n)?n:[n],g=this.map.painter.terrain,v=this.usedForTerrain&&g?g.getScaledDemTileSize():this._source.tileSize;for(const w of p){const C=w.coveringTiles({tileSize:v,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const P of C)d.set(P.key,P);this.usedForTerrain&&w.updateElevation(!1)}ct(Array.from(d.values()),(w,C)=>{const P=new jx(w,this._source.tileSize*w.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(P,z=>{this._source.type==="raster-dem"&&P.dem&&this._backfillDEM(P),C(z,P)})},a)}}function ES(s,n){const a=Math.abs(2*s.wrap)-+(s.wrap<0),d=Math.abs(2*n.wrap)-+(n.wrap<0);return s.overscaledZ-n.overscaledZ||d-a||n.canonical.y-s.canonical.y||n.canonical.x-s.canonical.x}function PS(s){return s==="raster"||s==="image"||s==="video"||s==="custom"}function em(s,n){const a=1<<s.z;return[s.x/a+n,(s.x+1)/a+n]}ih.maxOverzooming=10,ih.maxUnderzooming=3;class ay{constructor(n,a,d){this._demTile=n,this._dem=this._demTile.dem,this._scale=a,this._offset=d}static create(n,a,d){const p=d||n.findDEMTileFor(a);if(!p||!p.dem)return;const g=p.dem,v=p.tileID,w=1<<a.canonical.z-v.canonical.z;return new ay(p,p.tileSize/Un/w,[(a.canonical.x/w-v.canonical.x)*g.dim,(a.canonical.y/w-v.canonical.y)*g.dim])}tileCoordToPixel(n,a){const d=a*this._scale+this._offset[1],p=Math.floor(n*this._scale+this._offset[0]),g=Math.floor(d);return new ce(p,g)}getElevationAt(n,a,d,p){const g=n*this._scale+this._offset[0],v=a*this._scale+this._offset[1],w=Math.floor(g),C=Math.floor(v),P=this._dem;return p=!!p,d?wr(wr(P.get(w,C,p),P.get(w,C+1,p),v-C),wr(P.get(w+1,C,p),P.get(w+1,C+1,p),v-C),g-w):P.get(w,C,p)}getElevationAtPixel(n,a,d){return this._dem.get(n,a,!!d)}getMeterToDEM(n){return(1<<this._demTile.tileID.canonical.z)*Cl(1,n)*this._dem.stride}}class kS{constructor(n,a){this.tileID=n,this.x=n.canonical.x,this.y=n.canonical.y,this.z=n.canonical.z,this.grid=new qc(Un,16,0),this.featureIndexArray=new Gd,this.promoteId=a}insert(n,a,d,p,g,v=0){const w=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(d,p,g,v);const C=this.grid;for(let P=0;P<a.length;P++){const z=a[P],N=[1/0,1/0,-1/0,-1/0];for(let W=0;W<z.length;W++){const K=z[W];N[0]=Math.min(N[0],K.x),N[1]=Math.min(N[1],K.y),N[2]=Math.max(N[2],K.x),N[3]=Math.max(N[3],K.y)}N[0]<Un&&N[1]<Un&&N[2]>=0&&N[3]>=0&&C.insert(w,N[0],N[1],N[2],N[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new Cx(new q0(this.rawTileData)).layers,this.sourceLayerCoder=new pS(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const n in this.vtLayers)this.vtFeatures[n]=[]}return this.vtLayers}query(n,a,d,p){this.loadVTLayers();const g=n.params||{},v=lp(g.filter),w=n.tileResult,C=n.transform,P=w.bufferedTilespaceBounds,z=this.grid.query(P.min.x,P.min.y,P.max.x,P.max.y,(ee,ie,fe,Te)=>Q6(w.bufferedTilespaceGeometry,ee,ie,fe,Te));z.sort(Yz);let N=null;C.elevation&&z.length>0&&(N=ay.create(C.elevation,this.tileID));const W={};let K;for(let ee=0;ee<z.length;ee++){const ie=z[ee];if(ie===K)continue;K=ie;const fe=this.featureIndexArray.get(ie);let Te=null;this.loadMatchingFeature(W,fe,v,g.layers,g.availableImages,a,d,p,(Fe,Ce,Oe,Ve=0)=>(Te||(Te=eu(Fe,this.tileID.canonical,n.tileTransform)),Ce.queryIntersectsFeature(w,Fe,Oe,Te,this.z,n.transform,n.pixelPosMatrix,N,Ve)))}return W}loadMatchingFeature(n,a,d,p,g,v,w,C,P){const{featureIndex:z,bucketIndex:N,sourceLayerIndex:W,layoutVertexArrayOffset:K}=a,ee=this.bucketLayerIDs[N];if(p&&!function(Fe,Ce){for(let Oe=0;Oe<Fe.length;Oe++)if(Ce.indexOf(Fe[Oe])>=0)return!0;return!1}(p,ee))return;const ie=this.sourceLayerCoder.decode(W),fe=this.vtLayers[ie].feature(z);if(d.needGeometry){const Fe=eh(fe,!0);if(!d.filter(new O(this.tileID.overscaledZ),Fe,this.tileID.canonical))return}else if(!d.filter(new O(this.tileID.overscaledZ),fe))return;const Te=this.getId(fe,ie);for(let Fe=0;Fe<ee.length;Fe++){const Ce=ee[Fe];if(p&&p.indexOf(Ce)<0)continue;const Oe=v[Ce];if(!Oe)continue;let Ve={};Te!==void 0&&C&&(Ve=C.getState(Oe.sourceLayer||"_geojsonTileLayer",Te));const Ne=St({},w[Ce]);Ne.paint=MS(Ne.paint,Oe.paint,fe,Ve,g),Ne.layout=MS(Ne.layout,Oe.layout,fe,Ve,g);const pt=!P||P(fe,Oe,Ve,K);if(!pt)continue;const st=new fS(fe,this.z,this.x,this.y,Te);st.layer=Ne;let Mt=n[Ce];Mt===void 0&&(Mt=n[Ce]=[]),Mt.push({featureIndex:z,feature:st,intersectionZ:pt})}}lookupSymbolFeatures(n,a,d,p,g,v,w,C){const P={};this.loadVTLayers();const z=lp(g);for(const N of n)this.loadMatchingFeature(P,{bucketIndex:d,sourceLayerIndex:p,featureIndex:N,layoutVertexArrayOffset:0},z,v,w,C,a);return P}loadFeature(n){const{featureIndex:a,sourceLayerIndex:d}=n;this.loadVTLayers();const p=this.sourceLayerCoder.decode(d),g=this.vtFeatures[p];if(g[a])return g[a];const v=this.vtLayers[p].feature(a);return g[a]=v,v}hasLayer(n){for(const a of this.bucketLayerIDs)for(const d of a)if(n===d)return!0;return!1}getId(n,a){let d=n.id;if(this.promoteId){const p=typeof this.promoteId=="string"?this.promoteId:this.promoteId[a];p!=null&&(d=n.properties[p]),typeof d=="boolean"&&(d=Number(d))}return d}}function MS(s,n,a,d,p){return at(s,(g,v)=>{const w=n instanceof Se?n.get(v):null;return w&&w.evaluate?w.evaluate(a,d,p):w})}function Yz(s,n){return n-s}Sn(kS,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});class IS{constructor(n,a){this.width=n,this.height=a,this.nextRow=0,this.image=new tu({width:n,height:a}),this.positions={},this.uploaded=!1}getDash(n,a){const d=this.getKey(n,a);return this.positions[d]}trim(){const n=this.width,a=this.height=Et(this.nextRow);this.image.resize({width:n,height:a})}getKey(n,a){return n.join(",")+a}getDashRanges(n,a,d){const p=[];let g=n.length%2==1?-n[n.length-1]*d:0,v=n[0]*d,w=!0;p.push({left:g,right:v,isDash:w,zeroLength:n[0]===0});let C=n[0];for(let P=1;P<n.length;P++){w=!w;const z=n[P];g=C*d,C+=z,v=C*d,p.push({left:g,right:v,isDash:w,zeroLength:z===0})}return p}addRoundDash(n,a,d){const p=a/2;for(let g=-d;g<=d;g++){const v=this.width*(this.nextRow+d+g);let w=0,C=n[w];for(let P=0;P<this.width;P++){P/C.right>1&&(C=n[++w]);const z=Math.abs(P-C.left),N=Math.abs(P-C.right),W=Math.min(z,N);let K;const ee=g/d*(p+1);if(C.isDash){const ie=p-Math.abs(ee);K=Math.sqrt(W*W+ie*ie)}else K=p-Math.sqrt(W*W+ee*ee);this.image.data[v+P]=Math.max(0,Math.min(255,K+128))}}}addRegularDash(n,a){for(let C=n.length-1;C>=0;--C){const P=n[C],z=n[C+1];P.zeroLength?n.splice(C,1):z&&z.isDash===P.isDash&&(z.left=P.left,n.splice(C,1))}const d=n[0],p=n[n.length-1];d.isDash===p.isDash&&(d.left=p.left-this.width,p.right=d.right+this.width);const g=this.width*this.nextRow;let v=0,w=n[v];for(let C=0;C<this.width;C++){C/w.right>1&&(w=n[++v]);const P=Math.abs(C-w.left),z=Math.abs(C-w.right),N=Math.min(P,z);this.image.data[g+C]=Math.max(0,Math.min(255,(w.isDash?N:-N)+a+128))}}addDash(n,a){const d=this.getKey(n,a);if(this.positions[d])return this.positions[d];const p=a==="round",g=p?7:0,v=2*g+1;if(this.nextRow+v>this.height)return rt("LineAtlas out of space"),null;n.length===0&&n.push(1);let w=0;for(let z=0;z<n.length;z++)n[z]<0&&(rt("Negative value is found in line dasharray, replacing values with 0"),n[z]=0),w+=n[z];if(w!==0){const z=this.width/w,N=this.getDashRanges(n,this.width,z);p?this.addRoundDash(N,z,g):this.addRegularDash(N,a==="square"?.5*z:0)}const C=this.nextRow+g;this.nextRow+=v;const P={tl:[C,g],br:[w,0]};return this.positions[d]=P,P}}Sn(IS,"LineAtlas");const AS=1*Pl;class DS{constructor(n){const a={},d=[];for(const w in n){const C=n[w],P=a[w]={};for(const z in C.glyphs){const N=C.glyphs[+z];if(!N||N.bitmap.width===0||N.bitmap.height===0)continue;const W=N.metrics.localGlyph?AS:1,K={x:0,y:0,w:N.bitmap.width+2*W,h:N.bitmap.height+2*W};d.push(K),P[z]=K}}const{w:p,h:g}=Mx(d),v=new tu({width:p||1,height:g||1});for(const w in n){const C=n[w];for(const P in C.glyphs){const z=C.glyphs[+P];if(!z||z.bitmap.width===0||z.bitmap.height===0)continue;const N=a[w][P],W=z.metrics.localGlyph?AS:1;tu.copy(z.bitmap,v,{x:0,y:0},{x:N.x+W,y:N.y+W},z.bitmap)}}this.image=v,this.positions=a}}Sn(DS,"GlyphAtlas");class Kz{constructor(n){this.tileID=new ds(n.tileID.overscaledZ,n.tileID.wrap,n.tileID.canonical.z,n.tileID.canonical.x,n.tileID.canonical.y),this.tileZoom=n.tileZoom,this.uid=n.uid,this.zoom=n.zoom,this.canonical=n.tileID.canonical,this.pixelRatio=n.pixelRatio,this.tileSize=n.tileSize,this.source=n.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=n.showCollisionBoxes,this.collectResourceTiming=!!n.collectResourceTiming,this.returnDependencies=!!n.returnDependencies,this.promoteId=n.promoteId,this.enableTerrain=!!n.enableTerrain,this.isSymbolTile=n.isSymbolTile,this.tileTransform=rh(n.tileID.canonical,n.projection),this.projection=n.projection}parse(n,a,d,p,g){this.status="parsing",this.data=n,this.collisionBoxArray=new Xr;const v=new pS(Object.keys(n.layers).sort()),w=new kS(this.tileID,this.promoteId);w.bucketLayerIDs=[];const C={},P=new IS(256,256),z={featureIndex:w,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:P,availableImages:d},N=a.familiesBySource[this.source];for(const Ve in N){const Ne=n.layers[Ve];if(!Ne)continue;let pt=!1,st=!1;for(const yt of N[Ve])yt[0].type==="symbol"?pt=!0:st=!0;if(this.isSymbolTile===!0&&!pt||this.isSymbolTile===!1&&!st)continue;Ne.version===1&&rt(`Vector tile source "${this.source}" layer "${Ve}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Mt=v.encode(Ve),Zt=[];for(let yt=0;yt<Ne.length;yt++){const Lt=Ne.feature(yt),Ot=w.getId(Lt,Ve);Zt.push({feature:Lt,id:Ot,index:yt,sourceLayerIndex:Mt})}for(const yt of N[Ve]){const Lt=yt[0];this.isSymbolTile!==void 0&&Lt.type==="symbol"!==this.isSymbolTile||Lt.minzoom&&this.zoom<Math.floor(Lt.minzoom)||Lt.maxzoom&&this.zoom>=Lt.maxzoom||Lt.visibility!=="none"&&(Gx(yt,this.zoom,d),(C[Lt.id]=Lt.createBucket({index:w.bucketLayerIDs.length,layers:yt,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Mt,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.spec,availableImages:d})).populate(Zt,z,this.tileID.canonical,this.tileTransform),w.bucketLayerIDs.push(yt.map(Ot=>Ot.id)))}}let W,K,ee,ie;P.trim();const fe={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},Te=()=>{if(W)return g(W);if(K&&ee&&ie){const Ve=new DS(K),Ne=new N7(ee,ie);for(const pt in C){const st=C[pt];st instanceof Wu?(Gx(st.layers,this.zoom,d),Sz(st,K,Ve.positions,ee,Ne.iconPositions,this.showCollisionBoxes,d,this.tileID.canonical,this.tileZoom,this.projection)):st.hasPattern&&(st instanceof W0||st instanceof N0||st instanceof V1)&&(Gx(st.layers,this.zoom,d),st.addFeatures(z,this.tileID.canonical,Ne.patternPositions,d,this.tileTransform))}this.status="done",g(null,{buckets:wt(C).filter(pt=>!pt.isEmpty()),featureIndex:w,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Ve.image,lineAtlas:P,imageAtlas:Ne,glyphMap:this.returnDependencies?K:null,iconMap:this.returnDependencies?ee:null,glyphPositions:this.returnDependencies?Ve.positions:null})}},Fe=at(z.glyphDependencies,Ve=>Object.keys(Ve).map(Number));Object.keys(Fe).length?p.send("getGlyphs",{uid:this.uid,stacks:Fe},(Ve,Ne)=>{W||(W=Ve,K=Ne,Te())},void 0,!1,fe):K={};const Ce=Object.keys(z.iconDependencies);Ce.length?p.send("getImages",{icons:Ce,source:this.source,tileID:this.tileID,type:"icons"},(Ve,Ne)=>{W||(W=Ve,ee=Ne,Te())},void 0,!1,fe):ee={};const Oe=Object.keys(z.patternDependencies);Oe.length?p.send("getImages",{icons:Oe,source:this.source,tileID:this.tileID,type:"patterns"},(Ve,Ne)=>{W||(W=Ve,ie=Ne,Te())},void 0,!1,fe):ie={},Te()}}function Gx(s,n,a){const d=new O(n);for(const p of s)p.recalculate(d,a)}class RS{constructor(n){this.entries={},this.scheduler=n}request(n,a,d,p){const g=this.entries[n]=this.entries[n]||{callbacks:[]};if(g.result){const[v,w]=g.result;return this.scheduler?this.scheduler.add(()=>{p(v,w)},a):p(v,w),()=>{}}return g.callbacks.push(p),g.cancel||(g.cancel=d((v,w)=>{g.result=[v,w];for(const C of g.callbacks)this.scheduler?this.scheduler.add(()=>{C(v,w)},a):C(v,w);setTimeout(()=>delete this.entries[n],3e3)})),()=>{g.result||(g.callbacks=g.callbacks.filter(v=>v!==p),g.callbacks.length||(g.cancel(),delete this.entries[n]))}}}function zS(s,n,a){const d=JSON.stringify(s.request);return s.data&&(this.deduped.entries[d]={result:[null,s.data]}),this.deduped.request(d,{type:"parseTile",isSymbolTile:s.isSymbolTile,zoom:s.tileZoom},p=>{const g=Ur(s.request,(v,w,C,P)=>{v?p(v):w&&p(null,{vectorTile:a?void 0:new Cx(new q0(w)),rawData:w,cacheControl:C,expires:P})});return()=>{g.cancel(),p()}},n)}const LS=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class qx{static from(n){if(!(n instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[a,d]=new Uint8Array(n,0,2);if(a!==219)throw new Error("Data does not appear to be in a KDBush format.");const p=d>>4;if(p!==1)throw new Error(`Got v${p} data when expected v1.`);const g=LS[15&d];if(!g)throw new Error("Unrecognized array type.");const[v]=new Uint16Array(n,2,1),[w]=new Uint32Array(n,4,1);return new qx(w,v,g,n)}constructor(n,a=64,d=Float64Array,p){if(isNaN(n)||n<0)throw new Error(`Unpexpected numItems value: ${n}.`);this.numItems=+n,this.nodeSize=Math.min(Math.max(+a,2),65535),this.ArrayType=d,this.IndexArrayType=n<65536?Uint16Array:Uint32Array;const g=LS.indexOf(this.ArrayType),v=2*n*this.ArrayType.BYTES_PER_ELEMENT,w=n*this.IndexArrayType.BYTES_PER_ELEMENT,C=(8-w%8)%8;if(g<0)throw new Error(`Unexpected typed array class: ${d}.`);p&&p instanceof ArrayBuffer?(this.data=p,this.ids=new this.IndexArrayType(this.data,8,n),this.coords=new this.ArrayType(this.data,8+w+C,2*n),this._pos=2*n,this._finished=!0):(this.data=new ArrayBuffer(8+v+w+C),this.ids=new this.IndexArrayType(this.data,8,n),this.coords=new this.ArrayType(this.data,8+w+C,2*n),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+g]),new Uint16Array(this.data,2,1)[0]=a,new Uint32Array(this.data,4,1)[0]=n)}add(n,a){const d=this._pos>>1;return this.ids[d]=d,this.coords[this._pos++]=n,this.coords[this._pos++]=a,d}finish(){const n=this._pos>>1;if(n!==this.numItems)throw new Error(`Added ${n} items when expected ${this.numItems}.`);return Zx(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(n,a,d,p){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:g,coords:v,nodeSize:w}=this,C=[0,g.length-1,0],P=[];for(;C.length;){const z=C.pop()||0,N=C.pop()||0,W=C.pop()||0;if(N-W<=w){for(let fe=W;fe<=N;fe++){const Te=v[2*fe],Fe=v[2*fe+1];Te>=n&&Te<=d&&Fe>=a&&Fe<=p&&P.push(g[fe])}continue}const K=W+N>>1,ee=v[2*K],ie=v[2*K+1];ee>=n&&ee<=d&&ie>=a&&ie<=p&&P.push(g[K]),(z===0?n<=ee:a<=ie)&&(C.push(W),C.push(K-1),C.push(1-z)),(z===0?d>=ee:p>=ie)&&(C.push(K+1),C.push(N),C.push(1-z))}return P}within(n,a,d){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:p,coords:g,nodeSize:v}=this,w=[0,p.length-1,0],C=[],P=d*d;for(;w.length;){const z=w.pop()||0,N=w.pop()||0,W=w.pop()||0;if(N-W<=v){for(let fe=W;fe<=N;fe++)FS(g[2*fe],g[2*fe+1],n,a)<=P&&C.push(p[fe]);continue}const K=W+N>>1,ee=g[2*K],ie=g[2*K+1];FS(ee,ie,n,a)<=P&&C.push(p[K]),(z===0?n-d<=ee:a-d<=ie)&&(w.push(W),w.push(K-1),w.push(1-z)),(z===0?n+d>=ee:a+d>=ie)&&(w.push(K+1),w.push(N),w.push(1-z))}return C}}function Zx(s,n,a,d,p,g){if(p-d<=a)return;const v=d+p>>1;OS(s,n,v,d,p,g),Zx(s,n,a,d,v-1,1-g),Zx(s,n,a,v+1,p,1-g)}function OS(s,n,a,d,p,g){for(;p>d;){if(p-d>600){const P=p-d+1,z=a-d+1,N=Math.log(P),W=.5*Math.exp(2*N/3),K=.5*Math.sqrt(N*W*(P-W)/P)*(z-P/2<0?-1:1);OS(s,n,a,Math.max(d,Math.floor(a-z*W/P+K)),Math.min(p,Math.floor(a+(P-z)*W/P+K)),g)}const v=n[2*a+g];let w=d,C=p;for(tm(s,n,d,a),n[2*p+g]>v&&tm(s,n,d,p);w<C;){for(tm(s,n,w,C),w++,C--;n[2*w+g]<v;)w++;for(;n[2*C+g]>v;)C--}n[2*d+g]===v?tm(s,n,d,C):(C++,tm(s,n,C,p)),C<=a&&(d=C+1),a<=C&&(p=C-1)}}function tm(s,n,a,d){Xx(s,a,d),Xx(n,2*a,2*d),Xx(n,2*a+1,2*d+1)}function Xx(s,n,a){const d=s[n];s[n]=s[a],s[a]=d}function FS(s,n,a,d){const p=s-a,g=n-d;return p*p+g*g}i.ARRAY_TYPE=js,i.AUTH_ERR_MSG=Be,i.Aabb=us,i.Actor=class{constructor(s,n,a){this.target=s,this.parent=n,this.mapId=a,this.callbacks={},this.cancelCallbacks={},rn(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=on()?s:_,this.scheduler=new Wz}send(s,n,a,d,p=!1,g){const v=Math.round(1e18*Math.random()).toString(36).substring(0,10);a&&(a.metadata=g,this.callbacks[v]=a);const w=Qt(this.globalScope)?void 0:[];return this.target.postMessage({id:v,type:s,hasCallback:!!a,targetMapId:d,mustQueue:p,sourceMapId:this.mapId,data:Ou(n,w)},w),{cancel:()=>{a&&delete this.callbacks[v],this.target.postMessage({id:v,type:"<cancel>",targetMapId:d,sourceMapId:this.mapId})}}}receive(s){const n=s.data,a=n.id;if(a&&(!n.targetMapId||this.mapId===n.targetMapId))if(n.type==="<cancel>"){const d=this.cancelCallbacks[a];delete this.cancelCallbacks[a],d&&d.cancel()}else if(n.mustQueue||on()){const d=this.callbacks[a];this.cancelCallbacks[a]=this.scheduler.add(()=>this.processTask(a,n),d&&d.metadata||{type:"message"})}else this.processTask(a,n)}processTask(s,n){if(n.type==="<response>"){const a=this.callbacks[s];delete this.callbacks[s],a&&(n.error?a(Zc(n.error)):a(null,Zc(n.data)))}else{const a=Qt(this.globalScope)?void 0:[],d=n.hasCallback?(g,v)=>{delete this.cancelCallbacks[s],this.target.postMessage({id:s,type:"<response>",sourceMapId:this.mapId,error:g?Ou(g):null,data:Ou(v,a)},a)}:g=>{},p=Zc(n.data);if(this.parent[n.type])this.parent[n.type](n.sourceMapId,p,d);else if(this.parent.getWorkerSource){const g=n.type.split(".");this.parent.getWorkerSource(n.sourceMapId,g[0],p.source)[g[1]](p,d)}else d(new Error(`Could not find function ${n.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},i.CanonicalTileID=U0,i.Color=Mi,i.ColorMode=cc,i.CullFaceMode=kl,i.DEMData=sy,i.DataConstantProperty=re,i.DedupedRequest=RS,i.DepthMode=Rp,i.EXTENT=Un,i.Elevation=class{isDataAvailableAtPoint(s){const n=this._source();if(this.isUsingMockSource()||!n||s.y<0||s.y>1)return!1;const a=n.getSource().maxzoom,d=1<<a,p=Math.floor(s.x),g=Math.floor((s.x-p)*d),v=Math.floor(s.y*d),w=this.findDEMTileFor(new ds(a,p,a,g,v));return!(!w||!w.dem)}getAtPointOrZero(s,n=0){return this.getAtPoint(s,n)||0}getAtPoint(s,n,a=!0){if(this.isUsingMockSource())return null;n==null&&(n=null);const d=this._source();if(!d||s.y<0||s.y>1)return n;const p=d.getSource().maxzoom,g=1<<p,v=Math.floor(s.x),w=s.x-v,C=new ds(p,v,p,Math.floor(w*g),Math.floor(s.y*g)),P=this.findDEMTileFor(C);if(!P||!P.dem)return n;const z=P.dem,N=1<<P.tileID.canonical.z,W=(w*N-P.tileID.canonical.x)*z.dim,K=(s.y*N-P.tileID.canonical.y)*z.dim,ee=Math.floor(W),ie=Math.floor(K);return(a?this.exaggeration():1)*wr(wr(z.get(ee,ie),z.get(ee,ie+1),K-ie),wr(z.get(ee+1,ie),z.get(ee+1,ie+1),K-ie),W-ee)}getAtTileOffset(s,n,a){const d=1<<s.canonical.z;return this.getAtPointOrZero(new vp(s.wrap+(s.canonical.x+n/Un)/d,(s.canonical.y+a/Un)/d))}getAtTileOffsetFunc(s,n,a,d){return p=>{const g=this.getAtTileOffset(s,p.x,p.y),v=d.upVector(s.canonical,p.x,p.y);return ma(v,v,g*d.upVectorScale(s.canonical,n,a).metersToTile),v}}getForTilePoints(s,n,a,d){if(this.isUsingMockSource())return!1;const p=ay.create(this,s,d);return!!p&&(n.forEach(g=>{g[2]=this.exaggeration()*p.getElevationAt(g[0],g[1],a)}),!0)}getMinMaxForTile(s){if(this.isUsingMockSource())return null;const n=this.findDEMTileFor(s);if(!n||!n.dem)return null;const a=n.dem.tree,d=n.tileID,p=1<<s.canonical.z-d.canonical.z;let g=s.canonical.x/p-d.canonical.x,v=s.canonical.y/p-d.canonical.y,w=0;for(let C=0;C<s.canonical.z-d.canonical.z&&!a.leaves[w];C++){g*=2,v*=2;const P=2*Math.floor(v)+Math.floor(g);w=a.childOffsets[w]+P,g%=1,v%=1}return{min:this.exaggeration()*a.minimums[w],max:this.exaggeration()*a.maximums[w]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(s,n,a){throw new Error("Pure virtual method called.")}pointCoordinate(s){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(s){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},i.ErrorEvent=oa,i.EvaluationParameters=O,i.Event=ia,i.Evented=Oc,i.FillExtrusionBucket=V1,i.Frustum=nx,i.FrustumCorners=tx,i.GLOBE_RADIUS=rc,i.GLOBE_SCALE_MATCH_LATITUDE=45,i.GLOBE_ZOOM_THRESHOLD_MAX=O6,i.GLOBE_ZOOM_THRESHOLD_MIN=rx,i.GlobeSharedBuffers=class{constructor(s){this._createGrid(s),this._createPoles(s)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const s of this._poleSegments)s.destroy();for(const s of this._gridSegments)s.withSkirts.destroy(),s.withoutSkirts.destroy();if(this._wireframeIndexBuffer){this._wireframeIndexBuffer.destroy();for(const s of this._wireframeSegments)s.destroy()}}_fillGridMeshWithLods(s,n){const a=new qt,d=new Ln,p=[],g=s+1+2,v=n[0]+1,w=n[0]+1+(1+n.length),C=(P,z,N)=>{let W=P===g-1?P-2:P===0?P:P-1;return W+=N?24575:0,[W,z]};for(let P=0;P<g;++P)a.emplaceBack(...C(P,0,!0));for(let P=0;P<v;++P)for(let z=0;z<g;++z)a.emplaceBack(...C(z,P,(z===0||z===g-1)&&!0));for(let P=0;P<n.length;++P){const z=n[P];for(let N=0;N<g;++N)a.emplaceBack(...C(N,z,!0))}for(let P=0;P<n.length;++P){const z=d.length,N=n[P]+1+2,W=new Ln;for(let ie=0;ie<N-1;ie++){const fe=ie===N-2,Te=fe?g*(w-n.length+P-ie):g;for(let Fe=0;Fe<g-1;Fe++){const Ce=ie*g+Fe;ie===0||fe||Fe===0||Fe===g-2?(W.emplaceBack(Ce+1,Ce,Ce+Te),W.emplaceBack(Ce+Te,Ce+Te+1,Ce+1)):(d.emplaceBack(Ce+1,Ce,Ce+Te),d.emplaceBack(Ce+Te,Ce+Te+1,Ce+1))}}const K=Gi.simpleSegment(0,z,a.length,d.length-z);for(let ie=0;ie<W.uint16.length;ie+=3)d.emplaceBack(W.uint16[ie],W.uint16[ie+1],W.uint16[ie+2]);const ee=Gi.simpleSegment(0,z,a.length,d.length-z);p.push({withoutSkirts:K,withSkirts:ee})}return{vertices:a,indices:d,segments:p}}_createGrid(s){const n=this._fillGridMeshWithLods(Jd,D1);this._gridSegments=n.segments,this._gridBuffer=s.createVertexBuffer(n.vertices,A1.members),this._gridIndexBuffer=s.createIndexBuffer(n.indices,!0)}_createPoles(s){const n=new Ln;for(let p=0;p<=Jd;p++)n.emplaceBack(0,p+1,p+2);this._poleIndexBuffer=s.createIndexBuffer(n,!0);const a=new Zr,d=new Zr;this._poleSegments=[];for(let p=0,g=0;p<rx;p++){const v=360/(1<<p);a.emplaceBack(0,-rc,0,.5,0),d.emplaceBack(0,-rc,0,.5,1);for(let w=0;w<=Jd;w++){const C=w/Jd,P=wr(0,v,C),[z,N,W]=gp(WD,HD,P,rc);a.emplaceBack(z,N,W,C,0),d.emplaceBack(z,N,W,C,1)}this._poleSegments.push(Gi.simpleSegment(g,0,66,64)),g+=66}this._poleNorthVertexBuffer=s.createVertexBuffer(a,z6,!1),this._poleSouthVertexBuffer=s.createVertexBuffer(d,z6,!1)}getGridBuffers(s,n){return[this._gridBuffer,this._gridIndexBuffer,n?this._gridSegments[s].withSkirts:this._gridSegments[s].withoutSkirts]}getPoleBuffers(s){return[this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[s]]}getWirefameBuffers(s,n){if(!this._wireframeSegments){const a=new mo,d=Jd,p=d+1+2,g=1;this._wireframeSegments=[];for(let v=0,w=0;v<D1.length;v++){const C=D1[v];for(let z=g;z<C+g;z++)for(let N=g;N<d+g;N++){const W=z*p+N;a.emplaceBack(W,W+1),a.emplaceBack(W,W+p),a.emplaceBack(W,W+p+1)}const P=C*d*3;this._wireframeSegments.push(Gi.simpleSegment(0,w,(C+1)*p,P)),w+=P}this._wireframeIndexBuffer=s.createIndexBuffer(a)}return[this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments[n]]}},i.GlyphManager=kp,i.ImagePosition=Ix,i.KDBush=qx,i.LivePerformanceUtils=zi,i.LngLat=Yr,i.LngLatBounds=$u,i.LocalGlyphMode=Rx,i.MAX_MERCATOR_LATITUDE=Uo,i.MercatorCoordinate=vp,i.ONE_EM=Po,i.OverscaledTileID=ds,i.PerformanceMarkers=Mr,i.Point=ce,i.Properties=Ae,i.RGBAImage=Vs,i.Ray=ex,i.RequestManager=class{constructor(s,n,a){this._transformRequestFn=s,this._customAccessToken=n,this._silenceAuthErrors=!!a,this._createSkuToken()}_createSkuToken(){const s=function(){let n="";for(let a=0;a<10;a++)n+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",H,n].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=s.token,this._skuTokenExpiresAt=s.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(s,n){return this._transformRequestFn&&this._transformRequestFn(s,n)||{url:s}}normalizeStyleURL(s,n){if(!Ze(s))return s;const a=Kt(s);return a.path=`/styles/v1${a.path}`,this._makeAPIURL(a,this._customAccessToken||n)}normalizeGlyphsURL(s,n){if(!Ze(s))return s;const a=Kt(s);return a.path=`/fonts/v1${a.path}`,this._makeAPIURL(a,this._customAccessToken||n)}normalizeSourceURL(s,n,a,d){if(!Ze(s))return s;const p=Kt(s);return p.path=`/v4/${p.authority}.json`,p.params.push("secure"),a&&p.params.push(`language=${a}`),d&&p.params.push(`worldview=${d}`),this._makeAPIURL(p,this._customAccessToken||n)}normalizeSpriteURL(s,n,a,d){const p=Kt(s);return Ze(s)?(p.path=`/styles/v1${p.path}/sprite${n}${a}`,this._makeAPIURL(p,this._customAccessToken||d)):(p.path+=`${n}${a}`,Ut(p))}normalizeTileURL(s,n,a){if(this._isSkuTokenExpired()&&this._createSkuToken(),s&&!Ze(s))return s;const d=Kt(s);d.path=d.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${n||a&&d.authority!=="raster"&&a===512?"@2x":""}${R.supported?".webp":"$1"}`),d.authority==="raster"?d.path=`/${k.RASTER_URL_PREFIX}${d.path}`:(d.path=d.path.replace(/^.+\/v4\//,"/"),d.path=`/${k.TILE_URL_VERSION}${d.path}`);const p=this._customAccessToken||function(g){for(const v of g){const w=v.match(/^access_token=(.*)$/);if(w)return w[1]}return null}(d.params)||k.ACCESS_TOKEN;return k.REQUIRE_ACCESS_TOKEN&&p&&this._skuToken&&d.params.push(`sku=${this._skuToken}`),this._makeAPIURL(d,p)}canonicalizeTileURL(s,n){const a=Kt(s);if(!a.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!a.path.match(/\.[\w]+$/))return s;let d="mapbox://";a.path.match(/^\/raster\/v1\//)?d+=`raster/${a.path.replace(`/${k.RASTER_URL_PREFIX}/`,"")}`:d+=`tiles/${a.path.replace(`/${k.TILE_URL_VERSION}/`,"")}`;let p=a.params;return n&&(p=p.filter(g=>!g.match(/^access_token=/))),p.length&&(d+=`?${p.join("&")}`),d}canonicalizeTileset(s,n){const a=!!n&&Ze(n),d=[];for(const p of s.tiles||[])et(p)?d.push(this.canonicalizeTileURL(p,a)):d.push(p);return d}_makeAPIURL(s,n){const a="See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes",d=Kt(k.API_URL);if(s.protocol=d.protocol,s.authority=d.authority,s.protocol==="http"){const p=s.params.indexOf("secure");p>=0&&s.params.splice(p,1)}if(d.path!=="/"&&(s.path=`${d.path}${s.path}`),!k.REQUIRE_ACCESS_TOKEN)return Ut(s);if(n=n||k.ACCESS_TOKEN,!this._silenceAuthErrors){if(!n)throw new Error(`An API access token is required to use Mapbox GL. ${a}`);if(n[0]==="s")throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${a}`)}return s.params=s.params.filter(p=>p.indexOf("access_token")===-1),s.params.push(`access_token=${n||""}`),Ut(s)}},i.ResourceType=yn,i.SegmentVector=Gi,i.SourceCache=ih,i.StencilMode=Ux,i.StructArrayLayout1ui2=$s,i.StructArrayLayout2f1f2i16=Gn,i.StructArrayLayout2i4=qt,i.StructArrayLayout2ui4=mo,i.StructArrayLayout3f12=br,i.StructArrayLayout3ui6=Ln,i.StructArrayLayout4i8=zt,i.StructArrayLayout5f20=Zr,i.Texture=Q1,i.Tile=jx,i.Transitionable=ne,i.Uniform1f=E0,i.Uniform1i=class extends Kc{constructor(s){super(s),this.current=0}set(s,n,a){this.fetchUniformLocation(s,n)&&this.current!==a&&(this.current=a,this.gl.uniform1i(this.location,a))}},i.Uniform2f=class extends Kc{constructor(s){super(s),this.current=[0,0]}set(s,n,a){this.fetchUniformLocation(s,n)&&(a[0]===this.current[0]&&a[1]===this.current[1]||(this.current=a,this.gl.uniform2f(this.location,a[0],a[1])))}},i.Uniform3f=class extends Kc{constructor(s){super(s),this.current=[0,0,0]}set(s,n,a){this.fetchUniformLocation(s,n)&&(a[0]===this.current[0]&&a[1]===this.current[1]&&a[2]===this.current[2]||(this.current=a,this.gl.uniform3f(this.location,a[0],a[1],a[2])))}},i.Uniform4f=y6,i.UniformColor=_6,i.UniformMatrix2f=class extends Kc{constructor(s){super(s),this.current=kD}set(s,n,a){if(this.fetchUniformLocation(s,n)){for(let d=0;d<4;d++)if(a[d]!==this.current[d]){this.current=a,this.gl.uniformMatrix2fv(this.location,!1,a);break}}}},i.UniformMatrix3f=class extends Kc{constructor(s){super(s),this.current=PD}set(s,n,a){if(this.fetchUniformLocation(s,n)){for(let d=0;d<9;d++)if(a[d]!==this.current[d]){this.current=a,this.gl.uniformMatrix3fv(this.location,!1,a);break}}}},i.UniformMatrix4f=class extends Kc{constructor(s){super(s),this.current=ED}set(s,n,a){if(this.fetchUniformLocation(s,n)){if(a[12]!==this.current[12]||a[0]!==this.current[0])return this.current=a,void this.gl.uniformMatrix4fv(this.location,!1,a);for(let d=1;d<16;d++)if(a[d]!==this.current[d]){this.current=a,this.gl.uniformMatrix4fv(this.location,!1,a);break}}}},i.UnwrappedTileID=T7,i.ValidationError=bn,i.VectorTileFeature=j0,i.VectorTileWorkerSource=class extends Oc{constructor(s,n,a,d,p){super(),this.actor=s,this.layerIndex=n,this.availableImages=a,this.loadVectorData=p||zS,this.loading={},this.loaded={},this.deduped=new RS(s.scheduler),this.isSpriteLoaded=d,this.scheduler=s.scheduler}loadTile(s,n){const a=s.uid,d=s&&s.request,p=d&&d.collectResourceTiming,g=this.loading[a]=new Kz(s);g.abort=this.loadVectorData(s,(v,w)=>{const C=!this.loading[a];if(delete this.loading[a],C||v||!w)return g.status="done",C||(this.loaded[a]=g),n(v);const P=w.rawData,z={};w.expires&&(z.expires=w.expires),w.cacheControl&&(z.cacheControl=w.cacheControl),g.vectorTile=w.vectorTile||new Cx(new q0(P));const N=()=>{g.parse(g.vectorTile,this.layerIndex,this.availableImages,this.actor,(W,K)=>{if(W||!K)return n(W);const ee={};if(p){const ie=dl(d);ie.length>0&&(ee.resourceTiming=JSON.parse(JSON.stringify(ie)))}n(null,St({rawTileData:P.slice(0)},K,z,ee))})};this.isSpriteLoaded?N():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(N,{type:"parseTile",isSymbolTile:s.isSymbolTile,zoom:s.tileZoom}):N()}),this.loaded=this.loaded||{},this.loaded[a]=g})}reloadTile(s,n){const a=this.loaded,d=s.uid,p=this;if(a&&a[d]){const g=a[d];g.showCollisionBoxes=s.showCollisionBoxes,g.enableTerrain=!!s.enableTerrain,g.projection=s.projection,g.tileTransform=rh(s.tileID.canonical,s.projection);const v=(w,C)=>{const P=g.reloadCallback;P&&(delete g.reloadCallback,g.parse(g.vectorTile,p.layerIndex,this.availableImages,p.actor,P)),n(w,C)};g.status==="parsing"?g.reloadCallback=v:g.status==="done"&&(g.vectorTile?g.parse(g.vectorTile,this.layerIndex,this.availableImages,this.actor,v):v())}}abortTile(s,n){const a=s.uid,d=this.loading[a];d&&(d.abort&&d.abort(),delete this.loading[a]),n()}removeTile(s,n){const a=this.loaded,d=s.uid;a&&a[d]&&delete a[d],n()}},i.WritingMode=ya,i.ZoomDependentExpression=Nd,i.add=Qc,i.addDynamicAttributes=ry,i.adjoint=function(s,n){var a=n[0],d=n[1],p=n[2],g=n[3],v=n[4],w=n[5],C=n[6],P=n[7],z=n[8];return s[0]=v*z-w*P,s[1]=p*P-d*z,s[2]=d*w-p*v,s[3]=w*C-g*z,s[4]=a*z-p*C,s[5]=p*g-a*w,s[6]=g*P-v*C,s[7]=d*C-a*P,s[8]=a*v-d*g,s},i.asyncAll=ct,i.bezier=je,i.bindAll=rn,i.boundsAttributes=gS,i.bufferConvexPolygon=function(s,n){const a=[];for(let d=0;d<s.length;d++){const p=qe(d-1,-1,s.length-1),g=qe(d+1,-1,s.length-1),v=s[d],w=s[g],C=s[p].sub(v).unit(),P=w.sub(v).unit(),z=P.angleWithSep(C.x,C.y),N=C.add(P).unit().mult(-1*n/Math.sin(z/2));a.push(v.add(N))}return a},i.cacheEntryPossiblyAdded=function(s){dn++,dn>Dn&&(s.getActor().send("enforceCacheSizeLimit",$t),dn=0)},i.calculateGlobeLabelMatrix=function(s,n){const{x:a,y:d}=s.point,p=j6(a,d,s.worldSize/s._pixelsPerMercatorPixel,0,0);return Xd(p,p,sx(ic(n)))},i.calculateGlobeMatrix=function(s){const{x:n,y:a}=s.point,{lng:d,lat:p}=s._center;return j6(n,a,s.worldSize,d,p)},i.calculateGlobeMercatorMatrix=function(s){const n=s.pixelsPerMeter,a=n/Cl(1,s.center.lat),d=Sl(new Float64Array(16));return C1(d,d,[s.point.x,s.point.y,0]),Yd(d,d,[a,a,n]),Float32Array.from(d)},i.circumferenceAtLatitude=lx,i.clamp=Me,i.clearTileCache=function(s){if(!Pn())return;const n=_.caches.delete(hr);s&&n.catch(s).then(()=>s())},i.clipLine=J7,i.clone=function(s){var n=new js(16);return n[0]=s[0],n[1]=s[1],n[2]=s[2],n[3]=s[3],n[4]=s[4],n[5]=s[5],n[6]=s[6],n[7]=s[7],n[8]=s[8],n[9]=s[9],n[10]=s[10],n[11]=s[11],n[12]=s[12],n[13]=s[13],n[14]=s[14],n[15]=s[15],n},i.clone$1=Ft,i.collisionCircleLayout=XR,i.config=k,i.conjugate=function(s,n){return s[0]=-n[0],s[1]=-n[1],s[2]=-n[2],s[3]=n[3],s},i.create=function(){var s=new js(16);return js!=Float32Array&&(s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[11]=0,s[12]=0,s[13]=0,s[14]=0),s[0]=1,s[5]=1,s[10]=1,s[15]=1,s},i.create$1=b6,i.createExpression=Ru,i.createLayout=Je,i.createStyleLayer=function(s){return s.type==="custom"?new $z(s):new Vz[s.type](s)},i.cross=Qv,i.degToRad=$e,i.distance=function(s,n){return Math.hypot(n[0]-s[0],n[1]-s[1],n[2]-s[2])},i.div=function(s,n,a){return s[0]=n[0]/a[0],s[1]=n[1]/a[1],s[2]=n[2]/a[2],s},i.dot=Ba,i.earthRadius=L1,i.ease=ze,i.easeCubicInOut=me,i.ecefToLatLng=function([s,n,a]){const d=Math.hypot(s,n,a),p=Math.atan2(s,a),g=.5*Math.PI-Math.acos(-n/d);return new Yr(_e(p),_e(g))},i.emitValidationErrors=x0,i.endsWith=_t,i.enforceCacheSizeLimit=function(s){In(),Wn&&Wn.then(n=>{n.keys().then(a=>{for(let d=0;d<a.length-s;d++)n.delete(a[d])})})},i.evaluateSizeForFeature=H0,i.evaluateSizeForZoom=Tp,i.evaluateVariableOffset=rS,i.evented=x,i.exactEquals=function(s,n){return s[0]===n[0]&&s[1]===n[1]&&s[2]===n[2]&&s[3]===n[3]},i.exactEquals$1=function(s,n){return s[0]===n[0]&&s[1]===n[1]&&s[2]===n[2]},i.exported=zs,i.exported$1=R,i.extend=St,i.extend$1=Ls,i.fillExtrusionHeightLift=b7,i.filterObject=ft,i.fromMat4=function(s,n){return s[0]=n[0],s[1]=n[1],s[2]=n[2],s[3]=n[4],s[4]=n[5],s[5]=n[6],s[6]=n[8],s[7]=n[9],s[8]=n[10],s},i.fromQuat=function(s,n){var a=n[0],d=n[1],p=n[2],g=n[3],v=a+a,w=d+d,C=p+p,P=a*v,z=d*v,N=d*w,W=p*v,K=p*w,ee=p*C,ie=g*v,fe=g*w,Te=g*C;return s[0]=1-N-ee,s[1]=z+Te,s[2]=W-fe,s[3]=0,s[4]=z-Te,s[5]=1-P-ee,s[6]=K+ie,s[7]=0,s[8]=W+fe,s[9]=K-ie,s[10]=1-P-N,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s},i.fromRotation=function(s,n){var a=Math.sin(n),d=Math.cos(n);return s[0]=d,s[1]=a,s[2]=0,s[3]=-a,s[4]=d,s[5]=0,s[6]=0,s[7]=0,s[8]=1,s},i.fromScaling=S6,i.furthestTileCorner=function(s){const n=Math.round((s+45+360)%360/90)%4;return we[n]},i.getAABBPointSquareDist=function(s,n,a){let d=0;for(let p=0;p<2;++p){const g=a?a[p]:0;s[p]>g&&(d+=(s[p]-g)*(s[p]-g)),n[p]<g&&(d+=(g-n[p])*(g-n[p]))}return d},i.getAnchorAlignment=Dx,i.getAnchorJustification=Lx,i.getBounds=function(s){let n=1/0,a=1/0,d=-1/0,p=-1/0;for(const g of s)n=Math.min(n,g.x),a=Math.min(a,g.y),d=Math.max(d,g.x),p=Math.max(p,g.y);return{min:new ce(n,a),max:new ce(d,p)}},i.getColumn=Zn,i.getDefaultExportFromCjs=G,i.getGridMatrix=function(s,n,a,d){const p=n.getNorth(),g=n.getSouth(),v=n.getWest(),w=n.getEast(),C=1<<s.z,P=w-v,z=p-g,N=P/Jd,W=-z/D1[a],K=[0,N,0,W,0,0,p,v,0];if(s.z>0){const ee=180/d;w6(K,K,[ee/P+1,0,0,0,ee/z+1,0,-.5*ee/N,.5*ee/W,1])}return K[2]=C,K[5]=s.x,K[8]=s.y,K},i.getImage=Pe,i.getJSON=function(s,n){return Cr(St(s,{type:"json"}),n)},i.getLatitudinalLod=function(s){const n=Uo-5;s=Me(s,-n,n)/n*90;const a=Math.pow(Math.abs(Math.sin($e(s))),3);return Math.round(a*(D1.length-1))},i.getMapSessionAPI=_n,i.getPerformanceMeasurement=dl,i.getProjection=dS,i.getRTLTextPluginStatus=S,i.getReferrer=Qn,i.getTilePoint=function(s,{x:n,y:a},d=0){return new ce(((n-d)*s.scale-s.x)*Un,(a*s.scale-s.y)*Un)},i.getTileVec3=function(s,n,a=0){return mp(((n.x-a)*s.scale-s.x)*Un,(n.y*s.scale-s.y)*Un,H6(n.z,n.y))},i.getVideo=function(s,n){const a=_.document.createElement("video");a.muted=!0,a.onloadstart=function(){n(null,a)};for(let d=0;d<s.length;d++){const p=_.document.createElement("source");yi(s[d])||(a.crossOrigin="Anonymous"),p.src=s[d],a.appendChild(p)}return{cancel:()=>{}}},i.globeCenterToScreenPoint=function(s){const n=[0,0,0],a=Sl(new Float64Array(16));return Xd(a,s.pixelMatrix,s.globeMatrix),$i(n,n,a),new ce(n[0],n[1])},i.globeDenormalizeECEF=sx,i.globeECEFOrigin=function(s,n){const a=[0,0,0];return $i(a,a,z1(ic(n.canonical))),$i(a,a,s),a},i.globeMetersToEcef=M0,i.globeNormalizeECEF=z1,i.globePixelsToTileUnits=function(s,n){return Un/(512*Math.pow(2,s))*A0(ic(n))},i.globePoleMatrixForTile=function(s,n,a){const d=Sl(new Float64Array(16)),p=(n/(1<<s)-.5)*Math.PI*2;return k0(d,a.globeMatrix,p),Float32Array.from(d)},i.globeTileBounds=ic,i.globeTiltAtLngLat=V6,i.globeToMercatorTransition=_p,i.globeUseCustomAntiAliasing=function(s,n,a){const d=_p(a.zoom),p=s.style.map._antialias,g=!!n.extStandardDerivatives,v=n.extStandardDerivativesForceOff||s.terrain&&s.terrain.exaggeration()>0;return d===0&&!p&&!v&&g},i.identity=Sl,i.identity$1=A6,i.invert=Xv,i.isFullscreen=function(){return!!_.document.fullscreenElement||!!_.document.webkitFullscreenElement},i.isLngLatBehindGlobe=ax,i.isMapAuthenticated=function(s){return Rn.has(s)},i.isMapboxURL=Ze,i.isSafariWithAntialiasingBug=function(s){const n=s.navigator?s.navigator.userAgent:null;return!!Qt(s)&&n&&(n.match("Version/15.4")||n.match("Version/15.5")||n.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},i.latFromMercatorY=Vo,i.latLngToECEF=yp,i.len=FD,i.length=E1,i.length$1=function(s){return Math.hypot(s[0],s[1],s[2],s[3])},i.lngFromMercatorX=ga,i.loadVectorTile=zS,i.makeRequest=Cr,i.mapValue=function(s,n,a,d,p){return Me((s-n)/(a-n)*(p-d)+d,d,p)},i.mercatorScale=G6,i.mercatorXfromLng=oc,i.mercatorYfromLat=sc,i.mercatorZfromAltitude=Cl,i.mul=LD,i.mul$1=OD,i.multiply=Xd,i.multiply$1=w6,i.multiply$2=E6,i.nextPowerOfTwo=Et,i.normalize=cs,i.normalize$1=BD,i.normalize$2=M6,i.number=wr,i.ortho=function(s,n,a,d,p,g,v){var w=1/(n-a),C=1/(d-p),P=1/(g-v);return s[0]=-2*w,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=-2*C,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=2*P,s[11]=0,s[12]=(n+a)*w,s[13]=(p+d)*C,s[14]=(v+g)*P,s[15]=1,s},i.pbf=A7,i.perspective=function(s,n,a,d,p){var g,v=1/Math.tan(n/2);return s[0]=v/a,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=v,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[11]=-1,s[12]=0,s[13]=0,s[15]=0,p!=null&&p!==1/0?(s[10]=(p+d)*(g=1/(d-p)),s[14]=2*p*d*g):(s[10]=-1,s[14]=-2*d),s},i.pick=function(s,n){const a={};for(let d=0;d<n.length;d++){const p=n[d];p in s&&(a[p]=s[p])}return a},i.plugin=D,i.pointGeometry=M,i.polesInViewport=function(s){const n=Sl(new Float64Array(16));Xd(n,s.pixelMatrix,s.globeMatrix);const a=[0,Na,0],d=[0,$a,0];return $i(a,a,n),$i(d,d,n),[a[0]>0&&a[0]<=s.width&&a[1]>0&&a[1]<=s.height&&!ax(s,new Yr(s.center.lat,90)),d[0]>0&&d[0]<=s.width&&d[1]>0&&d[1]<=s.height&&!ax(s,new Yr(s.center.lat,-90))]},i.polygonContainsPoint=th,i.polygonIntersectsBox=Q6,i.polygonIntersectsPolygon=X6,i.polygonizeBounds=function(s,n,a=0,d=!0){const p=new ce(a,a),g=s.sub(p),v=n.add(p),w=[g,new ce(v.x,g.y),v,new ce(g.x,v.y)];return d&&w.push(g.clone()),w},i.posAttributes=A1,i.postMapLoadEvent=jr,i.postPerformanceEvent=ut,i.postTurnstileEvent=pr,i.potpack=Mx,i.prevPowerOfTwo=function(s){return s<=1?1:Math.pow(2,Math.floor(Math.log(s)/Math.LN2))},i.radToDeg=_e,i.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],i.registerForPluginStateChange=function(s){return s({pluginStatus:m,pluginURL:c}),x.on("pluginStateChange",s),s},i.removeAuthState=function(s){Rn.delete(s)},i.renderColorRamp=gx,i.resample=q6,i.rotateX=Yv,i.rotateX$1=D6,i.rotateY=k0,i.rotateY$1=R6,i.rotateZ=function(s,n,a){var d=Math.sin(a),p=Math.cos(a),g=n[0],v=n[1],w=n[2],C=n[3],P=n[4],z=n[5],N=n[6],W=n[7];return n!==s&&(s[8]=n[8],s[9]=n[9],s[10]=n[10],s[11]=n[11],s[12]=n[12],s[13]=n[13],s[14]=n[14],s[15]=n[15]),s[0]=g*p+P*d,s[1]=v*p+z*d,s[2]=w*p+N*d,s[3]=C*p+W*d,s[4]=P*p-g*d,s[5]=z*p-v*d,s[6]=N*p-w*d,s[7]=W*p-C*d,s},i.rotateZ$1=function(s,n,a){a*=.5;var d=n[0],p=n[1],g=n[2],v=n[3],w=Math.sin(a),C=Math.cos(a);return s[0]=d*C+p*w,s[1]=p*C-d*w,s[2]=g*C+v*w,s[3]=v*C-g*w,s},i.scale=Yd,i.scale$1=k6,i.scale$2=ma,i.scaleAndAdd=M1,i.set=function(s,n,a,d){return s[0]=n,s[1]=a,s[2]=d,s},i.setCacheLimits=function(s,n){$t=s,Dn=n},i.setColumn=function(s,n,a){s[4*n+0]=a[0],s[4*n+1]=a[1],s[4*n+2]=a[2],s[4*n+3]=a[3]},i.setRTLTextPlugin=function(s,n,a=!1){if(m===x1||m===b1||m===w1)throw new Error("setRTLTextPlugin cannot be called multiple times.");c=zs.resolveURL(s),m=x1,Fu=n,y(),a||I()},i.smoothstep=Le,i.spec=Pt,i.squaredLength=function(s){var n=s[0],a=s[1],d=s[2];return n*n+a*a+d*d},i.storeAuthState=function(s,n){n?Rn.add(s):Rn.delete(s)},i.sub=Tl,i.subtract=Jv,i.symbolSize=YR,i.tileAABB=function(s,n,a,d,p,g,v,w,C){if(C.name==="globe")return UD(s,n,new U0(a,d,p));const P=rh({z:a,x:d,y:p},C);return new us([(g+P.x/P.scale)*n,n*(P.y/P.scale),v],[(g+P.x2/P.scale)*n,n*(P.y2/P.scale),w])},i.tileCornersToBounds=I0,i.tileTransform=rh,i.transformMat3=function(s,n,a){var d=n[0],p=n[1],g=n[2];return s[0]=d*a[0]+p*a[3]+g*a[6],s[1]=d*a[1]+p*a[4]+g*a[7],s[2]=d*a[2]+p*a[5]+g*a[8],s},i.transformMat4=$i,i.transformMat4$1=Kd,i.transformQuat=P6,i.transitionTileAABBinECEF=B6,i.translate=C1,i.transpose=function(s,n){if(s===n){var a=n[1],d=n[2],p=n[5];s[1]=n[3],s[2]=n[6],s[3]=a,s[5]=n[7],s[6]=d,s[7]=p}else s[0]=n[0],s[1]=n[3],s[2]=n[6],s[3]=n[1],s[4]=n[4],s[5]=n[7],s[6]=n[2],s[7]=n[5],s[8]=n[8];return s},i.triggerPluginCompletionEvent=h,i.uniqueId=Dt,i.updateGlobeVertexNormal=function(s,n,a,d,p){const g=5*n+2;s.float32[g+0]=a,s.float32[g+1]=d,s.float32[g+2]=p},i.validateCustomStyleLayer=function(s){const n=[],a=s.id;return a===void 0&&n.push({message:`layers.${a}: missing required property "id"`}),s.render===void 0&&n.push({message:`layers.${a}: missing required method "render"`}),s.renderingMode&&s.renderingMode!=="2d"&&s.renderingMode!=="3d"&&n.push({message:`layers.${a}: property "renderingMode" must be either "2d" or "3d"`}),n},i.validateFilter=s=>Ns(Wd(s)),i.validateFog=s=>Ns(y0(s)),i.validateLayer=s=>Ns(p0(s)),i.validateLight=s=>Ns(g0(s)),i.validateSource=s=>Ns(m0(s)),i.validateStyle=v0,i.validateTerrain=s=>Ns(m1(s)),i.values=wt,i.vectorTile=$0,i.version=b,i.warnOnce=rt,i.window=_,i.wrap=qe}),u(["./shared"],function(i){function _(Ee){if(typeof Ee=="number"||typeof Ee=="boolean"||typeof Ee=="string"||Ee==null)return JSON.stringify(Ee);if(Array.isArray(Ee)){let ue="[";for(const Pe of Ee)ue+=`${_(Pe)},`;return`${ue}]`}let ae="{";for(const ue of Object.keys(Ee).sort())ae+=`${ue}:${_(Ee[ue])},`;return`${ae}}`}function b(Ee){let ae="";for(const ue of i.refProperties)ae+=`/${_(Ee[ue])}`;return ae}class E{constructor(ae){this.keyCache={},ae&&this.replace(ae)}replace(ae){this._layerConfigs={},this._layers={},this.update(ae,[])}update(ae,ue){for(const Be of ae)this._layerConfigs[Be.id]=Be,(this._layers[Be.id]=i.createStyleLayer(Be)).compileFilter(),this.keyCache[Be.id]&&delete this.keyCache[Be.id];for(const Be of ue)delete this.keyCache[Be],delete this._layerConfigs[Be],delete this._layers[Be];this.familiesBySource={};const Pe=function(Be,Ze){const et={};for(let Xe=0;Xe<Be.length;Xe++){const it=Ze&&Ze[Be[Xe].id]||b(Be[Xe]);Ze&&(Ze[Be[Xe].id]=it);let Nt=et[it];Nt||(Nt=et[it]=[]),Nt.push(Be[Xe])}const Qe=[];for(const Xe in et)Qe.push(et[Xe]);return Qe}(i.values(this._layerConfigs),this.keyCache);for(const Be of Pe){const Ze=Be.map(Kt=>this._layers[Kt.id]),et=Ze[0];if(et.visibility==="none")continue;const Qe=et.source||"";let Xe=this.familiesBySource[Qe];Xe||(Xe=this.familiesBySource[Qe]={});const it=et.sourceLayer||"_geojsonTileLayer";let Nt=Xe[it];Nt||(Nt=Xe[it]=[]),Nt.push(Ze)}}}class k{loadTile(ae,ue){const{uid:Pe,encoding:Be,rawImageData:Ze,padding:et,buildQuadTree:Qe}=ae,Xe=i.window.ImageBitmap&&Ze instanceof i.window.ImageBitmap?this.getImageData(Ze,et):Ze;ue(null,new i.DEMData(Pe,Xe,Be,et<1,Qe))}getImageData(ae,ue){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(ae.width,ae.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=ae.width,this.offscreenCanvas.height=ae.height,this.offscreenCanvasContext.drawImage(ae,0,0,ae.width,ae.height);const Pe=this.offscreenCanvasContext.getImageData(-ue,-ue,ae.width+2*ue,ae.height+2*ue);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),Pe}}function R(Ee,ae){if(Ee.length!==0){B(Ee[0],ae);for(var ue=1;ue<Ee.length;ue++)B(Ee[ue],!ae)}}function B(Ee,ae){for(var ue=0,Pe=0,Be=0,Ze=Ee.length,et=Ze-1;Be<Ze;et=Be++){var Qe=(Ee[Be][0]-Ee[et][0])*(Ee[et][1]+Ee[Be][1]),Xe=ue+Qe;Pe+=Math.abs(ue)>=Math.abs(Qe)?ue-Xe+Qe:Qe-Xe+ue,ue=Xe}ue+Pe>=0!=!!ae&&Ee.reverse()}var F=i.getDefaultExportFromCjs(function Ee(ae,ue){var Pe,Be=ae&&ae.type;if(Be==="FeatureCollection")for(Pe=0;Pe<ae.features.length;Pe++)Ee(ae.features[Pe],ue);else if(Be==="GeometryCollection")for(Pe=0;Pe<ae.geometries.length;Pe++)Ee(ae.geometries[Pe],ue);else if(Be==="Feature")Ee(ae.geometry,ue);else if(Be==="Polygon")R(ae.coordinates,ue);else if(Be==="MultiPolygon")for(Pe=0;Pe<ae.coordinates.length;Pe++)R(ae.coordinates[Pe],ue);return ae});const L=i.VectorTileFeature.prototype.toGeoJSON;var X={exports:{}},$=i.pointGeometry,H=i.vectorTile.VectorTileFeature,G=Q;function Q(Ee,ae){this.options=ae||{},this.features=Ee,this.length=Ee.length}function te(Ee,ae){this.id=typeof Ee.id=="number"?Ee.id:void 0,this.type=Ee.type,this.rawGeometry=Ee.type===1?[Ee.geometry]:Ee.geometry,this.properties=Ee.tags,this.extent=ae||4096}Q.prototype.feature=function(Ee){return new te(this.features[Ee],this.options.extent)},te.prototype.loadGeometry=function(){var Ee=this.rawGeometry;this.geometry=[];for(var ae=0;ae<Ee.length;ae++){for(var ue=Ee[ae],Pe=[],Be=0;Be<ue.length;Be++)Pe.push(new $(ue[Be][0],ue[Be][1]));this.geometry.push(Pe)}return this.geometry},te.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Ee=this.geometry,ae=1/0,ue=-1/0,Pe=1/0,Be=-1/0,Ze=0;Ze<Ee.length;Ze++)for(var et=Ee[Ze],Qe=0;Qe<et.length;Qe++){var Xe=et[Qe];ae=Math.min(ae,Xe.x),ue=Math.max(ue,Xe.x),Pe=Math.min(Pe,Xe.y),Be=Math.max(Be,Xe.y)}return[ae,Pe,ue,Be]},te.prototype.toGeoJSON=H.prototype.toGeoJSON;var le=i.pbf,M=G;function de(Ee){var ae=new le;return function(ue,Pe){for(var Be in ue.layers)Pe.writeMessage(3,ce,ue.layers[Be])}(Ee,ae),ae.finish()}function ce(Ee,ae){var ue;ae.writeVarintField(15,Ee.version||1),ae.writeStringField(1,Ee.name||""),ae.writeVarintField(5,Ee.extent||4096);var Pe={keys:[],values:[],keycache:{},valuecache:{}};for(ue=0;ue<Ee.length;ue++)Pe.feature=Ee.feature(ue),ae.writeMessage(2,xe,Pe);var Be=Pe.keys;for(ue=0;ue<Be.length;ue++)ae.writeStringField(3,Be[ue]);var Ze=Pe.values;for(ue=0;ue<Ze.length;ue++)ae.writeMessage(4,me,Ze[ue])}function xe(Ee,ae){var ue=Ee.feature;ue.id!==void 0&&ae.writeVarintField(1,ue.id),ae.writeMessage(2,ke,Ee),ae.writeVarintField(3,ue.type),ae.writeMessage(4,we,ue)}function ke(Ee,ae){var ue=Ee.feature,Pe=Ee.keys,Be=Ee.values,Ze=Ee.keycache,et=Ee.valuecache;for(var Qe in ue.properties){var Xe=ue.properties[Qe],it=Ze[Qe];if(Xe!==null){it===void 0&&(Pe.push(Qe),Ze[Qe]=it=Pe.length-1),ae.writeVarint(it);var Nt=typeof Xe;Nt!=="string"&&Nt!=="boolean"&&Nt!=="number"&&(Xe=JSON.stringify(Xe));var Kt=Nt+":"+Xe,Ut=et[Kt];Ut===void 0&&(Be.push(Xe),et[Kt]=Ut=Be.length-1),ae.writeVarint(Ut)}}}function $e(Ee,ae){return(ae<<3)+(7&Ee)}function _e(Ee){return Ee<<1^Ee>>31}function we(Ee,ae){for(var ue=Ee.loadGeometry(),Pe=Ee.type,Be=0,Ze=0,et=ue.length,Qe=0;Qe<et;Qe++){var Xe=ue[Qe],it=1;Pe===1&&(it=Xe.length),ae.writeVarint($e(1,it));for(var Nt=Pe===3?Xe.length-1:Xe.length,Kt=0;Kt<Nt;Kt++){Kt===1&&Pe!==1&&ae.writeVarint($e(2,Nt-1));var Ut=Xe[Kt].x-Be,Xn=Xe[Kt].y-Ze;ae.writeVarint(_e(Ut)),ae.writeVarint(_e(Xn)),Be+=Ut,Ze+=Xn}Pe===3&&ae.writeVarint($e(7,1))}}function me(Ee,ae){var ue=typeof Ee;ue==="string"?ae.writeStringField(1,Ee):ue==="boolean"?ae.writeBooleanField(7,Ee):ue==="number"&&(Ee%1!=0?ae.writeDoubleField(3,Ee):Ee<0?ae.writeSVarintField(6,Ee):ae.writeVarintField(5,Ee))}X.exports=de,X.exports.fromVectorTileJs=de,X.exports.fromGeojsonVt=function(Ee,ae){ae=ae||{};var ue={};for(var Pe in Ee)ue[Pe]=new M(Ee[Pe].features,ae),ue[Pe].name=Pe,ue[Pe].version=ae.version,ue[Pe].extent=ae.extent;return de({layers:ue})},X.exports.GeoJSONWrapper=M;var je=i.getDefaultExportFromCjs(X.exports);const ze={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Ee=>Ee},Me=Math.fround||(Le=new Float32Array(1),Ee=>(Le[0]=+Ee,Le[0]));var Le;const qe=3,ct=5,wt=6;class St{constructor(ae){this.options=Object.assign(Object.create(ze),ae),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(ae){const{log:ue,minZoom:Pe,maxZoom:Be}=this.options;ue&&console.time("total time");const Ze=`prepare ${ae.length} points`;ue&&console.time(Ze),this.points=ae;const et=[];for(let Xe=0;Xe<ae.length;Xe++){const it=ae[Xe];if(!it.geometry)continue;const[Nt,Kt]=it.geometry.coordinates,Ut=Me(bt(Nt)),Xn=Me(Et(Kt));et.push(Ut,Xn,1/0,Xe,-1,1),this.options.reduce&&et.push(0)}let Qe=this.trees[Be+1]=this._createTree(et);ue&&console.timeEnd(Ze);for(let Xe=Be;Xe>=Pe;Xe--){const it=+Date.now();Qe=this.trees[Xe]=this._createTree(this._cluster(Qe,Xe)),ue&&console.log("z%d: %d clusters in %dms",Xe,Qe.numItems,+Date.now()-it)}return ue&&console.timeEnd("total time"),this}getClusters(ae,ue){let Pe=((ae[0]+180)%360+360)%360-180;const Be=Math.max(-90,Math.min(90,ae[1]));let Ze=ae[2]===180?180:((ae[2]+180)%360+360)%360-180;const et=Math.max(-90,Math.min(90,ae[3]));if(ae[2]-ae[0]>=360)Pe=-180,Ze=180;else if(Pe>Ze){const Kt=this.getClusters([Pe,Be,180,et],ue),Ut=this.getClusters([-180,Be,Ze,et],ue);return Kt.concat(Ut)}const Qe=this.trees[this._limitZoom(ue)],Xe=Qe.range(bt(Pe),Et(et),bt(Ze),Et(Be)),it=Qe.data,Nt=[];for(const Kt of Xe){const Ut=this.stride*Kt;Nt.push(it[Ut+ct]>1?ht(it,Ut,this.clusterProps):this.points[it[Ut+qe]])}return Nt}getChildren(ae){const ue=this._getOriginId(ae),Pe=this._getOriginZoom(ae),Be="No cluster with the specified id.",Ze=this.trees[Pe];if(!Ze)throw new Error(Be);const et=Ze.data;if(ue*this.stride>=et.length)throw new Error(Be);const Qe=this.options.radius/(this.options.extent*Math.pow(2,Pe-1)),Xe=Ze.within(et[ue*this.stride],et[ue*this.stride+1],Qe),it=[];for(const Nt of Xe){const Kt=Nt*this.stride;et[Kt+4]===ae&&it.push(et[Kt+ct]>1?ht(et,Kt,this.clusterProps):this.points[et[Kt+qe]])}if(it.length===0)throw new Error(Be);return it}getLeaves(ae,ue,Pe){const Be=[];return this._appendLeaves(Be,ae,ue=ue||10,Pe=Pe||0,0),Be}getTile(ae,ue,Pe){const Be=this.trees[this._limitZoom(ae)],Ze=Math.pow(2,ae),{extent:et,radius:Qe}=this.options,Xe=Qe/et,it=(Pe-Xe)/Ze,Nt=(Pe+1+Xe)/Ze,Kt={features:[]};return this._addTileFeatures(Be.range((ue-Xe)/Ze,it,(ue+1+Xe)/Ze,Nt),Be.data,ue,Pe,Ze,Kt),ue===0&&this._addTileFeatures(Be.range(1-Xe/Ze,it,1,Nt),Be.data,Ze,Pe,Ze,Kt),ue===Ze-1&&this._addTileFeatures(Be.range(0,it,Xe/Ze,Nt),Be.data,-1,Pe,Ze,Kt),Kt.features.length?Kt:null}getClusterExpansionZoom(ae){let ue=this._getOriginZoom(ae)-1;for(;ue<=this.options.maxZoom;){const Pe=this.getChildren(ae);if(ue++,Pe.length!==1)break;ae=Pe[0].properties.cluster_id}return ue}_appendLeaves(ae,ue,Pe,Be,Ze){const et=this.getChildren(ue);for(const Qe of et){const Xe=Qe.properties;if(Xe&&Xe.cluster?Ze+Xe.point_count<=Be?Ze+=Xe.point_count:Ze=this._appendLeaves(ae,Xe.cluster_id,Pe,Be,Ze):Ze<Be?Ze++:ae.push(Qe),ae.length===Pe)break}return Ze}_createTree(ae){const ue=new i.KDBush(ae.length/this.stride|0,this.options.nodeSize,Float32Array);for(let Pe=0;Pe<ae.length;Pe+=this.stride)ue.add(ae[Pe],ae[Pe+1]);return ue.finish(),ue.data=ae,ue}_addTileFeatures(ae,ue,Pe,Be,Ze,et){for(const Qe of ae){const Xe=Qe*this.stride,it=ue[Xe+ct]>1;let Nt,Kt,Ut;if(it)Nt=Dt(ue,Xe,this.clusterProps),Kt=ue[Xe],Ut=ue[Xe+1];else{const Kn=this.points[ue[Xe+qe]];Nt=Kn.properties;const[rr,pr]=Kn.geometry.coordinates;Kt=bt(rr),Ut=Et(pr)}const Xn={type:1,geometry:[[Math.round(this.options.extent*(Kt*Ze-Pe)),Math.round(this.options.extent*(Ut*Ze-Be))]],tags:Nt};let nr;nr=it||this.options.generateId?ue[Xe+qe]:this.points[ue[Xe+qe]].id,nr!==void 0&&(Xn.id=nr),et.features.push(Xn)}}_limitZoom(ae){return Math.max(this.options.minZoom,Math.min(Math.floor(+ae),this.options.maxZoom+1))}_cluster(ae,ue){const{radius:Pe,extent:Be,reduce:Ze,minPoints:et}=this.options,Qe=Pe/(Be*Math.pow(2,ue)),Xe=ae.data,it=[],Nt=this.stride;for(let Kt=0;Kt<Xe.length;Kt+=Nt){if(Xe[Kt+2]<=ue)continue;Xe[Kt+2]=ue;const Ut=Xe[Kt],Xn=Xe[Kt+1],nr=ae.within(Xe[Kt],Xe[Kt+1],Qe),Kn=Xe[Kt+ct];let rr=Kn;for(const pr of nr){const Br=pr*Nt;Xe[Br+2]>ue&&(rr+=Xe[Br+ct])}if(rr>Kn&&rr>=et){let pr,Br=Ut*Kn,jr=Xn*Kn,wi=-1;const ut=((Kt/Nt|0)<<5)+(ue+1)+this.points.length;for(const xt of nr){const _n=xt*Nt;if(Xe[_n+2]<=ue)continue;Xe[_n+2]=ue;const Rn=Xe[_n+ct];Br+=Xe[_n]*Rn,jr+=Xe[_n+1]*Rn,Xe[_n+4]=ut,Ze&&(pr||(pr=this._map(Xe,Kt,!0),wi=this.clusterProps.length,this.clusterProps.push(pr)),Ze(pr,this._map(Xe,_n)))}Xe[Kt+4]=ut,it.push(Br/rr,jr/rr,1/0,ut,-1,rr),Ze&&it.push(wi)}else{for(let pr=0;pr<Nt;pr++)it.push(Xe[Kt+pr]);if(rr>1)for(const pr of nr){const Br=pr*Nt;if(!(Xe[Br+2]<=ue)){Xe[Br+2]=ue;for(let jr=0;jr<Nt;jr++)it.push(Xe[Br+jr])}}}}return it}_getOriginId(ae){return ae-this.points.length>>5}_getOriginZoom(ae){return(ae-this.points.length)%32}_map(ae,ue,Pe){if(ae[ue+ct]>1){const et=this.clusterProps[ae[ue+wt]];return Pe?Object.assign({},et):et}const Be=this.points[ae[ue+qe]].properties,Ze=this.options.map(Be);return Pe&&Ze===Be?Object.assign({},Ze):Ze}}function ht(Ee,ae,ue){return{type:"Feature",id:Ee[ae+qe],properties:Dt(Ee,ae,ue),geometry:{type:"Point",coordinates:[(Pe=Ee[ae],360*(Pe-.5)),Xt(Ee[ae+1])]}};var Pe}function Dt(Ee,ae,ue){const Pe=Ee[ae+ct],Be=Pe>=1e4?`${Math.round(Pe/1e3)}k`:Pe>=1e3?Math.round(Pe/100)/10+"k":Pe,Ze=Ee[ae+wt],et=Ze===-1?{}:Object.assign({},ue[Ze]);return Object.assign(et,{cluster:!0,cluster_id:Ee[ae+qe],point_count:Pe,point_count_abbreviated:Be})}function bt(Ee){return Ee/360+.5}function Et(Ee){const ae=Math.sin(Ee*Math.PI/180),ue=.5-.25*Math.log((1+ae)/(1-ae))/Math.PI;return ue<0?0:ue>1?1:ue}function Xt(Ee){const ae=(180-360*Ee)*Math.PI/180;return 360*Math.atan(Math.exp(ae))/Math.PI-90}function rn(Ee,ae,ue,Pe){for(var Be,Ze=Pe,et=ue-ae>>1,Qe=ue-ae,Xe=Ee[ae],it=Ee[ae+1],Nt=Ee[ue],Kt=Ee[ue+1],Ut=ae+3;Ut<ue;Ut+=3){var Xn=_t(Ee[Ut],Ee[Ut+1],Xe,it,Nt,Kt);if(Xn>Ze)Be=Ut,Ze=Xn;else if(Xn===Ze){var nr=Math.abs(Ut-et);nr<Qe&&(Be=Ut,Qe=nr)}}Ze>Pe&&(Be-ae>3&&rn(Ee,ae,Be,Pe),Ee[Be+2]=Ze,ue-Be>3&&rn(Ee,Be,ue,Pe))}function _t(Ee,ae,ue,Pe,Be,Ze){var et=Be-ue,Qe=Ze-Pe;if(et!==0||Qe!==0){var Xe=((Ee-ue)*et+(ae-Pe)*Qe)/(et*et+Qe*Qe);Xe>1?(ue=Be,Pe=Ze):Xe>0&&(ue+=et*Xe,Pe+=Qe*Xe)}return(et=Ee-ue)*et+(Qe=ae-Pe)*Qe}function at(Ee,ae,ue,Pe){var Be={id:Ee===void 0?null:Ee,type:ae,geometry:ue,tags:Pe,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(Ze){var et=Ze.geometry,Qe=Ze.type;if(Qe==="Point"||Qe==="MultiPoint"||Qe==="LineString")ft(Ze,et);else if(Qe==="Polygon"||Qe==="MultiLineString")for(var Xe=0;Xe<et.length;Xe++)ft(Ze,et[Xe]);else if(Qe==="MultiPolygon")for(Xe=0;Xe<et.length;Xe++)for(var it=0;it<et[Xe].length;it++)ft(Ze,et[Xe][it])}(Be),Be}function ft(Ee,ae){for(var ue=0;ue<ae.length;ue+=3)Ee.minX=Math.min(Ee.minX,ae[ue]),Ee.minY=Math.min(Ee.minY,ae[ue+1]),Ee.maxX=Math.max(Ee.maxX,ae[ue]),Ee.maxY=Math.max(Ee.maxY,ae[ue+1])}function Ft(Ee,ae,ue,Pe){if(ae.geometry){var Be=ae.geometry.coordinates,Ze=ae.geometry.type,et=Math.pow(ue.tolerance/((1<<ue.maxZoom)*ue.extent),2),Qe=[],Xe=ae.id;if(ue.promoteId?Xe=ae.properties[ue.promoteId]:ue.generateId&&(Xe=Pe||0),Ze==="Point")un(Be,Qe);else if(Ze==="MultiPoint")for(var it=0;it<Be.length;it++)un(Be[it],Qe);else if(Ze==="LineString")rt(Be,Qe,et,!1);else if(Ze==="MultiLineString"){if(ue.lineMetrics){for(it=0;it<Be.length;it++)rt(Be[it],Qe=[],et,!1),Ee.push(at(Xe,"LineString",Qe,ae.properties));return}an(Be,Qe,et,!1)}else if(Ze==="Polygon")an(Be,Qe,et,!0);else{if(Ze!=="MultiPolygon"){if(Ze==="GeometryCollection"){for(it=0;it<ae.geometry.geometries.length;it++)Ft(Ee,{id:Xe,geometry:ae.geometry.geometries[it],properties:ae.properties},ue,Pe);return}throw new Error("Input data is not a valid GeoJSON object.")}for(it=0;it<Be.length;it++){var Nt=[];an(Be[it],Nt,et,!0),Qe.push(Nt)}}Ee.push(at(Xe,Ze,Qe,ae.properties))}}function un(Ee,ae){ae.push(Tt(Ee[0])),ae.push(on(Ee[1])),ae.push(0)}function rt(Ee,ae,ue,Pe){for(var Be,Ze,et=0,Qe=0;Qe<Ee.length;Qe++){var Xe=Tt(Ee[Qe][0]),it=on(Ee[Qe][1]);ae.push(Xe),ae.push(it),ae.push(0),Qe>0&&(et+=Pe?(Be*it-Xe*Ze)/2:Math.sqrt(Math.pow(Xe-Be,2)+Math.pow(it-Ze,2))),Be=Xe,Ze=it}var Nt=ae.length-3;ae[2]=1,rn(ae,0,Nt,ue),ae[Nt+2]=1,ae.size=Math.abs(et),ae.start=0,ae.end=ae.size}function an(Ee,ae,ue,Pe){for(var Be=0;Be<Ee.length;Be++){var Ze=[];rt(Ee[Be],Ze,ue,Pe),ae.push(Ze)}}function Tt(Ee){return Ee/360+.5}function on(Ee){var ae=Math.sin(Ee*Math.PI/180),ue=.5-.25*Math.log((1+ae)/(1-ae))/Math.PI;return ue<0?0:ue>1?1:ue}function ln(Ee,ae,ue,Pe,Be,Ze,et,Qe){if(Pe/=ae,Ze>=(ue/=ae)&&et<Pe)return Ee;if(et<ue||Ze>=Pe)return null;for(var Xe=[],it=0;it<Ee.length;it++){var Nt=Ee[it],Kt=Nt.geometry,Ut=Nt.type,Xn=Be===0?Nt.minX:Nt.minY,nr=Be===0?Nt.maxX:Nt.maxY;if(Xn>=ue&&nr<Pe)Xe.push(Nt);else if(!(nr<ue||Xn>=Pe)){var Kn=[];if(Ut==="Point"||Ut==="MultiPoint")sn(Kt,Kn,ue,Pe,Be);else if(Ut==="LineString")Qt(Kt,Kn,ue,Pe,Be,!1,Qe.lineMetrics);else if(Ut==="MultiLineString")Zn(Kt,Kn,ue,Pe,Be,!1);else if(Ut==="Polygon")Zn(Kt,Kn,ue,Pe,Be,!0);else if(Ut==="MultiPolygon")for(var rr=0;rr<Kt.length;rr++){var pr=[];Zn(Kt[rr],pr,ue,Pe,Be,!0),pr.length&&Kn.push(pr)}if(Kn.length){if(Qe.lineMetrics&&Ut==="LineString"){for(rr=0;rr<Kn.length;rr++)Xe.push(at(Nt.id,Ut,Kn[rr],Nt.tags));continue}Ut!=="LineString"&&Ut!=="MultiLineString"||(Kn.length===1?(Ut="LineString",Kn=Kn[0]):Ut="MultiLineString"),Ut!=="Point"&&Ut!=="MultiPoint"||(Ut=Kn.length===3?"Point":"MultiPoint"),Xe.push(at(Nt.id,Ut,Kn,Nt.tags))}}}return Xe.length?Xe:null}function sn(Ee,ae,ue,Pe,Be){for(var Ze=0;Ze<Ee.length;Ze+=3){var et=Ee[Ze+Be];et>=ue&&et<=Pe&&(ae.push(Ee[Ze]),ae.push(Ee[Ze+1]),ae.push(Ee[Ze+2]))}}function Qt(Ee,ae,ue,Pe,Be,Ze,et){for(var Qe,Xe,it=Tn(Ee),Nt=Be===0?$t:Dn,Kt=Ee.start,Ut=0;Ut<Ee.length-3;Ut+=3){var Xn=Ee[Ut],nr=Ee[Ut+1],Kn=Ee[Ut+2],rr=Ee[Ut+3],pr=Ee[Ut+4],Br=Be===0?Xn:nr,jr=Be===0?rr:pr,wi=!1;et&&(Qe=Math.sqrt(Math.pow(Xn-rr,2)+Math.pow(nr-pr,2))),Br<ue?jr>ue&&(Xe=Nt(it,Xn,nr,rr,pr,ue),et&&(it.start=Kt+Qe*Xe)):Br>Pe?jr<Pe&&(Xe=Nt(it,Xn,nr,rr,pr,Pe),et&&(it.start=Kt+Qe*Xe)):hr(it,Xn,nr,Kn),jr<ue&&Br>=ue&&(Xe=Nt(it,Xn,nr,rr,pr,ue),wi=!0),jr>Pe&&Br<=Pe&&(Xe=Nt(it,Xn,nr,rr,pr,Pe),wi=!0),!Ze&&wi&&(et&&(it.end=Kt+Qe*Xe),ae.push(it),it=Tn(Ee)),et&&(Kt+=Qe)}var ut=Ee.length-3;Xn=Ee[ut],nr=Ee[ut+1],Kn=Ee[ut+2],(Br=Be===0?Xn:nr)>=ue&&Br<=Pe&&hr(it,Xn,nr,Kn),ut=it.length-3,Ze&&ut>=3&&(it[ut]!==it[0]||it[ut+1]!==it[1])&&hr(it,it[0],it[1],it[2]),it.length&&ae.push(it)}function Tn(Ee){var ae=[];return ae.size=Ee.size,ae.start=Ee.start,ae.end=Ee.end,ae}function Zn(Ee,ae,ue,Pe,Be,Ze){for(var et=0;et<Ee.length;et++)Qt(Ee[et],ae,ue,Pe,Be,Ze,!1)}function hr(Ee,ae,ue,Pe){Ee.push(ae),Ee.push(ue),Ee.push(Pe)}function $t(Ee,ae,ue,Pe,Be,Ze){var et=(Ze-ae)/(Pe-ae);return Ee.push(Ze),Ee.push(ue+(Be-ue)*et),Ee.push(1),et}function Dn(Ee,ae,ue,Pe,Be,Ze){var et=(Ze-ue)/(Be-ue);return Ee.push(ae+(Pe-ae)*et),Ee.push(Ze),Ee.push(1),et}function Wn(Ee,ae){for(var ue=[],Pe=0;Pe<Ee.length;Pe++){var Be,Ze=Ee[Pe],et=Ze.type;if(et==="Point"||et==="MultiPoint"||et==="LineString")Be=Cn(Ze.geometry,ae);else if(et==="MultiLineString"||et==="Polygon"){Be=[];for(var Qe=0;Qe<Ze.geometry.length;Qe++)Be.push(Cn(Ze.geometry[Qe],ae))}else if(et==="MultiPolygon")for(Be=[],Qe=0;Qe<Ze.geometry.length;Qe++){for(var Xe=[],it=0;it<Ze.geometry[Qe].length;it++)Xe.push(Cn(Ze.geometry[Qe][it],ae));Be.push(Xe)}ue.push(at(Ze.id,et,Be,Ze.tags))}return ue}function Cn(Ee,ae){var ue=[];ue.size=Ee.size,Ee.start!==void 0&&(ue.start=Ee.start,ue.end=Ee.end);for(var Pe=0;Pe<Ee.length;Pe+=3)ue.push(Ee[Pe]+ae,Ee[Pe+1],Ee[Pe+2]);return ue}function Pn(Ee,ae){if(Ee.transformed)return Ee;var ue,Pe,Be,Ze=1<<Ee.z,et=Ee.x,Qe=Ee.y;for(ue=0;ue<Ee.features.length;ue++){var Xe=Ee.features[ue],it=Xe.geometry,Nt=Xe.type;if(Xe.geometry=[],Nt===1)for(Pe=0;Pe<it.length;Pe+=2)Xe.geometry.push(In(it[Pe],it[Pe+1],ae,Ze,et,Qe));else for(Pe=0;Pe<it.length;Pe++){var Kt=[];for(Be=0;Be<it[Pe].length;Be+=2)Kt.push(In(it[Pe][Be],it[Pe][Be+1],ae,Ze,et,Qe));Xe.geometry.push(Kt)}}return Ee.transformed=!0,Ee}function In(Ee,ae,ue,Pe,Be,Ze){return[Math.round(ue*(Ee*Pe-Be)),Math.round(ue*(ae*Pe-Ze))]}function er(Ee,ae,ue,Pe,Be){for(var Ze=ae===Be.maxZoom?0:Be.tolerance/((1<<ae)*Be.extent),et={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:ue,y:Pe,z:ae,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Qe=0;Qe<Ee.length;Qe++){et.numFeatures++,dn(et,Ee[Qe],Ze,Be);var Xe=Ee[Qe].minX,it=Ee[Qe].minY,Nt=Ee[Qe].maxX,Kt=Ee[Qe].maxY;Xe<et.minX&&(et.minX=Xe),it<et.minY&&(et.minY=it),Nt>et.maxX&&(et.maxX=Nt),Kt>et.maxY&&(et.maxY=Kt)}return et}function dn(Ee,ae,ue,Pe){var Be=ae.geometry,Ze=ae.type,et=[];if(Ze==="Point"||Ze==="MultiPoint")for(var Qe=0;Qe<Be.length;Qe+=3)et.push(Be[Qe]),et.push(Be[Qe+1]),Ee.numPoints++,Ee.numSimplified++;else if(Ze==="LineString")yn(et,Be,Ee,ue,!1,!1);else if(Ze==="MultiLineString"||Ze==="Polygon")for(Qe=0;Qe<Be.length;Qe++)yn(et,Be[Qe],Ee,ue,Ze==="Polygon",Qe===0);else if(Ze==="MultiPolygon")for(var Xe=0;Xe<Be.length;Xe++){var it=Be[Xe];for(Qe=0;Qe<it.length;Qe++)yn(et,it[Qe],Ee,ue,!0,Qe===0)}if(et.length){var Nt=ae.tags||null;if(Ze==="LineString"&&Pe.lineMetrics){for(var Kt in Nt={},ae.tags)Nt[Kt]=ae.tags[Kt];Nt.mapbox_clip_start=Be.start/Be.size,Nt.mapbox_clip_end=Be.end/Be.size}var Ut={geometry:et,type:Ze==="Polygon"||Ze==="MultiPolygon"?3:Ze==="LineString"||Ze==="MultiLineString"?2:1,tags:Nt};ae.id!==null&&(Ut.id=ae.id),Ee.features.push(Ut)}}function yn(Ee,ae,ue,Pe,Be,Ze){var et=Pe*Pe;if(Pe>0&&ae.size<(Be?et:Pe))ue.numPoints+=ae.length/3;else{for(var Qe=[],Xe=0;Xe<ae.length;Xe+=3)(Pe===0||ae[Xe+2]>et)&&(ue.numSimplified++,Qe.push(ae[Xe]),Qe.push(ae[Xe+1])),ue.numPoints++;Be&&function(it,Nt){for(var Kt=0,Ut=0,Xn=it.length,nr=Xn-2;Ut<Xn;nr=Ut,Ut+=2)Kt+=(it[Ut]-it[nr])*(it[Ut+1]+it[nr+1]);if(Kt>0===Nt)for(Ut=0,Xn=it.length;Ut<Xn/2;Ut+=2){var Kn=it[Ut],rr=it[Ut+1];it[Ut]=it[Xn-2-Ut],it[Ut+1]=it[Xn-1-Ut],it[Xn-2-Ut]=Kn,it[Xn-1-Ut]=rr}}(Qe,Ze),Ee.push(Qe)}}function zn(Ee,ae){var ue=(ae=this.options=function(Be,Ze){for(var et in Ze)Be[et]=Ze[et];return Be}(Object.create(this.options),ae)).debug;if(ue&&console.time("preprocess data"),ae.maxZoom<0||ae.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(ae.promoteId&&ae.generateId)throw new Error("promoteId and generateId cannot be used together.");var Pe=function(Be,Ze){var et=[];if(Be.type==="FeatureCollection")for(var Qe=0;Qe<Be.features.length;Qe++)Ft(et,Be.features[Qe],Ze,Qe);else Ft(et,Be.type==="Feature"?Be:{geometry:Be},Ze);return et}(Ee,ae);this.tiles={},this.tileCoords=[],ue&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",ae.indexMaxZoom,ae.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Pe=function(Be,Ze){var et=Ze.buffer/Ze.extent,Qe=Be,Xe=ln(Be,1,-1-et,et,0,-1,2,Ze),it=ln(Be,1,1-et,2+et,0,-1,2,Ze);return(Xe||it)&&(Qe=ln(Be,1,-et,1+et,0,-1,2,Ze)||[],Xe&&(Qe=Wn(Xe,1).concat(Qe)),it&&(Qe=Qe.concat(Wn(it,-1)))),Qe}(Pe,ae),Pe.length&&this.splitTile(Pe,0,0,0),ue&&(Pe.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Qn(Ee,ae,ue){return 32*((1<<Ee)*ue+ae)+Ee}function Cr(Ee,ae){const ue=Ee.tileID.canonical;if(!this._geoJSONIndex)return ae(null,null);const Pe=this._geoJSONIndex.getTile(ue.z,ue.x,ue.y);if(!Pe)return ae(null,null);const Be=new class{constructor(et){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=i.EXTENT,this.length=et.length,this._features=et}feature(et){return new class{constructor(Qe){this._feature=Qe,this.extent=i.EXTENT,this.type=Qe.type,this.properties=Qe.tags,"id"in Qe&&!isNaN(Qe.id)&&(this.id=parseInt(Qe.id,10))}loadGeometry(){if(this._feature.type===1){const Qe=[];for(const Xe of this._feature.geometry)Qe.push([new i.Point(Xe[0],Xe[1])]);return Qe}{const Qe=[];for(const Xe of this._feature.geometry){const it=[];for(const Nt of Xe)it.push(new i.Point(Nt[0],Nt[1]));Qe.push(it)}return Qe}}toGeoJSON(Qe,Xe,it){return L.call(this,Qe,Xe,it)}}(this._features[et])}}(Pe.features);let Ze=je(Be);Ze.byteOffset===0&&Ze.byteLength===Ze.buffer.byteLength||(Ze=new Uint8Array(Ze)),ae(null,{vectorTile:Be,rawData:Ze.buffer})}zn.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},zn.prototype.splitTile=function(Ee,ae,ue,Pe,Be,Ze,et){for(var Qe=[Ee,ae,ue,Pe],Xe=this.options,it=Xe.debug;Qe.length;){Pe=Qe.pop(),ue=Qe.pop(),ae=Qe.pop(),Ee=Qe.pop();var Nt=1<<ae,Kt=Qn(ae,ue,Pe),Ut=this.tiles[Kt];if(!Ut&&(it>1&&console.time("creation"),Ut=this.tiles[Kt]=er(Ee,ae,ue,Pe,Xe),this.tileCoords.push({z:ae,x:ue,y:Pe}),it)){it>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",ae,ue,Pe,Ut.numFeatures,Ut.numPoints,Ut.numSimplified),console.timeEnd("creation"));var Xn="z"+ae;this.stats[Xn]=(this.stats[Xn]||0)+1,this.total++}if(Ut.source=Ee,Be){if(ae===Xe.maxZoom||ae===Be)continue;var nr=1<<Be-ae;if(ue!==Math.floor(Ze/nr)||Pe!==Math.floor(et/nr))continue}else if(ae===Xe.indexMaxZoom||Ut.numPoints<=Xe.indexMaxPoints)continue;if(Ut.source=null,Ee.length!==0){it>1&&console.time("clipping");var Kn,rr,pr,Br,jr,wi,ut=.5*Xe.buffer/Xe.extent,xt=.5-ut,_n=.5+ut,Rn=1+ut;Kn=rr=pr=Br=null,jr=ln(Ee,Nt,ue-ut,ue+_n,0,Ut.minX,Ut.maxX,Xe),wi=ln(Ee,Nt,ue+xt,ue+Rn,0,Ut.minX,Ut.maxX,Xe),Ee=null,jr&&(Kn=ln(jr,Nt,Pe-ut,Pe+_n,1,Ut.minY,Ut.maxY,Xe),rr=ln(jr,Nt,Pe+xt,Pe+Rn,1,Ut.minY,Ut.maxY,Xe),jr=null),wi&&(pr=ln(wi,Nt,Pe-ut,Pe+_n,1,Ut.minY,Ut.maxY,Xe),Br=ln(wi,Nt,Pe+xt,Pe+Rn,1,Ut.minY,Ut.maxY,Xe),wi=null),it>1&&console.timeEnd("clipping"),Qe.push(Kn||[],ae+1,2*ue,2*Pe),Qe.push(rr||[],ae+1,2*ue,2*Pe+1),Qe.push(pr||[],ae+1,2*ue+1,2*Pe),Qe.push(Br||[],ae+1,2*ue+1,2*Pe+1)}}},zn.prototype.getTile=function(Ee,ae,ue){var Pe=this.options,Be=Pe.extent,Ze=Pe.debug;if(Ee<0||Ee>24)return null;var et=1<<Ee,Qe=Qn(Ee,ae=(ae%et+et)%et,ue);if(this.tiles[Qe])return Pn(this.tiles[Qe],Be);Ze>1&&console.log("drilling down to z%d-%d-%d",Ee,ae,ue);for(var Xe,it=Ee,Nt=ae,Kt=ue;!Xe&&it>0;)it--,Nt=Math.floor(Nt/2),Kt=Math.floor(Kt/2),Xe=this.tiles[Qn(it,Nt,Kt)];return Xe&&Xe.source?(Ze>1&&console.log("found parent tile z%d-%d-%d",it,Nt,Kt),Ze>1&&console.time("drilling down"),this.splitTile(Xe.source,it,Nt,Kt,Ee,ae,ue),Ze>1&&console.timeEnd("drilling down"),this.tiles[Qe]?Pn(this.tiles[Qe],Be):null):null};class Ur extends i.VectorTileWorkerSource{constructor(ae,ue,Pe,Be,Ze){super(ae,ue,Pe,Be,Cr),Ze&&(this.loadGeoJSON=Ze)}loadData(ae,ue){const Pe=ae&&ae.request,Be=Pe&&Pe.collectResourceTiming;this.loadGeoJSON(ae,(Ze,et)=>{if(Ze||!et)return ue(Ze);if(typeof et!="object")return ue(new Error(`Input data given to '${ae.source}' is not a valid GeoJSON object.`));{F(et,!0);try{if(ae.filter){const Xe=i.createExpression(ae.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(Xe.result==="error")throw new Error(Xe.value.map(Nt=>`${Nt.key}: ${Nt.message}`).join(", "));et={type:"FeatureCollection",features:et.features.filter(Nt=>Xe.value.evaluate({zoom:0},Nt))}}this._geoJSONIndex=ae.cluster?new St(function({superclusterOptions:Xe,clusterProperties:it}){if(!it||!Xe)return Xe;const Nt={},Kt={},Ut={accumulated:null,zoom:0},Xn={properties:null},nr=Object.keys(it);for(const Kn of nr){const[rr,pr]=it[Kn],Br=i.createExpression(pr),jr=i.createExpression(typeof rr=="string"?[rr,["accumulated"],["get",Kn]]:rr);Nt[Kn]=Br.value,Kt[Kn]=jr.value}return Xe.map=Kn=>{Xn.properties=Kn;const rr={};for(const pr of nr)rr[pr]=Nt[pr].evaluate(Ut,Xn);return rr},Xe.reduce=(Kn,rr)=>{Xn.properties=rr;for(const pr of nr)Ut.accumulated=Kn[pr],Kn[pr]=Kt[pr].evaluate(Ut,Xn)},Xe}(ae)).load(et.features):function(Xe,it){return new zn(Xe,it)}(et,ae.geojsonVtOptions)}catch(Xe){return ue(Xe)}this.loaded={};const Qe={};if(Be){const Xe=i.getPerformanceMeasurement(Pe);Xe&&(Qe.resourceTiming={},Qe.resourceTiming[ae.source]=JSON.parse(JSON.stringify(Xe)))}ue(null,Qe)}})}reloadTile(ae,ue){const Pe=this.loaded;return Pe&&Pe[ae.uid]?super.reloadTile(ae,ue):this.loadTile(ae,ue)}loadGeoJSON(ae,ue){if(ae.request)i.getJSON(ae.request,ue);else{if(typeof ae.data!="string")return ue(new Error(`Input data given to '${ae.source}' is not a valid GeoJSON object.`));try{return ue(null,JSON.parse(ae.data))}catch{return ue(new Error(`Input data given to '${ae.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(ae,ue){try{ue(null,this._geoJSONIndex.getClusterExpansionZoom(ae.clusterId))}catch(Pe){ue(Pe)}}getClusterChildren(ae,ue){try{ue(null,this._geoJSONIndex.getChildren(ae.clusterId))}catch(Pe){ue(Pe)}}getClusterLeaves(ae,ue){try{ue(null,this._geoJSONIndex.getLeaves(ae.clusterId,ae.limit,ae.offset))}catch(Pe){ue(Pe)}}}class yi{constructor(ae){this.self=ae,this.actor=new i.Actor(ae,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=i.getProjection({name:"mercator"}),this.workerSourceTypes={vector:i.VectorTileWorkerSource,geojson:Ur},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(ue,Pe)=>{if(this.workerSourceTypes[ue])throw new Error(`Worker source with name "${ue}" already registered.`);this.workerSourceTypes[ue]=Pe},this.self.registerRTLTextPlugin=ue=>{if(i.plugin.isParsed())throw new Error("RTL text plugin already registered.");i.plugin.applyArabicShaping=ue.applyArabicShaping,i.plugin.processBidirectionalText=ue.processBidirectionalText,i.plugin.processStyledBidirectionalText=ue.processStyledBidirectionalText}}clearCaches(ae,ue,Pe){delete this.layerIndexes[ae],delete this.availableImages[ae],delete this.workerSources[ae],delete this.demWorkerSources[ae],Pe()}checkIfReady(ae,ue,Pe){Pe()}setReferrer(ae,ue){this.referrer=ue}spriteLoaded(ae,ue){this.isSpriteLoaded[ae]=ue;for(const Pe in this.workerSources[ae]){const Be=this.workerSources[ae][Pe];for(const Ze in Be)Be[Ze]instanceof i.VectorTileWorkerSource&&(Be[Ze].isSpriteLoaded=ue,Be[Ze].fire(new i.Event("isSpriteLoaded")))}}setImages(ae,ue,Pe){this.availableImages[ae]=ue;for(const Be in this.workerSources[ae]){const Ze=this.workerSources[ae][Be];for(const et in Ze)Ze[et].availableImages=ue}Pe()}enableTerrain(ae,ue,Pe){this.terrain=ue,Pe()}setProjection(ae,ue){this.projections[ae]=i.getProjection(ue)}setLayers(ae,ue,Pe){this.getLayerIndex(ae).replace(ue),Pe()}updateLayers(ae,ue,Pe){this.getLayerIndex(ae).update(ue.layers,ue.removedIds),Pe()}loadTile(ae,ue,Pe){const Be=this.enableTerrain?i.extend({enableTerrain:this.terrain},ue):ue;Be.projection=this.projections[ae]||this.defaultProjection,this.getWorkerSource(ae,ue.type,ue.source).loadTile(Be,Pe)}loadDEMTile(ae,ue,Pe){const Be=this.enableTerrain?i.extend({buildQuadTree:this.terrain},ue):ue;this.getDEMWorkerSource(ae,ue.source).loadTile(Be,Pe)}reloadTile(ae,ue,Pe){const Be=this.enableTerrain?i.extend({enableTerrain:this.terrain},ue):ue;Be.projection=this.projections[ae]||this.defaultProjection,this.getWorkerSource(ae,ue.type,ue.source).reloadTile(Be,Pe)}abortTile(ae,ue,Pe){this.getWorkerSource(ae,ue.type,ue.source).abortTile(ue,Pe)}removeTile(ae,ue,Pe){this.getWorkerSource(ae,ue.type,ue.source).removeTile(ue,Pe)}removeSource(ae,ue,Pe){if(!this.workerSources[ae]||!this.workerSources[ae][ue.type]||!this.workerSources[ae][ue.type][ue.source])return;const Be=this.workerSources[ae][ue.type][ue.source];delete this.workerSources[ae][ue.type][ue.source],Be.removeSource!==void 0?Be.removeSource(ue,Pe):Pe()}loadWorkerSource(ae,ue,Pe){try{this.self.importScripts(ue.url),Pe()}catch(Be){Pe(Be.toString())}}syncRTLPluginState(ae,ue,Pe){try{i.plugin.setState(ue);const Be=i.plugin.getPluginURL();if(i.plugin.isLoaded()&&!i.plugin.isParsed()&&Be!=null){this.self.importScripts(Be);const Ze=i.plugin.isParsed();Pe(Ze?void 0:new Error(`RTL Text Plugin failed to import scripts from ${Be}`),Ze)}}catch(Be){Pe(Be.toString())}}getAvailableImages(ae){let ue=this.availableImages[ae];return ue||(ue=[]),ue}getLayerIndex(ae){let ue=this.layerIndexes[ae];return ue||(ue=this.layerIndexes[ae]=new E),ue}getWorkerSource(ae,ue,Pe){if(this.workerSources[ae]||(this.workerSources[ae]={}),this.workerSources[ae][ue]||(this.workerSources[ae][ue]={}),!this.workerSources[ae][ue][Pe]){const Be={send:(Ze,et,Qe,Xe,it,Nt)=>{this.actor.send(Ze,et,Qe,ae,it,Nt)},scheduler:this.actor.scheduler};this.workerSources[ae][ue][Pe]=new this.workerSourceTypes[ue](Be,this.getLayerIndex(ae),this.getAvailableImages(ae),this.isSpriteLoaded[ae])}return this.workerSources[ae][ue][Pe]}getDEMWorkerSource(ae,ue){return this.demWorkerSources[ae]||(this.demWorkerSources[ae]={}),this.demWorkerSources[ae][ue]||(this.demWorkerSources[ae][ue]=new k),this.demWorkerSources[ae][ue]}enforceCacheSizeLimit(ae,ue){i.enforceCacheSizeLimit(ue)}getWorkerPerformanceMetrics(ae,ue,Pe){Pe(void 0,void 0)}}return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new yi(self)),yi}),u(["./shared"],function(i){function _(m,c){if(Array.isArray(m)){if(!Array.isArray(c)||m.length!==c.length)return!1;for(let h=0;h<m.length;h++)if(!_(m[h],c[h]))return!1;return!0}if(typeof m=="object"&&m!==null&&c!==null){if(typeof c!="object"||Object.keys(m).length!==Object.keys(c).length)return!1;for(const h in m)if(!_(m[h],c[h]))return!1;return!0}return m===c}var b=E;function E(m){return!function(c){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var y,x,S=new Blob([""],{type:"text/javascript"}),I=URL.createObjectURL(S);try{x=new Worker(I),y=!0}catch{y=!1}return x&&x.terminate(),URL.revokeObjectURL(I),y}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var y=document.createElement("canvas");y.width=y.height=1;var x=y.getContext("2d");if(!x)return!1;var S=x.getImageData(0,0,1,1);return S&&S.width===y.width}()?(k[h=c&&c.failIfMajorPerformanceCaveat]===void 0&&(k[h]=function(y){var x,S=function(I){var D=document.createElement("canvas"),O=Object.create(E.webGLContextAttributes);return O.failIfMajorPerformanceCaveat=I,D.getContext("webgl",O)||D.getContext("experimental-webgl",O)}(y);if(!S)return!1;try{x=S.createShader(S.VERTEX_SHADER)}catch{return!1}return!(!x||S.isContextLost())&&(S.shaderSource(x,"void main() {}"),S.compileShader(x),S.getShaderParameter(x,S.COMPILE_STATUS)===!0)}(h)),k[h]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var h}(m)}var k={};function R(m,c,h){const y=i.window.document.createElement(m);return c!==void 0&&(y.className=c),h&&h.appendChild(y),y}function B(m,c,h){const y=i.window.document.createElementNS("http://www.w3.org/2000/svg",m);for(const x of Object.keys(c))y.setAttributeNS(null,x,c[x]);return h&&h.appendChild(y),y}E.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const F=i.window.document&&i.window.document.documentElement.style,L=F&&F.userSelect!==void 0?"userSelect":"WebkitUserSelect";let X;function $(){F&&L&&(X=F[L],F[L]="none")}function H(){F&&L&&(F[L]=X)}function G(m){m.preventDefault(),m.stopPropagation(),i.window.removeEventListener("click",G,!0)}function Q(){i.window.addEventListener("click",G,!0),i.window.setTimeout(()=>{i.window.removeEventListener("click",G,!0)},0)}function te(m,c){const h=m.getBoundingClientRect();return de(m,h,c)}function le(m,c){const h=m.getBoundingClientRect(),y=[];for(let x=0;x<c.length;x++)y.push(de(m,h,c[x]));return y}function M(m){return i.window.InstallTrigger!==void 0&&m.button===2&&m.ctrlKey&&i.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:m.button}function de(m,c,h){const y=m.offsetWidth===c.width?1:m.offsetWidth/c.width;return new i.Point((h.clientX-c.left)*y,(h.clientY-c.top)*y)}function ce(m,c){var h=c[0],y=c[1],x=c[2],S=c[3],I=h*S-x*y;return I?(m[0]=S*(I=1/I),m[1]=-y*I,m[2]=-x*I,m[3]=h*I,m):null}function xe(m){const{userImage:c}=m;return!!(c&&c.render&&c.render())&&(m.data.replace(new Uint8Array(c.data.buffer)),!0)}class ke extends i.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new i.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(c){if(this.loaded!==c&&(this.loaded=c,c)){for(const{ids:h,callback:y}of this.requestors)this._notify(h,y);this.requestors=[]}}hasImage(c){return!!this.getImage(c)}getImage(c){return this.images[c]}addImage(c,h){this._validate(c,h)&&(this.images[c]=h)}_validate(c,h){let y=!0;return this._validateStretch(h.stretchX,h.data&&h.data.width)||(this.fire(new i.ErrorEvent(new Error(`Image "${c}" has invalid "stretchX" value`))),y=!1),this._validateStretch(h.stretchY,h.data&&h.data.height)||(this.fire(new i.ErrorEvent(new Error(`Image "${c}" has invalid "stretchY" value`))),y=!1),this._validateContent(h.content,h)||(this.fire(new i.ErrorEvent(new Error(`Image "${c}" has invalid "content" value`))),y=!1),y}_validateStretch(c,h){if(!c)return!0;let y=0;for(const x of c){if(x[0]<y||x[1]<x[0]||h<x[1])return!1;y=x[1]}return!0}_validateContent(c,h){return!(c&&(c.length!==4||c[0]<0||h.data.width<c[0]||c[1]<0||h.data.height<c[1]||c[2]<0||h.data.width<c[2]||c[3]<0||h.data.height<c[3]||c[2]<c[0]||c[3]<c[1]))}updateImage(c,h){h.version=this.images[c].version+1,this.images[c]=h,this.updatedImages[c]=!0}removeImage(c){const h=this.images[c];delete this.images[c],delete this.patterns[c],h.userImage&&h.userImage.onRemove&&h.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(c,h){let y=!0;if(!this.isLoaded())for(const x of c)this.images[x]||(y=!1);this.isLoaded()||y?this._notify(c,h):this.requestors.push({ids:c,callback:h})}_notify(c,h){const y={};for(const x of c){this.images[x]||this.fire(new i.Event("styleimagemissing",{id:x}));const S=this.images[x];S?y[x]={data:S.data.clone(),pixelRatio:S.pixelRatio,sdf:S.sdf,version:S.version,stretchX:S.stretchX,stretchY:S.stretchY,content:S.content,hasRenderCallback:!!(S.userImage&&S.userImage.render)}:i.warnOnce(`Image "${x}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}h(null,y)}getPixelSize(){const{width:c,height:h}=this.atlasImage;return{width:c,height:h}}getPattern(c){const h=this.patterns[c],y=this.getImage(c);if(!y)return null;if(h&&h.position.version===y.version)return h.position;if(h)h.position.version=y.version;else{const x={w:y.data.width+2,h:y.data.height+2,x:0,y:0},S=new i.ImagePosition(x,y);this.patterns[c]={bin:x,position:S}}return this._updatePatternAtlas(),this.patterns[c].position}bind(c){const h=c.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new i.Texture(c,this.atlasImage,h.RGBA),this.atlasTexture&&this.atlasTexture.bind(h.LINEAR,h.CLAMP_TO_EDGE)}_updatePatternAtlas(){const c=[];for(const S in this.patterns)c.push(this.patterns[S].bin);const{w:h,h:y}=i.potpack(c),x=this.atlasImage;x.resize({width:h||1,height:y||1});for(const S in this.patterns){const{bin:I}=this.patterns[S],D=I.x+1,O=I.y+1,Z=this.images[S].data,q=Z.width,ne=Z.height;i.RGBAImage.copy(Z,x,{x:0,y:0},{x:D,y:O},{width:q,height:ne}),i.RGBAImage.copy(Z,x,{x:0,y:ne-1},{x:D,y:O-1},{width:q,height:1}),i.RGBAImage.copy(Z,x,{x:0,y:0},{x:D,y:O+ne},{width:q,height:1}),i.RGBAImage.copy(Z,x,{x:q-1,y:0},{x:D-1,y:O},{width:1,height:ne}),i.RGBAImage.copy(Z,x,{x:0,y:0},{x:D+q,y:O},{width:1,height:ne})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(c){for(const h of c){if(this.callbackDispatchedThisFrame[h])continue;this.callbackDispatchedThisFrame[h]=!0;const y=this.images[h];xe(y)&&this.updateImage(h,y)}}}const $e=new i.Properties({anchor:new i.DataConstantProperty(i.spec.light.anchor),position:new class{constructor(){this.specification=i.spec.light.position}possiblyEvaluate(m,c){return function([h,y,x]){const S=i.degToRad(y+90),I=i.degToRad(x);return{x:h*Math.cos(S)*Math.sin(I),y:h*Math.sin(S)*Math.sin(I),z:h*Math.cos(I),azimuthal:y,polar:x}}(m.expression.evaluate(c))}interpolate(m,c,h){return{x:i.number(m.x,c.x,h),y:i.number(m.y,c.y,h),z:i.number(m.z,c.z,h),azimuthal:i.number(m.azimuthal,c.azimuthal,h),polar:i.number(m.polar,c.polar,h)}}},color:new i.DataConstantProperty(i.spec.light.color),intensity:new i.DataConstantProperty(i.spec.light.intensity)});class _e extends i.Evented{constructor(c){super(),this._transitionable=new i.Transitionable($e),this.setLight(c),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(c,h={}){if(!this._validate(i.validateLight,c,h))for(const y in c){const x=c[y];i.endsWith(y,"-transition")?this._transitionable.setTransition(y.slice(0,-11),x):this._transitionable.setValue(y,x)}}updateTransitions(c){this._transitioning=this._transitionable.transitioned(c,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(c){this.properties=this._transitioning.possiblyEvaluate(c)}_validate(c,h,y){return(!y||y.validate!==!1)&&i.emitValidationErrors(this,c.call(i.validateStyle,i.extend({value:h,style:{glyphs:!0,sprite:!0},styleSpec:i.spec})))}}const we=new i.Properties({source:new i.DataConstantProperty(i.spec.terrain.source),exaggeration:new i.DataConstantProperty(i.spec.terrain.exaggeration)});let me=class extends i.Evented{constructor(m,c){super(),this._transitionable=new i.Transitionable(we),this.set(m),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=c}get(){return this._transitionable.serialize()}set(m){for(const c in m){const h=m[c];i.endsWith(c,"-transition")?this._transitionable.setTransition(c.slice(0,-11),h):this._transitionable.setValue(c,h)}}updateTransitions(m){this._transitioning=this._transitionable.transitioned(m,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(m){this.properties=this._transitioning.possiblyEvaluate(m)}};function je(m,c,h,y){const x=i.smoothstep(45,65,h),[S,I]=ze(m,y),D=i.length(c);let O=1-Math.min(1,Math.exp((D-S)/(I-S)*-6));return O*=O*O,O=Math.min(1,1.00747*O),O*x*m.alpha}function ze(m,c){const h=.5/Math.tan(.5*c);return[m.range[0]+h,m.range[1]+h]}const Me=new i.Properties({range:new i.DataConstantProperty(i.spec.fog.range),color:new i.DataConstantProperty(i.spec.fog.color),"high-color":new i.DataConstantProperty(i.spec.fog["high-color"]),"space-color":new i.DataConstantProperty(i.spec.fog["space-color"]),"horizon-blend":new i.DataConstantProperty(i.spec.fog["horizon-blend"]),"star-intensity":new i.DataConstantProperty(i.spec.fog["star-intensity"])});class Le extends i.Evented{constructor(c,h){super(),this._transitionable=new i.Transitionable(Me),this.set(c),this._transitioning=this._transitionable.untransitioned(),this._transform=h}get state(){const c=this._transform,h=c.projection.name==="globe",y=i.globeToMercatorTransition(c.zoom),x=this.properties.get("range"),S=[.5,3];return{range:h?[i.number(S[0],x[0],y),i.number(S[1],x[1],y)]:x,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(c,h={}){if(!this._validate(i.validateFog,c,h)){for(const y of Object.keys(i.spec.fog))c&&c[y]===void 0&&(c[y]=i.spec.fog[y].default);for(const y in c){const x=c[y];i.endsWith(y,"-transition")?this._transitionable.setTransition(y.slice(0,-11),x):this._transitionable.setValue(y,x)}}}getOpacity(c){if(!this._transform.projection.supportsFog)return 0;const h=this.properties&&this.properties.get("color")||1;return(this._transform.projection.name==="globe"?1:i.smoothstep(45,65,c))*h.a}getOpacityAtLatLng(c,h){return this._transform.projection.supportsFog?function(y,x,S){const I=i.MercatorCoordinate.fromLngLat(x),D=S.elevation?S.elevation.getAtPointOrZero(I):0,O=[I.x,I.y,D];return i.transformMat4(O,O,S.mercatorFogMatrix),je(y,O,S.pitch,S._fov)}(this.state,c,h):0}getFovAdjustedRange(c){return this._transform.projection.supportsFog?ze(this.state,c):[0,1]}updateTransitions(c){this._transitioning=this._transitionable.transitioned(c,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(c){this.properties=this._transitioning.possiblyEvaluate(c)}_validate(c,h,y){return(!y||y.validate!==!1)&&i.emitValidationErrors(this,c.call(i.validateStyle,i.extend({value:h,style:{glyphs:!0,sprite:!0},styleSpec:i.spec})))}}class qe{constructor(c,h){this.workerPool=c,this.actors=[],this.currentActor=0,this.id=i.uniqueId();const y=this.workerPool.acquire(this.id);for(let x=0;x<y.length;x++){const S=new qe.Actor(y[x],h,this.id);S.name=`Worker ${x}`,this.actors.push(S)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(c,h,y){i.asyncAll(this.actors,(x,S)=>{x.send(c,h,S)},y=y||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(c=>{c.remove()}),this.actors=[],this.workerPool.release(this.id)}}function ct(m,c,h){return c*(i.EXTENT/(m.tileSize*Math.pow(2,h-m.tileID.overscaledZ)))}qe.Actor=i.Actor;class wt{constructor(c,h,y,x){this.screenBounds=c,this.cameraPoint=h,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=y,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,x)}static createFromScreenPoints(c,h){let y,x;if(c instanceof i.Point||typeof c[0]=="number"){const S=i.Point.convert(c);y=[S],x=h.isPointAboveHorizon(S)}else{const S=i.Point.convert(c[0]),I=i.Point.convert(c[1]);y=[S,I],x=i.polygonizeBounds(S,I).every(D=>h.isPointAboveHorizon(D))}return new wt(y,h.getCameraPoint(),x,h)}isPointQuery(){return this.screenBounds.length===1}bufferedScreenGeometry(c){return i.polygonizeBounds(this.screenBounds[0],this.screenBounds.length===1?this.screenBounds[0]:this.screenBounds[1],c)}bufferedCameraGeometry(c){const h=this.screenBounds[0],y=this.screenBounds.length===1?this.screenBounds[0].add(new i.Point(1,1)):this.screenBounds[1],x=i.polygonizeBounds(h,y,0,!1);return this.cameraPoint.y>y.y&&(this.cameraPoint.x>h.x&&this.cameraPoint.x<y.x?x.splice(3,0,this.cameraPoint):this.cameraPoint.x>=y.x?x[2]=this.cameraPoint:this.cameraPoint.x<=h.x&&(x[3]=this.cameraPoint)),i.bufferConvexPolygon(x,c)}bufferedCameraGeometryGlobe(c){const h=this.screenBounds[0],y=this.screenBounds.length===1?this.screenBounds[0].add(new i.Point(1,1)):this.screenBounds[1],x=i.polygonizeBounds(h,y,c),S=this.cameraPoint.clone();switch(3*((S.y>h.y)+(S.y>y.y))+((S.x>h.x)+(S.x>y.x))){case 0:x[0]=S,x[4]=S.clone();break;case 1:x.splice(1,0,S);break;case 2:x[1]=S;break;case 3:x.splice(4,0,S);break;case 5:x.splice(2,0,S);break;case 6:x[3]=S;break;case 7:x.splice(3,0,S);break;case 8:x[2]=S}return x}containsTile(c,h,y,x=0){const S=c.queryPadding/h._pixelsPerMercatorPixel+1,I=y?this._bufferedCameraMercator(S,h):this._bufferedScreenMercator(S,h);let D=c.tileID.wrap+(I.unwrapped?x:0);const O=I.polygon.map(Se=>i.getTilePoint(c.tileTransform,Se,D));if(!i.polygonIntersectsBox(O,0,0,i.EXTENT,i.EXTENT))return;D=c.tileID.wrap+(this.screenGeometryMercator.unwrapped?x:0);const Z=this.screenGeometryMercator.polygon.map(Se=>i.getTileVec3(c.tileTransform,Se,D)),q=Z.map(Se=>new i.Point(Se[0],Se[1])),ne=h.getFreeCameraOptions().position||new i.MercatorCoordinate(0,0,0),pe=i.getTileVec3(c.tileTransform,ne,D),ye=Z.map(Se=>{const re=i.sub(Se,Se,pe);return i.normalize(re,re),new i.Ray(pe,re)}),be=ct(c,1,h.zoom)*h._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:q,tilespaceRays:ye,bufferedTilespaceGeometry:O,bufferedTilespaceBounds:(ve=i.getBounds(O),ve.min.x=i.clamp(ve.min.x,0,i.EXTENT),ve.min.y=i.clamp(ve.min.y,0,i.EXTENT),ve.max.x=i.clamp(ve.max.x,0,i.EXTENT),ve.max.y=i.clamp(ve.max.y,0,i.EXTENT),ve),tile:c,tileID:c.tileID,pixelToTileUnitsFactor:be};var ve}_bufferedScreenMercator(c,h){const y=Dt(c);if(this._screenRaycastCache[y])return this._screenRaycastCache[y];{let x;return x=h.projection.name==="globe"?this._projectAndResample(this.bufferedScreenGeometry(c),h):{polygon:this.bufferedScreenGeometry(c).map(S=>h.pointCoordinate3D(S)),unwrapped:!0},this._screenRaycastCache[y]=x,x}}_bufferedCameraMercator(c,h){const y=Dt(c);if(this._cameraRaycastCache[y])return this._cameraRaycastCache[y];{let x;return x=h.projection.name==="globe"?this._projectAndResample(this.bufferedCameraGeometryGlobe(c),h):{polygon:this.bufferedCameraGeometry(c).map(S=>h.pointCoordinate3D(S)),unwrapped:!0},this._cameraRaycastCache[y]=x,x}}_projectAndResample(c,h){const y=function(S,I){const D=i.multiply([],I.pixelMatrix,I.globeMatrix),O=[0,-i.GLOBE_RADIUS,0,1],Z=[0,i.GLOBE_RADIUS,0,1],q=[0,0,0,1];i.transformMat4$1(O,O,D),i.transformMat4$1(Z,Z,D),i.transformMat4$1(q,q,D);const ne=new i.Point(O[0]/O[3],O[1]/O[3]),pe=new i.Point(Z[0]/Z[3],Z[1]/Z[3]),ye=i.polygonContainsPoint(S,ne)&&O[3]<q[3],be=i.polygonContainsPoint(S,pe)&&Z[3]<q[3];if(!ye&&!be)return null;const ve=function(He,tt,Je){for(let dt=1;dt<He.length;dt++){const qt=ht(tt.pointCoordinate3D(He[dt-1]).x),ot=ht(tt.pointCoordinate3D(He[dt]).x);if(Je<0){if(qt<ot)return{idx:dt,t:-qt/(ot-1-qt)}}else if(ot<qt)return{idx:dt,t:(1-qt)/(ot+1-qt)}}return null}(S,I,ye?-1:1);if(!ve)return null;const{idx:Se,t:re}=ve;let ge=Se>1?St(S.slice(0,Se),I):[],Ie=Se<S.length?St(S.slice(Se),I):[];ge=ge.map(He=>new i.Point(ht(He.x),He.y)),Ie=Ie.map(He=>new i.Point(ht(He.x),He.y));const Ae=[...ge];Ae.length===0&&Ae.push(Ie[Ie.length-1]);const We=i.number(Ae[Ae.length-1].y,(Ie.length===0?ge[0]:Ie[0]).y,re);let Ge;return Ge=ye?[new i.Point(0,We),new i.Point(0,0),new i.Point(1,0),new i.Point(1,We)]:[new i.Point(1,We),new i.Point(1,1),new i.Point(0,1),new i.Point(0,We)],Ae.push(...Ge),Ie.length===0?Ae.push(ge[0]):Ae.push(...Ie),{polygon:Ae.map(He=>new i.MercatorCoordinate(He.x,He.y)),unwrapped:!1}}(c,h);if(y)return y;const x=function(S,I){let D=!1,O=-1/0,Z=0;for(let ne=0;ne<S.length-1;ne++)S[ne].x>O&&(O=S[ne].x,Z=ne);for(let ne=0;ne<S.length-1;ne++){const pe=(Z+ne)%(S.length-1),ye=S[pe],be=S[pe+1];Math.abs(ye.x-be.x)>.5&&(ye.x<be.x?(ye.x+=1,pe===0&&(S[S.length-1].x+=1)):(be.x+=1,pe+1===S.length-1&&(S[0].x+=1)),D=!0)}const q=i.mercatorXfromLng(I.center.lng);return D&&q<Math.abs(q-1)&&S.forEach(ne=>{ne.x-=1}),{polygon:S,unwrapped:D}}(St(c,h).map(S=>new i.Point(ht(S.x),S.y)),h);return{polygon:x.polygon.map(S=>new i.MercatorCoordinate(S.x,S.y)),unwrapped:x.unwrapped}}}function St(m,c){return i.resample(m,h=>{const y=c.pointCoordinate3D(h);h.x=y.x,h.y=y.y},1/256)}function ht(m){return m<0?1+m%1:m%1}function Dt(m){return 100*m|0}function bt(m,c,h,y,x){const S=function(I,D){if(I)return x(I);if(D){m.url&&D.tiles&&m.tiles&&delete m.tiles;const O=i.pick(i.extend(D,m),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);D.vector_layers&&(O.vectorLayers=D.vector_layers,O.vectorLayerIds=O.vectorLayers.map(Z=>Z.id)),O.tiles=c.canonicalizeTileset(O,m.url),x(null,O)}};return m.url?i.getJSON(c.transformRequest(c.normalizeSourceURL(m.url,null,h,y),i.ResourceType.Source),S):i.exported.frame(()=>S(null,m))}class Et{constructor(c,h,y){this.bounds=i.LngLatBounds.convert(this.validateBounds(c)),this.minzoom=h||0,this.maxzoom=y||24}validateBounds(c){return Array.isArray(c)&&c.length===4?[Math.max(-180,c[0]),Math.max(-90,c[1]),Math.min(180,c[2]),Math.min(90,c[3])]:[-180,-90,180,90]}contains(c){const h=Math.pow(2,c.z),y=Math.floor(i.mercatorXfromLng(this.bounds.getWest())*h),x=Math.floor(i.mercatorYfromLat(this.bounds.getNorth())*h),S=Math.ceil(i.mercatorXfromLng(this.bounds.getEast())*h),I=Math.ceil(i.mercatorYfromLat(this.bounds.getSouth())*h);return c.x>=y&&c.x<S&&c.y>=x&&c.y<I}}class Xt{constructor(c,h,y){this.context=c;const x=c.gl;this.buffer=x.createBuffer(),this.dynamicDraw=!!y,this.context.unbindVAO(),c.bindElementBuffer.set(this.buffer),x.bufferData(x.ELEMENT_ARRAY_BUFFER,h.arrayBuffer,this.dynamicDraw?x.DYNAMIC_DRAW:x.STATIC_DRAW),this.dynamicDraw||h.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(c){const h=this.context.gl;this.context.unbindVAO(),this.bind(),h.bufferSubData(h.ELEMENT_ARRAY_BUFFER,0,c.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const rn={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class _t{constructor(c,h,y,x){this.length=h.length,this.attributes=y,this.itemSize=h.bytesPerElement,this.dynamicDraw=x,this.context=c;const S=c.gl;this.buffer=S.createBuffer(),c.bindVertexBuffer.set(this.buffer),S.bufferData(S.ARRAY_BUFFER,h.arrayBuffer,this.dynamicDraw?S.DYNAMIC_DRAW:S.STATIC_DRAW),this.dynamicDraw||h.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(c){const h=this.context.gl;this.bind(),h.bufferSubData(h.ARRAY_BUFFER,0,c.arrayBuffer)}enableAttributes(c,h){for(let y=0;y<this.attributes.length;y++){const x=h.attributes[this.attributes[y].name];x!==void 0&&c.enableVertexAttribArray(x)}}setVertexAttribPointers(c,h,y){for(let x=0;x<this.attributes.length;x++){const S=this.attributes[x],I=h.attributes[S.name];I!==void 0&&c.vertexAttribPointer(I,S.components,c[rn[S.type]],!1,this.itemSize,S.offset+this.itemSize*(y||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class at{constructor(c){this.gl=c.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(c){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class ft extends at{getDefault(){return i.Color.transparent}set(c){const h=this.current;(c.r!==h.r||c.g!==h.g||c.b!==h.b||c.a!==h.a||this.dirty)&&(this.gl.clearColor(c.r,c.g,c.b,c.a),this.current=c,this.dirty=!1)}}class Ft extends at{getDefault(){return 1}set(c){(c!==this.current||this.dirty)&&(this.gl.clearDepth(c),this.current=c,this.dirty=!1)}}class un extends at{getDefault(){return 0}set(c){(c!==this.current||this.dirty)&&(this.gl.clearStencil(c),this.current=c,this.dirty=!1)}}class rt extends at{getDefault(){return[!0,!0,!0,!0]}set(c){const h=this.current;(c[0]!==h[0]||c[1]!==h[1]||c[2]!==h[2]||c[3]!==h[3]||this.dirty)&&(this.gl.colorMask(c[0],c[1],c[2],c[3]),this.current=c,this.dirty=!1)}}class an extends at{getDefault(){return!0}set(c){(c!==this.current||this.dirty)&&(this.gl.depthMask(c),this.current=c,this.dirty=!1)}}class Tt extends at{getDefault(){return 255}set(c){(c!==this.current||this.dirty)&&(this.gl.stencilMask(c),this.current=c,this.dirty=!1)}}class on extends at{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(c){const h=this.current;(c.func!==h.func||c.ref!==h.ref||c.mask!==h.mask||this.dirty)&&(this.gl.stencilFunc(c.func,c.ref,c.mask),this.current=c,this.dirty=!1)}}class ln extends at{getDefault(){const c=this.gl;return[c.KEEP,c.KEEP,c.KEEP]}set(c){const h=this.current;(c[0]!==h[0]||c[1]!==h[1]||c[2]!==h[2]||this.dirty)&&(this.gl.stencilOp(c[0],c[1],c[2]),this.current=c,this.dirty=!1)}}class sn extends at{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const h=this.gl;c?h.enable(h.STENCIL_TEST):h.disable(h.STENCIL_TEST),this.current=c,this.dirty=!1}}class Qt extends at{getDefault(){return[0,1]}set(c){const h=this.current;(c[0]!==h[0]||c[1]!==h[1]||this.dirty)&&(this.gl.depthRange(c[0],c[1]),this.current=c,this.dirty=!1)}}class Tn extends at{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const h=this.gl;c?h.enable(h.DEPTH_TEST):h.disable(h.DEPTH_TEST),this.current=c,this.dirty=!1}}class Zn extends at{getDefault(){return this.gl.LESS}set(c){(c!==this.current||this.dirty)&&(this.gl.depthFunc(c),this.current=c,this.dirty=!1)}}class hr extends at{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const h=this.gl;c?h.enable(h.BLEND):h.disable(h.BLEND),this.current=c,this.dirty=!1}}class $t extends at{getDefault(){const c=this.gl;return[c.ONE,c.ZERO]}set(c){const h=this.current;(c[0]!==h[0]||c[1]!==h[1]||this.dirty)&&(this.gl.blendFunc(c[0],c[1]),this.current=c,this.dirty=!1)}}class Dn extends at{getDefault(){return i.Color.transparent}set(c){const h=this.current;(c.r!==h.r||c.g!==h.g||c.b!==h.b||c.a!==h.a||this.dirty)&&(this.gl.blendColor(c.r,c.g,c.b,c.a),this.current=c,this.dirty=!1)}}class Wn extends at{getDefault(){return this.gl.FUNC_ADD}set(c){(c!==this.current||this.dirty)&&(this.gl.blendEquation(c),this.current=c,this.dirty=!1)}}class Cn extends at{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const h=this.gl;c?h.enable(h.CULL_FACE):h.disable(h.CULL_FACE),this.current=c,this.dirty=!1}}class Pn extends at{getDefault(){return this.gl.BACK}set(c){(c!==this.current||this.dirty)&&(this.gl.cullFace(c),this.current=c,this.dirty=!1)}}class In extends at{getDefault(){return this.gl.CCW}set(c){(c!==this.current||this.dirty)&&(this.gl.frontFace(c),this.current=c,this.dirty=!1)}}let er,dn=class extends at{getDefault(){return null}set(m){(m!==this.current||this.dirty)&&(this.gl.useProgram(m),this.current=m,this.dirty=!1)}};class yn extends at{getDefault(){return this.gl.TEXTURE0}set(c){(c!==this.current||this.dirty)&&(this.gl.activeTexture(c),this.current=c,this.dirty=!1)}}class zn extends at{getDefault(){const c=this.gl;return[0,0,c.drawingBufferWidth,c.drawingBufferHeight]}set(c){const h=this.current;(c[0]!==h[0]||c[1]!==h[1]||c[2]!==h[2]||c[3]!==h[3]||this.dirty)&&(this.gl.viewport(c[0],c[1],c[2],c[3]),this.current=c,this.dirty=!1)}}class Qn extends at{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const h=this.gl;h.bindFramebuffer(h.FRAMEBUFFER,c),this.current=c,this.dirty=!1}}class Cr extends at{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const h=this.gl;h.bindRenderbuffer(h.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class Ur extends at{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const h=this.gl;h.bindTexture(h.TEXTURE_2D,c),this.current=c,this.dirty=!1}}class yi extends at{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const h=this.gl;h.bindBuffer(h.ARRAY_BUFFER,c),this.current=c,this.dirty=!1}}class Ee extends at{getDefault(){return null}set(c){const h=this.gl;h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,c),this.current=c,this.dirty=!1}}class ae extends at{constructor(c){super(c),this.vao=c.extVertexArrayObject}getDefault(){return null}set(c){this.vao&&(c!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(c),this.current=c,this.dirty=!1)}}class ue extends at{getDefault(){return 4}set(c){if(c===this.current&&!this.dirty)return;const h=this.gl;h.pixelStorei(h.UNPACK_ALIGNMENT,c),this.current=c,this.dirty=!1}}class Pe extends at{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const h=this.gl;h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,c),this.current=c,this.dirty=!1}}class Be extends at{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const h=this.gl;h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,c),this.current=c,this.dirty=!1}}class Ze extends at{constructor(c,h){super(c),this.context=c,this.parent=h}getDefault(){return null}}class et extends Ze{setDirty(){this.dirty=!0}set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const h=this.gl;h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,c,0),this.current=c,this.dirty=!1}}class Qe extends Ze{attachment(){return this.gl.DEPTH_ATTACHMENT}set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const h=this.gl;h.framebufferRenderbuffer(h.FRAMEBUFFER,this.attachment(),h.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class Xe extends Qe{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class it{constructor(c,h,y,x){this.context=c,this.width=h,this.height=y;const S=this.framebuffer=c.gl.createFramebuffer();this.colorAttachment=new et(c,S),x&&(this.depthAttachment=new Qe(c,S))}destroy(){const c=this.context.gl,h=this.colorAttachment.get();if(h&&c.deleteTexture(h),this.depthAttachment){const y=this.depthAttachment.get();y&&c.deleteRenderbuffer(y)}c.deleteFramebuffer(this.framebuffer)}}class Nt{constructor(c,h=!1){if(this.gl=c,this.isWebGL2=h,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),h){const y=c;this.extVertexArrayObject={createVertexArrayOES:y.createVertexArray.bind(c),deleteVertexArrayOES:y.deleteVertexArray.bind(c),bindVertexArrayOES:y.bindVertexArray.bind(c)}}this.clearColor=new ft(this),this.clearDepth=new Ft(this),this.clearStencil=new un(this),this.colorMask=new rt(this),this.depthMask=new an(this),this.stencilMask=new Tt(this),this.stencilFunc=new on(this),this.stencilOp=new ln(this),this.stencilTest=new sn(this),this.depthRange=new Qt(this),this.depthTest=new Tn(this),this.depthFunc=new Zn(this),this.blend=new hr(this),this.blendFunc=new $t(this),this.blendColor=new Dn(this),this.blendEquation=new Wn(this),this.cullFace=new Cn(this),this.cullFaceSide=new Pn(this),this.frontFace=new In(this),this.program=new dn(this),this.activeTexture=new yn(this),this.viewport=new zn(this),this.bindFramebuffer=new Qn(this),this.bindRenderbuffer=new Cr(this),this.bindTexture=new Ur(this),this.bindVertexBuffer=new yi(this),this.bindElementBuffer=new Ee(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ae(this),this.pixelStoreUnpack=new ue(this),this.pixelStoreUnpackPremultiplyAlpha=new Pe(this),this.pixelStoreUnpackFlipY=new Be(this),this.extTextureFilterAnisotropic=c.getExtension("EXT_texture_filter_anisotropic")||c.getExtension("MOZ_EXT_texture_filter_anisotropic")||c.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=c.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extDebugRendererInfo=c.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=c.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=c.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),h||(this.extTextureHalfFloat=c.getExtension("OES_texture_half_float")),(h||this.extTextureHalfFloat&&c.getExtension("OES_texture_half_float_linear"))&&(this.extRenderToTextureHalfFloat=c.getExtension("EXT_color_buffer_half_float")),this.extStandardDerivatives=h||c.getExtension("OES_standard_derivatives"),this.extTimerQuery=c.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=c.getParameter(c.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(c,h){return new Xt(this,c,h)}createVertexBuffer(c,h,y){return new _t(this,c,h,y)}createRenderbuffer(c,h,y){const x=this.gl,S=x.createRenderbuffer();return this.bindRenderbuffer.set(S),x.renderbufferStorage(x.RENDERBUFFER,c,h,y),this.bindRenderbuffer.set(null),S}createFramebuffer(c,h,y){return new it(this,c,h,y)}clear({color:c,depth:h,stencil:y}){const x=this.gl;let S=0;c&&(S|=x.COLOR_BUFFER_BIT,this.clearColor.set(c),this.colorMask.set([!0,!0,!0,!0])),h!==void 0&&(S|=x.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(h),this.depthMask.set(!0)),y!==void 0&&(S|=x.STENCIL_BUFFER_BIT,this.clearStencil.set(y),this.stencilMask.set(255)),x.clear(S)}setCullFace(c){c.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(c.mode),this.frontFace.set(c.frontFace))}setDepthMode(c){c.func!==this.gl.ALWAYS||c.mask?(this.depthTest.set(!0),this.depthFunc.set(c.func),this.depthMask.set(c.mask),this.depthRange.set(c.range)):this.depthTest.set(!1)}setStencilMode(c){c.test.func!==this.gl.ALWAYS||c.mask?(this.stencilTest.set(!0),this.stencilMask.set(c.mask),this.stencilOp.set([c.fail,c.depthFail,c.pass]),this.stencilFunc.set({func:c.test.func,ref:c.ref,mask:c.test.mask})):this.stencilTest.set(!1)}setColorMode(c){_(c.blendFunction,i.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(c.blendFunction),this.blendColor.set(c.blendColor)),this.colorMask.set(c.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class Kt extends i.Evented{constructor(c,h,y,x){if(super(),this.id=c,this.dispatcher=y,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,i.extend(this,i.pick(h,["url","scheme","tileSize","promoteId"])),this._options=i.extend({type:"vector"},h),this._collectResourceTiming=h.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(x),this._tileWorkers={},this._deduped=new i.DedupedRequest}load(c){this._loaded=!1,this.fire(new i.Event("dataloading",{dataType:"source"}));const h=Array.isArray(this.map._language)?this.map._language.join():this.map._language,y=this.map._worldview;this._tileJSONRequest=bt(this._options,this.map._requestManager,h,y,(x,S)=>{this._tileJSONRequest=null,this._loaded=!0,x?(h&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${h}`),y&&y.length!==2&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${y}`),this.fire(new i.ErrorEvent(x))):S&&(i.extend(this,S),S.bounds&&(this.tileBounds=new Et(S.bounds,this.minzoom,this.maxzoom)),i.postTurnstileEvent(S.tiles,this.map._requestManager._customAccessToken),this.fire(new i.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new i.Event("data",{dataType:"source",sourceDataType:"content"}))),c&&c(x)})}loaded(){return this._loaded}hasTile(c){return!this.tileBounds||this.tileBounds.contains(c.canonical)}onAdd(c){this.map=c,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>this.map.style._clearSource(this.id))}setTiles(c){return this._options.tiles=c,this.reload(),this}setUrl(c){return this.url=c,this._options.url=c,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return i.extend({},this._options)}loadTile(c,h){const y=this.map._requestManager.normalizeTileURL(c.tileID.canonical.url(this.tiles,this.scheme)),x={request:this.map._requestManager.transformRequest(y,i.ResourceType.Tile),data:void 0,uid:c.uid,tileID:c.tileID,tileZoom:c.tileZoom,zoom:c.tileID.overscaledZ,tileSize:this.tileSize*c.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:i.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:c.isSymbolTile};if(x.request.collectResourceTiming=this._collectResourceTiming,c.actor&&c.state!=="expired")c.state==="loading"?c.reloadCallback=h:c.request=c.actor.send("reloadTile",x,S.bind(this));else if(c.actor=this._tileWorkers[y]=this._tileWorkers[y]||this.dispatcher.getActor(),this.dispatcher.ready)c.request=c.actor.send("loadTile",x,S.bind(this),void 0,!0);else{const I=i.loadVectorTile.call({deduped:this._deduped},x,(D,O)=>{D||!O?S.call(this,D):(x.data={cacheControl:O.cacheControl,expires:O.expires,rawData:O.rawData.slice(0)},c.actor&&c.actor.send("loadTile",x,S.bind(this),void 0,!0))},!0);c.request={cancel:I}}function S(I,D){return delete c.request,c.aborted?h(null):I&&I.status!==404?h(I):(D&&D.resourceTiming&&(c.resourceTiming=D.resourceTiming),this.map._refreshExpiredTiles&&D&&c.setExpiryData(D),c.loadVectorData(D,this.map.painter),i.cacheEntryPossiblyAdded(this.dispatcher),h(null),void(c.reloadCallback&&(this.loadTile(c,c.reloadCallback),c.reloadCallback=null)))}}abortTile(c){c.request&&(c.request.cancel(),delete c.request),c.actor&&c.actor.send("abortTile",{uid:c.uid,type:this.type,source:this.id})}unloadTile(c){c.unloadVectorData(),c.actor&&c.actor.send("removeTile",{uid:c.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}class Ut extends i.Evented{constructor(c,h,y,x){super(),this.id=c,this.dispatcher=y,this.setEventedParent(x),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=i.extend({type:"raster"},h),i.extend(this,i.pick(h,["url","scheme","tileSize"]))}load(c){this._loaded=!1,this.fire(new i.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=bt(this._options,this.map._requestManager,null,null,(h,y)=>{this._tileJSONRequest=null,this._loaded=!0,h?this.fire(new i.ErrorEvent(h)):y&&(i.extend(this,y),y.bounds&&(this.tileBounds=new Et(y.bounds,this.minzoom,this.maxzoom)),i.postTurnstileEvent(y.tiles),this.fire(new i.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new i.Event("data",{dataType:"source",sourceDataType:"content"}))),c&&c(h)})}loaded(){return this._loaded}onAdd(c){this.map=c,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>this.map.style._clearSource(this.id))}setTiles(c){return this._options.tiles=c,this.reload(),this}setUrl(c){return this.url=c,this._options.url=c,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return i.extend({},this._options)}hasTile(c){return!this.tileBounds||this.tileBounds.contains(c.canonical)}loadTile(c,h){const y=i.exported.devicePixelRatio>=2,x=this.map._requestManager.normalizeTileURL(c.tileID.canonical.url(this.tiles,this.scheme),y,this.tileSize);c.request=i.getImage(this.map._requestManager.transformRequest(x,i.ResourceType.Tile),(S,I,D,O)=>(delete c.request,c.aborted?(c.state="unloaded",h(null)):S?(c.state="errored",h(S)):I?(this.map._refreshExpiredTiles&&c.setExpiryData({cacheControl:D,expires:O}),c.setTexture(I,this.map.painter),c.state="loaded",i.cacheEntryPossiblyAdded(this.dispatcher),void h(null)):h(null)))}static loadTileData(c,h,y){c.setTexture(h,y)}static unloadTileData(c,h){c.texture&&h.saveTileTexture(c.texture)}abortTile(c,h){c.request&&(c.request.cancel(),delete c.request),h()}unloadTile(c,h){c.texture&&this.map.painter.saveTileTexture(c.texture),h()}hasTransition(){return!1}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}function Xn(m,c,h,y,x,S,I,D){const O=[m,h,x,c,y,S,1,1,1],Z=[I,D,1],q=i.adjoint([],O),[ne,pe,ye]=i.transformMat3(Z,Z,i.transpose(q,q));return i.multiply$1(O,[ne,0,0,0,pe,0,0,0,ye],O)}class nr extends i.Evented{constructor(c,h,y,x){super(),this.id=c,this.dispatcher=y,this.coordinates=h.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(x),this.options=h,this._dirty=!1}load(c,h){this._loaded=h||!1,this.fire(new i.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._imageRequest=i.getImage(this.map._requestManager.transformRequest(this.url,i.ResourceType.Image),(y,x)=>{if(this._imageRequest=null,this._loaded=!0,y)this.fire(new i.ErrorEvent(y));else if(x){const{HTMLImageElement:S}=i.window;this.image=x instanceof S?i.exported.getImageData(x):x,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,c&&(this.coordinates=c),this._finishLoading()}})}loaded(){return this._loaded}updateImage(c){return this.image&&c.url?(this._imageRequest&&c.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=c.url,this.load(c.coordinates,this._loaded),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new i.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(c){this.map=c,this.load()}onRemove(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),this.texture&&this.texture.destroy()}setCoordinates(c){this.coordinates=c,this._boundsArray=void 0;const h=c.map(i.MercatorCoordinate.fromLngLat);return this.tileID=function(y){let x=1/0,S=1/0,I=-1/0,D=-1/0;for(const ne of y)x=Math.min(x,ne.x),S=Math.min(S,ne.y),I=Math.max(I,ne.x),D=Math.max(D,ne.y);const O=Math.max(I-x,D-S),Z=Math.max(0,Math.floor(-Math.log(O)/Math.LN2)),q=Math.pow(2,Z);return new i.CanonicalTileID(Z,Math.floor((x+I)/2*q),Math.floor((S+D)/2*q))}(h),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new i.Event("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0}_prepareData(c){for(const O in this.tiles){const Z=this.tiles[O];Z.state!=="loaded"&&(Z.state="loaded",Z.texture=this.texture)}if(this._boundsArray)return;const h=i.tileTransform(this.tileID,this.map.transform.projection),[y,x,S,I]=this.coordinates.map(O=>{const Z=h.projection.project(O[0],O[1]);return i.getTilePoint(h,Z)._round()});this.perspectiveTransform=function(O,Z,q,ne,pe,ye,be,ve,Se,re){const ge=Xn(0,0,O,0,0,Z,O,Z),Ie=Xn(q,ne,pe,ye,be,ve,Se,re);return i.multiply$1(Ie,i.adjoint(ge,ge),Ie),[Ie[6]/Ie[8]*O/i.EXTENT,Ie[7]/Ie[8]*Z/i.EXTENT]}(this.width,this.height,y.x,y.y,x.x,x.y,I.x,I.y,S.x,S.y);const D=this._boundsArray=new i.StructArrayLayout4i8;D.emplaceBack(y.x,y.y,0,0),D.emplaceBack(x.x,x.y,i.EXTENT,0),D.emplaceBack(I.x,I.y,0,i.EXTENT),D.emplaceBack(S.x,S.y,i.EXTENT,i.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=c.createVertexBuffer(D,i.boundsAttributes.members),this.boundsSegments=i.SegmentVector.simpleSegment(0,0,4,2)}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const c=this.map.painter.context,h=c.gl;this._dirty&&(this.texture?this.texture.update(this.image):(this.texture=new i.Texture(c,this.image,h.RGBA),this.texture.bind(h.LINEAR,h.CLAMP_TO_EDGE)),this._dirty=!1),this._prepareData(c)}loadTile(c,h){this.tileID&&this.tileID.equals(c.tileID.canonical)?(this.tiles[String(c.tileID.wrap)]=c,c.buckets={},h(null)):(c.state="errored",h(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const Kn={vector:Kt,raster:Ut,"raster-dem":class extends Ut{constructor(m,c,h,y){super(m,c,h,y),this.type="raster-dem",this.maxzoom=22,this._options=i.extend({type:"raster-dem"},c),this.encoding=c.encoding||"mapbox"}loadTile(m,c){const h=this.map._requestManager.normalizeTileURL(m.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function y(x,S){x&&(m.state="errored",c(x)),S&&(m.dem=S,m.dem.onDeserialize(),m.needsHillshadePrepare=!0,m.needsDEMTextureUpload=!0,m.state="loaded",c(null))}m.request=i.getImage(this.map._requestManager.transformRequest(h,i.ResourceType.Tile),function(x,S,I,D){if(delete m.request,m.aborted)m.state="unloaded",c(null);else if(x)m.state="errored",c(x);else if(S){this.map._refreshExpiredTiles&&m.setExpiryData({cacheControl:I,expires:D});const O=i.window.ImageBitmap&&S instanceof i.window.ImageBitmap&&(er==null&&(er=i.window.OffscreenCanvas&&new i.window.OffscreenCanvas(1,1).getContext("2d")&&typeof i.window.createImageBitmap=="function"),er),Z=1-(S.width-i.prevPowerOfTwo(S.width))/2;Z<1||m.neighboringTiles||(m.neighboringTiles=this._getNeighboringTiles(m.tileID));const q=O?S:i.exported.getImageData(S,Z),ne={uid:m.uid,coord:m.tileID,source:this.id,rawImageData:q,encoding:this.encoding,padding:Z};m.actor&&m.state!=="expired"||(m.actor=this.dispatcher.getActor(),m.actor.send("loadDEMTile",ne,y.bind(this),void 0,!0))}}.bind(this))}_getNeighboringTiles(m){const c=m.canonical,h=Math.pow(2,c.z),y=(c.x-1+h)%h,x=c.x===0?m.wrap-1:m.wrap,S=(c.x+1+h)%h,I=c.x+1===h?m.wrap+1:m.wrap,D={};return D[new i.OverscaledTileID(m.overscaledZ,x,c.z,y,c.y).key]={backfilled:!1},D[new i.OverscaledTileID(m.overscaledZ,I,c.z,S,c.y).key]={backfilled:!1},c.y>0&&(D[new i.OverscaledTileID(m.overscaledZ,x,c.z,y,c.y-1).key]={backfilled:!1},D[new i.OverscaledTileID(m.overscaledZ,m.wrap,c.z,c.x,c.y-1).key]={backfilled:!1},D[new i.OverscaledTileID(m.overscaledZ,I,c.z,S,c.y-1).key]={backfilled:!1}),c.y+1<h&&(D[new i.OverscaledTileID(m.overscaledZ,x,c.z,y,c.y+1).key]={backfilled:!1},D[new i.OverscaledTileID(m.overscaledZ,m.wrap,c.z,c.x,c.y+1).key]={backfilled:!1},D[new i.OverscaledTileID(m.overscaledZ,I,c.z,S,c.y+1).key]={backfilled:!1}),D}unloadTile(m){m.demTexture&&this.map.painter.saveTileTexture(m.demTexture),m.fbo&&(m.fbo.destroy(),delete m.fbo),m.dem&&delete m.dem,delete m.neighboringTiles,m.state="unloaded"}},geojson:class extends i.Evented{constructor(m,c,h,y){super(),this.id=m,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=h.getActor(),this.setEventedParent(y),this._data=c.data,this._options=i.extend({},c),this._collectResourceTiming=c.collectResourceTiming,c.maxzoom!==void 0&&(this.maxzoom=c.maxzoom),c.type&&(this.type=c.type),c.attribution&&(this.attribution=c.attribution),this.promoteId=c.promoteId;const x=i.EXTENT/this.tileSize;this.workerOptions=i.extend({source:this.id,cluster:c.cluster||!1,geojsonVtOptions:{buffer:(c.buffer!==void 0?c.buffer:128)*x,tolerance:(c.tolerance!==void 0?c.tolerance:.375)*x,extent:i.EXTENT,maxZoom:this.maxzoom,lineMetrics:c.lineMetrics||!1,generateId:c.generateId||!1},superclusterOptions:{maxZoom:c.clusterMaxZoom!==void 0?c.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,c.clusterMinPoints||2),extent:i.EXTENT,radius:(c.clusterRadius!==void 0?c.clusterRadius:50)*x,log:!1,generateId:c.generateId||!1},clusterProperties:c.clusterProperties,filter:c.filter},c.workerOptions)}onAdd(m){this.map=m,this.setData(this._data)}setData(m){return this._data=m,this._updateWorkerData(),this}getClusterExpansionZoom(m,c){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:m,source:this.id},c),this}getClusterChildren(m,c){return this.actor.send("geojson.getClusterChildren",{clusterId:m,source:this.id},c),this}getClusterLeaves(m,c,h,y){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:m,limit:c,offset:h},y),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new i.Event("dataloading",{dataType:"source"})),this._loaded=!1;const m=i.extend({},this.workerOptions),c=this._data;typeof c=="string"?(m.request=this.map._requestManager.transformRequest(i.exported.resolveURL(c),i.ResourceType.Source),m.request.collectResourceTiming=this._collectResourceTiming):m.data=JSON.stringify(c),this._pendingLoad=this.actor.send(`${this.type}.loadData`,m,(h,y)=>{if(this._loaded=!0,this._pendingLoad=null,h)this.fire(new i.ErrorEvent(h));else{const x={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&y&&y.resourceTiming&&y.resourceTiming[this.id]&&(x.resourceTiming=y.resourceTiming[this.id]),this.fire(new i.Event("data",x)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(m,c){const h=m.actor?"reloadTile":"loadTile";m.actor=this.actor,m.request=this.actor.send(h,{type:this.type,uid:m.uid,tileID:m.tileID,tileZoom:m.tileZoom,zoom:m.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:i.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(y,x)=>(delete m.request,m.unloadVectorData(),m.aborted?c(null):y?c(y):(m.loadVectorData(x,this.map.painter,h==="reloadTile"),c(null))),void 0,h==="loadTile")}abortTile(m){m.request&&(m.request.cancel(),delete m.request),m.aborted=!0}unloadTile(m){m.unloadVectorData(),this.actor.send("removeTile",{uid:m.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return i.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends nr{constructor(m,c,h,y){super(m,c,h,y),this.roundZoom=!0,this.type="video",this.options=c}load(){this._loaded=!1;const m=this.options;this.urls=[];for(const c of m.urls)this.urls.push(this.map._requestManager.transformRequest(c,i.ResourceType.Source).url);i.getVideo(this.urls,(c,h)=>{this._loaded=!0,c?this.fire(new i.ErrorEvent(c)):h&&(this.video=h,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(m){if(this.video){const c=this.video.seekable;m<c.start(0)||m>c.end(0)?this.fire(new i.ErrorEvent(new i.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${c.start(0)} and ${c.end(0)}-second mark.`))):this.video.currentTime=m}}getVideo(){return this.video}onAdd(m){this.map||(this.map=m,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const m=this.map.painter.context,c=m.gl;this.texture?this.video.paused||(this.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE),c.texSubImage2D(c.TEXTURE_2D,0,0,0,c.RGBA,c.UNSIGNED_BYTE,this.video)):(this.texture=new i.Texture(m,this.video,c.RGBA),this.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(m)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:nr,canvas:class extends nr{constructor(m,c,h,y){super(m,c,h,y),c.coordinates?Array.isArray(c.coordinates)&&c.coordinates.length===4&&!c.coordinates.some(x=>!Array.isArray(x)||x.length!==2||x.some(S=>typeof S!="number"))||this.fire(new i.ErrorEvent(new i.ValidationError(`sources.${m}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new i.ErrorEvent(new i.ValidationError(`sources.${m}`,null,'missing required property "coordinates"'))),c.animate&&typeof c.animate!="boolean"&&this.fire(new i.ErrorEvent(new i.ValidationError(`sources.${m}`,null,'optional "animate" property must be a boolean value'))),c.canvas?typeof c.canvas=="string"||c.canvas instanceof i.window.HTMLCanvasElement||this.fire(new i.ErrorEvent(new i.ValidationError(`sources.${m}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new i.ErrorEvent(new i.ValidationError(`sources.${m}`,null,'missing required property "canvas"'))),this.options=c,this.animate=c.animate===void 0||c.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof i.window.HTMLCanvasElement?this.options.canvas:i.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new i.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(m){this.map=m,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let m=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,m=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,m=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const c=this.map.painter.context;this.texture?(m||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new i.Texture(c,this.canvas,c.gl.RGBA,{premultiply:!0}),this._prepareData(c)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const m of[this.canvas.width,this.canvas.height])if(isNaN(m)||m<=0)return!0;return!1}},custom:class extends i.Evented{constructor(m,c,h,y){super(),this.id=m,this.type="custom",this._dataType="raster",this._dispatcher=h,this._implementation=c,this.setEventedParent(y),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new i.ErrorEvent(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new i.ErrorEvent(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new Et(this._implementation.bounds,this.minzoom,this.maxzoom)),c.update=this._update.bind(this),c.clearTiles=this._clearTiles.bind(this),c.coveringTiles=this._coveringTiles.bind(this),i.extend(this,i.pick(c,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return i.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new i.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new i.Event("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(m){this._map=m,this._loaded=!1,this.fire(new i.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(m),this.load()}onRemove(m){this._implementation.onRemove&&this._implementation.onRemove(m)}hasTile(m){if(this._implementation.hasTile){const{x:c,y:h,z:y}=m.canonical;return this._implementation.hasTile({x:c,y:h,z:y})}return!this.tileBounds||this.tileBounds.contains(m.canonical)}loadTile(m,c){const{x:h,y,z:x}=m.tileID.canonical,S=new i.window.AbortController;m.request=Promise.resolve(this._implementation.loadTile({x:h,y,z:x},{signal:S.signal})).then(function(I){return delete m.request,m.aborted?(m.state="unloaded",c(null)):I===void 0?(m.state="errored",c(null)):I===null?(this.loadTileData(m,{width:this.tileSize,height:this.tileSize,data:null}),m.state="loaded",c(null)):function(D){return D instanceof i.window.ImageData||D instanceof i.window.HTMLCanvasElement||D instanceof i.window.ImageBitmap||D instanceof i.window.HTMLImageElement}(I)?(this.loadTileData(m,I),m.state="loaded",void c(null)):(m.state="errored",c(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}.bind(this)).catch(I=>{I.code!==20&&(m.state="errored",c(I))}),m.request.cancel=()=>S.abort()}loadTileData(m,c){Ut.loadTileData(m,c,this._map.painter)}unloadTileData(m){Ut.unloadTileData(m,this._map.painter)}unloadTile(m,c){if(this.unloadTileData(m),this._implementation.unloadTile){const{x:h,y,z:x}=m.tileID.canonical;this._implementation.unloadTile({x:h,y,z:x})}c()}abortTile(m,c){m.request&&m.request.cancel&&(m.request.cancel(),delete m.request),c()}hasTransition(){return!1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(m=>({x:m.canonical.x,y:m.canonical.y,z:m.canonical.z}))}_clearTiles(){this._map.style._clearSource(this.id)}_update(){this.fire(new i.Event("data",{dataType:"source",sourceDataType:"content"}))}}},rr=function(m,c,h,y){const x=new Kn[c.type](m,c,h,y);if(x.id!==m)throw new Error(`Expected Source id to be ${m} instead of ${x.id}`);return i.bindAll(["load","abort","unload","serialize","prepare"],x),x};function pr(m,c){const h=i.identity([]);return i.scale(h,h,[.5*m.width,.5*-m.height,1]),i.translate(h,h,[1,-1,0]),i.multiply(h,h,m.calculateProjMatrix(c.toUnwrapped())),Float32Array.from(h)}function Br(m,c,h,y,x,S,I,D=!1){const O=m.tilesIn(y,I,D);O.sort(wi);const Z=[];for(const ne of O)Z.push({wrappedTileID:ne.tile.tileID.wrapped().key,queryResults:ne.tile.queryRenderedFeatures(c,h,m._state,ne,x,S,pr(m.transform,ne.tile.tileID),D)});const q=function(ne){const pe={},ye={};for(const be of ne){const ve=be.queryResults,Se=be.wrappedTileID,re=ye[Se]=ye[Se]||{};for(const ge in ve){const Ie=ve[ge],Ae=re[ge]=re[ge]||{},We=pe[ge]=pe[ge]||[];for(const Ge of Ie)Ae[Ge.featureIndex]||(Ae[Ge.featureIndex]=!0,We.push(Ge))}}return pe}(Z);for(const ne in q)q[ne].forEach(pe=>{const ye=pe.feature,be=ye.layer;be&&be.type!=="background"&&be.type!=="sky"&&(ye.source=be.source,be["source-layer"]&&(ye.sourceLayer=be["source-layer"]),ye.state=ye.id!==void 0?m.getFeatureState(be["source-layer"],ye.id):{})});return q}function jr(m,c){const h=m.getRenderableIds().map(S=>m.getTileByID(S)),y=[],x={};for(let S=0;S<h.length;S++){const I=h[S],D=I.tileID.canonical.key;x[D]||(x[D]=!0,I.querySourceFeatures(y,c))}return y}function wi(m,c){const h=m.tileID,y=c.tileID;return h.overscaledZ-y.overscaledZ||h.canonical.y-y.canonical.y||h.wrap-y.wrap||h.canonical.x-y.canonical.x}function ut(){return Fu.workerClass!=null?new Fu.workerClass:new i.window.Worker(Fu.workerUrl)}const xt="mapboxgl_preloaded_worker_pool";class _n{constructor(){this.active={}}acquire(c){if(!this.workers)for(this.workers=[];this.workers.length<_n.workerCount;)this.workers.push(new ut);return this.active[c]=!0,this.workers.slice()}release(c){delete this.active[c],this.numActive()===0&&(this.workers.forEach(h=>{h.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[xt]}numActive(){return Object.keys(this.active).length}}let Rn;function Mr(){return Rn||(Rn=new _n),Rn}function zi(m,c){const h={};for(const y in m)y!=="ref"&&(h[y]=m[y]);return i.refProperties.forEach(y=>{y in c&&(h[y]=c[y])}),h}function _i(m){m=m.slice();const c=Object.create(null);for(let h=0;h<m.length;h++)c[m[h].id]=m[h];for(let h=0;h<m.length;h++)"ref"in m[h]&&(m[h]=zi(m[h],c[m[h].ref]));return m}_n.workerCount=2;const ir={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function dl(m,c,h){h.push({command:ir.addSource,args:[m,c[m]]})}function zc(m,c,h){c.push({command:ir.removeSource,args:[m]}),h[m]=!0}function hl(m,c,h,y){zc(m,h,y),dl(m,c,h)}function Lc(m,c,h){let y;for(y in m[h])if(m[h].hasOwnProperty(y)&&y!=="data"&&!_(m[h][y],c[h][y]))return!1;for(y in c[h])if(c[h].hasOwnProperty(y)&&y!=="data"&&!_(m[h][y],c[h][y]))return!1;return!0}function ws(m,c,h,y,x,S){let I;for(I in c=c||{},m=m||{})m.hasOwnProperty(I)&&(_(m[I],c[I])||h.push({command:S,args:[y,I,c[I],x]}));for(I in c)c.hasOwnProperty(I)&&!m.hasOwnProperty(I)&&(_(m[I],c[I])||h.push({command:S,args:[y,I,c[I],x]}))}function zs(m){return m.id}function Cu(m,c){return m[c.id]=c,m}class Md{constructor(c,h){this.reset(c,h)}reset(c,h){this.points=c||[],this._distances=[0];for(let y=1;y<this.points.length;y++)this._distances[y]=this._distances[y-1]+this.points[y].dist(this.points[y-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(h||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(c){if(this.points.length===1)return this.points[0];c=i.clamp(c,0,1);let h=1,y=this._distances[h];const x=c*this.paddedLength+this.padding;for(;y<x&&h<this._distances.length;)y=this._distances[++h];const S=h-1,I=this._distances[S],D=y-I,O=D>0?(x-I)/D:0;return this.points[S].mult(1-O).add(this.points[h].mult(O))}}class ia{constructor(c,h,y){const x=this.boxCells=[],S=this.circleCells=[];this.xCellCount=Math.ceil(c/y),this.yCellCount=Math.ceil(h/y);for(let I=0;I<this.xCellCount*this.yCellCount;I++)x.push([]),S.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=c,this.height=h,this.xScale=this.xCellCount/c,this.yScale=this.yCellCount/h,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(c,h,y,x,S){this._forEachCell(h,y,x,S,this._insertBoxCell,this.boxUid++),this.boxKeys.push(c),this.bboxes.push(h),this.bboxes.push(y),this.bboxes.push(x),this.bboxes.push(S)}insertCircle(c,h,y,x){this._forEachCell(h-x,y-x,h+x,y+x,this._insertCircleCell,this.circleUid++),this.circleKeys.push(c),this.circles.push(h),this.circles.push(y),this.circles.push(x)}_insertBoxCell(c,h,y,x,S,I){this.boxCells[S].push(I)}_insertCircleCell(c,h,y,x,S,I){this.circleCells[S].push(I)}_query(c,h,y,x,S,I){if(y<0||c>this.width||x<0||h>this.height)return!S&&[];const D=[];if(c<=0&&h<=0&&this.width<=y&&this.height<=x){if(S)return!0;for(let O=0;O<this.boxKeys.length;O++)D.push({key:this.boxKeys[O],x1:this.bboxes[4*O],y1:this.bboxes[4*O+1],x2:this.bboxes[4*O+2],y2:this.bboxes[4*O+3]});for(let O=0;O<this.circleKeys.length;O++){const Z=this.circles[3*O],q=this.circles[3*O+1],ne=this.circles[3*O+2];D.push({key:this.circleKeys[O],x1:Z-ne,y1:q-ne,x2:Z+ne,y2:q+ne})}return I?D.filter(I):D}return this._forEachCell(c,h,y,x,this._queryCell,D,{hitTest:S,seenUids:{box:{},circle:{}}},I),S?D.length>0:D}_queryCircle(c,h,y,x,S){const I=c-y,D=c+y,O=h-y,Z=h+y;if(D<0||I>this.width||Z<0||O>this.height)return!x&&[];const q=[];return this._forEachCell(I,O,D,Z,this._queryCellCircle,q,{hitTest:x,circle:{x:c,y:h,radius:y},seenUids:{box:{},circle:{}}},S),x?q.length>0:q}query(c,h,y,x,S){return this._query(c,h,y,x,!1,S)}hitTest(c,h,y,x,S){return this._query(c,h,y,x,!0,S)}hitTestCircle(c,h,y,x){return this._queryCircle(c,h,y,!0,x)}_queryCell(c,h,y,x,S,I,D,O){const Z=D.seenUids,q=this.boxCells[S];if(q!==null){const pe=this.bboxes;for(const ye of q)if(!Z.box[ye]){Z.box[ye]=!0;const be=4*ye;if(c<=pe[be+2]&&h<=pe[be+3]&&y>=pe[be+0]&&x>=pe[be+1]&&(!O||O(this.boxKeys[ye]))){if(D.hitTest)return I.push(!0),!0;I.push({key:this.boxKeys[ye],x1:pe[be],y1:pe[be+1],x2:pe[be+2],y2:pe[be+3]})}}}const ne=this.circleCells[S];if(ne!==null){const pe=this.circles;for(const ye of ne)if(!Z.circle[ye]){Z.circle[ye]=!0;const be=3*ye;if(this._circleAndRectCollide(pe[be],pe[be+1],pe[be+2],c,h,y,x)&&(!O||O(this.circleKeys[ye]))){if(D.hitTest)return I.push(!0),!0;{const ve=pe[be],Se=pe[be+1],re=pe[be+2];I.push({key:this.circleKeys[ye],x1:ve-re,y1:Se-re,x2:ve+re,y2:Se+re})}}}}}_queryCellCircle(c,h,y,x,S,I,D,O){const Z=D.circle,q=D.seenUids,ne=this.boxCells[S];if(ne!==null){const ye=this.bboxes;for(const be of ne)if(!q.box[be]){q.box[be]=!0;const ve=4*be;if(this._circleAndRectCollide(Z.x,Z.y,Z.radius,ye[ve+0],ye[ve+1],ye[ve+2],ye[ve+3])&&(!O||O(this.boxKeys[be])))return I.push(!0),!0}}const pe=this.circleCells[S];if(pe!==null){const ye=this.circles;for(const be of pe)if(!q.circle[be]){q.circle[be]=!0;const ve=3*be;if(this._circlesCollide(ye[ve],ye[ve+1],ye[ve+2],Z.x,Z.y,Z.radius)&&(!O||O(this.circleKeys[be])))return I.push(!0),!0}}}_forEachCell(c,h,y,x,S,I,D,O){const Z=this._convertToXCellCoord(c),q=this._convertToYCellCoord(h),ne=this._convertToXCellCoord(y),pe=this._convertToYCellCoord(x);for(let ye=Z;ye<=ne;ye++)for(let be=q;be<=pe;be++)if(S.call(this,c,h,y,x,this.xCellCount*be+ye,I,D,O))return}_convertToXCellCoord(c){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(c*this.xScale)))}_convertToYCellCoord(c){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(c*this.yScale)))}_circlesCollide(c,h,y,x,S,I){const D=x-c,O=S-h,Z=y+I;return Z*Z>D*D+O*O}_circleAndRectCollide(c,h,y,x,S,I,D){const O=(I-x)/2,Z=Math.abs(c-(x+O));if(Z>O+y)return!1;const q=(D-S)/2,ne=Math.abs(h-(S+q));if(ne>q+y)return!1;if(Z<=O||ne<=q)return!0;const pe=Z-O,ye=ne-q;return pe*pe+ye*ye<=y*y}}const oa={unknown:0,flipRequired:1,flipNotRequired:2},Oc=Math.tan(85*Math.PI/180);function Pt(m,c,h,y,x,S,I){const D=i.create();if(h)if(S.name==="globe"){const O=i.calculateGlobeLabelMatrix(x,c);i.multiply(D,D,O)}else{const O=ce([],I);D[0]=O[0],D[1]=O[1],D[4]=O[2],D[5]=O[3],y||i.rotateZ(D,D,x.angle)}else i.multiply(D,x.labelPlaneMatrix,m);return D}function Ls(m,c,h,y,x,S,I){const D=Pt(m,c,h,y,x,S,I);return S.name==="globe"&&h||(D[2]=D[6]=D[10]=D[14]=0),D}function Si(m,c,h,y,x,S,I){if(h){if(S.name==="globe"){const D=Pt(m,c,h,y,x,S,I);return i.invert(D,D),i.multiply(D,m,D),D}{const D=i.clone(m),O=i.identity([]);return O[0]=I[0],O[1]=I[1],O[4]=I[2],O[5]=I[3],i.multiply(D,D,O),y||i.rotateZ(D,D,-x.angle),D}}return x.glCoordMatrix}function Ui(m,c,h,y){const x=[m,c,h,1];h?i.transformMat4$1(x,x,y):_r(x,x,y);const S=x[3];return x[0]/=S,x[1]/=S,x[2]/=S,x}function So(m,c){return Math.min(.5+m/c*.5,1.5)}function To(m,c){const h=m[0]/m[3],y=m[1]/m[3];return h>=-c[0]&&h<=c[0]&&y>=-c[1]&&y<=c[1]}function Vl(m,c,h,y,x,S,I,D,O,Z){const q=h.transform,ne=y?m.textSizeData:m.iconSizeData,pe=i.evaluateSizeForZoom(ne,h.transform.zoom),ye=q.projection.name==="globe",be=[256/h.width*2+1,256/h.height*2+1],ve=y?m.text.dynamicLayoutVertexArray:m.icon.dynamicLayoutVertexArray;ve.clear();let Se=null;ye&&(Se=y?m.text.globeExtVertexArray:m.icon.globeExtVertexArray);const re=m.lineVertexArray,ge=y?m.text.placedSymbolArray:m.icon.placedSymbolArray,Ie=h.transform.width/h.transform.height;let Ae,We=!1;for(let Ge=0;Ge<ge.length;Ge++){const He=ge.get(Ge),{numGlyphs:tt,writingMode:Je}=He;if(Je!==i.WritingMode.vertical||We||Ae===i.WritingMode.horizontal||(We=!0),Ae=Je,(He.hidden||Je===i.WritingMode.vertical)&&!We){Ss(tt,ve);continue}We=!1;const dt=new i.Point(He.tileAnchorX,He.tileAnchorY);let{x:qt,y:ot,z:zt}=q.projection.projectTilePoint(dt.x,dt.y,Z.canonical);if(O){const[tr,kn,Gn]=O(dt);qt+=tr,ot+=kn,zt+=Gn}const gt=[qt,ot,zt,1];if(i.transformMat4$1(gt,gt,c),!To(gt,be)){Ss(tt,ve);continue}const Gt=So(h.transform.cameraToCenterDistance,gt[3]),lt=i.evaluateSizeForFeature(ne,pe,He),Rt=I?lt/Gt:lt*Gt,Yt=Ui(qt,ot,zt,x);if(Yt[3]<=0){Ss(tt,ve);continue}let Vt={};const Jt=I?null:O,On=pn(He,Rt,!1,D,c,x,S,m.glyphOffsetArray,re,ve,Se,Yt,dt,Vt,Ie,Jt,q.projection,Z,I);We=On.useVertical,Jt&&On.needsFlipping&&(Vt={}),(On.notEnoughRoom||We||On.needsFlipping&&pn(He,Rt,!0,D,c,x,S,m.glyphOffsetArray,re,ve,Se,Yt,dt,Vt,Ie,Jt,q.projection,Z,I).notEnoughRoom)&&Ss(tt,ve)}y?(m.text.dynamicLayoutVertexBuffer.updateData(ve),Se&&m.text.globeExtVertexBuffer.updateData(Se)):(m.icon.dynamicLayoutVertexBuffer.updateData(ve),Se&&m.icon.globeExtVertexBuffer.updateData(Se))}function Yh(m,c,h,y,x,S,I,D,O,Z,q,ne,pe,ye,be,ve){const{lineStartIndex:Se,glyphStartIndex:re,segment:ge}=D,Ie=re+D.numGlyphs,Ae=Se+D.lineLength,We=c.getoffsetX(re),Ge=c.getoffsetX(Ie-1),He=zo(m*We,h,y,x,S,I,ge,Se,Ae,O,Z,q,ne,pe,!0,ye,be,ve);if(!He)return null;const tt=zo(m*Ge,h,y,x,S,I,ge,Se,Ae,O,Z,q,ne,pe,!0,ye,be,ve);return tt?{first:He,last:tt}:null}function Ul(m,c,h,y){return m===i.WritingMode.horizontal&&Math.abs(y)>Math.abs(h)?{useVertical:!0}:m===i.WritingMode.vertical?y>0?{needsFlipping:!0}:null:c!==oa.unknown&&function(x,S){return x===0||Math.abs(S/x)>Oc}(h,y)?c===oa.flipRequired?{needsFlipping:!0}:null:h<0?{needsFlipping:!0}:null}function pn(m,c,h,y,x,S,I,D,O,Z,q,ne,pe,ye,be,ve,Se,re,ge){const Ie=c/24,Ae=m.lineOffsetX*Ie,We=m.lineOffsetY*Ie,{lineStartIndex:Ge,glyphStartIndex:He,numGlyphs:tt,segment:Je,writingMode:dt,flipState:qt}=m,ot=Ge+m.lineLength,zt=gt=>{if(q){const[Yt,Vt,Jt]=gt.up,On=Z.length;i.updateGlobeVertexNormal(q,On+0,Yt,Vt,Jt),i.updateGlobeVertexNormal(q,On+1,Yt,Vt,Jt),i.updateGlobeVertexNormal(q,On+2,Yt,Vt,Jt),i.updateGlobeVertexNormal(q,On+3,Yt,Vt,Jt)}const[Gt,lt,Rt]=gt.point;i.addDynamicAttributes(Z,Gt,lt,Rt,gt.angle)};if(tt>1){const gt=Yh(Ie,D,Ae,We,h,ne,pe,m,O,S,ye,ve,!1,Se,re,ge);if(!gt)return{notEnoughRoom:!0};if(y&&!h){let[Gt,lt,Rt]=gt.first.point,[Yt,Vt,Jt]=gt.last.point;[Gt,lt]=Ui(Gt,lt,Rt,I),[Yt,Vt]=Ui(Yt,Vt,Jt,I);const On=Ul(dt,qt,(Yt-Gt)*be,Vt-lt);if(m.flipState=On&&On.needsFlipping?oa.flipRequired:oa.flipNotRequired,On)return On}zt(gt.first);for(let Gt=He+1;Gt<He+tt-1;Gt++){const lt=zo(Ie*D.getoffsetX(Gt),Ae,We,h,ne,pe,Je,Ge,ot,O,S,ye,ve,!1,!1,Se,re,ge);if(!lt)return Z.length-=4*(Gt-He),{notEnoughRoom:!0};zt(lt)}zt(gt.last)}else{if(y&&!h){const Gt=Ui(pe.x,pe.y,0,x),lt=Ge+Je+1,Rt=new i.Point(O.getx(lt),O.gety(lt)),Yt=Ui(Rt.x,Rt.y,0,x),Vt=Yt[3]>0?Yt:fr(pe,Rt,Gt,1,x,void 0,Se,re.canonical),Jt=Ul(dt,qt,(Vt[0]-Gt[0])*be,Vt[1]-Gt[1]);if(m.flipState=Jt&&Jt.needsFlipping?oa.flipRequired:oa.flipNotRequired,Jt)return Jt}const gt=zo(Ie*D.getoffsetX(He),Ae,We,h,ne,pe,Je,Ge,ot,O,S,ye,ve,!1,!1,Se,re,ge);if(!gt)return{notEnoughRoom:!0};zt(gt)}return{}}function xr(m,c,h,y,x){const{x:S,y:I,z:D}=y.projectTilePoint(m.x,m.y,c);if(!x)return Ui(S,I,D,h);const[O,Z,q]=x(m);return Ui(S+O,I+Z,D+q,h)}function fr(m,c,h,y,x,S,I,D){const O=xr(m.sub(c)._unit()._add(m),D,x,I,S);return i.sub(O,h,O),i.normalize(O,O),i.scaleAndAdd(O,h,O,y)}function zo(m,c,h,y,x,S,I,D,O,Z,q,ne,pe,ye,be,ve,Se,re){const ge=y?m-c:m+c;let Ie=ge>0?1:-1,Ae=0;y&&(Ie*=-1,Ae=Math.PI),Ie<0&&(Ae+=Math.PI);let We=D+I+(Ie>0?0:1)|0,Ge=x,He=x,tt=0,Je=0;const dt=Math.abs(ge),qt=[],ot=[];let zt=S,gt=zt;const Gt=()=>fr(gt,zt,He,dt-tt+1,q,pe,ve,Se.canonical);for(;tt+Je<=dt;){if(We+=Ie,We<D||We>=O)return null;if(He=Ge,gt=zt,qt.push(He),ye&&ot.push(gt),zt=new i.Point(Z.getx(We),Z.gety(We)),Ge=ne[We],!Ge){const Gn=xr(zt,Se.canonical,q,ve,pe);Ge=Gn[3]>0?ne[We]=Gn:Gt()}tt+=Je,Je=i.distance(He,Ge)}be&&pe&&(ne[We]&&(Ge=Gt(),Je=i.distance(He,Ge)),ne[We]=Ge);const lt=(dt-tt)/Je,Rt=zt.sub(gt)._mult(lt)._add(gt),Yt=i.sub([],Ge,He),Vt=i.scaleAndAdd([],He,Yt,lt);let Jt=[0,0,1],On=Yt[0],tr=Yt[1];if(re&&(Jt=ve.upVector(Se.canonical,Rt.x,Rt.y),Jt[0]!==0||Jt[1]!==0||Jt[2]!==1)){const Gn=[Jt[2],0,-Jt[0]],Sr=i.cross([],Jt,Gn);i.normalize(Gn,Gn),i.normalize(Sr,Sr),On=i.dot(Yt,Gn),tr=i.dot(Yt,Sr)}if(h){const Gn=i.cross([],Jt,Yt);i.normalize(Gn,Gn),i.scaleAndAdd(Vt,Vt,Gn,h*Ie)}const kn=Ae+Math.atan2(tr,On);return qt.push(Vt),ye&&ot.push(Rt),{point:Vt,angle:kn,path:qt,tilePath:ot,up:Jt}}function Ss(m,c){const h=c.length,y=h+4*m;c.resize(y),c.float32.fill(-1/0,4*h,4*y)}function _r(m,c,h){const y=c[0],x=c[1];return m[0]=h[0]*y+h[4]*x+h[12],m[1]=h[1]*y+h[5]*x+h[13],m[3]=h[3]*y+h[7]*x+h[15],m}const Ti=100;class Wl{constructor(c,h,y=new ia(c.width+200,c.height+200,25),x=new ia(c.width+200,c.height+200,25)){this.transform=c,this.grid=y,this.ignoredGrid=x,this.pitchfactor=Math.cos(c._pitch)*c.cameraToCenterDistance,this.screenRightBoundary=c.width+Ti,this.screenBottomBoundary=c.height+Ti,this.gridRightBoundary=c.width+200,this.gridBottomBoundary=c.height+200,this.fogState=h}placeCollisionBox(c,h,y,x,S,I,D,O){let Z=y.projectedAnchorX,q=y.projectedAnchorY,ne=y.projectedAnchorZ;const pe=y.elevation,ye=y.tileID,be=c.getProjection();if(pe&&ye){const[Ge,He,tt]=be.upVector(ye.canonical,y.tileAnchorX,y.tileAnchorY),Je=be.upVectorScale(ye.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;Z+=Ge*pe*Je,q+=He*pe*Je,ne+=tt*pe*Je}const ve=this.projectAndGetPerspectiveRatio(D,Z,q,ne,y.tileID,be.name==="globe"||!!pe||this.transform.pitch>0,be),Se=I*ve.perspectiveRatio,re=(y.x1*h+x.x-y.padding)*Se+ve.point.x,ge=(y.y1*h+x.y-y.padding)*Se+ve.point.y,Ie=(y.x2*h+x.x+y.padding)*Se+ve.point.x,Ae=(y.y2*h+x.y+y.padding)*Se+ve.point.y,We=ve.perspectiveRatio<=.55||ve.occluded;return!this.isInsideGrid(re,ge,Ie,Ae)||!S&&this.grid.hitTest(re,ge,Ie,Ae,O)||We?{box:[],offscreen:!1,occluded:ve.occluded}:{box:[re,ge,Ie,Ae],offscreen:this.isOffscreen(re,ge,Ie,Ae),occluded:!1}}placeCollisionCircles(c,h,y,x,S,I,D,O,Z,q,ne,pe,ye,be,ve){const Se=[],re=this.transform.elevation,ge=c.getProjection(),Ie=re?re.getAtTileOffsetFunc(ve,this.transform.center.lat,this.transform.worldSize,ge):null,Ae=new i.Point(y.tileAnchorX,y.tileAnchorY);let{x:We,y:Ge,z:He}=ge.projectTilePoint(Ae.x,Ae.y,ve.canonical);if(Ie){const[Rt,Yt,Vt]=Ie(Ae);We+=Rt,Ge+=Yt,He+=Vt}const tt=ge.name==="globe",Je=this.projectAndGetPerspectiveRatio(D,We,Ge,He,ve,tt||!!re||this.transform.pitch>0,ge),{perspectiveRatio:dt}=Je,qt=(ne?I/dt:I*dt)/i.ONE_EM,ot=Ui(We,Ge,He,O),zt=Je.signedDistanceFromCamera>0?Yh(qt,S,y.lineOffsetX*qt,y.lineOffsetY*qt,!1,ot,Ae,y,x,O,{},re&&!ne?Ie:null,ne&&!!re,ge,ve,ne):null;let gt=!1,Gt=!1,lt=!0;if(zt&&!Je.occluded){const Rt=.5*ye*dt+be,Yt=new i.Point(-100,-100),Vt=new i.Point(this.screenRightBoundary,this.screenBottomBoundary),Jt=new Md,{first:On,last:tr}=zt,kn=On.path.length;let Gn=[];for(let Ln=kn-1;Ln>=1;Ln--)Gn.push(On.path[Ln]);for(let Ln=1;Ln<tr.path.length;Ln++)Gn.push(tr.path[Ln]);const Sr=2.5*Rt;Z&&(Gn=Gn.map(([Ln,Nr,Gr],qr)=>(Ie&&!tt&&(Gr=Ie(qr<kn-1?On.tilePath[kn-1-qr]:tr.tilePath[qr-kn+2])[2]),Ui(Ln,Nr,Gr,Z))),Gn.some(Ln=>Ln[3]<=0)&&(Gn=[]));let br=[];if(Gn.length>0){let Ln=1/0,Nr=-1/0,Gr=1/0,qr=-1/0;for(const Zr of Gn)Ln=Math.min(Ln,Zr[0]),Gr=Math.min(Gr,Zr[1]),Nr=Math.max(Nr,Zr[0]),qr=Math.max(qr,Zr[1]);Nr>=Yt.x&&Ln<=Vt.x&&qr>=Yt.y&&Gr<=Vt.y&&(br=[Gn.map(Zr=>new i.Point(Zr[0],Zr[1]))],(Ln<Yt.x||Nr>Vt.x||Gr<Yt.y||qr>Vt.y)&&(br=i.clipLine(br,Yt.x,Yt.y,Vt.x,Vt.y)))}for(const Ln of br){Jt.reset(Ln,.25*Rt);let Nr=0;Nr=Jt.length<=.5*Rt?1:Math.ceil(Jt.paddedLength/Sr)+1;for(let Gr=0;Gr<Nr;Gr++){const qr=Gr/Math.max(Nr-1,1),Zr=Jt.lerp(qr),jo=Zr.x+Ti,mo=Zr.y+Ti;Se.push(jo,mo,Rt,0);const $s=jo-Rt,Fa=mo-Rt,xi=jo+Rt,Xr=mo+Rt;if(lt=lt&&this.isOffscreen($s,Fa,xi,Xr),Gt=Gt||this.isInsideGrid($s,Fa,xi,Xr),!h&&this.grid.hitTestCircle(jo,mo,Rt,pe)&&(gt=!0,!q))return{circles:[],offscreen:!1,collisionDetected:gt,occluded:!1}}}}return{circles:!q&&gt||!Gt?[]:Se,offscreen:lt,collisionDetected:gt,occluded:Je.occluded}}queryRenderedSymbols(c){if(c.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const h=[];let y=1/0,x=1/0,S=-1/0,I=-1/0;for(const q of c){const ne=new i.Point(q.x+Ti,q.y+Ti);y=Math.min(y,ne.x),x=Math.min(x,ne.y),S=Math.max(S,ne.x),I=Math.max(I,ne.y),h.push(ne)}const D=this.grid.query(y,x,S,I).concat(this.ignoredGrid.query(y,x,S,I)),O={},Z={};for(const q of D){const ne=q.key;if(O[ne.bucketInstanceId]===void 0&&(O[ne.bucketInstanceId]={}),O[ne.bucketInstanceId][ne.featureIndex])continue;const pe=[new i.Point(q.x1,q.y1),new i.Point(q.x2,q.y1),new i.Point(q.x2,q.y2),new i.Point(q.x1,q.y2)];i.polygonIntersectsPolygon(h,pe)&&(O[ne.bucketInstanceId][ne.featureIndex]=!0,Z[ne.bucketInstanceId]===void 0&&(Z[ne.bucketInstanceId]=[]),Z[ne.bucketInstanceId].push(ne.featureIndex))}return Z}insertCollisionBox(c,h,y,x,S){(h?this.ignoredGrid:this.grid).insert({bucketInstanceId:y,featureIndex:x,collisionGroupID:S},c[0],c[1],c[2],c[3])}insertCollisionCircles(c,h,y,x,S){const I=h?this.ignoredGrid:this.grid,D={bucketInstanceId:y,featureIndex:x,collisionGroupID:S};for(let O=0;O<c.length;O+=4)I.insertCircle(D,c[O],c[O+1],c[O+2])}projectAndGetPerspectiveRatio(c,h,y,x,S,I,D){const O=[h,y,x,1];let Z=!1;x||this.transform.pitch>0?(i.transformMat4$1(O,O,c),this.fogState&&S&&D.name!=="globe"&&(Z=function(pe,ye,be,ve,Se,re){const ge=re.calculateFogTileMatrix(Se),Ie=[ye,be,ve];return i.transformMat4(Ie,Ie,ge),je(pe,Ie,re.pitch,re._fov)}(this.fogState,h,y,x,S.toUnwrapped(),this.transform)>.9)):_r(O,O,c);const q=O[3];return{point:new i.Point((O[0]/q+1)/2*this.transform.width+Ti,(-O[1]/q+1)/2*this.transform.height+Ti),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(D)/q*.5,1.5),signedDistanceFromCamera:q,occluded:I&&O[2]>q||Z}}isOffscreen(c,h,y,x){return y<Ti||c>=this.screenRightBoundary||x<Ti||h>this.screenBottomBoundary}isInsideGrid(c,h,y,x){return y>=0&&c<this.gridRightBoundary&&x>=0&&h<this.gridBottomBoundary}getViewportMatrix(){const c=i.identity([]);return i.translate(c,c,[-100,-100,0]),c}}function Ts(m,c,h){const y=c.createTileMatrix(m,m.worldSize,h.toUnwrapped());return i.multiply(new Float32Array(16),m.projMatrix,y)}function rs(m,c,h){if(c.projection.name===h.projection.name)return m.projMatrix;const y=h.clone();return y.setProjection(c.projection),Ts(y,c.getProjection(),m)}function ci(m,c,h){return c.name===h.projection.name?m.projMatrix:Ts(h,c,m)}class Ra{constructor(c,h,y,x){this.opacity=c?Math.max(0,Math.min(1,c.opacity+(c.placed?h:-h))):x&&y?1:0,this.placed=y}isHidden(){return this.opacity===0&&!this.placed}}class Co{constructor(c,h,y,x,S,I=!1){this.text=new Ra(c?c.text:null,h,y,S),this.icon=new Ra(c?c.icon:null,h,x,S),this.clipped=I}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class pl{constructor(c,h,y,x=!1){this.text=c,this.icon=h,this.skipFade=y,this.clipped=x}}class Fc{constructor(){this.invProjMatrix=i.create(),this.viewportMatrix=i.create(),this.circles=[]}}class fl{constructor(c,h,y,x,S){this.bucketInstanceId=c,this.featureIndex=h,this.sourceLayerIndex=y,this.bucketIndex=x,this.tileID=S}}class Id{constructor(c){this.crossSourceCollisions=c,this.maxGroupID=0,this.collisionGroups={}}get(c){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[c]){const h=++this.maxGroupID;this.collisionGroups[c]={ID:h,predicate:y=>y.collisionGroupID===h}}return this.collisionGroups[c]}}function ml(m,c,h,y,x){const{horizontalAlign:S,verticalAlign:I}=i.getAnchorAlignment(m),D=-(S-.5)*c,O=-(I-.5)*h,Z=i.evaluateVariableOffset(m,y);return new i.Point(D+Z[0]*x,O+Z[1]*x)}function Hl(m,c,h,y,x){const S=new i.Point(m,c);return h&&S._rotate(y?x:-x),S}class Bc{constructor(c,h,y,x,S){this.transform=c.clone(),this.projection=c.projection.name,this.collisionIndex=new Wl(this.transform,S),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=h,this.retainedQueryData={},this.collisionGroups=new Id(y),this.collisionCircleArrays={},this.prevPlacement=x,x&&(x.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(c,h,y,x){const S=y.getBucket(h),I=y.latestFeatureIndex;if(!S||!I||h.id!==S.layerIds[0])return;const D=S.layers[0].layout,O=y.collisionBoxArray,Z=Math.pow(2,this.transform.zoom-y.tileID.overscaledZ),q=y.tileSize/i.EXTENT,ne=y.tileID.toUnwrapped();this.transform.setProjection(S.projection);const pe=(ye=y.tileID,be=S.getProjection(),ve=this.transform,be.name===this.projection?ve.calculateProjMatrix(ye.toUnwrapped()):Ts(ve,be,ye));var ye,be,ve;const Se=D.get("text-pitch-alignment")==="map",re=D.get("text-rotation-alignment")==="map";h.compileFilter();const ge=h.dynamicFilter(),Ie=h.dynamicFilterNeedsFeature(),Ae=this.transform.calculatePixelsToTileUnitsMatrix(y),We=Ls(pe,y.tileID.canonical,Se,re,this.transform,S.getProjection(),Ae);let Ge=null;if(Se){const Je=Si(pe,y.tileID.canonical,Se,re,this.transform,S.getProjection(),Ae);Ge=i.multiply([],this.transform.labelPlaneMatrix,Je)}let He=null;ge&&y.latestFeatureIndex&&(He={unwrappedTileID:ne,dynamicFilter:ge,dynamicFilterNeedsFeature:Ie,featureIndex:y.latestFeatureIndex}),this.retainedQueryData[S.bucketInstanceId]=new fl(S.bucketInstanceId,I,S.sourceLayerIndex,S.index,y.tileID);const tt={bucket:S,layout:D,posMatrix:pe,textLabelPlaneMatrix:We,labelToScreenMatrix:Ge,clippingData:He,scale:Z,textPixelRatio:q,holdingForFade:y.holdingForFade(),collisionBoxArray:O,partiallyEvaluatedTextSize:i.evaluateSizeForZoom(S.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:i.evaluateSizeForZoom(S.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(S.sourceID)};if(x)for(const Je of S.sortKeyRanges){const{sortKey:dt,symbolInstanceStart:qt,symbolInstanceEnd:ot}=Je;c.push({sortKey:dt,symbolInstanceStart:qt,symbolInstanceEnd:ot,parameters:tt})}else c.push({symbolInstanceStart:0,symbolInstanceEnd:S.symbolInstances.length,parameters:tt})}attemptAnchorPlacement(c,h,y,x,S,I,D,O,Z,q,ne,pe,ye,be,ve,Se,re,ge){const{textOffset0:Ie,textOffset1:Ae,crossTileID:We}=pe,Ge=[Ie,Ae],He=ml(c,y,x,Ge,S),tt=this.collisionIndex.placeCollisionBox(be,S,h,Hl(He.x,He.y,I,D,this.transform.angle),ne,O,Z,q.predicate);if(Se){const Je=be.getSymbolInstanceIconSize(ge,this.transform.zoom,pe.placedIconSymbolIndex);if(this.collisionIndex.placeCollisionBox(be,Je,Se,Hl(He.x,He.y,I,D,this.transform.angle),ne,O,Z,q.predicate).box.length===0)return}if(tt.box.length>0){let Je;return this.prevPlacement&&this.prevPlacement.variableOffsets[We]&&this.prevPlacement.placements[We]&&this.prevPlacement.placements[We].text&&(Je=this.prevPlacement.variableOffsets[We].anchor),this.variableOffsets[We]={textOffset:Ge,width:y,height:x,anchor:c,textScale:S,prevAnchor:Je},this.markUsedJustification(be,c,pe,ve),be.allowVerticalPlacement&&(this.markUsedOrientation(be,ve,pe),this.placedOrientations[We]=ve),{shift:He,placedGlyphBoxes:tt}}}placeLayerBucketPart(c,h,y,x){const{bucket:S,layout:I,posMatrix:D,textLabelPlaneMatrix:O,labelToScreenMatrix:Z,clippingData:q,textPixelRatio:ne,holdingForFade:pe,collisionBoxArray:ye,partiallyEvaluatedTextSize:be,partiallyEvaluatedIconSize:ve,collisionGroup:Se}=c.parameters,re=I.get("text-optional"),ge=I.get("icon-optional"),Ie=I.get("text-allow-overlap"),Ae=I.get("icon-allow-overlap"),We=I.get("text-rotation-alignment")==="map",Ge=I.get("text-pitch-alignment")==="map",He=I.get("icon-text-fit")!=="none",tt=I.get("symbol-z-order")==="viewport-y";this.transform.setProjection(S.projection);let Je=Ie&&(Ae||!S.hasIconData()||ge),dt=Ae&&(Ie||!S.hasTextData()||re);!S.collisionArrays&&ye&&S.deserializeCollisionBoxes(ye),y&&x&&S.updateCollisionDebugBuffers(this.transform.zoom,ye);const qt=(ot,zt,gt)=>{const{crossTileID:Gt,numVerticalGlyphVertices:lt}=ot;if(q){const xi={zoom:this.transform.zoom,pitch:this.transform.pitch};let Xr=null;if(q.dynamicFilterNeedsFeature){const zr=this.retainedQueryData[S.bucketInstanceId];Xr=q.featureIndex.loadFeature({featureIndex:ot.featureIndex,bucketIndex:zr.bucketIndex,sourceLayerIndex:zr.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,q.dynamicFilter)(xi,Xr,this.retainedQueryData[S.bucketInstanceId].tileID.canonical,new i.Point(ot.tileAnchorX,ot.tileAnchorY),this.transform.calculateDistanceTileData(q.unwrappedTileID)))return this.placements[Gt]=new pl(!1,!1,!1,!0),void h.add(Gt)}if(h.has(Gt))return;if(pe)return void(this.placements[Gt]=new pl(!1,!1,!1));let Rt=!1,Yt=!1,Vt=!0,Jt=!1,On=!1,tr=null,kn={box:null,offscreen:null,occluded:null},Gn={box:null,offscreen:null,occluded:null},Sr=null,br=null,Ln=null,Nr=0,Gr=0,qr=0;gt.textFeatureIndex?Nr=gt.textFeatureIndex:ot.useRuntimeCollisionCircles&&(Nr=ot.featureIndex),gt.verticalTextFeatureIndex&&(Gr=gt.verticalTextFeatureIndex);const Zr=xi=>{xi.tileID=this.retainedQueryData[S.bucketInstanceId].tileID;const Xr=this.transform.elevation;(Xr||xi.elevation)&&(xi.elevation=Xr?Xr.getAtTileOffset(xi.tileID,xi.tileAnchorX,xi.tileAnchorY):0)},jo=gt.textBox;if(jo){Zr(jo);const xi=zr=>{let Hi=i.WritingMode.horizontal;if(S.allowVerticalPlacement&&!zr&&this.prevPlacement){const Ko=this.prevPlacement.placedOrientations[Gt];Ko&&(this.placedOrientations[Gt]=Ko,Hi=Ko,this.markUsedOrientation(S,Hi,ot))}return Hi},Xr=(zr,Hi)=>{if(S.allowVerticalPlacement&&lt>0&&gt.verticalTextBox){for(const Ko of S.writingModes)if(Ko===i.WritingMode.vertical?(kn=Hi(),Gn=kn):kn=zr(),kn&&kn.box&&kn.box.length)break}else kn=zr()};if(I.get("text-variable-anchor")){let zr=I.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[Gt]){const pi=this.prevPlacement.variableOffsets[Gt];zr.indexOf(pi.anchor)>0&&(zr=zr.filter(ls=>ls!==pi.anchor),zr.unshift(pi.anchor))}const Hi=(pi,ls,hp)=>{const Xc=S.getSymbolInstanceTextSize(be,ot,this.transform.zoom,zt),Gd=(pi.x2-pi.x1)*Xc+2*pi.padding,xl=(pi.y2-pi.y1)*Xc+2*pi.padding,nc=He&&!Ae?ls:null;nc&&Zr(nc);let Yc={box:[],offscreen:!1,occluded:!1};const pp=Ie?2*zr.length:zr.length;for(let qd=0;qd<pp;++qd){const S1=this.attemptAnchorPlacement(zr[qd%zr.length],pi,Gd,xl,Xc,We,Ge,ne,D,Se,qd>=zr.length,ot,zt,S,hp,nc,be,ve);if(S1&&(Yc=S1.placedGlyphBoxes,Yc&&Yc.box&&Yc.box.length)){Rt=!0,tr=S1.shift;break}}return Yc};Xr(()=>Hi(jo,gt.iconBox,i.WritingMode.horizontal),()=>{const pi=gt.verticalTextBox;return pi&&Zr(pi),S.allowVerticalPlacement&&!(kn&&kn.box&&kn.box.length)&&lt>0&&pi?Hi(pi,gt.verticalIconBox,i.WritingMode.vertical):{box:null,offscreen:null,occluded:null}}),kn&&(Rt=kn.box,Vt=kn.offscreen,Jt=kn.occluded);const Ko=xi(!(!kn||!kn.box));if(!Rt&&this.prevPlacement){const pi=this.prevPlacement.variableOffsets[Gt];pi&&(this.variableOffsets[Gt]=pi,this.markUsedJustification(S,pi.anchor,ot,Ko))}}else{const zr=(Hi,Ko)=>{const pi=S.getSymbolInstanceTextSize(be,ot,this.transform.zoom,zt),ls=this.collisionIndex.placeCollisionBox(S,pi,Hi,new i.Point(0,0),Ie,ne,D,Se.predicate);return ls&&ls.box&&ls.box.length&&(this.markUsedOrientation(S,Ko,ot),this.placedOrientations[Gt]=Ko),ls};Xr(()=>zr(jo,i.WritingMode.horizontal),()=>{const Hi=gt.verticalTextBox;return S.allowVerticalPlacement&&lt>0&&Hi?(Zr(Hi),zr(Hi,i.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}}),xi(!!(kn&&kn.box&&kn.box.length))}}if(Sr=kn,Rt=Sr&&Sr.box&&Sr.box.length>0,Vt=Sr&&Sr.offscreen,Jt=Sr&&Sr.occluded,ot.useRuntimeCollisionCircles){const xi=S.text.placedSymbolArray.get(ot.centerJustifiedTextSymbolIndex>=0?ot.centerJustifiedTextSymbolIndex:ot.verticalPlacedTextSymbolIndex),Xr=i.evaluateSizeForFeature(S.textSizeData,be,xi),zr=I.get("text-padding");br=this.collisionIndex.placeCollisionCircles(S,Ie,xi,S.lineVertexArray,S.glyphOffsetArray,Xr,D,O,Z,y,Ge,Se.predicate,ot.collisionCircleDiameter*Xr/i.ONE_EM,zr,this.retainedQueryData[S.bucketInstanceId].tileID),Rt=Ie||br.circles.length>0&&!br.collisionDetected,Vt=Vt&&br.offscreen,Jt=br.occluded}if(gt.iconFeatureIndex&&(qr=gt.iconFeatureIndex),gt.iconBox){const xi=Xr=>{Zr(Xr);const zr=He&&tr?Hl(tr.x,tr.y,We,Ge,this.transform.angle):new i.Point(0,0),Hi=S.getSymbolInstanceIconSize(ve,this.transform.zoom,ot.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(S,Hi,Xr,zr,Ae,ne,D,Se.predicate)};Gn&&Gn.box&&Gn.box.length&&gt.verticalIconBox?(Ln=xi(gt.verticalIconBox),Yt=Ln.box.length>0):(Ln=xi(gt.iconBox),Yt=Ln.box.length>0),Vt=Vt&&Ln.offscreen,On=Ln.occluded}const mo=re||ot.numHorizontalGlyphVertices===0&&lt===0,$s=ge||ot.numIconVertices===0;if(mo||$s?$s?mo||(Yt=Yt&&Rt):Rt=Yt&&Rt:Yt=Rt=Yt&&Rt,Rt&&Sr&&Sr.box&&this.collisionIndex.insertCollisionBox(Sr.box,I.get("text-ignore-placement"),S.bucketInstanceId,Gn&&Gn.box&&Gr?Gr:Nr,Se.ID),Yt&&Ln&&this.collisionIndex.insertCollisionBox(Ln.box,I.get("icon-ignore-placement"),S.bucketInstanceId,qr,Se.ID),br&&(Rt&&this.collisionIndex.insertCollisionCircles(br.circles,I.get("text-ignore-placement"),S.bucketInstanceId,Nr,Se.ID),y)){const xi=S.bucketInstanceId;let Xr=this.collisionCircleArrays[xi];Xr===void 0&&(Xr=this.collisionCircleArrays[xi]=new Fc);for(let zr=0;zr<br.circles.length;zr+=4)Xr.circles.push(br.circles[zr+0]),Xr.circles.push(br.circles[zr+1]),Xr.circles.push(br.circles[zr+2]),Xr.circles.push(br.collisionDetected?1:0)}const Fa=S.projection.name!=="globe";Je=Je&&(Fa||!Jt),dt=dt&&(Fa||!On),this.placements[Gt]=new pl(Rt||Je,Yt||dt,Vt||S.justReloaded),h.add(Gt)};if(tt){const ot=S.getSortedSymbolIndexes(this.transform.angle);for(let zt=ot.length-1;zt>=0;--zt){const gt=ot[zt];qt(S.symbolInstances.get(gt),gt,S.collisionArrays[gt])}}else for(let ot=c.symbolInstanceStart;ot<c.symbolInstanceEnd;ot++)qt(S.symbolInstances.get(ot),ot,S.collisionArrays[ot]);if(y&&S.bucketInstanceId in this.collisionCircleArrays){const ot=this.collisionCircleArrays[S.bucketInstanceId];i.invert(ot.invProjMatrix,D),ot.viewportMatrix=this.collisionIndex.getViewportMatrix()}S.justReloaded=!1}markUsedJustification(c,h,y,x){const{leftJustifiedTextSymbolIndex:S,centerJustifiedTextSymbolIndex:I,rightJustifiedTextSymbolIndex:D,verticalPlacedTextSymbolIndex:O,crossTileID:Z}=y,q=i.getAnchorJustification(h),ne=x===i.WritingMode.vertical?O:q==="left"?S:q==="center"?I:q==="right"?D:-1;S>=0&&(c.text.placedSymbolArray.get(S).crossTileID=ne>=0&&S!==ne?0:Z),I>=0&&(c.text.placedSymbolArray.get(I).crossTileID=ne>=0&&I!==ne?0:Z),D>=0&&(c.text.placedSymbolArray.get(D).crossTileID=ne>=0&&D!==ne?0:Z),O>=0&&(c.text.placedSymbolArray.get(O).crossTileID=ne>=0&&O!==ne?0:Z)}markUsedOrientation(c,h,y){const x=h===i.WritingMode.horizontal||h===i.WritingMode.horizontalOnly?h:0,S=h===i.WritingMode.vertical?h:0,{leftJustifiedTextSymbolIndex:I,centerJustifiedTextSymbolIndex:D,rightJustifiedTextSymbolIndex:O,verticalPlacedTextSymbolIndex:Z}=y,q=c.text.placedSymbolArray;I>=0&&(q.get(I).placedOrientation=x),D>=0&&(q.get(D).placedOrientation=x),O>=0&&(q.get(O).placedOrientation=x),Z>=0&&(q.get(Z).placedOrientation=S)}commit(c){this.commitTime=c,this.zoomAtLastRecencyCheck=this.transform.zoom;const h=this.prevPlacement;let y=!1;this.prevZoomAdjustment=h?h.zoomAdjustment(this.transform.zoom):0;const x=h?h.symbolFadeChange(c):1,S=h?h.opacities:{},I=h?h.variableOffsets:{},D=h?h.placedOrientations:{};for(const O in this.placements){const Z=this.placements[O],q=S[O];q?(this.opacities[O]=new Co(q,x,Z.text,Z.icon,null,Z.clipped),y=y||Z.text!==q.text.placed||Z.icon!==q.icon.placed):(this.opacities[O]=new Co(null,x,Z.text,Z.icon,Z.skipFade,Z.clipped),y=y||Z.text||Z.icon)}for(const O in S){const Z=S[O];if(!this.opacities[O]){const q=new Co(Z,x,!1,!1);q.isHidden()||(this.opacities[O]=q,y=y||Z.text.placed||Z.icon.placed)}}for(const O in I)this.variableOffsets[O]||!this.opacities[O]||this.opacities[O].isHidden()||(this.variableOffsets[O]=I[O]);for(const O in D)this.placedOrientations[O]||!this.opacities[O]||this.opacities[O].isHidden()||(this.placedOrientations[O]=D[O]);y?this.lastPlacementChangeTime=c:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=h?h.lastPlacementChangeTime:c)}updateLayerOpacities(c,h){const y=new Set;for(const x of h){const S=x.getBucket(c);S&&x.latestFeatureIndex&&c.id===S.layerIds[0]&&this.updateBucketOpacities(S,y,x.collisionBoxArray)}}updateBucketOpacities(c,h,y){c.hasTextData()&&c.text.opacityVertexArray.clear(),c.hasIconData()&&c.icon.opacityVertexArray.clear(),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexArray.clear(),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexArray.clear();const x=c.layers[0].layout,S=!!c.layers[0].dynamicFilter(),I=new Co(null,0,!1,!1,!0),D=x.get("text-allow-overlap"),O=x.get("icon-allow-overlap"),Z=x.get("text-variable-anchor"),q=x.get("text-rotation-alignment")==="map",ne=x.get("text-pitch-alignment")==="map",pe=x.get("icon-text-fit")!=="none",ye=new Co(null,0,D&&(O||!c.hasIconData()||x.get("icon-optional")),O&&(D||!c.hasTextData()||x.get("text-optional")),!0);!c.collisionArrays&&y&&(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData())&&c.deserializeCollisionBoxes(y);const be=(Se,re,ge)=>{for(let Ie=0;Ie<re/4;Ie++)Se.opacityVertexArray.emplaceBack(ge)};let ve=0;for(let Se=0;Se<c.symbolInstances.length;Se++){const re=c.symbolInstances.get(Se),{numHorizontalGlyphVertices:ge,numVerticalGlyphVertices:Ie,crossTileID:Ae,numIconVertices:We}=re,Ge=h.has(Ae);let He=this.opacities[Ae];Ge?He=I:He||(He=ye,this.opacities[Ae]=He),h.add(Ae);const tt=ge>0||Ie>0,Je=We>0,dt=this.placedOrientations[Ae],qt=dt===i.WritingMode.vertical,ot=dt===i.WritingMode.horizontal||dt===i.WritingMode.horizontalOnly;if(!tt&&!Je||He.isHidden()||ve++,tt){const zt=$c(He.text);be(c.text,ge,qt?Ci:zt),be(c.text,Ie,ot?Ci:zt);const gt=He.text.isHidden(),{leftJustifiedTextSymbolIndex:Gt,centerJustifiedTextSymbolIndex:lt,rightJustifiedTextSymbolIndex:Rt,verticalPlacedTextSymbolIndex:Yt}=re,Vt=c.text.placedSymbolArray,Jt=gt||qt?1:0;Gt>=0&&(Vt.get(Gt).hidden=Jt),lt>=0&&(Vt.get(lt).hidden=Jt),Rt>=0&&(Vt.get(Rt).hidden=Jt),Yt>=0&&(Vt.get(Yt).hidden=gt||ot?1:0);const On=this.variableOffsets[Ae];On&&this.markUsedJustification(c,On.anchor,re,dt);const tr=this.placedOrientations[Ae];tr&&(this.markUsedJustification(c,"left",re,tr),this.markUsedOrientation(c,tr,re))}if(Je){const zt=$c(He.icon),{placedIconSymbolIndex:gt,verticalPlacedIconSymbolIndex:Gt}=re,lt=c.icon.placedSymbolArray,Rt=He.icon.isHidden()?1:0;gt>=0&&(be(c.icon,We,qt?Ci:zt),lt.get(gt).hidden=Rt),Gt>=0&&(be(c.icon,re.numVerticalIconVertices,ot?Ci:zt),lt.get(Gt).hidden=Rt)}if(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData()){const zt=c.collisionArrays[Se];if(zt){let gt=new i.Point(0,0),Gt=!0;if(zt.textBox||zt.verticalTextBox){if(Z){const Rt=this.variableOffsets[Ae];Rt?(gt=ml(Rt.anchor,Rt.width,Rt.height,Rt.textOffset,Rt.textScale),q&&gt._rotate(ne?this.transform.angle:-this.transform.angle)):Gt=!1}S&&(Gt=!He.clipped),zt.textBox&&Gl(c.textCollisionBox.collisionVertexArray,He.text.placed,!Gt||qt,gt.x,gt.y),zt.verticalTextBox&&Gl(c.textCollisionBox.collisionVertexArray,He.text.placed,!Gt||ot,gt.x,gt.y)}const lt=Gt&&!!(!ot&&zt.verticalIconBox);zt.iconBox&&Gl(c.iconCollisionBox.collisionVertexArray,He.icon.placed,lt,pe?gt.x:0,pe?gt.y:0),zt.verticalIconBox&&Gl(c.iconCollisionBox.collisionVertexArray,He.icon.placed,!lt,pe?gt.x:0,pe?gt.y:0)}}}if(c.fullyClipped=ve===0,c.sortFeatures(this.transform.angle),this.retainedQueryData[c.bucketInstanceId]&&(this.retainedQueryData[c.bucketInstanceId].featureSortOrder=c.featureSortOrder),c.hasTextData()&&c.text.opacityVertexBuffer&&c.text.opacityVertexBuffer.updateData(c.text.opacityVertexArray),c.hasIconData()&&c.icon.opacityVertexBuffer&&c.icon.opacityVertexBuffer.updateData(c.icon.opacityVertexArray),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexBuffer&&c.iconCollisionBox.collisionVertexBuffer.updateData(c.iconCollisionBox.collisionVertexArray),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexBuffer&&c.textCollisionBox.collisionVertexBuffer.updateData(c.textCollisionBox.collisionVertexArray),c.bucketInstanceId in this.collisionCircleArrays){const Se=this.collisionCircleArrays[c.bucketInstanceId];c.placementInvProjMatrix=Se.invProjMatrix,c.placementViewportMatrix=Se.viewportMatrix,c.collisionCircleArray=Se.circles,delete this.collisionCircleArrays[c.bucketInstanceId]}}symbolFadeChange(c){return this.fadeDuration===0?1:(c-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(c){return Math.max(0,(this.transform.zoom-c)/1.5)}hasTransitions(c){return this.stale||c-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(c,h){const y=this.zoomAtLastRecencyCheck===h?1-this.zoomAdjustment(h):1;return this.zoomAtLastRecencyCheck=h,this.commitTime+this.fadeDuration*y>c}setStale(){this.stale=!0}}function Gl(m,c,h,y,x){m.emplaceBack(c?1:0,h?1:0,y||0,x||0),m.emplaceBack(c?1:0,h?1:0,y||0,x||0),m.emplaceBack(c?1:0,h?1:0,y||0,x||0),m.emplaceBack(c?1:0,h?1:0,y||0,x||0)}const Eo=Math.pow(2,25),Mi=Math.pow(2,24),Ad=Math.pow(2,17),Nc=Math.pow(2,16),Lo=Math.pow(2,9),is=Math.pow(2,8),Kh=Math.pow(2,1);function $c(m){if(m.opacity===0&&!m.placed)return 0;if(m.opacity===1&&m.placed)return 4294967295;const c=m.placed?1:0,h=Math.floor(127*m.opacity);return h*Eo+c*Mi+h*Ad+c*Nc+h*Lo+c*is+h*Kh+c}const Ci=0;class jc{constructor(c){this._sortAcrossTiles=c.layout.get("symbol-z-order")!=="viewport-y"&&c.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs=new Set,this._bucketParts=[]}continuePlacement(c,h,y,x,S){const I=this._bucketParts;for(;this._currentTileIndex<c.length;)if(h.getBucketParts(I,x,c[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,S())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,I.sort((D,O)=>D.sortKey-O.sortKey));this._currentPartIndex<I.length;){const D=I[this._currentPartIndex];if(h.placeLayerBucketPart(D,this._seenCrossTileIDs,y,D.symbolInstanceStart===0),this._currentPartIndex++,S())return!0}return!1}}class Dd{constructor(c,h,y,x,S,I,D,O){this.placement=new Bc(c,S,I,D,O),this._currentPlacementIndex=h.length-1,this._forceFullPlacement=y,this._showCollisionBoxes=x,this._done=!1}isDone(){return this._done}continuePlacement(c,h,y){const x=i.exported.now(),S=()=>{const I=i.exported.now()-x;return!this._forceFullPlacement&&I>2};for(;this._currentPlacementIndex>=0;){const I=h[c[this._currentPlacementIndex]],D=this.placement.collisionIndex.transform.zoom;if(I.type==="symbol"&&(!I.minzoom||I.minzoom<=D)&&(!I.maxzoom||I.maxzoom>D)){if(this._inProgressLayer||(this._inProgressLayer=new jc(I)),this._inProgressLayer.continuePlacement(y[I.source],this.placement,this._showCollisionBoxes,I,S))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(c){return this.placement.commit(c),this.placement}}const za=512/i.EXTENT/2;class Wi{constructor(c,h,y){this.tileID=c,this.bucketInstanceId=y,this.index=new i.KDBush(h.length,16,Int32Array),this.keys=[],this.crossTileIDs=[];const x=c.canonical.x*i.EXTENT,S=c.canonical.y*i.EXTENT;for(let I=0;I<h.length;I++){const{key:D,crossTileID:O,tileAnchorX:Z,tileAnchorY:q}=h.get(I),ne=Math.floor((x+Z)*za),pe=Math.floor((S+q)*za);this.index.add(ne,pe),this.keys.push(D),this.crossTileIDs.push(O)}this.index.finish()}findMatches(c,h,y){const x=this.tileID.canonical.z<h.canonical.z?1:Math.pow(2,this.tileID.canonical.z-h.canonical.z),S=za/Math.pow(2,h.canonical.z-this.tileID.canonical.z),I=h.canonical.x*i.EXTENT,D=h.canonical.y*i.EXTENT;for(let O=0;O<c.length;O++){const Z=c.get(O);if(Z.crossTileID)continue;const{key:q,tileAnchorX:ne,tileAnchorY:pe}=Z,ye=Math.floor((I+ne)*S),be=Math.floor((D+pe)*S),ve=this.index.range(ye-x,be-x,ye+x,be+x);for(const Se of ve){const re=this.crossTileIDs[Se];if(this.keys[Se]===q&&!y.has(re)){y.add(re),Z.crossTileID=re;break}}}}}class Eu{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Vc{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(c){const h=Math.round((c-this.lng)/360);if(h!==0)for(const y in this.indexes){const x=this.indexes[y],S={};for(const I in x){const D=x[I];D.tileID=D.tileID.unwrapTo(D.tileID.wrap+h),S[D.tileID.key]=D}this.indexes[y]=S}this.lng=c}addBucket(c,h,y){if(this.indexes[c.overscaledZ]&&this.indexes[c.overscaledZ][c.key]){if(this.indexes[c.overscaledZ][c.key].bucketInstanceId===h.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(c.overscaledZ,this.indexes[c.overscaledZ][c.key])}for(let S=0;S<h.symbolInstances.length;S++)h.symbolInstances.get(S).crossTileID=0;this.usedCrossTileIDs[c.overscaledZ]||(this.usedCrossTileIDs[c.overscaledZ]=new Set);const x=this.usedCrossTileIDs[c.overscaledZ];for(const S in this.indexes){const I=this.indexes[S];if(Number(S)>c.overscaledZ)for(const D in I){const O=I[D];O.tileID.isChildOf(c)&&O.findMatches(h.symbolInstances,c,x)}else{const D=I[c.scaledTo(Number(S)).key];D&&D.findMatches(h.symbolInstances,c,x)}}for(let S=0;S<h.symbolInstances.length;S++){const I=h.symbolInstances.get(S);I.crossTileID||(I.crossTileID=y.generate(),x.add(I.crossTileID))}return this.indexes[c.overscaledZ]===void 0&&(this.indexes[c.overscaledZ]={}),this.indexes[c.overscaledZ][c.key]=new Wi(c,h.symbolInstances,h.bucketInstanceId),!0}removeBucketCrossTileIDs(c,h){for(const y of h.crossTileIDs)this.usedCrossTileIDs[c].delete(y)}removeStaleBuckets(c){let h=!1;for(const y in this.indexes){const x=this.indexes[y];for(const S in x)c[x[S].bucketInstanceId]||(this.removeBucketCrossTileIDs(y,x[S]),delete x[S],h=!0)}return h}}class Os{constructor(){this.layerIndexes={},this.crossTileIDs=new Eu,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(c,h,y,x){let S=this.layerIndexes[c.id];S===void 0&&(S=this.layerIndexes[c.id]=new Vc);let I=!1;const D={};x.name!=="globe"&&S.handleWrapJump(y);for(const O of h){const Z=O.getBucket(c);Z&&c.id===Z.layerIds[0]&&(Z.bucketInstanceId||(Z.bucketInstanceId=++this.maxBucketInstanceId),S.addBucket(O.tileID,Z,this.crossTileIDs)&&(I=!0),D[Z.bucketInstanceId]=!0)}return S.removeStaleBuckets(D)&&(I=!0),I}pruneUnusedLayers(c){const h={};c.forEach(y=>{h[y]=!0});for(const y in this.layerIndexes)h[y]||delete this.layerIndexes[y]}}const sa=(m,c)=>i.emitValidationErrors(m,c&&c.filter(h=>h.identifier!=="source.canvas")),ql=i.pick(ir,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),r1=i.pick(ir,["setCenter","setZoom","setBearing","setPitch"]),Rd={version:8,layers:[],sources:{}},Zl={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class Oo extends i.Evented{constructor(c,h={}){super(),this.map=c,this.dispatcher=new qe(Mr(),this),this.imageManager=new ke,this.imageManager.setEventedParent(this),this.glyphManager=new i.GlyphManager(c._requestManager,h.localFontFamily?i.LocalGlyphMode.all:h.localIdeographFontFamily?i.LocalGlyphMode.ideographs:i.LocalGlyphMode.none,h.localFontFamily||h.localIdeographFontFamily),this.crossTileSymbolIndex=new Os,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",i.getReferrer());const y=this;this._rtlTextPluginCallback=Oo.registerForPluginStateChange(x=>{y.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:x.pluginStatus,pluginURL:x.pluginURL},(S,I)=>{if(i.triggerPluginCompletionEvent(S),I&&I.every(D=>D))for(const D in y._sourceCaches){const O=y._sourceCaches[D],Z=O.getSource().type;Z!=="vector"&&Z!=="geojson"||O.reload()}})}),this.on("data",x=>{if(x.dataType!=="source"||x.sourceDataType!=="metadata")return;const S=this.getSource(x.sourceId);if(S&&S.vectorLayerIds)for(const I in this._layers){const D=this._layers[I];D.source===S.id&&this._validateLayer(D)}})}loadURL(c,h={}){this.fire(new i.Event("dataloading",{dataType:"style"}));const y=typeof h.validate=="boolean"?h.validate:!i.isMapboxURL(c);c=this.map._requestManager.normalizeStyleURL(c,h.accessToken);const x=this.map._requestManager.transformRequest(c,i.ResourceType.Style);this._request=i.getJSON(x,(S,I)=>{this._request=null,S?this.fire(new i.ErrorEvent(S)):I&&this._load(I,y)})}loadJSON(c,h={}){this.fire(new i.Event("dataloading",{dataType:"style"})),this._request=i.exported.frame(()=>{this._request=null,this._load(c,h.validate!==!1)})}loadEmpty(){this.fire(new i.Event("dataloading",{dataType:"style"})),this._load(Rd,!1)}_updateLayerCount(c,h){const y=h?1:-1;c.is3D()&&(this._num3DLayers+=y),c.type==="circle"&&(this._numCircleLayers+=y),c.type==="symbol"&&(this._numSymbolLayers+=y)}_load(c,h){if(h&&sa(this,i.validateStyle(c)))return;this._loaded=!0,this.stylesheet=i.clone$1(c),this._updateMapProjection();for(const x in c.sources)this.addSource(x,c.sources[x],{validate:!1});this._changed=!1,c.sprite?this._loadSprite(c.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(c.glyphs);const y=_i(this.stylesheet.layers);this._order=y.map(x=>x.id),this._layers={},this._serializedLayers={};for(const x of y){const S=i.createStyleLayer(x);S.setEventedParent(this,{layer:{id:S.id}}),this._layers[S.id]=S,this._serializedLayers[S.id]=S.serialize(),this._updateLayerCount(S,!0)}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new _e(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new i.Event("data",{dataType:"style"})),this.fire(new i.Event("style.load"))}terrainSetForDrapingOnly(){return!!this.terrain&&this.terrain.drapeRenderMode===0}setProjection(c){c?this.stylesheet.projection=c:delete this.stylesheet.projection,this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}_updateMapProjection(){this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.stylesheet.projection)}_loadSprite(c){this._spriteRequest=function(h,y,x){let S,I,D;const O=i.exported.devicePixelRatio>1?"@2x":"";let Z=i.getJSON(y.transformRequest(y.normalizeSpriteURL(h,O,".json"),i.ResourceType.SpriteJSON),(pe,ye)=>{Z=null,D||(D=pe,S=ye,ne())}),q=i.getImage(y.transformRequest(y.normalizeSpriteURL(h,O,".png"),i.ResourceType.SpriteImage),(pe,ye)=>{q=null,D||(D=pe,I=ye,ne())});function ne(){if(D)x(D);else if(S&&I){const pe=i.exported.getImageData(I),ye={};for(const be in S){const{width:ve,height:Se,x:re,y:ge,sdf:Ie,pixelRatio:Ae,stretchX:We,stretchY:Ge,content:He}=S[be],tt=new i.RGBAImage({width:ve,height:Se});i.RGBAImage.copy(pe,tt,{x:re,y:ge},{x:0,y:0},{width:ve,height:Se}),ye[be]={data:tt,pixelRatio:Ae,sdf:Ie,stretchX:We,stretchY:Ge,content:He}}x(null,ye)}}return{cancel(){Z&&(Z.cancel(),Z=null),q&&(q.cancel(),q=null)}}}(c,this.map._requestManager,(h,y)=>{if(this._spriteRequest=null,h)this.fire(new i.ErrorEvent(h));else if(y)for(const x in y)this.imageManager.addImage(x,y[x]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new i.Event("data",{dataType:"style"}))})}_validateLayer(c){const h=this.getSource(c.source);if(!h)return;const y=c.sourceLayer;y&&(h.type==="geojson"||h.vectorLayerIds&&h.vectorLayerIds.indexOf(y)===-1)&&this.fire(new i.ErrorEvent(new Error(`Source layer "${y}" does not exist on source "${h.id}" as specified by style layer "${c.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const c in this._sourceCaches)if(!this._sourceCaches[c].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(c){const h=[];for(const y of c){const x=this._layers[y];x.type!=="custom"&&h.push(x.serialize())}return h}hasTransitions(){if(this.light&&this.light.hasTransition()||this.fog&&this.fog.hasTransition())return!0;for(const c in this._sourceCaches)if(this._sourceCaches[c].hasTransition())return!0;for(const c in this._layers)if(this._layers[c].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(c){return!!this.terrain&&(typeof c.isLayerDraped=="function"?c.isLayerDraped():Zl[c.type])}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(c){if(!this._loaded)return;const h=this._changed;if(this._changed){const x=Object.keys(this._updatedLayers),S=Object.keys(this._removedLayers);(x.length||S.length)&&this._updateWorkerLayers(x,S);for(const I in this._updatedSources){const D=this._updatedSources[I];D==="reload"?this._reloadSource(I):D==="clear"&&this._clearSource(I)}this._updateTilesForChangedImages();for(const I in this._updatedPaintProps)this._layers[I].updateTransitions(c);this.light.updateTransitions(c),this.fog&&this.fog.updateTransitions(c),this._resetUpdates()}const y={};for(const x in this._sourceCaches){const S=this._sourceCaches[x];y[x]=S.used,S.used=!1}for(const x of this._order){const S=this._layers[x];if(S.recalculate(c,this._availableImages),!S.isHidden(c.zoom)){const D=this._getLayerSourceCache(S);D&&(D.used=!0)}const I=this.map.painter;if(I){const D=S.getProgramIds();if(!D)continue;const O=S.getProgramConfiguration(c.zoom);for(const Z of D)I.useProgram(Z,O)}}for(const x in y){const S=this._sourceCaches[x];y[x]!==S.used&&S.getSource().fire(new i.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:S.getSource().id}))}this.light.recalculate(c),this.terrain&&this.terrain.recalculate(c),this.fog&&this.fog.recalculate(c),this.z=c.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),h&&this.fire(new i.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const c=Object.keys(this._changedImages);if(c.length){for(const h in this._sourceCaches)this._sourceCaches[h].reloadTilesForDependencies(["icons","patterns"],c);this._changedImages={}}}_updateWorkerLayers(c,h){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(c),removedIds:h})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(c){if(this._checkLoaded(),sa(this,i.validateStyle(c)))return!1;(c=i.clone$1(c)).layers=_i(c.layers);const h=function(x,S){if(!x)return[{command:ir.setStyle,args:[S]}];let I=[];try{if(!_(x.version,S.version))return[{command:ir.setStyle,args:[S]}];_(x.center,S.center)||I.push({command:ir.setCenter,args:[S.center]}),_(x.zoom,S.zoom)||I.push({command:ir.setZoom,args:[S.zoom]}),_(x.bearing,S.bearing)||I.push({command:ir.setBearing,args:[S.bearing]}),_(x.pitch,S.pitch)||I.push({command:ir.setPitch,args:[S.pitch]}),_(x.sprite,S.sprite)||I.push({command:ir.setSprite,args:[S.sprite]}),_(x.glyphs,S.glyphs)||I.push({command:ir.setGlyphs,args:[S.glyphs]}),_(x.transition,S.transition)||I.push({command:ir.setTransition,args:[S.transition]}),_(x.light,S.light)||I.push({command:ir.setLight,args:[S.light]}),_(x.fog,S.fog)||I.push({command:ir.setFog,args:[S.fog]}),_(x.projection,S.projection)||I.push({command:ir.setProjection,args:[S.projection]});const D={},O=[];(function(ne,pe,ye,be){let ve;for(ve in pe=pe||{},ne=ne||{})ne.hasOwnProperty(ve)&&(pe.hasOwnProperty(ve)||zc(ve,ye,be));for(ve in pe){if(!pe.hasOwnProperty(ve))continue;const Se=pe[ve];ne.hasOwnProperty(ve)?_(ne[ve],Se)||(ne[ve].type==="geojson"&&Se.type==="geojson"&&Lc(ne,pe,ve)?ye.push({command:ir.setGeoJSONSourceData,args:[ve,Se.data]}):hl(ve,pe,ye,be)):dl(ve,pe,ye)}})(x.sources,S.sources,O,D);const Z=[];x.layers&&x.layers.forEach(ne=>{ne.source&&D[ne.source]?I.push({command:ir.removeLayer,args:[ne.id]}):Z.push(ne)});let q=x.terrain;q&&D[q.source]&&(I.push({command:ir.setTerrain,args:[void 0]}),q=void 0),I=I.concat(O),_(q,S.terrain)||I.push({command:ir.setTerrain,args:[S.terrain]}),function(ne,pe,ye){pe=pe||[];const be=(ne=ne||[]).map(zs),ve=pe.map(zs),Se=ne.reduce(Cu,{}),re=pe.reduce(Cu,{}),ge=be.slice(),Ie=Object.create(null);let Ae,We,Ge,He,tt,Je,dt;for(Ae=0,We=0;Ae<be.length;Ae++)Ge=be[Ae],re.hasOwnProperty(Ge)?We++:(ye.push({command:ir.removeLayer,args:[Ge]}),ge.splice(ge.indexOf(Ge,We),1));for(Ae=0,We=0;Ae<ve.length;Ae++)Ge=ve[ve.length-1-Ae],ge[ge.length-1-Ae]!==Ge&&(Se.hasOwnProperty(Ge)?(ye.push({command:ir.removeLayer,args:[Ge]}),ge.splice(ge.lastIndexOf(Ge,ge.length-We),1)):We++,Je=ge[ge.length-Ae],ye.push({command:ir.addLayer,args:[re[Ge],Je]}),ge.splice(ge.length-Ae,0,Ge),Ie[Ge]=!0);for(Ae=0;Ae<ve.length;Ae++)if(Ge=ve[Ae],He=Se[Ge],tt=re[Ge],!Ie[Ge]&&!_(He,tt))if(_(He.source,tt.source)&&_(He["source-layer"],tt["source-layer"])&&_(He.type,tt.type)){for(dt in ws(He.layout,tt.layout,ye,Ge,null,ir.setLayoutProperty),ws(He.paint,tt.paint,ye,Ge,null,ir.setPaintProperty),_(He.filter,tt.filter)||ye.push({command:ir.setFilter,args:[Ge,tt.filter]}),_(He.minzoom,tt.minzoom)&&_(He.maxzoom,tt.maxzoom)||ye.push({command:ir.setLayerZoomRange,args:[Ge,tt.minzoom,tt.maxzoom]}),He)He.hasOwnProperty(dt)&&dt!=="layout"&&dt!=="paint"&&dt!=="filter"&&dt!=="metadata"&&dt!=="minzoom"&&dt!=="maxzoom"&&(dt.indexOf("paint.")===0?ws(He[dt],tt[dt],ye,Ge,dt.slice(6),ir.setPaintProperty):_(He[dt],tt[dt])||ye.push({command:ir.setLayerProperty,args:[Ge,dt,tt[dt]]}));for(dt in tt)tt.hasOwnProperty(dt)&&!He.hasOwnProperty(dt)&&dt!=="layout"&&dt!=="paint"&&dt!=="filter"&&dt!=="metadata"&&dt!=="minzoom"&&dt!=="maxzoom"&&(dt.indexOf("paint.")===0?ws(He[dt],tt[dt],ye,Ge,dt.slice(6),ir.setPaintProperty):_(He[dt],tt[dt])||ye.push({command:ir.setLayerProperty,args:[Ge,dt,tt[dt]]}))}else ye.push({command:ir.removeLayer,args:[Ge]}),Je=ge[ge.lastIndexOf(Ge)+1],ye.push({command:ir.addLayer,args:[tt,Je]})}(Z,S.layers,I)}catch(D){console.warn("Unable to compute style diff:",D),I=[{command:ir.setStyle,args:[S]}]}return I}(this.serialize(),c).filter(x=>!(x.command in r1));if(h.length===0)return!1;const y=h.filter(x=>!(x.command in ql));if(y.length>0)throw new Error(`Unimplemented: ${y.map(x=>x.command).join(", ")}.`);return h.forEach(x=>{x.command!=="setTransition"&&x.command!=="setProjection"&&this[x.command].apply(this,x.args)}),this.stylesheet=c,this._updateMapProjection(),!0}addImage(c,h){return this.getImage(c)?this.fire(new i.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(c,h),this._afterImageUpdated(c),this)}updateImage(c,h){this.imageManager.updateImage(c,h)}getImage(c){return this.imageManager.getImage(c)}removeImage(c){return this.getImage(c)?(this.imageManager.removeImage(c),this._afterImageUpdated(c),this):this.fire(new i.ErrorEvent(new Error("No image with this name exists.")))}_afterImageUpdated(c){this._availableImages=this.imageManager.listImages(),this._changedImages[c]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new i.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(c,h,y={}){if(this._checkLoaded(),this.getSource(c)!==void 0)throw new Error("There is already a source with this ID");if(!h.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(h).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(h.type)>=0&&this._validate(i.validateSource,`sources.${c}`,h,null,y))return;this.map&&this.map._collectResourceTiming&&(h.collectResourceTiming=!0);const x=rr(c,h,this.dispatcher,this);x.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(c),source:x.serialize(),sourceId:c}));const S=I=>{const D=(I?"symbol:":"other:")+c,O=this._sourceCaches[D]=new i.SourceCache(D,x,I);(I?this._symbolSourceCaches:this._otherSourceCaches)[c]=O,O.style=this,O.onAdd(this.map)};S(!1),h.type!=="vector"&&h.type!=="geojson"||S(!0),x.onAdd&&x.onAdd(this.map),this._changed=!0}removeSource(c){this._checkLoaded();const h=this.getSource(c);if(!h)throw new Error("There is no source with this ID");for(const x in this._layers)if(this._layers[x].source===c)return this.fire(new i.ErrorEvent(new Error(`Source "${c}" cannot be removed while layer "${x}" is using it.`)));if(this.terrain&&this.terrain.get().source===c)return this.fire(new i.ErrorEvent(new Error(`Source "${c}" cannot be removed while terrain is using it.`)));const y=this._getSourceCaches(c);for(const x of y)delete this._sourceCaches[x.id],delete this._updatedSources[x.id],x.fire(new i.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:x.getSource().id})),x.setEventedParent(null),x.clearTiles();return delete this._otherSourceCaches[c],delete this._symbolSourceCaches[c],h.setEventedParent(null),h.onRemove&&h.onRemove(this.map),this._changed=!0,this}setGeoJSONSourceData(c,h){this._checkLoaded(),this.getSource(c).setData(h),this._changed=!0}getSource(c){const h=this._getSourceCache(c);return h&&h.getSource()}_getSources(){const c=[];for(const h in this._otherSourceCaches){const y=this._getSourceCache(h);y&&c.push(y.getSource())}return c}addLayer(c,h,y={}){this._checkLoaded();const x=c.id;if(this.getLayer(x))return void this.fire(new i.ErrorEvent(new Error(`Layer with id "${x}" already exists on this map`)));let S;if(c.type==="custom"){if(sa(this,i.validateCustomStyleLayer(c)))return;S=i.createStyleLayer(c)}else{if(typeof c.source=="object"&&(this.addSource(x,c.source),c=i.clone$1(c),c=i.extend(c,{source:x})),this._validate(i.validateLayer,`layers.${x}`,c,{arrayIndex:-1},y))return;S=i.createStyleLayer(c),this._validateLayer(S),S.setEventedParent(this,{layer:{id:x}}),this._serializedLayers[S.id]=S.serialize(),this._updateLayerCount(S,!0)}const I=h?this._order.indexOf(h):this._order.length;if(h&&I===-1)return void this.fire(new i.ErrorEvent(new Error(`Layer with id "${h}" does not exist on this map.`)));this._order.splice(I,0,x),this._layerOrderChanged=!0,this._layers[x]=S;const D=this._getLayerSourceCache(S);if(this._removedLayers[x]&&S.source&&D&&S.type!=="custom"){const O=this._removedLayers[x];delete this._removedLayers[x],O.type!==S.type?this._updatedSources[S.source]="clear":(this._updatedSources[S.source]="reload",D.pause())}this._updateLayer(S),S.onAdd&&S.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(c,h){if(this._checkLoaded(),this._changed=!0,!this._layers[c])return void this.fire(new i.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot be moved.`)));if(c===h)return;const y=this._order.indexOf(c);this._order.splice(y,1);const x=h?this._order.indexOf(h):this._order.length;h&&x===-1?this.fire(new i.ErrorEvent(new Error(`Layer with id "${h}" does not exist on this map.`))):(this._order.splice(x,0,c),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(c){this._checkLoaded();const h=this._layers[c];if(!h)return void this.fire(new i.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot be removed.`)));h.setEventedParent(null),this._updateLayerCount(h,!1);const y=this._order.indexOf(c);this._order.splice(y,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[c]=h,delete this._layers[c],delete this._serializedLayers[c],delete this._updatedLayers[c],delete this._updatedPaintProps[c],h.onRemove&&h.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(c){return this._layers[c]}hasLayer(c){return c in this._layers}hasLayerType(c){for(const h in this._layers)if(this._layers[h].type===c)return!0;return!1}setLayerZoomRange(c,h,y){this._checkLoaded();const x=this.getLayer(c);x?x.minzoom===h&&x.maxzoom===y||(h!=null&&(x.minzoom=h),y!=null&&(x.maxzoom=y),this._updateLayer(x)):this.fire(new i.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(c,h,y={}){this._checkLoaded();const x=this.getLayer(c);if(x){if(!_(x.filter,h))return h==null?(x.filter=void 0,void this._updateLayer(x)):void(this._validate(i.validateFilter,`layers.${x.id}.filter`,h,{layerType:x.type},y)||(x.filter=i.clone$1(h),this._updateLayer(x)))}else this.fire(new i.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot be filtered.`)))}getFilter(c){const h=this.getLayer(c);return h&&i.clone$1(h.filter)}setLayoutProperty(c,h,y,x={}){this._checkLoaded();const S=this.getLayer(c);S?_(S.getLayoutProperty(h),y)||(S.setLayoutProperty(h,y,x),this._updateLayer(S)):this.fire(new i.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(c,h){const y=this.getLayer(c);if(y)return y.getLayoutProperty(h);this.fire(new i.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style.`)))}setPaintProperty(c,h,y,x={}){this._checkLoaded();const S=this.getLayer(c);S?_(S.getPaintProperty(h),y)||(S.setPaintProperty(h,y,x)&&this._updateLayer(S),this._changed=!0,this._updatedPaintProps[c]=!0):this.fire(new i.ErrorEvent(new Error(`The layer '${c}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(c,h){const y=this.getLayer(c);return y&&y.getPaintProperty(h)}setFeatureState(c,h){this._checkLoaded();const y=c.source,x=c.sourceLayer,S=this.getSource(y);if(!S)return void this.fire(new i.ErrorEvent(new Error(`The source '${y}' does not exist in the map's style.`)));const I=S.type;if(I==="geojson"&&x)return void this.fire(new i.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if(I==="vector"&&!x)return void this.fire(new i.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));c.id===void 0&&this.fire(new i.ErrorEvent(new Error("The feature id parameter must be provided.")));const D=this._getSourceCaches(y);for(const O of D)O.setFeatureState(x,c.id,h)}removeFeatureState(c,h){this._checkLoaded();const y=c.source,x=this.getSource(y);if(!x)return void this.fire(new i.ErrorEvent(new Error(`The source '${y}' does not exist in the map's style.`)));const S=x.type,I=S==="vector"?c.sourceLayer:void 0;if(S==="vector"&&!I)return void this.fire(new i.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(h&&typeof c.id!="string"&&typeof c.id!="number")return void this.fire(new i.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const D=this._getSourceCaches(y);for(const O of D)O.removeFeatureState(I,c.id,h)}getFeatureState(c){this._checkLoaded();const h=c.source,y=c.sourceLayer,x=this.getSource(h);if(x){if(x.type!=="vector"||y)return c.id===void 0&&this.fire(new i.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(h)[0].getFeatureState(y,c.id);this.fire(new i.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new i.ErrorEvent(new Error(`The source '${h}' does not exist in the map's style.`)))}getTransition(){return i.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const c={};for(const h in this._sourceCaches){const y=this._sourceCaches[h].getSource();c[y.id]||(c[y.id]=y.serialize())}return i.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.getTerrain()||void 0,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:c,layers:this._serializeLayers(this._order)},h=>h!==void 0)}_updateLayer(c){this._updatedLayers[c.id]=!0;const h=this._getLayerSourceCache(c);c.source&&!this._updatedSources[c.source]&&h&&h.getSource().type!=="raster"&&(this._updatedSources[c.source]="reload",h.pause()),this._changed=!0,c.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(c){const h=I=>this._layers[I].type==="fill-extrusion",y={},x=[];for(let I=this._order.length-1;I>=0;I--){const D=this._order[I];if(h(D)){y[D]=I;for(const O of c){const Z=O[D];if(Z)for(const q of Z)x.push(q)}}}x.sort((I,D)=>D.intersectionZ-I.intersectionZ);const S=[];for(let I=this._order.length-1;I>=0;I--){const D=this._order[I];if(h(D))for(let O=x.length-1;O>=0;O--){const Z=x[O].feature;if(y[Z.layer.id]<I)break;S.push(Z),x.pop()}else for(const O of c){const Z=O[D];if(Z)for(const q of Z)S.push(q.feature)}}return S}queryRenderedFeatures(c,h,y){h&&h.filter&&this._validate(i.validateFilter,"queryRenderedFeatures.filter",h.filter,null,h);const x={};if(h&&h.layers){if(!Array.isArray(h.layers))return this.fire(new i.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const O of h.layers){const Z=this._layers[O];if(!Z)return this.fire(new i.ErrorEvent(new Error(`The layer '${O}' does not exist in the map's style and cannot be queried for features.`))),[];x[Z.source]=!0}}const S=[];h.availableImages=this._availableImages;const I=h&&h.layers?h.layers.some(O=>{const Z=this.getLayer(O);return Z&&Z.is3D()}):this.has3DLayers(),D=wt.createFromScreenPoints(c,y);for(const O in this._sourceCaches){const Z=this._sourceCaches[O].getSource().id;h.layers&&!x[Z]||S.push(Br(this._sourceCaches[O],this._layers,this._serializedLayers,D,h,y,I,!!this.map._showQueryGeometry))}return this.placement&&S.push(function(O,Z,q,ne,pe,ye,be){const ve={},Se=ye.queryRenderedSymbols(ne),re=[];for(const ge of Object.keys(Se).map(Number))re.push(be[ge]);re.sort(wi);for(const ge of re){const Ie=ge.featureIndex.lookupSymbolFeatures(Se[ge.bucketInstanceId],Z,ge.bucketIndex,ge.sourceLayerIndex,pe.filter,pe.layers,pe.availableImages,O);for(const Ae in Ie){const We=ve[Ae]=ve[Ae]||[],Ge=Ie[Ae];Ge.sort((He,tt)=>{const Je=ge.featureSortOrder;if(Je){const dt=Je.indexOf(He.featureIndex);return Je.indexOf(tt.featureIndex)-dt}return tt.featureIndex-He.featureIndex});for(const He of Ge)We.push(He)}}for(const ge in ve)ve[ge].forEach(Ie=>{const Ae=Ie.feature,We=q(O[ge]);if(!We)return;const Ge=We.getFeatureState(Ae.layer["source-layer"],Ae.id);Ae.source=Ae.layer.source,Ae.layer["source-layer"]&&(Ae.sourceLayer=Ae.layer["source-layer"]),Ae.state=Ge});return ve}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),D.screenGeometry,h,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(S)}querySourceFeatures(c,h){h&&h.filter&&this._validate(i.validateFilter,"querySourceFeatures.filter",h.filter,null,h);const y=this._getSourceCaches(c);let x=[];for(const S of y)x=x.concat(jr(S,h));return x}addSourceType(c,h,y){return Oo.getSourceType(c)?y(new Error(`A source type called "${c}" already exists.`)):(Oo.setSourceType(c,h),h.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:c,url:h.workerSourceURL},y):y(null,null))}getLight(){return this.light.getLight()}setLight(c,h={}){this._checkLoaded();const y=this.light.getLight();let x=!1;for(const I in c)if(!_(c[I],y[I])){x=!0;break}if(!x)return;const S=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(c,h),this.light.updateTransitions(S)}getTerrain(){return this.terrain&&this.terrain.drapeRenderMode===1?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(c,h=1){if(this._checkLoaded(),!c)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);let y=c;if(h===1){if(typeof y.source=="object"){const x="terrain-dem-src";this.addSource(x,y.source),y=i.clone$1(y),y=i.extend(y,{source:x})}if(this._validate(i.validateTerrain,"terrain",y))return}if(!this.terrain||this.terrain&&h!==this.terrain.drapeRenderMode){if(!y)return;this._createTerrain(y,h)}else{const x=this.terrain,S=x.get();for(const I of Object.keys(i.spec.terrain))!y.hasOwnProperty(I)&&i.spec.terrain[I].default&&(y[I]=i.spec.terrain[I].default);for(const I in y)if(!_(y[I],S[I])){x.set(y),this.stylesheet.terrain=y;const D=this._setTransitionParameters({duration:0});x.updateTransitions(D);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(c){const h=this.fog=new Le(c,this.map.transform);this.stylesheet.fog=c;const y=this._setTransitionParameters({duration:0});h.updateTransitions(y)}_updateMarkersOpacity(){this.map._markers.length!==0&&this.map._requestDomTask(()=>{for(const c of this.map._markers)c._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(c){if(this._checkLoaded(),!c)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const h=this.fog,y=h.get();Object.keys(c).length===0&&h.set(c);for(const x in c)if(!_(c[x],y[x])){h.set(c),this.stylesheet.fog=c;const S=this._setTransitionParameters({duration:0});h.updateTransitions(S);break}}else this._createFog(c);this._markersNeedUpdate=!0}_setTransitionParameters(c){return{now:i.exported.now(),transition:i.extend(c,this.stylesheet.transition)}}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const c=this._order.filter(y=>this.isLayerDraped(this._layers[y])),h=this._order.filter(y=>!this.isLayerDraped(this._layers[y]));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...c),this._drapedFirstOrder.push(...h)}_createTerrain(c,h){const y=this.terrain=new me(c,h);this.stylesheet.terrain=c,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();const x=this._setTransitionParameters({duration:0});y.updateTransitions(x)}_force3DLayerUpdate(){for(const c in this._layers){const h=this._layers[c];h.type==="fill-extrusion"&&this._updateLayer(h)}}_forceSymbolLayerUpdate(){for(const c in this._layers){const h=this._layers[c];h.type==="symbol"&&this._updateLayer(h)}}_validate(c,h,y,x,S={}){return(!S||S.validate!==!1)&&sa(this,c.call(i.validateStyle,i.extend({key:h,style:this.serialize(),value:y,styleSpec:i.spec},x)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),i.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const c in this._layers)this._layers[c].setEventedParent(null);for(const c in this._sourceCaches)this._sourceCaches[c].clearTiles(),this._sourceCaches[c].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(c){const h=this._getSourceCaches(c);for(const y of h)y.clearTiles()}_reloadSource(c){const h=this._getSourceCaches(c);for(const y of h)y.resume(),y.reload()}_reloadSources(){for(const c of this._getSources())c.reload&&c.reload()}_updateSources(c){for(const h in this._sourceCaches)this._sourceCaches[h].update(c)}_generateCollisionBoxes(){for(const c in this._sourceCaches){const h=this._sourceCaches[c];h.resume(),h.reload()}}_updatePlacement(c,h,y,x,S=!1){let I=!1,D=!1;const O={};for(const Z of this._order){const q=this._layers[Z];if(q.type!=="symbol")continue;if(!O[q.source]){const pe=this._getLayerSourceCache(q);if(!pe)continue;O[q.source]=pe.getRenderableIds(!0).map(ye=>pe.getTileByID(ye)).sort((ye,be)=>be.tileID.overscaledZ-ye.tileID.overscaledZ||(ye.tileID.isLessThan(be.tileID)?-1:1))}const ne=this.crossTileSymbolIndex.addLayer(q,O[q.source],c.center.lng,c.projection);I=I||ne}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),S=S||this._layerOrderChanged||y===0,this._layerOrderChanged&&this.fire(new i.Event("neworder")),(S||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(i.exported.now(),c.zoom))&&(this.pauseablePlacement=new Dd(c,this._order,S,h,y,x,this.placement,this.fog&&c.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,O),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(i.exported.now()),D=!0),I&&this.pauseablePlacement.placement.setStale()),D||I)for(const Z of this._order){const q=this._layers[Z];q.type==="symbol"&&this.placement.updateLayerOpacities(q,O[q.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(i.exported.now())}_releaseSymbolFadeTiles(){for(const c in this._sourceCaches)this._sourceCaches[c].releaseSymbolFadeTiles()}getImages(c,h,y){this.imageManager.getImages(h.icons,y),this._updateTilesForChangedImages();const x=S=>{S&&S.setDependencies(h.tileID.key,h.type,h.icons)};x(this._otherSourceCaches[h.source]),x(this._symbolSourceCaches[h.source])}getGlyphs(c,h,y){this.glyphManager.getGlyphs(h.stacks,y)}getResource(c,h,y){return i.makeRequest(h,y)}_getSourceCache(c){return this._otherSourceCaches[c]}_getLayerSourceCache(c){return c.type==="symbol"?this._symbolSourceCaches[c.source]:this._otherSourceCaches[c.source]}_getSourceCaches(c){const h=[];return this._otherSourceCaches[c]&&h.push(this._otherSourceCaches[c]),this._symbolSourceCaches[c]&&h.push(this._symbolSourceCaches[c]),h}_isSourceCacheLoaded(c){const h=this._getSourceCaches(c);return h.length===0?(this.fire(new i.ErrorEvent(new Error(`There is no source with ID '${c}'`))),!1):h.every(y=>y.loaded())}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}Oo.getSourceType=function(m){return Kn[m]},Oo.setSourceType=function(m,c){Kn[m]=c},Oo.registerForPluginStateChange=i.registerForPluginStateChange;var Pu=`
#define EPSILON 0.0000001
#define PI 3.141592653589793
#define EXTENT 8192.0
#define HALF_PI PI/2.0
#define QUARTER_PI PI/4.0
#define RAD_TO_DEG 180.0/PI
#define DEG_TO_RAD PI/180.0
#define GLOBE_RADIUS EXTENT/PI/2.0`,aa="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",la=`
#define ELEVATION_SCALE 7.0
#define ELEVATION_OFFSET 450.0
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(
mix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}
#else
vec3 elevationVector(vec2 pos) { return vec3(0,0,1); }
#endif
const float skirtOffset=24575.0;vec3 decomposeToPosAndSkirt(vec2 posWithComposedSkirt)
{float skirt=float(posWithComposedSkirt.x >=skirtOffset);vec2 pos=posWithComposedSkirt-vec2(skirt*skirtOffset,0.0);return vec3(pos,skirt);}
#ifdef TERRAIN
#ifdef TERRAIN_DEM_FLOAT_FORMAT
uniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;
#else
uniform sampler2D u_dem;uniform sampler2D u_dem_prev;
#endif
uniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));
#ifdef TERRAIN_DEM_NEAREST_FILTER
return u_exaggeration*tl;
#endif
float tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}float prevElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}
#ifdef TERRAIN_VERTEX_MORPHING
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}
#else
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
return currentElevation(apos);}
#endif
highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(
unpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))
);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
float tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;
#else
vec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);
#endif
return vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}
#else
float elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }
#endif`,Uc=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}
#endif`,ca=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}
#endif`;let T={},A={};const j=[];Ue(Pu,j),Ue(la,j),Ue(Uc,j),Ue(ca,j),T=De("",la),A=De(ca,Uc);const Y=De(`
#if __VERSION__ >=300
#define varying in
#define gl_FragColor glFragColor
#define texture2D texture
#define textureCube texture
out vec4 glFragColor;
#endif
highp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}`,`
#if __VERSION__ >=300
#define attribute in
#define varying out
#define texture2D texture
#endif
float wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}
#ifdef PROJECTION_GLOBE_VIEW
vec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {
#ifndef PROJECTED_POS_ON_VIEWPORT
float tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;
#else
return vec3(0.0);
#endif
}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(
unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered.`),oe=Pu,se=`
#ifdef GL_ES
precision mediump float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`;var he={background:De(`uniform vec4 u_color;uniform float u_opacity;
#ifdef LIGHTING_3D_MODE
varying vec4 v_color;
#endif
void main() {vec4 out_color;
#ifdef LIGHTING_3D_MODE
out_color=v_color;
#else
out_color=u_color;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#ifdef LIGHTING_3D_MODE
uniform vec4 u_color;varying vec4 v_color;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(u_color);
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),backgroundPattern:De(`uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos;void main() {vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),circle:De(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(
antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)
);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_apply_premultiplied(out_color,v_fog_pos);
#endif
gl_FragColor=out_color*(v_visibility*opacity_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`#define NUM_VISIBILITY_RINGS 2
#define INV_SQRT2 0.70710678
#define ELEVATION_BIAS 0.0001
#define NUM_SAMPLES_PER_RING 16
uniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
vec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {
#if defined(TERRAIN)
return elevation(pos)+ELEVATION_BIAS;
#else
return 0.0;
#endif
}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);
#ifdef PITCH_WITH_MAP
#ifdef PROJECTION_GLOBE_VIEW
return u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );
#else
return u_matrix*( world_center+vec4(sample_offset,0,0) );
#endif
#else
return projected_center+vec4(sample_offset,0,0);
#endif
}float get_sample_step() {
#ifdef PITCH_WITH_MAP
return 2.0*PI/float(NUM_SAMPLES_PER_RING);
#else
return PI/float(NUM_SAMPLES_PER_RING);
#endif
}void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);
#else 
surface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);
#endif
vec4 projected_center=u_matrix*world_center;float view_scale=0.0;
#ifdef PITCH_WITH_MAP
#ifdef SCALE_WITH_MAP
view_scale=1.0;
#else
view_scale=projected_center.w/u_camera_to_center_distance;
#endif
#else
#ifdef SCALE_WITH_MAP
view_scale=u_camera_to_center_distance;
#else
view_scale=projected_center.w;
#endif
#endif
gl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;
#ifdef TERRAIN
float step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;
#ifdef PITCH_WITH_MAP
float cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;
#else
occlusion_world_center=world_center;occlusion_projected_center=projected_center;
#endif
for(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);
#else
visibility=1.0;
#endif
#ifdef PROJECTION_GLOBE_VIEW
visibility=1.0;
#endif
v_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);
#ifdef FOG
v_fog_pos=fog_position(world_center.xyz);
#endif
}`),clippingMask:De("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:De(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef FOG
if (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#else
pos=vec3(tilePos+extrude,elevation(tilePos));
#endif
gl_Position=u_matrix*vec4(pos,1);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),heatmapTexture:De(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:De("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}",`attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}`),collisionCircle:De("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",`attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(
mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}`),debug:De("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",`attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;
#endif
varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
gl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);
#else
gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);
#endif
}`),fill:De(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
vec4 out_color=color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutline:De(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutlinePattern:De(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillPattern:De(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillExtrusion:De(`varying vec4 v_color;
#ifdef RENDER_SHADOWS
varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
void main() {
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
vec3 normal=v_normal;
#endif
float z;vec4 color;
#ifdef ZERO_ROOF_RADIUS
z=float(normal.z > 0.00001);color=mix(v_color,v_roof_color,z);
#else
color=v_color;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;
#ifdef ZERO_ROOF_RADIUS
concave*=(1.0-z);
#endif
float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);color.rgb=color.rgb*shade;
#endif
#ifdef RENDER_SHADOWS
#ifdef ZERO_ROOF_RADIUS
normal=mix(normal,vec3(0.0,0.0,1.0),z);
#endif
color.xyz=shadowed_color_normal(color.xyz,normalize(normal),v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec4 v_color;
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
v_normal=normal;
#endif
base=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=0.0;float c_ele;vec3 pos;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);
#else
h=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);
#ifdef RENDER_SHADOWS
v_pos_light_view_0=u_light_matrix_0*vec4(pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1);v_depth=gl_Position.w;
#endif
float NdotL=0.0;float colorvalue=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}v_color=vec4(0.0,0.0,0.0,1.0);
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(color,NdotL);
#else
v_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_color*=u_opacity;
#ifdef ZERO_ROOF_RADIUS
v_roof_color=vec4(0.0,0.0,0.0,1.0);
#ifdef LIGHTING_3D_MODE
v_roof_color=apply_lighting(color,calculate_NdotL(vec3(0.0,0.0,1.0)));
#else
float roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_roof_color*=u_opacity;
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),fillExtrusionPattern:De(`uniform vec2 u_texsize;uniform sampler2D u_image;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
varying vec2 v_pos;varying vec4 v_lighting;uniform lowp float u_opacity;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color,v_NdotL)*u_opacity;
#else
out_color=out_color*v_lighting;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec2 v_pos;varying vec4 v_lighting;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=z;vec3 p;float c_ele;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);
#else
p=vec3(pos_nx.xy,z);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0
? pos_nx.xy
: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_NdotL=NdotL;
#else
v_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;
#endif 
#ifdef FOG
v_fog_pos=fog_position(p);
#endif
}`),hillshadePrepare:De(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
return texture2D(u_image,coord).a/4.0;
#else
vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;
#endif
}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(
(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)
)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(
deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:De(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef LIGHTING_3D_MODE
gl_FragColor=apply_lighting(gl_FragColor);
#endif
#ifdef FOG
gl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),line:De(`uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform sampler2D u_dash_image;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform sampler2D u_gradient_image;
#endif
uniform float u_border_width;uniform vec4 u_border_color;float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
float linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);
#ifdef RENDER_LINE_DASH
float sdfdist=texture2D(u_dash_image,v_tex).a;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;alpha*=linearstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);
#endif
highp vec4 out_color;
#ifdef RENDER_LINE_GRADIENT
out_color=texture2D(u_gradient_image,v_uv.xy);
#else
out_color=color;
#endif
float trimmed=1.0;
#ifdef RENDER_LINE_TRIM_OFFSET
highp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);trimmed=0.0;}}
#endif
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
#ifdef RENDER_LINE_ALPHA_DISCARD
if (alpha < u_alpha_discard_threshold) {discard;}
#endif
#ifdef RENDER_LINE_BORDER
float edgeBlur=(u_border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);
#ifdef RENDER_LINE_BORDER_AUTO
float Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}
#else
out_color.rgb=mix(u_border_color.rgb*u_border_color.a*trimmed,out_color.rgb,smoothAlpha);
#endif
}
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define EXTRUDE_SCALE 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
attribute highp vec4 a_packed;
#endif
#ifdef RENDER_LINE_DASH
attribute float a_linesofar;
#endif
uniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform float u_image_height;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
float a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];
#ifdef RENDER_LINE_GRADIENT
highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);
#else
v_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);
#endif
#endif
#ifdef RENDER_LINE_DASH
float scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/floorwidth,(-normal.y*height+dash.x+0.5)/u_texsize.y);
#endif
v_width2=vec2(outset,inset);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),linePattern:De(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;vec2 pattern_size=vec2(display_size.x/u_tile_units_to_pixels,display_size.y);float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x=mod(v_linesofar/pattern_size.x*aspect,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));vec4 color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
color=apply_lighting(color);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),raster:De(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(
dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply(out_color,v_fog_pos));
#endif
gl_FragColor=vec4(out_color*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),symbolIcon:De(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}`),symbolSDF:De(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}`),symbolTextAndIcon:De(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}`),terrainRaster:De(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
void main() {vec4 color=texture2D(u_image0,v_pos0);
#ifdef RENDER_SHADOWS
color.xyz=shadowed_color(color.xyz,v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
#ifdef ZERO_EXAGGERATION
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#else
color=fog_dither(fog_apply_from_vert(color,v_fog_opacity));
#endif
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
const float wireframeOffset=0.00015;void main() {vec3 decomposedPosAndSkirt=decomposeToPosAndSkirt(a_pos);float skirt=decomposedPosAndSkirt.z;vec2 decodedPos=decomposedPosAndSkirt.xy;float elevation=elevation(decodedPos)-skirt*u_skirt_height;
#ifdef TERRAIN_WIREFRAME
elevation+=wireframeOffset;
#endif
v_pos0=decodedPos/8192.0;gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);
#ifdef FOG
#ifdef ZERO_EXAGGERATION
v_fog_pos=fog_position(decodedPos);
#else
v_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));
#endif
#endif
#ifdef RENDER_SHADOWS
vec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;
#endif
}`),terrainDepth:De(`#ifdef GL_ES
precision highp float;
#endif
varying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}`,"uniform mat4 u_matrix;attribute vec2 a_pos;varying float v_depth;void main() {float elevation=elevation(a_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:De(`
varying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(
cos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;
#ifdef FOG
sky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);
#endif
sky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,aa),skyboxGradient:De(`varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));
#ifdef FOG
color.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;
#endif
color*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,aa),skyboxCapture:De(`
varying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;
#ifdef GL_ES
precision highp float;
#endif
#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)
#define BETA_M                  vec3(21e-6,21e-6,21e-6)
#define MIE_G                   0.76
#define DENSITY_HEIGHT_SCALE_R  8000.0
#define DENSITY_HEIGHT_SCALE_M  1200.0
#define PLANET_RADIUS           6360e3
#define ATMOSPHERE_RADIUS       6420e3
#define SAMPLE_STEPS            10
#define DENSITY_STEPS           4
float ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}`,"attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:De(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifndef FOG
uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;
#endif
void main() {vec4 color;
#ifdef CUSTOM_ANTIALIASING
vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);color=vec4(raster.rgb*antialias,raster.a*antialias);
#else
color=texture2D(u_image0,v_pos0);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;uniform float u_skirt_height;
#ifdef GLOBE_POLES
attribute vec3 a_globe_pos;attribute vec2 a_uv;
#else
attribute vec2 a_pos;
#endif
varying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;vec2 uv=a_uv;
#else
float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);
#endif
v_pos0=uv;vec2 tile_pos=uv*EXTENT;vec3 globe_derived_up_vector=normalize(globe_pos)*u_tile_up_scale;
#ifdef GLOBE_POLES
vec3 up_vector=globe_derived_up_vector;
#else
vec3 up_vector=elevationVector(tile_pos);
#endif
float height=elevation(tile_pos);
#ifdef TERRAIN_WIREFRAME
height+=wireframeOffset;
#endif
globe_pos+=up_vector*height;
#ifndef GLOBE_POLES
globe_pos-=globe_derived_up_vector*u_skirt_height*decomposed_pos_and_skirt.z;
#endif
#ifdef GLOBE_POLES
vec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);
#else
vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height-u_skirt_height*decomposed_pos_and_skirt.z,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);
#endif
gl_Position=u_proj_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
}`),globeAtmosphere:De(`uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;
#ifdef PROJECTION_GLOBE_VIEW
globe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}
#endif
highp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?
0.0 : max(acos(dot(dir,horizon_dir)),0.0);float horizon_angle;
#ifdef PROJECTION_GLOBE_VIEW
highp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?
PI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);
#else
horizon_angle=horizon_angle_mercator;
#endif
horizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:
(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:
uv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}`,`attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(
mix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}`)};function Ue(m,c){const h=m.replace(/\s*\/\/[^\n]*\n/g,`
`).split(`
`);for(let y of h)if(y=y.trim(),y[0]==="#"&&y.includes("if")&&!y.includes("endif")){y=y.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const x=y.split(" ");for(const S of x)c.includes(S)||c.push(S)}}function De(m,c){const h=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,y=c.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),x={},S=[...j];return Ue(m,S),Ue(c,S),{fragmentSource:m=m.replace(h,(I,D,O,Z,q)=>(x[q]=!0,D==="define"?`
#ifndef HAS_UNIFORM_u_${q}
varying ${O} ${Z} ${q};
#else
uniform ${O} ${Z} u_${q};
#endif
`:`
#ifdef HAS_UNIFORM_u_${q}
    ${O} ${Z} ${q} = u_${q};
#endif
`)),vertexSource:c=c.replace(h,(I,D,O,Z,q)=>{const ne=Z==="float"?"vec2":"vec4",pe=q.match(/color/)?"color":ne;return x[q]?D==="define"?`
#ifndef HAS_UNIFORM_u_${q}
uniform lowp float u_${q}_t;
attribute ${O} ${ne} a_${q};
varying ${O} ${Z} ${q};
#else
uniform ${O} ${Z} u_${q};
#endif
`:pe==="vec4"?`
#ifndef HAS_UNIFORM_u_${q}
    ${q} = a_${q};
#else
    ${O} ${Z} ${q} = u_${q};
#endif
`:`
#ifndef HAS_UNIFORM_u_${q}
    ${q} = unpack_mix_${pe}(a_${q}, u_${q}_t);
#else
    ${O} ${Z} ${q} = u_${q};
#endif
`:D==="define"?`
#ifndef HAS_UNIFORM_u_${q}
uniform lowp float u_${q}_t;
attribute ${O} ${ne} a_${q};
#else
uniform ${O} ${Z} u_${q};
#endif
`:pe==="vec4"?`
#ifndef HAS_UNIFORM_u_${q}
    ${O} ${Z} ${q} = a_${q};
#else
    ${O} ${Z} ${q} = u_${q};
#endif
`:`
#ifndef HAS_UNIFORM_u_${q}
    ${O} ${Z} ${q} = unpack_mix_${pe}(a_${q}, u_${q}_t);
#else
    ${O} ${Z} ${q} = u_${q};
#endif
`}),staticAttributes:y,usedDefines:S}}class nt{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(c,h,y,x,S,I,D){this.context=c;let O=this.boundPaintVertexBuffers.length!==x.length;for(let q=0;!O&&q<x.length;q++)this.boundPaintVertexBuffers[q]!==x[q]&&(O=!0);let Z=this.boundDynamicVertexBuffers.length!==D.length;for(let q=0;!Z&&q<D.length;q++)this.boundDynamicVertexBuffers[q]!==D[q]&&(Z=!0);if(!c.extVertexArrayObject||!this.vao||this.boundProgram!==h||this.boundLayoutVertexBuffer!==y||O||Z||this.boundIndexBuffer!==S||this.boundVertexOffset!==I)this.freshBind(h,y,x,S,I,D);else{c.bindVertexArrayOES.set(this.vao);for(const q of D)q&&q.bind();S&&S.dynamicDraw&&S.bind()}}freshBind(c,h,y,x,S,I){let D;const O=c.numAttributes,Z=this.context,q=Z.gl;if(Z.extVertexArrayObject)this.vao&&this.destroy(),this.vao=Z.extVertexArrayObject.createVertexArrayOES(),Z.bindVertexArrayOES.set(this.vao),D=0,this.boundProgram=c,this.boundLayoutVertexBuffer=h,this.boundPaintVertexBuffers=y,this.boundIndexBuffer=x,this.boundVertexOffset=S,this.boundDynamicVertexBuffers=I;else{D=Z.currentNumAttributes||0;for(let ne=O;ne<D;ne++)q.disableVertexAttribArray(ne)}h.enableAttributes(q,c),h.bind(),h.setVertexAttribPointers(q,c,S);for(const ne of y)ne.enableAttributes(q,c),ne.bind(),ne.setVertexAttribPointers(q,c,S);for(const ne of I)ne&&(ne.enableAttributes(q,c),ne.bind(),ne.setVertexAttribPointers(q,c,S));x&&x.bind(),Z.currentNumAttributes=O}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function At(m,c){const h=Math.pow(2,c.canonical.z),y=c.canonical.y;return[new i.MercatorCoordinate(0,y/h).toLngLat().lat,new i.MercatorCoordinate(0,(y+1)/h).toLngLat().lat]}function jt(m,c,h,y,x,S,I){const D=m.context,O=D.gl,Z=h.fbo;if(!Z)return;m.prepareDrawTile();const q=m.useProgram("hillshade");D.activeTexture.set(O.TEXTURE0),O.bindTexture(O.TEXTURE_2D,Z.colorAttachment.get());const ne=((ve,Se,re,ge)=>{const Ie=re.paint.get("hillshade-shadow-color"),Ae=re.paint.get("hillshade-highlight-color"),We=re.paint.get("hillshade-accent-color");let Ge=re.paint.get("hillshade-illumination-direction")*(Math.PI/180);re.paint.get("hillshade-illumination-anchor")==="viewport"&&(Ge-=ve.transform.angle);const He=!ve.options.moving;return{u_matrix:ge||ve.transform.calculateProjMatrix(Se.tileID.toUnwrapped(),He),u_image:0,u_latrange:At(0,Se.tileID),u_light:[re.paint.get("hillshade-exaggeration"),Ge],u_shadow:Ie,u_highlight:Ae,u_accent:We}})(m,h,y,m.terrain?c.projMatrix:null);m.prepareDrawProgram(D,q,c.toUnwrapped());const{tileBoundsBuffer:pe,tileBoundsIndexBuffer:ye,tileBoundsSegments:be}=m.getTileBoundsBuffers(h);q.draw(D,O.TRIANGLES,x,S,I,i.CullFaceMode.disabled,ne,y.id,pe,ye,be)}function vt(m,c,h){if(!c.needsDEMTextureUpload)return;const y=m.context,x=y.gl;y.pixelStoreUnpackPremultiplyAlpha.set(!1),c.demTexture=c.demTexture||m.getTileTexture(h.stride);const S=h.getPixels();c.demTexture?c.demTexture.update(S,{premultiply:!1}):c.demTexture=new i.Texture(y,S,x.RGBA,{premultiply:!1}),c.needsDEMTextureUpload=!1}function cn(m,c,h,y,x,S){const I=m.context,D=I.gl;if(!c.dem)return;const O=c.dem;if(I.activeTexture.set(D.TEXTURE1),vt(m,c,O),!c.demTexture)return;c.demTexture.bind(D.NEAREST,D.CLAMP_TO_EDGE);const Z=O.dim;I.activeTexture.set(D.TEXTURE0);let q=c.fbo;if(!q){const be=new i.Texture(I,{width:Z,height:Z,data:null},D.RGBA);be.bind(D.LINEAR,D.CLAMP_TO_EDGE),q=c.fbo=I.createFramebuffer(Z,Z,!0),q.colorAttachment.set(be.texture)}I.bindFramebuffer.set(q.framebuffer),I.viewport.set([0,0,Z,Z]);const{tileBoundsBuffer:ne,tileBoundsIndexBuffer:pe,tileBoundsSegments:ye}=m.getMercatorTileBoundsBuffers();m.useProgram("hillshadePrepare").draw(I,D.TRIANGLES,y,x,S,i.CullFaceMode.disabled,((be,ve)=>{const Se=ve.stride,re=i.create();return i.ortho(re,0,i.EXTENT,-i.EXTENT,0,0,1),i.translate(re,re,[0,-i.EXTENT,0]),{u_matrix:re,u_image:1,u_dimension:[Se,Se],u_zoom:be.overscaledZ,u_unpack:ve.unpackVector}})(c.tileID,O),h.id,ne,pe,ye),c.needsHillshadePrepare=!1}const or=m=>({u_matrix:new i.UniformMatrix4f(m),u_image0:new i.Uniform1i(m),u_skirt_height:new i.Uniform1f(m)}),Tr=(m,c)=>({u_matrix:m,u_image0:0,u_skirt_height:c}),vr=(m,c,h,y,x,S,I,D,O,Z,q,ne,pe,ye,be)=>({u_proj_matrix:Float32Array.from(m),u_globe_matrix:c,u_normalize_matrix:Float32Array.from(y),u_merc_matrix:h,u_zoom_transition:x,u_merc_center:S,u_image0:0,u_frustum_tl:I,u_frustum_tr:D,u_frustum_br:O,u_frustum_bl:Z,u_globe_pos:q,u_globe_radius:ne,u_viewport:pe,u_grid_matrix:be?Float32Array.from(be):new Float32Array(9),u_skirt_height:ye});function Ii(m,c){return m!=null&&c!=null&&!(!m.hasData()||!c.hasData())&&m.demTexture!=null&&c.demTexture!=null&&m.tileID.key!==c.tileID.key}const ti=new class{constructor(){this.operations={}}newMorphing(m,c,h,y,x){if(m in this.operations){const S=this.operations[m];S.to.tileID.key!==h.tileID.key&&(S.queued=h)}else this.operations[m]={startTime:y,phase:0,duration:x,from:c,to:h,queued:null}}getMorphValuesForProxy(m){if(!(m in this.operations))return null;const c=this.operations[m];return{from:c.from,to:c.to,phase:c.phase}}update(m){for(const c in this.operations){const h=this.operations[c];for(h.phase=(m-h.startTime)/h.duration;h.phase>=1||!this._validOp(h);)if(!this._nextOp(h,m)){delete this.operations[c];break}}}_nextOp(m,c){return!!m.queued&&(m.from=m.to,m.to=m.queued,m.queued=null,m.phase=0,m.startTime=c,!0)}_validOp(m){return m.from.hasData()&&m.to.hasData()}},po={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function qo(m){return 6*Math.pow(1.5,22-m)}function Er(m,c){const h=1<<m.z;return!c&&(m.x===0||m.x===h-1)||m.y===0||m.y===h-1}const Cs=m=>({u_matrix:m});function Ir(m,c,h,y,x){if(x>0){const S=i.exported.now(),I=(S-m.timeAdded)/x,D=c?(S-c.timeAdded)/x:-1,O=h.getSource(),Z=y.coveringZoomLevel({tileSize:O.tileSize,roundZoom:O.roundZoom}),q=!c||Math.abs(c.tileID.overscaledZ-Z)>Math.abs(m.tileID.overscaledZ-Z),ne=q&&m.refreshedUponExpiration?1:i.clamp(q?I:1-D,0,1);return m.refreshedUponExpiration&&I>=1&&(m.refreshedUponExpiration=!1),c?{opacity:1,mix:1-ne}:{opacity:ne,mix:0}}return{opacity:1,mix:0}}class vi extends i.SourceCache{constructor(c){const h={type:"raster-dem",maxzoom:c.transform.maxZoom},y=new qe(Mr(),null),x=rr("mock-dem",h,y,c.style);super("mock-dem",x,!1),x.setEventedParent(this),this._sourceLoaded=!0}_loadTile(c,h){c.state="loaded",h(null)}}class La extends i.SourceCache{constructor(c){const h=rr("proxy",{type:"geojson",maxzoom:c.transform.maxZoom},new qe(Mr(),null),c.style);super("proxy",h,!1),h.setEventedParent(this),this.map=this.getSource().map=c,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(c,h,y){if(c.freezeTileCoverage)return;this.transform=c;const x=c.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((S,I)=>{if(S[I.key]="",!this._tiles[I.key]){const D=new i.Tile(I,this._source.tileSize*I.overscaleFactor(),c.tileZoom);D.state="loaded",this._tiles[I.key]=D}return S},{});for(const S in this._tiles)S in x||(this.freeFBO(S),this._tiles[S].unloadVectorData(),delete this._tiles[S])}freeFBO(c){const h=this.proxyCachedFBO[c];if(h!==void 0){const y=Object.values(h);this.renderCachePool.push(...y),delete this.proxyCachedFBO[c]}}deallocRenderCache(){this.renderCache.forEach(c=>c.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class Xl extends i.OverscaledTileID{constructor(c,h,y){super(c.overscaledZ,c.wrap,c.canonical.z,c.canonical.x,c.canonical.y),this.proxyTileKey=h,this.projMatrix=y}}class os extends i.Elevation{constructor(c,h){super(),this.painter=c,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[y,x,S]=function(O){const Z=new i.StructArrayLayout2i4,q=new i.StructArrayLayout3ui6,ne=131;Z.reserve(17161),q.reserve(33800);const pe=i.EXTENT/128,ye=i.EXTENT+pe/2,be=ye+pe;for(let Se=-pe;Se<be;Se+=pe)for(let re=-pe;re<be;re+=pe){const ge=re<0||re>ye||Se<0||Se>ye?24575:0,Ie=i.clamp(Math.round(re),0,i.EXTENT),Ae=i.clamp(Math.round(Se),0,i.EXTENT);Z.emplaceBack(Ie+ge,Ae)}const ve=(Se,re)=>{const ge=re*ne+Se;q.emplaceBack(ge+1,ge,ge+ne),q.emplaceBack(ge+ne,ge+ne+1,ge+1)};for(let Se=1;Se<129;Se++)for(let re=1;re<129;re++)ve(re,Se);return[0,129].forEach(Se=>{for(let re=0;re<130;re++)ve(re,Se),ve(Se,re)}),[Z,q,32768]}(),I=c.context;this.gridBuffer=I.createVertexBuffer(y,i.posAttributes.members),this.gridIndexBuffer=I.createIndexBuffer(x),this.gridSegments=i.SegmentVector.simpleSegment(0,0,y.length,x.length),this.gridNoSkirtSegments=i.SegmentVector.simpleSegment(0,0,y.length,S),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new La(h.map),this.orthoMatrix=i.create(),i.ortho(this.orthoMatrix,this.painter.transform.projection.name==="globe"?.015:0,i.EXTENT,0,i.EXTENT,0,1);const D=I.gl;this._overlapStencilMode=new i.StencilMode({func:D.GEQUAL,mask:255},0,255,D.KEEP,D.KEEP,D.REPLACE),this._previousZoom=c.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=h,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new vi(h.map)}set style(c){c.on("data",this._onStyleDataEvent.bind(this)),c.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=c,this._checkRenderCacheEfficiency(),this._style.map.on("moveend",()=>{this._clearLineLayersFromRenderCache()})}update(c,h,y){if(c&&c.terrain){this._style!==c&&(this.style=c),this.enabled=!0;const x=c.terrain.properties;this.sourceCache=c.terrain.drapeRenderMode===0?this._mockSourceCache:c._getSourceCache(x.get("source")),this._exaggeration=x.get("exaggeration");const S=()=>{this.sourceCache.used&&i.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.
This leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const I=this.getScaledDemTileSize();this.sourceCache.update(h,I,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,S(),this._initializing=!0),S(),h.updateElevation(!0,y),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(h),this._emptyDEMTextureDirty=!0}else this._disable()}resetTileLookupCache(c){this._findCoveringTileCache[c]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_checkRenderCacheEfficiency(){const c=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||c.efficiency!==100&&i.warnOnce(`Terrain render cache efficiency is not optimal (${c.efficiency}%) and performance
                may be affected negatively, consider placing all background, fill and line layers before layer
                with id '${c.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(c){c.coord&&c.dataType==="source"?this._clearRenderCacheForTile(c.sourceCacheId,c.coord):c.dataType==="style"&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const c in this._style._sourceCaches)this._style._sourceCaches[c].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach(c=>c.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const c=2*this.proxySourceCache.getSource().tileSize;return[c,c]}set useVertexMorphing(c){this._useVertexMorphing=c}updateTileBinding(c){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const h=this.proxySourceCache,y=this.painter.transform;this._initializing&&(this._initializing=y._centerAltitude===0&&this.getAtPointOrZero(i.MercatorCoordinate.fromLngLat(y.center),-1)===-1,this._emptyDEMTextureDirty=!this._initializing);const x=this.proxyCoords=h.getIds().map(O=>{const Z=h.getTileByID(O).tileID;return Z.projMatrix=y.calculateProjMatrix(Z.toUnwrapped()),Z});(function(O,Z){const q=Z.transform.pointCoordinate(Z.transform.getCameraPoint()),ne=new i.Point(q.x,q.y);O.sort((pe,ye)=>{if(ye.overscaledZ-pe.overscaledZ)return ye.overscaledZ-pe.overscaledZ;const be=new i.Point(pe.canonical.x+(1<<pe.canonical.z)*pe.wrap,pe.canonical.y),ve=new i.Point(ye.canonical.x+(1<<ye.canonical.z)*ye.wrap,ye.canonical.y),Se=ne.mult(1<<pe.canonical.z);return Se.x-=.5,Se.y-=.5,Se.distSqr(be)-Se.distSqr(ve)})})(x,this.painter),this._previousZoom=y.zoom;const S=this.proxyToSource||{};this.proxyToSource={},x.forEach(O=>{this.proxyToSource[O.key]={}}),this.terrainTileForTile={};const I=this._style._sourceCaches;for(const O in I){const Z=I[O];if(!Z.used||(Z!==this.sourceCache&&this.resetTileLookupCache(Z.id),this._setupProxiedCoordsForOrtho(Z,c[O],S),Z.usedForTerrain))continue;const q=c[O];Z.getSource().reparseOverscaled&&this._assignTerrainTiles(q)}this.proxiedCoords[h.id]=x.map(O=>new Xl(O,O.key,this.orthoMatrix)),this._assignTerrainTiles(x),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(S),this.renderingToTexture=!1,this._updateTimestamp=i.exported.now();const D={};this._visibleDemTiles=[];for(const O of this.proxyCoords){const Z=this.terrainTileForTile[O.key];if(!Z)continue;const q=Z.tileID.key;q in D||(this._visibleDemTiles.push(Z),D[q]=q)}}_assignTerrainTiles(c){this._initializing||c.forEach(h=>{if(this.terrainTileForTile[h.key])return;const y=this._findTileCoveringTileID(h,this.sourceCache);y&&(this.terrainTileForTile[h.key]=y)})}_prepareDEMTextures(){const c=this.painter.context,h=c.gl;for(const y in this.terrainTileForTile){const x=this.terrainTileForTile[y],S=x.dem;!S||x.demTexture&&!x.needsDEMTextureUpload||(c.activeTexture.set(h.TEXTURE1),vt(this.painter,x,S))}}_prepareDemTileUniforms(c,h,y,x){if(!h||h.demTexture==null)return!1;const S=c.tileID.canonical,I=Math.pow(2,h.tileID.canonical.z-S.z),D=x||"";return y[`u_dem_tl${D}`]=[S.x*I%1,S.y*I%1],y[`u_dem_scale${D}`]=I,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const c=this.painter.context,h=c.gl;if(!this._emptyDepthBufferTexture){const y=new i.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new i.Texture(c,y,h.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let c=0;const h=this._visibleDemTiles.reduce((y,x)=>{if(!x.dem)return y;const S=x.dem.tree.minimums[0];return S>0&&c++,y+S},0);return c?h/c:0}_updateEmptyDEMTexture(){const c=this.painter.context,h=c.gl;c.activeTexture.set(h.TEXTURE2);const y=this._getLoadedAreaMinimum(),x=new i.RGBAImage({width:1,height:1},new Uint8Array(i.DEMData.pack(y,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;let S=this._emptyDEMTexture;return S?S.update(x,{premultiply:!1}):S=this._emptyDEMTexture=new i.Texture(c,x,h.RGBA,{premultiply:!1}),S}setupElevationDraw(c,h,y){const x=this.painter.context,S=x.gl,I=(D=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:i.DEMData.getUnpackVector(D),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var D;I.u_dem_size=this.sourceCache.getSource().tileSize,I.u_exaggeration=this.exaggeration();let O=null,Z=null,q=1;if(y&&y.morphing&&this._useVertexMorphing){const ne=y.morphing.srcDemTile,pe=y.morphing.dstDemTile;q=y.morphing.phase,ne&&pe&&(this._prepareDemTileUniforms(c,ne,I,"_prev")&&(Z=ne),this._prepareDemTileUniforms(c,pe,I)&&(O=pe))}if(Z&&O?(x.activeTexture.set(S.TEXTURE2),O.demTexture.bind(S.NEAREST,S.CLAMP_TO_EDGE,S.NEAREST),x.activeTexture.set(S.TEXTURE4),Z.demTexture.bind(S.NEAREST,S.CLAMP_TO_EDGE,S.NEAREST),I.u_dem_lerp=q):(O=this.terrainTileForTile[c.tileID.key],x.activeTexture.set(S.TEXTURE2),(this._prepareDemTileUniforms(c,O,I)?O.demTexture:this.emptyDEMTexture).bind(S.NEAREST,S.CLAMP_TO_EDGE)),x.activeTexture.set(S.TEXTURE3),y&&y.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(S.NEAREST,S.CLAMP_TO_EDGE),this._depthFBO&&(I.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(S.NEAREST,S.CLAMP_TO_EDGE),I.u_depth_size_inv=[1,1]),y&&y.useMeterToDem&&O){const ne=(1<<O.tileID.canonical.z)*i.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;I.u_meter_to_dem=ne}if(y&&y.labelPlaneMatrixInv&&(I.u_label_plane_matrix_inv=y.labelPlaneMatrixInv),h.setTerrainUniformValues(x,I),this.painter.transform.projection.name==="globe"){const ne=this.globeUniformValues(this.painter.transform,c.tileID.canonical,y&&y.useDenormalizedUpVectorScale);h.setGlobeUniformValues(x,ne)}}globeUniformValues(c,h,y){const x=c.projection;return{u_tile_tl_up:x.upVector(h,0,0),u_tile_tr_up:x.upVector(h,i.EXTENT,0),u_tile_br_up:x.upVector(h,i.EXTENT,i.EXTENT),u_tile_bl_up:x.upVector(h,0,i.EXTENT),u_tile_up_scale:y?i.globeMetersToEcef(1):x.upVectorScale(h,c.center.lat,c.worldSize).metersToTile}}renderToBackBuffer(c){const h=this.painter,y=this.painter.context;c.length!==0&&(y.bindFramebuffer.set(null),y.viewport.set([0,0,h.width,h.height]),h.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(x,S,I,D,O){if(x.transform.projection.name==="globe")(function(Z,q,ne,pe,ye){const be=Z.context,ve=be.gl;let Se,re;const ge=Z.options.showTerrainWireframe?2:0,Ie=Z.transform,Ae=i.globeUseCustomAntiAliasing(Z,be,Ie),We=(Gt,lt)=>{if(re===Gt)return;const Rt=[po[Gt],"PROJECTION_GLOBE_VIEW"];Ae&&Rt.push("CUSTOM_ANTIALIASING"),lt&&Rt.push(po[ge]),Se=Z.useProgram("globeRaster",null,Rt),re=Gt},Ge=Z.colorModeForRenderPass(),He=new i.DepthMode(ve.LEQUAL,i.DepthMode.ReadWrite,Z.depthRangeFor3D);ti.update(ye);const tt=i.calculateGlobeMercatorMatrix(Ie),Je=[i.mercatorXfromLng(Ie.center.lng),i.mercatorYfromLat(Ie.center.lat)],dt=ge?[!1,!0]:[!1],qt=Z.globeSharedBuffers,ot=[Ie.width*i.exported.devicePixelRatio,Ie.height*i.exported.devicePixelRatio],zt=Float32Array.from(Ie.globeMatrix),gt={useDenormalizedUpVectorScale:!0};if(dt.forEach(Gt=>{const lt=Z.transform,Rt=qo(lt.zoom)*q.exaggeration();re=-1;const Yt=Gt?ve.LINES:ve.TRIANGLES;for(const Vt of pe){const Jt=ne.getTile(Vt),On=i.StencilMode.disabled,tr=q.prevTerrainTileForTile[Vt.key],kn=q.terrainTileForTile[Vt.key];Ii(tr,kn)&&ti.newMorphing(Vt.key,tr,kn,ye,250),be.activeTexture.set(ve.TEXTURE0),Jt.texture.bind(ve.LINEAR,ve.CLAMP_TO_EDGE);const Gn=ti.getMorphValuesForProxy(Vt.key),Sr=Gn?1:0;Gn&&i.extend$1(gt,{morphing:{srcDemTile:Gn.from,dstDemTile:Gn.to,phase:i.easeCubicInOut(Gn.phase)}});const br=i.tileCornersToBounds(Vt.canonical),Ln=i.getLatitudinalLod(br.getCenter().lat),Nr=i.getGridMatrix(Vt.canonical,br,Ln,lt.worldSize/lt._pixelsPerMercatorPixel),Gr=i.globeNormalizeECEF(i.globeTileBounds(Vt.canonical)),qr=vr(lt.projMatrix,zt,tt,Gr,i.globeToMercatorTransition(lt.zoom),Je,lt.frustumCorners.TL,lt.frustumCorners.TR,lt.frustumCorners.BR,lt.frustumCorners.BL,lt.globeCenterInViewSpace,lt.globeRadius,ot,Rt,Nr);if(We(Sr,Gt),q.setupElevationDraw(Jt,Se,gt),Z.prepareDrawProgram(be,Se,Vt.toUnwrapped()),qt){const[Zr,jo,mo]=Gt?qt.getWirefameBuffers(Z.context,Ln):qt.getGridBuffers(Ln,Rt!==0);Se.draw(be,Yt,He,On,Ge,i.CullFaceMode.backCCW,qr,"globe_raster",Zr,jo,mo)}}}),qt){const Gt=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];Ae&&Gt.push("CUSTOM_ANTIALIASING"),Se=Z.useProgram("globeRaster",null,Gt);for(const lt of pe){const{x:Rt,y:Yt,z:Vt}=lt.canonical,Jt=Yt===0,On=Yt===(1<<Vt)-1,[tr,kn,Gn,Sr]=qt.getPoleBuffers(Vt);if(Sr&&(Jt||On)){const br=ne.getTile(lt);be.activeTexture.set(ve.TEXTURE0),br.texture.bind(ve.LINEAR,ve.CLAMP_TO_EDGE);let Ln=i.globePoleMatrixForTile(Vt,Rt,Ie);const Nr=i.globeNormalizeECEF(i.globeTileBounds(lt.canonical)),Gr=(qr,Zr)=>qr.draw(be,ve.TRIANGLES,He,i.StencilMode.disabled,Ge,i.CullFaceMode.disabled,vr(Ie.projMatrix,Ln,Ln,Nr,0,Je,Ie.frustumCorners.TL,Ie.frustumCorners.TR,Ie.frustumCorners.BR,Ie.frustumCorners.BL,Ie.globeCenterInViewSpace,Ie.globeRadius,ot,0),"globe_pole_raster",Zr,Gn,Sr);q.setupElevationDraw(br,Se,gt),Z.prepareDrawProgram(be,Se,lt.toUnwrapped()),Jt&&Gr(Se,tr),On&&(Ln=i.scale(i.create(),Ln,[1,-1,1]),Gr(Se,kn))}}}})(x,S,I,D,O);else{const Z=x.context,q=Z.gl;let ne,pe;const ye=x.options.showTerrainWireframe?2:0,be=(Ie,Ae)=>{if(pe===Ie)return;const We=[po[Ie]];Ae&&We.push(po[ye]),ne=x.useProgram("terrainRaster",null,We),pe=Ie},ve=x.colorModeForRenderPass(),Se=new i.DepthMode(q.LEQUAL,i.DepthMode.ReadWrite,x.depthRangeFor3D);ti.update(O);const re=x.transform,ge=qo(re.zoom)*S.exaggeration();(ye?[!1,!0]:[!1]).forEach(Ie=>{pe=-1;const Ae=Ie?q.LINES:q.TRIANGLES,[We,Ge]=Ie?S.getWirefameBuffer():[S.gridIndexBuffer,S.gridSegments];for(const He of D){const tt=I.getTile(He),Je=i.StencilMode.disabled,dt=S.prevTerrainTileForTile[He.key],qt=S.terrainTileForTile[He.key];Ii(dt,qt)&&ti.newMorphing(He.key,dt,qt,O,250),Z.activeTexture.set(q.TEXTURE0),tt.texture.bind(q.LINEAR,q.CLAMP_TO_EDGE,q.LINEAR_MIPMAP_NEAREST);const ot=ti.getMorphValuesForProxy(He.key),zt=ot?1:0;let gt;ot&&(gt={morphing:{srcDemTile:ot.from,dstDemTile:ot.to,phase:i.easeCubicInOut(ot.phase)}});const Gt=Tr(He.projMatrix,Er(He.canonical,re.renderWorldCopies)?ge/10:ge);be(zt,Ie),S.setupElevationDraw(tt,ne,gt),x.prepareDrawProgram(Z,ne,He.toUnwrapped()),ne.draw(Z,Ae,Se,Je,ve,i.CullFaceMode.backCCW,Gt,"terrain_raster",S.gridBuffer,We,Ge)}})}}(h,this,this.proxySourceCache,c,this._updateTimestamp),this.renderingToTexture=!0,h.gpuTimingDeferredRenderEnd(),c.splice(0,c.length))}renderBatch(c){if(this._drapedRenderBatches.length===0)return c+1;this.renderingToTexture=!0;const h=this.painter,y=this.painter.context,x=this.proxySourceCache,S=this.proxiedCoords[x.id],I=this._drapedRenderBatches.shift(),D=[],O=h.style.order;let Z=0;for(const q of S){const ne=x.getTileByID(q.proxyTileKey),pe=x.proxyCachedFBO[q.key]?x.proxyCachedFBO[q.key][c]:void 0,ye=pe!==void 0?x.renderCache[pe]:this.pool[Z++],be=pe!==void 0;if(ne.texture=ye.tex,be&&!ye.dirty){D.push(ne.tileID);continue}let ve;y.bindFramebuffer.set(ye.fb.framebuffer),this.renderedToTile=!1,ye.dirty&&(y.clear({color:i.Color.transparent,stencil:0}),ye.dirty=!1);for(let Se=I.start;Se<=I.end;++Se){const re=h.style._layers[O[Se]];if(re.isHidden(h.transform.zoom))continue;const ge=h.style._getLayerSourceCache(re),Ie=ge?this.proxyToSource[q.key][ge.id]:[q];if(!Ie)continue;const Ae=Ie;y.viewport.set([0,0,ye.fb.width,ye.fb.height]),ve!==(ge?ge.id:null)&&(this._setupStencil(ye,Ie,re,ge),ve=ge?ge.id:null),h.renderLayer(h,ge,re,Ae)}this.renderedToTile?(ye.dirty=!0,D.push(ne.tileID)):be||--Z,Z===5&&(Z=0,this.renderToBackBuffer(D))}return this.renderToBackBuffer(D),this.renderingToTexture=!1,y.bindFramebuffer.set(null),y.viewport.set([0,0,h.width,h.height]),I.end+1}postRender(){}renderCacheEfficiency(c){const h=c.order.length;if(h===0)return{efficiency:100};let y,x=0,S=0,I=!1;for(let D=0;D<h;++D){const O=c._layers[c.order[D]];this._style.isLayerDraped(O)?(I&&++x,++S):I||(I=!0,y=O.id)}return S===0?{efficiency:100}:{efficiency:100*(1-x/S),firstUndrapedLayer:y}}getMinElevationBelowMSL(){let c=0;return this._visibleDemTiles.filter(h=>h.dem).forEach(h=>{c=Math.min(c,h.dem.tree.minimums[0])}),c===0?c:(c-30)*this._exaggeration}raycast(c,h,y){if(!this._visibleDemTiles)return null;const x=this._visibleDemTiles.filter(S=>S.dem).map(S=>{const I=S.tileID,D=1<<I.overscaledZ,{x:O,y:Z}=I.canonical,q=O/D,ne=(O+1)/D,pe=Z/D,ye=(Z+1)/D;return{minx:q,miny:pe,maxx:ne,maxy:ye,t:S.dem.tree.raycastRoot(q,pe,ne,ye,c,h,y),tile:S}});x.sort((S,I)=>(S.t!==null?S.t:Number.MAX_VALUE)-(I.t!==null?I.t:Number.MAX_VALUE));for(const S of x){if(S.t==null)return null;const I=S.tile.dem.tree.raycast(S.minx,S.miny,S.maxx,S.maxy,c,h,y);if(I!=null)return I}return null}_createFBO(){const c=this.painter.context,h=c.gl,y=this.drapeBufferSize;c.activeTexture.set(h.TEXTURE0);const x=new i.Texture(c,{width:y[0],height:y[1],data:null},h.RGBA);x.bind(h.LINEAR,h.CLAMP_TO_EDGE);const S=c.createFramebuffer(y[0],y[1],!1);return S.colorAttachment.set(x.texture),S.depthAttachment=new Xe(c,S.framebuffer),this._sharedDepthStencil===void 0?(this._sharedDepthStencil=c.createRenderbuffer(c.gl.DEPTH_STENCIL,y[0],y[1]),this._stencilRef=0,S.depthAttachment.set(this._sharedDepthStencil),c.clear({stencil:0})):S.depthAttachment.set(this._sharedDepthStencil),c.extTextureFilterAnisotropic&&!c.extTextureFilterAnisotropicForceOff&&h.texParameterf(h.TEXTURE_2D,c.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,c.extTextureFilterAnisotropicMax),{fb:S,tex:x,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const c in this._style._sourceCaches)if(this._style._sourceCaches[c].hasTransition())return!0;return this._style.order.some(c=>{const h=this._style._layers[c],y=h.isHidden(this.painter.transform.zoom);return h.type==="custom"?!y&&h.shouldRedrape():!y&&h.hasTransition()})}_clearLineLayersFromRenderCache(){let c=!1;for(const y of this._style._getSources())if(y instanceof Kt){c=!0;break}if(!c)return;const h={};for(let y=0;y<this._style.order.length;++y){const x=this._style._layers[this._style.order[y]],S=this._style._getLayerSourceCache(x);if(S&&!h[S.id]&&!x.isHidden(this.painter.transform.zoom)&&x.type==="line"&&x.widthExpression()instanceof i.ZoomDependentExpression){h[S.id]=!0;for(const I of this.proxyCoords){const D=this.proxyToSource[I.key][S.id];if(D)for(const O of D)this._clearRenderCacheForTile(S.id,O)}}}}_clearRasterLayersFromRenderCache(){let c=!1;for(const y in this._style._sourceCaches)if(this._style._sourceCaches[y]._source instanceof Ut){c=!0;break}if(!c)return;const h={};for(let y=0;y<this._style.order.length;++y){const x=this._style._layers[this._style.order[y]],S=this._style._getLayerSourceCache(x);if(!S||h[S.id]||x.isHidden(this.painter.transform.zoom)||x.type!=="raster")continue;const I=x.paint.get("raster-fade-duration");for(const D of this.proxyCoords){const O=this.proxyToSource[D.key][S.id];if(O)for(const Z of O){const q=Ir(S.getTile(Z),S.findLoadedParent(Z,0),S,this.painter.transform,I);(q.opacity!==1||q.mix!==0)&&this._clearRenderCacheForTile(S.id,Z)}}}}_setupDrapedRenderBatches(){const c=this._style.order,h=c.length;if(h===0)return;const y=[];let x,S=0,I=this._style._layers[c[S]];for(;!this._style.isLayerDraped(I)&&I.isHidden(this.painter.transform.zoom)&&++S<h;)I=this._style._layers[c[S]];for(;S<h;++S){const D=this._style._layers[c[S]];D.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(D)?x===void 0&&(x=S):x!==void 0&&(y.push({start:x,end:S-1}),x=void 0))}x!==void 0&&y.push({start:x,end:S-1}),this._drapedRenderBatches=y}_setupRenderCache(c){const h=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,h.renderCache.length>h.renderCachePool.length){const I=Object.values(h.proxyCachedFBO);h.proxyCachedFBO={};for(let D=0;D<I.length;++D){const O=Object.values(I[D]);h.renderCachePool.push(...O)}}return}this._clearRasterLayersFromRenderCache();const y=this.proxyCoords,x=this._tilesDirty;for(let I=y.length-1;I>=0;I--){const D=y[I];if(h.getTileByID(D.key),h.proxyCachedFBO[D.key]!==void 0){const O=c[D.key],Z=this.proxyToSource[D.key];let q=0;for(const ne in Z){const pe=Z[ne],ye=O[ne];if(!ye||ye.length!==pe.length||pe.some((be,ve)=>be!==ye[ve]||x[ne]&&x[ne].hasOwnProperty(be.key))){q=-1;break}++q}for(const ne in h.proxyCachedFBO[D.key])h.renderCache[h.proxyCachedFBO[D.key][ne]].dirty=q<0||q!==Object.values(O).length}}const S=[...this._drapedRenderBatches];S.sort((I,D)=>D.end-D.start-(I.end-I.start));for(const I of S)for(const D of y){if(h.proxyCachedFBO[D.key])continue;let O=h.renderCachePool.pop();O===void 0&&h.renderCache.length<50&&(O=h.renderCache.length,h.renderCache.push(this._createFBO())),O!==void 0&&(h.proxyCachedFBO[D.key]={},h.proxyCachedFBO[D.key][I.start]=O,h.renderCache[O].dirty=!0)}this._tilesDirty={}}_setupStencil(c,h,y,x){if(!x||!this._sourceTilesOverlap[x.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const S=this.painter.context,I=S.gl;if(h.length<=1)return void(this._overlapStencilType=!1);let D;if(y.isTileClipped())D=h.length,this._overlapStencilMode.test={func:I.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(h[0].overscaledZ>h[h.length-1].overscaledZ))return void(this._overlapStencilType=!1);D=1,this._overlapStencilMode.test={func:I.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+D>255&&(S.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=D,this._overlapStencilMode.ref=this._stencilRef,y.isTileClipped()&&this._renderTileClippingMasks(h,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return this._overlapStencilType==="Clip"||this._overlapStencilType==="Mask"}stencilModeForRTTOverlap(c){return this.renderingToTexture&&this._overlapStencilType?(this._overlapStencilType==="Clip"&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[c.key]),this._overlapStencilMode):i.StencilMode.disabled}_renderTileClippingMasks(c,h){const y=this.painter,x=this.painter.context,S=x.gl;y._tileClippingMaskIDs={},x.setColorMode(i.ColorMode.disabled),x.setDepthMode(i.DepthMode.disabled);const I=y.useProgram("clippingMask");for(const D of c){const O=y._tileClippingMaskIDs[D.key]=--h;I.draw(x,S.TRIANGLES,i.DepthMode.disabled,new i.StencilMode({func:S.ALWAYS,mask:0},O,255,S.KEEP,S.KEEP,S.REPLACE),i.ColorMode.disabled,i.CullFaceMode.disabled,Cs(D.projMatrix),"$clipping",y.tileExtentBuffer,y.quadTriangleIndexBuffer,y.tileExtentSegments)}}pointCoordinate(c){const h=this.painter.transform;if(c.x<0||c.x>h.width||c.y<0||c.y>h.height)return null;const y=[c.x,c.y,1,1];i.transformMat4$1(y,y,h.pixelMatrixInverse),i.scale$1(y,y,1/y[3]),y[0]/=h.worldSize,y[1]/=h.worldSize;const x=h._camera.position,S=i.mercatorZfromAltitude(1,h.center.lat),I=[x[0],x[1],x[2]/S,0],D=i.subtract([],y.slice(0,3),I);i.normalize(D,D);const O=this.raycast(I,D,this._exaggeration);return O!==null&&O?(i.scaleAndAdd(I,I,D,O),I[3]=I[2],I[2]*=S,I):null}drawDepth(){const c=this.painter,h=c.context,y=this.proxySourceCache,x=Math.ceil(c.width),S=Math.ceil(c.height);if(!this._depthFBO||this._depthFBO.width===x&&this._depthFBO.height===S||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const I=h.gl,D=h.createFramebuffer(x,S,!0);h.activeTexture.set(I.TEXTURE0);const O=new i.Texture(h,{width:x,height:S,data:null},I.RGBA);O.bind(I.NEAREST,I.CLAMP_TO_EDGE),D.colorAttachment.set(O.texture);const Z=h.createRenderbuffer(h.gl.DEPTH_COMPONENT16,x,S);D.depthAttachment.set(Z),this._depthFBO=D,this._depthTexture=O}h.bindFramebuffer.set(this._depthFBO.framebuffer),h.viewport.set([0,0,x,S]),function(I,D,O,Z){if(I.transform.projection.name==="globe")return;const q=I.context,ne=q.gl;q.clear({depth:1});const pe=I.useProgram("terrainDepth"),ye=new i.DepthMode(ne.LESS,i.DepthMode.ReadWrite,I.depthRangeFor3D);for(const be of Z){const ve=O.getTile(be),Se=Tr(be.projMatrix,0);D.setupElevationDraw(ve,pe),pe.draw(q,ne.TRIANGLES,ye,i.StencilMode.disabled,i.ColorMode.unblended,i.CullFaceMode.backCCW,Se,"terrain_depth",D.gridBuffer,D.gridIndexBuffer,D.gridNoSkirtSegments)}}(c,this,y,this.proxyCoords)}_setupProxiedCoordsForOrtho(c,h,y){if(c.getSource()instanceof nr)return this._setupProxiedCoordsForImageSource(c,h,y);this._findCoveringTileCache[c.id]=this._findCoveringTileCache[c.id]||{};const x=this.proxiedCoords[c.id]=[],S=this.proxyCoords;for(let D=0;D<S.length;D++){const O=S[D],Z=this._findTileCoveringTileID(O,c);if(Z){const q=this._createProxiedId(O,Z,y[O.key]&&y[O.key][c.id]);x.push(q),this.proxyToSource[O.key][c.id]=[q]}}let I=!1;for(let D=0;D<h.length;D++){const O=c.getTile(h[D]);if(!O||!O.hasData())continue;const Z=this._findTileCoveringTileID(O.tileID,this.proxySourceCache);if(Z&&Z.tileID.canonical.z!==O.tileID.canonical.z){const q=this.proxyToSource[Z.tileID.key][c.id],ne=this._createProxiedId(Z.tileID,O,y[Z.tileID.key]&&y[Z.tileID.key][c.id]);q?q.splice(q.length-1,0,ne):this.proxyToSource[Z.tileID.key][c.id]=[ne],x.push(ne),I=!0}}this._sourceTilesOverlap[c.id]=I}_setupProxiedCoordsForImageSource(c,h,y){if(!c.getSource().loaded())return;const x=this.proxiedCoords[c.id]=[],S=this.proxyCoords,I=c.getSource(),D=new i.Point(I.tileID.x,I.tileID.y)._div(1<<I.tileID.z),O=I.coordinates.map(i.MercatorCoordinate.fromLngLat).reduce((q,ne)=>(q.min.x=Math.min(q.min.x,ne.x-D.x),q.min.y=Math.min(q.min.y,ne.y-D.y),q.max.x=Math.max(q.max.x,ne.x-D.x),q.max.y=Math.max(q.max.y,ne.y-D.y),q),{min:new i.Point(Number.MAX_VALUE,Number.MAX_VALUE),max:new i.Point(-Number.MAX_VALUE,-Number.MAX_VALUE)}),Z=(q,ne)=>{const pe=q.wrap+q.canonical.x/(1<<q.canonical.z),ye=q.canonical.y/(1<<q.canonical.z),be=i.EXTENT/(1<<q.canonical.z),ve=ne.wrap+ne.canonical.x/(1<<ne.canonical.z),Se=ne.canonical.y/(1<<ne.canonical.z);return pe+be<ve+O.min.x||pe>ve+O.max.x||ye+be<Se+O.min.y||ye>Se+O.max.y};for(let q=0;q<S.length;q++){const ne=S[q];for(let pe=0;pe<h.length;pe++){const ye=c.getTile(h[pe]);if(!ye||!ye.hasData()||Z(ne,ye.tileID))continue;const be=this._createProxiedId(ne,ye,y[ne.key]&&y[ne.key][c.id]),ve=this.proxyToSource[ne.key][c.id];ve?ve.push(be):this.proxyToSource[ne.key][c.id]=[be],x.push(be)}}}_createProxiedId(c,h,y){let x=this.orthoMatrix;if(y){const S=y.find(I=>I.key===h.tileID.key);if(S)return S}if(h.tileID.key!==c.key){const S=c.canonical.z-h.tileID.canonical.z;let I,D,O;x=i.create();const Z=h.tileID.wrap-c.wrap<<c.overscaledZ;S>0?(I=i.EXTENT>>S,D=I*((h.tileID.canonical.x<<S)-c.canonical.x+Z),O=I*((h.tileID.canonical.y<<S)-c.canonical.y)):(I=i.EXTENT<<-S,D=i.EXTENT*(h.tileID.canonical.x-(c.canonical.x+Z<<-S)),O=i.EXTENT*(h.tileID.canonical.y-(c.canonical.y<<-S))),i.ortho(x,0,I,0,I,0,1),i.translate(x,x,[D,O,0])}return new Xl(h.tileID,c.key,x)}_findTileCoveringTileID(c,h){let y=h.getTile(c);if(y&&y.hasData())return y;const x=this._findCoveringTileCache[h.id],S=x[c.key];if(y=S?h.getTileByID(S):null,y&&y.hasData()||S===null)return y;let I=y?y.tileID:c,D=I.overscaledZ;const O=h.getSource().minzoom,Z=[];if(!S){const ne=h.getSource().maxzoom;if(c.canonical.z>=ne){const pe=c.canonical.z-ne;h.getSource().reparseOverscaled?(D=Math.max(c.canonical.z+2,h.transform.tileZoom),I=new i.OverscaledTileID(D,c.wrap,ne,c.canonical.x>>pe,c.canonical.y>>pe)):pe!==0&&(D=ne,I=new i.OverscaledTileID(D,c.wrap,ne,c.canonical.x>>pe,c.canonical.y>>pe))}I.key!==c.key&&(Z.push(I.key),y=h.getTile(I))}const q=ne=>{Z.forEach(pe=>{x[pe]=ne}),Z.length=0};for(D-=1;D>=O&&(!y||!y.hasData());D--){y&&q(y.tileID.key);const ne=I.calculateScaledKey(D);if(y=h.getTileByID(ne),y&&y.hasData())break;const pe=x[ne];if(pe===null)break;pe===void 0?Z.push(ne):y=h.getTileByID(pe)}return q(y?y.tileID.key:null),y&&y.hasData()?y:null}findDEMTileFor(c){return this.enabled?this._findTileCoveringTileID(c,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(c,h){let y=this._tilesDirty[c];y||(y=this._tilesDirty[c]={}),y[h.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const c=function(h){let y=0;const x=new i.StructArrayLayout2ui4,S=131;for(let I=1;I<129;I++){for(let D=1;D<129;D++)y=I*S+D,x.emplaceBack(y,y+1),x.emplaceBack(y,y+S),x.emplaceBack(y+1,y+S),I===128&&x.emplaceBack(y+S,y+S+1);x.emplaceBack(y+1,y+1+S)}return x}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(c),this.wireframeSegments=i.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,c.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}class wr{static cacheKey(c,h,y,x){let S=`${h}${x?x.cacheKey:""}`;for(const I of y)c.usedDefines.includes(I)&&(S+=`/${I}`);return S}constructor(c,h,y,x,S,I){const D=c.gl;this.program=D.createProgram();const O=function(re){const ge=[];for(let Ie=0;Ie<re.length;Ie++){if(re[Ie]===null)continue;const Ae=re[Ie].split(" ");ge.push(Ae.pop())}return ge}(y.staticAttributes),Z=x?x.getBinderAttributes():[],q=O.concat(Z);let ne=x?x.defines():[];ne=ne.concat(I.map(re=>`#define ${re}`));const pe=c.isWebGL2?`#version 300 es
`:"",ye=pe+ne.concat(c.extStandardDerivatives&&pe.length===0?`#extension GL_OES_standard_derivatives : enable
`.concat(se):se,se,oe,Y.fragmentSource,A.fragmentSource,y.fragmentSource).join(`
`),be=pe+ne.concat(`
#ifdef GL_ES
precision highp float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`,oe,Y.vertexSource,A.vertexSource,T.vertexSource,y.vertexSource).join(`
`),ve=D.createShader(D.FRAGMENT_SHADER);if(D.isContextLost())return void(this.failedToCreate=!0);D.shaderSource(ve,ye),D.compileShader(ve),D.attachShader(this.program,ve);const Se=D.createShader(D.VERTEX_SHADER);if(D.isContextLost())this.failedToCreate=!0;else{D.shaderSource(Se,be),D.compileShader(Se),D.attachShader(this.program,Se),this.attributes={},this.numAttributes=q.length;for(let re=0;re<this.numAttributes;re++)q[re]&&(D.bindAttribLocation(this.program,re,q[re]),this.attributes[q[re]]=re);D.linkProgram(this.program),D.deleteShader(Se),D.deleteShader(ve),this.fixedUniforms=S(c),this.binderUniforms=x?x.getUniforms(c):[],I.includes("TERRAIN")&&(this.terrainUniforms=(re=>({u_dem:new i.Uniform1i(re),u_dem_prev:new i.Uniform1i(re),u_dem_unpack:new i.Uniform4f(re),u_dem_tl:new i.Uniform2f(re),u_dem_scale:new i.Uniform1f(re),u_dem_tl_prev:new i.Uniform2f(re),u_dem_scale_prev:new i.Uniform1f(re),u_dem_size:new i.Uniform1f(re),u_dem_lerp:new i.Uniform1f(re),u_exaggeration:new i.Uniform1f(re),u_depth:new i.Uniform1i(re),u_depth_size_inv:new i.Uniform2f(re),u_meter_to_dem:new i.Uniform1f(re),u_label_plane_matrix_inv:new i.UniformMatrix4f(re)}))(c)),I.includes("GLOBE")&&(this.globeUniforms=(re=>({u_tile_tl_up:new i.Uniform3f(re),u_tile_tr_up:new i.Uniform3f(re),u_tile_br_up:new i.Uniform3f(re),u_tile_bl_up:new i.Uniform3f(re),u_tile_up_scale:new i.Uniform1f(re)}))(c)),I.includes("FOG")&&(this.fogUniforms=(re=>({u_fog_matrix:new i.UniformMatrix4f(re),u_fog_range:new i.Uniform2f(re),u_fog_color:new i.Uniform4f(re),u_fog_horizon_blend:new i.Uniform1f(re),u_fog_temporal_offset:new i.Uniform1f(re),u_frustum_tl:new i.Uniform3f(re),u_frustum_tr:new i.Uniform3f(re),u_frustum_br:new i.Uniform3f(re),u_frustum_bl:new i.Uniform3f(re),u_globe_pos:new i.Uniform3f(re),u_globe_radius:new i.Uniform1f(re),u_globe_transition:new i.Uniform1f(re),u_is_globe:new i.Uniform1i(re),u_viewport:new i.Uniform2f(re)}))(c))}}setTerrainUniformValues(c,h){if(!this.terrainUniforms)return;const y=this.terrainUniforms;if(!this.failedToCreate){c.program.set(this.program);for(const x in h)y[x]&&y[x].set(this.program,x,h[x])}}setGlobeUniformValues(c,h){if(!this.globeUniforms)return;const y=this.globeUniforms;if(!this.failedToCreate){c.program.set(this.program);for(const x in h)y[x]&&y[x].set(this.program,x,h[x])}}setFogUniformValues(c,h){if(!this.fogUniforms)return;const y=this.fogUniforms;if(!this.failedToCreate){c.program.set(this.program);for(const x in h)y[x].set(this.program,x,h[x])}}draw(c,h,y,x,S,I,D,O,Z,q,ne,pe,ye,be,ve){const Se=c.gl;if(this.failedToCreate)return;c.program.set(this.program),c.setDepthMode(y),c.setStencilMode(x),c.setColorMode(S),c.setCullFace(I);for(const ge of Object.keys(this.fixedUniforms))this.fixedUniforms[ge].set(this.program,ge,D[ge]);be&&be.setUniforms(this.program,c,this.binderUniforms,pe,{zoom:ye});const re={[Se.LINES]:2,[Se.TRIANGLES]:3,[Se.LINE_STRIP]:1}[h];for(const ge of ne.get()){const Ie=ge.vaos||(ge.vaos={});(Ie[O]||(Ie[O]=new nt)).bind(c,this,Z,be?be.getPaintVertexBuffers():[],q,ge.vertexOffset,ve||[]),Se.drawElements(h,ge.primitiveLength*re,Se.UNSIGNED_SHORT,ge.primitiveOffset*re*2)}}}function Fo(m,c){const h=Math.pow(2,c.tileID.overscaledZ),y=c.tileSize*Math.pow(2,m.transform.tileZoom)/h,x=y*(c.tileID.canonical.x+c.tileID.wrap*h),S=y*c.tileID.canonical.y;return{u_image:0,u_texsize:c.imageAtlasTexture.size,u_tile_units_to_pixels:1/ct(c,1,m.transform.tileZoom),u_pixel_coord_upper:[x>>16,S>>16],u_pixel_coord_lower:[65535&x,65535&S]}}const ua=i.create(),Fs=(m,c,h,y,x,S,I,D,O,Z,q)=>{const ne=c.style.light,pe=ne.properties.get("position"),ye=[pe.x,pe.y,pe.z],be=i.create$1();ne.properties.get("anchor")==="viewport"&&(i.fromRotation(be,-c.transform.angle),i.transformMat3(ye,ye,be));const ve=ne.properties.get("color"),Se=c.transform,re={u_matrix:m,u_lightpos:ye,u_lightintensity:ne.properties.get("intensity"),u_lightcolor:[ve.r,ve.g,ve.b],u_vertical_gradient:+h,u_opacity:y,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:ua,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:x,u_edge_radius:S};return Se.projection.name==="globe"&&(re.u_tile_id=[I.canonical.x,I.canonical.y,1<<I.canonical.z],re.u_zoom_transition=O,re.u_inv_rot_matrix=q,re.u_merc_center=Z,re.u_up_dir=Se.projection.upVector(new i.CanonicalTileID(0,0,0),Z[0]*i.EXTENT,Z[1]*i.EXTENT),re.u_height_lift=D),re},Zo=(m,c,h,y,x,S,I,D,O,Z,q,ne)=>{const pe=Fs(m,c,h,y,x,S,I,O,Z,q,ne),ye={u_height_factor:-Math.pow(2,I.overscaledZ)/D.tileSize/8};return i.extend(pe,Fo(c,D),ye)},da=m=>({u_matrix:m}),Es=(m,c,h)=>i.extend(da(m),Fo(c,h)),ha=(m,c)=>({u_matrix:m,u_world:c}),i1=(m,c,h,y)=>i.extend(Es(m,c,h),{u_world:y}),o1=i.create(),zd=(m,c,h,y,x,S)=>{const I=m.transform,D=I.projection.name==="globe";let O;if(S.paint.get("circle-pitch-alignment")==="map")if(D){const q=i.globePixelsToTileUnits(I.zoom,c.canonical)*I._pixelsPerMercatorPixel;O=Float32Array.from([q,0,0,q])}else O=I.calculatePixelsToTileUnitsMatrix(h);else O=new Float32Array([I.pixelsToGLUnits[0],0,0,I.pixelsToGLUnits[1]]);const Z={u_camera_to_center_distance:I.cameraToCenterDistance,u_matrix:m.translatePosMatrix(c.projMatrix,h,S.paint.get("circle-translate"),S.paint.get("circle-translate-anchor")),u_device_pixel_ratio:i.exported.devicePixelRatio,u_extrude_scale:O,u_inv_rot_matrix:o1,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(D){Z.u_inv_rot_matrix=y,Z.u_merc_center=x,Z.u_tile_id=[c.canonical.x,c.canonical.y,1<<c.canonical.z],Z.u_zoom_transition=i.globeToMercatorTransition(I.zoom);const q=x[0]*i.EXTENT,ne=x[1]*i.EXTENT;Z.u_up_dir=I.projection.upVector(new i.CanonicalTileID(0,0,0),q,ne)}return Z},Vr=m=>{const c=[];return m.paint.get("circle-pitch-alignment")==="map"&&c.push("PITCH_WITH_MAP"),m.paint.get("circle-pitch-scale")==="map"&&c.push("SCALE_WITH_MAP"),c},Yl=(m,c,h,y)=>{const x=i.EXTENT/h.tileSize;return{u_matrix:m,u_camera_to_center_distance:c.getCameraToCenterDistance(y),u_extrude_scale:[c.pixelsToGLUnits[0]/x,c.pixelsToGLUnits[1]/x]}},Bo=(m,c,h=1)=>({u_matrix:m,u_color:c,u_overlay:0,u_overlay_scale:h}),gl=i.create(),Jh=(m,c,h,y,x,S,I)=>{const D=m.transform,O=D.projection.name==="globe",Z=O?i.globePixelsToTileUnits(D.zoom,c.canonical)*D._pixelsPerMercatorPixel:ct(h,1,S),q={u_matrix:c.projMatrix,u_extrude_scale:Z,u_intensity:I,u_inv_rot_matrix:gl,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(O){q.u_inv_rot_matrix=y,q.u_merc_center=x,q.u_tile_id=[c.canonical.x,c.canonical.y,1<<c.canonical.z],q.u_zoom_transition=i.globeToMercatorTransition(D.zoom);const ne=x[0]*i.EXTENT,pe=x[1]*i.EXTENT;q.u_up_dir=D.projection.upVector(new i.CanonicalTileID(0,0,0),ne,pe)}return q},s1=(m,c,h,y,x,S,I)=>{const D=m.transform,O=D.calculatePixelsToTileUnitsMatrix(c);return{u_matrix:Wc(m,c,h,y),u_pixels_to_tile_units:O,u_device_pixel_ratio:S,u_units_to_pixels:[1/D.pixelsToGLUnits[0],1/D.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:x,u_texsize:as(h)?c.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:ss(c,m.transform),u_alpha_discard_threshold:0,u_trim_offset:I}},Kl=(m,c,h,y,x)=>{const S=m.transform;return{u_matrix:Wc(m,c,h,y),u_texsize:c.imageAtlasTexture.size,u_pixels_to_tile_units:S.calculatePixelsToTileUnitsMatrix(c),u_device_pixel_ratio:x,u_image:0,u_tile_units_to_pixels:ss(c,S),u_units_to_pixels:[1/S.pixelsToGLUnits[0],1/S.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function ss(m,c){return 1/ct(m,1,c.tileZoom)}function Wc(m,c,h,y){return m.translatePosMatrix(y||c.tileID.projMatrix,c,h.paint.get("line-translate"),h.paint.get("line-translate-anchor"))}function as(m){const c=m.paint.get("line-dasharray").value;return c.value||c.kind!=="constant"}const ku=(m,c,h,y,x,S)=>{return{u_matrix:m,u_tl_parent:c,u_scale_parent:h,u_fade_t:y.mix,u_opacity:y.opacity*x.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:x.paint.get("raster-brightness-min"),u_brightness_high:x.paint.get("raster-brightness-max"),u_saturation_factor:(D=x.paint.get("raster-saturation"),D>0?1-1/(1.001-D):-D),u_contrast_factor:(I=x.paint.get("raster-contrast"),I>0?1/(1-I):1+I),u_spin_weights:Xo(x.paint.get("raster-hue-rotate")),u_perspective_transform:S};var I,D};function Xo(m){m*=Math.PI/180;const c=Math.sin(m),h=Math.cos(m);return[(2*h+1)/3,(-Math.sqrt(3)*c-h+1)/3,(Math.sqrt(3)*c-h+1)/3]}const yl=i.create(),Jl=(m,c,h,y,x,S,I,D,O,Z,q,ne,pe,ye,be,ve)=>{const Se=x.transform,re={u_is_size_zoom_constant:+(m==="constant"||m==="source"),u_is_size_feature_constant:+(m==="constant"||m==="camera"),u_size_t:c?c.uSizeT:0,u_size:c?c.uSize:0,u_camera_to_center_distance:Se.cameraToCenterDistance,u_rotate_symbol:+h,u_aspect_ratio:Se.width/Se.height,u_fade_change:x.options.fadeDuration?x.symbolFadeChange:1,u_matrix:S,u_label_plane_matrix:I,u_coord_matrix:D,u_is_text:+O,u_pitch_with_map:+y,u_texsize:Z,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:yl,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:yl,u_up_vector:[0,-1,0]};return ve.name==="globe"&&(re.u_tile_id=[q.canonical.x,q.canonical.y,1<<q.canonical.z],re.u_zoom_transition=ne,re.u_inv_rot_matrix=ye,re.u_merc_center=pe,re.u_camera_forward=Se._camera.forward(),re.u_ecef_origin=i.globeECEFOrigin(Se.globeMatrix,q.toUnwrapped()),re.u_tile_matrix=Float32Array.from(Se.globeMatrix),re.u_up_vector=be),re},Ql=(m,c,h,y,x,S,I,D,O,Z,q,ne,pe,ye,be,ve,Se)=>i.extend(Jl(m,c,h,y,x,S,I,D,O,Z,ne,pe,ye,be,ve,Se),{u_gamma_scale:y?x.transform.cameraToCenterDistance*Math.cos(x.terrain?0:x.transform._pitch):1,u_device_pixel_ratio:i.exported.devicePixelRatio,u_is_halo:+q}),Qh=(m,c,h,y,x,S,I,D,O,Z,q,ne,pe,ye,be,ve)=>i.extend(Ql(m,c,h,y,x,S,I,D,!0,O,!0,q,ne,pe,ye,be,ve),{u_texsize_icon:Z,u_texture_icon:1}),ec=(m,c,h)=>({u_matrix:m,u_opacity:c,u_color:h}),Ld=(m,c,h,y,x)=>i.extend(function(S,I,D){const O=I.imageManager.getPattern(S.toString()),{width:Z,height:q}=I.imageManager.getPixelSize(),ne=Math.pow(2,D.tileID.overscaledZ),pe=D.tileSize*Math.pow(2,I.transform.tileZoom)/ne,ye=pe*(D.tileID.canonical.x+D.tileID.wrap*ne),be=pe*D.tileID.canonical.y;return{u_image:0,u_pattern_tl:O.tl,u_pattern_br:O.br,u_texsize:[Z,q],u_pattern_size:O.displaySize,u_tile_units_to_pixels:1/ct(D,1,I.transform.tileZoom),u_pixel_coord_upper:[ye>>16,be>>16],u_pixel_coord_lower:[65535&ye,65535&be]}}(y,h,x),{u_matrix:m,u_opacity:c}),Hc={fillExtrusion:m=>({u_matrix:new i.UniformMatrix4f(m),u_lightpos:new i.Uniform3f(m),u_lightintensity:new i.Uniform1f(m),u_lightcolor:new i.Uniform3f(m),u_vertical_gradient:new i.Uniform1f(m),u_opacity:new i.Uniform1f(m),u_edge_radius:new i.Uniform1f(m),u_ao:new i.Uniform2f(m),u_tile_id:new i.Uniform3f(m),u_zoom_transition:new i.Uniform1f(m),u_inv_rot_matrix:new i.UniformMatrix4f(m),u_merc_center:new i.Uniform2f(m),u_up_dir:new i.Uniform3f(m),u_height_lift:new i.Uniform1f(m)}),fillExtrusionPattern:m=>({u_matrix:new i.UniformMatrix4f(m),u_lightpos:new i.Uniform3f(m),u_lightintensity:new i.Uniform1f(m),u_lightcolor:new i.Uniform3f(m),u_vertical_gradient:new i.Uniform1f(m),u_height_factor:new i.Uniform1f(m),u_edge_radius:new i.Uniform1f(m),u_ao:new i.Uniform2f(m),u_tile_id:new i.Uniform3f(m),u_zoom_transition:new i.Uniform1f(m),u_inv_rot_matrix:new i.UniformMatrix4f(m),u_merc_center:new i.Uniform2f(m),u_up_dir:new i.Uniform3f(m),u_height_lift:new i.Uniform1f(m),u_image:new i.Uniform1i(m),u_texsize:new i.Uniform2f(m),u_pixel_coord_upper:new i.Uniform2f(m),u_pixel_coord_lower:new i.Uniform2f(m),u_tile_units_to_pixels:new i.Uniform1f(m),u_opacity:new i.Uniform1f(m)}),fill:m=>({u_matrix:new i.UniformMatrix4f(m)}),fillPattern:m=>({u_matrix:new i.UniformMatrix4f(m),u_image:new i.Uniform1i(m),u_texsize:new i.Uniform2f(m),u_pixel_coord_upper:new i.Uniform2f(m),u_pixel_coord_lower:new i.Uniform2f(m),u_tile_units_to_pixels:new i.Uniform1f(m)}),fillOutline:m=>({u_matrix:new i.UniformMatrix4f(m),u_world:new i.Uniform2f(m)}),fillOutlinePattern:m=>({u_matrix:new i.UniformMatrix4f(m),u_world:new i.Uniform2f(m),u_image:new i.Uniform1i(m),u_texsize:new i.Uniform2f(m),u_pixel_coord_upper:new i.Uniform2f(m),u_pixel_coord_lower:new i.Uniform2f(m),u_tile_units_to_pixels:new i.Uniform1f(m)}),circle:m=>({u_camera_to_center_distance:new i.Uniform1f(m),u_extrude_scale:new i.UniformMatrix2f(m),u_device_pixel_ratio:new i.Uniform1f(m),u_matrix:new i.UniformMatrix4f(m),u_inv_rot_matrix:new i.UniformMatrix4f(m),u_merc_center:new i.Uniform2f(m),u_tile_id:new i.Uniform3f(m),u_zoom_transition:new i.Uniform1f(m),u_up_dir:new i.Uniform3f(m)}),collisionBox:m=>({u_matrix:new i.UniformMatrix4f(m),u_camera_to_center_distance:new i.Uniform1f(m),u_extrude_scale:new i.Uniform2f(m)}),collisionCircle:m=>({u_matrix:new i.UniformMatrix4f(m),u_inv_matrix:new i.UniformMatrix4f(m),u_camera_to_center_distance:new i.Uniform1f(m),u_viewport_size:new i.Uniform2f(m)}),debug:m=>({u_color:new i.UniformColor(m),u_matrix:new i.UniformMatrix4f(m),u_overlay:new i.Uniform1i(m),u_overlay_scale:new i.Uniform1f(m)}),clippingMask:m=>({u_matrix:new i.UniformMatrix4f(m)}),heatmap:m=>({u_extrude_scale:new i.Uniform1f(m),u_intensity:new i.Uniform1f(m),u_matrix:new i.UniformMatrix4f(m),u_inv_rot_matrix:new i.UniformMatrix4f(m),u_merc_center:new i.Uniform2f(m),u_tile_id:new i.Uniform3f(m),u_zoom_transition:new i.Uniform1f(m),u_up_dir:new i.Uniform3f(m)}),heatmapTexture:m=>({u_image:new i.Uniform1i(m),u_color_ramp:new i.Uniform1i(m),u_opacity:new i.Uniform1f(m)}),hillshade:m=>({u_matrix:new i.UniformMatrix4f(m),u_image:new i.Uniform1i(m),u_latrange:new i.Uniform2f(m),u_light:new i.Uniform2f(m),u_shadow:new i.UniformColor(m),u_highlight:new i.UniformColor(m),u_accent:new i.UniformColor(m)}),hillshadePrepare:m=>({u_matrix:new i.UniformMatrix4f(m),u_image:new i.Uniform1i(m),u_dimension:new i.Uniform2f(m),u_zoom:new i.Uniform1f(m),u_unpack:new i.Uniform4f(m)}),line:m=>({u_matrix:new i.UniformMatrix4f(m),u_pixels_to_tile_units:new i.UniformMatrix2f(m),u_device_pixel_ratio:new i.Uniform1f(m),u_units_to_pixels:new i.Uniform2f(m),u_dash_image:new i.Uniform1i(m),u_gradient_image:new i.Uniform1i(m),u_image_height:new i.Uniform1f(m),u_texsize:new i.Uniform2f(m),u_tile_units_to_pixels:new i.Uniform1f(m),u_alpha_discard_threshold:new i.Uniform1f(m),u_trim_offset:new i.Uniform2f(m)}),linePattern:m=>({u_matrix:new i.UniformMatrix4f(m),u_texsize:new i.Uniform2f(m),u_pixels_to_tile_units:new i.UniformMatrix2f(m),u_device_pixel_ratio:new i.Uniform1f(m),u_image:new i.Uniform1i(m),u_units_to_pixels:new i.Uniform2f(m),u_tile_units_to_pixels:new i.Uniform1f(m),u_alpha_discard_threshold:new i.Uniform1f(m)}),raster:m=>({u_matrix:new i.UniformMatrix4f(m),u_tl_parent:new i.Uniform2f(m),u_scale_parent:new i.Uniform1f(m),u_fade_t:new i.Uniform1f(m),u_opacity:new i.Uniform1f(m),u_image0:new i.Uniform1i(m),u_image1:new i.Uniform1i(m),u_brightness_low:new i.Uniform1f(m),u_brightness_high:new i.Uniform1f(m),u_saturation_factor:new i.Uniform1f(m),u_contrast_factor:new i.Uniform1f(m),u_spin_weights:new i.Uniform3f(m),u_perspective_transform:new i.Uniform2f(m)}),symbolIcon:m=>({u_is_size_zoom_constant:new i.Uniform1i(m),u_is_size_feature_constant:new i.Uniform1i(m),u_size_t:new i.Uniform1f(m),u_size:new i.Uniform1f(m),u_camera_to_center_distance:new i.Uniform1f(m),u_rotate_symbol:new i.Uniform1i(m),u_aspect_ratio:new i.Uniform1f(m),u_fade_change:new i.Uniform1f(m),u_matrix:new i.UniformMatrix4f(m),u_label_plane_matrix:new i.UniformMatrix4f(m),u_coord_matrix:new i.UniformMatrix4f(m),u_is_text:new i.Uniform1i(m),u_pitch_with_map:new i.Uniform1i(m),u_texsize:new i.Uniform2f(m),u_tile_id:new i.Uniform3f(m),u_zoom_transition:new i.Uniform1f(m),u_inv_rot_matrix:new i.UniformMatrix4f(m),u_merc_center:new i.Uniform2f(m),u_camera_forward:new i.Uniform3f(m),u_tile_matrix:new i.UniformMatrix4f(m),u_up_vector:new i.Uniform3f(m),u_ecef_origin:new i.Uniform3f(m),u_texture:new i.Uniform1i(m)}),symbolSDF:m=>({u_is_size_zoom_constant:new i.Uniform1i(m),u_is_size_feature_constant:new i.Uniform1i(m),u_size_t:new i.Uniform1f(m),u_size:new i.Uniform1f(m),u_camera_to_center_distance:new i.Uniform1f(m),u_rotate_symbol:new i.Uniform1i(m),u_aspect_ratio:new i.Uniform1f(m),u_fade_change:new i.Uniform1f(m),u_matrix:new i.UniformMatrix4f(m),u_label_plane_matrix:new i.UniformMatrix4f(m),u_coord_matrix:new i.UniformMatrix4f(m),u_is_text:new i.Uniform1i(m),u_pitch_with_map:new i.Uniform1i(m),u_texsize:new i.Uniform2f(m),u_texture:new i.Uniform1i(m),u_gamma_scale:new i.Uniform1f(m),u_device_pixel_ratio:new i.Uniform1f(m),u_tile_id:new i.Uniform3f(m),u_zoom_transition:new i.Uniform1f(m),u_inv_rot_matrix:new i.UniformMatrix4f(m),u_merc_center:new i.Uniform2f(m),u_camera_forward:new i.Uniform3f(m),u_tile_matrix:new i.UniformMatrix4f(m),u_up_vector:new i.Uniform3f(m),u_ecef_origin:new i.Uniform3f(m),u_is_halo:new i.Uniform1i(m)}),symbolTextAndIcon:m=>({u_is_size_zoom_constant:new i.Uniform1i(m),u_is_size_feature_constant:new i.Uniform1i(m),u_size_t:new i.Uniform1f(m),u_size:new i.Uniform1f(m),u_camera_to_center_distance:new i.Uniform1f(m),u_rotate_symbol:new i.Uniform1i(m),u_aspect_ratio:new i.Uniform1f(m),u_fade_change:new i.Uniform1f(m),u_matrix:new i.UniformMatrix4f(m),u_label_plane_matrix:new i.UniformMatrix4f(m),u_coord_matrix:new i.UniformMatrix4f(m),u_is_text:new i.Uniform1i(m),u_pitch_with_map:new i.Uniform1i(m),u_texsize:new i.Uniform2f(m),u_texsize_icon:new i.Uniform2f(m),u_texture:new i.Uniform1i(m),u_texture_icon:new i.Uniform1i(m),u_gamma_scale:new i.Uniform1f(m),u_device_pixel_ratio:new i.Uniform1f(m),u_is_halo:new i.Uniform1i(m)}),background:m=>({u_matrix:new i.UniformMatrix4f(m),u_opacity:new i.Uniform1f(m),u_color:new i.UniformColor(m)}),backgroundPattern:m=>({u_matrix:new i.UniformMatrix4f(m),u_opacity:new i.Uniform1f(m),u_image:new i.Uniform1i(m),u_pattern_tl:new i.Uniform2f(m),u_pattern_br:new i.Uniform2f(m),u_texsize:new i.Uniform2f(m),u_pattern_size:new i.Uniform2f(m),u_pixel_coord_upper:new i.Uniform2f(m),u_pixel_coord_lower:new i.Uniform2f(m),u_tile_units_to_pixels:new i.Uniform1f(m)}),terrainRaster:or,terrainDepth:or,skybox:m=>({u_matrix:new i.UniformMatrix4f(m),u_sun_direction:new i.Uniform3f(m),u_cubemap:new i.Uniform1i(m),u_opacity:new i.Uniform1f(m),u_temporal_offset:new i.Uniform1f(m)}),skyboxGradient:m=>({u_matrix:new i.UniformMatrix4f(m),u_color_ramp:new i.Uniform1i(m),u_center_direction:new i.Uniform3f(m),u_radius:new i.Uniform1f(m),u_opacity:new i.Uniform1f(m),u_temporal_offset:new i.Uniform1f(m)}),skyboxCapture:m=>({u_matrix_3f:new i.UniformMatrix3f(m),u_sun_direction:new i.Uniform3f(m),u_sun_intensity:new i.Uniform1f(m),u_color_tint_r:new i.Uniform4f(m),u_color_tint_m:new i.Uniform4f(m),u_luminance:new i.Uniform1f(m)}),globeRaster:m=>({u_proj_matrix:new i.UniformMatrix4f(m),u_globe_matrix:new i.UniformMatrix4f(m),u_normalize_matrix:new i.UniformMatrix4f(m),u_merc_matrix:new i.UniformMatrix4f(m),u_zoom_transition:new i.Uniform1f(m),u_merc_center:new i.Uniform2f(m),u_image0:new i.Uniform1i(m),u_grid_matrix:new i.UniformMatrix3f(m),u_skirt_height:new i.Uniform1f(m),u_frustum_tl:new i.Uniform3f(m),u_frustum_tr:new i.Uniform3f(m),u_frustum_br:new i.Uniform3f(m),u_frustum_bl:new i.Uniform3f(m),u_globe_pos:new i.Uniform3f(m),u_globe_radius:new i.Uniform1f(m),u_viewport:new i.Uniform2f(m)}),globeAtmosphere:m=>({u_frustum_tl:new i.Uniform3f(m),u_frustum_tr:new i.Uniform3f(m),u_frustum_br:new i.Uniform3f(m),u_frustum_bl:new i.Uniform3f(m),u_horizon:new i.Uniform1f(m),u_transition:new i.Uniform1f(m),u_fadeout_range:new i.Uniform1f(m),u_color:new i.Uniform4f(m),u_high_color:new i.Uniform4f(m),u_space_color:new i.Uniform4f(m),u_star_intensity:new i.Uniform1f(m),u_star_density:new i.Uniform1f(m),u_star_size:new i.Uniform1f(m),u_temporal_offset:new i.Uniform1f(m),u_horizon_angle:new i.Uniform1f(m),u_rotation_matrix:new i.UniformMatrix4f(m)})};let Mu;function _l(m,c,h,y,x,S,I){const D=m.context,O=D.gl,Z=m.transform,q=m.useProgram("collisionBox"),ne=[];let pe=0,ye=0;for(let Ae=0;Ae<y.length;Ae++){const We=y[Ae],Ge=c.getTile(We),He=Ge.getBucket(h);if(!He)continue;const tt=rs(We,He,Z);let Je=tt;x[0]===0&&x[1]===0||(Je=m.translatePosMatrix(tt,Ge,x,S));const dt=I?He.textCollisionBox:He.iconCollisionBox,qt=He.collisionCircleArray;if(qt.length>0){const ot=i.create(),zt=Je;i.mul(ot,He.placementInvProjMatrix,Z.glCoordMatrix),i.mul(ot,ot,He.placementViewportMatrix),ne.push({circleArray:qt,circleOffset:ye,transform:zt,invTransform:ot,projection:He.getProjection()}),pe+=qt.length/4,ye=pe}dt&&(m.terrain&&m.terrain.setupElevationDraw(Ge,q),q.draw(D,O.LINES,i.DepthMode.disabled,i.StencilMode.disabled,m.colorModeForRenderPass(),i.CullFaceMode.disabled,Yl(Je,Z,Ge,He.getProjection()),h.id,dt.layoutVertexBuffer,dt.indexBuffer,dt.segments,null,Z.zoom,null,[dt.collisionVertexBuffer,dt.collisionVertexBufferExt]))}if(!I||!ne.length)return;const be=m.useProgram("collisionCircle"),ve=new i.StructArrayLayout2f1f2i16;ve.resize(4*pe),ve._trim();let Se=0;for(const Ae of ne)for(let We=0;We<Ae.circleArray.length/4;We++){const Ge=4*We,He=Ae.circleArray[Ge+0],tt=Ae.circleArray[Ge+1],Je=Ae.circleArray[Ge+2],dt=Ae.circleArray[Ge+3];ve.emplace(Se++,He,tt,Je,dt,0),ve.emplace(Se++,He,tt,Je,dt,1),ve.emplace(Se++,He,tt,Je,dt,2),ve.emplace(Se++,He,tt,Je,dt,3)}(!Mu||Mu.length<2*pe)&&(Mu=function(Ae){const We=2*Ae,Ge=new i.StructArrayLayout3ui6;Ge.resize(We),Ge._trim();for(let He=0;He<We;He++){const tt=6*He;Ge.uint16[tt+0]=4*He+0,Ge.uint16[tt+1]=4*He+1,Ge.uint16[tt+2]=4*He+2,Ge.uint16[tt+3]=4*He+2,Ge.uint16[tt+4]=4*He+3,Ge.uint16[tt+5]=4*He+0}return Ge}(pe));const re=D.createIndexBuffer(Mu,!0),ge=D.createVertexBuffer(ve,i.collisionCircleLayout.members,!0);for(const Ae of ne){const We={u_matrix:Ae.transform,u_inv_matrix:Ae.invTransform,u_camera_to_center_distance:(Ie=Z).getCameraToCenterDistance(Ae.projection),u_viewport_size:[Ie.width,Ie.height]};be.draw(D,O.TRIANGLES,i.DepthMode.disabled,i.StencilMode.disabled,m.colorModeForRenderPass(),i.CullFaceMode.disabled,We,h.id,ge,re,i.SegmentVector.simpleSegment(0,2*Ae.circleOffset,Ae.circleArray.length,Ae.circleArray.length/2),null,Z.zoom)}var Ie;ge.destroy(),re.destroy()}const Od=i.create();function Re({width:m,height:c,anchor:h,textOffset:y,textScale:x},S){const{horizontalAlign:I,verticalAlign:D}=i.getAnchorAlignment(h),O=-(I-.5)*m,Z=-(D-.5)*c,q=i.evaluateVariableOffset(h,y);return new i.Point((O/x+q[0])*S,(Z/x+q[1])*S)}function Ke(m,c,h,y,x,S,I,D,O,Z,q){const ne=m.text.placedSymbolArray,pe=m.text.dynamicLayoutVertexArray,ye=m.icon.dynamicLayoutVertexArray,be={},ve=m.getProjection(),Se=ci(D,ve,S),re=S.elevation,ge=ve.upVectorScale(D.canonical,S.center.lat,S.worldSize).metersToTile;pe.clear();for(let Ie=0;Ie<ne.length;Ie++){const Ae=ne.get(Ie),{tileAnchorX:We,tileAnchorY:Ge,numGlyphs:He}=Ae,tt=Ae.hidden||!Ae.crossTileID||m.allowVerticalPlacement&&!Ae.placedOrientation?null:y[Ae.crossTileID];if(tt){let Je=0,dt=0,qt=0;if(re){const Jt=re?re.getAtTileOffset(D,We,Ge):0,[On,tr,kn]=ve.upVector(D.canonical,We,Ge);Je=Jt*On*ge,dt=Jt*tr*ge,qt=Jt*kn*ge}let[ot,zt,gt,Gt]=Ui(Ae.projectedAnchorX+Je,Ae.projectedAnchorY+dt,Ae.projectedAnchorZ+qt,h?Se:I);const lt=So(S.getCameraToCenterDistance(ve),Gt);let Rt=x.evaluateSizeForFeature(m.textSizeData,Z,Ae)*lt/i.ONE_EM;h&&(Rt*=m.tilePixelRatio/O);const Yt=Re(tt,Rt);h?({x:ot,y:zt,z:gt}=ve.projectTilePoint(We+Yt.x,Ge+Yt.y,D.canonical),[ot,zt,gt]=Ui(ot+Je,zt+dt,gt+qt,I)):(c&&Yt._rotate(-S.angle),ot+=Yt.x,zt+=Yt.y,gt=0);const Vt=m.allowVerticalPlacement&&Ae.placedOrientation===i.WritingMode.vertical?Math.PI/2:0;for(let Jt=0;Jt<He;Jt++)i.addDynamicAttributes(pe,ot,zt,gt,Vt);q&&Ae.associatedIconIndex>=0&&(be[Ae.associatedIconIndex]={x:ot,y:zt,z:gt,angle:Vt})}else Ss(He,pe)}if(q){ye.clear();const Ie=m.icon.placedSymbolArray;for(let Ae=0;Ae<Ie.length;Ae++){const We=Ie.get(Ae),{numGlyphs:Ge}=We,He=be[Ae];if(We.hidden||!He)Ss(Ge,ye);else{const{x:tt,y:Je,z:dt,angle:qt}=He;for(let ot=0;ot<Ge;ot++)i.addDynamicAttributes(ye,tt,Je,dt,qt)}}m.icon.dynamicLayoutVertexBuffer.updateData(ye)}m.text.dynamicLayoutVertexBuffer.updateData(pe)}function mt(m,c,h){return h.iconsInText&&c?"symbolTextAndIcon":m?"symbolSDF":"symbolIcon"}function Ct(m,c,h,y,x,S,I,D,O,Z,q,ne){const pe=m.context,ye=pe.gl,be=m.transform,ve=D==="map",Se=O==="map",re=ve&&h.layout.get("symbol-placement")!=="point",ge=ve&&!Se&&!re,Ie=h.layout.get("symbol-sort-key").constantOr(1)!==void 0;let Ae=!1;const We=m.depthModeForSublayer(0,i.DepthMode.ReadOnly),Ge=[i.mercatorXfromLng(be.center.lng),i.mercatorYfromLat(be.center.lat)],He=h.layout.get("text-variable-anchor"),tt=be.projection.name==="globe",Je=[],dt=[0,-1,0];let qt=dt;!tt&&!be.mercatorFromTransition||ve||(qt=function(ot){const zt=ot._camera.getWorldToCamera(ot.worldSize,1),gt=i.multiply([],zt,ot.globeMatrix);i.invert(gt,gt);const Gt=[0,0,0],lt=[0,1,0,0];return i.transformMat4$1(lt,lt,gt),Gt[0]=lt[0],Gt[1]=lt[1],Gt[2]=lt[2],i.normalize(Gt,Gt),Gt}(be));for(const ot of y){const zt=c.getTile(ot),gt=zt.getBucket(h);if(!gt||gt.projection.name==="mercator"&&tt)continue;const Gt=x?gt.text:gt.icon;if(!Gt||gt.fullyClipped||!Gt.segments.get().length)continue;const lt=Gt.programConfigurations.get(h.id),Rt=x||gt.sdfIcons,Yt=x?gt.textSizeData:gt.iconSizeData,Vt=Se||be.pitch!==0,Jt=i.evaluateSizeForZoom(Yt,be.zoom);let On,tr,kn,Gn,Sr=[0,0],br=null;if(x)tr=zt.glyphAtlasTexture,kn=ye.LINEAR,On=zt.glyphAtlasTexture.size,gt.iconsInText&&(Sr=zt.imageAtlasTexture.size,br=zt.imageAtlasTexture,Gn=Vt||m.options.rotating||m.options.zooming||Yt.kind==="composite"||Yt.kind==="camera"?ye.LINEAR:ye.NEAREST);else{const xl=h.layout.get("icon-size").constantOr(0)!==1||gt.iconsNeedLinear;tr=zt.imageAtlasTexture,kn=Rt||m.options.rotating||m.options.zooming||xl||Vt?ye.LINEAR:ye.NEAREST,On=zt.imageAtlasTexture.size}const Ln=gt.projection.name==="globe",Nr=Ln?qt:dt,Gr=Ln?i.globeToMercatorTransition(be.zoom):0,qr=ci(ot,gt.getProjection(),be),Zr=be.calculatePixelsToTileUnitsMatrix(zt),jo=Pt(qr,zt.tileID.canonical,Se,ve,be,gt.getProjection(),Zr),mo=m.terrain&&Se&&re?i.invert(i.create(),jo):Od,$s=Si(qr,zt.tileID.canonical,Se,ve,be,gt.getProjection(),Zr),Fa=He&&gt.hasTextData(),xi=h.layout.get("icon-text-fit")!=="none"&&Fa&&gt.hasIconData();if(re){const xl=be.elevation,nc=xl?xl.getAtTileOffsetFunc(ot,be.center.lat,be.worldSize,gt.getProjection()):null,Yc=Ls(qr,zt.tileID.canonical,Se,ve,be,gt.getProjection(),Zr);Vl(gt,qr,m,x,Yc,$s,Se,Z,nc,ot)}const Xr=re||x&&He||xi,zr=m.translatePosMatrix(qr,zt,S,I),Hi=Xr?Od:jo,Ko=m.translatePosMatrix($s,zt,S,I,!0),pi=gt.getProjection().createInversionMatrix(be,ot.canonical),ls=[];m.terrainRenderModeElevated()&&Se&&ls.push("PITCH_WITH_MAP_TERRAIN"),Ln&&ls.push("PROJECTION_GLOBE_VIEW"),Xr&&ls.push("PROJECTED_POS_ON_VIEWPORT");const hp=Rt&&h.paint.get(x?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let Xc;Xc=Rt?gt.iconsInText?Qh(Yt.kind,Jt,ge,Se,m,zr,Hi,Ko,On,Sr,ot,Gr,Ge,pi,Nr,gt.getProjection()):Ql(Yt.kind,Jt,ge,Se,m,zr,Hi,Ko,x,On,!0,ot,Gr,Ge,pi,Nr,gt.getProjection()):Jl(Yt.kind,Jt,ge,Se,m,zr,Hi,Ko,x,On,ot,Gr,Ge,pi,Nr,gt.getProjection());const Gd={program:m.useProgram(mt(Rt,x,gt),lt,ls),buffers:Gt,uniformValues:Xc,atlasTexture:tr,atlasTextureIcon:br,atlasInterpolation:kn,atlasInterpolationIcon:Gn,isSDF:Rt,hasHalo:hp,tile:zt,labelPlaneMatrixInv:mo};if(Ie&&gt.canOverlap){Ae=!0;const xl=Gt.segments.get();for(const nc of xl)Je.push({segments:new i.SegmentVector([nc]),sortKey:nc.sortKey,state:Gd})}else Je.push({segments:Gt.segments,sortKey:0,state:Gd})}Ae&&Je.sort((ot,zt)=>ot.sortKey-zt.sortKey);for(const ot of Je){const zt=ot.state;if(m.terrain&&m.terrain.setupElevationDraw(zt.tile,zt.program,{useDepthForOcclusion:!tt,labelPlaneMatrixInv:zt.labelPlaneMatrixInv}),pe.activeTexture.set(ye.TEXTURE0),zt.atlasTexture.bind(zt.atlasInterpolation,ye.CLAMP_TO_EDGE),zt.atlasTextureIcon&&(pe.activeTexture.set(ye.TEXTURE1),zt.atlasTextureIcon&&zt.atlasTextureIcon.bind(zt.atlasInterpolationIcon,ye.CLAMP_TO_EDGE)),zt.isSDF){const gt=zt.uniformValues;zt.hasHalo&&(gt.u_is_halo=1,Bt(zt.buffers,ot.segments,h,m,zt.program,We,q,ne,gt)),gt.u_is_halo=0}Bt(zt.buffers,ot.segments,h,m,zt.program,We,q,ne,zt.uniformValues)}}function Bt(m,c,h,y,x,S,I,D,O){const Z=y.context,q=[m.dynamicLayoutVertexBuffer,m.opacityVertexBuffer,m.globeExtVertexBuffer];x.draw(Z,Z.gl.TRIANGLES,S,I,D,i.CullFaceMode.disabled,O,h.id,m.layoutVertexBuffer,m.indexBuffer,c,h.paint,y.transform.zoom,m.programConfigurations.get(h.id),q)}function xn(m,c,h,y,x,S,I){const D=m.context.gl,O=h.paint.get("fill-pattern"),Z=O&&O.constantOr(1);let q,ne,pe,ye,be;I?(ne=Z&&!h.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",q=D.LINES):(ne=Z?"fillPattern":"fill",q=D.TRIANGLES);for(const ve of y){const Se=c.getTile(ve);if(Z&&!Se.patternsLoaded())continue;const re=Se.getBucket(h);if(!re)continue;m.prepareDrawTile();const ge=re.programConfigurations.get(h.id),Ie=m.useProgram(ne,ge);Z&&(m.context.activeTexture.set(D.TEXTURE0),Se.imageAtlasTexture.bind(D.LINEAR,D.CLAMP_TO_EDGE),ge.updatePaintBuffers());const Ae=O.constantOr(null);if(Ae&&Se.imageAtlas){const Ge=Se.imageAtlas.patternPositions[Ae.toString()];Ge&&ge.setConstantPatternPositions(Ge)}const We=m.translatePosMatrix(ve.projMatrix,Se,h.paint.get("fill-translate"),h.paint.get("fill-translate-anchor"));if(I){ye=re.indexBuffer2,be=re.segments2;const Ge=m.terrain&&m.terrain.renderingToTexture?m.terrain.drapeBufferSize:[D.drawingBufferWidth,D.drawingBufferHeight];pe=ne==="fillOutlinePattern"&&Z?i1(We,m,Se,Ge):ha(We,Ge)}else ye=re.indexBuffer,be=re.segments,pe=Z?Es(We,m,Se):da(We);m.prepareDrawProgram(m.context,Ie,ve.toUnwrapped()),Ie.draw(m.context,q,x,m.stencilModeForClipping(ve),S,i.CullFaceMode.disabled,pe,h.id,re.layoutVertexBuffer,ye,be,h.paint,m.transform.zoom,ge)}}function An(m,c,h,y,x,S,I){const D=m.context,O=D.gl,Z=m.transform,q=h.paint.get("fill-extrusion-pattern"),ne=q.constantOr(1),pe=h.paint.get("fill-extrusion-opacity"),ye=[h.paint.get("fill-extrusion-ambient-occlusion-intensity"),h.paint.get("fill-extrusion-ambient-occlusion-radius")],be=h.layout.get("fill-extrusion-edge-radius"),ve=be>0&&!h.paint.get("fill-extrusion-rounded-roof"),Se=ve?0:be,re=Z.projection.name==="globe"?i.fillExtrusionHeightLift():0,ge=Z.projection.name==="globe",Ie=ge?i.globeToMercatorTransition(Z.zoom):0,Ae=[i.mercatorXfromLng(Z.center.lng),i.mercatorYfromLat(Z.center.lat)],We=[];ge&&We.push("PROJECTION_GLOBE_VIEW"),ye[0]>0&&We.push("FAUX_AO"),ve&&We.push("ZERO_ROOF_RADIUS");for(const Ge of y){const He=c.getTile(Ge),tt=He.getBucket(h);if(!tt||tt.projection.name!==Z.projection.name)continue;const Je=tt.programConfigurations.get(h.id),dt=m.useProgram(ne?"fillExtrusionPattern":"fillExtrusion",Je,We);if(m.terrain){const Rt=m.terrain;if(m.style.terrainSetForDrapingOnly())Rt.setupElevationDraw(He,dt,{useMeterToDem:!0});else{if(!tt.enableTerrain)continue;if(Rt.setupElevationDraw(He,dt,{useMeterToDem:!0}),Vn(D,c,Ge,tt,h,Rt),!tt.centroidVertexBuffer){const Yt=dt.attributes.a_centroid_pos;Yt!==void 0&&O.vertexAttrib2f(Yt,0,0)}}}ne&&(m.context.activeTexture.set(O.TEXTURE0),He.imageAtlasTexture.bind(O.LINEAR,O.CLAMP_TO_EDGE),Je.updatePaintBuffers());const qt=q.constantOr(null);if(qt&&He.imageAtlas){const Rt=He.imageAtlas.patternPositions[qt.toString()];Rt&&Je.setConstantPatternPositions(Rt)}const ot=m.translatePosMatrix(Ge.projMatrix,He,h.paint.get("fill-extrusion-translate"),h.paint.get("fill-extrusion-translate-anchor")),zt=Z.projection.createInversionMatrix(Z,Ge.canonical),gt=h.paint.get("fill-extrusion-vertical-gradient"),Gt=ne?Zo(ot,m,gt,pe,ye,Se,Ge,He,re,Ie,Ae,zt):Fs(ot,m,gt,pe,ye,Se,Ge,re,Ie,Ae,zt);m.prepareDrawProgram(D,dt,Ge.toUnwrapped());const lt=[];m.terrain&&lt.push(tt.centroidVertexBuffer),ge&&lt.push(tt.layoutVertexExtBuffer),dt.draw(D,D.gl.TRIANGLES,x,S,I,i.CullFaceMode.backCCW,Gt,h.id,tt.layoutVertexBuffer,tt.indexBuffer,tt.segments,h.paint,m.transform.zoom,Je,lt)}}function Vn(m,c,h,y,x,S){const I=[re=>{let ge=re.canonical.x-1,Ie=re.wrap;return ge<0&&(ge=(1<<re.canonical.z)-1,Ie--),new i.OverscaledTileID(re.overscaledZ,Ie,re.canonical.z,ge,re.canonical.y)},re=>{let ge=re.canonical.x+1,Ie=re.wrap;return ge===1<<re.canonical.z&&(ge=0,Ie++),new i.OverscaledTileID(re.overscaledZ,Ie,re.canonical.z,ge,re.canonical.y)},re=>new i.OverscaledTileID(re.overscaledZ,re.wrap,re.canonical.z,re.canonical.x,(re.canonical.y===0?1<<re.canonical.z:re.canonical.y)-1),re=>new i.OverscaledTileID(re.overscaledZ,re.wrap,re.canonical.z,re.canonical.x,re.canonical.y===(1<<re.canonical.z)-1?0:re.canonical.y+1)],D=re=>{const ge=c.getSource().minzoom,Ie=We=>{const Ge=c.getTileByID(We);if(Ge&&Ge.hasData())return Ge.getBucket(x)},Ae=[0,-1,1];for(const We of Ae){if(re.overscaledZ+We<ge)continue;const Ge=Ie(re.calculateScaledKey(re.overscaledZ+We));if(Ge)return Ge}},O=[0,0,0],Z=(re,ge)=>(O[0]=Math.min(re.min.y,ge.min.y),O[1]=Math.max(re.max.y,ge.max.y),O[2]=i.EXTENT-ge.min.x>re.max.x?ge.min.x-i.EXTENT:re.max.x,O),q=(re,ge)=>(O[0]=Math.min(re.min.x,ge.min.x),O[1]=Math.max(re.max.x,ge.max.x),O[2]=i.EXTENT-ge.min.y>re.max.y?ge.min.y-i.EXTENT:re.max.y,O),ne=[(re,ge)=>Z(re,ge),(re,ge)=>Z(ge,re),(re,ge)=>q(re,ge),(re,ge)=>q(ge,re)],pe=new i.Point(0,0);let ye,be,ve;const Se=(re,ge,Ie,Ae,We)=>{const Ge=[[Ae?Ie:re,Ae?re:Ie,0],[Ae?Ie:ge,Ae?ge:Ie,0]],He=We<0?i.EXTENT+We:We,tt=[Ae?He:(re+ge)/2,Ae?(re+ge)/2:He,0];return Ie===0&&We<0||Ie!==0&&We>0?S.getForTilePoints(ve,[tt],!0,be):Ge.push(tt),S.getForTilePoints(h,Ge,!0,ye),Math.max(Ge[0][2],Ge[1][2],tt[2])/S.exaggeration()};for(let re=0;re<4;re++){const ge=(re<2?1:5)-re,Ie=y.borders[re];if(Ie.length===0)continue;const Ae=ve=I[re](h),We=D(Ae);if(!(We&&We instanceof i.FillExtrusionBucket&&We.enableTerrain)||y.borderDoneWithNeighborZ[re]===We.canonical.z&&We.borderDoneWithNeighborZ[ge]===y.canonical.z||(be=S.findDEMTileFor(Ae),!be||!be.dem))continue;if(!ye){const Je=S.findDEMTileFor(h);if(!Je||!Je.dem)return;ye=Je}const Ge=We.borders[ge];let He=0;const tt=We.borderDoneWithNeighborZ[ge]!==y.canonical.z;if(y.canonical.z===We.canonical.z){for(let Je=0;Je<Ie.length;Je++){const dt=y.featuresOnBorder[Ie[Je]],qt=dt.borders[re];let ot;for(;He<Ge.length&&(ot=We.featuresOnBorder[Ge[He]],!(ot.borders[ge][1]>qt[0]+3));)tt&&We.encodeCentroid(void 0,ot,!1),He++;if(ot&&He<Ge.length){const zt=He;let gt=0;for(;!(ot.borders[ge][0]>qt[1]-3)&&(gt++,++He!==Ge.length);)ot=We.featuresOnBorder[Ge[He]];if(ot=We.featuresOnBorder[Ge[zt]],dt.intersectsCount()>1||ot.intersectsCount()>1||gt!==1){gt!==1&&(He=zt),y.encodeCentroid(void 0,dt,!1),tt&&We.encodeCentroid(void 0,ot,!1);continue}const Gt=ne[re](dt,ot),lt=re%2?i.EXTENT-1:0;pe.x=Se(Gt[0],Math.min(i.EXTENT-1,Gt[1]),lt,re<2,Gt[2]),pe.y=0,y.encodeCentroid(pe,dt,!1),tt&&We.encodeCentroid(pe,ot,!1)}else y.encodeCentroid(void 0,dt,!1)}y.borderDoneWithNeighborZ[re]=We.canonical.z,y.needsCentroidUpdate=!0,tt&&(We.borderDoneWithNeighborZ[ge]=y.canonical.z,We.needsCentroidUpdate=!0)}else{for(const Je of Ie)y.encodeCentroid(void 0,y.featuresOnBorder[Je],!1);if(tt){for(const Je of Ge)We.encodeCentroid(void 0,We.featuresOnBorder[Je],!1);We.borderDoneWithNeighborZ[ge]=y.canonical.z,We.needsCentroidUpdate=!0}y.borderDoneWithNeighborZ[re]=We.canonical.z,y.needsCentroidUpdate=!0}}(y.needsCentroidUpdate||!y.centroidVertexBuffer&&y.centroidVertexArray.length!==0)&&y.uploadCentroid(m)}const En=new i.Color(1,0,0,1),Pr=new i.Color(0,1,0,1),sr=new i.Color(0,0,1,1),yr=new i.Color(1,0,1,1),kr=new i.Color(0,1,1,1);function Jn(m,c,h){const y=m.context,x=m.transform,S=y.gl,I=x.projection.name==="globe",D=I?["PROJECTION_GLOBE_VIEW"]:null;let O=h.projMatrix;if(I&&i.globeToMercatorTransition(x.zoom)>0){const dt=i.transitionTileAABBinECEF(h.canonical,x),qt=i.globeDenormalizeECEF(dt);O=i.multiply(new Float32Array(16),x.globeMatrix,qt),i.multiply(O,x.projMatrix,O)}const Z=m.useProgram("debug",null,D),q=c.getTileByID(h.key);m.terrain&&m.terrain.setupElevationDraw(q,Z);const ne=i.DepthMode.disabled,pe=i.StencilMode.disabled,ye=m.colorModeForRenderPass(),be="$debug";y.activeTexture.set(S.TEXTURE0),m.emptyTexture.bind(S.LINEAR,S.CLAMP_TO_EDGE),I?q._makeGlobeTileDebugBuffers(m.context,x):q._makeDebugTileBoundsBuffers(m.context,x.projection);const ve=q._tileDebugBuffer||m.debugBuffer,Se=q._tileDebugIndexBuffer||m.debugIndexBuffer,re=q._tileDebugSegments||m.debugSegments;Z.draw(y,S.LINE_STRIP,ne,pe,ye,i.CullFaceMode.disabled,Bo(O,i.Color.red),be,ve,Se,re,null,null,null,[q._globeTileDebugBorderBuffer]);const ge=q.latestRawTileData,Ie=Math.floor((ge&&ge.byteLength||0)/1024),Ae=c.getTile(h).tileSize,We=512/Math.min(Ae,512)*(h.overscaledZ/x.zoom)*.5;let Ge=h.canonical.toString();h.overscaledZ!==h.canonical.z&&(Ge+=` => ${h.overscaledZ}`),Ge+=` ${Ie}kb`,function(dt,qt){dt.initDebugOverlayCanvas();const ot=dt.debugOverlayCanvas,zt=dt.context.gl,gt=dt.debugOverlayCanvas.getContext("2d");gt.clearRect(0,0,ot.width,ot.height),gt.shadowColor="white",gt.shadowBlur=2,gt.lineWidth=1.5,gt.strokeStyle="white",gt.textBaseline="top",gt.font="bold 36px Open Sans, sans-serif",gt.fillText(qt,5,5),gt.strokeText(qt,5,5),dt.debugOverlayTexture.update(ot),dt.debugOverlayTexture.bind(zt.LINEAR,zt.CLAMP_TO_EDGE)}(m,Ge);const He=q._tileDebugTextBuffer||m.debugBuffer,tt=q._tileDebugTextIndexBuffer||m.quadTriangleIndexBuffer,Je=q._tileDebugTextSegments||m.debugSegments;Z.draw(y,S.TRIANGLES,ne,pe,i.ColorMode.alphaBlended,i.CullFaceMode.disabled,Bo(O,i.Color.transparent,We),be,He,tt,Je,null,null,null,[q._globeTileDebugTextBuffer])}function ni(m,c,h,y){Li(m,0,c+h/2,m.transform.width,h,y)}function uo(m,c,h,y){Li(m,c-h/2,0,h,m.transform.height,y)}function Li(m,c,h,y,x,S){const I=m.context,D=I.gl;D.enable(D.SCISSOR_TEST),D.scissor(c*i.exported.devicePixelRatio,h*i.exported.devicePixelRatio,y*i.exported.devicePixelRatio,x*i.exported.devicePixelRatio),I.clear({color:S}),D.disable(D.SCISSOR_TEST)}const Yo=i.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:Ps}=Yo;function No(m,c,h,y){m.emplaceBack(c,h,y)}class no{constructor(c){this.vertexArray=new i.StructArrayLayout3f12,this.indices=new i.StructArrayLayout3ui6,No(this.vertexArray,-1,-1,1),No(this.vertexArray,1,-1,1),No(this.vertexArray,-1,1,1),No(this.vertexArray,1,1,1),No(this.vertexArray,-1,-1,-1),No(this.vertexArray,1,-1,-1),No(this.vertexArray,-1,1,-1),No(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=c.createVertexBuffer(this.vertexArray,Ps),this.indexBuffer=c.createIndexBuffer(this.indices),this.segment=i.SegmentVector.simpleSegment(0,0,36,12)}}function Bs(m,c,h,y,x,S){const I=m.gl,D=c.paint.get("sky-atmosphere-color"),O=c.paint.get("sky-atmosphere-halo-color"),Z=c.paint.get("sky-atmosphere-sun-intensity"),q=((ne,pe,ye,be,ve)=>({u_matrix_3f:ne,u_sun_direction:pe,u_sun_intensity:ye,u_color_tint_r:[be.r,be.g,be.b,be.a],u_color_tint_m:[ve.r,ve.g,ve.b,ve.a],u_luminance:5e-5}))(i.fromMat4(i.create$1(),y),x,Z,D,O);I.framebufferTexture2D(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.TEXTURE_CUBE_MAP_POSITIVE_X+S,c.skyboxTexture,0),h.draw(m,I.TRIANGLES,i.DepthMode.disabled,i.StencilMode.disabled,i.ColorMode.unblended,i.CullFaceMode.frontCW,q,"skyboxCapture",c.skyboxGeometry.vertexBuffer,c.skyboxGeometry.indexBuffer,c.skyboxGeometry.segment)}const Fd=i.createLayout([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class o0{constructor(c){const h=new i.StructArrayLayout5f20;h.emplaceBack(-1,1,1,0,0),h.emplaceBack(1,1,1,1,0),h.emplaceBack(1,-1,1,1,1),h.emplaceBack(-1,-1,1,0,1);const y=new i.StructArrayLayout3ui6;y.emplaceBack(0,1,2),y.emplaceBack(2,3,0),this.vertexBuffer=c.createVertexBuffer(h,Fd.members),this.indexBuffer=c.createIndexBuffer(y),this.segments=i.SegmentVector.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const Gc={symbol:function(m,c,h,y,x){if(m.renderPass!=="translucent")return;const S=i.StencilMode.disabled,I=m.colorModeForRenderPass();h.layout.get("text-variable-anchor")&&function(D,O,Z,q,ne,pe,ye){const be=O.transform,ve=ne==="map",Se=pe==="map";for(const re of D){const ge=q.getTile(re),Ie=ge.getBucket(Z);if(!Ie||!Ie.text||!Ie.text.segments.get().length)continue;const Ae=i.evaluateSizeForZoom(Ie.textSizeData,be.zoom),We=ci(re,Ie.getProjection(),be),Ge=be.calculatePixelsToTileUnitsMatrix(ge),He=Pt(We,ge.tileID.canonical,Se,ve,be,Ie.getProjection(),Ge),tt=Z.layout.get("icon-text-fit")!=="none"&&Ie.hasIconData();if(Ae){const Je=Math.pow(2,be.zoom-ge.tileID.overscaledZ);Ke(Ie,ve,Se,ye,i.symbolSize,be,He,re,Je,Ae,tt)}}}(y,m,h,c,h.layout.get("text-rotation-alignment"),h.layout.get("text-pitch-alignment"),x),h.paint.get("icon-opacity").constantOr(1)!==0&&Ct(m,c,h,y,!1,h.paint.get("icon-translate"),h.paint.get("icon-translate-anchor"),h.layout.get("icon-rotation-alignment"),h.layout.get("icon-pitch-alignment"),h.layout.get("icon-keep-upright"),S,I),h.paint.get("text-opacity").constantOr(1)!==0&&Ct(m,c,h,y,!0,h.paint.get("text-translate"),h.paint.get("text-translate-anchor"),h.layout.get("text-rotation-alignment"),h.layout.get("text-pitch-alignment"),h.layout.get("text-keep-upright"),S,I),c.map.showCollisionBoxes&&(_l(m,c,h,y,h.paint.get("text-translate"),h.paint.get("text-translate-anchor"),!0),_l(m,c,h,y,h.paint.get("icon-translate"),h.paint.get("icon-translate-anchor"),!1))},circle:function(m,c,h,y){if(m.renderPass!=="translucent")return;const x=h.paint.get("circle-opacity"),S=h.paint.get("circle-stroke-width"),I=h.paint.get("circle-stroke-opacity"),D=h.layout.get("circle-sort-key").constantOr(1)!==void 0;if(x.constantOr(1)===0&&(S.constantOr(1)===0||I.constantOr(1)===0))return;const O=m.context,Z=O.gl,q=m.transform,ne=m.depthModeForSublayer(0,i.DepthMode.ReadOnly),pe=i.StencilMode.disabled,ye=m.colorModeForRenderPass(),be=q.projection.name==="globe",ve=[i.mercatorXfromLng(q.center.lng),i.mercatorYfromLat(q.center.lat)],Se=[];for(let ge=0;ge<y.length;ge++){const Ie=y[ge],Ae=c.getTile(Ie),We=Ae.getBucket(h);if(!We||We.projection.name!==q.projection.name)continue;const Ge=We.programConfigurations.get(h.id),He=Vr(h);be&&He.push("PROJECTION_GLOBE_VIEW");const tt=m.useProgram("circle",Ge,He),Je=We.layoutVertexBuffer,dt=We.globeExtVertexBuffer,qt=We.indexBuffer,ot=q.projection.createInversionMatrix(q,Ie.canonical),zt={programConfiguration:Ge,program:tt,layoutVertexBuffer:Je,globeExtVertexBuffer:dt,indexBuffer:qt,uniformValues:zd(m,Ie,Ae,ot,ve,h),tile:Ae};if(D){const gt=We.segments.get();for(const Gt of gt)Se.push({segments:new i.SegmentVector([Gt]),sortKey:Gt.sortKey,state:zt})}else Se.push({segments:We.segments,sortKey:0,state:zt})}D&&Se.sort((ge,Ie)=>ge.sortKey-Ie.sortKey);const re={useDepthForOcclusion:!be};for(const ge of Se){const{programConfiguration:Ie,program:Ae,layoutVertexBuffer:We,globeExtVertexBuffer:Ge,indexBuffer:He,uniformValues:tt,tile:Je}=ge.state,dt=ge.segments;m.terrain&&m.terrain.setupElevationDraw(Je,Ae,re),m.prepareDrawProgram(O,Ae,Je.tileID.toUnwrapped()),Ae.draw(O,Z.TRIANGLES,ne,pe,ye,i.CullFaceMode.disabled,tt,h.id,We,He,dt,h.paint,q.zoom,Ie,[Ge])}},heatmap:function(m,c,h,y){if(h.paint.get("heatmap-opacity")!==0)if(m.renderPass==="offscreen"){const x=m.context,S=x.gl,I=i.StencilMode.disabled,D=new i.ColorMode([S.ONE,S.ONE],i.Color.transparent,[!0,!0,!0,!0]);(function(ye,be,ve,Se){const re=ye.gl,ge=be.width*Se,Ie=be.height*Se;ye.activeTexture.set(re.TEXTURE1),ye.viewport.set([0,0,ge,Ie]);let Ae=ve.heatmapFbo;if(!Ae||Ae&&(Ae.width!==ge||Ae.height!==Ie)){Ae&&Ae.destroy();const We=re.createTexture();re.bindTexture(re.TEXTURE_2D,We),re.texParameteri(re.TEXTURE_2D,re.TEXTURE_WRAP_S,re.CLAMP_TO_EDGE),re.texParameteri(re.TEXTURE_2D,re.TEXTURE_WRAP_T,re.CLAMP_TO_EDGE),re.texParameteri(re.TEXTURE_2D,re.TEXTURE_MIN_FILTER,re.LINEAR),re.texParameteri(re.TEXTURE_2D,re.TEXTURE_MAG_FILTER,re.LINEAR),Ae=ve.heatmapFbo=ye.createFramebuffer(ge,Ie,!1),function(Ge,He,tt,Je,dt,qt){const ot=Ge.gl;ot.texImage2D(ot.TEXTURE_2D,0,Ge.isWebGL2&&Ge.extRenderToTextureHalfFloat?ot.RGBA16F:ot.RGBA,dt,qt,0,ot.RGBA,Ge.extRenderToTextureHalfFloat?Ge.isWebGL2?ot.HALF_FLOAT:Ge.extTextureHalfFloat.HALF_FLOAT_OES:ot.UNSIGNED_BYTE,null),Je.colorAttachment.set(tt)}(ye,0,We,Ae,ge,Ie)}else re.bindTexture(re.TEXTURE_2D,Ae.colorAttachment.get()),ye.bindFramebuffer.set(Ae.framebuffer)})(x,m,h,m.transform.projection.name==="globe"?.5:.25),x.clear({color:i.Color.transparent});const O=m.transform,Z=O.projection.name==="globe",q=Z?["PROJECTION_GLOBE_VIEW"]:null,ne=Z?i.CullFaceMode.frontCCW:i.CullFaceMode.disabled,pe=[i.mercatorXfromLng(O.center.lng),i.mercatorYfromLat(O.center.lat)];for(let ye=0;ye<y.length;ye++){const be=y[ye];if(c.hasRenderableParent(be))continue;const ve=c.getTile(be),Se=ve.getBucket(h);if(!Se||Se.projection.name!==O.projection.name)continue;const re=Se.programConfigurations.get(h.id),ge=m.useProgram("heatmap",re,q),{zoom:Ie}=m.transform;m.terrain&&m.terrain.setupElevationDraw(ve,ge),m.prepareDrawProgram(x,ge,be.toUnwrapped());const Ae=O.projection.createInversionMatrix(O,be.canonical);ge.draw(x,S.TRIANGLES,i.DepthMode.disabled,I,D,ne,Jh(m,be,ve,Ae,pe,Ie,h.paint.get("heatmap-intensity")),h.id,Se.layoutVertexBuffer,Se.indexBuffer,Se.segments,h.paint,m.transform.zoom,re,Z?[Se.globeExtVertexBuffer]:null)}x.viewport.set([0,0,m.width,m.height])}else m.renderPass==="translucent"&&(m.context.setColorMode(m.colorModeForRenderPass()),function(x,S){const I=x.context,D=I.gl,O=S.heatmapFbo;if(!O)return;I.activeTexture.set(D.TEXTURE0),D.bindTexture(D.TEXTURE_2D,O.colorAttachment.get()),I.activeTexture.set(D.TEXTURE1);let Z=S.colorRampTexture;Z||(Z=S.colorRampTexture=new i.Texture(I,S.colorRamp,D.RGBA)),Z.bind(D.LINEAR,D.CLAMP_TO_EDGE),x.useProgram("heatmapTexture").draw(I,D.TRIANGLES,i.DepthMode.disabled,i.StencilMode.disabled,x.colorModeForRenderPass(),i.CullFaceMode.disabled,((q,ne,pe,ye)=>({u_image:0,u_color_ramp:1,u_opacity:ne.paint.get("heatmap-opacity")}))(0,S),S.id,x.viewportBuffer,x.quadTriangleIndexBuffer,x.viewportSegments,S.paint,x.transform.zoom)}(m,h))},line:function(m,c,h,y){if(m.renderPass!=="translucent")return;const x=h.paint.get("line-opacity"),S=h.paint.get("line-width");if(x.constantOr(1)===0||S.constantOr(1)===0)return;const I=m.depthModeForSublayer(0,i.DepthMode.ReadOnly),D=m.colorModeForRenderPass(),O=m.terrain&&m.terrain.renderingToTexture?1:i.exported.devicePixelRatio,Z=h.paint.get("line-dasharray"),q=Z.constantOr(1),ne=h.layout.get("line-cap"),pe=h.paint.get("line-pattern"),ye=pe.constantOr(1),be=h.paint.get("line-gradient"),ve=ye?"linePattern":"line",Se=m.context,re=Se.gl,ge=(Ae=>{const We=[];as(Ae)&&We.push("RENDER_LINE_DASH"),Ae.paint.get("line-gradient")&&We.push("RENDER_LINE_GRADIENT");const Ge=Ae.paint.get("line-trim-offset");Ge[0]===0&&Ge[1]===0||We.push("RENDER_LINE_TRIM_OFFSET");const He=Ae.paint.get("line-pattern").constantOr(1),tt=Ae.paint.get("line-opacity").constantOr(1)!==1;return!He&&tt&&We.push("RENDER_LINE_ALPHA_DISCARD"),We})(h);let Ie=ge.includes("RENDER_LINE_ALPHA_DISCARD");m.terrain&&m.terrain.clipOrMaskOverlapStencilType()&&(Ie=!1);for(const Ae of y){const We=c.getTile(Ae);if(ye&&!We.patternsLoaded())continue;const Ge=We.getBucket(h);if(!Ge)continue;m.prepareDrawTile();const He=Ge.programConfigurations.get(h.id),tt=m.useProgram(ve,He,ge),Je=pe.constantOr(null);if(Je&&We.imageAtlas){const Rt=We.imageAtlas.patternPositions[Je.toString()];Rt&&He.setConstantPatternPositions(Rt)}const dt=Z.constantOr(null),qt=ne.constantOr(null);if(!ye&&dt&&qt&&We.lineAtlas){const Rt=We.lineAtlas.getDash(dt,qt);Rt&&He.setConstantPatternPositions(Rt)}let[ot,zt]=h.paint.get("line-trim-offset");(qt==="round"||qt==="square")&&ot!==zt&&(ot===0&&(ot-=1),zt===1&&(zt+=1));const gt=m.terrain?Ae.projMatrix:null,Gt=ye?Kl(m,We,h,gt,O):s1(m,We,h,gt,Ge.lineClipsArray.length,O,[ot,zt]);if(be){const Rt=Ge.gradients[h.id];let Yt=Rt.texture;if(h.gradientVersion!==Rt.version){let Vt=256;if(h.stepInterpolant){const Jt=c.getSource().maxzoom,On=Ae.canonical.z===Jt?Math.ceil(1<<m.transform.maxZoom-Ae.canonical.z):1;Vt=i.clamp(i.nextPowerOfTwo(Ge.maxLineLength/i.EXTENT*1024*On),256,Se.maxTextureSize)}Rt.gradient=i.renderColorRamp({expression:h.gradientExpression(),evaluationKey:"lineProgress",resolution:Vt,image:Rt.gradient||void 0,clips:Ge.lineClipsArray}),Rt.texture?Rt.texture.update(Rt.gradient):Rt.texture=new i.Texture(Se,Rt.gradient,re.RGBA),Rt.version=h.gradientVersion,Yt=Rt.texture}Se.activeTexture.set(re.TEXTURE1),Yt.bind(h.stepInterpolant?re.NEAREST:re.LINEAR,re.CLAMP_TO_EDGE)}q&&(Se.activeTexture.set(re.TEXTURE0),We.lineAtlasTexture.bind(re.LINEAR,re.REPEAT),He.updatePaintBuffers()),ye&&(Se.activeTexture.set(re.TEXTURE0),We.imageAtlasTexture.bind(re.LINEAR,re.CLAMP_TO_EDGE),He.updatePaintBuffers()),m.prepareDrawProgram(Se,tt,Ae.toUnwrapped());const lt=Rt=>{tt.draw(Se,re.TRIANGLES,I,Rt,D,i.CullFaceMode.disabled,Gt,h.id,Ge.layoutVertexBuffer,Ge.indexBuffer,Ge.segments,h.paint,m.transform.zoom,He,[Ge.layoutVertexBuffer2])};if(Ie){const Rt=m.stencilModeForClipping(Ae).ref;Rt===0&&m.terrain&&Se.clear({stencil:0});const Yt={func:re.EQUAL,mask:255};Gt.u_alpha_discard_threshold=.8,lt(new i.StencilMode(Yt,Rt,255,re.KEEP,re.KEEP,re.INVERT)),Gt.u_alpha_discard_threshold=0,lt(new i.StencilMode(Yt,Rt,255,re.KEEP,re.KEEP,re.KEEP))}else lt(m.stencilModeForClipping(Ae))}Ie&&(m.resetStencilClippingMasks(),m.terrain&&Se.clear({stencil:0}))},fill:function(m,c,h,y){const x=h.paint.get("fill-color"),S=h.paint.get("fill-opacity");if(S.constantOr(1)===0)return;const I=m.colorModeForRenderPass(),D=h.paint.get("fill-pattern"),O=m.opaquePassEnabledForLayer()&&!D.constantOr(1)&&x.constantOr(i.Color.transparent).a===1&&S.constantOr(0)===1?"opaque":"translucent";if(m.renderPass===O){const Z=m.depthModeForSublayer(1,m.renderPass==="opaque"?i.DepthMode.ReadWrite:i.DepthMode.ReadOnly);xn(m,c,h,y,Z,I,!1)}if(m.renderPass==="translucent"&&h.paint.get("fill-antialias")){const Z=m.depthModeForSublayer(h.getPaintProperty("fill-outline-color")?2:0,i.DepthMode.ReadOnly);xn(m,c,h,y,Z,I,!0)}},"fill-extrusion":function(m,c,h,y){const x=h.paint.get("fill-extrusion-opacity");if(x!==0&&m.renderPass==="translucent"){const S=new i.DepthMode(m.context.gl.LEQUAL,i.DepthMode.ReadWrite,m.depthRangeFor3D);if(x!==1||h.paint.get("fill-extrusion-pattern").constantOr(1))An(m,c,h,y,S,i.StencilMode.disabled,i.ColorMode.disabled),An(m,c,h,y,S,m.stencilModeFor3D(),m.colorModeForRenderPass()),m.resetStencilClippingMasks();else{const I=m.colorModeForRenderPass();An(m,c,h,y,S,i.StencilMode.disabled,I)}}},hillshade:function(m,c,h,y){if(m.renderPass!=="offscreen"&&m.renderPass!=="translucent")return;const x=m.context,S=m.depthModeForSublayer(0,i.DepthMode.ReadOnly),I=m.colorModeForRenderPass(),D=m.terrain&&m.terrain.renderingToTexture,[O,Z]=m.renderPass!=="translucent"||D?[{},y]:m.stencilConfigForOverlap(y);for(const q of Z){const ne=c.getTile(q);if(ne.needsHillshadePrepare&&m.renderPass==="offscreen")cn(m,ne,h,S,i.StencilMode.disabled,I);else if(m.renderPass==="translucent"){const pe=D&&m.terrain?m.terrain.stencilModeForRTTOverlap(q):O[q.overscaledZ];jt(m,q,ne,h,S,pe,I)}}x.viewport.set([0,0,m.width,m.height]),m.resetStencilClippingMasks()},raster:function(m,c,h,y,x,S){if(m.renderPass!=="translucent"||h.paint.get("raster-opacity")===0||!y.length)return;const I=m.context,D=I.gl,O=c.getSource(),Z=m.useProgram("raster"),q=m.colorModeForRenderPass(),ne=m.terrain&&m.terrain.renderingToTexture,[pe,ye]=O instanceof nr||ne?[{},y]:m.stencilConfigForOverlap(y),be=ye[ye.length-1].overscaledZ,ve=!m.options.moving;for(const Se of ye){const re=ne?i.DepthMode.disabled:m.depthModeForSublayer(Se.overscaledZ-be,h.paint.get("raster-opacity")===1?i.DepthMode.ReadWrite:i.DepthMode.ReadOnly,D.LESS),ge=Se.toUnwrapped(),Ie=c.getTile(Se);if(ne&&(!Ie||!Ie.hasData()))continue;const Ae=ne?Se.projMatrix:m.transform.calculateProjMatrix(ge,ve),We=m.terrain&&ne?m.terrain.stencilModeForRTTOverlap(Se):pe[Se.overscaledZ],Ge=S?0:h.paint.get("raster-fade-duration");Ie.registerFadeDuration(Ge);const He=c.findLoadedParent(Se,0),tt=Ir(Ie,He,c,m.transform,Ge);let Je,dt;m.terrain&&m.terrain.prepareDrawTile();const qt=h.paint.get("raster-resampling")==="nearest"?D.NEAREST:D.LINEAR;I.activeTexture.set(D.TEXTURE0),Ie.texture.bind(qt,D.CLAMP_TO_EDGE),I.activeTexture.set(D.TEXTURE1),He?(He.texture.bind(qt,D.CLAMP_TO_EDGE),Je=Math.pow(2,He.tileID.overscaledZ-Ie.tileID.overscaledZ),dt=[Ie.tileID.canonical.x*Je%1,Ie.tileID.canonical.y*Je%1]):Ie.texture.bind(qt,D.CLAMP_TO_EDGE),Ie.texture.useMipmap&&I.extTextureFilterAnisotropic&&m.transform.pitch>20&&D.texParameterf(D.TEXTURE_2D,I.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,I.extTextureFilterAnisotropicMax);const ot=ku(Ae,dt||[0,0],Je||1,tt,h,O instanceof nr?O.perspectiveTransform:[0,0]);if(m.prepareDrawProgram(I,Z,ge),O instanceof nr)O.boundsBuffer&&O.boundsSegments&&Z.draw(I,D.TRIANGLES,re,i.StencilMode.disabled,q,i.CullFaceMode.disabled,ot,h.id,O.boundsBuffer,m.quadTriangleIndexBuffer,O.boundsSegments);else{const{tileBoundsBuffer:zt,tileBoundsIndexBuffer:gt,tileBoundsSegments:Gt}=m.getTileBoundsBuffers(Ie);Z.draw(I,D.TRIANGLES,re,We,q,i.CullFaceMode.disabled,ot,h.id,zt,gt,Gt)}}m.resetStencilClippingMasks()},background:function(m,c,h,y){const x=h.paint.get("background-color"),S=h.paint.get("background-opacity");if(S===0)return;const I=m.context,D=I.gl,O=m.transform,Z=O.tileSize,q=h.paint.get("background-pattern");if(m.isPatternMissing(q))return;const ne=!q&&x.a===1&&S===1&&m.opaquePassEnabledForLayer()?"opaque":"translucent";if(m.renderPass!==ne)return;const pe=i.StencilMode.disabled,ye=m.depthModeForSublayer(0,ne==="opaque"?i.DepthMode.ReadWrite:i.DepthMode.ReadOnly),be=m.colorModeForRenderPass(),ve=m.useProgram(q?"backgroundPattern":"background");let Se,re=y;re||(Se=m.getBackgroundTiles(),re=Object.values(Se).map(ge=>ge.tileID)),q&&(I.activeTexture.set(D.TEXTURE0),m.imageManager.bind(m.context));for(const ge of re){const Ie=ge.toUnwrapped(),Ae=y?ge.projMatrix:m.transform.calculateProjMatrix(Ie);m.prepareDrawTile();const We=c?c.getTile(ge):Se?Se[ge.key]:new i.Tile(ge,Z,O.zoom,m),Ge=q?Ld(Ae,S,m,q,{tileID:ge,tileSize:Z}):ec(Ae,S,x);m.prepareDrawProgram(I,ve,Ie);const{tileBoundsBuffer:He,tileBoundsIndexBuffer:tt,tileBoundsSegments:Je}=m.getTileBoundsBuffers(We);ve.draw(I,D.TRIANGLES,ye,pe,be,i.CullFaceMode.disabled,Ge,h.id,He,tt,Je)}},sky:function(m,c,h){const y=m.transform,x=y.projection.name==="mercator"||y.projection.name==="globe"?1:i.smoothstep(7,8,y.zoom),S=h.paint.get("sky-opacity")*x;if(S===0)return;const I=m.context,D=h.paint.get("sky-type"),O=new i.DepthMode(I.gl.LEQUAL,i.DepthMode.ReadOnly,[0,1]),Z=m.frameCounter/1e3%1;D==="atmosphere"?m.renderPass==="offscreen"?h.needsSkyboxCapture(m)&&(function(q,ne,pe,ye){const be=q.context,ve=be.gl;let Se=ne.skyboxFbo;if(!Se){Se=ne.skyboxFbo=be.createFramebuffer(32,32,!1),ne.skyboxGeometry=new no(be),ne.skyboxTexture=be.gl.createTexture(),ve.bindTexture(ve.TEXTURE_CUBE_MAP,ne.skyboxTexture),ve.texParameteri(ve.TEXTURE_CUBE_MAP,ve.TEXTURE_WRAP_S,ve.CLAMP_TO_EDGE),ve.texParameteri(ve.TEXTURE_CUBE_MAP,ve.TEXTURE_WRAP_T,ve.CLAMP_TO_EDGE),ve.texParameteri(ve.TEXTURE_CUBE_MAP,ve.TEXTURE_MIN_FILTER,ve.LINEAR),ve.texParameteri(ve.TEXTURE_CUBE_MAP,ve.TEXTURE_MAG_FILTER,ve.LINEAR);for(let Ae=0;Ae<6;++Ae)ve.texImage2D(ve.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,0,ve.RGBA,32,32,0,ve.RGBA,ve.UNSIGNED_BYTE,null)}be.bindFramebuffer.set(Se.framebuffer),be.viewport.set([0,0,32,32]);const re=ne.getCenter(q,!0),ge=q.useProgram("skyboxCapture"),Ie=new Float64Array(16);i.identity(Ie),i.rotateY(Ie,Ie,.5*-Math.PI),Bs(be,ne,ge,Ie,re,0),i.identity(Ie),i.rotateY(Ie,Ie,.5*Math.PI),Bs(be,ne,ge,Ie,re,1),i.identity(Ie),i.rotateX(Ie,Ie,.5*-Math.PI),Bs(be,ne,ge,Ie,re,2),i.identity(Ie),i.rotateX(Ie,Ie,.5*Math.PI),Bs(be,ne,ge,Ie,re,3),i.identity(Ie),Bs(be,ne,ge,Ie,re,4),i.identity(Ie),i.rotateY(Ie,Ie,Math.PI),Bs(be,ne,ge,Ie,re,5),be.viewport.set([0,0,q.width,q.height])}(m,h),h.markSkyboxValid(m)):m.renderPass==="sky"&&function(q,ne,pe,ye,be){const ve=q.context,Se=ve.gl,re=q.transform,ge=q.useProgram("skybox");ve.activeTexture.set(Se.TEXTURE0),Se.bindTexture(Se.TEXTURE_CUBE_MAP,ne.skyboxTexture);const Ie=((Ae,We,Ge,He,tt)=>({u_matrix:Ae,u_sun_direction:We,u_cubemap:0,u_opacity:He,u_temporal_offset:tt}))(re.skyboxMatrix,ne.getCenter(q,!1),0,ye,be);q.prepareDrawProgram(ve,ge),ge.draw(ve,Se.TRIANGLES,pe,i.StencilMode.disabled,q.colorModeForRenderPass(),i.CullFaceMode.backCW,Ie,"skybox",ne.skyboxGeometry.vertexBuffer,ne.skyboxGeometry.indexBuffer,ne.skyboxGeometry.segment)}(m,h,O,S,Z):D==="gradient"&&m.renderPass==="sky"&&function(q,ne,pe,ye,be){const ve=q.context,Se=ve.gl,re=q.transform,ge=q.useProgram("skyboxGradient");ne.skyboxGeometry||(ne.skyboxGeometry=new no(ve)),ve.activeTexture.set(Se.TEXTURE0);let Ie=ne.colorRampTexture;Ie||(Ie=ne.colorRampTexture=new i.Texture(ve,ne.colorRamp,Se.RGBA)),Ie.bind(Se.LINEAR,Se.CLAMP_TO_EDGE);const Ae=((We,Ge,He,tt,Je)=>({u_matrix:We,u_color_ramp:0,u_center_direction:Ge,u_radius:i.degToRad(He),u_opacity:tt,u_temporal_offset:Je}))(re.skyboxMatrix,ne.getCenter(q,!1),ne.paint.get("sky-gradient-radius"),ye,be);q.prepareDrawProgram(ve,ge),ge.draw(ve,Se.TRIANGLES,pe,i.StencilMode.disabled,q.colorModeForRenderPass(),i.CullFaceMode.backCW,Ae,"skyboxGradient",ne.skyboxGeometry.vertexBuffer,ne.skyboxGeometry.indexBuffer,ne.skyboxGeometry.segment)}(m,h,O,S,Z)},debug:function(m,c,h){for(let y=0;y<h.length;y++)Jn(m,c,h[y])},custom:function(m,c,h,y){const x=m.context,S=h.implementation;if(!m.transform.projection.unsupportedLayers||!m.transform.projection.unsupportedLayers.includes("custom")||m.terrain&&(m.terrain.renderingToTexture||m.renderPass==="offscreen")&&h.isLayerDraped()){if(m.renderPass==="offscreen"){const I=S.prerender;if(I){if(m.setCustomLayerDefaults(),x.setColorMode(m.colorModeForRenderPass()),m.transform.projection.name==="globe"){const D=m.transform.pointMerc;I.call(S,x.gl,m.transform.customLayerMatrix(),m.transform.getProjection(),m.transform.globeToMercatorMatrix(),i.globeToMercatorTransition(m.transform.zoom),[D.x,D.y],m.transform.pixelsPerMeterRatio)}else I.call(S,x.gl,m.transform.customLayerMatrix());x.setDirty(),m.setBaseState()}}else if(m.renderPass==="translucent"){if(m.terrain&&m.terrain.renderingToTexture){const D=S.renderToTile;if(D){const O=y[0].canonical,Z=new i.MercatorCoordinate(O.x+y[0].wrap*(1<<O.z),O.y,O.z);x.setDepthMode(i.DepthMode.disabled),x.setStencilMode(i.StencilMode.disabled),x.setColorMode(m.colorModeForRenderPass()),m.setCustomLayerDefaults(),D.call(S,x.gl,Z),x.setDirty(),m.setBaseState()}return}m.setCustomLayerDefaults(),x.setColorMode(m.colorModeForRenderPass()),x.setStencilMode(i.StencilMode.disabled);const I=S.renderingMode==="3d"?new i.DepthMode(m.context.gl.LEQUAL,i.DepthMode.ReadWrite,m.depthRangeFor3D):m.depthModeForSublayer(0,i.DepthMode.ReadOnly);if(x.setDepthMode(I),m.transform.projection.name==="globe"){const D=m.transform.pointMerc;S.render(x.gl,m.transform.customLayerMatrix(),m.transform.getProjection(),m.transform.globeToMercatorMatrix(),i.globeToMercatorTransition(m.transform.zoom),[D.x,D.y],m.transform.pixelsPerMeterRatio)}else S.render(x.gl,m.transform.customLayerMatrix());x.setDirty(),m.setBaseState(),x.bindFramebuffer.set(null)}}else i.warnOnce("Custom layers are not yet supported with this projection. Use mercator or globe to enable usage of custom layers.")}};class Iu{constructor(c,h,y=!1){this.context=new Nt(c,y),this.transform=h,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=i.SourceCache.maxUnderzooming+i.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}updateTerrain(c,h){const y=!!c&&!!c.terrain&&this.transform.projection.supportsTerrain;if(!(y||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new os(this,c));const x=this._terrain;this.transform.elevation=y?x:null,x.update(c,this.transform,h)}_updateFog(c){const h=c.fog;if(!h||this.transform.projection.name==="globe"||h.getOpacity(this.transform.pitch)<1||h.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[y,x]=h.getFovAdjustedRange(this.transform._fov);if(y>x)return void(this.transform.fogCullDistSq=null);const S=y+.78*(x-y);this.transform.fogCullDistSq=S*S}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(c,h){if(this.width=c*i.exported.devicePixelRatio,this.height=h*i.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const y of this.style.order)this.style._layers[y].resize()}setup(){const c=this.context,h=new i.StructArrayLayout2i4;h.emplaceBack(0,0),h.emplaceBack(i.EXTENT,0),h.emplaceBack(0,i.EXTENT),h.emplaceBack(i.EXTENT,i.EXTENT),this.tileExtentBuffer=c.createVertexBuffer(h,i.posAttributes.members),this.tileExtentSegments=i.SegmentVector.simpleSegment(0,0,4,2);const y=new i.StructArrayLayout2i4;y.emplaceBack(0,0),y.emplaceBack(i.EXTENT,0),y.emplaceBack(0,i.EXTENT),y.emplaceBack(i.EXTENT,i.EXTENT),this.debugBuffer=c.createVertexBuffer(y,i.posAttributes.members),this.debugSegments=i.SegmentVector.simpleSegment(0,0,4,5);const x=new i.StructArrayLayout2i4;x.emplaceBack(-1,-1),x.emplaceBack(1,-1),x.emplaceBack(-1,1),x.emplaceBack(1,1),this.viewportBuffer=c.createVertexBuffer(x,i.posAttributes.members),this.viewportSegments=i.SegmentVector.simpleSegment(0,0,4,2);const S=new i.StructArrayLayout4i8;S.emplaceBack(0,0,0,0),S.emplaceBack(i.EXTENT,0,i.EXTENT,0),S.emplaceBack(0,i.EXTENT,0,i.EXTENT),S.emplaceBack(i.EXTENT,i.EXTENT,i.EXTENT,i.EXTENT),this.mercatorBoundsBuffer=c.createVertexBuffer(S,i.boundsAttributes.members),this.mercatorBoundsSegments=i.SegmentVector.simpleSegment(0,0,4,2);const I=new i.StructArrayLayout3ui6;I.emplaceBack(0,1,2),I.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=c.createIndexBuffer(I);const D=new i.StructArrayLayout1ui2;for(const Z of[0,1,3,2,0])D.emplaceBack(Z);this.debugIndexBuffer=c.createIndexBuffer(D),this.emptyTexture=new i.Texture(c,new i.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),c.gl.RGBA),this.identityMat=i.create();const O=this.context.gl;this.stencilClearMode=new i.StencilMode({func:O.ALWAYS,mask:0},0,255,O.ZERO,O.ZERO,O.ZERO),this.loadTimeStamps.push(i.window.performance.now()),this.atmosphereBuffer=new o0(this.context)}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(c){return c._makeTileBoundsBuffers(this.context,this.transform.projection),c._tileBoundsBuffer?{tileBoundsBuffer:c._tileBoundsBuffer,tileBoundsIndexBuffer:c._tileBoundsIndexBuffer,tileBoundsSegments:c._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const c=this.context,h=c.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram("clippingMask").draw(c,h.TRIANGLES,i.DepthMode.disabled,this.stencilClearMode,i.ColorMode.disabled,i.CullFaceMode.disabled,Cs(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(c,h,y){if(!h||this.currentStencilSource===h.id||!c.isTileClipped()||!y||y.length===0)return;if(this._tileClippingMaskIDs&&!this.terrain){let D=!1;for(const O of y)if(this._tileClippingMaskIDs[O.key]===void 0){D=!0;break}if(!D)return}this.currentStencilSource=h.id;const x=this.context,S=x.gl;this.nextStencilID+y.length>256&&this.clearStencil(),x.setColorMode(i.ColorMode.disabled),x.setDepthMode(i.DepthMode.disabled);const I=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const D of y){const O=h.getTile(D),Z=this._tileClippingMaskIDs[D.key]=this.nextStencilID++,{tileBoundsBuffer:q,tileBoundsIndexBuffer:ne,tileBoundsSegments:pe}=this.getTileBoundsBuffers(O);I.draw(x,S.TRIANGLES,i.DepthMode.disabled,new i.StencilMode({func:S.ALWAYS,mask:0},Z,255,S.KEEP,S.KEEP,S.REPLACE),i.ColorMode.disabled,i.CullFaceMode.disabled,Cs(D.projMatrix),"$clipping",q,ne,pe)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const c=this.nextStencilID++,h=this.context.gl;return new i.StencilMode({func:h.NOTEQUAL,mask:255},c,255,h.KEEP,h.KEEP,h.REPLACE)}stencilModeForClipping(c){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(c);const h=this.context.gl;return new i.StencilMode({func:h.EQUAL,mask:255},this._tileClippingMaskIDs[c.key],0,h.KEEP,h.KEEP,h.REPLACE)}stencilConfigForOverlap(c){const h=this.context.gl,y=c.sort((I,D)=>D.overscaledZ-I.overscaledZ),x=y[y.length-1].overscaledZ,S=y[0].overscaledZ-x+1;if(S>1){this.currentStencilSource=void 0,this.nextStencilID+S>256&&this.clearStencil();const I={};for(let D=0;D<S;D++)I[D+x]=new i.StencilMode({func:h.GEQUAL,mask:255},D+this.nextStencilID,255,h.KEEP,h.KEEP,h.REPLACE);return this.nextStencilID+=S,[I,y]}return[{[x]:i.StencilMode.disabled},y]}colorModeForRenderPass(){const c=this.context.gl;return this._showOverdrawInspector?new i.ColorMode([c.CONSTANT_COLOR,c.ONE],new i.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?i.ColorMode.unblended:i.ColorMode.alphaBlended}depthModeForSublayer(c,h,y){if(!this.opaquePassEnabledForLayer())return i.DepthMode.disabled;const x=1-((1+this.currentLayer)*this.numSublayers+c)*this.depthEpsilon;return new i.DepthMode(y||this.context.gl.LEQUAL,h,[x,x])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(c,h){this.style=c,this.options=h,this.imageManager=c.imageManager,this.glyphManager=c.glyphManager,this.symbolFadeChange=c.placement.symbolFadeChange(i.exported.now()),this.imageManager.beginFrame();const y=this.style.order,x=this.style._sourceCaches;for(const Z in x){const q=x[Z];q.used&&q.prepare(this.context)}const S={},I={},D={};for(const Z in x){const q=x[Z];S[Z]=q.getVisibleCoordinates(),I[Z]=S[Z].slice().reverse(),D[Z]=q.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let Z=0;Z<y.length;Z++)if(this.style._layers[y[Z]].is3D()){this.opaquePassCutoff=Z;break}if(this.terrain&&(this.terrain.updateTileBinding(D),this.opaquePassCutoff=0),this.transform.projection.name!=="globe"||this.globeSharedBuffers||(this.globeSharedBuffers=new i.GlobeSharedBuffers(this.context)),!i.isMapAuthenticated(this.context.gl))return;this.renderPass="offscreen";for(const Z of y){const q=this.style._layers[Z],ne=c._getLayerSourceCache(q);if(!q.hasOffscreenPass()||q.isHidden(this.transform.zoom))continue;const pe=ne?I[ne.id]:void 0;(q.type==="custom"||q.isSky()||pe&&pe.length)&&this.renderLayer(this,ne,q,pe)}this.depthRangeFor3D=[0,1-(c.order.length+2)*this.numSublayers*this.depthEpsilon];const O=this.terrain;if(O&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&O.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:h.showOverdrawInspector?i.Color.black:i.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=h.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=y.length-1;this.currentLayer>=0;this.currentLayer--){const Z=this.style._layers[y[this.currentLayer]],q=c._getLayerSourceCache(Z);if(Z.isSky())continue;const ne=q?I[q.id]:void 0;this._renderTileClippingMasks(Z,q,ne),this.renderLayer(this,q,Z,ne)}if(this.style.fog&&this.transform.projection.supportsFog&&function(Z,q){const ne=Z.context,pe=ne.gl,ye=Z.transform,be=new i.DepthMode(pe.LEQUAL,i.DepthMode.ReadOnly,[0,1]),ve=Z.useProgram("globeAtmosphere",null,ye.projection.name==="globe"?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"]),Se=i.globeToMercatorTransition(ye.zoom),re=q.properties.get("color").toArray01(),ge=q.properties.get("high-color").toArray01(),Ie=q.properties.get("space-color").toArray01PremultipliedAlpha(),Ae=i.identity$1([]);i.rotateY$1(Ae,Ae,-i.degToRad(ye._center.lng)),i.rotateX$1(Ae,Ae,i.degToRad(ye._center.lat)),i.rotateZ$1(Ae,Ae,ye.angle),i.rotateX$1(Ae,Ae,-ye._pitch);const We=i.fromQuat(new Float32Array(16),Ae),Ge=i.mapValue(q.properties.get("star-intensity"),0,1,0,.25),He=5e-4,tt=i.mapValue(q.properties.get("horizon-blend"),0,1,He,.25),Je=i.globeUseCustomAntiAliasing(Z,ne,ye)&&tt===He?ye.worldSize/(2*Math.PI*1.025)-1:ye.globeRadius,dt=Z.frameCounter/1e3%1,qt=i.length(ye.globeCenterInViewSpace),ot=Math.sqrt(Math.pow(qt,2)-Math.pow(Je,2)),zt=Math.acos(ot/qt),gt=((lt,Rt,Yt,Vt,Jt,On,tr,kn,Gn,Sr,br,Ln,Nr,Gr)=>({u_frustum_tl:lt,u_frustum_tr:Rt,u_frustum_br:Yt,u_frustum_bl:Vt,u_horizon:Jt,u_transition:On,u_fadeout_range:tr,u_color:kn,u_high_color:Gn,u_space_color:Sr,u_star_intensity:br,u_star_size:5*i.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:Ln,u_horizon_angle:Nr,u_rotation_matrix:Gr}))(ye.frustumCorners.TL,ye.frustumCorners.TR,ye.frustumCorners.BR,ye.frustumCorners.BL,ye.frustumCorners.horizon,Se,tt,re,ge,Ie,Ge,dt,zt,We);Z.prepareDrawProgram(ne,ve);const Gt=Z.atmosphereBuffer;Gt&&ve.draw(ne,pe.TRIANGLES,be,i.StencilMode.disabled,i.ColorMode.alphaBlended,i.CullFaceMode.backCW,gt,"skybox",Gt.vertexBuffer,Gt.indexBuffer,Gt.segments)}(this,this.style.fog),this.renderPass="sky",(i.globeToMercatorTransition(this.transform.zoom)>0||this.transform.projection.name!=="globe")&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<y.length;this.currentLayer++){const Z=this.style._layers[y[this.currentLayer]],q=c._getLayerSourceCache(Z);Z.isSky()&&this.renderLayer(this,q,Z,q?I[q.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<y.length;){const Z=this.style._layers[y[this.currentLayer]],q=c._getLayerSourceCache(Z);if(Z.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(Z)){if(Z.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const ne=q?(Z.type==="symbol"?D:I)[q.id]:void 0;this._renderTileClippingMasks(Z,q,q?S[q.id]:void 0),this.renderLayer(this,q,Z,ne),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let Z=null;i.values(this.style._layers).forEach(q=>{const ne=c._getLayerSourceCache(q);ne&&!q.isHidden(this.transform.zoom)&&(!Z||Z.getSource().maxzoom<ne.getSource().maxzoom)&&(Z=ne)}),Z&&this.options.showTileBoundaries&&Gc.debug(this,Z,Z.getVisibleCoordinates())}this.options.showPadding&&function(Z){const q=Z.transform.padding;ni(Z,Z.transform.height-(q.top||0),3,En),ni(Z,q.bottom||0,3,Pr),uo(Z,q.left||0,3,sr),uo(Z,Z.transform.width-(q.right||0),3,yr);const ne=Z.transform.centerPoint;(function(pe,ye,be,ve){Li(pe,ye-1,be-10,2,20,ve),Li(pe,ye-10,be-1,20,2,ve)})(Z,ne.x,Z.transform.height-ne.y,kr)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(i.window.performance.now()),this.saveCanvasCopy())}renderLayer(c,h,y,x){y.isHidden(this.transform.zoom)||(y.type==="background"||y.type==="sky"||y.type==="custom"||x&&x.length)&&(this.id=y.id,this.gpuTimingStart(y),(!c.transform.projection.unsupportedLayers||!c.transform.projection.unsupportedLayers.includes(y.type)||c.terrain&&y.type==="custom")&&Gc[y.type](c,h,y,x,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(c){if(!this.options.gpuTiming)return;const h=this.context.extTimerQuery;let y=this.gpuTimers[c.id];y||(y=this.gpuTimers[c.id]={calls:0,cpuTime:0,query:h.createQueryEXT()}),y.calls++,h.beginQueryEXT(h.TIME_ELAPSED_EXT,y.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const c=this.context.extTimerQuery,h=c.createQueryEXT();this.deferredRenderGpuTimeQueries.push(h),c.beginQueryEXT(c.TIME_ELAPSED_EXT,h)}}gpuTimingDeferredRenderEnd(){if(!this.options.gpuTimingDeferredRender)return;const c=this.context.extTimerQuery;c.endQueryEXT(c.TIME_ELAPSED_EXT)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const c=this.context.extTimerQuery;c.endQueryEXT(c.TIME_ELAPSED_EXT)}collectGpuTimers(){const c=this.gpuTimers;return this.gpuTimers={},c}collectDeferredRenderGpuQueries(){const c=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],c}queryGpuTimers(c){const h={};for(const y in c){const x=c[y],S=this.context.extTimerQuery,I=S.getQueryObjectEXT(x.query,S.QUERY_RESULT_EXT)/1e6;S.deleteQueryEXT(x.query),h[y]=I}return h}queryGpuTimeDeferredRender(c){if(!this.options.gpuTimingDeferredRender)return 0;const h=this.context.extTimerQuery;let y=0;for(const x of c)y+=h.getQueryObjectEXT(x,h.QUERY_RESULT_EXT)/1e6,h.deleteQueryEXT(x);return y}translatePosMatrix(c,h,y,x,S){if(!y[0]&&!y[1])return c;const I=S?x==="map"?this.transform.angle:0:x==="viewport"?-this.transform.angle:0;if(I){const Z=Math.sin(I),q=Math.cos(I);y=[y[0]*q-y[1]*Z,y[0]*Z+y[1]*q]}const D=[S?y[0]:ct(h,y[0],this.transform.zoom),S?y[1]:ct(h,y[1],this.transform.zoom),0],O=new Float32Array(16);return i.translate(O,c,D),O}saveTileTexture(c){const h=this._tileTextures[c.size[0]];h?h.push(c):this._tileTextures[c.size[0]]=[c]}getTileTexture(c){const h=this._tileTextures[c];return h&&h.length>0?h.pop():null}isPatternMissing(c){return c===null||c!==void 0&&!this.imageManager.getPattern(c.toString())}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}currentGlobalDefines(){const c=this.terrain&&this.terrain.renderingToTexture,h=this.terrain&&this.terrain.exaggeration()===0,y=this.style&&this.style.fog,x=[];return this.terrainRenderModeElevated()&&x.push("TERRAIN"),this.transform.projection.name==="globe"&&x.push("GLOBE"),h&&x.push("ZERO_EXAGGERATION"),y&&!c&&y.getOpacity(this.transform.pitch)!==0&&x.push("FOG"),c&&x.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&x.push("OVERDRAW_INSPECTOR"),x}useProgram(c,h,y){this.cache=this.cache||{};const x=y||[],S=this.currentGlobalDefines().concat(x),I=wr.cacheKey(he[c],c,S,h);return this.cache[I]||(this.cache[I]=new wr(this.context,c,he[c],h,Hc[c],S)),this.cache[I]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const c=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(c.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=i.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new i.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}prepareDrawProgram(c,h,y){if(this.terrain&&this.terrain.renderingToTexture)return;const x=this.style.fog;if(x){const S=x.getOpacity(this.transform.pitch),I=((D,O,Z,q,ne,pe,ye,be,ve,Se,re)=>{const ge=D.transform,Ie=O.properties.get("color").toArray01();Ie[3]=q;const Ae=D.frameCounter/1e3%1;return{u_fog_matrix:Z?ge.calculateFogTileMatrix(Z):D.identityMat,u_fog_range:O.getFovAdjustedRange(ge._fov),u_fog_color:Ie,u_fog_horizon_blend:O.properties.get("horizon-blend"),u_fog_temporal_offset:Ae,u_frustum_tl:ne,u_frustum_tr:pe,u_frustum_br:ye,u_frustum_bl:be,u_globe_pos:ve,u_globe_radius:Se,u_viewport:re,u_globe_transition:i.globeToMercatorTransition(ge.zoom),u_is_globe:+(ge.projection.name==="globe")}})(this,x,y,S,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*i.exported.devicePixelRatio,this.transform.height*i.exported.devicePixelRatio]);h.setFogUniformValues(c,I)}}setTileLoadedFlag(c){this.tileLoaded=c}saveCanvasCopy(){const c=this.canvasCopy();c&&(this.frameCopies.push(c),this.tileLoaded=!1)}canvasCopy(){const c=this.context.gl,h=c.createTexture();return c.bindTexture(c.TEXTURE_2D,h),c.copyTexImage2D(c.TEXTURE_2D,0,c.RGBA,0,0,c.drawingBufferWidth,c.drawingBufferHeight,0),h}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const c=this.style&&this.style.fog;return!!c&&c.getOpacity(this.transform.pitch)!==0}getBackgroundTiles(){const c=this._backgroundTiles,h=this._backgroundTiles={},y=this.transform.coveringTiles({tileSize:512});for(const x of y)h[x.key]=c[x.key]||new i.Tile(x,512,this.transform.tileZoom,this);return h}clearBackgroundTiles(){this._backgroundTiles={}}}class ep{constructor(c=0,h=0,y=0,x=0){if(isNaN(c)||c<0||isNaN(h)||h<0||isNaN(y)||y<0||isNaN(x)||x<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=c,this.bottom=h,this.left=y,this.right=x}interpolate(c,h,y){return h.top!=null&&c.top!=null&&(this.top=i.number(c.top,h.top,y)),h.bottom!=null&&c.bottom!=null&&(this.bottom=i.number(c.bottom,h.bottom,y)),h.left!=null&&c.left!=null&&(this.left=i.number(c.left,h.left,y)),h.right!=null&&c.right!=null&&(this.right=i.number(c.right,h.right,y)),this}getCenter(c,h){const y=i.clamp((this.left+c-this.right)/2,0,c),x=i.clamp((this.top+h-this.bottom)/2,0,h);return new i.Point(y,x)}equals(c){return this.top===c.top&&this.bottom===c.bottom&&this.left===c.left&&this.right===c.right}clone(){return new ep(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function tp(m,c){const h=i.getColumn(m,3);i.fromQuat(m,c),i.setColumn(m,3,h)}function Ar(m,c){const h=i.identity$1([]);return i.rotateZ$1(h,h,-c),i.rotateX$1(h,h,-m),h}function Bd(m,c){const h=[m[0],m[1],0],y=[c[0],c[1],0];if(i.length(h)>=1e-15){const I=i.normalize([],h);i.scale$2(y,I,i.dot(y,I)),c[0]=y[0],c[1]=y[1]}const x=i.cross([],c,m);if(i.len(x)<1e-15)return null;const S=Math.atan2(-x[1],x[0]);return Ar(Math.atan2(Math.sqrt(m[0]*m[0]+m[1]*m[1]),-m[2]),S)}class s0{constructor(c,h){this.position=c,this.orientation=h}get position(){return this._position}set position(c){if(c){const h=c instanceof i.MercatorCoordinate?c:new i.MercatorCoordinate(c[0],c[1],c[2]);this._renderWorldCopies&&(h.x=i.wrap(h.x,0,1)),this._position=h}else this._position=null}lookAtPoint(c,h){if(this.orientation=null,!this.position)return;const y=this.position,x=this._elevation?this._elevation.getAtPointOrZero(i.MercatorCoordinate.fromLngLat(c)):0,S=i.MercatorCoordinate.fromLngLat(c,x),I=[S.x-y.x,S.y-y.y,S.z-y.z];h||(h=[0,0,1]),h[2]=Math.abs(h[2]),this.orientation=Bd(I,h)}setPitchBearing(c,h){this.orientation=Ar(i.degToRad(c),i.degToRad(-h))}}class np{constructor(c,h){this._transform=i.identity([]),this.orientation=h,this.position=c}get mercatorPosition(){const c=this.position;return new i.MercatorCoordinate(c[0],c[1],c[2])}get position(){const c=i.getColumn(this._transform,3);return[c[0],c[1],c[2]]}set position(c){var h;c&&i.setColumn(this._transform,3,[(h=c)[0],h[1],h[2],1])}get orientation(){return this._orientation}set orientation(c){this._orientation=c||i.identity$1([]),c&&tp(this._transform,this._orientation)}getPitchBearing(){const c=this.forward(),h=this.right();return{bearing:Math.atan2(-h[1],h[0]),pitch:Math.atan2(Math.sqrt(c[0]*c[0]+c[1]*c[1]),-c[2])}}setPitchBearing(c,h){this._orientation=Ar(c,h),tp(this._transform,this._orientation)}forward(){const c=i.getColumn(this._transform,2);return[-c[0],-c[1],-c[2]]}up(){const c=i.getColumn(this._transform,1);return[-c[0],-c[1],-c[2]]}right(){const c=i.getColumn(this._transform,0);return[c[0],c[1],c[2]]}getCameraToWorld(c,h){const y=new Float64Array(16);return i.invert(y,this.getWorldToCamera(c,h)),y}getWorldToCameraPosition(c,h,y){const x=this.position;i.scale$2(x,x,-c);const S=new Float64Array(16);return i.fromScaling(S,[y,y,y]),i.translate(S,S,x),S[10]*=h,S}getWorldToCamera(c,h){const y=new Float64Array(16),x=new Float64Array(4),S=this.position;return i.conjugate(x,this._orientation),i.scale$2(S,S,-c),i.fromQuat(y,x),i.translate(y,y,S),y[1]*=-1,y[5]*=-1,y[9]*=-1,y[13]*=-1,y[8]*=h,y[9]*=h,y[10]*=h,y[11]*=h,y}getCameraToClipPerspective(c,h,y,x){const S=new Float64Array(16);return i.perspective(S,c,h,y,x),S}getDistanceToElevation(c,h=!1){const y=c===0?0:i.mercatorZfromAltitude(c,h?i.latFromMercatorY(this.position[1]):this.position[1]),x=this.forward();return(y-this.position[2])/x[2]}clone(){return new np([...this.position],[...this.orientation])}}function Au(m,c){const h=rp(m.projection,m.zoom,m.width,m.height),y=function(S,I,D,O,Z){const q=new i.LngLat(D.lng-180*vl,D.lat),ne=new i.LngLat(D.lng+180*vl,D.lat),pe=S.project(q.lng,q.lat),ye=S.project(ne.lng,ne.lat),be=-Math.atan2(ye.y-pe.y,ye.x-pe.x),ve=i.MercatorCoordinate.fromLngLat(D);ve.y=i.clamp(ve.y,-1+vl,1-vl);const Se=ve.toLngLat(),re=S.project(Se.lng,Se.lat),ge=i.MercatorCoordinate.fromLngLat(Se);ge.x+=vl;const Ie=ge.toLngLat(),Ae=S.project(Ie.lng,Ie.lat),We=ip(Ae.x-re.x,Ae.y-re.y,be),Ge=i.MercatorCoordinate.fromLngLat(Se);Ge.y+=vl;const He=Ge.toLngLat(),tt=S.project(He.lng,He.lat),Je=ip(tt.x-re.x,tt.y-re.y,be),dt=Math.abs(We.x)/Math.abs(Je.y),qt=i.identity([]);i.rotateZ(qt,qt,-be*(1-(Z?0:O)));const ot=i.identity([]);return i.scale(ot,ot,[1,1-(1-dt)*O,1]),ot[4]=-Je.x/Je.y*O,i.rotateZ(ot,ot,be),i.multiply(ot,qt,ot),ot}(m.projection,0,m.center,h,c),x=a0(m);return i.scale(y,y,[x,x,1]),y}function a0(m){const c=m.projection,h=rp(m.projection,m.zoom,m.width,m.height),y=l0(c,m.center),x=l0(c,i.LngLat.convert(c.center));return Math.pow(2,y*h+(1-h)*x)}function rp(m,c,h,y,x=1/0){const S=m.range;if(!S)return 0;const I=Math.min(x,Math.max(h,y)),D=Math.log(I/1024)/Math.LN2;return i.smoothstep(S[0]+D,S[1]+D,c)}const vl=1/4e4;function l0(m,c){const h=i.clamp(c.lat,-i.MAX_MERCATOR_LATITUDE,i.MAX_MERCATOR_LATITUDE),y=new i.LngLat(c.lng-180*vl,h),x=new i.LngLat(c.lng+180*vl,h),S=m.project(y.lng,h),I=m.project(x.lng,h),D=i.MercatorCoordinate.fromLngLat(y),O=i.MercatorCoordinate.fromLngLat(x),Z=I.x-S.x,q=I.y-S.y,ne=O.x-D.x,pe=O.y-D.y,ye=Math.sqrt((ne*ne+pe*pe)/(Z*Z+q*q));return Math.log(ye)/Math.LN2}function ip(m,c,h){const y=Math.cos(h),x=Math.sin(h);return{x:m*y-c*x,y:m*x+c*y}}class Du{constructor(c,h,y,x,S,I,D){this.tileSize=512,this._renderWorldCopies=S===void 0||S,this._minZoom=c||0,this._maxZoom=h||22,this._minPitch=y??0,this._maxPitch=x??60,this.setProjection(I),this.setMaxBounds(D),this.width=0,this.height=0,this._center=new i.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new ep,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new np,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1}clone(){const c=new Du(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return c._elevation=this._elevation,c._centerAltitude=this._centerAltitude,c._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,c.tileSize=this.tileSize,c.mercatorFromTransition=this.mercatorFromTransition,c.width=this.width,c.height=this.height,c.cameraElevationReference=this.cameraElevationReference,c._center=this._center,c._setZoom(this.zoom),c._seaLevelZoom=this._seaLevelZoom,c.angle=this.angle,c._fov=this._fov,c._pitch=this._pitch,c._nearZ=this._nearZ,c._farZ=this._farZ,c._averageElevation=this._averageElevation,c._unmodified=this._unmodified,c._edgeInsets=this._edgeInsets.clone(),c._camera=this._camera.clone(),c._calcMatrices(),c.freezeTileCoverage=this.freezeTileCoverage,c.frustumCorners=this.frustumCorners,c}get elevation(){return this._elevation}set elevation(c){this._elevation!==c&&(this._elevation=c,this._updateCameraOnTerrain(),this._calcMatrices())}updateElevation(c,h=!1){const y=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(this._seaLevelZoom==null||y)&&this._updateCameraOnTerrain(),(c||y)&&this._constrainCamera(h),this._calcMatrices()}getProjection(){return i.pick(this.projection,["name","center","parallels"])}setProjection(c){this.projectionOptions=c||{name:"mercator"};const h=this.projection?this.getProjection():void 0;this.projection=i.getProjection(this.projectionOptions);const y=!_(h,this.getProjection());return y&&this._calcMatrices(),this.mercatorFromTransition=!1,y}setMercatorFromTransition(){const c=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=i.getProjection({name:"mercator"});const h=c!==this.projection.name;return h&&this._calcMatrices(),h}get minZoom(){return this._minZoom}set minZoom(c){this._minZoom!==c&&(this._minZoom=c,this.zoom=Math.max(this.zoom,c))}get maxZoom(){return this._maxZoom}set maxZoom(c){this._maxZoom!==c&&(this._maxZoom=c,this.zoom=Math.min(this.zoom,c))}get minPitch(){return this._minPitch}set minPitch(c){this._minPitch!==c&&(this._minPitch=c,this.pitch=Math.max(this.pitch,c))}get maxPitch(){return this._maxPitch}set maxPitch(c){this._maxPitch!==c&&(this._maxPitch=c,this.pitch=Math.min(this.pitch,c))}get renderWorldCopies(){return this._renderWorldCopies&&this.projection.supportsWorldCopies===!0}set renderWorldCopies(c){c===void 0?c=!0:c===null&&(c=!1),this._renderWorldCopies=c}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const c=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(c))}get cameraWorldSize(){const c=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(c))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return i.mercatorZfromAltitude(this.center.lat,this.cameraWorldSizeForFog)}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new i.Point(this.width,this.height)}get bearing(){return i.wrap(this.rotation,-180,180)}set bearing(c){this.rotation=c}get rotation(){return-this.angle/Math.PI*180}set rotation(c){const h=-c*Math.PI/180;var y;this.angle!==h&&(this._unmodified=!1,this.angle=h,this._calcMatrices(),this.rotationMatrix=(y=new i.ARRAY_TYPE(4),i.ARRAY_TYPE!=Float32Array&&(y[1]=0,y[2]=0),y[0]=1,y[3]=1,y),function(x,S,I){var D=S[0],O=S[1],Z=S[2],q=S[3],ne=Math.sin(I),pe=Math.cos(I);x[0]=D*pe+Z*ne,x[1]=O*pe+q*ne,x[2]=D*-ne+Z*pe,x[3]=O*-ne+q*pe}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(c){const h=i.clamp(c,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==h&&(this._unmodified=!1,this._pitch=h,this._calcMatrices())}get aspect(){return this.width/this.height}get fov(){return this._fov/Math.PI*180}get fovX(){return this._fov}get fovY(){const c=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/c)}set fov(c){c=Math.max(.01,Math.min(60,c)),this._fov!==c&&(this._unmodified=!1,this._fov=i.degToRad(c),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(c){this._averageElevation=c,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(c){const h=Math.min(Math.max(c,this.minZoom),this.maxZoom);this._zoom!==h&&(this._unmodified=!1,this._setZoom(h),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(c){this._zoom=c,this.scale=this.zoomScale(c),this.tileZoom=Math.floor(c),this.zoomFraction=c-this.tileZoom}_updateCameraOnTerrain(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const c=this._elevation;this._centerAltitude=c.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=c.exaggeration(),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){this._centerAltitudeValidForExaggeration!==void 0&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const c=this._elevation,h=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],y=this.horizonLineFromTop();let x=0,S=0;for(let I=0;I<h.length;I++){const D=new i.Point(h[I][0]*this.width,y+h[I][1]*(this.height-y)),O=c.pointCoordinate(D);if(!O)continue;const Z=1/Math.hypot(O[0]-this._camera.position[0],O[1]-this._camera.position[1]);x+=O[3]*Z,S+=Z}return S===0?NaN:x/S}get center(){return this._center}set center(c){c.lat===this._center.lat&&c.lng===this._center.lng||(this._unmodified=!1,this._center=c,this._terrainEnabled()&&(this.cameraElevationReference==="ground"?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(this._seaLevelZoom==null||!this._elevation)return;const c=this._seaLevelZoom,h=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),y=this.pixelsPerMeter/this.worldSize*h,x=this._mercatorZfromZoom(c),S=this._mercatorZfromZoom(this._maxZoom),I=Math.max(x-y,S);this._setZoom(this._zoomFromMercatorZ(I))}get padding(){return this._edgeInsets.toJSON()}set padding(c){this._edgeInsets.equals(c)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,c,1),this._calcMatrices())}computeZoomRelativeTo(c){const h=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,c.toAltitude()));let y;y=c.z<this._camera.position[2]?[h.x,h.y,h.z]:[c.x,c.y,c.z];const x=i.length(i.sub([],this._camera.position,y));return i.clamp(this._zoomFromMercatorZ(x),this._minZoom,this._maxZoom)}setFreeCameraOptions(c){if(!this.height||!c.position&&!c.orientation)return;this._updateCameraState();let h=!1;if(c.orientation&&!i.exactEquals(c.orientation,this._camera.orientation)&&(h=this._setCameraOrientation(c.orientation)),c.position){const y=[c.position.x,c.position.y,c.position.z];i.exactEquals$1(y,this._camera.position)||(this._setCameraPosition(y),h=!0)}h&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const c=this._camera.position,h=new s0;return h.position=new i.MercatorCoordinate(c[0],c[1],c[2]),h.orientation=this._camera.orientation,h._elevation=this.elevation,h._renderWorldCopies=this.renderWorldCopies,h}_setCameraOrientation(c){if(!i.length$1(c))return!1;i.normalize$1(c,c);const h=i.transformQuat([],[0,0,-1],c),y=i.transformQuat([],[0,-1,0],c);if(y[2]<0)return!1;const x=Bd(h,y);return!!x&&(this._camera.orientation=x,!0)}_setCameraPosition(c){const h=this.zoomScale(this.minZoom)*this.tileSize,y=this.zoomScale(this.maxZoom)*this.tileSize,x=this.cameraToCenterDistance;c[2]=i.clamp(c[2],x/y,x/h),this._camera.position=c}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(c){return this._edgeInsets.equals(c)}interpolatePadding(c,h,y){this._unmodified=!1,this._edgeInsets.interpolate(c,h,y),this._constrain(),this._calcMatrices()}coveringZoomLevel(c){const h=(c.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/c.tileSize));return Math.max(0,h)}getVisibleUnwrappedCoordinates(c){const h=[new i.UnwrappedTileID(0,c)];if(this.renderWorldCopies){const y=this.pointCoordinate(new i.Point(0,0)),x=this.pointCoordinate(new i.Point(this.width,0)),S=this.pointCoordinate(new i.Point(this.width,this.height)),I=this.pointCoordinate(new i.Point(0,this.height)),D=Math.floor(Math.min(y.x,x.x,S.x,I.x)),O=Math.floor(Math.max(y.x,x.x,S.x,I.x)),Z=1;for(let q=D-Z;q<=O+Z;q++)q!==0&&h.push(new i.UnwrappedTileID(q,c))}return h}coveringTiles(c){let h=this.coveringZoomLevel(c);const y=h,x=this.elevation&&!c.isTerrainDEM,S=this.projection.name==="mercator";if(c.minzoom!==void 0&&h<c.minzoom)return[];c.maxzoom!==void 0&&h>c.maxzoom&&(h=c.maxzoom);const I=this.locationCoordinate(this.center),D=this.center.lat,O=1<<h,Z=[O*I.x,O*I.y,0],q=this.projection.name==="globe",ne=!q,pe=i.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,h,ne),ye=q?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),be=O*i.mercatorZfromAltitude(1,this.center.lat),ve=this._camera.position[2]/i.mercatorZfromAltitude(1,this.center.lat),Se=[O*ye.x,O*ye.y,ve*(ne?1:be)],re=this.cameraToCenterDistance/c.tileSize*(c.roundZoom?1:.502),ge=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?h:0,Ie=c.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,Ae=c.isTerrainDEM?-Ie:this._elevation?this._elevation.getMinElevationBelowMSL():0,We=this.projection.isReprojectedInTileSpace?a0(this):1,Ge=lt=>{const Yt=new i.MercatorCoordinate(lt.x+25e-6,lt.y,lt.z),Vt=new i.MercatorCoordinate(lt.x,lt.y+25e-6,lt.z),Jt=lt.toLngLat(),On=Yt.toLngLat(),tr=Vt.toLngLat(),kn=this.locationCoordinate(Jt),Gn=this.locationCoordinate(On),Sr=this.locationCoordinate(tr),br=Math.hypot(Gn.x-kn.x,Gn.y-kn.y),Ln=Math.hypot(Sr.x-kn.x,Sr.y-kn.y);return Math.sqrt(br*Ln)*We/25e-6},He=lt=>{const Rt=Ie,Yt=Ae;return{aabb:i.tileAABB(this,O,0,0,0,lt,Yt,Rt,this.projection),zoom:0,x:0,y:0,minZ:Yt,maxZ:Rt,wrap:lt,fullyVisible:!1}},tt=[];let Je=[];const dt=h,qt=c.reparseOverscaled?y:h,ot=lt=>lt*lt,zt=ot((ve-this._centerAltitude)*be),gt=lt=>{if(!this._elevation||!lt.tileID||!S)return;const Rt=this._elevation.getMinMaxForTile(lt.tileID),Yt=lt.aabb;Rt?(Yt.min[2]=Rt.min,Yt.max[2]=Rt.max,Yt.center[2]=(Yt.min[2]+Yt.max[2])/2):(lt.shouldSplit=Gt(lt),lt.shouldSplit||(Yt.min[2]=Yt.max[2]=Yt.center[2]=this._centerAltitude))},Gt=lt=>{if(lt.zoom<ge)return!0;if(lt.zoom===dt)return!1;if(lt.shouldSplit!=null)return lt.shouldSplit;const Rt=lt.aabb.distanceX(Se),Yt=lt.aabb.distanceY(Se);let Vt=zt,Jt=1;if(q){Vt=ot(lt.aabb.distanceZ(Se));const kn=Math.pow(2,lt.zoom),Gn=i.latFromMercatorY((lt.y+1)/kn),Sr=i.latFromMercatorY(lt.y/kn),br=Math.min(Math.max(D,Gn),Sr),Ln=i.circumferenceAtLatitude(br)/i.circumferenceAtLatitude(D);if(Jt=br===D?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,Ln/this._mercatorScaleRatio),this.zoom<=i.GLOBE_ZOOM_THRESHOLD_MIN&&lt.zoom===dt-1&&Ln>=.9)return!0}else if(x&&(Vt=ot(lt.aabb.distanceZ(Se)*be)),this.projection.isReprojectedInTileSpace&&y<=5){const kn=Math.pow(2,lt.zoom),Gn=Ge(new i.MercatorCoordinate((lt.x+.5)/kn,(lt.y+.5)/kn));Jt=Gn>.85?1:Gn}const On=Rt*Rt+Yt*Yt+Vt,tr=ot((1<<dt-lt.zoom)*re*Jt*((kn,Gn)=>{if(Gn*ot(.707)<kn)return 1;const Sr=Math.sqrt(Gn/kn);return Sr/(1.4144271570014144+(Math.pow(1.1,Sr-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(Vt,zt),On));return On<tr};if(this.renderWorldCopies)for(let lt=1;lt<=3;lt++)tt.push(He(-lt)),tt.push(He(lt));for(tt.push(He(0));tt.length>0;){const lt=tt.pop(),Rt=lt.x,Yt=lt.y;let Vt=lt.fullyVisible;if(!Vt){const Jt=lt.aabb.intersects(pe);if(Jt===0)continue;Vt=Jt===2}if(lt.zoom!==dt&&Gt(lt))for(let Jt=0;Jt<4;Jt++){const On=(Rt<<1)+Jt%2,tr=(Yt<<1)+(Jt>>1),kn={aabb:S?lt.aabb.quadrant(Jt):i.tileAABB(this,O,lt.zoom+1,On,tr,lt.wrap,lt.minZ,lt.maxZ,this.projection),zoom:lt.zoom+1,x:On,y:tr,wrap:lt.wrap,fullyVisible:Vt,tileID:void 0,shouldSplit:void 0,minZ:lt.minZ,maxZ:lt.maxZ};x&&!q&&(kn.tileID=new i.OverscaledTileID(lt.zoom+1===dt?qt:lt.zoom+1,lt.wrap,lt.zoom+1,On,tr),gt(kn)),tt.push(kn)}else{const Jt=lt.zoom===dt?qt:lt.zoom;if(c.minzoom&&c.minzoom>Jt)continue;const On=Z[0]-(.5+Rt+(lt.wrap<<lt.zoom))*(1<<h-lt.zoom),tr=Z[1]-.5-Yt,kn=lt.tileID?lt.tileID:new i.OverscaledTileID(Jt,lt.wrap,lt.zoom,Rt,Yt);Je.push({tileID:kn,distanceSq:On*On+tr*tr})}}if(this.fogCullDistSq){const lt=this.fogCullDistSq,Rt=this.horizonLineFromTop();Je=Je.filter(Yt=>{const Vt=[0,0,0,1],Jt=[i.EXTENT,i.EXTENT,0,1],On=this.calculateFogTileMatrix(Yt.tileID.toUnwrapped());i.transformMat4$1(Vt,Vt,On),i.transformMat4$1(Jt,Jt,On);const tr=i.getAABBPointSquareDist(Vt,Jt);if(tr===0)return!0;let kn=!1;const Gn=this._elevation;if(Gn&&tr>lt&&Rt!==0){const Sr=this.calculateProjMatrix(Yt.tileID.toUnwrapped());let br;c.isTerrainDEM||(br=Gn.getMinMaxForTile(Yt.tileID)),br||(br={min:Ae,max:Ie});const Ln=i.furthestTileCorner(this.rotation),Nr=[Ln[0]*i.EXTENT,Ln[1]*i.EXTENT,br.max];i.transformMat4(Nr,Nr,Sr),kn=(1-Nr[1])*this.height*.5<Rt}return tr<lt||kn})}return Je.sort((lt,Rt)=>lt.distanceSq-Rt.distanceSq).map(lt=>lt.tileID)}resize(c,h){this.width=c,this.height=h,this.pixelsToGLUnits=[2/c,-2/h],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(c){return Math.pow(2,c)}scaleZoom(c){return Math.log(c)/Math.LN2}project(c){const h=i.clamp(c.lat,-i.MAX_MERCATOR_LATITUDE,i.MAX_MERCATOR_LATITUDE),y=this.projection.project(c.lng,h);return new i.Point(y.x*this.worldSize,y.y*this.worldSize)}unproject(c){return this.projection.unproject(c.x/this.worldSize,c.y/this.worldSize)}get point(){return this.project(this.center)}get pointMerc(){return this.point._div(this.worldSize)}get pixelsPerMeterRatio(){return this.pixelsPerMeter/i.mercatorZfromAltitude(1,this.center.lat)/this.worldSize}setLocationAtPoint(c,h){let y,x;const S=this.centerPoint;if(this.projection.name==="globe"){const D=this.worldSize;y=(h.x-S.x)/D,x=(h.y-S.y)/D}else{const D=this.pointCoordinate(h),O=this.pointCoordinate(S);y=D.x-O.x,x=D.y-O.y}const I=this.locationCoordinate(c);this.setLocation(new i.MercatorCoordinate(I.x-y,I.y-x))}setLocation(c){this.center=this.coordinateLocation(c),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(c){return this.projection.locationPoint(this,c)}locationPoint3D(c){return this.projection.locationPoint(this,c,!0)}pointLocation(c){return this.coordinateLocation(this.pointCoordinate(c))}pointLocation3D(c){return this.coordinateLocation(this.pointCoordinate3D(c))}locationCoordinate(c,h){const y=h?i.mercatorZfromAltitude(h,c.lat):void 0,x=this.projection.project(c.lng,c.lat);return new i.MercatorCoordinate(x.x,x.y,y)}coordinateLocation(c){return this.projection.unproject(c.x,c.y)}pointRayIntersection(c,h){const y=h??this._centerAltitude,x=[c.x,c.y,0,1],S=[c.x,c.y,1,1];i.transformMat4$1(x,x,this.pixelMatrixInverse),i.transformMat4$1(S,S,this.pixelMatrixInverse);const I=S[3];i.scale$1(x,x,1/x[3]),i.scale$1(S,S,1/I);const D=x[2],O=S[2];return{p0:x,p1:S,t:D===O?0:(y-D)/(O-D)}}screenPointToMercatorRay(c){const h=[c.x,c.y,0,1],y=[c.x,c.y,1,1];return i.transformMat4$1(h,h,this.pixelMatrixInverse),i.transformMat4$1(y,y,this.pixelMatrixInverse),i.scale$1(h,h,1/h[3]),i.scale$1(y,y,1/y[3]),h[2]=i.mercatorZfromAltitude(h[2],this._center.lat)*this.worldSize,y[2]=i.mercatorZfromAltitude(y[2],this._center.lat)*this.worldSize,i.scale$1(h,h,1/this.worldSize),i.scale$1(y,y,1/this.worldSize),new i.Ray([h[0],h[1],h[2]],i.normalize([],i.sub([],y,h)))}rayIntersectionCoordinate(c){const{p0:h,p1:y,t:x}=c,S=i.mercatorZfromAltitude(h[2],this._center.lat),I=i.mercatorZfromAltitude(y[2],this._center.lat);return new i.MercatorCoordinate(i.number(h[0],y[0],x)/this.worldSize,i.number(h[1],y[1],x)/this.worldSize,i.number(S,I,x))}pointCoordinate(c,h=this._centerAltitude){return this.projection.pointCoordinate(this,c.x,c.y,h)}pointCoordinate3D(c){if(!this.elevation)return this.pointCoordinate(c);let h=this.projection.pointCoordinate3D(this,c.x,c.y);if(h)return new i.MercatorCoordinate(h[0],h[1],h[2]);let y=0,x=this.horizonLineFromTop();if(c.y>x)return this.pointCoordinate(c);const S=.02*x,I=c.clone();for(let D=0;D<10&&x-y>S;D++){I.y=i.number(y,x,.66);const O=this.projection.pointCoordinate3D(this,I.x,I.y);O?(x=I.y,h=O):y=I.y}return h?new i.MercatorCoordinate(h[0],h[1],h[2]):this.pointCoordinate(c)}isPointAboveHorizon(c){return this.projection.isPointAboveHorizon(this,c)}isPointOnSurface(c){if(c.y<0||c.y>this.height||c.x<0||c.x>this.width)return!1;if(this.elevation||this.zoom>=i.GLOBE_ZOOM_THRESHOLD_MAX)return!this.isPointAboveHorizon(c);const h=this.pointCoordinate(c);return h.y>=0&&h.y<=1}_coordinatePoint(c,h){const y=h&&this.elevation?this.elevation.getAtPointOrZero(c,this._centerAltitude):this._centerAltitude,x=[c.x*this.worldSize,c.y*this.worldSize,y+c.toAltitude(),1];return i.transformMat4$1(x,x,this.pixelMatrix),x[3]>0?new i.Point(x[0]/x[3],x[1]/x[3]):new i.Point(Number.MAX_VALUE,Number.MAX_VALUE)}_getBoundsNonRectangular(){const{top:c,left:h}=this._edgeInsets,y=this.height-this._edgeInsets.bottom,x=this.width-this._edgeInsets.right,S=this.pointLocation3D(new i.Point(h,c)),I=this.pointLocation3D(new i.Point(x,c)),D=this.pointLocation3D(new i.Point(x,y)),O=this.pointLocation3D(new i.Point(h,y));let Z=Math.min(S.lng,I.lng,D.lng,O.lng),q=Math.max(S.lng,I.lng,D.lng,O.lng),ne=Math.min(S.lat,I.lat,D.lat,O.lat),pe=Math.max(S.lat,I.lat,D.lat,O.lat);const ye=Math.pow(2,-this.zoom)/16*270,be=this.projection.name==="globe"?1:4,ve=(Se,re,ge,Ie,Ae)=>{const We=(Se+ge)/2,Ge=(re+Ie)/2,He=new i.Point(We,Ge),{lng:tt,lat:Je}=this.pointLocation3D(He),dt=Math.max(0,Z-tt,ne-Je,tt-q,Je-pe);Z=Math.min(Z,tt),q=Math.max(q,tt),ne=Math.min(ne,Je),pe=Math.max(pe,Je),(Ae<be||dt>ye)&&(ve(Se,re,We,Ge,Ae+1),ve(We,Ge,ge,Ie,Ae+1))};if(ve(h,c,x,c,1),ve(x,c,x,y,1),ve(x,y,h,y,1),ve(h,y,h,c,1),this.projection.name==="globe"){const[Se,re]=i.polesInViewport(this);Se?(pe=90,q=180,Z=-180):re&&(ne=-90,q=180,Z=-180)}return new i.LngLatBounds(new i.LngLat(Z,ne),new i.LngLat(q,pe))}_getBoundsRectangular(c,h){const{top:y,left:x}=this._edgeInsets,S=this.height-this._edgeInsets.bottom,I=this.width-this._edgeInsets.right,D=new i.Point(x,y),O=new i.Point(I,y),Z=new i.Point(I,S),q=new i.Point(x,S);let ne=this.pointCoordinate(D,c),pe=this.pointCoordinate(O,c);const ye=this.pointCoordinate(Z,h),be=this.pointCoordinate(q,h),ve=(Se,re)=>(re.y-Se.y)/(re.x-Se.x);return ne.y>1&&pe.y>=0?ne=new i.MercatorCoordinate((1-be.y)/ve(be,ne)+be.x,1):ne.y<0&&pe.y<=1&&(ne=new i.MercatorCoordinate(-be.y/ve(be,ne)+be.x,0)),pe.y>1&&ne.y>=0?pe=new i.MercatorCoordinate((1-ye.y)/ve(ye,pe)+ye.x,1):pe.y<0&&ne.y<=1&&(pe=new i.MercatorCoordinate(-ye.y/ve(ye,pe)+ye.x,0)),new i.LngLatBounds().extend(this.coordinateLocation(ne)).extend(this.coordinateLocation(pe)).extend(this.coordinateLocation(be)).extend(this.coordinateLocation(ye))}_getBoundsRectangularTerrain(){const c=this.elevation;if(!c.visibleDemTiles.length||c.isUsingMockSource())return this._getBoundsRectangular(0,0);const h=c.visibleDemTiles.reduce((y,x)=>{if(x.dem){const S=x.dem.tree;y.min=Math.min(y.min,S.minimums[0]),y.max=Math.max(y.max,S.maximums[0])}return y},{min:Number.MAX_VALUE,max:0});return this._getBoundsRectangular(h.min*c.exaggeration(),h.max*c.exaggeration())}getBounds(){return this.projection.name==="mercator"||this.projection.name==="equirectangular"?this._terrainEnabled()?this._getBoundsRectangularTerrain():this._getBoundsRectangular(0,0):this._getBoundsNonRectangular()}horizonLineFromTop(c=!0){const h=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,y=this.height/2-h*(1-this._horizonShift);return c?Math.max(0,y):y}getMaxBounds(){return this.maxBounds}setMaxBounds(c){this.maxBounds=c,this.minLat=-i.MAX_MERCATOR_LATITUDE,this.maxLat=i.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,c&&(this.minLat=c.getSouth(),this.maxLat=c.getNorth(),this.minLng=c.getWest(),this.maxLng=c.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=i.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=i.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=i.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=i.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(c,h){return this.projection.createTileMatrix(this,h,c)}calculateDistanceTileData(c){const h=c.key,y=this._distanceTileDataCache;if(y[h])return y[h];const x=c.canonical,S=1/this.height,I=this.cameraWorldSize,D=I/this.zoomScale(x.z),O=(x.x+Math.pow(2,x.z)*c.wrap)*D,Z=x.y*D,q=this.point;q.x*=I/this.worldSize,q.y*=I/this.worldSize;const ne=this.angle,pe=Math.sin(-ne),ye=-Math.cos(-ne);return y[h]={bearing:[pe,ye],center:[(q.x-O)*S,(q.y-Z)*S],scale:D/i.EXTENT*S},y[h]}calculateFogTileMatrix(c){const h=c.key,y=this._fogTileMatrixCache;if(y[h])return y[h];const x=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,c);return i.multiply(x,this.worldToFogMatrix,x),y[h]=new Float32Array(x),y[h]}calculateProjMatrix(c,h=!1){const y=c.key,x=h?this._alignedProjMatrixCache:this._projMatrixCache;if(x[y])return x[y];const S=this.calculatePosMatrix(c,this.worldSize);return i.multiply(S,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:h?this.alignedProjMatrix:this.projMatrix,S),x[y]=new Float32Array(S),x[y]}calculatePixelsToTileUnitsMatrix(c){const h=c.tileID.key,y=this._pixelsToTileUnitsCache;if(y[h])return y[h];const x=function(S,I){const{scale:D}=S.tileTransform,O=D*i.EXTENT/(S.tileSize*Math.pow(2,I.zoom-S.tileID.overscaledZ+S.tileID.canonical.z));return Z=new Float32Array(4),pe=(q=I.inverseAdjustmentMatrix)[1],ye=q[2],be=q[3],Se=(ne=[O,O])[1],Z[0]=q[0]*(ve=ne[0]),Z[1]=pe*ve,Z[2]=ye*Se,Z[3]=be*Se,Z;var Z,q,ne,pe,ye,be,ve,Se}(c,this);return y[h]=x,y[h]}customLayerMatrix(){return this.mercatorMatrix.slice()}globeToMercatorMatrix(){if(this.projection.name==="globe"){const c=1/this.worldSize,h=i.fromScaling([],[c,c,c]);return i.multiply(h,h,this.globeMatrix),h}}recenterOnTerrain(){if(!this._elevation||this.projection.name==="globe")return;const c=this._elevation;this._updateCameraState();const h=i.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,y=this._computeCameraPosition(h),x=this._camera.forward(),S=i.mercatorZfromAltitude(1,this._center.lat);y[2]/=S,x[2]/=S,i.normalize(x,x);const I=c.raycast(y,x,c.exaggeration());if(I){const D=i.scaleAndAdd([],y,x,I),O=new i.MercatorCoordinate(D[0],D[1],i.mercatorZfromAltitude(D[2],i.latFromMercatorY(D[1]))),Z=(O.z+i.length([O.x-y[0],O.y-y[1],O.z-y[2]*S]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(Z),this._centerAltitude=O.toAltitude(),this._center=this.coordinateLocation(O),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCamera(c=!1){if(!this._elevation)return;const h=this._elevation,y=i.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,x=this._computeCameraPosition(y),S=h.getAtPointOrZero(new i.MercatorCoordinate(...x)),I=this.pixelsPerMeter/this.worldSize*S,D=this._minimumHeightOverTerrain(),O=x[2]-I;if(O<=D)if(O<0||c){const Z=this.locationCoordinate(this._center,this._centerAltitude),q=[x[0],x[1],Z.z-x[2]],ne=i.length(q);q[2]-=(D-O)/this._pixelsPerMercatorPixel;const pe=i.length(q);if(pe===0)return;i.scale$2(q,q,ne/pe*this._pixelsPerMercatorPixel),this._camera.position=[x[0],x[1],Z.z*this._pixelsPerMercatorPixel-q[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const c=this.projection.name==="globe"||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||c){const pe=this.center;return pe.lat=i.clamp(pe.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!c)&&(pe.lng=i.clamp(pe.lng,this.minLng,this.maxLng)),this.center=pe,void(this._constraining=!1)}const h=this._unmodified,{x:y,y:x}=this.point;let S=0,I=y,D=x;const O=this.width/2,Z=this.height/2,q=this.worldMinY*this.scale,ne=this.worldMaxY*this.scale;if(x-Z<q&&(D=q+Z),x+Z>ne&&(D=ne-Z),ne-q<this.height&&(S=Math.max(S,this.height/(ne-q)),D=(ne+q)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const pe=this.worldMinX*this.scale,ye=this.worldMaxX*this.scale,be=this.worldSize/2-(pe+ye)/2;I=(y+be+this.worldSize)%this.worldSize-be,I-O<pe&&(I=pe+O),I+O>ye&&(I=ye-O),ye-pe<this.width&&(S=Math.max(S,this.width/(ye-pe)),I=(ye+pe)/2)}I===y&&D===x||(this.center=this.unproject(new i.Point(I,D))),S&&(this.zoom+=this.scaleZoom(S)),this._constrainCamera(),this._unmodified=h,this._constraining=!1}_minZoomForBounds(){let c=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(c=Math.max(c,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),c}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const c=this.centerOffset,h=this.pixelsPerMeter;this.projection.name==="globe"&&(this._mercatorScaleRatio=i.mercatorZfromAltitude(1,this.center.lat)/i.mercatorZfromAltitude(1,i.GLOBE_SCALE_MATCH_LATITUDE));const y=rp(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,y),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const x=this.projection.zAxisUnit==="meters"?h:1,S=this._camera.getWorldToCamera(this.worldSize,x),I=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);I[8]=2*-c.x/this.width,I[9]=2*c.y/this.height;let D=i.mul([],I,S);if(this.projection.isReprojectedInTileSpace){const Ge=this.locationCoordinate(this.center),He=i.identity([]);i.translate(He,He,[Ge.x*this.worldSize,Ge.y*this.worldSize,0]),i.multiply(He,He,Au(this)),i.translate(He,He,[-Ge.x*this.worldSize,-Ge.y*this.worldSize,0]),i.multiply(D,D,He),this.inverseAdjustmentMatrix=function(tt){const Je=Au(tt,!0);return ce([],[Je[0],Je[1],Je[4],Je[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=i.scale([],D,[this.worldSize,this.worldSize,this.worldSize/x,1]),this.projMatrix=D,this.invProjMatrix=i.invert(new Float64Array(16),this.projMatrix);const O=i.invert([],I);this.frustumCorners=i.FrustumCorners.fromInvProjectionMatrix(O,this.horizonLineFromTop(),this.height);const Z=new Float32Array(16);i.identity(Z),i.scale(Z,Z,[1,-1,1]),i.rotateX(Z,Z,this._pitch),i.rotateZ(Z,Z,this.angle);const q=i.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),ne=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;q[8]=2*-c.x/this.width,q[9]=2*(c.y+ne)/this.height,this.skyboxMatrix=i.multiply(Z,q,Z);const pe=this.point,ye=pe.x,be=pe.y,ve=this.width%2/2,Se=this.height%2/2,re=Math.cos(this.angle),ge=Math.sin(this.angle),Ie=ye-Math.round(ye)+re*ve+ge*Se,Ae=be-Math.round(be)+re*Se+ge*ve,We=new Float64Array(D);if(i.translate(We,We,[Ie>.5?Ie-1:Ie,Ae>.5?Ae-1:Ae,0]),this.alignedProjMatrix=We,D=i.create(),i.scale(D,D,[this.width/2,-this.height/2,1]),i.translate(D,D,[1,-1,0]),this.labelPlaneMatrix=D,D=i.create(),i.scale(D,D,[1,-1,1]),i.translate(D,D,[-1,-1,0]),i.scale(D,D,[2/this.width,2/this.height,1]),this.glCoordMatrix=D,this.pixelMatrix=i.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},D=i.invert(new Float64Array(16),this.pixelMatrix),!D)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=D,this.projection.name==="globe"||this.mercatorFromTransition){this.globeMatrix=i.calculateGlobeMatrix(this);const Ge=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=i.transformMat4(Ge,Ge,S),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=D;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const c=this.cameraWorldSizeForFog,h=this.cameraPixelsPerMeter,y=this._camera.position,x=1/this.height/this._pixelsPerMercatorPixel,S=[c,c,h];i.scale$2(S,S,x),i.scale$2(y,y,-1),i.multiply$2(y,y,S);const I=i.create();i.translate(I,I,y),i.scale(I,I,S),this.mercatorFogMatrix=I,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(c,h,x)}_computeCameraPosition(c){const h=(c=c||this.pixelsPerMeter)/this.pixelsPerMeter,y=this._camera.forward(),x=this.point,S=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*h-c/this.worldSize*this._centerAltitude;return[x.x/this.worldSize-y[0]*S,x.y/this.worldSize-y[1]*S,c/this.worldSize*this._centerAltitude-y[2]*S]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(c){const h=this._maxCameraBoundsDistance()*Math.cos(this._pitch),y=this._camera.position[2],x=c[2];let S=1;this.projection.wrap&&(this.center=this.center.wrap()),x>0&&(S=Math.min((h-y)/x,1)),this._camera.position=i.scaleAndAdd([],this._camera.position,c,S),this._updateStateFromCamera()}_updateStateFromCamera(){const c=this._camera.position,h=this._camera.forward(),{pitch:y,bearing:x}=this._camera.getPitchBearing(),S=i.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,I=this._mercatorZfromZoom(this._maxZoom)*Math.cos(i.degToRad(this._maxPitch)),D=Math.max((c[2]-S)/Math.cos(y),I),O=this._zoomFromMercatorZ(D);i.scaleAndAdd(c,c,h,D),this._pitch=i.clamp(y,i.degToRad(this.minPitch),i.degToRad(this.maxPitch)),this.angle=i.wrap(x,-Math.PI,Math.PI),this._setZoom(i.clamp(O,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new i.MercatorCoordinate(c[0],c[1],c[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(c){return Math.pow(2,c)*this.tileSize}_mercatorZfromZoom(c){return this.cameraToCenterDistance/this._worldSizeFromZoom(c)}_minimumHeightOverTerrain(){const c=Math.min((this._seaLevelZoom!=null?this._seaLevelZoom:this._zoom)+4,this._maxZoom);return this._mercatorZfromZoom(c)}_zoomFromMercatorZ(c){return this.scaleZoom(this.cameraToCenterDistance/(c*this.tileSize))}zoomFromMercatorZAdjusted(c){let h=0,y=i.GLOBE_ZOOM_THRESHOLD_MAX,x=0,S=1/0;for(;y-h>1e-6&&y>h;){const I=h+.5*(y-h),D=this.tileSize*Math.pow(2,I),O=this.getCameraToCenterDistance(this.projection,I,D),Z=this.scaleZoom(O/(c*this.tileSize)),q=Math.abs(I-Z);q<S&&(S=q,x=I),I<Z?h=I:y=I}return x}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(i.warnOnce("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(c,h){const y=Math.min(c.x,h.x),x=Math.max(c.x,h.x),S=Math.min(c.y,h.y),I=Math.max(c.y,h.y);if(S<this.horizonLineFromTop(!1))return!0;if(this.projection.name!=="mercator")return!1;const D=[new i.Point(y,S),new i.Point(x,I),new i.Point(y,I),new i.Point(x,S)],O=this.renderWorldCopies?-3:0,Z=this.renderWorldCopies?4:1;for(const q of D){const ne=this.pointRayIntersection(q);if(ne.t<0)return!0;const pe=this.rayIntersectionCoordinate(ne);if(pe.x<O||pe.y<0||pe.x>Z||pe.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+i.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new i.Point(0,0),new i.Point(this.width,this.height))}zoomDeltaToMovement(c,h){const y=i.length(i.sub([],this._camera.position,c)),x=this._zoomFromMercatorZ(y)+h;return y-this._mercatorZfromZoom(x)}getCameraPoint(){if(this.projection.name==="globe"){const c=function([h,y,x],S){const I=[h,y,x,1];i.transformMat4$1(I,I,S);const D=I[3]=Math.max(I[3],1e-6);return I[0]/=D,I[1]/=D,I[2]/=D,I}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new i.Point(c[0],c[1])}{const c=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new i.Point(0,c))}}getCameraToCenterDistance(c,h=this.zoom,y=this.worldSize){const x=rp(c,h,this.width,this.height,1024),S=c.pixelSpaceConversion(this.center.lat,y,x);return .5/Math.tan(.5*this._fov)*this.height*S}getWorldToCameraMatrix(){const c=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?this.pixelsPerMeter:1);return this.projection.name==="globe"&&i.multiply(c,c,this.globeMatrix),c}}function Ru(m,c){let h=!1,y=null;const x=()=>{y=null,h&&(m(),y=setTimeout(x,c),h=!1)};return()=>(h=!0,y||x(),y)}class a1{constructor(c){this._hashName=c&&encodeURIComponent(c),i.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Ru(this._updateHashUnthrottled.bind(this),300)}addTo(c){return this._map=c,i.window.addEventListener("hashchange",this._onHashChange,!1),c.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),i.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const c=this._map;if(!c)return"";const h=Nd(c);if(this._hashName){const y=this._hashName;let x=!1;const S=i.window.location.hash.slice(1).split("&").map(I=>{const D=I.split("=")[0];return D===y?(x=!0,`${D}=${h}`):I}).filter(I=>I);return x||S.push(`${y}=${h}`),`#${S.join("&")}`}return`#${h}`}_getCurrentHash(){const c=i.window.location.hash.replace("#","");if(this._hashName){let h;return c.split("&").map(y=>y.split("=")).forEach(y=>{y[0]===this._hashName&&(h=y)}),(h&&h[1]||"").split("/")}return c.split("/")}_onHashChange(){const c=this._map;if(!c)return!1;const h=this._getCurrentHash();if(h.length>=3&&!h.some(y=>isNaN(y))){const y=c.dragRotate.isEnabled()&&c.touchZoomRotate.isEnabled()?+(h[3]||0):c.getBearing();return c.jumpTo({center:[+h[2],+h[1]],zoom:+h[0],bearing:y,pitch:+(h[4]||0)}),!0}return!1}_updateHashUnthrottled(){const c=i.window.location.href.replace(/(#.+)?$/,this.getHashString());i.window.history.replaceState(i.window.history.state,null,c)}}function Nd(m,c){const h=m.getCenter(),y=Math.round(100*m.getZoom())/100,x=Math.ceil((y*Math.LN2+Math.log(512/360/.5))/Math.LN10),S=Math.pow(10,x),I=Math.round(h.lng*S)/S,D=Math.round(h.lat*S)/S,O=m.getBearing(),Z=m.getPitch();let q=c?`/${I}/${D}/${y}`:`${y}/${D}/${I}`;return(O||Z)&&(q+="/"+Math.round(10*O)/10),Z&&(q+=`/${Math.round(Z)}`),q}const $d={linearity:.3,easing:i.bezier(0,0,.3,1)},op=i.extend({deceleration:2500,maxSpeed:1400},$d),sp=i.extend({deceleration:20,maxSpeed:1400},$d),bn=i.extend({deceleration:1e3,maxSpeed:360},$d),pa=i.extend({deceleration:1e3,maxSpeed:90},$d);class c0{constructor(c){this._map=c,this.clear()}clear(){this._inertiaBuffer=[]}record(c){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:i.exported.now(),settings:c})}_drainInertiaBuffer(){const c=this._inertiaBuffer,h=i.exported.now();for(;c.length>0&&h-c[0].time>160;)c.shift()}_onMoveEnd(c){if(this._map._prefersReducedMotion()||(this._drainInertiaBuffer(),this._inertiaBuffer.length<2))return;const h={zoom:0,bearing:0,pitch:0,pan:new i.Point(0,0),pinchAround:void 0,around:void 0};for(const{settings:S}of this._inertiaBuffer)h.zoom+=S.zoomDelta||0,h.bearing+=S.bearingDelta||0,h.pitch+=S.pitchDelta||0,S.panDelta&&h.pan._add(S.panDelta),S.around&&(h.around=S.around),S.pinchAround&&(h.pinchAround=S.pinchAround);const y=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,x={};if(h.pan.mag()){const S=Vd(h.pan.mag(),y,i.extend({},op,c||{}));x.offset=h.pan.mult(S.amount/h.pan.mag()),x.center=this._map.transform.center,jd(x,S)}if(h.zoom){const S=Vd(h.zoom,y,sp);x.zoom=this._map.transform.zoom+S.amount,jd(x,S)}if(h.bearing){const S=Vd(h.bearing,y,bn);x.bearing=this._map.transform.bearing+i.clamp(S.amount,-179,179),jd(x,S)}if(h.pitch){const S=Vd(h.pitch,y,pa);x.pitch=this._map.transform.pitch+S.amount,jd(x,S)}if(x.zoom||x.bearing){const S=h.pinchAround===void 0?h.around:h.pinchAround;x.around=S?this._map.unproject(S):this._map.getCenter()}return this.clear(),x.noMoveStart=!0,x}}function jd(m,c){(!m.duration||m.duration<c.duration)&&(m.duration=c.duration,m.easing=c.easing)}function Vd(m,c,h){const{maxSpeed:y,linearity:x,deceleration:S}=h,I=i.clamp(m*x/(c/1e3),-y,y),D=Math.abs(I)/(S*x);return{easing:h.easing,duration:1e3*D,amount:I*(D/2)}}class fo extends i.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,h,y,x={}){const S=te(h.getCanvasContainer(),y),I=h.unproject(S);super(c,i.extend({point:S,lngLat:I,originalEvent:y},x)),this._defaultPrevented=!1,this.target=h}}class Ud extends i.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,h,y){const x=c==="touchend"?y.changedTouches:y.touches,S=le(h.getCanvasContainer(),x),I=S.map(O=>h.unproject(O)),D=S.reduce((O,Z,q,ne)=>O.add(Z.div(ne.length)),new i.Point(0,0));super(c,{points:S,point:D,lngLats:I,lngLat:h.unproject(D),originalEvent:y}),this._defaultPrevented=!1}}class ap extends i.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,h,y){super(c,{originalEvent:y}),this._defaultPrevented=!1}}class l1{constructor(c,h){this._map=c,this._clickTolerance=h.clickTolerance}reset(){this._mousedownPos=void 0}wheel(c){return this._firePreventable(new ap(c.type,this._map,c))}mousedown(c,h){return this._mousedownPos=h,this._firePreventable(new fo(c.type,this._map,c))}mouseup(c){this._map.fire(new fo(c.type,this._map,c))}preclick(c){const h=i.extend({},c);h.type="preclick",this._map.fire(new fo(h.type,this._map,h))}click(c,h){this._mousedownPos&&this._mousedownPos.dist(h)>=this._clickTolerance||(this.preclick(c),this._map.fire(new fo(c.type,this._map,c)))}dblclick(c){return this._firePreventable(new fo(c.type,this._map,c))}mouseover(c){this._map.fire(new fo(c.type,this._map,c))}mouseout(c){this._map.fire(new fo(c.type,this._map,c))}touchstart(c){return this._firePreventable(new Ud(c.type,this._map,c))}touchmove(c){this._map.fire(new Ud(c.type,this._map,c))}touchend(c){this._map.fire(new Ud(c.type,this._map,c))}touchcancel(c){this._map.fire(new Ud(c.type,this._map,c))}_firePreventable(c){if(this._map.fire(c),c.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class lp{constructor(c){this._map=c}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(c){this._map.fire(new fo(c.type,this._map,c))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new fo("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(c){this._delayContextMenu?this._contextMenuEvent=c:this._map.fire(new fo(c.type,this._map,c)),this._map.listens("contextmenu")&&c.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class u0{constructor(c,h){this._map=c,this._el=c.getCanvasContainer(),this._container=c.getContainer(),this._clickTolerance=h.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(c,h){this.isEnabled()&&c.shiftKey&&c.button===0&&($(),this._startPos=this._lastPos=h,this._active=!0)}mousemoveWindow(c,h){if(!this._active)return;const y=h,x=this._startPos,S=this._lastPos;if(!x||!S||S.equals(y)||!this._box&&y.dist(x)<this._clickTolerance)return;this._lastPos=y,this._box||(this._box=R("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",c));const I=Math.min(x.x,y.x),D=Math.max(x.x,y.x),O=Math.min(x.y,y.y),Z=Math.max(x.y,y.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${I}px,${O}px)`,this._box.style.width=D-I+"px",this._box.style.height=Z-O+"px")})}mouseupWindow(c,h){if(!this._active)return;const y=this._startPos,x=h;if(y&&c.button===0){if(this.reset(),Q(),y.x!==x.x||y.y!==x.y)return this._map.fire(new i.Event("boxzoomend",{originalEvent:c})),{cameraAnimation:S=>S.fitScreenCoordinates(y,x,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",c)}}keydown(c){this._active&&c.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",c))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),H(),delete this._startPos,delete this._lastPos}_fireEvent(c,h){return this._map.fire(new i.Event(c,{originalEvent:h}))}}function cp(m,c){const h={};for(let y=0;y<m.length;y++)h[m[y].identifier]=c[y];return h}class zu{constructor(c){this.reset(),this.numTouches=c.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(c,h,y){(this.centroid||y.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===0&&(this.startTime=c.timeStamp),y.length===this.numTouches&&(this.centroid=function(x){const S=new i.Point(0,0);for(const I of x)S._add(I);return S.div(x.length)}(h),this.touches=cp(y,h)))}touchmove(c,h,y){if(this.aborted||!this.centroid)return;const x=cp(y,h);for(const S in this.touches){const I=x[S];(!I||I.dist(this.touches[S])>30)&&(this.aborted=!0)}}touchend(c,h,y){if((!this.centroid||c.timeStamp-this.startTime>500)&&(this.aborted=!0),y.length===0){const x=!this.aborted&&this.centroid;if(this.reset(),x)return x}}}class c1{constructor(c){this.singleTap=new zu(c),this.numTaps=c.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(c,h,y){this.singleTap.touchstart(c,h,y)}touchmove(c,h,y){this.singleTap.touchmove(c,h,y)}touchend(c,h,y){const x=this.singleTap.touchend(c,h,y);if(x){const S=c.timeStamp-this.lastTime<500,I=!this.lastTap||this.lastTap.dist(x)<30;if(S&&I||this.reset(),this.count++,this.lastTime=c.timeStamp,this.lastTap=x,this.count===this.numTaps)return this.reset(),x}}}class Fv{constructor(){this._zoomIn=new c1({numTouches:1,numTaps:2}),this._zoomOut=new c1({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(c,h,y){this._zoomIn.touchstart(c,h,y),this._zoomOut.touchstart(c,h,y)}touchmove(c,h,y){this._zoomIn.touchmove(c,h,y),this._zoomOut.touchmove(c,h,y)}touchend(c,h,y){const x=this._zoomIn.touchend(c,h,y),S=this._zoomOut.touchend(c,h,y);return x?(this._active=!0,c.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:I=>I.easeTo({duration:300,zoom:I.getZoom()+1,around:I.unproject(x)},{originalEvent:c})}):S?(this._active=!0,c.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:I=>I.easeTo({duration:300,zoom:I.getZoom()-1,around:I.unproject(S)},{originalEvent:c})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const d0={0:1,2:2};class Lu{constructor(c){this.reset(),this._clickTolerance=c.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(c,h){return!1}_move(c,h){return{}}mousedown(c,h){if(this._lastPoint)return;const y=M(c);this._correctButton(c,y)&&(this._lastPoint=h,this._eventButton=y)}mousemoveWindow(c,h){const y=this._lastPoint;if(y){if(c.preventDefault(),this._eventButton!=null&&function(x,S){const I=d0[S];return x.buttons===void 0||(x.buttons&I)!==I}(c,this._eventButton))this.reset();else if(this._moved||!(h.dist(y)<this._clickTolerance))return this._moved=!0,this._lastPoint=h,this._move(y,h)}}mouseupWindow(c){this._lastPoint&&M(c)===this._eventButton&&(this._moved&&Q(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class u1 extends Lu{mousedown(c,h){super.mousedown(c,h),this._lastPoint&&(this._active=!0)}_correctButton(c,h){return h===0&&!c.ctrlKey}_move(c,h){return{around:h,panDelta:h.sub(c)}}}class d1 extends Lu{_correctButton(c,h){return h===0&&c.ctrlKey||h===2}_move(c,h){const y=.8*(h.x-c.x);if(y)return this._active=!0,{bearingDelta:y}}contextmenu(c){c.preventDefault()}}class h1 extends Lu{_correctButton(c,h){return h===0&&c.ctrlKey||h===2}_move(c,h){const y=-.5*(h.y-c.y);if(y)return this._active=!0,{pitchDelta:y}}contextmenu(c){c.preventDefault()}}class up{constructor(c,h){this._map=c,this._el=c.getCanvasContainer(),this._minTouches=1,this._clickTolerance=h.clickTolerance||1,this.reset(),i.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new i.Point(0,0)}touchstart(c,h,y){return this._calculateTransform(c,h,y)}touchmove(c,h,y){if(this._active&&!(y.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(y.length===1&&!i.isFullscreen())return void this._showTouchPanBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return c.cancelable&&c.preventDefault(),this._calculateTransform(c,h,y)}}touchend(c,h,y){this._calculateTransform(c,h,y),this._active&&y.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(c,h,y){y.length>0&&(this._active=!0);const x=cp(y,h),S=new i.Point(0,0),I=new i.Point(0,0);let D=0;for(const Z in x){const q=x[Z],ne=this._touches[Z];ne&&(S._add(q),I._add(q.sub(ne)),D++,x[Z]=q)}if(this._touches=x,D<this._minTouches||!I.mag())return;const O=I.div(D);return this._sum._add(O),this._sum.mag()<this._clickTolerance?void 0:{around:S.div(D),panDelta:O}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=R("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","null")},500)}}class Wd{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(c){}_move(c,h,y){return{}}touchstart(c,h,y){this._firstTwoTouches||y.length<2||(this._firstTwoTouches=[y[0].identifier,y[1].identifier],this._start([h[0],h[1]]))}touchmove(c,h,y){const x=this._firstTwoTouches;if(!x)return;c.preventDefault();const[S,I]=x,D=Hd(y,h,S),O=Hd(y,h,I);if(!D||!O)return;const Z=this._aroundCenter?null:D.add(O).div(2);return this._move([D,O],Z,c)}touchend(c,h,y){if(!this._firstTwoTouches)return;const[x,S]=this._firstTwoTouches,I=Hd(y,h,x),D=Hd(y,h,S);I&&D||(this._active&&Q(),this.reset())}touchcancel(){this.reset()}enable(c){this._enabled=!0,this._aroundCenter=!!c&&c.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Hd(m,c,h){for(let y=0;y<m.length;y++)if(m[y].identifier===h)return c[y]}function p1(m,c){return Math.log(m/c)/Math.LN2}class h0 extends Wd{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(c){this._startDistance=this._distance=c[0].dist(c[1])}_move(c,h){const y=this._distance;if(this._distance=c[0].dist(c[1]),this._active||!(Math.abs(p1(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:p1(this._distance,y),pinchAround:h}}}function f1(m,c){return 180*m.angleWith(c)/Math.PI}class p0 extends Wd{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(c){this._startVector=this._vector=c[0].sub(c[1]),this._minDiameter=c[0].dist(c[1])}_move(c,h){const y=this._vector;if(this._vector=c[0].sub(c[1]),y&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:f1(this._vector,y),pinchAround:h}}_isBelowThreshold(c){this._minDiameter=Math.min(this._minDiameter,c.mag());const h=25/(Math.PI*this._minDiameter)*360,y=this._startVector;if(!y)return!1;const x=f1(c,y);return Math.abs(x)<h}}function tc(m){return Math.abs(m.y)>Math.abs(m.x)}class f0 extends Wd{constructor(c){super(),this._map=c}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(c){this._lastPoints=c,tc(c[0].sub(c[1]))&&(this._valid=!1)}_move(c,h,y){const x=this._lastPoints;if(!x)return;const S=c[0].sub(x[0]),I=c[1].sub(x[1]);return this._map._cooperativeGestures&&!i.isFullscreen()&&y.touches.length<3||(this._valid=this.gestureBeginsVertically(S,I,y.timeStamp),!this._valid)?void 0:(this._lastPoints=c,this._active=!0,{pitchDelta:(S.y+I.y)/2*-.5})}gestureBeginsVertically(c,h,y){if(this._valid!==void 0)return this._valid;const x=c.mag()>=2,S=h.mag()>=2;if(!x&&!S)return;if(!x||!S)return this._firstMove==null&&(this._firstMove=y),y-this._firstMove<100&&void 0;const I=c.y>0==h.y>0;return tc(c)&&tc(h)&&I}}const m0={panStep:100,bearingStep:15,pitchStep:10};class Bv{constructor(){const c=m0;this._panStep=c.panStep,this._bearingStep=c.bearingStep,this._pitchStep=c.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(c){if(c.altKey||c.ctrlKey||c.metaKey)return;let h=0,y=0,x=0,S=0,I=0;switch(c.keyCode){case 61:case 107:case 171:case 187:h=1;break;case 189:case 109:case 173:h=-1;break;case 37:c.shiftKey?y=-1:(c.preventDefault(),S=-1);break;case 39:c.shiftKey?y=1:(c.preventDefault(),S=1);break;case 38:c.shiftKey?x=1:(c.preventDefault(),I=-1);break;case 40:c.shiftKey?x=-1:(c.preventDefault(),I=1);break;default:return}return this._rotationDisabled&&(y=0,x=0),{cameraAnimation:D=>{const O=D.getZoom();D.easeTo({duration:300,easeId:"keyboardHandler",easing:g0,zoom:h?Math.round(O)+h*(c.shiftKey?2:1):O,bearing:D.getBearing()+y*this._bearingStep,pitch:D.getPitch()+x*this._pitchStep,offset:[-S*this._panStep,-I*this._panStep],center:D.getCenter()},{originalEvent:c})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function g0(m){return m*(2-m)}const m1=4.000244140625;class y0{constructor(c,h){this._map=c,this._el=c.getCanvasContainer(),this._handler=h,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,i.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(c){this._defaultZoomRate=c}setWheelZoomRate(c){this._wheelZoomRate=c}isEnabled(){return!!this._enabled}isActive(){return this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(c){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!c&&c.around==="center",this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(c){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(c.ctrlKey||c.metaKey||this.isZooming()||i.isFullscreen()))return void this._showBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let h=c.deltaMode===i.window.WheelEvent.DOM_DELTA_LINE?40*c.deltaY:c.deltaY;const y=i.exported.now(),x=y-(this._lastWheelEventTime||0);this._lastWheelEventTime=y,h!==0&&h%m1==0?this._type="wheel":h!==0&&Math.abs(h)<4?this._type="trackpad":x>400?(this._type=null,this._lastValue=h,this._timeout=setTimeout(this._onTimeout,40,c)):this._type||(this._type=Math.abs(x*h)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,h+=this._lastValue)),c.shiftKey&&h&&(h/=4),this._type&&(this._lastWheelEvent=c,this._delta-=h,this._active||this._start(c)),c.preventDefault()}_onTimeout(c){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(c)}_start(c){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const h=te(this._el,c);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:h,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const c=this._map.transform;this._type==="wheel"&&c.projection.wrap&&(c._center.lng>=180||c._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const h=()=>c._terrainEnabled()&&this._aroundCoord?c.computeZoomRelativeTo(this._aroundCoord):c.zoom;if(this._delta!==0){const O=this._type==="wheel"&&Math.abs(this._delta)>m1?this._wheelZoomRate:this._defaultZoomRate;let Z=2/(1+Math.exp(-Math.abs(this._delta*O)));this._delta<0&&Z!==0&&(Z=1/Z);const q=h(),ne=Math.pow(2,q),pe=typeof this._targetZoom=="number"?c.zoomScale(this._targetZoom):ne;this._targetZoom=Math.min(c.maxZoom,Math.max(c.minZoom,c.scaleZoom(pe*Z))),this._type==="wheel"&&(this._startZoom=q,this._easing=this._smoothOutEasing(200)),this._delta=0}const y=typeof this._targetZoom=="number"?this._targetZoom:h(),x=this._startZoom,S=this._easing;let I,D=!1;if(this._type==="wheel"&&x&&S){const O=Math.min((i.exported.now()-this._lastWheelEventTime)/200,1),Z=S(O);I=i.number(x,y,Z),O<1?this._frameId||(this._frameId=!0):D=!0}else I=y,D=!0;return this._active=!0,D&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!D,zoomDelta:I-h(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(c){let h=i.ease;if(this._prevEase){const y=this._prevEase,x=(i.exported.now()-y.start)/y.duration,S=y.easing(x+.01)-y.easing(x),I=.27/Math.sqrt(S*S+1e-4)*.01,D=Math.sqrt(.0729-I*I);h=i.bezier(I,D,.25,1)}return this._prevEase={start:i.exported.now(),duration:c,easing:h},h}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=R("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(i.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","null")},200)}}class _0{constructor(c,h){this._clickZoom=c,this._tapZoom=h}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class $o{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(c,h){return c.preventDefault(),{cameraAnimation:y=>{y.easeTo({duration:300,zoom:y.getZoom()+(c.shiftKey?-1:1),around:y.unproject(h)},{originalEvent:c})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Nv{constructor(){this._tap=new c1({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(c,h,y){this._swipePoint||(this._tapTime&&c.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?y.length>0&&(this._swipePoint=h[0],this._swipeTouch=y[0].identifier):this._tap.touchstart(c,h,y))}touchmove(c,h,y){if(this._tapTime){if(this._swipePoint){if(y[0].identifier!==this._swipeTouch)return;const x=h[0],S=x.y-this._swipePoint.y;return this._swipePoint=x,c.preventDefault(),this._active=!0,{zoomDelta:S/128}}}else this._tap.touchmove(c,h,y)}touchend(c,h,y){this._tapTime?this._swipePoint&&y.length===0&&this.reset():this._tap.touchend(c,h,y)&&(this._tapTime=c.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class v0{constructor(c,h,y){this._el=c,this._mousePan=h,this._touchPan=y}enable(c){this._inertiaOptions=c||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class $v{constructor(c,h,y){this._pitchWithRotate=c.pitchWithRotate,this._mouseRotate=h,this._mousePitch=y}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class jv{constructor(c,h,y,x){this._el=c,this._touchZoom=h,this._touchRotate=y,this._tapDragZoom=x,this._rotationDisabled=!1,this._enabled=!0}enable(c){this._touchZoom.enable(c),this._rotationDisabled||this._touchRotate.enable(c),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Ns=m=>m.zoom||m.drag||m.pitch||m.rotate;class x0 extends i.Event{}class Vv{constructor(){this.constants=[1,1,.01],this.radius=0}setup(c,h){const y=i.sub([],h,c);this.radius=i.length(y[2]<0?i.div([],y,this.constants):[y[0],y[1],0])}projectRay(c){i.div(c,c,this.constants),i.normalize(c,c),i.mul$1(c,c,this.constants);const h=i.scale$2([],c,this.radius);if(h[2]>0){const y=i.scale$2([],[0,0,1],i.dot(h,[0,0,1])),x=i.scale$2([],i.normalize([],[h[0],h[1],0]),this.radius),S=i.add([],h,i.scale$2([],i.sub([],i.add([],x,y),h),2));h[0]=S[0],h[1]=S[1]}return h}}function fa(m){return m.panDelta&&m.panDelta.mag()||m.zoomDelta||m.bearingDelta||m.pitchDelta}class Oa{constructor(c,h){this._map=c,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new c0(c),this._bearingSnap=h.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new Vv,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(h),i.bindAll(["handleEvent","handleWindowEvent"],this);const y=this._el;this._listeners=[[y,"touchstart",{passive:!0}],[y,"touchmove",{passive:!1}],[y,"touchend",void 0],[y,"touchcancel",void 0],[y,"mousedown",void 0],[y,"mousemove",void 0],[y,"mouseup",void 0],[i.window.document,"mousemove",{capture:!0}],[i.window.document,"mouseup",void 0],[y,"mouseover",void 0],[y,"mouseout",void 0],[y,"dblclick",void 0],[y,"click",void 0],[y,"keydown",{capture:!1}],[y,"keyup",void 0],[y,"wheel",{passive:!1}],[y,"contextmenu",void 0],[i.window,"blur",void 0]];for(const[x,S,I]of this._listeners)x.addEventListener(S,x===i.window.document?this.handleWindowEvent:this.handleEvent,I)}destroy(){for(const[c,h,y]of this._listeners)c.removeEventListener(h,c===i.window.document?this.handleWindowEvent:this.handleEvent,y)}_addDefaultHandlers(c){const h=this._map,y=h.getCanvasContainer();this._add("mapEvent",new l1(h,c));const x=h.boxZoom=new u0(h,c);this._add("boxZoom",x);const S=new Fv,I=new $o;h.doubleClickZoom=new _0(I,S),this._add("tapZoom",S),this._add("clickZoom",I);const D=new Nv;this._add("tapDragZoom",D);const O=h.touchPitch=new f0(h);this._add("touchPitch",O);const Z=new d1(c),q=new h1(c);h.dragRotate=new $v(c,Z,q),this._add("mouseRotate",Z,["mousePitch"]),this._add("mousePitch",q,["mouseRotate"]);const ne=new u1(c),pe=new up(h,c);h.dragPan=new v0(y,ne,pe),this._add("mousePan",ne),this._add("touchPan",pe,["touchZoom","touchRotate"]);const ye=new p0,be=new h0;h.touchZoomRotate=new jv(y,be,ye,D),this._add("touchRotate",ye,["touchPan","touchZoom"]),this._add("touchZoom",be,["touchPan","touchRotate"]),this._add("blockableMapEvent",new lp(h));const ve=h.scrollZoom=new y0(h,this);this._add("scrollZoom",ve,["mousePan"]);const Se=h.keyboard=new Bv;this._add("keyboard",Se);for(const re of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])c.interactive&&c[re]&&h[re].enable(c[re])}_add(c,h,y){this._handlers.push({handlerName:c,handler:h,allowed:y}),this._handlersById[c]=h}stop(c){if(!this._updatingCamera){for(const{handler:h}of this._handlers)h.reset();this._inertia.clear(),this._fireEvents({},{},c),this._changes=[]}}isActive(){for(const{handler:c}of this._handlers)if(c.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Ns(this._eventsInProgress)||this.isZooming()}_isDragging(){return!!this._eventsInProgress.drag}_blockedByActive(c,h,y){for(const x in c)if(x!==y&&(!h||h.indexOf(x)<0))return!0;return!1}handleWindowEvent(c){this.handleEvent(c,`${c.type}Window`)}_getMapTouches(c){const h=[];for(const y of c)this._el.contains(y.target)&&h.push(y);return h}handleEvent(c,h){this._updatingCamera=!0;const y=c.type==="renderFrame",x=y?void 0:c,S={needsRenderFrame:!1},I={},D={},O=c.touches?this._getMapTouches(c.touches):void 0,Z=O?le(this._el,O):y?void 0:te(this._el,c);for(const{handlerName:pe,handler:ye,allowed:be}of this._handlers){if(!ye.isEnabled())continue;let ve;this._blockedByActive(D,be,pe)?ye.reset():ye[h||c.type]&&(ve=ye[h||c.type](c,Z,O),this.mergeHandlerResult(S,I,ve,pe,x),ve&&ve.needsRenderFrame&&this._triggerRenderFrame()),(ve||ye.isActive())&&(D[pe]=ye)}const q={};for(const pe in this._previousActiveHandlers)D[pe]||(q[pe]=x);this._previousActiveHandlers=D,(Object.keys(q).length||fa(S))&&(this._changes.push([S,I,q]),this._triggerRenderFrame()),(Object.keys(D).length||fa(S))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:ne}=S;ne&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],ne(this._map))}mergeHandlerResult(c,h,y,x,S){if(!y)return;i.extend(c,y);const I={handlerName:x,originalEvent:y.originalEvent||S};y.zoomDelta!==void 0&&(h.zoom=I),y.panDelta!==void 0&&(h.drag=I),y.pitchDelta!==void 0&&(h.pitch=I),y.bearingDelta!==void 0&&(h.rotate=I)}_applyChanges(){const c={},h={},y={};for(const[x,S,I]of this._changes)x.panDelta&&(c.panDelta=(c.panDelta||new i.Point(0,0))._add(x.panDelta)),x.zoomDelta&&(c.zoomDelta=(c.zoomDelta||0)+x.zoomDelta),x.bearingDelta&&(c.bearingDelta=(c.bearingDelta||0)+x.bearingDelta),x.pitchDelta&&(c.pitchDelta=(c.pitchDelta||0)+x.pitchDelta),x.around!==void 0&&(c.around=x.around),x.aroundCoord!==void 0&&(c.aroundCoord=x.aroundCoord),x.pinchAround!==void 0&&(c.pinchAround=x.pinchAround),x.noInertia&&(c.noInertia=x.noInertia),i.extend(h,S),i.extend(y,I);this._updateMapTransform(c,h,y),this._changes=[]}_updateMapTransform(c,h,y){const x=this._map,S=x.transform,I=ge=>[ge.x,ge.y,ge.z];if((ge=>{const Ie=this._eventsInProgress.drag;return Ie&&!this._handlersById[Ie.handlerName].isActive()})()&&!fa(c)){const ge=S.zoom;S.cameraElevationReference="sea",S.recenterOnTerrain(),S.cameraElevationReference="ground",ge!==S.zoom&&this._map._update(!0)}if(S._isCameraConstrained&&x._stop(!0),!fa(c))return void this._fireEvents(h,y,!0);let{panDelta:D,zoomDelta:O,bearingDelta:Z,pitchDelta:q,around:ne,aroundCoord:pe,pinchAround:ye}=c;S._isCameraConstrained&&(O>0&&(O=0),S._isCameraConstrained=!1),ye!==void 0&&(ne=ye),(O||(ge=>h[ge]&&!this._eventsInProgress[ge])("drag"))&&ne&&(this._dragOrigin=I(S.pointCoordinate3D(ne)),this._trackingEllipsoid.setup(S._camera.position,this._dragOrigin)),S.cameraElevationReference="sea",x._stop(!0),ne=ne||x.transform.centerPoint,Z&&(S.bearing+=Z),q&&(S.pitch+=q),S._updateCameraState();const be=[0,0,0];if(D)if(S.projection.name==="mercator"){const ge=this._trackingEllipsoid.projectRay(S.screenPointToMercatorRay(ne).dir),Ie=this._trackingEllipsoid.projectRay(S.screenPointToMercatorRay(ne.sub(D)).dir);be[0]=Ie[0]-ge[0],be[1]=Ie[1]-ge[1]}else{const ge=S.pointCoordinate(ne);if(S.projection.name==="globe"){D=D.rotate(-S.angle);const Ie=S._pixelsPerMercatorPixel/S.worldSize;be[0]=-D.x*i.mercatorScale(i.latFromMercatorY(ge.y))*Ie,be[1]=-D.y*i.mercatorScale(S.center.lat)*Ie}else{const Ie=S.pointCoordinate(ne.sub(D));ge&&Ie&&(be[0]=Ie.x-ge.x,be[1]=Ie.y-ge.y)}}const ve=S.zoom,Se=[0,0,0];if(O){const ge=I(pe||S.pointCoordinate3D(ne)),Ie={dir:i.normalize([],i.sub([],ge,S._camera.position))};if(Ie.dir[2]<0){const Ae=S.zoomDeltaToMovement(ge,O);i.scale$2(Se,Ie.dir,Ae)}}const re=i.add(be,be,Se);S._translateCameraConstrained(re),O&&Math.abs(S.zoom-ve)>1e-4&&S.recenterOnTerrain(),S.cameraElevationReference="ground",this._map._update(),c.noInertia||this._inertia.record(c),this._fireEvents(h,y,!0)}_fireEvents(c,h,y){const x=Ns(this._eventsInProgress),S=Ns(c),I={};for(const q in c){const{originalEvent:ne}=c[q];this._eventsInProgress[q]||(I[`${q}start`]=ne),this._eventsInProgress[q]=c[q]}!x&&S&&this._fireEvent("movestart",S.originalEvent);for(const q in I)this._fireEvent(q,I[q]);S&&this._fireEvent("move",S.originalEvent);for(const q in c){const{originalEvent:ne}=c[q];this._fireEvent(q,ne)}const D={};let O;for(const q in this._eventsInProgress){const{handlerName:ne,originalEvent:pe}=this._eventsInProgress[q];this._handlersById[ne].isActive()||(delete this._eventsInProgress[q],O=h[ne]||pe,D[`${q}end`]=O)}for(const q in D)this._fireEvent(q,D[q]);const Z=Ns(this._eventsInProgress);if(y&&(x||S)&&!Z){this._updatingCamera=!0;const q=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),ne=pe=>pe!==0&&-this._bearingSnap<pe&&pe<this._bearingSnap;q?(ne(q.bearing||this._map.getBearing())&&(q.bearing=0),this._map.easeTo(q,{originalEvent:O})):(this._map.fire(new i.Event("moveend",{originalEvent:O})),ne(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(c,h){this._map.fire(new i.Event(c,h?{originalEvent:h}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(c=>{this._frameId=void 0,this.handleEvent(new x0("renderFrame",{timeStamp:c})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const qc="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class dp extends i.Evented{constructor(c,h){super(),this._moving=!1,this._zooming=!1,this.transform=c,this._bearingSnap=h.bearingSnap,this._respectPrefersReducedMotion=h.respectPrefersReducedMotion!==!1,i.bindAll(["_renderFrameCallback"],this)}getCenter(){return new i.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(c,h){return this.jumpTo({center:c},h)}panBy(c,h,y){return c=i.Point.convert(c).mult(-1),this.panTo(this.transform.center,i.extend({offset:c},h),y)}panTo(c,h,y){return this.easeTo(i.extend({center:c},h),y)}getZoom(){return this.transform.zoom}setZoom(c,h){return this.jumpTo({zoom:c},h),this}zoomTo(c,h,y){return this.easeTo(i.extend({zoom:c},h),y)}zoomIn(c,h){return this.zoomTo(this.getZoom()+1,c,h),this}zoomOut(c,h){return this.zoomTo(this.getZoom()-1,c,h),this}getBearing(){return this.transform.bearing}setBearing(c,h){return this.jumpTo({bearing:c},h),this}getPadding(){return this.transform.padding}setPadding(c,h){return this.jumpTo({padding:c},h),this}rotateTo(c,h,y){return this.easeTo(i.extend({bearing:c},h),y)}resetNorth(c,h){return this.rotateTo(0,i.extend({duration:1e3},c),h),this}resetNorthPitch(c,h){return this.easeTo(i.extend({bearing:0,pitch:0,duration:1e3},c),h),this}snapToNorth(c,h){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(c,h):this}getPitch(){return this.transform.pitch}setPitch(c,h){return this.jumpTo({pitch:c},h),this}cameraForBounds(c,h){c=i.LngLatBounds.convert(c);const y=h&&h.bearing||0,x=h&&h.pitch||0,S=c.getNorthWest(),I=c.getSouthEast();return this._cameraForBounds(this.transform,S,I,y,x,h)}_extendCameraOptions(c){const h={top:0,bottom:0,right:0,left:0};if(typeof(c=i.extend({padding:h,offset:[0,0],maxZoom:this.transform.maxZoom},c)).padding=="number"){const y=c.padding;c.padding={top:y,bottom:y,right:y,left:y}}return c.padding=i.extend(h,c.padding),c}_minimumAABBFrustumDistance(c,h){const y=h.max[0]-h.min[0],x=h.max[1]-h.min[1];return y/x>c.aspect?y/(2*Math.tan(.5*c.fovX)*c.aspect):x/(2*Math.tan(.5*c.fovY)*c.aspect)}_cameraForBoundsOnGlobe(c,h,y,x,S,I){const D=c.clone(),O=this._extendCameraOptions(I);D.bearing=x,D.pitch=S;const Z=i.LngLat.convert(h),q=i.LngLat.convert(y),ne=.5*(Z.lat+q.lat),pe=.5*(Z.lng+q.lng),ye=i.latLngToECEF(ne,pe),be=i.normalize([],ye),ve=i.normalize([],i.cross([],be,[0,1,0])),Se=i.cross([],ve,be),re=[ve[0],ve[1],ve[2],0,Se[0],Se[1],Se[2],0,be[0],be[1],be[2],0,0,0,0,1],ge=[ye,i.latLngToECEF(Z.lat,Z.lng),i.latLngToECEF(q.lat,Z.lng),i.latLngToECEF(q.lat,q.lng),i.latLngToECEF(Z.lat,q.lng),i.latLngToECEF(ne,Z.lng),i.latLngToECEF(ne,q.lng),i.latLngToECEF(Z.lat,pe),i.latLngToECEF(q.lat,pe)];let Ie=i.Aabb.fromPoints(ge.map(Vt=>[i.dot(ve,Vt),i.dot(Se,Vt),i.dot(be,Vt)]));const Ae=i.transformMat4([],Ie.center,re);i.squaredLength(Ae)===0&&i.set(Ae,0,0,1),i.normalize(Ae,Ae),i.scale$2(Ae,Ae,i.GLOBE_RADIUS),D.center=i.ecefToLatLng(Ae);const We=D.getWorldToCameraMatrix(),Ge=i.invert(new Float64Array(16),We);Ie=i.Aabb.applyTransform(Ie,i.multiply([],We,re)),i.transformMat4(Ae,Ae,We);const He=.5*(Ie.max[2]-Ie.min[2]),tt=this._minimumAABBFrustumDistance(D,Ie),Je=i.scale$2([],[0,0,1],He),dt=i.add(Je,Ae,Je),qt=tt+(D.pitch===0?0:i.distance(Ae,dt)),ot=D.globeCenterInViewSpace,zt=i.sub([],Ae,[ot[0],ot[1],ot[2]]);i.normalize(zt,zt),i.scale$2(zt,zt,qt);const gt=i.add([],Ae,zt);i.transformMat4(gt,gt,Ge);const Gt=i.earthRadius/i.GLOBE_RADIUS,lt=i.length(gt),Rt=i.mercatorZfromAltitude(Math.max(lt*Gt-i.earthRadius,Number.EPSILON),0),Yt=Math.min(D.zoomFromMercatorZAdjusted(Rt),O.maxZoom);return Yt>.5*(i.GLOBE_ZOOM_THRESHOLD_MIN+i.GLOBE_ZOOM_THRESHOLD_MAX)?(D.setProjection({name:"mercator"}),D.zoom=Yt,this._cameraForBounds(D,h,y,x,S,I)):{center:D.center,zoom:Yt,bearing:x,pitch:S}}queryTerrainElevation(c,h){const y=this.transform.elevation;return y?(h=i.extend({},{exaggerated:!0},h),y.getAtPoint(i.MercatorCoordinate.fromLngLat(c),null,h.exaggerated)):null}_cameraForBounds(c,h,y,x,S,I){if(c.projection.name==="globe")return this._cameraForBoundsOnGlobe(c,h,y,x,S,I);const D=c.clone(),O=this._extendCameraOptions(I),Z=D.padding;D.bearing=x,D.pitch=S;const q=i.LngLat.convert(h),ne=i.LngLat.convert(y),pe=new i.LngLat(q.lng,ne.lat),ye=new i.LngLat(ne.lng,q.lat),be=D.project(q),ve=D.project(ne),Se=this.queryTerrainElevation(q),re=this.queryTerrainElevation(ne),ge=this.queryTerrainElevation(pe),Ie=this.queryTerrainElevation(ye),Ae=[[be.x,be.y,Math.min(Se||0,re||0,ge||0,Ie||0)],[ve.x,ve.y,Math.max(Se||0,re||0,ge||0,Ie||0)]];let We=i.Aabb.fromPoints(Ae);const Ge=D.getWorldToCameraMatrix(),He=i.invert(new Float64Array(16),Ge);We=i.Aabb.applyTransform(We,Ge);const tt=i.sub([],We.max,We.min),Je=Z.left||0,dt=Z.right||0,qt=Z.bottom||0,ot=Z.top||0,{left:zt,right:gt,top:Gt,bottom:lt}=O.padding,Rt=.5*(Je+dt),Yt=.5*(ot+qt),Vt=Math.min(D.scaleZoom(D.scale*Math.min((D.width-(Je+dt+zt+gt))/tt[0],(D.height-(qt+ot+lt+Gt))/tt[1])),O.maxZoom),Jt=D.scale/D.zoomScale(Vt);We=new i.Aabb([We.min[0]-(zt+Rt)*Jt,We.min[1]-(lt+Yt)*Jt,We.min[2]],[We.max[0]+(gt+Rt)*Jt,We.max[1]+(Gt+Yt)*Jt,We.max[2]]);const On=.5*tt[2],tr=this._minimumAABBFrustumDistance(D,We),kn=[0,0,1,0];i.transformMat4$1(kn,kn,Ge),i.normalize$2(kn,kn);const Gn=i.scale$2([],kn,tr+On),Sr=i.add([],We.center,Gn),br=(typeof O.offset.x=="number"&&typeof O.offset.y=="number"?new i.Point(O.offset.x,O.offset.y):i.Point.convert(O.offset)).rotate(-i.degToRad(x));We.center[0]-=br.x*Jt,We.center[1]+=br.y*Jt,i.transformMat4(We.center,We.center,He),i.transformMat4(Sr,Sr,He);const Ln=[We.center[0],We.center[1],Sr[2]*D.pixelsPerMeter];i.scale$2(Ln,Ln,1/D.worldSize);const Nr=i.lngFromMercatorX(Ln[0]),Gr=i.latFromMercatorY(Ln[1]),qr=Math.min(D._zoomFromMercatorZ(Ln[2]),O.maxZoom),Zr=new i.LngLat(Nr,Gr);return D.mercatorFromTransition&&qr<.5*(i.GLOBE_ZOOM_THRESHOLD_MIN+i.GLOBE_ZOOM_THRESHOLD_MAX)?(D.setProjection({name:"globe"}),D.zoom=qr,this._cameraForBounds(D,h,y,x,S,I)):{center:Zr,zoom:qr,bearing:x,pitch:S}}fitBounds(c,h,y){const x=this.cameraForBounds(c,h);return this._fitInternal(x,h,y)}fitScreenCoordinates(c,h,y,x,S){const I=i.Point.convert(c),D=i.Point.convert(h),O=new i.Point(Math.min(I.x,D.x),Math.min(I.y,D.y)),Z=new i.Point(Math.max(I.x,D.x),Math.max(I.y,D.y));if(this.transform.projection.name==="mercator"&&this.transform.anyCornerOffEdge(I,D))return this;const q=this.transform.pointLocation3D(O),ne=this.transform.pointLocation3D(Z),pe=this.transform.pointLocation3D(new i.Point(O.x,Z.y)),ye=this.transform.pointLocation3D(new i.Point(Z.x,O.y)),be=[Math.min(q.lng,ne.lng,pe.lng,ye.lng),Math.min(q.lat,ne.lat,pe.lat,ye.lat)],ve=[Math.max(q.lng,ne.lng,pe.lng,ye.lng),Math.max(q.lat,ne.lat,pe.lat,ye.lat)],Se=x&&x.pitch?x.pitch:this.getPitch(),re=this._cameraForBounds(this.transform,be,ve,y,Se,x);return this._fitInternal(re,x,S)}_fitInternal(c,h,y){return c?(delete(h=i.extend(c,h)).padding,h.linear?this.easeTo(h,y):this.flyTo(h,y)):this}jumpTo(c,h){this.stop();const y=c.preloadOnly?this.transform.clone():this.transform;let x=!1,S=!1,I=!1;return"zoom"in c&&y.zoom!==+c.zoom&&(x=!0,y.zoom=+c.zoom),c.center!==void 0&&(y.center=i.LngLat.convert(c.center)),"bearing"in c&&y.bearing!==+c.bearing&&(S=!0,y.bearing=+c.bearing),"pitch"in c&&y.pitch!==+c.pitch&&(I=!0,y.pitch=+c.pitch),c.padding==null||y.isPaddingEqual(c.padding)||(y.padding=c.padding),c.preloadOnly?(this._preloadTiles(y),this):(this.fire(new i.Event("movestart",h)).fire(new i.Event("move",h)),x&&this.fire(new i.Event("zoomstart",h)).fire(new i.Event("zoom",h)).fire(new i.Event("zoomend",h)),S&&this.fire(new i.Event("rotatestart",h)).fire(new i.Event("rotate",h)).fire(new i.Event("rotateend",h)),I&&this.fire(new i.Event("pitchstart",h)).fire(new i.Event("pitch",h)).fire(new i.Event("pitchend",h)),this.fire(new i.Event("moveend",h)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||i.warnOnce(qc),this.transform.getFreeCameraOptions()}setFreeCameraOptions(c,h){const y=this.transform;if(!y.projection.supportsFreeCamera)return i.warnOnce(qc),this;this.stop();const x=y.zoom,S=y.pitch,I=y.bearing;y.setFreeCameraOptions(c);const D=x!==y.zoom,O=S!==y.pitch,Z=I!==y.bearing;return this.fire(new i.Event("movestart",h)).fire(new i.Event("move",h)),D&&this.fire(new i.Event("zoomstart",h)).fire(new i.Event("zoom",h)).fire(new i.Event("zoomend",h)),Z&&this.fire(new i.Event("rotatestart",h)).fire(new i.Event("rotate",h)).fire(new i.Event("rotateend",h)),O&&this.fire(new i.Event("pitchstart",h)).fire(new i.Event("pitch",h)).fire(new i.Event("pitchend",h)),this.fire(new i.Event("moveend",h)),this}easeTo(c,h){this._stop(!1,c.easeId),((c=i.extend({offset:[0,0],duration:500,easing:i.ease},c)).animate===!1||this._prefersReducedMotion(c))&&(c.duration=0);const y=this.transform,x=this.getZoom(),S=this.getBearing(),I=this.getPitch(),D=this.getPadding(),O="zoom"in c?+c.zoom:x,Z="bearing"in c?this._normalizeBearing(c.bearing,S):S,q="pitch"in c?+c.pitch:I,ne="padding"in c?c.padding:y.padding,pe=i.Point.convert(c.offset);let ye,be,ve;if(y.projection.name==="globe"){const Je=i.MercatorCoordinate.fromLngLat(y.center),dt=pe.rotate(-y.angle);Je.x+=dt.x/y.worldSize,Je.y+=dt.y/y.worldSize;const qt=Je.toLngLat(),ot=i.LngLat.convert(c.center||qt);this._normalizeCenter(ot),ye=y.centerPoint.add(dt),be=new i.Point(Je.x,Je.y).mult(y.worldSize),ve=new i.Point(i.mercatorXfromLng(ot.lng),i.mercatorYfromLat(ot.lat)).mult(y.worldSize).sub(be)}else{ye=y.centerPoint.add(pe);const Je=y.pointLocation(ye),dt=i.LngLat.convert(c.center||Je);this._normalizeCenter(dt),be=y.project(Je),ve=y.project(dt).sub(be)}const Se=y.zoomScale(O-x);let re,ge;c.around&&(re=i.LngLat.convert(c.around),ge=y.locationPoint(re));const Ie=this._zooming||O!==x,Ae=this._rotating||S!==Z,We=this._pitching||q!==I,Ge=!y.isPaddingEqual(ne),He=Je=>dt=>{if(Ie&&(Je.zoom=i.number(x,O,dt)),Ae&&(Je.bearing=i.number(S,Z,dt)),We&&(Je.pitch=i.number(I,q,dt)),Ge&&(Je.interpolatePadding(D,ne,dt),ye=Je.centerPoint.add(pe)),re)Je.setLocationAtPoint(re,ge);else{const qt=Je.zoomScale(Je.zoom-x),ot=O>x?Math.min(2,Se):Math.max(.5,Se),zt=Math.pow(ot,1-dt),gt=Je.unproject(be.add(ve.mult(dt*zt)).mult(qt));Je.setLocationAtPoint(Je.renderWorldCopies?gt.wrap():gt,ye)}return c.preloadOnly||this._fireMoveEvents(h),Je};if(c.preloadOnly){const Je=this._emulate(He,c.duration,y);return this._preloadTiles(Je),this}const tt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=Ie,this._rotating=Ae,this._pitching=We,this._padding=Ge,this._easeId=c.easeId,this._prepareEase(h,c.noMoveStart,tt),this._ease(He(y),Je=>{y.recenterOnTerrain(),this._afterEase(h,Je)},c),this}_prepareEase(c,h,y={}){this._moving=!0,this.transform.cameraElevationReference="sea",h||y.moving||this.fire(new i.Event("movestart",c)),this._zooming&&!y.zooming&&this.fire(new i.Event("zoomstart",c)),this._rotating&&!y.rotating&&this.fire(new i.Event("rotatestart",c)),this._pitching&&!y.pitching&&this.fire(new i.Event("pitchstart",c))}_fireMoveEvents(c){this.fire(new i.Event("move",c)),this._zooming&&this.fire(new i.Event("zoom",c)),this._rotating&&this.fire(new i.Event("rotate",c)),this._pitching&&this.fire(new i.Event("pitch",c))}_afterEase(c,h){if(this._easeId&&h&&this._easeId===h)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const y=this._zooming,x=this._rotating,S=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,y&&this.fire(new i.Event("zoomend",c)),x&&this.fire(new i.Event("rotateend",c)),S&&this.fire(new i.Event("pitchend",c)),this.fire(new i.Event("moveend",c))}flyTo(c,h){if(this._prefersReducedMotion(c)){const Vt=i.pick(c,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Vt,h)}this.stop(),c=i.extend({offset:[0,0],speed:1.2,curve:1.42,easing:i.ease},c);const y=this.transform,x=this.getZoom(),S=this.getBearing(),I=this.getPitch(),D=this.getPadding(),O="zoom"in c?i.clamp(+c.zoom,y.minZoom,y.maxZoom):x,Z="bearing"in c?this._normalizeBearing(c.bearing,S):S,q="pitch"in c?+c.pitch:I,ne="padding"in c?c.padding:y.padding,pe=y.zoomScale(O-x),ye=i.Point.convert(c.offset);let be=y.centerPoint.add(ye);const ve=y.pointLocation(be),Se=i.LngLat.convert(c.center||ve);this._normalizeCenter(Se);const re=y.project(ve),ge=y.project(Se).sub(re);let Ie=c.curve;const Ae=Math.max(y.width,y.height),We=Ae/pe,Ge=ge.mag();if("minZoom"in c){const Vt=i.clamp(Math.min(c.minZoom,x,O),y.minZoom,y.maxZoom),Jt=Ae/y.zoomScale(Vt-x);Ie=Math.sqrt(Jt/Ge*2)}const He=Ie*Ie;function tt(Vt){const Jt=(We*We-Ae*Ae+(Vt?-1:1)*He*He*Ge*Ge)/(2*(Vt?We:Ae)*He*Ge);return Math.log(Math.sqrt(Jt*Jt+1)-Jt)}function Je(Vt){return(Math.exp(Vt)-Math.exp(-Vt))/2}function dt(Vt){return(Math.exp(Vt)+Math.exp(-Vt))/2}const qt=tt(0);let ot=function(Vt){return dt(qt)/dt(qt+Ie*Vt)},zt=function(Vt){return Ae*((dt(qt)*(Je(Jt=qt+Ie*Vt)/dt(Jt))-Je(qt))/He)/Ge;var Jt},gt=(tt(1)-qt)/Ie;if(Math.abs(Ge)<1e-6||!isFinite(gt)){if(Math.abs(Ae-We)<1e-6)return this.easeTo(c,h);const Vt=We<Ae?-1:1;gt=Math.abs(Math.log(We/Ae))/Ie,zt=function(){return 0},ot=function(Jt){return Math.exp(Vt*Ie*Jt)}}c.duration="duration"in c?+c.duration:1e3*gt/("screenSpeed"in c?+c.screenSpeed/Ie:+c.speed),c.maxDuration&&c.duration>c.maxDuration&&(c.duration=0);const Gt=S!==Z,lt=q!==I,Rt=!y.isPaddingEqual(ne),Yt=Vt=>Jt=>{const On=Jt*gt,tr=1/ot(On);Vt.zoom=Jt===1?O:x+Vt.scaleZoom(tr),Gt&&(Vt.bearing=i.number(S,Z,Jt)),lt&&(Vt.pitch=i.number(I,q,Jt)),Rt&&(Vt.interpolatePadding(D,ne,Jt),be=Vt.centerPoint.add(ye));const kn=Jt===1?Se:Vt.unproject(re.add(ge.mult(zt(On))).mult(tr));return Vt.setLocationAtPoint(Vt.renderWorldCopies?kn.wrap():kn,be),Vt._updateCameraOnTerrain(),c.preloadOnly||this._fireMoveEvents(h),Vt};if(c.preloadOnly){const Vt=this._emulate(Yt,c.duration,y);return this._preloadTiles(Vt),this}return this._zooming=!0,this._rotating=Gt,this._pitching=lt,this._padding=Rt,this._prepareEase(h,!1),this._ease(Yt(y),()=>this._afterEase(h),c),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(c,h){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const y=this._onEaseEnd;this._onEaseEnd=void 0,y.call(this,h)}if(!c){const y=this.handlers;y&&y.stop(!1)}return this}_ease(c,h,y){y.animate===!1||y.duration===0?(c(1),h()):(this._easeStart=i.exported.now(),this._easeOptions=y,this._onEaseFrame=c,this._onEaseEnd=h,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const c=Math.min((i.exported.now()-this._easeStart)/this._easeOptions.duration,1),h=this._onEaseFrame;h&&h(this._easeOptions.easing(c)),c<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(c,h){c=i.wrap(c,-180,180);const y=Math.abs(c-h);return Math.abs(c-360-h)<y&&(c-=360),Math.abs(c+360-h)<y&&(c+=360),c}_normalizeCenter(c){const h=this.transform;if(!h.renderWorldCopies||h.maxBounds)return;const y=c.lng-h.center.lng;c.lng+=y>180?-360:y<-180?360:0}_prefersReducedMotion(c){return this._respectPrefersReducedMotion&&i.exported.prefersReducedMotion&&!(c&&c.essential)}_emulate(c,h,y){const x=Math.ceil(15*h/1e3),S=[],I=c(y.clone());for(let D=0;D<=x;D++){const O=I(D/x);S.push(O.clone())}return S}}class Sn{constructor(c={}){this.options=c,i.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(c){const h=this.options&&this.options.compact;return this._map=c,this._container=R("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=R("button","mapboxgl-ctrl-attrib-button",this._container),R("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=R("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),h&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),h===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(c,h){const y=this._map._getUIString(`AttributionControl.${h}`);c.setAttribute("aria-label",y),c.removeAttribute("title"),c.firstElementChild&&c.firstElementChild.setAttribute("title",y)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let c=this._editLink;c||(c=this._editLink=this._container.querySelector(".mapbox-improve-map"));const h=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||i.config.ACCESS_TOKEN}];if(c){const y=h.reduce((x,S,I)=>(S.value&&(x+=`${S.key}=${S.value}${I<h.length-1?"&":""}`),x),"?");c.href=`${i.config.FEEDBACK_URL}/${y}#${Nd(this._map,!0)}`,c.rel="noopener nofollow",this._setElementTitle(c,"MapFeedback")}}_updateData(c){!c||c.sourceDataType!=="metadata"&&c.sourceDataType!=="visibility"&&c.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let c=[];if(this._map.style.stylesheet){const x=this._map.style.stylesheet;this.styleOwner=x.owner,this.styleId=x.id}const h=this._map.style._sourceCaches;for(const x in h){const S=h[x];if(S.used){const I=S.getSource();I.attribution&&c.indexOf(I.attribution)<0&&c.push(I.attribution)}}c.sort((x,S)=>x.length-S.length),c=c.filter((x,S)=>{for(let I=S+1;I<c.length;I++)if(c[I].indexOf(x)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?c=[...this.options.customAttribution,...c]:c.unshift(this.options.customAttribution));const y=c.join(" | ");y!==this._attribHTML&&(this._attribHTML=y,c.length?(this._innerContainer.innerHTML=y,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class g1{constructor(){i.bindAll(["_updateLogo","_updateCompact"],this)}onAdd(c){this._map=c,this._container=R("div","mapboxgl-ctrl");const h=R("a","mapboxgl-ctrl-logo");return h.target="_blank",h.rel="noopener nofollow",h.href="https://www.mapbox.com/",h.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),h.setAttribute("rel","noopener nofollow"),this._container.appendChild(h),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(c){c&&c.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const c=this._map.style._sourceCaches;if(Object.entries(c).length===0)return!0;for(const h in c){const y=c[h].getSource();if(y.hasOwnProperty("mapbox_logo")&&!y.mapbox_logo)return!1}return!0}_updateCompact(){const c=this._container.children;if(c.length){const h=c[0];this._map.getCanvasContainer().offsetWidth<250?h.classList.add("mapboxgl-compact"):h.classList.remove("mapboxgl-compact")}}}class y1{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(c){const h=++this._id;return this._queue.push({callback:c,id:h,cancelled:!1}),h}remove(c){const h=this._currentlyRunning,y=h?this._queue.concat(h):this._queue;for(const x of y)if(x.id===c)return void(x.cancelled=!0)}run(c=0){const h=this._currentlyRunning=this._queue;this._queue=[];for(const y of h)if(!y.cancelled&&(y.callback(c),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function Ou(m,c,h){if(m=new i.LngLat(m.lng,m.lat),c){const y=new i.LngLat(m.lng-360,m.lat),x=new i.LngLat(m.lng+360,m.lat),S=360*Math.ceil(Math.abs(m.lng-h.center.lng)/360),I=h.locationPoint(m).distSqr(c),D=c.x<0||c.y<0||c.x>h.width||c.y>h.height;h.locationPoint(y).distSqr(c)<I&&(D||Math.abs(y.lng-h.center.lng)<S)?m=y:h.locationPoint(x).distSqr(c)<I&&(D||Math.abs(x.lng-h.center.lng)<S)&&(m=x)}for(;Math.abs(m.lng-h.center.lng)>180;){const y=h.locationPoint(m);if(y.x>=0&&y.y>=0&&y.x<=h.width&&y.y<=h.height)break;m.lng>h.center.lng?m.lng-=360:m.lng+=360}return m}const Zc={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class vn extends i.Evented{constructor(c,h){if(super(),(c instanceof i.window.HTMLElement||h)&&(c=i.extend({element:c},h)),i.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=c&&c.anchor||"center",this._color=c&&c.color||"#3FB1CE",this._scale=c&&c.scale||1,this._draggable=c&&c.draggable||!1,this._clickTolerance=c&&c.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=c&&c.rotation||0,this._rotationAlignment=c&&c.rotationAlignment||"auto",this._pitchAlignment=c&&c.pitchAlignment&&c.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=c&&c.occludedOpacity||.2,c&&c.element)this._element=c.element,this._offset=i.Point.convert(c&&c.offset||[0,0]);else{this._defaultMarker=!0,this._element=R("div");const x=41,S=27,I=B("svg",{display:"block",height:x*this._scale+"px",width:S*this._scale+"px",viewBox:`0 0 ${S} ${x}`},this._element),D=B("radialGradient",{id:"shadowGradient"},B("defs",{},I));B("stop",{offset:"10%","stop-opacity":.4},D),B("stop",{offset:"100%","stop-opacity":.05},D),B("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},I),B("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},I),B("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},I),B("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},I),this._offset=i.Point.convert(c&&c.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",x=>{x.preventDefault()}),this._element.addEventListener("mousedown",x=>{x.preventDefault()});const y=this._element.classList;for(const x in Zc)y.remove(`mapboxgl-marker-anchor-${x}`);y.add(`mapboxgl-marker-anchor-${this._anchor}`),this._popup=null}addTo(c){return c===this._map||(this.remove(),this._map=c,c.getCanvasContainer().appendChild(this._element),c.on("move",this._updateMoving),c.on("moveend",this._update),c.on("remove",this._clearFadeTimer),c._addMarker(this),this.setDraggable(this._draggable),this._update(),c.on("click",this._onMapClick)),this}remove(){const c=this._map;return c&&(c.off("click",this._onMapClick),c.off("move",this._updateMoving),c.off("moveend",this._update),c.off("mousedown",this._addDragHandler),c.off("touchstart",this._addDragHandler),c.off("mouseup",this._onUp),c.off("touchend",this._onUp),c.off("mousemove",this._onMove),c.off("touchmove",this._onMove),c.off("remove",this._clearFadeTimer),c._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(c){return this._lngLat=i.LngLat.convert(c),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(c){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),c){if(!("offset"in c.options)){const x=Math.sqrt(Math.pow(13.5,2)/2);c.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[x,-1*(38.1-13.5+x)],"bottom-right":[-x,-1*(38.1-13.5+x)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=c,c._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(c){const h=c.code,y=c.charCode||c.keyCode;h!=="Space"&&h!=="Enter"&&y!==32&&y!==13||this.togglePopup()}_onMapClick(c){const h=c.originalEvent.target,y=this._element;this._popup&&(h===y||y.contains(h))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const c=this._popup;return c?(c.isOpen()?(c.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(c.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const c=this._map,h=this._pos;if(!c||!h)return!1;const y=c.unproject(h),x=c.getFreeCameraOptions();if(!x.position)return!1;const S=x.position.toLngLat();return S.distanceTo(y)<.9*S.distanceTo(this._lngLat)}_evaluateOpacity(){const c=this._map;if(!c)return;const h=this._pos;if(!h||h.x<0||h.x>c.transform.width||h.y<0||h.y>c.transform.height)return void this._clearFadeTimer();const y=c.unproject(h);let x;c._showingGlobe()&&i.isLngLatBehindGlobe(c.transform,this._lngLat)?x=0:(x=1-c._queryFogOpacity(y),c.transform._terrainEnabled()&&c.getTerrain()&&this._behindTerrain()&&(x*=this._occludedOpacity)),this._element.style.opacity=`${x}`,this._element.style.pointerEvents=x>0?"auto":"none",this._popup&&this._popup._setOpacity(x),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const c=this._pos;if(!c||!this._map)return;const h=this._offset.mult(this._scale);this._element.style.transform=`
            translate(${c.x}px,${c.y}px)
            ${Zc[this._anchor]}
            ${this._calculateXYTransform()} ${this._calculateZTransform()}
            translate(${h.x}px,${h.y}px)
        `}_calculateXYTransform(){const c=this._pos,h=this._map,y=this.getPitchAlignment();if(!h||!c||y!=="map")return"";if(!h._showingGlobe()){const O=h.getPitch();return O?`rotateX(${O}deg)`:""}const x=i.radToDeg(i.globeTiltAtLngLat(h.transform,this._lngLat)),S=c.sub(i.globeCenterToScreenPoint(h.transform)),I=Math.abs(S.x)+Math.abs(S.y);if(I===0)return"";const D=x/I;return`rotateX(${-S.y*D}deg) rotateY(${S.x*D}deg)`}_calculateZTransform(){const c=this._pos,h=this._map;if(!h||!c)return"";let y=0;const x=this.getRotationAlignment();if(x==="map")if(h._showingGlobe()){const S=h.project(new i.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),I=h.project(new i.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(S);y=i.radToDeg(Math.atan2(I.y,I.x))-90}else y=-h.getBearing();else if(x==="horizon"){const S=i.smoothstep(4,6,h.getZoom()),I=i.globeCenterToScreenPoint(h.transform);I.y+=S*h.transform.height;const D=c.sub(I),O=i.radToDeg(Math.atan2(D.y,D.x));y=(O>90?O-270:O+90)*(1-S)}return y+=this._rotation,y?`rotateZ(${y}deg)`:""}_update(c){i.window.cancelAnimationFrame(this._updateFrameId);const h=this._map;h&&(h.transform.renderWorldCopies&&(this._lngLat=Ou(this._lngLat,this._pos,h.transform)),this._pos=h.project(this._lngLat),c===!0?this._updateFrameId=i.window.requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),h._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(h._showingGlobe()||h.getTerrain()||h.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(c){return this._offset=i.Point.convert(c),this._update(),this}_onMove(c){const h=this._map;if(!h)return;const y=this._pointerdownPos,x=this._positionDelta;if(y&&x){if(!this._isDragging){const S=this._clickTolerance||h._clickTolerance;if(c.point.dist(y)<S)return;this._isDragging=!0}this._pos=c.point.sub(x),this._lngLat=h.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new i.Event("dragstart"))),this.fire(new i.Event("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const c=this._map;c&&(c.off("mousemove",this._onMove),c.off("touchmove",this._onMove)),this._state==="active"&&this.fire(new i.Event("dragend")),this._state="inactive"}_addDragHandler(c){const h=this._map,y=this._pos;h&&y&&this._element.contains(c.originalEvent.target)&&(c.preventDefault(),this._positionDelta=c.point.sub(y),this._pointerdownPos=c.point,this._state="pending",h.on("mousemove",this._onMove),h.on("touchmove",this._onMove),h.once("mouseup",this._onUp),h.once("touchend",this._onUp))}setDraggable(c){this._draggable=!!c;const h=this._map;return h&&(c?(h.on("mousedown",this._addDragHandler),h.on("touchstart",this._addDragHandler)):(h.off("mousedown",this._addDragHandler),h.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(c){return this._rotation=c||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(c){return this._rotationAlignment=c||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment==="auto"||this._rotationAlignment==="horizon"&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(c){return this._pitchAlignment=c||"auto",this._update(),this}getPitchAlignment(){return this._pitchAlignment==="auto"?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(c){return this._occludedOpacity=c||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const _1={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Uv=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function b0(m=new i.Point(0,0),c="bottom"){if(typeof m=="number"){const h=Math.round(Math.sqrt(.5*Math.pow(m,2)));switch(c){case"top":return new i.Point(0,m);case"top-left":return new i.Point(h,h);case"top-right":return new i.Point(-h,h);case"bottom":return new i.Point(0,-m);case"bottom-left":return new i.Point(h,-h);case"bottom-right":return new i.Point(-h,-h);case"left":return new i.Point(m,0);case"right":return new i.Point(-m,0)}return new i.Point(0,0)}return m instanceof i.Point||Array.isArray(m)?i.Point.convert(m):i.Point.convert(m[c]||[0,0])}class v1{constructor(c){this.jumpTo(c)}getValue(c){if(c<=this._startTime)return this._start;if(c>=this._endTime)return this._end;const h=i.easeCubicInOut((c-this._startTime)/(this._endTime-this._startTime));return this._start*(1-h)+this._end*h}isEasing(c){return c>=this._startTime&&c<=this._endTime}jumpTo(c){this._startTime=-1/0,this._endTime=-1/0,this._start=c,this._end=c}easeTo(c,h,y){this._start=this.getValue(h),this._end=c,this._startTime=h,this._endTime=h+y}}const w0={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use  + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},S0={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,respectPrefersReducedMotion:!0,crossSourceCollisions:!0},Wv={showCompass:!0,showZoom:!0,visualizePitch:!1};class Hv{constructor(c,h,y=!1){this._clickTolerance=10,this.element=h,this.mouseRotate=new d1({clickTolerance:c.dragRotate._mouseRotate._clickTolerance}),this.map=c,y&&(this.mousePitch=new h1({clickTolerance:c.dragRotate._mousePitch._clickTolerance})),i.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),h.addEventListener("mousedown",this.mousedown),h.addEventListener("touchstart",this.touchstart,{passive:!1}),h.addEventListener("touchmove",this.touchmove),h.addEventListener("touchend",this.touchend),h.addEventListener("touchcancel",this.reset)}down(c,h){this.mouseRotate.mousedown(c,h),this.mousePitch&&this.mousePitch.mousedown(c,h),$()}move(c,h){const y=this.map,x=this.mouseRotate.mousemoveWindow(c,h),S=x&&x.bearingDelta;if(S&&y.setBearing(y.getBearing()+S),this.mousePitch){const I=this.mousePitch.mousemoveWindow(c,h),D=I&&I.pitchDelta;D&&y.setPitch(y.getPitch()+D)}}off(){const c=this.element;c.removeEventListener("mousedown",this.mousedown),c.removeEventListener("touchstart",this.touchstart,{passive:!1}),c.removeEventListener("touchmove",this.touchmove),c.removeEventListener("touchend",this.touchend),c.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){H(),i.window.removeEventListener("mousemove",this.mousemove),i.window.removeEventListener("mouseup",this.mouseup)}mousedown(c){this.down(i.extend({},c,{ctrlKey:!0,preventDefault:()=>c.preventDefault()}),te(this.element,c)),i.window.addEventListener("mousemove",this.mousemove),i.window.addEventListener("mouseup",this.mouseup)}mousemove(c){this.move(c,te(this.element,c))}mouseup(c){this.mouseRotate.mouseupWindow(c),this.mousePitch&&this.mousePitch.mouseupWindow(c),this.offTemp()}touchstart(c){c.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=le(this.element,c.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>c.preventDefault()},this._startPos))}touchmove(c){c.targetTouches.length!==1?this.reset():(this._lastPos=le(this.element,c.targetTouches)[0],this.move({preventDefault:()=>c.preventDefault()},this._lastPos))}touchend(c){c.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const x1={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},b1={maxWidth:100,unit:"metric"},w1={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"},Fu={version:i.version,supported:b,setRTLTextPlugin:i.setRTLTextPlugin,getRTLTextPluginStatus:i.getRTLTextPluginStatus,Map:class extends dp{constructor(m){if(i.LivePerformanceUtils.mark(i.PerformanceMarkers.create),(m=i.extend({},S0,m)).minZoom!=null&&m.maxZoom!=null&&m.minZoom>m.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(m.minPitch!=null&&m.maxPitch!=null&&m.minPitch>m.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(m.minPitch!=null&&m.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(m.maxPitch!=null&&m.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(m.antialias&&i.isSafariWithAntialiasingBug(i.window)&&(m.antialias=!1,i.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new Du(m.minZoom,m.maxZoom,m.minPitch,m.maxPitch,m.renderWorldCopies),m),this._interactive=m.interactive,this._minTileCacheSize=m.minTileCacheSize,this._maxTileCacheSize=m.maxTileCacheSize,this._failIfMajorPerformanceCaveat=m.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=m.preserveDrawingBuffer,this._antialias=m.antialias,this._useWebGL2=m.useWebGL2,this._trackResize=m.trackResize,this._bearingSnap=m.bearingSnap,this._refreshExpiredTiles=m.refreshExpiredTiles,this._fadeDuration=m.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=m.crossSourceCollisions,this._collectResourceTiming=m.collectResourceTiming,this._optimizeForTerrain=m.optimizeForTerrain,this._language=this._parseLanguage(m.language),this._worldview=m.worldview,this._renderTaskQueue=new y1,this._domRenderTaskQueue=new y1,this._controls=[],this._markers=[],this._popups=[],this._mapId=i.uniqueId(),this._locale=i.extend({},w0,m.locale),this._clickTolerance=m.clickTolerance,this._cooperativeGestures=m.cooperativeGestures,this._performanceMetricsCollection=m.performanceMetricsCollection,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new v1(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._requestManager=new i.RequestManager(m.transformRequest,m.accessToken,m.testMode),this._silenceAuthErrors=!!m.testMode,typeof m.container=="string"){if(this._container=i.window.document.getElementById(m.container),!this._container)throw new Error(`Container '${m.container}' not found.`)}else{if(!(m.container instanceof i.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=m.container}if(this._container.childNodes.length>0&&i.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),m.maxBounds&&this.setMaxBounds(m.maxBounds),i.bindAll(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),i.window!==void 0&&(i.window.addEventListener("online",this._onWindowOnline,!1),i.window.addEventListener("resize",this._onWindowResize,!1),i.window.addEventListener("orientationchange",this._onWindowResize,!1),i.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1),i.window.addEventListener("visibilitychange",this._onVisibilityChange,!1)),this.handlers=new Oa(this,m),this._localFontFamily=m.localFontFamily,this._localIdeographFontFamily=m.localIdeographFontFamily,m.style&&this.setStyle(m.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),m.projection&&this.setProjection(m.projection),this._hash=m.hash&&new a1(typeof m.hash=="string"&&m.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:m.center,zoom:m.zoom,bearing:m.bearing,pitch:m.pitch}),m.bounds&&(this.resize(),this.fitBounds(m.bounds,i.extend({},m.fitBoundsOptions,{duration:0})))),this.resize(),m.attributionControl&&this.addControl(new Sn({customAttribution:m.customAttribution})),this._logoControl=new g1,this.addControl(this._logoControl,m.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",c=>{this._update(c.dataType==="style"),this.fire(new i.Event(`${c.dataType}data`,c))}),this.on("dataloading",c=>{this.fire(new i.Event(`${c.dataType}dataloading`,c))})}_getMapId(){return this._mapId}addControl(m,c){if(c===void 0&&(c=m.getDefaultPosition?m.getDefaultPosition():"top-right"),!m||!m.onAdd)return this.fire(new i.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const h=m.onAdd(this);this._controls.push(m);const y=this._controlPositions[c];return c.indexOf("bottom")!==-1?y.insertBefore(h,y.firstChild):y.appendChild(h),this}removeControl(m){if(!m||!m.onRemove)return this.fire(new i.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const c=this._controls.indexOf(m);return c>-1&&this._controls.splice(c,1),m.onRemove(this),this}hasControl(m){return this._controls.indexOf(m)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(m){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const c=!this._moving;return c&&this.fire(new i.Event("movestart",m)).fire(new i.Event("move",m)),this.fire(new i.Event("resize",m)),c&&this.fire(new i.Event("moveend",m)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(m){return this.transform.setMaxBounds(i.LngLatBounds.convert(m)),this._update()}setMinZoom(m){if((m=m??-2)>=-2&&m<=this.transform.maxZoom)return this.transform.minZoom=m,this._update(),this.getZoom()<m?this.setZoom(m):this.fire(new i.Event("zoomstart")).fire(new i.Event("zoom")).fire(new i.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(m){if((m=m??22)>=this.transform.minZoom)return this.transform.maxZoom=m,this._update(),this.getZoom()>m?this.setZoom(m):this.fire(new i.Event("zoomstart")).fire(new i.Event("zoom")).fire(new i.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(m){if((m=m??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(m>=0&&m<=this.transform.maxPitch)return this.transform.minPitch=m,this._update(),this.getPitch()<m?this.setPitch(m):this.fire(new i.Event("pitchstart")).fire(new i.Event("pitch")).fire(new i.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(m){if((m=m??85)>85)throw new Error("maxPitch must be less than or equal to 85");if(m>=this.transform.minPitch)return this.transform.maxPitch=m,this._update(),this.getPitch()>m?this.setPitch(m):this.fire(new i.Event("pitchstart")).fire(new i.Event("pitch")).fire(new i.Event("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(m){return this.transform.renderWorldCopies=m,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(m){return m==="auto"?i.window.navigator.language:Array.isArray(m)?m.length===0?void 0:m.map(c=>c==="auto"?i.window.navigator.language:c):m}setLanguage(m){const c=this._parseLanguage(m);if(!this.style||c===this._language)return this;this._language=c,this.style._reloadSources();for(const h of this._controls)h._setLanguage&&h._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(m){return this.style&&m!==this._worldview?(this._worldview=m,this.style._reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return this.transform.projection.name==="globe"}setProjection(m){return this._lazyInitEmptyStyle(),m?typeof m=="string"&&(m={name:m}):m=null,this._useExplicitProjection=!!m,this._prioritizeAndUpdateProjection(m,this.style.stylesheet?this.style.stylesheet.projection:null)}_updateProjectionTransition(){if(this.getProjection().name!=="globe")return;const m=this.transform,c=m.projection.name;let h;c==="globe"&&m.zoom>=i.GLOBE_ZOOM_THRESHOLD_MAX?(m.setMercatorFromTransition(),h=!0):c==="mercator"&&m.zoom<i.GLOBE_ZOOM_THRESHOLD_MAX&&(m.setProjection({name:"globe"}),h=!0),h&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(m,c){return this._updateProjection(m||c||{name:"mercator"})}_updateProjection(m){let c;if(c=m.name==="globe"&&this.transform.zoom>=i.GLOBE_ZOOM_THRESHOLD_MAX?this.transform.setMercatorFromTransition():this.transform.setProjection(m),this.style.applyProjectionUpdate(),c){this.painter.clearBackgroundTiles();for(const h in this.style._sourceCaches)this.style._sourceCaches[h].clearTiles();this._update(!0),this._forceMarkerAndPopupUpdate(!0)}return this}project(m){return this.transform.locationPoint3D(i.LngLat.convert(m))}unproject(m){return this.transform.pointLocation3D(i.Point.convert(m))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(m,c,h){if(m==="mouseenter"||m==="mouseover"){let y=!1;const x=I=>{const D=c.filter(Z=>this.getLayer(Z)),O=D.length?this.queryRenderedFeatures(I.point,{layers:D}):[];O.length?y||(y=!0,h.call(this,new fo(m,this,I.originalEvent,{features:O}))):y=!1},S=()=>{y=!1};return{layers:new Set(c),listener:h,delegates:{mousemove:x,mouseout:S}}}if(m==="mouseleave"||m==="mouseout"){let y=!1;const x=I=>{const D=c.filter(O=>this.getLayer(O));(D.length?this.queryRenderedFeatures(I.point,{layers:D}):[]).length?y=!0:y&&(y=!1,h.call(this,new fo(m,this,I.originalEvent)))},S=I=>{y&&(y=!1,h.call(this,new fo(m,this,I.originalEvent)))};return{layers:new Set(c),listener:h,delegates:{mousemove:x,mouseout:S}}}{const y=x=>{const S=c.filter(D=>this.getLayer(D)),I=S.length?this.queryRenderedFeatures(x.point,{layers:S}):[];I.length&&(x.features=I,h.call(this,x),delete x.features)};return{layers:new Set(c),listener:h,delegates:{[m]:y}}}}on(m,c,h){if(h===void 0)return super.on(m,c);Array.isArray(c)||(c=[c]);const y=this._createDelegatedListener(m,c,h);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[m]=this._delegatedListeners[m]||[],this._delegatedListeners[m].push(y);for(const x in y.delegates)this.on(x,y.delegates[x]);return this}once(m,c,h){if(h===void 0)return super.once(m,c);Array.isArray(c)||(c=[c]);const y=this._createDelegatedListener(m,c,h);for(const x in y.delegates)this.once(x,y.delegates[x]);return this}off(m,c,h){if(h===void 0)return super.off(m,c);c=new Set(Array.isArray(c)?c:[c]);const y=(S,I)=>{if(S.size!==I.size)return!1;for(const D of S)if(!I.has(D))return!1;return!0},x=this._delegatedListeners?this._delegatedListeners[m]:void 0;return x&&(S=>{for(let I=0;I<S.length;I++){const D=S[I];if(D.listener===h&&y(D.layers,c)){for(const O in D.delegates)this.off(O,D.delegates[O]);return S.splice(I,1),this}}})(x),this}queryRenderedFeatures(m,c){return this.style?(c!==void 0||m===void 0||m instanceof i.Point||Array.isArray(m)||(c=m,m=void 0),this.style.queryRenderedFeatures(m=m||[[0,0],[this.transform.width,this.transform.height]],c=c||{},this.transform)):[]}querySourceFeatures(m,c){return this.style.querySourceFeatures(m,c)}isPointOnSurface(m){const{name:c}=this.transform.projection;return c!=="globe"&&c!=="mercator"&&i.warnOnce(`${c} projection does not support isPointOnSurface, this API may behave unexpectedly.`),this.transform.isPointOnSurface(i.Point.convert(m))}setStyle(m,c){return(c=i.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},c)).diff!==!1&&c.localIdeographFontFamily===this._localIdeographFontFamily&&c.localFontFamily===this._localFontFamily&&this.style&&m?(this._diffStyle(m,c),this):(this._localIdeographFontFamily=c.localIdeographFontFamily,this._localFontFamily=c.localFontFamily,this._updateStyle(m,c))}_getUIString(m){const c=this._locale[m];if(c==null)throw new Error(`Missing UI string '${m}'`);return c}_updateStyle(m,c){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),m&&(this.style=new Oo(this,c||{}),this.style.setEventedParent(this,{style:this.style}),typeof m=="string"?this.style.loadURL(m):this.style.loadJSON(m)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new Oo(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(m,c){if(typeof m=="string"){const h=this._requestManager.normalizeStyleURL(m),y=this._requestManager.transformRequest(h,i.ResourceType.Style);i.getJSON(y,(x,S)=>{x?this.fire(new i.ErrorEvent(x)):S&&this._updateDiff(S,c)})}else typeof m=="object"&&this._updateDiff(m,c)}_updateDiff(m,c){try{this.style.setState(m)&&this._update(!0)}catch(h){i.warnOnce(`Unable to perform style diff: ${h.message||h.error||h}.  Rebuilding the style from scratch.`),this._updateStyle(m,c)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(i.warnOnce("There is no style added to the map."),!1)}addSource(m,c){return this._lazyInitEmptyStyle(),this.style.addSource(m,c),this._update(!0)}isSourceLoaded(m){return!!this.style&&this.style._isSourceCacheLoaded(m)}areTilesLoaded(){const m=this.style&&this.style._sourceCaches;for(const c in m){const h=m[c]._tiles;for(const y in h){const x=h[y];if(x.state!=="loaded"&&x.state!=="errored")return!1}}return!0}addSourceType(m,c,h){this._lazyInitEmptyStyle(),this.style.addSourceType(m,c,h)}removeSource(m){return this.style.removeSource(m),this._updateTerrain(),this._update(!0)}getSource(m){return this.style.getSource(m)}addImage(m,c,{pixelRatio:h=1,sdf:y=!1,stretchX:x,stretchY:S,content:I}={}){if(this._lazyInitEmptyStyle(),c instanceof i.window.HTMLImageElement||i.window.ImageBitmap&&c instanceof i.window.ImageBitmap){const{width:D,height:O,data:Z}=i.exported.getImageData(c);this.style.addImage(m,{data:new i.RGBAImage({width:D,height:O},Z),pixelRatio:h,stretchX:x,stretchY:S,content:I,sdf:y,version:0})}else if(c.width===void 0||c.height===void 0)this.fire(new i.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:D,height:O}=c,Z=c;this.style.addImage(m,{data:new i.RGBAImage({width:D,height:O},new Uint8Array(Z.data)),pixelRatio:h,stretchX:x,stretchY:S,content:I,sdf:y,version:0,userImage:Z}),Z.onAdd&&Z.onAdd(this,m)}}updateImage(m,c){const h=this.style.getImage(m);if(!h)return void this.fire(new i.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const y=c instanceof i.window.HTMLImageElement||i.window.ImageBitmap&&c instanceof i.window.ImageBitmap?i.exported.getImageData(c):c,{width:x,height:S}=y;x!==void 0&&S!==void 0?x===h.data.width&&S===h.data.height?(h.data.replace(y.data,!(c instanceof i.window.HTMLImageElement||i.window.ImageBitmap&&c instanceof i.window.ImageBitmap)),this.style.updateImage(m,h)):this.fire(new i.ErrorEvent(new Error(`The width and height of the updated image (${x}, ${S})
                must be that same as the previous version of the image
                (${h.data.width}, ${h.data.height})`))):this.fire(new i.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}hasImage(m){return m?!!this.style.getImage(m):(this.fire(new i.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(m){this.style.removeImage(m)}loadImage(m,c){i.getImage(this._requestManager.transformRequest(m,i.ResourceType.Image),(h,y)=>{c(h,y instanceof i.window.HTMLImageElement?i.exported.getImageData(y):y)})}listImages(){return this.style.listImages()}addLayer(m,c){return this._lazyInitEmptyStyle(),this.style.addLayer(m,c),this._update(!0)}moveLayer(m,c){return this.style.moveLayer(m,c),this._update(!0)}removeLayer(m){return this.style.removeLayer(m),this._update(!0)}getLayer(m){return this.style.getLayer(m)}setLayerZoomRange(m,c,h){return this.style.setLayerZoomRange(m,c,h),this._update(!0)}setFilter(m,c,h={}){return this.style.setFilter(m,c,h),this._update(!0)}getFilter(m){return this.style.getFilter(m)}setPaintProperty(m,c,h,y={}){return this.style.setPaintProperty(m,c,h,y),this._update(!0)}getPaintProperty(m,c){return this.style.getPaintProperty(m,c)}setLayoutProperty(m,c,h,y={}){return this.style.setLayoutProperty(m,c,h,y),this._update(!0)}getLayoutProperty(m,c){return this.style.getLayoutProperty(m,c)}setLight(m,c={}){return this._lazyInitEmptyStyle(),this.style.setLight(m,c),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(m){return this._lazyInitEmptyStyle(),!m&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(m),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(m){return this._lazyInitEmptyStyle(),this.style.setFog(m),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(m){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(i.LngLat.convert(m),this.transform):0}setFeatureState(m,c){return this.style.setFeatureState(m,c),this._update()}removeFeatureState(m,c){return this.style.removeFeatureState(m,c),this._update()}getFeatureState(m){return this.style.getFeatureState(m)}_updateContainerDimensions(){if(!this._container)return;const m=this._container.getBoundingClientRect().width||400,c=this._container.getBoundingClientRect().height||300;let h,y,x,S=this._container;for(;S&&(!y||!x);){const I=i.window.getComputedStyle(S).transform;I&&I!=="none"&&(h=I.match(/matrix.*\((.+)\)/)[1].split(", "),h[0]&&h[0]!=="0"&&h[0]!=="1"&&(y=h[0]),h[3]&&h[3]!=="0"&&h[3]!=="1"&&(x=h[3])),S=S.parentElement}this._containerWidth=y?Math.abs(m/y):m,this._containerHeight=x?Math.abs(c/x):c}_detectMissingCSS(){i.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&i.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const m=this._container;m.classList.add("mapboxgl-map"),(this._missingCSSCanary=R("div","mapboxgl-canary",m)).style.visibility="hidden",this._detectMissingCSS();const c=this._canvasContainer=R("div","mapboxgl-canvas-container",m);this._interactive&&c.classList.add("mapboxgl-interactive"),this._canvas=R("canvas","mapboxgl-canvas",c),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const h=this._controlContainer=R("div","mapboxgl-control-container",m),y=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(x=>{y[x]=R("div",`mapboxgl-ctrl-${x}`,h)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(m,c){const h=i.exported.devicePixelRatio||1;this._canvas.width=h*Math.ceil(m),this._canvas.height=h*Math.ceil(c),this._canvas.style.width=`${m}px`,this._canvas.style.height=`${c}px`}_addMarker(m){this._markers.push(m)}_removeMarker(m){const c=this._markers.indexOf(m);c!==-1&&this._markers.splice(c,1)}_addPopup(m){this._popups.push(m)}_removePopup(m){const c=this._popups.indexOf(m);c!==-1&&this._popups.splice(c,1)}_setupPainter(){const m=i.extend({},b.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),c=this._useWebGL2&&this._canvas.getContext("webgl2",m),h=c||this._canvas.getContext("webgl",m)||this._canvas.getContext("experimental-webgl",m);h?(this._useWebGL2&&!c&&i.warnOnce("Failed to create WebGL 2 context. Using WebGL 1."),i.storeAuthState(h,!0),this.painter=new Iu(h,this.transform,!!c),this.on("data",y=>{y.dataType==="source"&&this.painter.setTileLoadedFlag(!0)}),i.exported$1.testSupport(h)):this.fire(new i.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(m){m.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new i.Event("webglcontextlost",{originalEvent:m}))}_contextRestored(m){this._setupPainter(),this.resize(),this._update(),this.fire(new i.Event("webglcontextrestored",{originalEvent:m}))}_onMapScroll(m){if(m.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(m){return this.style?(this._styleDirty=this._styleDirty||m,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(m){return this._update(),this._renderTaskQueue.add(m)}_cancelRenderFrame(m){this._renderTaskQueue.remove(m)}_requestDomTask(m){!this.loaded()||this.loaded()&&!this.isMoving()?m():this._domRenderTaskQueue.add(m)}_render(m){let c;const h=this.painter.context.extTimerQuery,y=i.exported.now();if(this.listens("gpu-timing-frame")&&(c=h.createQueryEXT(),h.beginQueryEXT(h.TIME_ELAPSED_EXT,c)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],i.window.performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],i.window.performance.now())),this._renderTaskQueue.run(m),this._domRenderTaskQueue.run(m),this._removed)return;this._updateProjectionTransition();const x=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const D=this.transform.zoom,O=this.transform.pitch,Z=i.exported.now(),q=new i.EvaluationParameters(D,{now:Z,fadeDuration:x,pitch:O,transition:this.style.getTransition()});this.style.update(q)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let S=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),S=this._updateAverageElevation(y),this.style._updateSources(this.transform),this._forceMarkerAndPopupUpdate()):S=this._updateAverageElevation(y),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,x,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:x,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new i.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new i.Event("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),c){const D=i.exported.now()-y;h.endQueryEXT(h.TIME_ELAPSED_EXT,c),setTimeout(()=>{const O=h.getQueryObjectEXT(c,h.QUERY_RESULT_EXT)/1e6;h.deleteQueryEXT(c),this.fire(new i.Event("gpu-timing-frame",{cpuTime:D,gpuTime:O})),i.window.performance.mark("frame-gpu",{startTime:y,detail:{gpuTime:O}})},50)}if(this.listens("gpu-timing-layer")){const D=this.painter.collectGpuTimers();setTimeout(()=>{const O=this.painter.queryGpuTimers(D);this.fire(new i.Event("gpu-timing-layer",{layerTimes:O}))},50)}if(this.listens("gpu-timing-deferred-render")){const D=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{const O=this.painter.queryGpuTimeDeferredRender(D);this.fire(new i.Event("gpu-timing-deferred-render",{gpuTime:O}))},50)}const I=this._sourcesDirty||this._styleDirty||this._placementDirty||S;if(I||this._repaint)this.triggerRepaint();else{const D=!this.isMoving()&&this.loaded();if(D&&(S=this._updateAverageElevation(y,!0)),S)this.triggerRepaint();else if(this._triggerFrame(!1),D&&(this.fire(new i.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const O=this._calculateSpeedIndex();this.fire(new i.Event("speedindexcompleted",{speedIndex:O})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||I||(this._fullyLoaded=!0,i.LivePerformanceUtils.mark(i.PerformanceMarkers.fullLoad),this._performanceMetricsCollection&&i.postPerformanceEvent(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(m){for(const c of this._markers)m&&!this.getRenderWorldCopies()&&(c._lngLat=c._lngLat.wrap()),c._update();for(const c of this._popups)!m||this.getRenderWorldCopies()||c._trackPointer||(c._lngLat=c._lngLat.wrap()),c._update()}_updateAverageElevation(m,c=!1){const h=y=>(this.transform.averageElevation=y,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return this.transform.averageElevation!==0&&h(0);if((c||m-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(m)){const y=this.transform.averageElevation;let x=this.transform.sampleAverageElevation(),S=!1;this.transform.elevation&&(S=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(x)?x=0:this._averageElevationLastSampledAt=m;const I=Math.abs(y-x);if(I>1){if(this._isInitialLoad||S)return this._averageElevation.jumpTo(x),h(x);this._averageElevation.easeTo(x,m,300)}else if(I>1e-4)return this._averageElevation.jumpTo(x),h(x)}return!!this._averageElevation.isEasing(m)&&h(this._averageElevation.getValue(m))}_authenticate(){i.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,m=>{if(m&&(m.message===i.AUTH_ERR_MSG||m.status===401)){const c=this.painter.context.gl;i.storeAuthState(c,!1),this._logoControl instanceof g1&&this._logoControl._updateLogo(),c&&c.clear(c.DEPTH_BUFFER_BIT|c.COLOR_BUFFER_BIT|c.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new i.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),i.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){const m=this._isDragging();this.painter.updateTerrain(this.style,m)}_calculateSpeedIndex(){const m=this.painter.canvasCopy(),c=this.painter.getCanvasCopiesAndTimestamps();c.timeStamps.push(performance.now());const h=this.painter.context.gl,y=h.createFramebuffer();function x(S){h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,S,0);const I=new Uint8Array(h.drawingBufferWidth*h.drawingBufferHeight*4);return h.readPixels(0,0,h.drawingBufferWidth,h.drawingBufferHeight,h.RGBA,h.UNSIGNED_BYTE,I),I}return h.bindFramebuffer(h.FRAMEBUFFER,y),this._canvasPixelComparison(x(m),c.canvasCopies.map(x),c.timeStamps)}_canvasPixelComparison(m,c,h){let y=h[1]-h[0];const x=m.length/4;for(let S=0;S<c.length;S++){const I=c[S];let D=0;for(let O=0;O<I.length;O+=4)I[O]===m[O]&&I[O+1]===m[O+1]&&I[O+2]===m[O+2]&&I[O+3]===m[O+3]&&(D+=1);y+=(h[S+2]-h[S+1])*(1-D/x)}return y}remove(){this._hash&&this._hash.remove();for(const c of this._controls)c.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),i.window!==void 0&&(i.window.removeEventListener("resize",this._onWindowResize,!1),i.window.removeEventListener("orientationchange",this._onWindowResize,!1),i.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),i.window.removeEventListener("online",this._onWindowOnline,!1),i.window.removeEventListener("visibilitychange",this._onVisibilityChange,!1));const m=this.painter.context.gl.getExtension("WEBGL_lose_context");m&&m.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),i.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new i.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(m){this._renderNextFrame=this._renderNextFrame||m,this.style&&!this._frame&&(this._frame=i.exported.frame(c=>{const h=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,h&&this._render(c)}))}_preloadTiles(m){const c=this.style?Object.values(this.style._sourceCaches):[];return i.asyncAll(c,(h,y)=>h._preloadTiles(m,y),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(m){this._trackResize&&this.resize({originalEvent:m})._update()}_onVisibilityChange(){i.window.document.visibilityState==="hidden"&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(m){this._showTileBoundaries!==m&&(this._showTileBoundaries=m,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(m){this._showTerrainWireframe!==m&&(this._showTerrainWireframe=m,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(m){this._speedIndexTiming!==m&&(this._speedIndexTiming=m,this._update())}get showPadding(){return!!this._showPadding}set showPadding(m){this._showPadding!==m&&(this._showPadding=m,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(m){this._showCollisionBoxes!==m&&(this._showCollisionBoxes=m,m?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(m){this._showOverdrawInspector!==m&&(this._showOverdrawInspector=m,this._update())}get repaint(){return!!this._repaint}set repaint(m){this._repaint!==m&&(this._repaint=m,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(m){this._vertices=m,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(m){this._showTileAABBs!==m&&(this._showTileAABBs=m,m&&this._update())}_setCacheLimits(m,c){i.setCacheLimits(m,c)}get version(){return i.version}},NavigationControl:class{constructor(m){this.options=i.extend({},Wv,m),this._container=R("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",c=>c.preventDefault()),this.options.showZoom&&(i.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",c=>{this._map&&this._map.zoomIn({},{originalEvent:c})}),R("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",c=>{this._map&&this._map.zoomOut({},{originalEvent:c})}),R("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(i.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",c=>{const h=this._map;h&&(this.options.visualizePitch?h.resetNorthPitch({},{originalEvent:c}):h.resetNorth({},{originalEvent:c}))}),this._compassIcon=R("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const m=this._map;if(!m)return;const c=m.getZoom(),h=c===m.getMaxZoom(),y=c===m.getMinZoom();this._zoomInButton.disabled=h,this._zoomOutButton.disabled=y,this._zoomInButton.setAttribute("aria-disabled",h.toString()),this._zoomOutButton.setAttribute("aria-disabled",y.toString())}_rotateCompassArrow(){const m=this._map;if(!m)return;const c=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(m.transform.pitch*(Math.PI/180)),.5)}) rotateX(${m.transform.pitch}deg) rotateZ(${m.transform.angle*(180/Math.PI)}deg)`:`rotate(${m.transform.angle*(180/Math.PI)}deg)`;m._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=c)})}onAdd(m){return this._map=m,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),m.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&m.on("pitch",this._rotateCompassArrow),m.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Hv(m,this._compass,this.options.visualizePitch)),this._container}onRemove(){const m=this._map;m&&(this._container.remove(),this.options.showZoom&&m.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&m.off("pitch",this._rotateCompassArrow),m.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(m,c){const h=R("button",m,this._container);return h.type="button",h.addEventListener("click",c),h}_setButtonTitle(m,c){if(!this._map)return;const h=this._map._getUIString(`NavigationControl.${c}`);m.setAttribute("aria-label",h),m.firstElementChild&&m.firstElementChild.setAttribute("title",h)}},GeolocateControl:class extends i.Evented{constructor(m){super(),this.options=i.extend({geolocation:i.window.navigator.geolocation},x1,m),i.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=Ru(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(m){return this._map=m,this._container=R("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(m){const c=(h=!!this.options.geolocation)=>{this._supportsGeolocation=h,m(h)};this._supportsGeolocation!==void 0?m(this._supportsGeolocation):i.window.navigator.permissions!==void 0?i.window.navigator.permissions.query({name:"geolocation"}).then(h=>c(h.state!=="denied")).catch(()=>c()):c()}_isOutOfMapMaxBounds(m){const c=this._map.getMaxBounds(),h=m.coords;return!!c&&(h.longitude<c.getWest()||h.longitude>c.getEast()||h.latitude<c.getSouth()||h.latitude>c.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(m){if(this._map){if(this._isOutOfMapMaxBounds(m))return this._setErrorState(),this.fire(new i.Event("outofmaxbounds",m)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=m,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(m),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(m),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new i.Event("geolocate",m)),this._finish()}}_updateCamera(m){const c=new i.LngLat(m.coords.longitude,m.coords.latitude),h=m.coords.accuracy,y=this._map.getBearing(),x=i.extend({bearing:y},this.options.fitBoundsOptions);this._map.fitBounds(c.toBounds(h),x,{geolocateSource:!0})}_updateMarker(m){if(m){const c=new i.LngLat(m.coords.longitude,m.coords.latitude);this._accuracyCircleMarker.setLngLat(c).addTo(this._map),this._userLocationDotMarker.setLngLat(c).addTo(this._map),this._accuracy=m.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const m=this._map.transform,c=i.mercatorZfromAltitude(1,m._center.lat)*m.worldSize,h=Math.ceil(2*this._accuracy*c);this._circleElement.style.width=`${h}px`,this._circleElement.style.height=`${h}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&typeof this._heading=="number"?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(m){if(this._map){if(this.options.trackUserLocation)if(m.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const c=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",c),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",c),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(m.code===3&&this._noTimeout)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new i.Event("error",m)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(m){if(this._map!==void 0){if(this._container.addEventListener("contextmenu",c=>c.preventDefault()),this._geolocateButton=R("button","mapboxgl-ctrl-geolocate",this._container),R("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",m===!1){i.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const c=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",c),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",c)}else{const c=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",c),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",c)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=R("div","mapboxgl-user-location"),this._dotElement.appendChild(R("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(R("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new vn({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=R("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new vn({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",c=>{c.geolocateSource||this._watchState!=="ACTIVE_LOCK"||c.originalEvent&&c.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new i.Event("trackuserlocationend")))})}}_onDeviceOrientation(m){this._userLocationDotMarker&&(m.webkitCompassHeading?this._heading=m.webkitCompassHeading:m.absolute===!0&&(this._heading=-1*m.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return i.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new i.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new i.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new i.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let m;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(m={maximumAge:6e5,timeout:0},this._noTimeout=!0):(m=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,m),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const m=()=>{i.window.addEventListener("ondeviceorientationabsolute"in i.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientation)};i.window.DeviceMotionEvent!==void 0&&typeof i.window.DeviceMotionEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(c=>{c==="granted"&&m()}).catch(console.error):m()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),i.window.removeEventListener("deviceorientation",this._onDeviceOrientation),i.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:Sn,ScaleControl:class{constructor(m){this.options=i.extend({},b1,m),this._isNumberFormatSupported=function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"short",unit:"meter"}),!0}catch{return!1}}(),i.bindAll(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const m=this.options.maxWidth||100,c=this._map,h=c._containerHeight/2,y=c._containerWidth/2-m/2,x=c.unproject([y,h]),S=c.unproject([y+m,h]),I=x.distanceTo(S);if(this.options.unit==="imperial"){const D=3.2808*I;D>5280?this._setScale(m,D/5280,"mile"):this._setScale(m,D,"foot")}else this.options.unit==="nautical"?this._setScale(m,I/1852,"nautical-mile"):I>=1e3?this._setScale(m,I/1e3,"kilometer"):this._setScale(m,I,"meter")}_setScale(m,c,h){this._map._requestDomTask(()=>{const y=function(S){const I=Math.pow(10,`${Math.floor(S)}`.length-1);let D=S/I;return D=D>=10?10:D>=5?5:D>=3?3:D>=2?2:D>=1?1:function(O){const Z=Math.pow(10,Math.ceil(-Math.log(O)/Math.LN10));return Math.round(O*Z)/Z}(D),I*D}(c),x=y/c;this._container.innerHTML=this._isNumberFormatSupported&&h!=="nautical-mile"?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"short",unit:h}).format(y):`${y}&nbsp;${w1[h]}`,this._container.style.width=m*x+"px"})}onAdd(m){return this._map=m,this._language=m.getLanguage(),this._container=R("div","mapboxgl-ctrl mapboxgl-ctrl-scale",m.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(m){this._language=m,this._update()}setUnit(m){this.options.unit=m,this._update()}},FullscreenControl:class{constructor(m){this._fullscreen=!1,m&&m.container&&(m.container instanceof i.window.HTMLElement?this._container=m.container:i.warnOnce("Full screen control 'container' must be a DOM element.")),i.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in i.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in i.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(m){return this._map=m,this._container||(this._container=this._map.getContainer()),this._controlContainer=R("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",i.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,i.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!i.window.document.fullscreenEnabled&&!i.window.document.webkitFullscreenEnabled)}_setupUI(){const m=this._fullscreenButton=R("button","mapboxgl-ctrl-fullscreen",this._controlContainer);R("span","mapboxgl-ctrl-icon",m).setAttribute("aria-hidden","true"),m.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),i.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const m=this._getTitle();this._fullscreenButton.setAttribute("aria-label",m),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",m)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(i.window.document.fullscreenElement||i.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?i.window.document.exitFullscreen?i.window.document.exitFullscreen():i.window.document.webkitCancelFullScreen&&i.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends i.Evented{constructor(m){super(),this.options=i.extend(Object.create(_1),m),i.bindAll(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(m&&m.className?m.className.trim().split(/\s+/):[])}addTo(m){return this._map&&this.remove(),this._map=m,this.options.closeOnClick&&m.on("preclick",this._onClose),this.options.closeOnMove&&m.on("move",this._onClose),m.on("remove",this.remove),this._update(),m._addPopup(this),this._focusFirstElement(),this._trackPointer?(m.on("mousemove",this._onMouseEvent),m.on("mouseup",this._onMouseEvent),m._canvasContainer.classList.add("mapboxgl-track-pointer")):m.on("move",this._update),this.fire(new i.Event("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const m=this._map;return m&&(m.off("move",this._update),m.off("move",this._onClose),m.off("preclick",this._onClose),m.off("click",this._onClose),m.off("remove",this.remove),m.off("mousemove",this._onMouseEvent),m.off("mouseup",this._onMouseEvent),m.off("drag",this._onMouseEvent),m._canvasContainer&&m._canvasContainer.classList.remove("mapboxgl-track-pointer"),m._removePopup(this),this._map=void 0),this.fire(new i.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(m){this._lngLat=i.LngLat.convert(m),this._pos=null,this._trackPointer=!1,this._update();const c=this._map;return c&&(c.on("move",this._update),c.off("mousemove",this._onMouseEvent),c._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const m=this._map;return m&&(m.off("move",this._update),m.on("mousemove",this._onMouseEvent),m.on("drag",this._onMouseEvent),m._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(m){return this.setDOMContent(i.window.document.createTextNode(m))}setHTML(m){const c=i.window.document.createDocumentFragment(),h=i.window.document.createElement("body");let y;for(h.innerHTML=m;y=h.firstChild,y;)c.appendChild(y);return this.setDOMContent(c)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(m){return this.options.maxWidth=m,this._update(),this}setDOMContent(m){let c=this._content;if(c)for(;c.hasChildNodes();)c.firstChild&&c.removeChild(c.firstChild);else c=this._content=R("div","mapboxgl-popup-content",this._container||void 0);if(c.appendChild(m),this.options.closeButton){const h=this._closeButton=R("button","mapboxgl-popup-close-button",c);h.type="button",h.setAttribute("aria-label","Close popup"),h.setAttribute("aria-hidden","true"),h.innerHTML="&#215;",h.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(m){return this._classList.add(m),this._updateClassList(),this}removeClassName(m){return this._classList.delete(m),this._updateClassList(),this}setOffset(m){return this.options.offset=m,this._update(),this}toggleClassName(m){let c;return this._classList.delete(m)?c=!1:(this._classList.add(m),c=!0),this._updateClassList(),c}_onMouseEvent(m){this._update(m.point)}_getAnchor(m){if(this.options.anchor)return this.options.anchor;const c=this._map,h=this._container,y=this._pos;if(!c||!h||!y)return"bottom";const x=h.offsetWidth,S=h.offsetHeight,I=y.x<x/2,D=y.x>c.transform.width-x/2;if(y.y+m<S)return I?"top-left":D?"top-right":"top";if(y.y>c.transform.height-S){if(I)return"bottom-left";if(D)return"bottom-right"}return I?"left":D?"right":"bottom"}_updateClassList(){const m=this._container;if(!m)return;const c=[...this._classList];c.push("mapboxgl-popup"),this._anchor&&c.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&c.push("mapboxgl-popup-track-pointer"),m.className=c.join(" ")}_update(m){const c=this._map,h=this._content;if(!c||!this._lngLat&&!this._trackPointer||!h)return;let y=this._container;if(y||(y=this._container=R("div","mapboxgl-popup",c.getContainer()),this._tip=R("div","mapboxgl-popup-tip",y),y.appendChild(h)),this.options.maxWidth&&y.style.maxWidth!==this.options.maxWidth&&(y.style.maxWidth=this.options.maxWidth),c.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Ou(this._lngLat,this._pos,c.transform)),!this._trackPointer||m){const x=this._pos=this._trackPointer&&m?m:c.project(this._lngLat),S=b0(this.options.offset),I=this._anchor=this._getAnchor(S.y),D=b0(this.options.offset,I),O=x.add(D).round();c._requestDomTask(()=>{this._container&&I&&(this._container.style.transform=`${Zc[I]} translate(${O.x}px,${O.y}px)`)})}if(!this._marker&&c._showingGlobe()){const x=i.isLngLatBehindGlobe(c.transform,this._lngLat)?0:1;this._setOpacity(x)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const m=this._container.querySelector(Uv);m&&m.focus()}_onClose(){this.remove()}_setOpacity(m){this._container&&(this._container.style.opacity=`${m}`),this._content&&(this._content.style.pointerEvents=m?"auto":"none")}},Marker:vn,Style:Oo,LngLat:i.LngLat,LngLatBounds:i.LngLatBounds,Point:i.Point,MercatorCoordinate:i.MercatorCoordinate,FreeCameraOptions:s0,Evented:i.Evented,config:i.config,prewarm:function(){Mr().acquire(xt)},clearPrewarmedResources:function(){const m=Rn;m&&(m.isPreloaded()&&m.numActive()===1?(m.release(xt),Rn=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return i.config.ACCESS_TOKEN},set accessToken(m){i.config.ACCESS_TOKEN=m},get baseApiUrl(){return i.config.API_URL},set baseApiUrl(m){i.config.API_URL=m},get workerCount(){return _n.workerCount},set workerCount(m){_n.workerCount=m},get maxParallelImageRequests(){return i.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(m){i.config.MAX_PARALLEL_IMAGE_REQUESTS=m},clearStorage(m){i.clearTileCache(m)},workerUrl:"",workerClass:null,setNow:i.exported.setNow,restoreNow:i.exported.restoreNow};return Fu});var f=l;return f})})(JP);var gB=JP.exports;const il=Ac(gB);const yB=(e,t)=>{const[r,o]=U.useState([]);return{route:r,displayRoute:async()=>{if(!(!e||!t))try{const u=t.waypoints.map(R=>`${R[1]},${R[0]}`).join(";"),f=`https://api.mapbox.com/directions/v5/mapbox/walking/${t.longitude},${t.latitude};${u},?geometries=geojson&access_token=${il.accessToken}`,b=(await(await fetch(f)).json()).routes[0].geometry.coordinates,E={type:"Feature",properties:{},geometry:{type:"LineString",coordinates:b}};e.getSource("route")&&(e.removeLayer("route"),e.removeSource("route")),e.addSource("route",{type:"geojson",data:E}),e.addLayer({id:"route",type:"line",source:"route",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#3b9ddd","line-width":4}});const k=new il.LngLatBounds;b.forEach(R=>k.extend(R)),e.fitBounds(k,{padding:400}),o(b)}catch(u){console.error("Error:",u)}}}},_B=(e,t,r)=>{const[o,l]=U.useState({lat:null,lng:null,address:""});return U.useEffect(()=>{e&&e.on("click",u=>{t&&(r(!1),fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${u.lngLat.lng},${u.lngLat.lat}.json?access_token=${il.accessToken}`).then(f=>f.json()).then(f=>{var _;const i=((_=f.features[0])==null?void 0:_.place_name)||"Unknown location";l({lat:u.lngLat.lat,lng:u.lngLat.lng,address:i})}).catch(f=>console.error("Error:",f)),console.log("Selected location:",u.lngLat.lat,u.lngLat.lng))})},[e,t]),{location:o,setLocation:l}},vB=[{id:"P5029111",name:"Battery Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":21,"taxi-zone":12,precinct:1,"b-score":{0:65,1:44,2:26,3:18,4:15,5:9,6:25,7:35,8:49,9:102,10:107,11:134,12:198,13:196,14:194,15:171,16:154,17:129,18:148,19:152,20:144,21:132,22:132,23:98},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7028143,longitude:-74.015775}},{id:"P22727025",name:"Bryant Park",type:"park",address:null,internet_access:null,wheelchair_accessible:"yes",opening_hours:"Mo-Su 07:00-23:00","grid-id":502,"taxi-zone":164,precinct:14,"b-score":{0:23,1:16,2:17,3:9,4:7,5:10,6:5,7:10,8:10,9:11,10:10,11:11,12:11,13:13,14:16,15:16,16:16,17:13,18:17,19:24,20:29,21:31,22:40,23:39},"c-score":1,rating:1.5,location:{latitude:40.7537508,longitude:-73.9835384}},{id:"P22899286",name:"Madison Square Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:"06:00-23:00","grid-id":419,"taxi-zone":234,precinct:13,"b-score":{0:338,1:202,2:109,3:69,4:53,5:158,6:476,7:542,8:652,9:682,10:892,11:897,12:906,13:913,14:919,15:1092,16:1484,17:1589,18:1540,19:1557,20:1441,21:1446,22:1125,23:734},"c-score":.6499952162265595,rating:1.5,location:{latitude:40.7421868,longitude:-73.987872}},{id:"P22899302",name:"Washington Square Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":267,"taxi-zone":114,precinct:6,"b-score":{0:79,1:53,2:25,3:17,4:17,5:41,6:168,7:190,8:322,9:433,10:459,11:476,12:481,13:487,14:493,15:485,16:412,17:431,18:407,19:355,20:320,21:329,22:319,23:200},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.730896,longitude:-73.9975857}},{id:"P22900913",name:"Dr. Gertrude B. Kelly Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":184,"taxi-zone":68,precinct:10,"b-score":{0:317,1:195,2:130,3:66,4:78,5:112,6:207,7:304,8:534,9:501,10:519,11:598,12:693,13:697,14:827,15:843,16:831,17:863,18:860,19:818,20:837,21:828,22:729,23:552},"c-score":.35804152315346344,rating:1.5,location:{latitude:40.7416557,longitude:-74.0020105}},{id:"P22900959",name:"Chelsea Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":217,"taxi-zone":68,precinct:10,"b-score":{0:317,1:195,2:130,3:66,4:78,5:112,6:207,7:304,8:534,9:501,10:519,11:598,12:693,13:697,14:827,15:843,16:831,17:863,18:860,19:818,20:837,21:828,22:729,23:552},"c-score":.35804152315346344,rating:1.5,location:{latitude:40.7499194,longitude:-74.0006702}},{id:"P22901074",name:"Gramercy Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":465,"taxi-zone":107,precinct:13,"b-score":{0:69,1:71,2:26,3:19,4:16,5:20,6:40,7:68,8:66,9:110,10:111,11:117,12:121,13:127,14:146,15:145,16:144,17:180,18:181,19:163,20:150,21:146,22:144,23:103},"c-score":.6499952162265595,rating:1.5,location:{latitude:40.737939,longitude:-73.9859225}},{id:"P22903972",name:"Chelsea Waterside Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":108,"taxi-zone":246,precinct:10,"b-score":{0:121,1:64,2:33,3:23,4:26,5:15,6:24,7:62,8:122,9:203,10:318,11:419,12:492,13:551,14:586,15:589,16:457,17:458,18:289,19:278,20:258,21:255,22:273,23:243},"c-score":.35804152315346344,rating:1.5,location:{latitude:40.7492535,longitude:-74.0074571}},{id:"P22904239",name:"14th Street Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":111,"taxi-zone":246,precinct:10,"b-score":{0:121,1:64,2:33,3:23,4:26,5:15,6:24,7:62,8:122,9:203,10:318,11:419,12:492,13:551,14:586,15:589,16:457,17:458,18:289,19:278,20:258,21:255,22:273,23:243},"c-score":.35804152315346344,rating:1.5,location:{latitude:40.742717,longitude:-74.0082549}},{id:"P22926662",name:"Liberty Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":36,"taxi-zone":261,precinct:1,"b-score":{0:253,1:129,2:74,3:56,4:59,5:116,6:168,7:306,8:548,9:551,10:602,11:638,12:667,13:676,14:683,15:709,16:740,17:945,18:903,19:836,20:827,21:811,22:736,23:463},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7102299,longitude:-74.0135844}},{id:"P22926980",name:"Washington Market Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"Mo-Su 06:00-01:00","grid-id":61,"taxi-zone":231,precinct:1,"b-score":{0:443,1:285,2:211,3:114,4:90,5:55,6:61,7:89,8:155,9:194,10:222,11:371,12:416,13:414,14:416,15:410,16:405,17:375,18:480,19:485,20:490,21:499,22:563,23:533},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7170293,longitude:-74.0116375}},{id:"P22941918",name:"DeWitt Clinton Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":283,"taxi-zone":50,precinct:18,"b-score":{0:367,1:209,2:67,3:48,4:56,5:82,6:191,7:340,8:468,9:613,10:735,11:792,12:829,13:838,14:1161,15:1289,16:1151,17:1401,18:1419,19:1118,20:942,21:880,22:772,23:628},"c-score":.7263601862482459,rating:1.5,location:{latitude:40.7682011,longitude:-73.9942676}},{id:"P22961817",name:"Jackson Square Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":185,"taxi-zone":249,precinct:6,"b-score":{0:58,1:36,2:26,3:16,4:18,5:35,6:87,7:93,8:119,9:125,10:129,11:130,12:142,13:141,14:144,15:148,16:145,17:198,18:187,19:199,20:196,21:191,22:193,23:106},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.7390049,longitude:-74.0028822}},{id:"P22961821",name:"Corporal John A. Seravalli Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":148,"taxi-zone":249,precinct:6,"b-score":{0:58,1:36,2:26,3:16,4:18,5:35,6:87,7:93,8:119,9:125,10:129,11:130,12:142,13:141,14:144,15:148,16:145,17:198,18:187,19:199,20:196,21:191,22:193,23:106},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.7390844,longitude:-74.0048187}},{id:"P22961904",name:"Clement Clarke Moore Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":144,"taxi-zone":68,precinct:10,"b-score":{0:317,1:195,2:130,3:66,4:78,5:112,6:207,7:304,8:534,9:501,10:519,11:598,12:693,13:697,14:827,15:843,16:831,17:863,18:860,19:818,20:837,21:828,22:729,23:552},"c-score":.35804152315346344,rating:1.5,location:{latitude:40.746629,longitude:-74.0043038}},{id:"P23048485",name:"Tudor City Greens - North Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":809,"taxi-zone":233,precinct:17,"b-score":{0:323,1:428,2:89,3:72,4:107,5:161,6:641,7:773,8:777,9:850,10:937,11:1029,12:1157,13:1252,14:1285,15:1382,16:1848,17:1974,18:2076,19:1984,20:1986,21:1984,22:1469,23:1006},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7495583,longitude:-73.9705138}},{id:"P23048493",name:"Tudor City Greens - South Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":758,"taxi-zone":233,precinct:17,"b-score":{0:323,1:428,2:89,3:72,4:107,5:161,6:641,7:773,8:777,9:850,10:937,11:1029,12:1157,13:1252,14:1285,15:1382,16:1848,17:1974,18:2076,19:1984,20:1986,21:1984,22:1469,23:1006},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7488541,longitude:-73.9710191}},{id:"P25026338",name:"Zuccotti Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":65,"taxi-zone":261,precinct:1,"b-score":{0:253,1:129,2:74,3:56,4:59,5:116,6:168,7:306,8:548,9:551,10:602,11:638,12:667,13:676,14:683,15:709,16:740,17:945,18:903,19:836,20:827,21:811,22:736,23:463},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7092314,longitude:-74.0112539}},{id:"P25162896",name:"Tompkins Square Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":565,"taxi-zone":79,precinct:9,"b-score":{0:171,1:196,2:161,3:143,4:101,5:135,6:331,7:170,8:160,9:185,10:207,11:233,12:246,13:257,14:263,15:264,16:254,17:258,18:234,19:235,20:231,21:596,22:451,23:366},"c-score":.48990623804056643,rating:1.5,location:{latitude:40.7264724,longitude:-73.9816871}},{id:"P30657456",name:"Christopher Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":188,"taxi-zone":249,precinct:6,"b-score":{0:58,1:36,2:26,3:16,4:18,5:35,6:87,7:93,8:119,9:125,10:129,11:130,12:142,13:141,14:144,15:148,16:145,17:198,18:187,19:199,20:196,21:191,22:193,23:106},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.7335833,longitude:-74.0022513}},{id:"P30657462",name:"Sheridan Square Garden",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":189,"taxi-zone":249,precinct:6,"b-score":{0:58,1:36,2:26,3:16,4:18,5:35,6:87,7:93,8:119,9:125,10:129,11:130,12:142,13:141,14:144,15:148,16:145,17:198,18:187,19:199,20:196,21:191,22:193,23:106},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.7330286,longitude:-74.0021296}},{id:"P31009822",name:"Stuyvesant Cove Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":715,"taxi-zone":224,precinct:13,"b-score":{0:55,1:45,2:27,3:18,4:17,5:14,6:29,7:55,8:49,9:36,10:41,11:44,12:45,13:46,14:46,15:47,16:52,17:87,18:85,19:73,20:74,21:74,22:76,23:75},"c-score":.6499952162265595,rating:1.5,location:{latitude:40.7330953,longitude:-73.9739823}},{id:"P33804388",name:"East River Esplanade",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":811,"taxi-zone":233,precinct:17,"b-score":{0:323,1:428,2:89,3:72,4:107,5:161,6:641,7:773,8:777,9:850,10:937,11:1029,12:1157,13:1252,14:1285,15:1382,16:1848,17:1974,18:2076,19:1984,20:1986,21:1984,22:1469,23:1006},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7449845,longitude:-73.9704672}},{id:"P33804405",name:"Asser Levy Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":661,"taxi-zone":137,precinct:13,"b-score":{0:622,1:398,2:287,3:232,4:206,5:117,6:185,7:420,8:346,9:532,10:457,11:456,12:596,13:587,14:779,15:784,16:780,17:920,18:1284,19:1286,20:1286,21:1310,22:1301,23:1048},"c-score":.8489244622311155,rating:1.5,location:{latitude:40.7364296,longitude:-73.9756472}},{id:"P36185652",name:"Bellevue Society Garden",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":712,"taxi-zone":137,precinct:13,"b-score":{0:622,1:398,2:287,3:232,4:206,5:117,6:185,7:420,8:346,9:532,10:457,11:456,12:596,13:587,14:779,15:784,16:780,17:920,18:1284,19:1286,20:1286,21:1310,22:1301,23:1048},"c-score":.6499952162265595,rating:1.5,location:{latitude:40.7380949,longitude:-73.9745264}},{id:"P36865288",name:"Desalvio Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":309,"taxi-zone":144,precinct:5,"b-score":{0:329,1:200,2:133,3:76,4:95,5:86,6:169,7:345,8:381,9:354,10:356,11:360,12:385,13:395,14:420,15:440,16:452,17:420,18:401,19:399,20:404,21:420,22:542,23:518},"c-score":.37779850746268656,rating:1.5,location:{latitude:40.7216408,longitude:-73.9961097}},{id:"P37003318",name:"Riverside Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":531,"taxi-zone":239,precinct:20,"b-score":{0:98,1:114,2:40,3:25,4:24,5:35,6:96,7:152,8:156,9:189,10:297,11:307,12:323,13:334,14:329,15:340,16:328,17:334,18:309,19:302,20:299,21:307,22:299,23:278},"c-score":.36388569970659523,rating:1.5,location:{latitude:40.7880268,longitude:-73.982186}},{id:"P39243853",name:"Morningside Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":978,"taxi-zone":166,precinct:26,"b-score":{0:30,1:61,2:27,3:15,4:15,5:17,6:9,7:5,8:5,9:7,10:7,11:5,12:5,13:6,14:6,15:6,16:6,17:4,18:3,19:4,20:4,21:5,22:5,23:6},"c-score":.261656461283327,rating:1.5,location:{latitude:40.8060522,longitude:-73.9580625}},{id:"P44225581",name:"Petrosino Square",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":272,"taxi-zone":144,precinct:5,"b-score":{0:329,1:200,2:133,3:76,4:95,5:86,6:169,7:345,8:381,9:354,10:356,11:360,12:385,13:395,14:420,15:440,16:452,17:420,18:401,19:399,20:404,21:420,22:542,23:518},"c-score":.37779850746268656,rating:1.5,location:{latitude:40.7217802,longitude:-73.9974692}},{id:"P53189828",name:"DeLury Square",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":165,"taxi-zone":209,precinct:1,"b-score":{0:302,1:160,2:139,3:117,4:104,5:123,6:329,7:554,8:629,9:730,10:745,11:783,12:1106,13:1121,14:1193,15:1172,16:1121,17:1315,18:1304,19:1241,20:1174,21:1065,22:861,23:637},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7091073,longitude:-74.0050236}},{id:"P66374787",name:"Columbus Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":237,"taxi-zone":45,precinct:5,"b-score":{0:407,1:224,2:78,3:38,4:71,5:190,6:509,7:1353,8:1776,9:1764,10:1835,11:1856,12:1914,13:1911,14:2582,15:2807,16:2520,17:2861,18:2906,19:1952,20:1497,21:1451,22:952,23:497},"c-score":.37779850746268656,rating:1.5,location:{latitude:40.7151001,longitude:-74.0000509}},{id:"P75311774",name:"Battery Park City Ball Fields",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":33,"taxi-zone":13,precinct:1,"b-score":{0:474,1:359,2:248,3:192,4:147,5:108,6:452,7:449,8:356,9:595,10:623,11:716,12:804,13:827,14:867,15:879,16:886,17:1116,18:1040,19:1006,20:924,21:906,22:845,23:779},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7160843,longitude:-74.0140082}},{id:"P75364733",name:"Bogardus Garden",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":92,"taxi-zone":231,precinct:1,"b-score":{0:443,1:285,2:211,3:114,4:90,5:55,6:61,7:89,8:155,9:194,10:222,11:371,12:416,13:414,14:416,15:410,16:405,17:375,18:480,19:485,20:490,21:499,22:563,23:533},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7158736,longitude:-74.0090666}},{id:"P86144190",name:"Abingdon Square",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":149,"taxi-zone":249,precinct:6,"b-score":{0:58,1:36,2:26,3:16,4:18,5:35,6:87,7:93,8:119,9:125,10:129,11:130,12:142,13:141,14:144,15:148,16:145,17:198,18:187,19:199,20:196,21:191,22:193,23:106},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.7372675,longitude:-74.0053868}},{id:"P86144198",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":150,"taxi-zone":249,precinct:6,"b-score":{0:58,1:36,2:26,3:16,4:18,5:35,6:87,7:93,8:119,9:125,10:129,11:130,12:142,13:141,14:144,15:148,16:145,17:198,18:187,19:199,20:196,21:191,22:193,23:106},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.736377,longitude:-74.0054892}},{id:"P86256760",name:"Arthur Strickler Triangle",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":150,"taxi-zone":158,precinct:6,"b-score":{0:250,1:120,2:70,3:42,4:45,5:38,6:103,7:175,8:347,9:393,10:486,11:520,12:628,13:628,14:640,15:642,16:668,17:683,18:552,19:551,20:524,21:523,22:535,23:554},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.7368584,longitude:-74.0058066}},{id:"P86336886",name:"Sherman Square",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":489,"taxi-zone":142,precinct:20,"b-score":{0:131,1:84,2:47,3:29,4:33,5:31,6:74,7:96,8:142,9:187,10:238,11:244,12:252,13:258,14:258,15:255,16:243,17:289,18:221,19:232,20:229,21:228,22:227,23:255},"c-score":.36388569970659523,rating:1.5,location:{latitude:40.7773648,longitude:-73.9823502}},{id:"P86338375",name:"Greenacre Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"Mo-Su 08:00-20:00","grid-id":805,"taxi-zone":229,precinct:17,"b-score":{0:111,1:102,2:38,3:27,4:29,5:42,6:146,7:267,8:231,9:393,10:446,11:492,12:531,13:537,14:690,15:723,16:702,17:777,18:892,19:870,20:800,21:567,22:501,23:258},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7562735,longitude:-73.9692846}},{id:"P86714429",name:"Kimlau Square",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":277,"taxi-zone":45,precinct:5,"b-score":{0:407,1:224,2:78,3:38,4:71,5:190,6:509,7:1353,8:1776,9:1764,10:1835,11:1856,12:1914,13:1911,14:2582,15:2807,16:2520,17:2861,18:2906,19:1952,20:1497,21:1451,22:952,23:497},"c-score":.37779850746268656,rating:1.5,location:{latitude:40.713421,longitude:-73.9979986}},{id:"P95833119",name:"Cooper Triangle",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":384,"taxi-zone":79,precinct:9,"b-score":{0:171,1:196,2:161,3:143,4:101,5:135,6:331,7:170,8:160,9:185,10:207,11:233,12:246,13:257,14:263,15:264,16:254,17:258,18:234,19:235,20:231,21:596,22:451,23:366},"c-score":.9999999999999999,rating:1.5,location:{latitude:40.7288189,longitude:-73.9907764}},{id:"P104077634",name:"Gorman Memorial Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1448,"taxi-zone":243,precinct:34,"b-score":{0:9,1:14,2:21,3:7,4:6,5:3,6:9,7:6,8:6,9:6,10:8,11:10,12:11,13:11,14:10,15:11,16:12,17:16,18:19,19:22,20:24,21:26,22:24,23:22},"c-score":.5172056384742952,rating:1.5,location:{latitude:40.8556942,longitude:-73.9324027}},{id:"P104078386",name:"Bennett Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1311,"taxi-zone":243,precinct:34,"b-score":{0:9,1:14,2:21,3:7,4:6,5:3,6:9,7:6,8:6,9:6,10:8,11:10,12:11,13:11,14:10,15:11,16:12,17:16,18:19,19:22,20:24,21:26,22:24,23:22},"c-score":.5172056384742952,rating:1.5,location:{latitude:40.8528398,longitude:-73.938113}},{id:"P104169861",name:"Isham Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1544,"taxi-zone":127,precinct:34,"b-score":{0:674,1:460,2:358,3:259,4:259,5:302,6:893,7:702,8:712,9:778,10:903,11:961,12:1189,13:1307,14:1317,15:1326,16:1301,17:1539,18:1271,19:1278,20:1267,21:1267,22:1275,23:1008},"c-score":.5172056384742952,rating:1.5,location:{latitude:40.8696523,longitude:-73.9190761}},{id:"P105715154",name:"Fort Washington Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1267,"taxi-zone":243,precinct:34,"b-score":{0:9,1:14,2:21,3:7,4:6,5:3,6:9,7:6,8:6,9:6,10:8,11:10,12:11,13:11,14:10,15:11,16:12,17:16,18:19,19:22,20:24,21:26,22:24,23:22},"c-score":.5962981490745373,rating:1.5,location:{latitude:40.8531632,longitude:-73.9398863}},{id:"P108153375",name:"Collect Pond Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:"06:00-01:00","grid-id":198,"taxi-zone":231,precinct:5,"b-score":{0:443,1:285,2:211,3:114,4:90,5:55,6:61,7:89,8:155,9:194,10:222,11:371,12:416,13:414,14:416,15:410,16:405,17:375,18:480,19:485,20:490,21:499,22:563,23:533},"c-score":.4907453726863431,rating:1.5,location:{latitude:40.716328,longitude:-74.0018252}},{id:"P108153676",name:"Duarte Square",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"yes",opening_hours:"Mo-Su 06:00-01:00","grid-id":158,"taxi-zone":125,precinct:1,"b-score":{0:98,1:56,2:24,3:13,4:16,5:45,6:198,7:498,8:379,9:435,10:831,11:911,12:1095,13:1187,14:1306,15:1304,16:921,17:742,18:768,19:572,20:543,21:459,22:424,23:217},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7225449,longitude:-74.0055296}},{id:"P108159406",name:"Carl Schurz Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1262,"taxi-zone":262,precinct:19,"b-score":{0:714,1:440,2:234,3:161,4:180,5:308,6:696,7:567,8:592,9:657,10:727,11:1141,12:1111,13:1107,14:1115,15:1128,16:1120,17:1905,18:2049,19:1980,20:1680,21:1865,22:1940,23:1347},"c-score":.7237689756346473,rating:1.5,location:{latitude:40.7752127,longitude:-73.9437574}},{id:"P108159407",name:"Thomas Jefferson Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1389,"taxi-zone":74,precinct:23,"b-score":{0:50,1:50,2:24,3:19,4:15,5:6,6:8,7:17,8:17,9:17,10:23,11:25,12:31,13:35,14:41,15:38,16:37,17:37,18:43,19:58,20:69,21:79,22:83,23:81},"c-score":.5149971297359357,rating:1.5,location:{latitude:40.7932541,longitude:-73.9353945}},{id:"P108199253",name:"Robert Moses Plaza",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":447,"taxi-zone":142,precinct:20,"b-score":{0:131,1:84,2:47,3:29,4:33,5:31,6:74,7:96,8:142,9:187,10:238,11:244,12:252,13:258,14:258,15:255,16:243,17:289,18:221,19:232,20:229,21:228,22:227,23:255},"c-score":.36388569970659523,rating:1.5,location:{latitude:40.7707338,longitude:-73.9847792}},{id:"P108199260",name:"St. Peter's Garden",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":447,"taxi-zone":142,precinct:20,"b-score":{0:131,1:84,2:47,3:29,4:33,5:31,6:74,7:96,8:142,9:187,10:238,11:244,12:252,13:258,14:258,15:255,16:243,17:289,18:221,19:232,20:229,21:228,22:227,23:255},"c-score":.36388569970659523,rating:1.5,location:{latitude:40.7711578,longitude:-73.9854676}},{id:"P108235832",name:"Corlears Hook Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":624,"taxi-zone":232,precinct:7,"b-score":{0:299,1:167,2:103,3:77,4:42,5:20,6:92,7:88,8:126,9:161,10:262,11:330,12:400,13:412,14:433,15:443,16:398,17:518,18:578,19:537,20:472,21:455,22:473,23:463},"c-score":.4246954330909555,rating:1.5,location:{latitude:40.7117122,longitude:-73.9792669}},{id:"P108235833",name:"Rector Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":17,"taxi-zone":13,precinct:1,"b-score":{0:474,1:359,2:248,3:192,4:147,5:108,6:452,7:449,8:356,9:595,10:623,11:716,12:804,13:827,14:867,15:879,16:886,17:1116,18:1040,19:1006,20:924,21:906,22:845,23:779},"c-score":.613287728026534,rating:1.5,location:{latitude:40.709189,longitude:-74.016925}},{id:"P108235836",name:"Seward Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:"Mo-Su 06:00-22:00","grid-id":434,"taxi-zone":232,precinct:7,"b-score":{0:299,1:167,2:103,3:77,4:42,5:20,6:92,7:88,8:126,9:161,10:262,11:330,12:400,13:412,14:433,15:443,16:398,17:518,18:578,19:537,20:472,21:455,22:473,23:463},"c-score":.7858929464732366,rating:1.5,location:{latitude:40.7148304,longitude:-73.9891502}},{id:"P108235837",name:"Vietnam Veterans Plaza",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":100,"taxi-zone":88,precinct:1,"b-score":{0:108,1:43,2:30,3:21,4:23,5:29,6:60,7:133,8:165,9:366,10:405,11:499,12:506,13:511,14:569,15:522,16:441,17:421,18:416,19:367,20:308,21:301,22:330,23:200},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7027051,longitude:-74.0097651}},{id:"P108235842",name:"John V. Lindsay East River Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":671,"taxi-zone":232,precinct:7,"b-score":{0:299,1:167,2:103,3:77,4:42,5:20,6:92,7:88,8:126,9:161,10:262,11:330,12:400,13:412,14:433,15:443,16:398,17:518,18:578,19:537,20:472,21:455,22:473,23:463},"c-score":.4246954330909555,rating:1.5,location:{latitude:40.7185542,longitude:-73.976023}},{id:"P108237827",name:"Wallenberg Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1506,"taxi-zone":120,precinct:34,"b-score":{0:97,1:100,2:63,3:45,4:44,5:20,6:48,7:118,8:89,9:95,10:97,11:89,12:85,13:85,14:86,15:107,16:100,17:117,18:123,19:136,20:147,21:156,22:160,23:157},"c-score":.5172056384742952,rating:1.5,location:{latitude:40.8529616,longitude:-73.9267854}},{id:"P108237828",name:"Jackie Robinson Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1282,"taxi-zone":116,precinct:30,"b-score":{0:130,1:103,2:65,3:39,4:39,5:60,6:87,7:123,8:126,9:126,10:134,11:138,12:137,13:136,14:157,15:197,16:199,17:273,18:272,19:264,20:254,21:257,22:232,23:204},"c-score":.3465445209848195,rating:1.5,location:{latitude:40.8267343,longitude:-73.9412148}},{id:"P108239585",name:"Jacob H. Schiff Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1052,"taxi-zone":152,precinct:30,"b-score":{0:363,1:173,2:119,3:93,4:95,5:112,6:295,7:278,8:309,9:410,10:492,11:616,12:661,13:675,14:668,15:672,16:661,17:938,18:802,19:808,20:798,21:766,22:811,23:723},"c-score":.3465445209848195,rating:1.5,location:{latitude:40.8205186,longitude:-73.9520188}},{id:"P108239586",name:"Montefiore Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1052,"taxi-zone":152,precinct:30,"b-score":{0:363,1:173,2:119,3:93,4:95,5:112,6:295,7:278,8:309,9:410,10:492,11:616,12:661,13:675,14:668,15:672,16:661,17:938,18:802,19:808,20:798,21:766,22:811,23:723},"c-score":.3465445209848195,rating:1.5,location:{latitude:40.8214533,longitude:-73.9535643}},{id:"P108239588",name:"Alexander Hamilton Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1094,"taxi-zone":116,precinct:30,"b-score":{0:130,1:103,2:65,3:39,4:39,5:60,6:87,7:123,8:126,9:126,10:134,11:138,12:137,13:136,14:157,15:197,16:199,17:273,18:272,19:264,20:254,21:257,22:232,23:204},"c-score":.35367683841920955,rating:1.5,location:{latitude:40.8230955,longitude:-73.9512438}},{id:"P108239589",name:"Saint Nicholas Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1144,"taxi-zone":152,precinct:26,"b-score":{0:363,1:173,2:119,3:93,4:95,5:112,6:295,7:278,8:309,9:410,10:492,11:616,12:661,13:675,14:668,15:672,16:661,17:938,18:802,19:808,20:798,21:766,22:811,23:723},"c-score":.261656461283327,rating:1.5,location:{latitude:40.8172175,longitude:-73.9489593}},{id:"P109267278",name:"Coenties Slip",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":99,"taxi-zone":88,precinct:1,"b-score":{0:108,1:43,2:30,3:21,4:23,5:29,6:60,7:133,8:165,9:366,10:405,11:499,12:506,13:511,14:569,15:522,16:441,17:421,18:416,19:367,20:308,21:301,22:330,23:200},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7034804,longitude:-74.01053}},{id:"P109269750",name:"Grand Army Plaza",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":697,"taxi-zone":163,precinct:18,"b-score":{0:21,1:32,2:20,3:5,4:3,5:17,6:6,7:6,8:7,9:6,10:5,11:7,12:6,13:5,14:5,15:5,16:4,17:4,18:4,19:3,20:4,21:4,22:4,23:4},"c-score":.7263601862482459,rating:1.5,location:{latitude:40.764415,longitude:-73.9733608}},{id:"P109328312",name:"Joseph C. Sauer Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":614,"taxi-zone":79,precinct:9,"b-score":{0:171,1:196,2:161,3:143,4:101,5:135,6:331,7:170,8:160,9:185,10:207,11:233,12:246,13:257,14:263,15:264,16:254,17:258,18:234,19:235,20:231,21:596,22:451,23:366},"c-score":.48990623804056643,rating:1.5,location:{latitude:40.7281595,longitude:-73.9797195}},{id:"P109330342",name:"James Madison Plaza",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":239,"taxi-zone":45,precinct:5,"b-score":{0:407,1:224,2:78,3:38,4:71,5:190,6:509,7:1353,8:1776,9:1764,10:1835,11:1856,12:1914,13:1911,14:2582,15:2807,16:2520,17:2861,18:2906,19:1952,20:1497,21:1451,22:952,23:497},"c-score":.37779850746268656,rating:1.5,location:{latitude:40.7114325,longitude:-74.0003718}},{id:"P109441961",name:"Titanic Memorial Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":166,"taxi-zone":209,precinct:1,"b-score":{0:302,1:160,2:139,3:117,4:104,5:123,6:329,7:554,8:629,9:730,10:745,11:783,12:1106,13:1121,14:1193,15:1172,16:1121,17:1315,18:1304,19:1241,20:1174,21:1065,22:861,23:637},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7075392,longitude:-74.0036904}},{id:"P109447376",name:"Louise Nevelson Plaza",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":131,"taxi-zone":87,precinct:1,"b-score":{0:468,1:296,2:214,3:137,4:128,5:58,6:143,7:125,8:231,9:277,10:341,11:437,12:463,13:472,14:516,15:521,16:515,17:833,18:902,19:924,20:923,21:903,22:920,23:780},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7076565,longitude:-74.0079164}},{id:"P111563947",name:"Peretz Square",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":429,"taxi-zone":79,precinct:9,"b-score":{0:171,1:196,2:161,3:143,4:101,5:135,6:331,7:170,8:160,9:185,10:207,11:233,12:246,13:257,14:263,15:264,16:254,17:258,18:234,19:235,20:231,21:596,22:451,23:366},"c-score":.48990623804056643,rating:1.5,location:{latitude:40.7229342,longitude:-73.9878534}},{id:"P112692313",name:"Bowling Green",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":39,"taxi-zone":261,precinct:1,"b-score":{0:253,1:129,2:74,3:56,4:59,5:116,6:168,7:306,8:548,9:551,10:602,11:638,12:667,13:676,14:683,15:709,16:740,17:945,18:903,19:836,20:827,21:811,22:736,23:463},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7050354,longitude:-74.0136629}},{id:"P113690621",name:"Marsh & McLennan Public Space",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":549,"taxi-zone":161,precinct:18,"b-score":{0:333,1:225,2:114,3:86,4:60,5:35,6:65,7:77,8:110,9:176,10:234,11:287,12:268,13:276,14:372,15:371,16:375,17:539,18:602,19:619,20:582,21:564,22:519,23:496},"c-score":.7263601862482459,rating:1.5,location:{latitude:40.75669,longitude:-73.9815898}},{id:"P113723738",name:"Straus Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":779,"taxi-zone":24,precinct:24,"b-score":{0:574,1:281,2:240,3:118,4:163,5:241,6:1292,7:1081,8:1092,9:1276,10:1347,11:1364,12:1368,13:1393,14:1449,15:1448,16:1444,17:1489,18:1646,19:1649,20:1532,21:1558,22:1433,23:1037},"c-score":.4165709911978569,rating:1.5,location:{latitude:40.8018962,longitude:-73.9682115}},{id:"P117994215",name:"Samuel N. Bennerson 2nd Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":445,"taxi-zone":143,precinct:20,"b-score":{0:69,1:39,2:28,3:18,4:18,5:16,6:43,7:74,8:273,9:291,10:242,11:249,12:237,13:240,14:236,15:193,16:159,17:162,18:147,19:123,20:113,21:115,22:112,23:130},"c-score":.36388569970659523,rating:1.5,location:{latitude:40.7738043,longitude:-73.9869758}},{id:"P117994217",name:"Damrosch Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":446,"taxi-zone":142,precinct:20,"b-score":{0:131,1:84,2:47,3:29,4:33,5:31,6:74,7:96,8:142,9:187,10:238,11:244,12:252,13:258,14:258,15:255,16:243,17:289,18:221,19:232,20:229,21:228,22:227,23:255},"c-score":.36388569970659523,rating:1.5,location:{latitude:40.7723209,longitude:-73.9850051}},{id:"P118116798",name:"Pier 84",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":210,"taxi-zone":50,precinct:18,"b-score":{0:367,1:209,2:67,3:48,4:56,5:82,6:191,7:340,8:468,9:613,10:735,11:792,12:829,13:838,14:1161,15:1289,16:1151,17:1401,18:1419,19:1118,20:942,21:880,22:772,23:628},"c-score":.7263601862482459,rating:1.5,location:{latitude:40.7637561,longitude:-74.0013936}},{id:"P118116802",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:"yes",opening_hours:"07:00-22:00","grid-id":401,"taxi-zone":143,precinct:20,"b-score":{0:69,1:39,2:28,3:18,4:18,5:16,6:43,7:74,8:273,9:291,10:242,11:249,12:237,13:240,14:236,15:193,16:159,17:162,18:147,19:123,20:113,21:115,22:112,23:130},"c-score":.36388569970659523,rating:1.5,location:{latitude:40.7746717,longitude:-73.9889625}},{id:"P118505053",name:"Clinton Cove",type:"park",address:null,internet_access:null,wheelchair_accessible:"yes",opening_hours:null,"grid-id":282,"taxi-zone":50,precinct:18,"b-score":{0:367,1:209,2:67,3:48,4:56,5:82,6:191,7:340,8:468,9:613,10:735,11:792,12:829,13:838,14:1161,15:1289,16:1151,17:1401,18:1419,19:1118,20:942,21:880,22:772,23:628},"c-score":.7263601862482459,rating:1.5,location:{latitude:40.7706616,longitude:-73.9954545}},{id:"P118524658",name:"Johnny Hartman Plaza",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1140,"taxi-zone":116,precinct:30,"b-score":{0:130,1:103,2:65,3:39,4:39,5:60,6:87,7:123,8:126,9:126,10:134,11:138,12:137,13:136,14:157,15:197,16:199,17:273,18:272,19:264,20:254,21:257,22:232,23:204},"c-score":.3465445209848195,rating:1.5,location:{latitude:40.8241497,longitude:-73.9486126}},{id:"P118524659",name:"Courtney Callender Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1291,"taxi-zone":42,precinct:32,"b-score":{0:216,1:99,2:54,3:37,4:46,5:48,6:177,7:268,8:304,9:320,10:301,11:309,12:317,13:320,14:318,15:340,16:605,17:728,18:718,19:600,20:555,21:547,22:501,23:342},"c-score":.5270044010715652,rating:1.5,location:{latitude:40.8100335,longitude:-73.9400997}},{id:"P118524660",name:"Alice Kornegay Triangle",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1382,"taxi-zone":74,precinct:25,"b-score":{0:50,1:50,2:24,3:19,4:15,5:6,6:8,7:17,8:17,9:17,10:23,11:25,12:31,13:35,14:41,15:38,16:37,17:37,18:43,19:58,20:69,21:79,22:83,23:81},"c-score":.6253268911851002,rating:1.5,location:{latitude:40.8064189,longitude:-73.9353004}},{id:"P118524662",name:"Colonel Charles Young Triangle",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1370,"taxi-zone":42,precinct:32,"b-score":{0:216,1:99,2:54,3:37,4:46,5:48,6:177,7:268,8:304,9:320,10:301,11:309,12:317,13:320,14:318,15:340,16:605,17:728,18:718,19:600,20:555,21:547,22:501,23:342},"c-score":.5270044010715652,rating:1.5,location:{latitude:40.8272244,longitude:-73.9358637}},{id:"P118524664",name:"Renaissance Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1285,"taxi-zone":42,precinct:32,"b-score":{0:216,1:99,2:54,3:37,4:46,5:48,6:177,7:268,8:304,9:320,10:301,11:309,12:317,13:320,14:318,15:340,16:605,17:728,18:718,19:600,20:555,21:547,22:501,23:342},"c-score":.5270044010715652,rating:1.5,location:{latitude:40.8212878,longitude:-73.9413653}},{id:"P118524667",name:"Harlem Lane Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1371,"taxi-zone":42,precinct:32,"b-score":{0:216,1:99,2:54,3:37,4:46,5:48,6:177,7:268,8:304,9:320,10:301,11:309,12:317,13:320,14:318,15:340,16:605,17:728,18:718,19:600,20:555,21:547,22:501,23:342},"c-score":.5270044010715652,rating:1.5,location:{latitude:40.8259868,longitude:-73.9349482}},{id:"P118524668",name:"Howard Bennett Playground",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1333,"taxi-zone":42,precinct:32,"b-score":{0:216,1:99,2:54,3:37,4:46,5:48,6:177,7:268,8:304,9:320,10:301,11:309,12:317,13:320,14:318,15:340,16:605,17:728,18:718,19:600,20:555,21:547,22:501,23:342},"c-score":.5270044010715652,rating:1.5,location:{latitude:40.8136382,longitude:-73.9386348}},{id:"P118524669",name:"Moore Playground",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1335,"taxi-zone":42,precinct:25,"b-score":{0:216,1:99,2:54,3:37,4:46,5:48,6:177,7:268,8:304,9:320,10:301,11:309,12:317,13:320,14:318,15:340,16:605,17:728,18:718,19:600,20:555,21:547,22:501,23:342},"c-score":.6253268911851002,rating:1.5,location:{latitude:40.8094037,longitude:-73.938501}},{id:"P118524671",name:"Colonel Charles Young Playground",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1375,"taxi-zone":42,precinct:32,"b-score":{0:216,1:99,2:54,3:37,4:46,5:48,6:177,7:268,8:304,9:320,10:301,11:309,12:317,13:320,14:318,15:340,16:605,17:728,18:718,19:600,20:555,21:547,22:501,23:342},"c-score":.5270044010715652,rating:1.5,location:{latitude:40.8191237,longitude:-73.935624}},{id:"P118524675",name:"Riverside Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1047,"taxi-zone":116,precinct:30,"b-score":{0:130,1:103,2:65,3:39,4:39,5:60,6:87,7:123,8:126,9:126,10:134,11:138,12:137,13:136,14:157,15:197,16:199,17:273,18:272,19:264,20:254,21:257,22:232,23:204},"c-score":.3465445209848195,rating:1.5,location:{latitude:40.8290212,longitude:-73.953451}},{id:"P118524677",name:"Frederick Johnson Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1372,"taxi-zone":42,precinct:32,"b-score":{0:216,1:99,2:54,3:37,4:46,5:48,6:177,7:268,8:304,9:320,10:301,11:309,12:317,13:320,14:318,15:340,16:605,17:728,18:718,19:600,20:555,21:547,22:501,23:342},"c-score":.5270044010715652,rating:1.5,location:{latitude:40.8247169,longitude:-73.9355292}},{id:"P118524678",name:"Abraham Lincoln Playground",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1379,"taxi-zone":74,precinct:25,"b-score":{0:50,1:50,2:24,3:19,4:15,5:6,6:8,7:17,8:17,9:17,10:23,11:25,12:31,13:35,14:41,15:38,16:37,17:37,18:43,19:58,20:69,21:79,22:83,23:81},"c-score":.6253268911851002,rating:1.5,location:{latitude:40.812198,longitude:-73.9371517}},{id:"P118524689",name:"Holcombe Rucker Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1369,"taxi-zone":42,precinct:32,"b-score":{0:216,1:99,2:54,3:37,4:46,5:48,6:177,7:268,8:304,9:320,10:301,11:309,12:317,13:320,14:318,15:340,16:605,17:728,18:718,19:600,20:555,21:547,22:501,23:342},"c-score":.5270044010715652,rating:1.5,location:{latitude:40.829198,longitude:-73.9361184}},{id:"P118524694",name:"Riverbank State Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:"sunrise-sunset","grid-id":967,"taxi-zone":116,precinct:30,"b-score":{0:130,1:103,2:65,3:39,4:39,5:60,6:87,7:123,8:126,9:126,10:134,11:138,12:137,13:136,14:157,15:197,16:199,17:273,18:272,19:264,20:254,21:257,22:232,23:204},"c-score":.3465445209848195,rating:1.5,location:{latitude:40.8254269,longitude:-73.9565197}},{id:"P118524697",name:"Crack Is Wack Playground",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1459,"taxi-zone":74,precinct:25,"b-score":{0:50,1:50,2:24,3:19,4:15,5:6,6:8,7:17,8:17,9:17,10:23,11:25,12:31,13:35,14:41,15:38,16:37,17:37,18:43,19:58,20:69,21:79,22:83,23:81},"c-score":.6253268911851002,rating:1.5,location:{latitude:40.8044855,longitude:-73.9317785}},{id:"P118524700",name:"Harlem River Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1428,"taxi-zone":74,precinct:25,"b-score":{0:50,1:50,2:24,3:19,4:15,5:6,6:8,7:17,8:17,9:17,10:23,11:25,12:31,13:35,14:41,15:38,16:37,17:37,18:43,19:58,20:69,21:79,22:83,23:81},"c-score":.6253268911851002,rating:1.5,location:{latitude:40.8059758,longitude:-73.9336626}},{id:"P118524701",name:"Bradhurst Urban Renewal Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1284,"taxi-zone":42,precinct:32,"b-score":{0:216,1:99,2:54,3:37,4:46,5:48,6:177,7:268,8:304,9:320,10:301,11:309,12:317,13:320,14:318,15:340,16:605,17:728,18:718,19:600,20:555,21:547,22:501,23:342},"c-score":.5270044010715652,rating:1.5,location:{latitude:40.8226795,longitude:-73.9400884}},{id:"P118524706",name:"Convent Garden",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1233,"taxi-zone":116,precinct:30,"b-score":{0:130,1:103,2:65,3:39,4:39,5:60,6:87,7:123,8:126,9:126,10:134,11:138,12:137,13:136,14:157,15:197,16:199,17:273,18:272,19:264,20:254,21:257,22:232,23:204},"c-score":.3465445209848195,rating:1.5,location:{latitude:40.828365,longitude:-73.9427004}},{id:"P118528233",name:"Sakura Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":892,"taxi-zone":166,precinct:26,"b-score":{0:30,1:61,2:27,3:15,4:15,5:17,6:9,7:5,8:5,9:7,10:7,11:5,12:5,13:6,14:6,15:6,16:6,17:4,18:3,19:4,20:4,21:5,22:5,23:6},"c-score":.261656461283327,rating:1.5,location:{latitude:40.8130779,longitude:-73.962112}},{id:"P118528235",name:"West Harlem Piers Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":930,"taxi-zone":152,precinct:26,"b-score":{0:363,1:173,2:119,3:93,4:95,5:112,6:295,7:278,8:309,9:410,10:492,11:616,12:661,13:675,14:668,15:672,16:661,17:938,18:802,19:808,20:798,21:766,22:811,23:723},"c-score":.261656461283327,rating:1.5,location:{latitude:40.8191647,longitude:-73.9611293}},{id:"P118528587",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":627,"taxi-zone":238,precinct:24,"b-score":{0:396,1:289,2:117,3:84,4:79,5:112,6:385,7:443,8:470,9:525,10:596,11:724,12:763,13:801,14:791,15:834,16:803,17:840,18:1072,19:997,20:975,21:964,22:993,23:808},"c-score":.4165709911978569,rating:1.5,location:{latitude:40.7972777,longitude:-73.9768346}},{id:"P118529212",name:"Inwood Hill Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1513,"taxi-zone":128,precinct:34,"b-score":{0:201,1:127,2:97,3:105,4:99,5:98,6:271,7:217,8:266,9:324,10:334,11:360,12:385,13:392,14:393,15:394,16:396,17:400,18:446,19:431,20:412,21:407,22:410,23:422},"c-score":.5172056384742952,rating:1.5,location:{latitude:40.8722547,longitude:-73.9253479}},{id:"P124814434",name:"Bogardus Plaza",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":92,"taxi-zone":231,precinct:1,"b-score":{0:443,1:285,2:211,3:114,4:90,5:55,6:61,7:89,8:155,9:194,10:222,11:371,12:416,13:414,14:416,15:410,16:405,17:375,18:480,19:485,20:490,21:499,22:563,23:533},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7159015,longitude:-74.0092316}},{id:"P129700421",name:"Wagner Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":7,"taxi-zone":13,precinct:1,"b-score":{0:474,1:359,2:248,3:192,4:147,5:108,6:452,7:449,8:356,9:595,10:623,11:716,12:804,13:827,14:867,15:879,16:886,17:1116,18:1040,19:1006,20:924,21:906,22:845,23:779},"c-score":.613287728026534,rating:1.5,location:{latitude:40.705538,longitude:-74.0183661}},{id:"P129700423",name:"South Cove Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":6,"taxi-zone":13,precinct:1,"b-score":{0:474,1:359,2:248,3:192,4:147,5:108,6:452,7:449,8:356,9:595,10:623,11:716,12:804,13:827,14:867,15:879,16:886,17:1116,18:1040,19:1006,20:924,21:906,22:845,23:779},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7073325,longitude:-74.0184369}},{id:"P129700430",name:"The Esplanade",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":16,"taxi-zone":13,precinct:1,"b-score":{0:474,1:359,2:248,3:192,4:147,5:108,6:452,7:449,8:356,9:595,10:623,11:716,12:804,13:827,14:867,15:879,16:886,17:1116,18:1040,19:1006,20:924,21:906,22:845,23:779},"c-score":.613287728026534,rating:1.5,location:{latitude:40.711556,longitude:-74.0171986}},{id:"P144333814",name:"Joseph Slifka Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":709,"taxi-zone":233,precinct:17,"b-score":{0:323,1:428,2:89,3:72,4:107,5:161,6:641,7:773,8:777,9:850,10:937,11:1029,12:1157,13:1252,14:1285,15:1382,16:1848,17:1974,18:2076,19:1984,20:1986,21:1984,22:1469,23:1006},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.743948,longitude:-73.9729184}},{id:"P147035202",name:"Duane Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"Mo-Su 06:00-01:00","grid-id":92,"taxi-zone":231,precinct:1,"b-score":{0:443,1:285,2:211,3:114,4:90,5:55,6:61,7:89,8:155,9:194,10:222,11:371,12:416,13:414,14:416,15:410,16:405,17:375,18:480,19:485,20:490,21:499,22:563,23:533},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7171562,longitude:-74.0094215}},{id:"P147475917",name:"Hamilton Fish Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":569,"taxi-zone":232,precinct:7,"b-score":{0:299,1:167,2:103,3:77,4:42,5:20,6:92,7:88,8:126,9:161,10:262,11:330,12:400,13:412,14:433,15:443,16:398,17:518,18:578,19:537,20:472,21:455,22:473,23:463},"c-score":.4246954330909555,rating:1.5,location:{latitude:40.7197929,longitude:-73.9808332}},{id:"P154416663",name:"Dante Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":492,"taxi-zone":142,precinct:20,"b-score":{0:131,1:84,2:47,3:29,4:33,5:31,6:74,7:96,8:142,9:187,10:238,11:244,12:252,13:258,14:258,15:255,16:243,17:289,18:221,19:232,20:229,21:228,22:227,23:255},"c-score":.36388569970659523,rating:1.5,location:{latitude:40.77192,longitude:-73.9825711}},{id:"P154416666",name:"Richard Tucker Square",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":539,"taxi-zone":142,precinct:20,"b-score":{0:131,1:84,2:47,3:29,4:33,5:31,6:74,7:96,8:142,9:187,10:238,11:244,12:252,13:258,14:258,15:255,16:243,17:289,18:221,19:232,20:229,21:228,22:227,23:255},"c-score":.36388569970659523,rating:1.5,location:{latitude:40.7734422,longitude:-73.9818886}},{id:"P159028631",name:"Channel Gardens",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":598,"taxi-zone":161,precinct:18,"b-score":{0:333,1:225,2:114,3:86,4:60,5:35,6:65,7:77,8:110,9:176,10:234,11:287,12:268,13:276,14:372,15:371,16:375,17:539,18:602,19:619,20:582,21:564,22:519,23:496},"c-score":.7263601862482459,rating:1.5,location:{latitude:40.758446,longitude:-73.9779564}},{id:"P160903868",name:"McKinley Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":473,"taxi-zone":79,precinct:9,"b-score":{0:171,1:196,2:161,3:143,4:101,5:135,6:331,7:170,8:160,9:185,10:207,11:233,12:246,13:257,14:263,15:264,16:254,17:258,18:234,19:235,20:231,21:596,22:451,23:366},"c-score":.48990623804056643,rating:1.5,location:{latitude:40.7242531,longitude:-73.9857747}},{id:"P169483357",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":289,"taxi-zone":48,precinct:10,"b-score":{0:238,1:164,2:54,3:42,4:26,5:117,6:490,7:954,8:901,9:1100,10:1494,11:2372,12:2451,13:2433,14:2550,15:2580,16:2431,17:2709,18:2543,19:1958,20:1476,21:1376,22:1153,23:757},"c-score":.35804152315346344,rating:1.5,location:{latitude:40.7572689,longitude:-73.9947724}},{id:"P171562481",name:"Father Demo Square",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":190,"taxi-zone":249,precinct:6,"b-score":{0:58,1:36,2:26,3:16,4:18,5:35,6:87,7:93,8:119,9:125,10:129,11:130,12:142,13:141,14:144,15:148,16:145,17:198,18:187,19:199,20:196,21:191,22:193,23:106},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.7302244,longitude:-74.0021376}},{id:"P171805412",name:"Luther Gulick Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":571,"taxi-zone":232,precinct:7,"b-score":{0:299,1:167,2:103,3:77,4:42,5:20,6:92,7:88,8:126,9:161,10:262,11:330,12:400,13:412,14:433,15:443,16:398,17:518,18:578,19:537,20:472,21:455,22:473,23:463},"c-score":.4246954330909555,rating:1.5,location:{latitude:40.7158754,longitude:-73.9818757}},{id:"P177068788",name:"Laurie M. Tisch Illumination Lawn",type:"park",address:null,internet_access:null,wheelchair_accessible:"no",opening_hours:null,"grid-id":491,"taxi-zone":142,precinct:20,"b-score":{0:131,1:84,2:47,3:29,4:33,5:31,6:74,7:96,8:142,9:187,10:238,11:244,12:252,13:258,14:258,15:255,16:243,17:289,18:221,19:232,20:229,21:228,22:227,23:255},"c-score":.3771885942971485,rating:1.5,location:{latitude:40.7733857,longitude:-73.9835496}},{id:"P178575123",name:"Riverside Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":816,"taxi-zone":166,precinct:26,"b-score":{0:30,1:61,2:27,3:15,4:15,5:17,6:9,7:5,8:5,9:7,10:7,11:5,12:5,13:6,14:6,15:6,16:6,17:4,18:3,19:4,20:4,21:5,22:5,23:6},"c-score":.45122561280640316,rating:1.5,location:{latitude:40.8068603,longitude:-73.9680684}},{id:"P194212578",name:"Tecumseh Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":585,"taxi-zone":239,precinct:20,"b-score":{0:98,1:114,2:40,3:25,4:24,5:35,6:96,7:152,8:156,9:189,10:297,11:307,12:323,13:334,14:329,15:340,16:328,17:334,18:309,19:302,20:299,21:307,22:299,23:278},"c-score":.36388569970659523,rating:1.5,location:{latitude:40.7818184,longitude:-73.9785715}},{id:"P197064614",name:"James J Walker Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":119,"taxi-zone":249,precinct:6,"b-score":{0:58,1:36,2:26,3:16,4:18,5:35,6:87,7:93,8:119,9:125,10:129,11:130,12:142,13:141,14:144,15:148,16:145,17:198,18:187,19:199,20:196,21:191,22:193,23:106},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.7298088,longitude:-74.0061054}},{id:"P197066133",name:"Pier 45",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":52,"taxi-zone":158,precinct:6,"b-score":{0:250,1:120,2:70,3:42,4:45,5:38,6:103,7:175,8:347,9:393,10:486,11:520,12:628,13:628,14:640,15:642,16:668,17:683,18:552,19:551,20:524,21:523,22:535,23:554},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.7331785,longitude:-74.0124101}},{id:"P199925533",name:"Marcus Garvey Memorial Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1246,"taxi-zone":74,precinct:25,"b-score":{0:50,1:50,2:24,3:19,4:15,5:6,6:8,7:17,8:17,9:17,10:23,11:25,12:31,13:35,14:41,15:38,16:37,17:37,18:43,19:58,20:69,21:79,22:83,23:81},"c-score":.9999999999999999,rating:1.5,location:{latitude:40.8044864,longitude:-73.9436727}},{id:"P201158183",name:"Irish Hunger Memorial",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":14,"taxi-zone":13,precinct:1,"b-score":{0:474,1:359,2:248,3:192,4:147,5:108,6:452,7:449,8:356,9:595,10:623,11:716,12:804,13:827,14:867,15:879,16:886,17:1116,18:1040,19:1006,20:924,21:906,22:845,23:779},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7151544,longitude:-74.0165528}},{id:"P208360494",name:"The Queen Elizabeth II September 11th Garden",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":98,"taxi-zone":87,precinct:1,"b-score":{0:468,1:296,2:214,3:137,4:128,5:58,6:143,7:125,8:231,9:277,10:341,11:437,12:463,13:472,14:516,15:521,16:515,17:833,18:902,19:924,20:923,21:903,22:920,23:780},"c-score":.9999999999999999,rating:1.5,location:{latitude:40.704797,longitude:-74.0093346}},{id:"P217722093",name:"J. Hood Wright Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1271,"taxi-zone":244,precinct:33,"b-score":{0:51,1:20,2:15,3:13,4:13,5:13,6:36,7:45,8:57,9:70,10:78,11:91,12:105,13:109,14:112,15:124,16:99,17:107,18:132,19:129,20:135,21:139,22:140,23:88},"c-score":.3926999617298125,rating:1.5,location:{latitude:40.8464722,longitude:-73.941255}},{id:"P218327131",name:"Verizon Plaza",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":456,"taxi-zone":100,precinct:14,"b-score":{0:84,1:75,2:46,3:40,4:29,5:19,6:34,7:42,8:67,9:68,10:71,11:75,12:90,13:95,14:124,15:128,16:125,17:167,18:235,19:235,20:235,21:244,22:240,23:177},"c-score":1,rating:1.5,location:{latitude:40.7548157,longitude:-73.9851583}},{id:"P219612698",name:"Finn Square",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":125,"taxi-zone":231,precinct:1,"b-score":{0:443,1:285,2:211,3:114,4:90,5:55,6:61,7:89,8:155,9:194,10:222,11:371,12:416,13:414,14:416,15:410,16:405,17:375,18:480,19:485,20:490,21:499,22:563,23:533},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7186426,longitude:-74.0068689}},{id:"P221922480",name:"Riverside Park South",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":357,"taxi-zone":143,precinct:20,"b-score":{0:69,1:39,2:28,3:18,4:18,5:16,6:43,7:74,8:273,9:291,10:242,11:249,12:237,13:240,14:236,15:193,16:159,17:162,18:147,19:123,20:113,21:115,22:112,23:130},"c-score":.36388569970659523,rating:1.5,location:{latitude:40.7772231,longitude:-73.9905567}},{id:"P224028029",name:"132nd Street Block Association Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1242,"taxi-zone":42,precinct:32,"b-score":{0:216,1:99,2:54,3:37,4:46,5:48,6:177,7:268,8:304,9:320,10:301,11:309,12:317,13:320,14:318,15:340,16:605,17:728,18:718,19:600,20:555,21:547,22:501,23:342},"c-score":.5270044010715652,rating:1.5,location:{latitude:40.8123187,longitude:-73.943153}},{id:"P224029303",name:"Rev. Linnette C Williamson Memorial Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1243,"taxi-zone":42,precinct:32,"b-score":{0:216,1:99,2:54,3:37,4:46,5:48,6:177,7:268,8:304,9:320,10:301,11:309,12:317,13:320,14:318,15:340,16:605,17:728,18:718,19:600,20:555,21:547,22:501,23:342},"c-score":.5270044010715652,rating:1.5,location:{latitude:40.8094612,longitude:-73.9429209}},{id:"P224031776",name:"Collyer Brothers Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1292,"taxi-zone":42,precinct:32,"b-score":{0:216,1:99,2:54,3:37,4:46,5:48,6:177,7:268,8:304,9:320,10:301,11:309,12:317,13:320,14:318,15:340,16:605,17:728,18:718,19:600,20:555,21:547,22:501,23:342},"c-score":.5302651325662832,rating:1.5,location:{latitude:40.8085313,longitude:-73.9410487}},{id:"P224034804",name:"A Philip Randolph Square",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1061,"taxi-zone":41,precinct:28,"b-score":{0:91,1:75,2:48,3:38,4:26,5:18,6:49,7:45,8:62,9:75,10:80,11:96,12:121,13:128,14:135,15:141,16:135,17:148,18:143,19:159,20:151,21:158,22:177,23:150},"c-score":.4653256155121827,rating:1.5,location:{latitude:40.8038286,longitude:-73.952422}},{id:"P225132539",name:"Dr. Ronald E. McNair Playground",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1339,"taxi-zone":74,precinct:25,"b-score":{0:50,1:50,2:24,3:19,4:15,5:6,6:8,7:17,8:17,9:17,10:23,11:25,12:31,13:35,14:41,15:38,16:37,17:37,18:43,19:58,20:69,21:79,22:83,23:81},"c-score":.6253268911851002,rating:1.5,location:{latitude:40.8025387,longitude:-73.9381332}},{id:"P225134048",name:"Dream Street Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1384,"taxi-zone":74,precinct:25,"b-score":{0:50,1:50,2:24,3:19,4:15,5:6,6:8,7:17,8:17,9:17,10:23,11:25,12:31,13:35,14:41,15:38,16:37,17:37,18:43,19:58,20:69,21:79,22:83,23:81},"c-score":.6253268911851002,rating:1.5,location:{latitude:40.8027407,longitude:-73.9350402}},{id:"P225134049",name:"Harlem Art Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1340,"taxi-zone":74,precinct:25,"b-score":{0:50,1:50,2:24,3:19,4:15,5:6,6:8,7:17,8:17,9:17,10:23,11:25,12:31,13:35,14:41,15:38,16:37,17:37,18:43,19:58,20:69,21:79,22:83,23:81},"c-score":.8834417208604302,rating:1.5,location:{latitude:40.8010442,longitude:-73.9388073}},{id:"P225135028",name:"Wagner Houses Pool",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1431,"taxi-zone":74,precinct:25,"b-score":{0:50,1:50,2:24,3:19,4:15,5:6,6:8,7:17,8:17,9:17,10:23,11:25,12:31,13:35,14:41,15:38,16:37,17:37,18:43,19:58,20:69,21:79,22:83,23:81},"c-score":.6253268911851002,rating:1.5,location:{latitude:40.8016837,longitude:-73.9325907}},{id:"P225143097",name:"Martin Luther King Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1106,"taxi-zone":41,precinct:28,"b-score":{0:91,1:75,2:48,3:38,4:26,5:18,6:49,7:45,8:62,9:75,10:80,11:96,12:121,13:128,14:135,15:141,16:135,17:148,18:143,19:159,20:151,21:158,22:177,23:150},"c-score":.4653256155121827,rating:1.5,location:{latitude:40.8002087,longitude:-73.9503857}},{id:"P225159200",name:"Hancock Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1058,"taxi-zone":41,precinct:28,"b-score":{0:91,1:75,2:48,3:38,4:26,5:18,6:49,7:45,8:62,9:75,10:80,11:96,12:121,13:128,14:135,15:141,16:135,17:148,18:143,19:159,20:151,21:158,22:177,23:150},"c-score":.4653256155121827,rating:1.5,location:{latitude:40.8095436,longitude:-73.9532979}},{id:"P225171034",name:"Peter Minuit Playground",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1156,"taxi-zone":75,precinct:23,"b-score":{0:88,1:83,2:70,3:33,4:31,5:33,6:76,7:64,8:68,9:82,10:66,11:67,12:71,13:72,14:73,15:81,16:66,17:68,18:81,19:100,20:107,21:123,22:136,23:138},"c-score":.5149971297359357,rating:1.5,location:{latitude:40.7947722,longitude:-73.9472299}},{id:"P225173496",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1428,"taxi-zone":74,precinct:25,"b-score":{0:50,1:50,2:24,3:19,4:15,5:6,6:8,7:17,8:17,9:17,10:23,11:25,12:31,13:35,14:41,15:38,16:37,17:37,18:43,19:58,20:69,21:79,22:83,23:81},"c-score":.6253268911851002,rating:1.5,location:{latitude:40.8063252,longitude:-73.9344249}},{id:"P225173571",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1427,"taxi-zone":74,precinct:25,"b-score":{0:50,1:50,2:24,3:19,4:15,5:6,6:8,7:17,8:17,9:17,10:23,11:25,12:31,13:35,14:41,15:38,16:37,17:37,18:43,19:58,20:69,21:79,22:83,23:81},"c-score":.6253268911851002,rating:1.5,location:{latitude:40.8078192,longitude:-73.9346167}},{id:"P225173572",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1382,"taxi-zone":74,precinct:25,"b-score":{0:50,1:50,2:24,3:19,4:15,5:6,6:8,7:17,8:17,9:17,10:23,11:25,12:31,13:35,14:41,15:38,16:37,17:37,18:43,19:58,20:69,21:79,22:83,23:81},"c-score":.6253268911851002,rating:1.5,location:{latitude:40.8069688,longitude:-73.9353248}},{id:"P225173799",name:"Each One Teach One",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1428,"taxi-zone":74,precinct:25,"b-score":{0:50,1:50,2:24,3:19,4:15,5:6,6:8,7:17,8:17,9:17,10:23,11:25,12:31,13:35,14:41,15:38,16:37,17:37,18:43,19:58,20:69,21:79,22:83,23:81},"c-score":.6253268911851002,rating:1.5,location:{latitude:40.8071736,longitude:-73.9345657}},{id:"P225188061",name:"Mae Grant Playground",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1111,"taxi-zone":75,precinct:23,"b-score":{0:88,1:83,2:70,3:33,4:31,5:33,6:76,7:64,8:68,9:82,10:66,11:67,12:71,13:72,14:73,15:81,16:66,17:68,18:81,19:100,20:107,21:123,22:136,23:138},"c-score":.5149971297359357,rating:1.5,location:{latitude:40.7924257,longitude:-73.9494365}},{id:"P225188879",name:"Sunshine Playground",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1160,"taxi-zone":75,precinct:23,"b-score":{0:88,1:83,2:70,3:33,4:31,5:33,6:76,7:64,8:68,9:82,10:66,11:67,12:71,13:72,14:73,15:81,16:66,17:68,18:81,19:100,20:107,21:123,22:136,23:138},"c-score":.5149971297359357,rating:1.5,location:{latitude:40.7884898,longitude:-73.9478109}},{id:"P225188968",name:"Cherry Tree Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1161,"taxi-zone":75,precinct:23,"b-score":{0:88,1:83,2:70,3:33,4:31,5:33,6:76,7:64,8:68,9:82,10:66,11:67,12:71,13:72,14:73,15:81,16:66,17:68,18:81,19:100,20:107,21:123,22:136,23:138},"c-score":.5149971297359357,rating:1.5,location:{latitude:40.7872445,longitude:-73.9471949}},{id:"P225189359",name:"White Playground",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1205,"taxi-zone":75,precinct:23,"b-score":{0:88,1:83,2:70,3:33,4:31,5:33,6:76,7:64,8:68,9:82,10:66,11:67,12:71,13:72,14:73,15:81,16:66,17:68,18:81,19:100,20:107,21:123,22:136,23:138},"c-score":.5149971297359357,rating:1.5,location:{latitude:40.7916462,longitude:-73.9458897}},{id:"P225189391",name:"103rd Street Community Garden",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1159,"taxi-zone":75,precinct:23,"b-score":{0:88,1:83,2:70,3:33,4:31,5:33,6:76,7:64,8:68,9:82,10:66,11:67,12:71,13:72,14:73,15:81,16:66,17:68,18:81,19:100,20:107,21:123,22:136,23:138},"c-score":.5149971297359357,rating:1.5,location:{latitude:40.7909291,longitude:-73.9486547}},{id:"P225189513",name:"Poor Richard's Playground",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1253,"taxi-zone":75,precinct:23,"b-score":{0:88,1:83,2:70,3:33,4:31,5:33,6:76,7:64,8:68,9:82,10:66,11:67,12:71,13:72,14:73,15:81,16:66,17:68,18:81,19:100,20:107,21:123,22:136,23:138},"c-score":.5149971297359357,rating:1.5,location:{latitude:40.7926185,longitude:-73.9426331}},{id:"P225190178",name:"Marx Brothers Playground",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1209,"taxi-zone":75,precinct:23,"b-score":{0:88,1:83,2:70,3:33,4:31,5:33,6:76,7:64,8:68,9:82,10:66,11:67,12:71,13:72,14:73,15:81,16:66,17:68,18:81,19:100,20:107,21:123,22:136,23:138},"c-score":.5149971297359357,rating:1.5,location:{latitude:40.7842492,longitude:-73.9459882}},{id:"P225190195",name:"Stanley Isaacs Courts",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1258,"taxi-zone":75,precinct:23,"b-score":{0:88,1:83,2:70,3:33,4:31,5:33,6:76,7:64,8:68,9:82,10:66,11:67,12:71,13:72,14:73,15:81,16:66,17:68,18:81,19:100,20:107,21:123,22:136,23:138},"c-score":.5149971297359357,rating:1.5,location:{latitude:40.7834698,longitude:-73.9441011}},{id:"P225190397",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1257,"taxi-zone":75,precinct:23,"b-score":{0:88,1:83,2:70,3:33,4:31,5:33,6:76,7:64,8:68,9:82,10:66,11:67,12:71,13:72,14:73,15:81,16:66,17:68,18:81,19:100,20:107,21:123,22:136,23:138},"c-score":.5149971297359357,rating:1.5,location:{latitude:40.7853549,longitude:-73.9427366}},{id:"P225190636",name:"Playground 103",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1348,"taxi-zone":75,precinct:23,"b-score":{0:88,1:83,2:70,3:33,4:31,5:33,6:76,7:64,8:68,9:82,10:66,11:67,12:71,13:72,14:73,15:81,16:66,17:68,18:81,19:100,20:107,21:123,22:136,23:138},"c-score":.5149971297359357,rating:1.5,location:{latitude:40.7869524,longitude:-73.9390245}},{id:"P225190643",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1346,"taxi-zone":75,precinct:23,"b-score":{0:88,1:83,2:70,3:33,4:31,5:33,6:76,7:64,8:68,9:82,10:66,11:67,12:71,13:72,14:73,15:81,16:66,17:68,18:81,19:100,20:107,21:123,22:136,23:138},"c-score":.5149971297359357,rating:1.5,location:{latitude:40.7893497,longitude:-73.9382443}},{id:"P225191605",name:"Harlem River Drive Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1423,"taxi-zone":74,precinct:25,"b-score":{0:50,1:50,2:24,3:19,4:15,5:6,6:8,7:17,8:17,9:17,10:23,11:25,12:31,13:35,14:41,15:38,16:37,17:37,18:43,19:58,20:69,21:79,22:83,23:81},"c-score":.6253268911851002,rating:1.5,location:{latitude:40.8148592,longitude:-73.9343099}},{id:"P226010200",name:"Jacob K. Javits Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1353,"taxi-zone":243,precinct:34,"b-score":{0:9,1:14,2:21,3:7,4:6,5:3,6:9,7:6,8:6,9:6,10:8,11:10,12:11,13:11,14:10,15:11,16:12,17:16,18:19,19:22,20:24,21:26,22:24,23:22},"c-score":.9639819909954978,rating:1.5,location:{latitude:40.8589557,longitude:-73.9349368}},{id:"P237054245",name:"Plaza de las Americas",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1315,"taxi-zone":244,precinct:33,"b-score":{0:51,1:20,2:15,3:13,4:13,5:13,6:36,7:45,8:57,9:70,10:78,11:91,12:105,13:109,14:112,15:124,16:99,17:107,18:132,19:129,20:135,21:139,22:140,23:88},"c-score":.3926999617298125,rating:1.5,location:{latitude:40.8460987,longitude:-73.9381037}},{id:"P237397736",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":392,"taxi-zone":148,precinct:7,"b-score":{0:88,1:72,2:61,3:53,4:48,5:18,6:43,7:64,8:94,9:96,10:109,11:119,12:119,13:118,14:119,15:120,16:121,17:121,18:120,19:122,20:122,21:122,22:119,23:120},"c-score":.4246954330909555,rating:1.5,location:{latitude:40.7145611,longitude:-73.9910703}},{id:"P239982768",name:"LentSpace",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":157,"taxi-zone":125,precinct:1,"b-score":{0:98,1:56,2:24,3:13,4:16,5:45,6:198,7:498,8:379,9:435,10:831,11:911,12:1095,13:1187,14:1306,15:1304,16:921,17:742,18:768,19:572,20:543,21:459,22:424,23:217},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7227168,longitude:-74.0057708}},{id:"P239988106",name:"Spring Street Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":156,"taxi-zone":125,precinct:6,"b-score":{0:98,1:56,2:24,3:13,4:16,5:45,6:198,7:498,8:379,9:435,10:831,11:911,12:1095,13:1187,14:1306,15:1304,16:921,17:742,18:768,19:572,20:543,21:459,22:424,23:217},"c-score":.5142571285642822,rating:1.5,location:{latitude:40.724913,longitude:-74.0044414}},{id:"P239988114",name:"Minetta Triangle",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":190,"taxi-zone":114,precinct:6,"b-score":{0:79,1:53,2:25,3:17,4:17,5:41,6:168,7:190,8:322,9:433,10:459,11:476,12:481,13:487,14:493,15:485,16:412,17:431,18:407,19:355,20:320,21:329,22:319,23:200},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.7298853,longitude:-74.0018589}},{id:"P239988118",name:"Father Fagan Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":192,"taxi-zone":125,precinct:6,"b-score":{0:98,1:56,2:24,3:13,4:16,5:45,6:198,7:498,8:379,9:435,10:831,11:911,12:1095,13:1187,14:1306,15:1304,16:921,17:742,18:768,19:572,20:543,21:459,22:424,23:217},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.7267003,longitude:-74.0033094}},{id:"P239988120",name:"Jefferson Market Garden",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":226,"taxi-zone":249,precinct:6,"b-score":{0:58,1:36,2:26,3:16,4:18,5:35,6:87,7:93,8:119,9:125,10:129,11:130,12:142,13:141,14:144,15:148,16:145,17:198,18:187,19:199,20:196,21:191,22:193,23:106},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.7344325,longitude:-73.9995026}},{id:"P241883186",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":732,"taxi-zone":238,precinct:24,"b-score":{0:396,1:289,2:117,3:84,4:79,5:112,6:385,7:443,8:470,9:525,10:596,11:724,12:763,13:801,14:791,15:834,16:803,17:840,18:1072,19:997,20:975,21:964,22:993,23:808},"c-score":.4165709911978569,rating:1.5,location:{latitude:40.7954341,longitude:-73.9721055}},{id:"P242113355",name:"Playground One",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":277,"taxi-zone":45,precinct:5,"b-score":{0:407,1:224,2:78,3:38,4:71,5:190,6:509,7:1353,8:1776,9:1764,10:1835,11:1856,12:1914,13:1911,14:2582,15:2807,16:2520,17:2861,18:2906,19:1952,20:1497,21:1451,22:952,23:497},"c-score":.37779850746268656,rating:1.5,location:{latitude:40.7122529,longitude:-73.9974005}},{id:"P244977216",name:"William E. Passannante Ballfield",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":191,"taxi-zone":114,precinct:6,"b-score":{0:79,1:53,2:25,3:17,4:17,5:41,6:168,7:190,8:322,9:433,10:459,11:476,12:481,13:487,14:493,15:485,16:412,17:431,18:407,19:355,20:320,21:329,22:319,23:200},"c-score":.6358179089544772,rating:1.5,location:{latitude:40.728579,longitude:-74.0022425}},{id:"P244978444",name:"Winston Churchill Square",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":190,"taxi-zone":249,precinct:6,"b-score":{0:58,1:36,2:26,3:16,4:18,5:35,6:87,7:93,8:119,9:125,10:129,11:130,12:142,13:141,14:144,15:148,16:145,17:198,18:187,19:199,20:196,21:191,22:193,23:106},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.7298571,longitude:-74.0024499}},{id:"P246964616",name:"Booker T Washington Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":859,"taxi-zone":24,precinct:24,"b-score":{0:574,1:281,2:240,3:118,4:163,5:241,6:1292,7:1081,8:1092,9:1276,10:1347,11:1364,12:1368,13:1393,14:1449,15:1448,16:1444,17:1489,18:1646,19:1649,20:1532,21:1558,22:1433,23:1037},"c-score":.4165709911978569,rating:1.5,location:{latitude:40.8009598,longitude:-73.9637796}},{id:"P249665058",name:"Playground of the Americas",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":192,"taxi-zone":125,precinct:6,"b-score":{0:98,1:56,2:24,3:13,4:16,5:45,6:198,7:498,8:379,9:435,10:831,11:911,12:1095,13:1187,14:1306,15:1304,16:921,17:742,18:768,19:572,20:543,21:459,22:424,23:217},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.728006,longitude:-74.0026728}},{id:"P250049345",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":59,"taxi-zone":231,precinct:1,"b-score":{0:443,1:285,2:211,3:114,4:90,5:55,6:61,7:89,8:155,9:194,10:222,11:371,12:416,13:414,14:416,15:410,16:405,17:375,18:480,19:485,20:490,21:499,22:563,23:533},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7195161,longitude:-74.0109504}},{id:"P250051493",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":60,"taxi-zone":231,precinct:1,"b-score":{0:443,1:285,2:211,3:114,4:90,5:55,6:61,7:89,8:155,9:194,10:222,11:371,12:416,13:414,14:416,15:410,16:405,17:375,18:480,19:485,20:490,21:499,22:563,23:533},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7178178,longitude:-74.0112569}},{id:"P250265505",name:"Hartman Triangle",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":569,"taxi-zone":4,precinct:9,"b-score":{0:259,1:207,2:104,3:46,4:45,5:79,6:153,7:390,8:897,9:935,10:1024,11:1037,12:1248,13:1260,14:1480,15:1553,16:1512,17:1751,18:1747,19:1595,20:1162,21:1121,22:984,23:577},"c-score":.48990623804056643,rating:1.5,location:{latitude:40.7207559,longitude:-73.9806992}},{id:"P252823151",name:"Straus Square",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":392,"taxi-zone":232,precinct:7,"b-score":{0:299,1:167,2:103,3:77,4:42,5:20,6:92,7:88,8:126,9:161,10:262,11:330,12:400,13:412,14:433,15:443,16:398,17:518,18:578,19:537,20:472,21:455,22:473,23:463},"c-score":.4246954330909555,rating:1.5,location:{latitude:40.7142374,longitude:-73.9899111}},{id:"P254594895",name:"Audubon Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1317,"taxi-zone":244,precinct:33,"b-score":{0:51,1:20,2:15,3:13,4:13,5:13,6:36,7:45,8:57,9:70,10:78,11:91,12:105,13:109,14:112,15:124,16:99,17:107,18:132,19:129,20:135,21:139,22:140,23:88},"c-score":.3926999617298125,rating:1.5,location:{latitude:40.8416095,longitude:-73.9381178}},{id:"P257389723",name:"Twentyfour Sycamores Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1004,"taxi-zone":140,precinct:19,"b-score":{0:149,1:166,2:112,3:65,4:68,5:70,6:108,7:275,8:236,9:184,10:178,11:179,12:187,13:189,14:205,15:269,16:265,17:283,18:274,19:262,20:267,21:274,22:237,23:222},"c-score":.7237689756346473,rating:1.5,location:{latitude:40.7594475,longitude:-73.9586677}},{id:"P257671578",name:"Penn South Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":258,"taxi-zone":68,precinct:10,"b-score":{0:317,1:195,2:130,3:66,4:78,5:112,6:207,7:304,8:534,9:501,10:519,11:598,12:693,13:697,14:827,15:843,16:831,17:863,18:860,19:818,20:837,21:828,22:729,23:552},"c-score":.35804152315346344,rating:1.5,location:{latitude:40.7474929,longitude:-73.9987079}},{id:"P264003876",name:"Paley Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":700,"taxi-zone":161,precinct:18,"b-score":{0:333,1:225,2:114,3:86,4:60,5:35,6:65,7:77,8:110,9:176,10:234,11:287,12:268,13:276,14:372,15:371,16:375,17:539,18:602,19:619,20:582,21:564,22:519,23:496},"c-score":.7263601862482459,rating:1.5,location:{latitude:40.7603437,longitude:-73.9750748}},{id:"P264851981",name:"Big Screen Plaza1",type:"park",address:null,internet_access:null,wheelchair_accessible:"yes",opening_hours:"06:00-23:59","grid-id":374,"taxi-zone":186,precinct:14,"b-score":{0:151,1:113,2:67,3:43,4:60,5:78,6:513,7:508,8:652,9:602,10:621,11:621,12:622,13:618,14:632,15:642,16:586,17:658,18:647,19:614,20:555,21:630,22:449,23:326},"c-score":1,rating:1.5,location:{latitude:40.7472248,longitude:-73.990373}},{id:"P266077859",name:"Hells Kitchen Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":325,"taxi-zone":48,precinct:18,"b-score":{0:238,1:164,2:54,3:42,4:26,5:117,6:490,7:954,8:901,9:1100,10:1494,11:2372,12:2451,13:2433,14:2550,15:2580,16:2431,17:2709,18:2543,19:1958,20:1476,21:1376,22:1153,23:757},"c-score":.897448724362181,rating:1.5,location:{latitude:40.7629731,longitude:-73.9925633}},{id:"P266097823",name:"Matthews-Palmer Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":326,"taxi-zone":48,precinct:18,"b-score":{0:238,1:164,2:54,3:42,4:26,5:117,6:490,7:954,8:901,9:1100,10:1494,11:2372,12:2451,13:2433,14:2550,15:2580,16:2431,17:2709,18:2543,19:1958,20:1476,21:1376,22:1153,23:757},"c-score":.9449724862431216,rating:1.5,location:{latitude:40.7613978,longitude:-73.9927341}},{id:"P266113539",name:"Ramone Aponte Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":408,"taxi-zone":48,precinct:18,"b-score":{0:238,1:164,2:54,3:42,4:26,5:117,6:490,7:954,8:901,9:1100,10:1494,11:2372,12:2451,13:2433,14:2550,15:2580,16:2431,17:2709,18:2543,19:1958,20:1476,21:1376,22:1153,23:757},"c-score":.7263601862482459,rating:1.5,location:{latitude:40.7614489,longitude:-73.9893455}},{id:"P270791455",name:"Freeman Plaza West",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":122,"taxi-zone":125,precinct:1,"b-score":{0:98,1:56,2:24,3:13,4:16,5:45,6:198,7:498,8:379,9:435,10:831,11:911,12:1095,13:1187,14:1306,15:1304,16:921,17:742,18:768,19:572,20:543,21:459,22:424,23:217},"c-score":.9999999999999999,rating:1.5,location:{latitude:40.7242344,longitude:-74.0074749}},{id:"P281499420",name:"Lower East Side Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":516,"taxi-zone":79,precinct:9,"b-score":{0:171,1:196,2:161,3:143,4:101,5:135,6:331,7:170,8:160,9:185,10:207,11:233,12:246,13:257,14:263,15:264,16:254,17:258,18:234,19:235,20:231,21:596,22:451,23:366},"c-score":.48990623804056643,rating:1.5,location:{latitude:40.7293823,longitude:-73.9829156}},{id:"P287462475",name:"Bellevue South Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":608,"taxi-zone":137,precinct:13,"b-score":{0:622,1:398,2:287,3:232,4:206,5:117,6:185,7:420,8:346,9:532,10:457,11:456,12:596,13:587,14:779,15:784,16:780,17:920,18:1284,19:1286,20:1286,21:1310,22:1301,23:1048},"c-score":.6499952162265595,rating:1.5,location:{latitude:40.7400387,longitude:-73.9780496}},{id:"P292727035",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":164,"taxi-zone":209,precinct:1,"b-score":{0:302,1:160,2:139,3:117,4:104,5:123,6:329,7:554,8:629,9:730,10:745,11:783,12:1106,13:1121,14:1193,15:1172,16:1121,17:1315,18:1304,19:1241,20:1174,21:1065,22:861,23:637},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7111594,longitude:-74.0058691}},{id:"P293720019",name:"Balsley Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":449,"taxi-zone":48,precinct:18,"b-score":{0:238,1:164,2:54,3:42,4:26,5:117,6:490,7:954,8:901,9:1100,10:1494,11:2372,12:2451,13:2433,14:2550,15:2580,16:2431,17:2709,18:2543,19:1958,20:1476,21:1376,22:1153,23:757},"c-score":.7263601862482459,rating:1.5,location:{latitude:40.7674642,longitude:-73.9856951}},{id:"P295969929",name:"St. Catherine's Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":960,"taxi-zone":141,precinct:19,"b-score":{0:158,1:191,2:95,3:68,4:76,5:111,6:271,7:295,8:305,9:341,10:327,11:330,12:332,13:372,14:399,15:401,16:399,17:401,18:405,19:399,20:357,21:336,22:321,23:264},"c-score":.7237689756346473,rating:1.5,location:{latitude:40.7652136,longitude:-73.9587494}},{id:"P304129981",name:"Montgomery Triangle Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":478,"taxi-zone":232,precinct:7,"b-score":{0:299,1:167,2:103,3:77,4:42,5:20,6:92,7:88,8:126,9:161,10:262,11:330,12:400,13:412,14:433,15:443,16:398,17:518,18:578,19:537,20:472,21:455,22:473,23:463},"c-score":.4246954330909555,rating:1.5,location:{latitude:40.7142248,longitude:-73.9851113}},{id:"P317355661",name:"Henry M. Jackson Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":572,"taxi-zone":232,precinct:7,"b-score":{0:299,1:167,2:103,3:77,4:42,5:20,6:92,7:88,8:126,9:161,10:262,11:330,12:400,13:412,14:433,15:443,16:398,17:518,18:578,19:537,20:472,21:455,22:473,23:463},"c-score":.4246954330909555,rating:1.5,location:{latitude:40.7139646,longitude:-73.981496}},{id:"P318328998",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":981,"taxi-zone":41,precinct:28,"b-score":{0:91,1:75,2:48,3:38,4:26,5:18,6:49,7:45,8:62,9:75,10:80,11:96,12:121,13:128,14:135,15:141,16:135,17:148,18:143,19:159,20:151,21:158,22:177,23:150},"c-score":.4653256155121827,rating:1.5,location:{latitude:40.8005903,longitude:-73.9581806}},{id:"P318329003",name:"Roosevelt Triangle",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1015,"taxi-zone":166,precinct:26,"b-score":{0:30,1:61,2:27,3:15,4:15,5:17,6:9,7:5,8:5,9:7,10:7,11:5,12:5,13:6,14:6,15:6,16:6,17:4,18:3,19:4,20:4,21:5,22:5,23:6},"c-score":.261656461283327,rating:1.5,location:{latitude:40.8113293,longitude:-73.9544008}},{id:"P324750157",name:"First Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":429,"taxi-zone":79,precinct:9,"b-score":{0:171,1:196,2:161,3:143,4:101,5:135,6:331,7:170,8:160,9:185,10:207,11:233,12:246,13:257,14:263,15:264,16:254,17:258,18:234,19:235,20:231,21:596,22:451,23:366},"c-score":.48990623804056643,rating:1.5,location:{latitude:40.7234173,longitude:-73.9892626}},{id:"P324975287",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":199,"taxi-zone":45,precinct:5,"b-score":{0:407,1:224,2:78,3:38,4:71,5:190,6:509,7:1353,8:1776,9:1764,10:1835,11:1856,12:1914,13:1911,14:2582,15:2807,16:2520,17:2861,18:2906,19:1952,20:1497,21:1451,22:952,23:497},"c-score":.37779850746268656,rating:1.5,location:{latitude:40.714787,longitude:-74.001878}},{id:"P324975291",name:"Canal Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":87,"taxi-zone":231,precinct:1,"b-score":{0:443,1:285,2:211,3:114,4:90,5:55,6:61,7:89,8:155,9:194,10:222,11:371,12:416,13:414,14:416,15:410,16:405,17:375,18:480,19:485,20:490,21:499,22:563,23:533},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7254013,longitude:-74.0105312}},{id:"P325008929",name:"Alfred E. Smith Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":278,"taxi-zone":45,precinct:5,"b-score":{0:407,1:224,2:78,3:38,4:71,5:190,6:509,7:1353,8:1776,9:1764,10:1835,11:1856,12:1914,13:1911,14:2582,15:2807,16:2520,17:2861,18:2906,19:1952,20:1497,21:1451,22:952,23:497},"c-score":.37779850746268656,rating:1.5,location:{latitude:40.710613,longitude:-73.9974893}},{id:"P325008930",name:"Tanahey Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":315,"taxi-zone":45,precinct:5,"b-score":{0:407,1:224,2:78,3:38,4:71,5:190,6:509,7:1353,8:1776,9:1764,10:1835,11:1856,12:1914,13:1911,14:2582,15:2807,16:2520,17:2861,18:2906,19:1952,20:1497,21:1451,22:952,23:497},"c-score":.37779850746268656,rating:1.5,location:{latitude:40.7101263,longitude:-73.9953543}},{id:"P329041506",name:"Freeman Plaza East",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":122,"taxi-zone":125,precinct:1,"b-score":{0:98,1:56,2:24,3:13,4:16,5:45,6:198,7:498,8:379,9:435,10:831,11:911,12:1095,13:1187,14:1306,15:1304,16:921,17:742,18:768,19:572,20:543,21:459,22:424,23:217},"c-score":.9999999999999999,rating:1.5,location:{latitude:40.7240917,longitude:-74.0065116}},{id:"P329041537",name:"Freeman Plaza North",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":122,"taxi-zone":125,precinct:1,"b-score":{0:98,1:56,2:24,3:13,4:16,5:45,6:198,7:498,8:379,9:435,10:831,11:911,12:1095,13:1187,14:1306,15:1304,16:921,17:742,18:768,19:572,20:543,21:459,22:424,23:217},"c-score":.9999999999999999,rating:1.5,location:{latitude:40.7243541,longitude:-74.0065666}},{id:"P329988114",name:"Verdi Square",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":536,"taxi-zone":143,precinct:20,"b-score":{0:69,1:39,2:28,3:18,4:18,5:16,6:43,7:74,8:273,9:291,10:242,11:249,12:237,13:240,14:236,15:193,16:159,17:162,18:147,19:123,20:113,21:115,22:112,23:130},"c-score":.36388569970659523,rating:1.5,location:{latitude:40.7791313,longitude:-73.9816274}},{id:"P334715965",name:"Poses Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":878,"taxi-zone":237,precinct:19,"b-score":{0:434,1:286,2:183,3:154,4:154,5:181,6:214,7:535,8:438,9:481,10:550,11:917,12:1090,13:1105,14:1108,15:1152,16:1269,17:1289,18:1141,19:1182,20:1047,21:996,22:1052,23:780},"c-score":.7237689756346473,rating:1.5,location:{latitude:40.7674465,longitude:-73.9635001}},{id:"P343765233",name:"Peter Detmold Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":885,"taxi-zone":229,precinct:17,"b-score":{0:111,1:102,2:38,3:27,4:29,5:42,6:146,7:267,8:231,9:393,10:446,11:492,12:531,13:537,14:690,15:723,16:702,17:777,18:892,19:870,20:800,21:567,22:501,23:258},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7536627,longitude:-73.9635157}},{id:"P351201923",name:"Tramway Plaza",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":881,"taxi-zone":141,precinct:17,"b-score":{0:158,1:191,2:95,3:68,4:76,5:111,6:271,7:295,8:305,9:341,10:327,11:330,12:332,13:372,14:399,15:401,16:399,17:401,18:405,19:399,20:357,21:336,22:321,23:264},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7609599,longitude:-73.9644278}},{id:"P353000933",name:"Ruppert Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1117,"taxi-zone":263,precinct:19,"b-score":{0:214,1:125,2:86,3:48,4:55,5:55,6:241,7:169,8:194,9:247,10:385,11:503,12:520,13:530,14:539,15:531,16:521,17:530,18:514,19:496,20:445,21:451,22:446,23:528},"c-score":.7237689756346473,rating:1.5,location:{latitude:40.7809662,longitude:-73.9501489}},{id:"P353133685",name:"Park Avenue Malls",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1071,"taxi-zone":75,precinct:23,"b-score":{0:88,1:83,2:70,3:33,4:31,5:33,6:76,7:64,8:68,9:82,10:66,11:67,12:71,13:72,14:73,15:81,16:66,17:68,18:81,19:100,20:107,21:123,22:136,23:138},"c-score":.5149971297359357,rating:1.5,location:{latitude:40.7869307,longitude:-73.9522659}},{id:"P357523569",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1182,"taxi-zone":244,precinct:33,"b-score":{0:51,1:20,2:15,3:13,4:13,5:13,6:36,7:45,8:57,9:70,10:78,11:91,12:105,13:109,14:112,15:124,16:99,17:107,18:132,19:129,20:135,21:139,22:140,23:88},"c-score":.3926999617298125,rating:1.5,location:{latitude:40.8339778,longitude:-73.9452121}},{id:"P362684406",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1020,"taxi-zone":41,precinct:28,"b-score":{0:91,1:75,2:48,3:38,4:26,5:18,6:49,7:45,8:62,9:75,10:80,11:96,12:121,13:128,14:135,15:141,16:135,17:148,18:143,19:159,20:151,21:158,22:177,23:150},"c-score":.4653256155121827,rating:1.5,location:{latitude:40.8033166,longitude:-73.954381}},{id:"P362826160",name:"Harlem Valley Garden",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1240,"taxi-zone":42,precinct:32,"b-score":{0:216,1:99,2:54,3:37,4:46,5:48,6:177,7:268,8:304,9:320,10:301,11:309,12:317,13:320,14:318,15:340,16:605,17:728,18:718,19:600,20:555,21:547,22:501,23:342},"c-score":.5270044010715652,rating:1.5,location:{latitude:40.8145685,longitude:-73.9435785}},{id:"P362827398",name:"Mandela Garden",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1101,"taxi-zone":42,precinct:28,"b-score":{0:216,1:99,2:54,3:37,4:46,5:48,6:177,7:268,8:304,9:320,10:301,11:309,12:317,13:320,14:318,15:340,16:605,17:728,18:718,19:600,20:555,21:547,22:501,23:342},"c-score":.4653256155121827,rating:1.5,location:{latitude:40.8107974,longitude:-73.9499718}},{id:"P371120098",name:"Chealsea Green",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":298,"taxi-zone":90,precinct:13,"b-score":{0:99,1:80,2:46,3:31,4:36,5:64,6:141,7:436,8:480,9:519,10:519,11:530,12:540,13:532,14:600,15:722,16:674,17:792,18:785,19:689,20:525,21:509,22:403,23:273},"c-score":.6499952162265595,rating:1.5,location:{latitude:40.7415933,longitude:-73.9960607}},{id:"P372721441",name:"Teardrop Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":13,"taxi-zone":13,precinct:1,"b-score":{0:474,1:359,2:248,3:192,4:147,5:108,6:452,7:449,8:356,9:595,10:623,11:716,12:804,13:827,14:867,15:879,16:886,17:1116,18:1040,19:1006,20:924,21:906,22:845,23:779},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7167736,longitude:-74.0156166}},{id:"P375369088",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"sunrise-sunset","grid-id":130,"taxi-zone":87,precinct:1,"b-score":{0:468,1:296,2:214,3:137,4:128,5:58,6:143,7:125,8:231,9:277,10:341,11:437,12:463,13:472,14:516,15:521,16:515,17:833,18:902,19:924,20:923,21:903,22:920,23:780},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7090264,longitude:-74.0080705}},{id:"P375369089",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"sunrise-sunset","grid-id":130,"taxi-zone":87,precinct:1,"b-score":{0:468,1:296,2:214,3:137,4:128,5:58,6:143,7:125,8:231,9:277,10:341,11:437,12:463,13:472,14:516,15:521,16:515,17:833,18:902,19:924,20:923,21:903,22:920,23:780},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7091468,longitude:-74.0082314}},{id:"P376015439",name:"CU SIPA Commons",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":936,"taxi-zone":166,precinct:26,"b-score":{0:30,1:61,2:27,3:15,4:15,5:17,6:9,7:5,8:5,9:7,10:7,11:5,12:5,13:6,14:6,15:6,16:6,17:4,18:3,19:4,20:4,21:5,22:5,23:6},"c-score":.261656461283327,rating:1.5,location:{latitude:40.807298,longitude:-73.9599478}},{id:"P376015442",name:"CU SE Field",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":896,"taxi-zone":166,precinct:26,"b-score":{0:30,1:61,2:27,3:15,4:15,5:17,6:9,7:5,8:5,9:7,10:7,11:5,12:5,13:6,14:6,15:6,16:6,17:4,18:3,19:4,20:4,21:5,22:5,23:6},"c-score":.261656461283327,rating:1.5,location:{latitude:40.806367,longitude:-73.9623446}},{id:"P378359193",name:"Vincent F. Albano Jr. Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:"Mar 2-Oct 31: Mo-Su 06:00-21:00; Nov 1-Mar 1: Mo-Su 06:00-18:00","grid-id":607,"taxi-zone":137,precinct:13,"b-score":{0:622,1:398,2:287,3:232,4:206,5:117,6:185,7:420,8:346,9:532,10:457,11:456,12:596,13:587,14:779,15:784,16:780,17:920,18:1284,19:1286,20:1286,21:1310,22:1301,23:1048},"c-score":.6499952162265595,rating:1.5,location:{latitude:40.7419438,longitude:-73.9783848}},{id:"P378364365",name:"Peter's Field",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":560,"taxi-zone":107,precinct:13,"b-score":{0:69,1:71,2:26,3:19,4:16,5:20,6:40,7:68,8:66,9:110,10:111,11:117,12:121,13:127,14:146,15:145,16:144,17:180,18:181,19:163,20:150,21:146,22:144,23:103},"c-score":.6499952162265595,rating:1.5,location:{latitude:40.7361158,longitude:-73.9815688}},{id:"P379634622",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":81,"taxi-zone":158,precinct:6,"b-score":{0:250,1:120,2:70,3:42,4:45,5:38,6:103,7:175,8:347,9:393,10:486,11:520,12:628,13:628,14:640,15:642,16:668,17:683,18:552,19:551,20:524,21:523,22:535,23:554},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.736497,longitude:-74.0103959}},{id:"P379634625",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":82,"taxi-zone":158,precinct:6,"b-score":{0:250,1:120,2:70,3:42,4:45,5:38,6:103,7:175,8:347,9:393,10:486,11:520,12:628,13:628,14:640,15:642,16:668,17:683,18:552,19:551,20:524,21:523,22:535,23:554},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.7346149,longitude:-74.0105573}},{id:"P379657566",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":807,"taxi-zone":233,precinct:17,"b-score":{0:323,1:428,2:89,3:72,4:107,5:161,6:641,7:773,8:777,9:850,10:937,11:1029,12:1157,13:1252,14:1285,15:1382,16:1848,17:1974,18:2076,19:1984,20:1986,21:1984,22:1469,23:1006},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7526667,longitude:-73.9704924}},{id:"P379747570",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":807,"taxi-zone":233,precinct:17,"b-score":{0:323,1:428,2:89,3:72,4:107,5:161,6:641,7:773,8:777,9:850,10:937,11:1029,12:1157,13:1252,14:1285,15:1382,16:1848,17:1974,18:2076,19:1984,20:1986,21:1984,22:1469,23:1006},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7515363,longitude:-73.9697087}},{id:"P379749111",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":806,"taxi-zone":233,precinct:17,"b-score":{0:323,1:428,2:89,3:72,4:107,5:161,6:641,7:773,8:777,9:850,10:937,11:1029,12:1157,13:1252,14:1285,15:1382,16:1848,17:1974,18:2076,19:1984,20:1986,21:1984,22:1469,23:1006},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7535038,longitude:-73.9704538}},{id:"P379758354",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"24/7","grid-id":654,"taxi-zone":170,precinct:17,"b-score":{0:121,1:84,2:52,3:41,4:40,5:42,6:87,7:225,8:204,9:302,10:311,11:313,12:318,13:344,14:402,15:460,16:458,17:561,18:562,19:483,20:466,21:438,22:321,23:329},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7495206,longitude:-73.9760712}},{id:"P380425199",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":704,"taxi-zone":233,precinct:17,"b-score":{0:323,1:428,2:89,3:72,4:107,5:161,6:641,7:773,8:777,9:850,10:937,11:1029,12:1157,13:1252,14:1285,15:1382,16:1848,17:1974,18:2076,19:1984,20:1986,21:1984,22:1469,23:1006},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7516246,longitude:-73.9730606}},{id:"P385106972",name:"Ralph Bunche Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":809,"taxi-zone":233,precinct:17,"b-score":{0:323,1:428,2:89,3:72,4:107,5:161,6:641,7:773,8:777,9:850,10:937,11:1029,12:1157,13:1252,14:1285,15:1382,16:1848,17:1974,18:2076,19:1984,20:1986,21:1984,22:1469,23:1006},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7493256,longitude:-73.969745}},{id:"P395678163",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:"Mo-Su 08:00-sunset","grid-id":461,"taxi-zone":164,precinct:13,"b-score":{0:23,1:16,2:17,3:9,4:7,5:10,6:5,7:10,8:10,9:11,10:10,11:11,12:11,13:13,14:16,15:16,16:16,17:13,18:17,19:24,20:29,21:31,22:40,23:39},"c-score":.6499952162265595,rating:1.5,location:{latitude:40.7445517,longitude:-73.9862513}},{id:"P400780940",name:"Teardrop Park South",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":13,"taxi-zone":13,precinct:1,"b-score":{0:474,1:359,2:248,3:192,4:147,5:108,6:452,7:449,8:356,9:595,10:623,11:716,12:804,13:827,14:867,15:879,16:886,17:1116,18:1040,19:1006,20:924,21:906,22:845,23:779},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7157927,longitude:-74.0160302}},{id:"P400782867",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":34,"taxi-zone":13,precinct:1,"b-score":{0:474,1:359,2:248,3:192,4:147,5:108,6:452,7:449,8:356,9:595,10:623,11:716,12:804,13:827,14:867,15:879,16:886,17:1116,18:1040,19:1006,20:924,21:906,22:845,23:779},"c-score":.613287728026534,rating:1.5,location:{latitude:40.714576,longitude:-74.0139461}},{id:"P400782868",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":19,"taxi-zone":13,precinct:1,"b-score":{0:474,1:359,2:248,3:192,4:147,5:108,6:452,7:449,8:356,9:595,10:623,11:716,12:804,13:827,14:867,15:879,16:886,17:1116,18:1040,19:1006,20:924,21:906,22:845,23:779},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7063887,longitude:-74.0165613}},{id:"P400782869",name:"Vesey Green",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":14,"taxi-zone":13,precinct:1,"b-score":{0:474,1:359,2:248,3:192,4:147,5:108,6:452,7:449,8:356,9:595,10:623,11:716,12:804,13:827,14:867,15:879,16:886,17:1116,18:1040,19:1006,20:924,21:906,22:845,23:779},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7149552,longitude:-74.0166948}},{id:"P400782871",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":33,"taxi-zone":13,precinct:1,"b-score":{0:474,1:359,2:248,3:192,4:147,5:108,6:452,7:449,8:356,9:595,10:623,11:716,12:804,13:827,14:867,15:879,16:886,17:1116,18:1040,19:1006,20:924,21:906,22:845,23:779},"c-score":.613287728026534,rating:1.5,location:{latitude:40.71596,longitude:-74.0135378}},{id:"P400782872",name:"West Thames Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":17,"taxi-zone":13,precinct:1,"b-score":{0:474,1:359,2:248,3:192,4:147,5:108,6:452,7:449,8:356,9:595,10:623,11:716,12:804,13:827,14:867,15:879,16:886,17:1116,18:1040,19:1006,20:924,21:906,22:845,23:779},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7088371,longitude:-74.0157564}},{id:"P410310399",name:"Coleman Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":354,"taxi-zone":45,precinct:5,"b-score":{0:407,1:224,2:78,3:38,4:71,5:190,6:509,7:1353,8:1776,9:1764,10:1835,11:1856,12:1914,13:1911,14:2582,15:2807,16:2520,17:2861,18:2906,19:1952,20:1497,21:1451,22:952,23:497},"c-score":.37779850746268656,rating:1.5,location:{latitude:40.7111652,longitude:-73.9933311}},{id:"P413055246",name:"City Hall Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":128,"taxi-zone":231,precinct:1,"b-score":{0:443,1:285,2:211,3:114,4:90,5:55,6:61,7:89,8:155,9:194,10:222,11:371,12:416,13:414,14:416,15:410,16:405,17:375,18:480,19:485,20:490,21:499,22:563,23:533},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7128841,longitude:-74.0060845}},{id:"P427818536",name:"Central Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:"06:00-01:00","grid-id":869,"taxi-zone":43,precinct:22,"b-score":{0:406,1:220,2:172,3:132,4:120,5:74,6:206,7:372,8:606,9:686,10:768,11:806,12:865,13:895,14:966,15:940,16:938,17:1175,18:1009,19:957,20:910,21:907,22:982,23:1109},"c-score":.047523761880940464,rating:1.5,location:{latitude:40.7825293,longitude:-73.9655068}},{id:"P440055119",name:"Minetta Green",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":190,"taxi-zone":114,precinct:6,"b-score":{0:79,1:53,2:25,3:17,4:17,5:41,6:168,7:190,8:322,9:433,10:459,11:476,12:481,13:487,14:493,15:485,16:412,17:431,18:407,19:355,20:320,21:329,22:319,23:200},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.7303446,longitude:-74.0016029}},{id:"P440055120",name:"West Fourth Street Courts",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":228,"taxi-zone":114,precinct:6,"b-score":{0:79,1:53,2:25,3:17,4:17,5:41,6:168,7:190,8:322,9:433,10:459,11:476,12:481,13:487,14:493,15:485,16:412,17:431,18:407,19:355,20:320,21:329,22:319,23:200},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.7312486,longitude:-74.0009604}},{id:"P449139914",name:"Urban Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":194,"taxi-zone":211,precinct:1,"b-score":{0:296,1:170,2:94,3:67,4:76,5:84,6:236,7:308,8:639,9:710,10:927,11:1099,12:1349,13:1348,14:1579,15:1617,16:1602,17:2019,18:2173,19:2096,20:1468,21:1513,22:1580,23:798},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7235239,longitude:-74.0034678}},{id:"P453456965",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":126,"taxi-zone":231,precinct:1,"b-score":{0:443,1:285,2:211,3:114,4:90,5:55,6:61,7:89,8:155,9:194,10:222,11:371,12:416,13:414,14:416,15:410,16:405,17:375,18:480,19:485,20:490,21:499,22:563,23:533},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7157919,longitude:-74.006181}},{id:"P453461400",name:"Elizabeth Street Garden",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":309,"taxi-zone":144,precinct:5,"b-score":{0:329,1:200,2:133,3:76,4:95,5:86,6:169,7:345,8:381,9:354,10:356,11:360,12:385,13:395,14:420,15:440,16:452,17:420,18:401,19:399,20:404,21:420,22:542,23:518},"c-score":.37779850746268656,rating:1.5,location:{latitude:40.7221953,longitude:-73.9947837}},{id:"P453528989",name:"Dry Dock Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":667,"taxi-zone":4,precinct:9,"b-score":{0:259,1:207,2:104,3:46,4:45,5:79,6:153,7:390,8:897,9:935,10:1024,11:1037,12:1248,13:1260,14:1480,15:1553,16:1512,17:1751,18:1747,19:1595,20:1162,21:1121,22:984,23:577},"c-score":.48990623804056643,rating:1.5,location:{latitude:40.7254397,longitude:-73.9754832}},{id:"P455314804",name:"Trygve Lie Plaza",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":809,"taxi-zone":233,precinct:17,"b-score":{0:323,1:428,2:89,3:72,4:107,5:161,6:641,7:773,8:777,9:850,10:937,11:1029,12:1157,13:1252,14:1285,15:1382,16:1848,17:1974,18:2076,19:1984,20:1986,21:1984,22:1469,23:1006},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7484918,longitude:-73.9704129}},{id:"P458511171",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":499,"taxi-zone":230,precinct:18,"b-score":{0:225,1:167,2:97,3:66,4:48,5:23,6:30,7:78,8:165,9:246,10:286,11:517,12:613,13:648,14:647,15:655,16:642,17:650,18:417,19:392,20:375,21:378,22:380,23:411},"c-score":.7263601862482459,rating:1.5,location:{latitude:40.7603632,longitude:-73.9823986}},{id:"P458642434",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":496,"taxi-zone":163,precinct:18,"b-score":{0:21,1:32,2:20,3:5,4:3,5:17,6:6,7:6,8:7,9:6,10:5,11:7,12:6,13:5,14:5,15:5,16:4,17:4,18:4,19:3,20:4,21:4,22:4,23:4},"c-score":.7263601862482459,rating:1.5,location:{latitude:40.7647609,longitude:-73.9828725}},{id:"P458642435",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":495,"taxi-zone":163,precinct:18,"b-score":{0:21,1:32,2:20,3:5,4:3,5:17,6:6,7:6,8:7,9:6,10:5,11:7,12:6,13:5,14:5,15:5,16:4,17:4,18:4,19:3,20:4,21:4,22:4,23:4},"c-score":.7263601862482459,rating:1.5,location:{latitude:40.7661451,longitude:-73.9830132}},{id:"P462302471",name:"Manuel Plaza",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:"Mo-Su 06:00-22:00","grid-id":345,"taxi-zone":113,precinct:9,"b-score":{0:9,1:5,2:4,3:4,4:3,5:5,6:13,7:25,8:48,9:52,10:54,11:58,12:61,13:57,14:57,15:58,16:38,17:42,18:37,19:11,20:10,21:8,22:10,23:11},"c-score":.48990623804056643,rating:1.5,location:{latitude:40.7276683,longitude:-73.9921173}},{id:"P468472672",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":596,"taxi-zone":161,precinct:18,"b-score":{0:333,1:225,2:114,3:86,4:60,5:35,6:65,7:77,8:110,9:176,10:234,11:287,12:268,13:276,14:372,15:371,16:375,17:539,18:602,19:619,20:582,21:564,22:519,23:496},"c-score":.7263601862482459,rating:1.5,location:{latitude:40.7610842,longitude:-73.9783735}},{id:"P468485719",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":716,"taxi-zone":224,precinct:13,"b-score":{0:55,1:45,2:27,3:18,4:17,5:14,6:29,7:55,8:49,9:36,10:41,11:44,12:45,13:46,14:46,15:47,16:52,17:87,18:85,19:73,20:74,21:74,22:76,23:75},"c-score":.6499952162265595,rating:1.5,location:{latitude:40.7305654,longitude:-73.9748081}},{id:"P468548548",name:"West 111th Street People's Garden",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":857,"taxi-zone":166,precinct:26,"b-score":{0:30,1:61,2:27,3:15,4:15,5:17,6:9,7:5,8:5,9:7,10:7,11:5,12:5,13:6,14:6,15:6,16:6,17:4,18:3,19:4,20:4,21:5,22:5,23:6},"c-score":.261656461283327,rating:1.5,location:{latitude:40.803897,longitude:-73.9635414}},{id:"P468555499",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":891,"taxi-zone":166,precinct:26,"b-score":{0:30,1:61,2:27,3:15,4:15,5:17,6:9,7:5,8:5,9:7,10:7,11:5,12:5,13:6,14:6,15:6,16:6,17:4,18:3,19:4,20:4,21:5,22:5,23:6},"c-score":.261656461283327,rating:1.5,location:{latitude:40.81501,longitude:-73.9622763}},{id:"P468591558",name:"West 104th Street Garden",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":901,"taxi-zone":151,precinct:24,"b-score":{0:278,1:195,2:108,3:73,4:94,5:172,6:783,7:444,8:566,9:584,10:862,11:877,12:880,13:846,14:889,15:945,16:910,17:926,18:971,19:938,20:929,21:848,22:739,23:533},"c-score":.4165709911978569,rating:1.5,location:{latitude:40.7968848,longitude:-73.9619463}},{id:"P469101347",name:"Tenzer Garden",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1481,"taxi-zone":243,precinct:34,"b-score":{0:9,1:14,2:21,3:7,4:6,5:3,6:9,7:6,8:6,9:6,10:8,11:10,12:11,13:11,14:10,15:11,16:12,17:16,18:19,19:22,20:24,21:26,22:24,23:22},"c-score":.5172056384742952,rating:1.5,location:{latitude:40.8498324,longitude:-73.9291411}},{id:"P469101348",name:"Danciger Quadrangle",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1481,"taxi-zone":243,precinct:34,"b-score":{0:9,1:14,2:21,3:7,4:6,5:3,6:9,7:6,8:6,9:6,10:8,11:10,12:11,13:11,14:10,15:11,16:12,17:16,18:19,19:22,20:24,21:26,22:24,23:22},"c-score":.5172056384742952,rating:1.5,location:{latitude:40.850316,longitude:-73.928956}},{id:"P471549306",name:"NYC AIDS Memorial Park at St. Vincent's Triangle",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":224,"taxi-zone":249,precinct:6,"b-score":{0:58,1:36,2:26,3:16,4:18,5:35,6:87,7:93,8:119,9:125,10:129,11:130,12:142,13:141,14:144,15:148,16:145,17:198,18:187,19:199,20:196,21:191,22:193,23:106},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.7371836,longitude:-74.0011967}},{id:"P473565702",name:"Rapkin-Gayle Plaza",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:"Mo-Su 06:00-22:00","grid-id":234,"taxi-zone":144,precinct:5,"b-score":{0:329,1:200,2:133,3:76,4:95,5:86,6:169,7:345,8:381,9:354,10:356,11:360,12:385,13:395,14:420,15:440,16:452,17:420,18:401,19:399,20:404,21:420,22:542,23:518},"c-score":.9999999999999999,rating:1.5,location:{latitude:40.7204001,longitude:-73.9991398}},{id:"P474169900",name:"Lieutenant William Tighe Triangle",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1472,"taxi-zone":243,precinct:34,"b-score":{0:9,1:14,2:21,3:7,4:6,5:3,6:9,7:6,8:6,9:6,10:8,11:10,12:11,13:11,14:10,15:11,16:12,17:16,18:19,19:22,20:24,21:26,22:24,23:22},"c-score":.5172056384742952,rating:1.5,location:{latitude:40.8658571,longitude:-73.9279994}},{id:"P474173970",name:"Sherman Creek",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1549,"taxi-zone":127,precinct:34,"b-score":{0:674,1:460,2:358,3:259,4:259,5:302,6:893,7:702,8:712,9:778,10:903,11:961,12:1189,13:1307,14:1317,15:1326,16:1301,17:1539,18:1271,19:1278,20:1267,21:1267,22:1275,23:1008},"c-score":.5172056384742952,rating:1.5,location:{latitude:40.8608411,longitude:-73.9182038}},{id:"P474175699",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1549,"taxi-zone":127,precinct:34,"b-score":{0:674,1:460,2:358,3:259,4:259,5:302,6:893,7:702,8:712,9:778,10:903,11:961,12:1189,13:1307,14:1317,15:1326,16:1301,17:1539,18:1271,19:1278,20:1267,21:1267,22:1275,23:1008},"c-score":.5172056384742952,rating:1.5,location:{latitude:40.8601542,longitude:-73.9185091}},{id:"P474199302",name:"Monsignor Kett Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1535,"taxi-zone":127,precinct:34,"b-score":{0:674,1:460,2:358,3:259,4:259,5:302,6:893,7:702,8:712,9:778,10:903,11:961,12:1189,13:1307,14:1317,15:1326,16:1301,17:1539,18:1271,19:1278,20:1267,21:1267,22:1275,23:1008},"c-score":.5172056384742952,rating:1.5,location:{latitude:40.8625304,longitude:-73.9209396}},{id:"P476650290",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1179,"taxi-zone":244,precinct:33,"b-score":{0:51,1:20,2:15,3:13,4:13,5:13,6:36,7:45,8:57,9:70,10:78,11:91,12:105,13:109,14:112,15:124,16:99,17:107,18:132,19:129,20:135,21:139,22:140,23:88},"c-score":.3926999617298125,rating:1.5,location:{latitude:40.8379833,longitude:-73.9459572}},{id:"P479358564",name:"Rooftop Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":804,"taxi-zone":229,precinct:17,"b-score":{0:111,1:102,2:38,3:27,4:29,5:42,6:146,7:267,8:231,9:393,10:446,11:492,12:531,13:537,14:690,15:723,16:702,17:777,18:892,19:870,20:800,21:567,22:501,23:258},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7576241,longitude:-73.9686533}},{id:"P480966277",name:"148th Street Block Association Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1327,"taxi-zone":42,precinct:32,"b-score":{0:216,1:99,2:54,3:37,4:46,5:48,6:177,7:268,8:304,9:320,10:301,11:309,12:317,13:320,14:318,15:340,16:605,17:728,18:718,19:600,20:555,21:547,22:501,23:342},"c-score":.5270044010715652,rating:1.5,location:{latitude:40.8243789,longitude:-73.9389915}},{id:"P483509921",name:"Poinsettia Community Garden",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":936,"taxi-zone":166,precinct:26,"b-score":{0:30,1:61,2:27,3:15,4:15,5:17,6:9,7:5,8:5,9:7,10:7,11:5,12:5,13:6,14:6,15:6,16:6,17:4,18:3,19:4,20:4,21:5,22:5,23:6},"c-score":.261656461283327,rating:1.5,location:{latitude:40.808972,longitude:-73.9588785}},{id:"P483509926",name:"Ruggles Commons",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":896,"taxi-zone":166,precinct:26,"b-score":{0:30,1:61,2:27,3:15,4:15,5:17,6:9,7:5,8:5,9:7,10:7,11:5,12:5,13:6,14:6,15:6,16:6,17:4,18:3,19:4,20:4,21:5,22:5,23:6},"c-score":.261656461283327,rating:1.5,location:{latitude:40.8056356,longitude:-73.9628429}},{id:"P483702983",name:"Augustus Saint-Gaudens Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":560,"taxi-zone":107,precinct:13,"b-score":{0:69,1:71,2:26,3:19,4:16,5:20,6:40,7:68,8:66,9:110,10:111,11:117,12:121,13:127,14:146,15:145,16:144,17:180,18:181,19:163,20:150,21:146,22:144,23:103},"c-score":.6499952162265595,rating:1.5,location:{latitude:40.7355499,longitude:-73.9821423}},{id:"P497484756",name:"Albert Capsouto Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":158,"taxi-zone":231,precinct:1,"b-score":{0:443,1:285,2:211,3:114,4:90,5:55,6:61,7:89,8:155,9:194,10:222,11:371,12:416,13:414,14:416,15:410,16:405,17:375,18:480,19:485,20:490,21:499,22:563,23:533},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7220549,longitude:-74.0059139}},{id:"P498671779",name:"Drumgoole Plaza",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"yes",opening_hours:"null","grid-id":164,"taxi-zone":209,precinct:1,"b-score":{0:302,1:160,2:139,3:117,4:104,5:123,6:329,7:554,8:629,9:730,10:745,11:783,12:1106,13:1121,14:1193,15:1172,16:1121,17:1315,18:1304,19:1241,20:1174,21:1065,22:861,23:637},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7110399,longitude:-74.0041141}},{id:"P504045549",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"yes",opening_hours:"null","grid-id":131,"taxi-zone":87,precinct:1,"b-score":{0:468,1:296,2:214,3:137,4:128,5:58,6:143,7:125,8:231,9:277,10:341,11:437,12:463,13:472,14:516,15:521,16:515,17:833,18:902,19:924,20:923,21:903,22:920,23:780},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7072581,longitude:-74.0083037}},{id:"P531272222",name:"CS Garden",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":935,"taxi-zone":166,precinct:26,"b-score":{0:30,1:61,2:27,3:15,4:15,5:17,6:9,7:5,8:5,9:7,10:7,11:5,12:5,13:6,14:6,15:6,16:6,17:4,18:3,19:4,20:4,21:5,22:5,23:6},"c-score":.261656461283327,rating:1.5,location:{latitude:40.8091383,longitude:-73.9599533}},{id:"P531580782",name:"Robert Moses Playground",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":809,"taxi-zone":233,precinct:17,"b-score":{0:323,1:428,2:89,3:72,4:107,5:161,6:641,7:773,8:777,9:850,10:937,11:1029,12:1157,13:1252,14:1285,15:1382,16:1848,17:1974,18:2076,19:1984,20:1986,21:1984,22:1469,23:1006},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7481156,longitude:-73.9692894}},{id:"P538080002",name:"Elizabeth H. Berger Plaza",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":38,"taxi-zone":261,precinct:1,"b-score":{0:253,1:129,2:74,3:56,4:59,5:116,6:168,7:306,8:548,9:551,10:602,11:638,12:667,13:676,14:683,15:709,16:740,17:945,18:903,19:836,20:827,21:811,22:736,23:463},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7066764,longitude:-74.0140208}},{id:"P539005582",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":33,"taxi-zone":13,precinct:1,"b-score":{0:474,1:359,2:248,3:192,4:147,5:108,6:452,7:449,8:356,9:595,10:623,11:716,12:804,13:827,14:867,15:879,16:886,17:1116,18:1040,19:1006,20:924,21:906,22:845,23:779},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7156052,longitude:-74.0150931}},{id:"P544675664",name:"Mitchell Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1274,"taxi-zone":244,precinct:33,"b-score":{0:51,1:20,2:15,3:13,4:13,5:13,6:36,7:45,8:57,9:70,10:78,11:91,12:105,13:109,14:112,15:124,16:99,17:107,18:132,19:129,20:135,21:139,22:140,23:88},"c-score":.3926999617298125,rating:1.5,location:{latitude:40.8401868,longitude:-73.9400483}},{id:"P580123906",name:"Mulry Square",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":225,"taxi-zone":249,precinct:6,"b-score":{0:58,1:36,2:26,3:16,4:18,5:35,6:87,7:93,8:119,9:125,10:129,11:130,12:142,13:141,14:144,15:148,16:145,17:198,18:187,19:199,20:196,21:191,22:193,23:106},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.7362506,longitude:-74.0010873}},{id:"P581666857",name:"Jane Street Garden",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":149,"taxi-zone":249,precinct:6,"b-score":{0:58,1:36,2:26,3:16,4:18,5:35,6:87,7:93,8:119,9:125,10:129,11:130,12:142,13:141,14:144,15:148,16:145,17:198,18:187,19:199,20:196,21:191,22:193,23:106},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.738004,longitude:-74.0045481}},{id:"P585788256",name:"Central Park Carousel",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":642,"taxi-zone":43,precinct:22,"b-score":{0:406,1:220,2:172,3:132,4:120,5:74,6:206,7:372,8:606,9:686,10:768,11:806,12:865,13:895,14:966,15:940,16:938,17:1175,18:1009,19:957,20:910,21:907,22:982,23:1109},"c-score":.15157578789394696,rating:1.5,location:{latitude:40.7699426,longitude:-73.9752476}},{id:"P588483880",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1407,"taxi-zone":120,precinct:33,"b-score":{0:97,1:100,2:63,3:45,4:44,5:20,6:48,7:118,8:89,9:95,10:97,11:89,12:85,13:85,14:86,15:107,16:100,17:117,18:123,19:136,20:147,21:156,22:160,23:157},"c-score":.3926999617298125,rating:1.5,location:{latitude:40.8446978,longitude:-73.9329917}},{id:"P613509792",name:"Tribeca Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"Mo-Su 06:00-01:00","grid-id":159,"taxi-zone":231,precinct:1,"b-score":{0:443,1:285,2:211,3:114,4:90,5:55,6:61,7:89,8:155,9:194,10:222,11:371,12:416,13:414,14:416,15:410,16:405,17:375,18:480,19:485,20:490,21:499,22:563,23:533},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7202027,longitude:-74.0056402}},{id:"P664153164",name:'Bill "Bojangles" Robinson Playground',type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1327,"taxi-zone":42,precinct:32,"b-score":{0:216,1:99,2:54,3:37,4:46,5:48,6:177,7:268,8:304,9:320,10:301,11:309,12:317,13:320,14:318,15:340,16:605,17:728,18:718,19:600,20:555,21:547,22:501,23:342},"c-score":.5270044010715652,rating:1.5,location:{latitude:40.8252699,longitude:-73.9372963}},{id:"P664153165",name:"LaGuardia Corner Garden",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":269,"taxi-zone":114,precinct:6,"b-score":{0:79,1:53,2:25,3:17,4:17,5:41,6:168,7:190,8:322,9:433,10:459,11:476,12:481,13:487,14:493,15:485,16:412,17:431,18:407,19:355,20:320,21:329,22:319,23:200},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.7279235,longitude:-73.9988616}},{id:"P664697032",name:"Monterey Public Garden",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"24/7","grid-id":1114,"taxi-zone":75,precinct:23,"b-score":{0:88,1:83,2:70,3:33,4:31,5:33,6:76,7:64,8:68,9:82,10:66,11:67,12:71,13:72,14:73,15:81,16:66,17:68,18:81,19:100,20:107,21:123,22:136,23:138},"c-score":.5149971297359357,rating:1.5,location:{latitude:40.785788,longitude:-73.949994}},{id:"P672251427",name:"Abe Lebewohl Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":469,"taxi-zone":79,precinct:9,"b-score":{0:171,1:196,2:161,3:143,4:101,5:135,6:331,7:170,8:160,9:185,10:207,11:233,12:246,13:257,14:263,15:264,16:254,17:258,18:234,19:235,20:231,21:596,22:451,23:366},"c-score":.48990623804056643,rating:1.5,location:{latitude:40.7300001,longitude:-73.9870591}},{id:"P675913161",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":393,"taxi-zone":232,precinct:7,"b-score":{0:299,1:167,2:103,3:77,4:42,5:20,6:92,7:88,8:126,9:161,10:262,11:330,12:400,13:412,14:433,15:443,16:398,17:518,18:578,19:537,20:472,21:455,22:473,23:463},"c-score":.4246954330909555,rating:1.5,location:{latitude:40.7123128,longitude:-73.9916567}},{id:"P675935774",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":352,"taxi-zone":148,precinct:7,"b-score":{0:88,1:72,2:61,3:53,4:48,5:18,6:43,7:64,8:94,9:96,10:109,11:119,12:119,13:118,14:119,15:120,16:121,17:121,18:120,19:122,20:122,21:122,22:119,23:120},"c-score":.4246954330909555,rating:1.5,location:{latitude:40.7147518,longitude:-73.9926339}},{id:"P675935775",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":390,"taxi-zone":148,precinct:5,"b-score":{0:88,1:72,2:61,3:53,4:48,5:18,6:43,7:64,8:94,9:96,10:109,11:119,12:119,13:118,14:119,15:120,16:121,17:121,18:120,19:122,20:122,21:122,22:119,23:120},"c-score":.9999999999999999,rating:1.5,location:{latitude:40.7187024,longitude:-73.9906477}},{id:"P675935776",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":390,"taxi-zone":148,precinct:5,"b-score":{0:88,1:72,2:61,3:53,4:48,5:18,6:43,7:64,8:94,9:96,10:109,11:119,12:119,13:118,14:119,15:120,16:121,17:121,18:120,19:122,20:122,21:122,22:119,23:120},"c-score":.9999999999999999,rating:1.5,location:{latitude:40.7178532,longitude:-73.9910848}},{id:"P675935777",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":391,"taxi-zone":148,precinct:5,"b-score":{0:88,1:72,2:61,3:53,4:48,5:18,6:43,7:64,8:94,9:96,10:109,11:119,12:119,13:118,14:119,15:120,16:121,17:121,18:120,19:122,20:122,21:122,22:119,23:120},"c-score":.37779850746268656,rating:1.5,location:{latitude:40.7167999,longitude:-73.9916173}},{id:"P675935778",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":351,"taxi-zone":148,precinct:5,"b-score":{0:88,1:72,2:61,3:53,4:48,5:18,6:43,7:64,8:94,9:96,10:109,11:119,12:119,13:118,14:119,15:120,16:121,17:121,18:120,19:122,20:122,21:122,22:119,23:120},"c-score":.37779850746268656,rating:1.5,location:{latitude:40.715654,longitude:-73.9922088}},{id:"P675935779",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":354,"taxi-zone":45,precinct:5,"b-score":{0:407,1:224,2:78,3:38,4:71,5:190,6:509,7:1353,8:1776,9:1764,10:1835,11:1856,12:1914,13:1911,14:2582,15:2807,16:2520,17:2861,18:2906,19:1952,20:1497,21:1451,22:952,23:497},"c-score":.37779850746268656,rating:1.5,location:{latitude:40.7113496,longitude:-73.9922318}},{id:"P675935780",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":353,"taxi-zone":45,precinct:5,"b-score":{0:407,1:224,2:78,3:38,4:71,5:190,6:509,7:1353,8:1776,9:1764,10:1835,11:1856,12:1914,13:1911,14:2582,15:2807,16:2520,17:2861,18:2906,19:1952,20:1497,21:1451,22:952,23:497},"c-score":.37779850746268656,rating:1.5,location:{latitude:40.7120492,longitude:-73.9923541}},{id:"P675937259",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":276,"taxi-zone":148,precinct:5,"b-score":{0:88,1:72,2:61,3:53,4:48,5:18,6:43,7:64,8:94,9:96,10:109,11:119,12:119,13:118,14:119,15:120,16:121,17:121,18:120,19:122,20:122,21:122,22:119,23:120},"c-score":.37779850746268656,rating:1.5,location:{latitude:40.7142311,longitude:-73.9970905}},{id:"P675962287",name:"Sophie Irene Loeb Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":314,"taxi-zone":45,precinct:5,"b-score":{0:407,1:224,2:78,3:38,4:71,5:190,6:509,7:1353,8:1776,9:1764,10:1835,11:1856,12:1914,13:1911,14:2582,15:2807,16:2520,17:2861,18:2906,19:1952,20:1497,21:1451,22:952,23:497},"c-score":.37779850746268656,rating:1.5,location:{latitude:40.7133595,longitude:-73.9943004}},{id:"P684670439",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":657,"taxi-zone":137,precinct:17,"b-score":{0:622,1:398,2:287,3:232,4:206,5:117,6:185,7:420,8:346,9:532,10:457,11:456,12:596,13:587,14:779,15:784,16:780,17:920,18:1284,19:1286,20:1286,21:1310,22:1301,23:1048},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7426586,longitude:-73.9756162}},{id:"P687661469",name:"First Street Green Cultural Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":387,"taxi-zone":79,precinct:9,"b-score":{0:171,1:196,2:161,3:143,4:101,5:135,6:331,7:170,8:160,9:185,10:207,11:233,12:246,13:257,14:263,15:264,16:254,17:258,18:234,19:235,20:231,21:596,22:451,23:366},"c-score":.9999999999999999,rating:1.5,location:{latitude:40.723751,longitude:-73.9903251}},{id:"P702078581",name:"McMahon Lawn",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":446,"taxi-zone":142,precinct:20,"b-score":{0:131,1:84,2:47,3:29,4:33,5:31,6:74,7:96,8:142,9:187,10:238,11:244,12:252,13:258,14:258,15:255,16:243,17:289,18:221,19:232,20:229,21:228,22:227,23:255},"c-score":.36388569970659523,rating:1.5,location:{latitude:40.7713558,longitude:-73.9865241}},{id:"P705304809",name:"30 Lincoln Plaza",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:"8:00-23:00","grid-id":541,"taxi-zone":142,precinct:20,"b-score":{0:131,1:84,2:47,3:29,4:33,5:31,6:74,7:96,8:142,9:187,10:238,11:244,12:252,13:258,14:258,15:255,16:243,17:289,18:221,19:232,20:229,21:228,22:227,23:255},"c-score":.36388569970659523,rating:1.5,location:{latitude:40.7707961,longitude:-73.9814012}},{id:"P718438725",name:"Murphy Brothers Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":716,"taxi-zone":224,precinct:13,"b-score":{0:55,1:45,2:27,3:18,4:17,5:14,6:29,7:55,8:49,9:36,10:41,11:44,12:45,13:46,14:46,15:47,16:52,17:87,18:85,19:73,20:74,21:74,22:76,23:75},"c-score":.6499952162265595,rating:1.5,location:{latitude:40.7302393,longitude:-73.973219}},{id:"P718471254",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1042,"taxi-zone":140,precinct:19,"b-score":{0:149,1:166,2:112,3:65,4:68,5:70,6:108,7:275,8:236,9:184,10:178,11:179,12:187,13:189,14:205,15:269,16:265,17:283,18:274,19:262,20:267,21:274,22:237,23:222},"c-score":.7237689756346473,rating:1.5,location:{latitude:40.7640426,longitude:-73.9544696}},{id:"P727964618",name:"Lafayette Square",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":980,"taxi-zone":41,precinct:28,"b-score":{0:91,1:75,2:48,3:38,4:26,5:18,6:49,7:45,8:62,9:75,10:80,11:96,12:121,13:128,14:135,15:141,16:135,17:148,18:143,19:159,20:151,21:158,22:177,23:150},"c-score":.4653256155121827,rating:1.5,location:{latitude:40.8035524,longitude:-73.9580337}},{id:"P743395860",name:"The Elevated Acre",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":99,"taxi-zone":88,precinct:1,"b-score":{0:108,1:43,2:30,3:21,4:23,5:29,6:60,7:133,8:165,9:366,10:405,11:499,12:506,13:511,14:569,15:522,16:441,17:421,18:416,19:367,20:308,21:301,22:330,23:200},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7032051,longitude:-74.0087006}},{id:"P759460622",name:"Minerva Bernadino Green Street",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":858,"taxi-zone":24,precinct:24,"b-score":{0:574,1:281,2:240,3:118,4:163,5:241,6:1292,7:1081,8:1092,9:1276,10:1347,11:1364,12:1368,13:1393,14:1449,15:1448,16:1444,17:1489,18:1646,19:1649,20:1532,21:1558,22:1433,23:1037},"c-score":.4165709911978569,rating:1.5,location:{latitude:40.8028294,longitude:-73.9640762}},{id:"P765274333",name:"Playground 11",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":664,"taxi-zone":224,precinct:13,"b-score":{0:55,1:45,2:27,3:18,4:17,5:14,6:29,7:55,8:49,9:36,10:41,11:44,12:45,13:46,14:46,15:47,16:52,17:87,18:85,19:73,20:74,21:74,22:76,23:75},"c-score":.6499952162265595,rating:1.5,location:{latitude:40.7310982,longitude:-73.9763847}},{id:"P765274338",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":612,"taxi-zone":224,precinct:13,"b-score":{0:55,1:45,2:27,3:18,4:17,5:14,6:29,7:55,8:49,9:36,10:41,11:44,12:45,13:46,14:46,15:47,16:52,17:87,18:85,19:73,20:74,21:74,22:76,23:75},"c-score":.6499952162265595,rating:1.5,location:{latitude:40.7324171,longitude:-73.9792686}},{id:"P769716502",name:"Hillman Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":572,"taxi-zone":232,precinct:7,"b-score":{0:299,1:167,2:103,3:77,4:42,5:20,6:92,7:88,8:126,9:161,10:262,11:330,12:400,13:412,14:433,15:443,16:398,17:518,18:578,19:537,20:472,21:455,22:473,23:463},"c-score":.4246954330909555,rating:1.5,location:{latitude:40.7151983,longitude:-73.982351}},{id:"P769716504",name:"Sol Lain Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":524,"taxi-zone":232,precinct:7,"b-score":{0:299,1:167,2:103,3:77,4:42,5:20,6:92,7:88,8:126,9:161,10:262,11:330,12:400,13:412,14:433,15:443,16:398,17:518,18:578,19:537,20:472,21:455,22:473,23:463},"c-score":.4246954330909555,rating:1.5,location:{latitude:40.7142341,longitude:-73.9838951}},{id:"P793720073",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":760,"taxi-zone":233,precinct:17,"b-score":{0:323,1:428,2:89,3:72,4:107,5:161,6:641,7:773,8:777,9:850,10:937,11:1029,12:1157,13:1252,14:1285,15:1382,16:1848,17:1974,18:2076,19:1984,20:1986,21:1984,22:1469,23:1006},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7444405,longitude:-73.9717305}},{id:"P800212164",name:"Catherine Slip Malls",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":316,"taxi-zone":45,precinct:5,"b-score":{0:407,1:224,2:78,3:38,4:71,5:190,6:509,7:1353,8:1776,9:1764,10:1835,11:1856,12:1914,13:1911,14:2582,15:2807,16:2520,17:2861,18:2906,19:1952,20:1497,21:1451,22:952,23:497},"c-score":.37779850746268656,rating:1.5,location:{latitude:40.7095081,longitude:-73.9961565}},{id:"P821278619",name:"Small Square",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":931,"taxi-zone":152,precinct:26,"b-score":{0:363,1:173,2:119,3:93,4:95,5:112,6:295,7:278,8:309,9:410,10:492,11:616,12:661,13:675,14:668,15:672,16:661,17:938,18:802,19:808,20:798,21:766,22:811,23:723},"c-score":.261656461283327,rating:1.5,location:{latitude:40.8170021,longitude:-73.9588657}},{id:"P833335529",name:"Little Island",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"yes",opening_hours:"Mo-Su 06:00-23:00","grid-id":78,"taxi-zone":158,precinct:6,"b-score":{0:250,1:120,2:70,3:42,4:45,5:38,6:103,7:175,8:347,9:393,10:486,11:520,12:628,13:628,14:640,15:642,16:668,17:683,18:552,19:551,20:524,21:523,22:535,23:554},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.7420048,longitude:-74.0106097}},{id:"P837603512",name:"Pier 26",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":30,"taxi-zone":231,precinct:1,"b-score":{0:443,1:285,2:211,3:114,4:90,5:55,6:61,7:89,8:155,9:194,10:222,11:371,12:416,13:414,14:416,15:410,16:405,17:375,18:480,19:485,20:490,21:499,22:563,23:533},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7212402,longitude:-74.0146496}},{id:"P890862707",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":277,"taxi-zone":45,precinct:5,"b-score":{0:407,1:224,2:78,3:38,4:71,5:190,6:509,7:1353,8:1776,9:1764,10:1835,11:1856,12:1914,13:1911,14:2582,15:2807,16:2520,17:2861,18:2906,19:1952,20:1497,21:1451,22:952,23:497},"c-score":.37779850746268656,rating:1.5,location:{latitude:40.7127252,longitude:-73.9985494}},{id:"P890862858",name:"Fishbridge Park Garden",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":202,"taxi-zone":209,precinct:1,"b-score":{0:302,1:160,2:139,3:117,4:104,5:123,6:329,7:554,8:629,9:730,10:745,11:783,12:1106,13:1121,14:1193,15:1172,16:1121,17:1315,18:1304,19:1241,20:1174,21:1065,22:861,23:637},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7090621,longitude:-74.0013335}},{id:"P890862859",name:"Pearl Street Playground",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":166,"taxi-zone":209,precinct:1,"b-score":{0:302,1:160,2:139,3:117,4:104,5:123,6:329,7:554,8:629,9:730,10:745,11:783,12:1106,13:1121,14:1193,15:1172,16:1121,17:1315,18:1304,19:1241,20:1174,21:1065,22:861,23:637},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7079571,longitude:-74.003871}},{id:"P891074490",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":164,"taxi-zone":209,precinct:1,"b-score":{0:302,1:160,2:139,3:117,4:104,5:123,6:329,7:554,8:629,9:730,10:745,11:783,12:1106,13:1121,14:1193,15:1172,16:1121,17:1315,18:1304,19:1241,20:1174,21:1065,22:861,23:637},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7104212,longitude:-74.0058293}},{id:"P891134387",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":33,"taxi-zone":13,precinct:1,"b-score":{0:474,1:359,2:248,3:192,4:147,5:108,6:452,7:449,8:356,9:595,10:623,11:716,12:804,13:827,14:867,15:879,16:886,17:1116,18:1040,19:1006,20:924,21:906,22:845,23:779},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7165399,longitude:-74.0148155}},{id:"P891134388",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":32,"taxi-zone":13,precinct:1,"b-score":{0:474,1:359,2:248,3:192,4:147,5:108,6:452,7:449,8:356,9:595,10:623,11:716,12:804,13:827,14:867,15:879,16:886,17:1116,18:1040,19:1006,20:924,21:906,22:845,23:779},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7173682,longitude:-74.014168}},{id:"P893841834",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":188,"taxi-zone":249,precinct:6,"b-score":{0:58,1:36,2:26,3:16,4:18,5:35,6:87,7:93,8:119,9:125,10:129,11:130,12:142,13:141,14:144,15:148,16:145,17:198,18:187,19:199,20:196,21:191,22:193,23:106},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.7352313,longitude:-74.0017222}},{id:"P893841889",name:"Washington Commons",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":114,"taxi-zone":158,precinct:6,"b-score":{0:250,1:120,2:70,3:42,4:45,5:38,6:103,7:175,8:347,9:393,10:486,11:520,12:628,13:628,14:640,15:642,16:668,17:683,18:552,19:551,20:524,21:523,22:535,23:554},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.7384531,longitude:-74.0083015}},{id:"P894035808",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":190,"taxi-zone":249,precinct:6,"b-score":{0:58,1:36,2:26,3:16,4:18,5:35,6:87,7:93,8:119,9:125,10:129,11:130,12:142,13:141,14:144,15:148,16:145,17:198,18:187,19:199,20:196,21:191,22:193,23:106},"c-score":.5094001148105626,rating:1.5,location:{latitude:40.7298816,longitude:-74.002776}},{id:"P895611180",name:"West 87th Street Garden",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":737,"taxi-zone":238,precinct:24,"b-score":{0:396,1:289,2:117,3:84,4:79,5:112,6:385,7:443,8:470,9:525,10:596,11:724,12:763,13:801,14:791,15:834,16:803,17:840,18:1072,19:997,20:975,21:964,22:993,23:808},"c-score":.4165709911978569,rating:1.5,location:{latitude:40.787094,longitude:-73.9709212}},{id:"P895757747",name:"Joan of Arc Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":629,"taxi-zone":238,precinct:24,"b-score":{0:396,1:289,2:117,3:84,4:79,5:112,6:385,7:443,8:470,9:525,10:596,11:724,12:763,13:801,14:791,15:834,16:803,17:840,18:1072,19:997,20:975,21:964,22:993,23:808},"c-score":.4165709911978569,rating:1.5,location:{latitude:40.7942118,longitude:-73.976389}},{id:"P904714816",name:"Happy Warrior Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":783,"taxi-zone":151,precinct:24,"b-score":{0:278,1:195,2:108,3:73,4:94,5:172,6:783,7:444,8:566,9:584,10:862,11:877,12:880,13:846,14:889,15:945,16:910,17:926,18:971,19:938,20:929,21:848,22:739,23:533},"c-score":.9999999999999999,rating:1.5,location:{latitude:40.7954197,longitude:-73.9684305}},{id:"P918302837",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":399,"taxi-zone":143,precinct:20,"b-score":{0:69,1:39,2:28,3:18,4:18,5:16,6:43,7:74,8:273,9:291,10:242,11:249,12:237,13:240,14:236,15:193,16:159,17:162,18:147,19:123,20:113,21:115,22:112,23:130},"c-score":.36388569970659523,rating:1.5,location:{latitude:40.7777983,longitude:-73.9873252}},{id:"P943557523",name:"Dorrence Brook Square",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1143,"taxi-zone":42,precinct:32,"b-score":{0:216,1:99,2:54,3:37,4:46,5:48,6:177,7:268,8:304,9:320,10:301,11:309,12:317,13:320,14:318,15:340,16:605,17:728,18:718,19:600,20:555,21:547,22:501,23:342},"c-score":.5270044010715652,rating:1.5,location:{latitude:40.8181963,longitude:-73.9472809}},{id:"P954250916",name:"Dekovats Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1260,"taxi-zone":262,precinct:19,"b-score":{0:714,1:440,2:234,3:161,4:180,5:308,6:696,7:567,8:592,9:657,10:727,11:1141,12:1111,13:1107,14:1115,15:1128,16:1120,17:1905,18:2049,19:1980,20:1680,21:1865,22:1940,23:1347},"c-score":.7237689756346473,rating:1.5,location:{latitude:40.7793517,longitude:-73.9442344}},{id:"P954250919",name:"Samuel Marx Triangle",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1062,"taxi-zone":41,precinct:28,"b-score":{0:91,1:75,2:48,3:38,4:26,5:18,6:49,7:45,8:62,9:75,10:80,11:96,12:121,13:128,14:135,15:141,16:135,17:148,18:143,19:159,20:151,21:158,22:177,23:150},"c-score":.4653256155121827,rating:1.5,location:{latitude:40.802576,longitude:-73.9527698}},{id:"P959894788",name:"Roger Morris Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1321,"taxi-zone":244,precinct:33,"b-score":{0:51,1:20,2:15,3:13,4:13,5:13,6:36,7:45,8:57,9:70,10:78,11:91,12:105,13:109,14:112,15:124,16:99,17:107,18:132,19:129,20:135,21:139,22:140,23:88},"c-score":.3926999617298125,rating:1.5,location:{latitude:40.8345035,longitude:-73.9385228}},{id:"P959895071",name:"McKenna Square Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1319,"taxi-zone":244,precinct:33,"b-score":{0:51,1:20,2:15,3:13,4:13,5:13,6:36,7:45,8:57,9:70,10:78,11:91,12:105,13:109,14:112,15:124,16:99,17:107,18:132,19:129,20:135,21:139,22:140,23:88},"c-score":.6868434217108554,rating:1.5,location:{latitude:40.8383487,longitude:-73.9391569}},{id:"P964819132",name:"Seward Park Extension Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:"dawn-dusk","grid-id":433,"taxi-zone":148,precinct:7,"b-score":{0:88,1:72,2:61,3:53,4:48,5:18,6:43,7:64,8:94,9:96,10:109,11:119,12:119,13:118,14:119,15:120,16:121,17:121,18:120,19:122,20:122,21:122,22:119,23:120},"c-score":.5297648824412206,rating:1.5,location:{latitude:40.7171165,longitude:-73.9884804}},{id:"P964822654",name:"Seward Park Extension Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:"dawn-dusk","grid-id":477,"taxi-zone":232,precinct:7,"b-score":{0:299,1:167,2:103,3:77,4:42,5:20,6:92,7:88,8:126,9:161,10:262,11:330,12:400,13:412,14:433,15:443,16:398,17:518,18:578,19:537,20:472,21:455,22:473,23:463},"c-score":.6613306653326663,rating:1.5,location:{latitude:40.7168088,longitude:-73.9848922}},{id:"P973521995",name:"Ahearn Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":524,"taxi-zone":232,precinct:7,"b-score":{0:299,1:167,2:103,3:77,4:42,5:20,6:92,7:88,8:126,9:161,10:262,11:330,12:400,13:412,14:433,15:443,16:398,17:518,18:578,19:537,20:472,21:455,22:473,23:463},"c-score":.4246954330909555,rating:1.5,location:{latitude:40.7148022,longitude:-73.9834508}},{id:"P976724943",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":384,"taxi-zone":113,precinct:9,"b-score":{0:9,1:5,2:4,3:4,4:3,5:5,6:13,7:25,8:48,9:52,10:54,11:58,12:61,13:57,14:57,15:58,16:38,17:42,18:37,19:11,20:10,21:8,22:10,23:11},"c-score":.9999999999999999,rating:1.5,location:{latitude:40.7294006,longitude:-73.9911035}},{id:"P985281628",name:"Seward Park High School - Community Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":433,"taxi-zone":232,precinct:7,"b-score":{0:299,1:167,2:103,3:77,4:42,5:20,6:92,7:88,8:126,9:161,10:262,11:330,12:400,13:412,14:433,15:443,16:398,17:518,18:578,19:537,20:472,21:455,22:473,23:463},"c-score":.5297648824412206,rating:1.5,location:{latitude:40.7158595,longitude:-73.9891313}},{id:"P990936691",name:"Pier 42 Upland Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":574,"taxi-zone":232,precinct:7,"b-score":{0:299,1:167,2:103,3:77,4:42,5:20,6:92,7:88,8:126,9:161,10:262,11:330,12:400,13:412,14:433,15:443,16:398,17:518,18:578,19:537,20:472,21:455,22:473,23:463},"c-score":.4246954330909555,rating:1.5,location:{latitude:40.7105384,longitude:-73.981794}},{id:"P997819338",name:"Andrew Haswell Green Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1004,"taxi-zone":140,precinct:19,"b-score":{0:149,1:166,2:112,3:65,4:68,5:70,6:108,7:275,8:236,9:184,10:178,11:179,12:187,13:189,14:205,15:269,16:265,17:283,18:274,19:262,20:267,21:274,22:237,23:222},"c-score":.7237689756346473,rating:1.5,location:{latitude:40.7594825,longitude:-73.9575866}},{id:"P1015980340",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:"Apr-Oct 07:00-22:00; Nov-Mar 07:00-20:00","grid-id":477,"taxi-zone":232,precinct:7,"b-score":{0:299,1:167,2:103,3:77,4:42,5:20,6:92,7:88,8:126,9:161,10:262,11:330,12:400,13:412,14:433,15:443,16:398,17:518,18:578,19:537,20:472,21:455,22:473,23:463},"c-score":.6613306653326663,rating:1.5,location:{latitude:40.7168628,longitude:-73.9867292}},{id:"P1016487162",name:"Queensborough Oval",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":963,"taxi-zone":140,precinct:19,"b-score":{0:149,1:166,2:112,3:65,4:68,5:70,6:108,7:275,8:236,9:184,10:178,11:179,12:187,13:189,14:205,15:269,16:265,17:283,18:274,19:262,20:267,21:274,22:237,23:222},"c-score":.7237689756346473,rating:1.5,location:{latitude:40.7592353,longitude:-73.9600741}},{id:"P1018935492",name:"Vladeck Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":573,"taxi-zone":232,precinct:7,"b-score":{0:299,1:167,2:103,3:77,4:42,5:20,6:92,7:88,8:126,9:161,10:262,11:330,12:400,13:412,14:433,15:443,16:398,17:518,18:578,19:537,20:472,21:455,22:473,23:463},"c-score":.4246954330909555,rating:1.5,location:{latitude:40.7123997,longitude:-73.9820519}},{id:"P1021760821",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":176,"taxi-zone":246,precinct:10,"b-score":{0:121,1:64,2:33,3:23,4:26,5:15,6:24,7:62,8:122,9:203,10:318,11:419,12:492,13:551,14:586,15:589,16:457,17:458,18:289,19:278,20:258,21:255,22:273,23:243},"c-score":.35804152315346344,rating:1.5,location:{latitude:40.7562014,longitude:-74.0035176}},{id:"P1023817153",name:"Pier 76",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":137,"taxi-zone":246,precinct:10,"b-score":{0:121,1:64,2:33,3:23,4:26,5:15,6:24,7:62,8:122,9:203,10:318,11:419,12:492,13:551,14:586,15:589,16:457,17:458,18:289,19:278,20:258,21:255,22:273,23:243},"c-score":.38419209604802396,rating:1.5,location:{latitude:40.7591506,longitude:-74.005364}},{id:"P1025959315",name:"The Square",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":931,"taxi-zone":152,precinct:26,"b-score":{0:363,1:173,2:119,3:93,4:95,5:112,6:295,7:278,8:309,9:410,10:492,11:616,12:661,13:675,14:668,15:672,16:661,17:938,18:802,19:808,20:798,21:766,22:811,23:723},"c-score":.261656461283327,rating:1.5,location:{latitude:40.8180211,longitude:-73.9589542}},{id:"P1059903962",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"24/7","grid-id":653,"taxi-zone":170,precinct:17,"b-score":{0:121,1:84,2:52,3:41,4:40,5:42,6:87,7:225,8:204,9:302,10:311,11:313,12:318,13:344,14:402,15:460,16:458,17:561,18:562,19:483,20:466,21:438,22:321,23:329},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7500032,longitude:-73.9756477}},{id:"P1068258666",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":605,"taxi-zone":137,precinct:17,"b-score":{0:622,1:398,2:287,3:232,4:206,5:117,6:185,7:420,8:346,9:532,10:457,11:456,12:596,13:587,14:779,15:784,16:780,17:920,18:1284,19:1286,20:1286,21:1310,22:1301,23:1048},"c-score":.3771885942971485,rating:1.5,location:{latitude:40.7443685,longitude:-73.9781439}},{id:"P1068603579",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":506,"taxi-zone":164,precinct:14,"b-score":{0:23,1:16,2:17,3:9,4:7,5:10,6:5,7:10,8:10,9:11,10:10,11:11,12:11,13:13,14:16,15:16,16:16,17:13,18:17,19:24,20:29,21:31,22:40,23:39},"c-score":1,rating:1.5,location:{latitude:40.7474521,longitude:-73.9837467}},{id:"P1077518596",name:"Hester Street Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":434,"taxi-zone":232,precinct:7,"b-score":{0:299,1:167,2:103,3:77,4:42,5:20,6:92,7:88,8:126,9:161,10:262,11:330,12:400,13:412,14:433,15:443,16:398,17:518,18:578,19:537,20:472,21:455,22:473,23:463},"c-score":.7858929464732366,rating:1.5,location:{latitude:40.7154087,longitude:-73.9893119}},{id:"P1082729243",name:"Saint Vartan Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":708,"taxi-zone":170,precinct:17,"b-score":{0:121,1:84,2:52,3:41,4:40,5:42,6:87,7:225,8:204,9:302,10:311,11:313,12:318,13:344,14:402,15:460,16:458,17:561,18:562,19:483,20:466,21:438,22:321,23:329},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7456086,longitude:-73.9748201}},{id:"P1083911850",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":429,"taxi-zone":79,precinct:9,"b-score":{0:171,1:196,2:161,3:143,4:101,5:135,6:331,7:170,8:160,9:185,10:207,11:233,12:246,13:257,14:263,15:264,16:254,17:258,18:234,19:235,20:231,21:596,22:451,23:366},"c-score":.48990623804056643,rating:1.5,location:{latitude:40.7231734,longitude:-73.987557}},{id:"P1087523912",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":607,"taxi-zone":137,precinct:13,"b-score":{0:622,1:398,2:287,3:232,4:206,5:117,6:185,7:420,8:346,9:532,10:457,11:456,12:596,13:587,14:779,15:784,16:780,17:920,18:1284,19:1286,20:1286,21:1310,22:1301,23:1048},"c-score":.6499952162265595,rating:1.5,location:{latitude:40.7408339,longitude:-73.9794828}},{id:"P1090764362",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"08:00-20:00","grid-id":1075,"taxi-zone":263,precinct:19,"b-score":{0:214,1:125,2:86,3:48,4:55,5:55,6:241,7:169,8:194,9:247,10:385,11:503,12:520,13:530,14:539,15:531,16:521,17:530,18:514,19:496,20:445,21:451,22:446,23:528},"c-score":.7237689756346473,rating:1.5,location:{latitude:40.7801006,longitude:-73.9524877}},{id:"P1095508395",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1532,"taxi-zone":127,precinct:34,"b-score":{0:674,1:460,2:358,3:259,4:259,5:302,6:893,7:702,8:712,9:778,10:903,11:961,12:1189,13:1307,14:1317,15:1326,16:1301,17:1539,18:1271,19:1278,20:1267,21:1267,22:1275,23:1008},"c-score":.5172056384742952,rating:1.5,location:{latitude:40.8674781,longitude:-73.9228727}},{id:"P1107165183",name:"Anibal Aviles Playground",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":899,"taxi-zone":24,precinct:24,"b-score":{0:574,1:281,2:240,3:118,4:163,5:241,6:1292,7:1081,8:1092,9:1276,10:1347,11:1364,12:1368,13:1393,14:1449,15:1448,16:1444,17:1489,18:1646,19:1649,20:1532,21:1558,22:1433,23:1037},"c-score":.4165709911978569,rating:1.5,location:{latitude:40.801159,longitude:-73.9627985}},{id:"P1121582607",name:"Herald Square",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":414,"taxi-zone":100,precinct:14,"b-score":{0:84,1:75,2:46,3:40,4:29,5:19,6:34,7:42,8:67,9:68,10:71,11:75,12:90,13:95,14:124,15:128,16:125,17:167,18:235,19:235,20:235,21:244,22:240,23:177},"c-score":1,rating:1.5,location:{latitude:40.750256,longitude:-73.987625}},{id:"P1121932385",name:"Greeley Square Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":415,"taxi-zone":164,precinct:14,"b-score":{0:23,1:16,2:17,3:9,4:7,5:10,6:5,7:10,8:10,9:11,10:10,11:11,12:11,13:13,14:16,15:16,16:16,17:13,18:17,19:24,20:29,21:31,22:40,23:39},"c-score":1,rating:1.5,location:{latitude:40.7487036,longitude:-73.9883472}},{id:"P1127559545",name:"Peck Slip",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":203,"taxi-zone":209,precinct:1,"b-score":{0:302,1:160,2:139,3:117,4:104,5:123,6:329,7:554,8:629,9:730,10:745,11:783,12:1106,13:1121,14:1193,15:1172,16:1121,17:1315,18:1304,19:1241,20:1174,21:1065,22:861,23:637},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7078001,longitude:-74.0015491}},{id:"P1127851294",name:"Imagination Playground",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":167,"taxi-zone":87,precinct:1,"b-score":{0:468,1:296,2:214,3:137,4:128,5:58,6:143,7:125,8:231,9:277,10:341,11:437,12:463,13:472,14:516,15:521,16:515,17:833,18:902,19:924,20:923,21:903,22:920,23:780},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7061989,longitude:-74.0040983}},{id:"P1135559125",name:"Unknown Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1268,"taxi-zone":244,precinct:34,"b-score":{0:51,1:20,2:15,3:13,4:13,5:13,6:36,7:45,8:57,9:70,10:78,11:91,12:105,13:109,14:112,15:124,16:99,17:107,18:132,19:129,20:135,21:139,22:140,23:88},"c-score":.5172056384742952,rating:1.5,location:{latitude:40.8505811,longitude:-73.9407742}},{id:"P1141662701",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":843,"taxi-zone":229,precinct:17,"b-score":{0:111,1:102,2:38,3:27,4:29,5:42,6:146,7:267,8:231,9:393,10:446,11:492,12:531,13:537,14:690,15:723,16:702,17:777,18:892,19:870,20:800,21:567,22:501,23:258},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7569158,longitude:-73.9662011}},{id:"P1173199006",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"08:00-21:00","grid-id":1116,"taxi-zone":263,precinct:19,"b-score":{0:214,1:125,2:86,3:48,4:55,5:55,6:241,7:169,8:194,9:247,10:385,11:503,12:520,13:530,14:539,15:531,16:521,17:530,18:514,19:496,20:445,21:451,22:446,23:528},"c-score":.7237689756346473,rating:1.5,location:{latitude:40.7825984,longitude:-73.949957}},{id:"P1173199007",name:"Unknown Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"yes",opening_hours:"24/7","grid-id":1116,"taxi-zone":263,precinct:19,"b-score":{0:214,1:125,2:86,3:48,4:55,5:55,6:241,7:169,8:194,9:247,10:385,11:503,12:520,13:530,14:539,15:531,16:521,17:530,18:514,19:496,20:445,21:451,22:446,23:528},"c-score":.7237689756346473,rating:1.5,location:{latitude:40.7826106,longitude:-73.9501576}},{id:"P1183761752",name:"Clara Coffey Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":924,"taxi-zone":229,precinct:17,"b-score":{0:111,1:102,2:38,3:27,4:29,5:42,6:146,7:267,8:231,9:393,10:446,11:492,12:531,13:537,14:690,15:723,16:702,17:777,18:892,19:870,20:800,21:567,22:501,23:258},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.755163,longitude:-73.9621444}},{id:"P1183958467",name:"MacArthur Playground",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":886,"taxi-zone":229,precinct:17,"b-score":{0:111,1:102,2:38,3:27,4:29,5:42,6:146,7:267,8:231,9:393,10:446,11:492,12:531,13:537,14:690,15:723,16:702,17:777,18:892,19:870,20:800,21:567,22:501,23:258},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.752273,longitude:-73.9651557}},{id:"P1188665117",name:"Pier 42 Deck",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":527,"taxi-zone":232,precinct:7,"b-score":{0:299,1:167,2:103,3:77,4:42,5:20,6:92,7:88,8:126,9:161,10:262,11:330,12:400,13:412,14:433,15:443,16:398,17:518,18:578,19:537,20:472,21:455,22:473,23:463},"c-score":.4246954330909555,rating:1.5,location:{latitude:40.7099785,longitude:-73.9823839}},{id:"P1751075",name:"John Jay Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":1124,"taxi-zone":140,precinct:19,"b-score":{0:149,1:166,2:112,3:65,4:68,5:70,6:108,7:275,8:236,9:184,10:178,11:179,12:187,13:189,14:205,15:269,16:265,17:283,18:274,19:262,20:267,21:274,22:237,23:222},"c-score":.7237689756346473,rating:1.5,location:{latitude:40.7692516,longitude:-73.9496384}},{id:"P3690816",name:"Highbridge Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1453,"taxi-zone":120,precinct:33,"b-score":{0:97,1:100,2:63,3:45,4:44,5:20,6:48,7:118,8:89,9:95,10:97,11:89,12:85,13:85,14:86,15:107,16:100,17:117,18:123,19:136,20:147,21:156,22:160,23:157},"c-score":.3926999617298125,rating:1.5,location:{latitude:40.8460051,longitude:-73.9319502}},{id:"P4099553",name:"Sara D. Roosevelt Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":349,"taxi-zone":148,precinct:5,"b-score":{0:88,1:72,2:61,3:53,4:48,5:18,6:43,7:64,8:94,9:96,10:109,11:119,12:119,13:118,14:119,15:120,16:121,17:121,18:120,19:122,20:122,21:122,22:119,23:120},"c-score":.37779850746268656,rating:1.5,location:{latitude:40.7196275,longitude:-73.9925973}},{id:"P5625630",name:"Fort Tryon Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1397,"taxi-zone":243,precinct:34,"b-score":{0:9,1:14,2:21,3:7,4:6,5:3,6:9,7:6,8:6,9:6,10:8,11:10,12:11,13:11,14:10,15:11,16:12,17:16,18:19,19:22,20:24,21:26,22:24,23:22},"c-score":.5172056384742952,rating:1.5,location:{latitude:40.8619781,longitude:-73.9326365}},{id:"P6802606",name:"Mannahatta Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":132,"taxi-zone":87,precinct:1,"b-score":{0:468,1:296,2:214,3:137,4:128,5:58,6:143,7:125,8:231,9:277,10:341,11:437,12:463,13:472,14:516,15:521,16:515,17:833,18:902,19:924,20:923,21:903,22:920,23:780},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7047848,longitude:-74.006686}},{id:"P6992452",name:"Dag Hammarskjold Plaza",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":807,"taxi-zone":233,precinct:17,"b-score":{0:323,1:428,2:89,3:72,4:107,5:161,6:641,7:773,8:777,9:850,10:937,11:1029,12:1157,13:1252,14:1285,15:1382,16:1848,17:1974,18:2076,19:1984,20:1986,21:1984,22:1469,23:1006},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7523203,longitude:-73.9688866}},{id:"P7095444",name:"Union Square Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":380,"taxi-zone":234,precinct:13,"b-score":{0:338,1:202,2:109,3:69,4:53,5:158,6:476,7:542,8:652,9:682,10:892,11:897,12:906,13:913,14:919,15:1092,16:1484,17:1589,18:1540,19:1557,20:1441,21:1446,22:1125,23:734},"c-score":.6499952162265595,rating:1.5,location:{latitude:40.7358088,longitude:-73.9904565}},{id:"P7095669",name:"Stuyvesant Square",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":513,"taxi-zone":107,precinct:13,"b-score":{0:69,1:71,2:26,3:19,4:16,5:20,6:40,7:68,8:66,9:110,10:111,11:117,12:121,13:127,14:146,15:145,16:144,17:180,18:181,19:163,20:150,21:146,22:144,23:103},"c-score":.6499952162265595,rating:1.5,location:{latitude:40.7336501,longitude:-73.9839997}},{id:"P7109446",name:"Theodore Roosevelt Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":688,"taxi-zone":239,precinct:20,"b-score":{0:98,1:114,2:40,3:25,4:24,5:35,6:96,7:152,8:156,9:189,10:297,11:307,12:323,13:334,14:329,15:340,16:328,17:334,18:309,19:302,20:299,21:307,22:299,23:278},"c-score":.36388569970659523,rating:1.5,location:{latitude:40.7813637,longitude:-73.9740819}},{id:"P7141751",name:"The High Line",type:"park",address:null,internet_access:null,wheelchair_accessible:"yes",opening_hours:"Mo-Su 07:00-19:00","grid-id":143,"taxi-zone":246,precinct:10,"b-score":{0:121,1:64,2:33,3:23,4:26,5:15,6:24,7:62,8:122,9:203,10:318,11:419,12:492,13:551,14:586,15:589,16:457,17:458,18:289,19:278,20:258,21:255,22:273,23:243},"c-score":.35804152315346344,rating:1.5,location:{latitude:40.7479527,longitude:-74.0039779}},{id:"P8176996",name:"Old Slip Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":99,"taxi-zone":87,precinct:1,"b-score":{0:468,1:296,2:214,3:137,4:128,5:58,6:143,7:125,8:231,9:277,10:341,11:437,12:463,13:472,14:516,15:521,16:515,17:833,18:902,19:924,20:923,21:903,22:920,23:780},"c-score":.613287728026534,rating:1.5,location:{latitude:40.7038707,longitude:-74.0085649}},{id:"P8456861",name:"Columbia University Well Garden",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":936,"taxi-zone":166,precinct:26,"b-score":{0:30,1:61,2:27,3:15,4:15,5:17,6:9,7:5,8:5,9:7,10:7,11:5,12:5,13:6,14:6,15:6,16:6,17:4,18:3,19:4,20:4,21:5,22:5,23:6},"c-score":.261656461283327,rating:1.5,location:{latitude:40.8081586,longitude:-73.9607078}},{id:"P9340888",name:"United Nations Garden",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":847,"taxi-zone":233,precinct:17,"b-score":{0:323,1:428,2:89,3:72,4:107,5:161,6:641,7:773,8:777,9:850,10:937,11:1029,12:1157,13:1252,14:1285,15:1382,16:1848,17:1974,18:2076,19:1984,20:1986,21:1984,22:1469,23:1006},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7509687,longitude:-73.9664023}},{id:"P9643461",name:"Nelson A. Rockefeller Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":33,"taxi-zone":13,precinct:1,"b-score":{0:474,1:359,2:248,3:192,4:147,5:108,6:452,7:449,8:356,9:595,10:623,11:716,12:804,13:827,14:867,15:879,16:886,17:1116,18:1040,19:1006,20:924,21:906,22:845,23:779},"c-score":.613287728026534,rating:1.5,location:{latitude:40.716889,longitude:-74.0152879}},{id:"P10025591",name:"West 59th Street Recreation Center",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":403,"taxi-zone":143,precinct:20,"b-score":{0:69,1:39,2:28,3:18,4:18,5:16,6:43,7:74,8:273,9:291,10:242,11:249,12:237,13:240,14:236,15:193,16:159,17:162,18:147,19:123,20:113,21:115,22:112,23:130},"c-score":.36388569970659523,rating:1.5,location:{latitude:40.7712414,longitude:-73.988724}},{id:"P10170445",name:"Low Plaza",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":895,"taxi-zone":166,precinct:26,"b-score":{0:30,1:61,2:27,3:15,4:15,5:17,6:9,7:5,8:5,9:7,10:7,11:5,12:5,13:6,14:6,15:6,16:6,17:4,18:3,19:4,20:4,21:5,22:5,23:6},"c-score":.261656461283327,rating:1.5,location:{latitude:40.8076784,longitude:-73.9622466}},{id:"P10571875",name:"Duke Ellington Circle",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1108,"taxi-zone":43,precinct:22,"b-score":{0:406,1:220,2:172,3:132,4:120,5:74,6:206,7:372,8:606,9:686,10:768,11:806,12:865,13:895,14:966,15:940,16:938,17:1175,18:1009,19:957,20:910,21:907,22:982,23:1109},"c-score":.2061030515257629,rating:1.5,location:{latitude:40.7968563,longitude:-73.949257}},{id:"P11037505",name:"Charles B. Benenson Grove",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":492,"taxi-zone":142,precinct:20,"b-score":{0:131,1:84,2:47,3:29,4:33,5:31,6:74,7:96,8:142,9:187,10:238,11:244,12:252,13:258,14:258,15:255,16:243,17:289,18:221,19:232,20:229,21:228,22:227,23:255},"c-score":.36388569970659523,rating:1.5,location:{latitude:40.7714021,longitude:-73.9835705}},{id:"P11077079",name:"African Burial Ground National Monument",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":162,"taxi-zone":231,precinct:5,"b-score":{0:443,1:285,2:211,3:114,4:90,5:55,6:61,7:89,8:155,9:194,10:222,11:371,12:416,13:414,14:416,15:410,16:405,17:375,18:480,19:485,20:490,21:499,22:563,23:533},"c-score":.3986993496748374,rating:1.5,location:{latitude:40.7145261,longitude:-74.004464}},{id:"P11225305",name:"Honey Locust Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":922,"taxi-zone":141,precinct:17,"b-score":{0:158,1:191,2:95,3:68,4:76,5:111,6:271,7:295,8:305,9:341,10:327,11:330,12:332,13:372,14:399,15:401,16:399,17:401,18:405,19:399,20:357,21:336,22:321,23:264},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7601599,longitude:-73.9628992}},{id:"P13613032",name:"Thomas Paine Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:"Mo-Su 06:00-01:00","grid-id":199,"taxi-zone":231,precinct:5,"b-score":{0:443,1:285,2:211,3:114,4:90,5:55,6:61,7:89,8:155,9:194,10:222,11:371,12:416,13:414,14:416,15:410,16:405,17:375,18:480,19:485,20:490,21:499,22:563,23:533},"c-score":.37779850746268656,rating:1.5,location:{latitude:40.714782,longitude:-74.0027707}},{id:"P13678220",name:"Bella Abzug Park",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":214,"taxi-zone":246,precinct:10,"b-score":{0:121,1:64,2:33,3:23,4:26,5:15,6:24,7:62,8:122,9:203,10:318,11:419,12:492,13:551,14:586,15:589,16:457,17:458,18:289,19:278,20:258,21:255,22:273,23:243},"c-score":.35804152315346344,rating:1.5,location:{latitude:40.7558415,longitude:-74.0003803}},{id:"P14374901",name:"Sherman Creek",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":1537,"taxi-zone":127,precinct:34,"b-score":{0:674,1:460,2:358,3:259,4:259,5:302,6:893,7:702,8:712,9:778,10:903,11:961,12:1189,13:1307,14:1317,15:1326,16:1301,17:1539,18:1271,19:1278,20:1267,21:1267,22:1275,23:1008},"c-score":.5172056384742952,rating:1.5,location:{latitude:40.8585719,longitude:-73.9216107}},{id:"P14425097",name:"Saint Vartan Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":708,"taxi-zone":170,precinct:17,"b-score":{0:121,1:84,2:52,3:41,4:40,5:42,6:87,7:225,8:204,9:302,10:311,11:313,12:318,13:344,14:402,15:460,16:458,17:561,18:562,19:483,20:466,21:438,22:321,23:329},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7452795,longitude:-73.9740145}},{id:"P15039698",name:"Silverstein Family Park",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":63,"taxi-zone":231,precinct:17,"b-score":{0:443,1:285,2:211,3:114,4:90,5:55,6:61,7:89,8:155,9:194,10:222,11:371,12:416,13:414,14:416,15:410,16:405,17:375,18:480,19:485,20:490,21:499,22:563,23:533},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7131852,longitude:-74.0114448}},{id:"P15902634",name:"Brooklyn Banks",type:"park",address:null,internet_access:null,wheelchair_accessible:null,opening_hours:null,"grid-id":201,"taxi-zone":45,precinct:5,"b-score":{0:407,1:224,2:78,3:38,4:71,5:190,6:509,7:1353,8:1776,9:1764,10:1835,11:1856,12:1914,13:1911,14:2582,15:2807,16:2520,17:2861,18:2906,19:1952,20:1497,21:1451,22:952,23:497},"c-score":.37779850746268656,rating:1.5,location:{latitude:40.7114732,longitude:-74.0027148}},{id:"P16000824",name:"Sutton Parks",type:"park",address:"null",internet_access:"null",wheelchair_accessible:"null",opening_hours:"null","grid-id":965,"taxi-zone":229,precinct:17,"b-score":{0:111,1:102,2:38,3:27,4:29,5:42,6:146,7:267,8:231,9:393,10:446,11:492,12:531,13:537,14:690,15:723,16:702,17:777,18:892,19:870,20:800,21:567,22:501,23:258},"c-score":.3421275035081005,rating:1.5,location:{latitude:40.7565069,longitude:-73.9605051}}],ek={data:vB},xB=(e,t,r,o)=>{const l=U.useRef(null),[u,f]=U.useState([]);return U.useEffect(()=>{if(l.current)return;l.current=new il.Map({container:e.current,style:"mapbox://styles/mapbox/light-v11",center:[r,t],zoom:o});const i=ek.data.map(_=>({id:_.id,name:_.name,latitude:_.location.latitude,longitude:_.location.longitude}));f(i),l.current.on("load",()=>{l.current.loadImage("/static/tree.png",(_,b)=>{if(_)throw _;l.current.addImage("cat",b),l.current.addSource("markers",{type:"geojson",data:{type:"FeatureCollection",features:i.map(E=>({type:"Feature",geometry:{type:"Point",coordinates:[E.longitude,E.latitude]},properties:{id:E.id,name:E.name}}))}}),l.current.addLayer({id:"markers",type:"symbol",source:"markers",layout:{"icon-image":"cat","icon-size":.25},paint:{"icon-opacity":.8}}),l.current.on("mouseenter","markers",()=>{l.current.getCanvas().style.cursor="pointer"}),l.current.on("mouseleave","markers",()=>{l.current.getCanvas().style.cursor=""})}),l.current.on("click",_=>{const b=l.current.queryRenderedFeatures(_.point,{layers:["markers"]});if(b.length>0){const E=b[0].geometry.coordinates.slice(),k=b[0].properties.name,R=b[0].properties.id;new il.Popup({className:"custom-popup"}).setLngLat(E).setHTML(`<div class="popup-content">${k}<br>${R}<br>${E}</div>`).addTo(l.current)}})})},[]),{map:l,markers:u}},bB="pk.eyJ1IjoiZmluYmFyYWxsYW4iLCJhIjoiY2xqY3NtYWN6MjV0ODNqcXhhaTY4aGQxdSJ9.VeVQzxCCtpyP_MeT1CkjOg";il.accessToken=bB;const wB=({inputValues:e})=>{const t=U.useRef(null),[r,o]=U.useState(40.727872),[l,u]=U.useState(-73.993157),[f,i]=U.useState(12.4),[_,b]=U.useState(!1),[E,k]=U.useState(""),[R,B]=U.useState([]),{map:F,markers:L}=xB(t,r,l,f),{route:X,displayRoute:$}=yB(F.current,e),{location:H,setLocation:G}=_B(F.current,_,b),Q=async te=>{k(te.target.value);const M=await(await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${encodeURIComponent(E)}.json?access_token=${il.accessToken}`)).json();if(M.features.length>0){const de=M.features[0].center,ce=M.features[0].place_name;console.log(`Place: ${ce}, Latitude: ${de[1]}, Longitude: ${de[0]}`),B(M.features.map(xe=>xe.place_name))}};return V.jsxs("div",{children:[V.jsx("button",{type:"submit",onClick:()=>{$()},children:"Go!"}),V.jsx("button",{onClick:()=>b(!_),children:_?"Selecting location...":"Select location"}),V.jsx("input",{type:"text",value:E,onChange:Q,placeholder:"Enter a place name"}),R.length>0&&V.jsx("div",{className:"suggestions-dropdown",children:R.map(te=>V.jsx("div",{onClick:()=>k(te),children:te},te))}),V.jsx("span",{children:H.address}),V.jsx("div",{ref:t,className:"map-container"})]})};function J(){return J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},J.apply(this,arguments)}function fh(e){return e!==null&&typeof e=="object"&&e.constructor===Object}function tk(e){if(!fh(e))return e;const t={};return Object.keys(e).forEach(r=>{t[r]=tk(e[r])}),t}function Ks(e,t,r={clone:!0}){const o=r.clone?J({},e):e;return fh(e)&&fh(t)&&Object.keys(t).forEach(l=>{l!=="__proto__"&&(fh(t[l])&&l in e&&fh(e[l])?o[l]=Ks(e[l],t[l],r):r.clone?o[l]=fh(t[l])?tk(t[l]):t[l]:o[l]=t[l])}),o}var nk={exports:{}},SB="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",TB=SB,CB=TB;function rk(){}function ik(){}ik.resetWarningCache=rk;var EB=function(){function e(o,l,u,f,i,_){if(_!==CB){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:ik,resetWarningCache:rk};return r.PropTypes=r,r};nk.exports=EB();var PB=nk.exports;const Ye=Ac(PB);function vd(e){let t="https://mui.com/production-error/?code="+e;for(let r=1;r<arguments.length;r+=1)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function wn(e){if(typeof e!="string")throw new Error(vd(7));return e.charAt(0).toUpperCase()+e.slice(1)}function iw(...e){return e.reduce((t,r)=>r==null?t:function(...l){t.apply(this,l),r.apply(this,l)},()=>{})}function Mf(e,t=166){let r;function o(...l){const u=()=>{e.apply(this,l)};clearTimeout(r),r=setTimeout(u,t)}return o.clear=()=>{clearTimeout(r)},o}function kB(e,t){return()=>null}function Um(e,t){return U.isValidElement(e)&&t.indexOf(e.type.muiName)!==-1}function bo(e){return e&&e.ownerDocument||document}function Pc(e){return bo(e).defaultView||window}function MB(e,t){return()=>null}function Sg(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const IB=typeof window<"u"?U.useLayoutEffect:U.useEffect,wo=IB;let aC=0;function AB(e){const[t,r]=U.useState(e),o=e||t;return U.useEffect(()=>{t==null&&(aC+=1,r(`mui-${aC}`))},[t]),o}const lC=rg["useId".toString()];function Ed(e){if(lC!==void 0){const t=lC();return e??t}return AB(e)}function DB(e,t,r,o,l){return null}function Js({controlled:e,default:t,name:r,state:o="value"}){const{current:l}=U.useRef(e!==void 0),[u,f]=U.useState(t),i=l?e:u,_=U.useCallback(b=>{l||f(b)},[]);return[i,_]}function Fn(e){const t=U.useRef(e);return wo(()=>{t.current=e}),U.useCallback((...r)=>(0,t.current)(...r),[])}function mi(...e){return U.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(r=>{Sg(r,t)})},e)}let E2=!0,ow=!1,cC;const RB={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function zB(e){const{type:t,tagName:r}=e;return!!(r==="INPUT"&&RB[t]&&!e.readOnly||r==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function LB(e){e.metaKey||e.altKey||e.ctrlKey||(E2=!0)}function Mb(){E2=!1}function OB(){this.visibilityState==="hidden"&&ow&&(E2=!0)}function FB(e){e.addEventListener("keydown",LB,!0),e.addEventListener("mousedown",Mb,!0),e.addEventListener("pointerdown",Mb,!0),e.addEventListener("touchstart",Mb,!0),e.addEventListener("visibilitychange",OB,!0)}function BB(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return E2||zB(t)}function ok(){const e=U.useCallback(l=>{l!=null&&FB(l.ownerDocument)},[]),t=U.useRef(!1);function r(){return t.current?(ow=!0,window.clearTimeout(cC),cC=window.setTimeout(()=>{ow=!1},100),t.current=!1,!0):!1}function o(l){return BB(l)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:o,onBlur:r,ref:e}}function sk(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}let Op;function ak(){if(Op)return Op;const e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),Op="reverse",e.scrollLeft>0?Op="default":(e.scrollLeft=1,e.scrollLeft===0&&(Op="negative")),document.body.removeChild(e),Op}function uC(e,t){const r=e.scrollLeft;if(t!=="rtl")return r;switch(ak()){case"negative":return e.scrollWidth-e.clientWidth+r;case"reverse":return e.scrollWidth-e.clientWidth-r;default:return r}}const NB=e=>{const t=U.useRef({});return U.useEffect(()=>{t.current=e}),t.current},$B=NB;function V4(e,t){const r=J({},t);return Object.keys(e).forEach(o=>{if(o.toString().match(/^(components|slots)$/))r[o]=J({},e[o],r[o]);else if(o.toString().match(/^(componentsProps|slotProps)$/)){const l=e[o]||{},u=t[o];r[o]={},!u||!Object.keys(u)?r[o]=l:!l||!Object.keys(l)?r[o]=u:(r[o]=J({},u),Object.keys(l).forEach(f=>{r[o][f]=V4(l[f],u[f])}))}else r[o]===void 0&&(r[o]=e[o])}),r}function Hn(e,t,r=void 0){const o={};return Object.keys(e).forEach(l=>{o[l]=e[l].reduce((u,f)=>{if(f){const i=t(f);i!==""&&u.push(i),r&&r[f]&&u.push(r[f])}return u},[]).join(" ")}),o}const dC=e=>e,jB=()=>{let e=dC;return{configure(t){e=t},generate(t){return e(t)},reset(){e=dC}}},VB=jB(),U4=VB,UB={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function qn(e,t,r="Mui"){const o=UB[t];return o?`${r}-${o}`:`${U4.generate(e)}-${t}`}function jn(e,t,r="Mui"){const o={};return t.forEach(l=>{o[l]=qn(e,l,r)}),o}const zh="$$material";function nn(e,t){if(e==null)return{};var r={},o=Object.keys(e),l,u;for(u=0;u<o.length;u++)l=o[u],!(t.indexOf(l)>=0)&&(r[l]=e[l]);return r}function lk(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var WB=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,HB=lk(function(e){return WB.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function GB(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function qB(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var ZB=function(){function e(r){var o=this;this._insertTag=function(l){var u;o.tags.length===0?o.insertionPoint?u=o.insertionPoint.nextSibling:o.prepend?u=o.container.firstChild:u=o.before:u=o.tags[o.tags.length-1].nextSibling,o.container.insertBefore(l,u),o.tags.push(l)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(o){o.forEach(this._insertTag)},t.insert=function(o){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(qB(this));var l=this.tags[this.tags.length-1];if(this.isSpeedy){var u=GB(l);try{u.insertRule(o,u.cssRules.length)}catch{}}else l.appendChild(document.createTextNode(o));this.ctr++},t.flush=function(){this.tags.forEach(function(o){return o.parentNode&&o.parentNode.removeChild(o)}),this.tags=[],this.ctr=0},e}(),gs="-ms-",O_="-moz-",ai="-webkit-",ck="comm",W4="rule",H4="decl",XB="@import",uk="@keyframes",YB="@layer",KB=Math.abs,P2=String.fromCharCode,JB=Object.assign;function QB(e,t){return Qo(e,0)^45?(((t<<2^Qo(e,0))<<2^Qo(e,1))<<2^Qo(e,2))<<2^Qo(e,3):0}function dk(e){return e.trim()}function eN(e,t){return(e=t.exec(e))?e[0]:e}function li(e,t,r){return e.replace(t,r)}function sw(e,t){return e.indexOf(t)}function Qo(e,t){return e.charCodeAt(t)|0}function Tg(e,t,r){return e.slice(t,r)}function mc(e){return e.length}function G4(e){return e.length}function Ey(e,t){return t.push(e),e}function tN(e,t){return e.map(t).join("")}var k2=1,If=1,hk=0,na=0,vo=0,Xf="";function M2(e,t,r,o,l,u,f){return{value:e,root:t,parent:r,type:o,props:l,children:u,line:k2,column:If,length:f,return:""}}function pm(e,t){return JB(M2("",null,null,"",null,null,0),e,{length:-e.length},t)}function nN(){return vo}function rN(){return vo=na>0?Qo(Xf,--na):0,If--,vo===10&&(If=1,k2--),vo}function Ca(){return vo=na<hk?Qo(Xf,na++):0,If++,vo===10&&(If=1,k2++),vo}function Cc(){return Qo(Xf,na)}function Qy(){return na}function Gg(e,t){return Tg(Xf,e,t)}function Cg(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function pk(e){return k2=If=1,hk=mc(Xf=e),na=0,[]}function fk(e){return Xf="",e}function e_(e){return dk(Gg(na-1,aw(e===91?e+2:e===40?e+1:e)))}function iN(e){for(;(vo=Cc())&&vo<33;)Ca();return Cg(e)>2||Cg(vo)>3?"":" "}function oN(e,t){for(;--t&&Ca()&&!(vo<48||vo>102||vo>57&&vo<65||vo>70&&vo<97););return Gg(e,Qy()+(t<6&&Cc()==32&&Ca()==32))}function aw(e){for(;Ca();)switch(vo){case e:return na;case 34:case 39:e!==34&&e!==39&&aw(vo);break;case 40:e===41&&aw(e);break;case 92:Ca();break}return na}function sN(e,t){for(;Ca()&&e+vo!==47+10;)if(e+vo===42+42&&Cc()===47)break;return"/*"+Gg(t,na-1)+"*"+P2(e===47?e:Ca())}function aN(e){for(;!Cg(Cc());)Ca();return Gg(e,na)}function lN(e){return fk(t_("",null,null,null,[""],e=pk(e),0,[0],e))}function t_(e,t,r,o,l,u,f,i,_){for(var b=0,E=0,k=f,R=0,B=0,F=0,L=1,X=1,$=1,H=0,G="",Q=l,te=u,le=o,M=G;X;)switch(F=H,H=Ca()){case 40:if(F!=108&&Qo(M,k-1)==58){sw(M+=li(e_(H),"&","&\f"),"&\f")!=-1&&($=-1);break}case 34:case 39:case 91:M+=e_(H);break;case 9:case 10:case 13:case 32:M+=iN(F);break;case 92:M+=oN(Qy()-1,7);continue;case 47:switch(Cc()){case 42:case 47:Ey(cN(sN(Ca(),Qy()),t,r),_);break;default:M+="/"}break;case 123*L:i[b++]=mc(M)*$;case 125*L:case 59:case 0:switch(H){case 0:case 125:X=0;case 59+E:$==-1&&(M=li(M,/\f/g,"")),B>0&&mc(M)-k&&Ey(B>32?pC(M+";",o,r,k-1):pC(li(M," ","")+";",o,r,k-2),_);break;case 59:M+=";";default:if(Ey(le=hC(M,t,r,b,E,l,i,G,Q=[],te=[],k),u),H===123)if(E===0)t_(M,t,le,le,Q,u,k,i,te);else switch(R===99&&Qo(M,3)===110?100:R){case 100:case 108:case 109:case 115:t_(e,le,le,o&&Ey(hC(e,le,le,0,0,l,i,G,l,Q=[],k),te),l,te,k,i,o?Q:te);break;default:t_(M,le,le,le,[""],te,0,i,te)}}b=E=B=0,L=$=1,G=M="",k=f;break;case 58:k=1+mc(M),B=F;default:if(L<1){if(H==123)--L;else if(H==125&&L++==0&&rN()==125)continue}switch(M+=P2(H),H*L){case 38:$=E>0?1:(M+="\f",-1);break;case 44:i[b++]=(mc(M)-1)*$,$=1;break;case 64:Cc()===45&&(M+=e_(Ca())),R=Cc(),E=k=mc(G=M+=aN(Qy())),H++;break;case 45:F===45&&mc(M)==2&&(L=0)}}return u}function hC(e,t,r,o,l,u,f,i,_,b,E){for(var k=l-1,R=l===0?u:[""],B=G4(R),F=0,L=0,X=0;F<o;++F)for(var $=0,H=Tg(e,k+1,k=KB(L=f[F])),G=e;$<B;++$)(G=dk(L>0?R[$]+" "+H:li(H,/&\f/g,R[$])))&&(_[X++]=G);return M2(e,t,r,l===0?W4:i,_,b,E)}function cN(e,t,r){return M2(e,t,r,ck,P2(nN()),Tg(e,2,-2),0)}function pC(e,t,r,o){return M2(e,t,r,H4,Tg(e,0,o),Tg(e,o+1,-1),o)}function mf(e,t){for(var r="",o=G4(e),l=0;l<o;l++)r+=t(e[l],l,e,t)||"";return r}function uN(e,t,r,o){switch(e.type){case YB:if(e.children.length)break;case XB:case H4:return e.return=e.return||e.value;case ck:return"";case uk:return e.return=e.value+"{"+mf(e.children,o)+"}";case W4:e.value=e.props.join(",")}return mc(r=mf(e.children,o))?e.return=e.value+"{"+r+"}":""}function dN(e){var t=G4(e);return function(r,o,l,u){for(var f="",i=0;i<t;i++)f+=e[i](r,o,l,u)||"";return f}}function hN(e){return function(t){t.root||(t=t.return)&&e(t)}}var pN=function(t,r,o){for(var l=0,u=0;l=u,u=Cc(),l===38&&u===12&&(r[o]=1),!Cg(u);)Ca();return Gg(t,na)},fN=function(t,r){var o=-1,l=44;do switch(Cg(l)){case 0:l===38&&Cc()===12&&(r[o]=1),t[o]+=pN(na-1,r,o);break;case 2:t[o]+=e_(l);break;case 4:if(l===44){t[++o]=Cc()===58?"&\f":"",r[o]=t[o].length;break}default:t[o]+=P2(l)}while(l=Ca());return t},mN=function(t,r){return fk(fN(pk(t),r))},fC=new WeakMap,gN=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,o=t.parent,l=t.column===o.column&&t.line===o.line;o.type!=="rule";)if(o=o.parent,!o)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!fC.get(o))&&!l){fC.set(t,!0);for(var u=[],f=mN(r,u),i=o.props,_=0,b=0;_<f.length;_++)for(var E=0;E<i.length;E++,b++)t.props[b]=u[_]?f[_].replace(/&\f/g,i[E]):i[E]+" "+f[_]}}},yN=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function mk(e,t){switch(QB(e,t)){case 5103:return ai+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ai+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ai+e+O_+e+gs+e+e;case 6828:case 4268:return ai+e+gs+e+e;case 6165:return ai+e+gs+"flex-"+e+e;case 5187:return ai+e+li(e,/(\w+).+(:[^]+)/,ai+"box-$1$2"+gs+"flex-$1$2")+e;case 5443:return ai+e+gs+"flex-item-"+li(e,/flex-|-self/,"")+e;case 4675:return ai+e+gs+"flex-line-pack"+li(e,/align-content|flex-|-self/,"")+e;case 5548:return ai+e+gs+li(e,"shrink","negative")+e;case 5292:return ai+e+gs+li(e,"basis","preferred-size")+e;case 6060:return ai+"box-"+li(e,"-grow","")+ai+e+gs+li(e,"grow","positive")+e;case 4554:return ai+li(e,/([^-])(transform)/g,"$1"+ai+"$2")+e;case 6187:return li(li(li(e,/(zoom-|grab)/,ai+"$1"),/(image-set)/,ai+"$1"),e,"")+e;case 5495:case 3959:return li(e,/(image-set\([^]*)/,ai+"$1$`$1");case 4968:return li(li(e,/(.+:)(flex-)?(.*)/,ai+"box-pack:$3"+gs+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ai+e+e;case 4095:case 3583:case 4068:case 2532:return li(e,/(.+)-inline(.+)/,ai+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(mc(e)-1-t>6)switch(Qo(e,t+1)){case 109:if(Qo(e,t+4)!==45)break;case 102:return li(e,/(.+:)(.+)-([^]+)/,"$1"+ai+"$2-$3$1"+O_+(Qo(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~sw(e,"stretch")?mk(li(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Qo(e,t+1)!==115)break;case 6444:switch(Qo(e,mc(e)-3-(~sw(e,"!important")&&10))){case 107:return li(e,":",":"+ai)+e;case 101:return li(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ai+(Qo(e,14)===45?"inline-":"")+"box$3$1"+ai+"$2$3$1"+gs+"$2box$3")+e}break;case 5936:switch(Qo(e,t+11)){case 114:return ai+e+gs+li(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ai+e+gs+li(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ai+e+gs+li(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ai+e+gs+e+e}return e}var _N=function(t,r,o,l){if(t.length>-1&&!t.return)switch(t.type){case H4:t.return=mk(t.value,t.length);break;case uk:return mf([pm(t,{value:li(t.value,"@","@"+ai)})],l);case W4:if(t.length)return tN(t.props,function(u){switch(eN(u,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return mf([pm(t,{props:[li(u,/:(read-\w+)/,":"+O_+"$1")]})],l);case"::placeholder":return mf([pm(t,{props:[li(u,/:(plac\w+)/,":"+ai+"input-$1")]}),pm(t,{props:[li(u,/:(plac\w+)/,":"+O_+"$1")]}),pm(t,{props:[li(u,/:(plac\w+)/,gs+"input-$1")]})],l)}return""})}},vN=[_N],xN=function(t){var r=t.key;if(r==="css"){var o=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(o,function(L){var X=L.getAttribute("data-emotion");X.indexOf(" ")!==-1&&(document.head.appendChild(L),L.setAttribute("data-s",""))})}var l=t.stylisPlugins||vN,u={},f,i=[];f=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(L){for(var X=L.getAttribute("data-emotion").split(" "),$=1;$<X.length;$++)u[X[$]]=!0;i.push(L)});var _,b=[gN,yN];{var E,k=[uN,hN(function(L){E.insert(L)})],R=dN(b.concat(l,k)),B=function(X){return mf(lN(X),R)};_=function(X,$,H,G){E=H,B(X?X+"{"+$.styles+"}":$.styles),G&&(F.inserted[$.name]=!0)}}var F={key:r,sheet:new ZB({key:r,container:f,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:u,registered:{},insert:_};return F.sheet.hydrate(i),F},gk={exports:{}},gi={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Go=typeof Symbol=="function"&&Symbol.for,q4=Go?Symbol.for("react.element"):60103,Z4=Go?Symbol.for("react.portal"):60106,I2=Go?Symbol.for("react.fragment"):60107,A2=Go?Symbol.for("react.strict_mode"):60108,D2=Go?Symbol.for("react.profiler"):60114,R2=Go?Symbol.for("react.provider"):60109,z2=Go?Symbol.for("react.context"):60110,X4=Go?Symbol.for("react.async_mode"):60111,L2=Go?Symbol.for("react.concurrent_mode"):60111,O2=Go?Symbol.for("react.forward_ref"):60112,F2=Go?Symbol.for("react.suspense"):60113,bN=Go?Symbol.for("react.suspense_list"):60120,B2=Go?Symbol.for("react.memo"):60115,N2=Go?Symbol.for("react.lazy"):60116,wN=Go?Symbol.for("react.block"):60121,SN=Go?Symbol.for("react.fundamental"):60117,TN=Go?Symbol.for("react.responder"):60118,CN=Go?Symbol.for("react.scope"):60119;function Aa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case q4:switch(e=e.type,e){case X4:case L2:case I2:case D2:case A2:case F2:return e;default:switch(e=e&&e.$$typeof,e){case z2:case O2:case N2:case B2:case R2:return e;default:return t}}case Z4:return t}}}function yk(e){return Aa(e)===L2}gi.AsyncMode=X4;gi.ConcurrentMode=L2;gi.ContextConsumer=z2;gi.ContextProvider=R2;gi.Element=q4;gi.ForwardRef=O2;gi.Fragment=I2;gi.Lazy=N2;gi.Memo=B2;gi.Portal=Z4;gi.Profiler=D2;gi.StrictMode=A2;gi.Suspense=F2;gi.isAsyncMode=function(e){return yk(e)||Aa(e)===X4};gi.isConcurrentMode=yk;gi.isContextConsumer=function(e){return Aa(e)===z2};gi.isContextProvider=function(e){return Aa(e)===R2};gi.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===q4};gi.isForwardRef=function(e){return Aa(e)===O2};gi.isFragment=function(e){return Aa(e)===I2};gi.isLazy=function(e){return Aa(e)===N2};gi.isMemo=function(e){return Aa(e)===B2};gi.isPortal=function(e){return Aa(e)===Z4};gi.isProfiler=function(e){return Aa(e)===D2};gi.isStrictMode=function(e){return Aa(e)===A2};gi.isSuspense=function(e){return Aa(e)===F2};gi.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===I2||e===L2||e===D2||e===A2||e===F2||e===bN||typeof e=="object"&&e!==null&&(e.$$typeof===N2||e.$$typeof===B2||e.$$typeof===R2||e.$$typeof===z2||e.$$typeof===O2||e.$$typeof===SN||e.$$typeof===TN||e.$$typeof===CN||e.$$typeof===wN)};gi.typeOf=Aa;gk.exports=gi;var EN=gk.exports,_k=EN,PN={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},kN={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},vk={};vk[_k.ForwardRef]=PN;vk[_k.Memo]=kN;var MN=!0;function xk(e,t,r){var o="";return r.split(" ").forEach(function(l){e[l]!==void 0?t.push(e[l]+";"):o+=l+" "}),o}var Y4=function(t,r,o){var l=t.key+"-"+r.name;(o===!1||MN===!1)&&t.registered[l]===void 0&&(t.registered[l]=r.styles)},K4=function(t,r,o){Y4(t,r,o);var l=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var u=r;do t.insert(r===u?"."+l:"",u,t.sheet,!0),u=u.next;while(u!==void 0)}};function IN(e){for(var t=0,r,o=0,l=e.length;l>=4;++o,l-=4)r=e.charCodeAt(o)&255|(e.charCodeAt(++o)&255)<<8|(e.charCodeAt(++o)&255)<<16|(e.charCodeAt(++o)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(l){case 3:t^=(e.charCodeAt(o+2)&255)<<16;case 2:t^=(e.charCodeAt(o+1)&255)<<8;case 1:t^=e.charCodeAt(o)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var AN={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},DN=/[A-Z]|^ms/g,RN=/_EMO_([^_]+?)_([^]*?)_EMO_/g,bk=function(t){return t.charCodeAt(1)===45},mC=function(t){return t!=null&&typeof t!="boolean"},Ib=lk(function(e){return bk(e)?e:e.replace(DN,"-$&").toLowerCase()}),gC=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(RN,function(o,l,u){return gc={name:l,styles:u,next:gc},l})}return AN[t]!==1&&!bk(t)&&typeof r=="number"&&r!==0?r+"px":r};function Eg(e,t,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return gc={name:r.name,styles:r.styles,next:gc},r.name;if(r.styles!==void 0){var o=r.next;if(o!==void 0)for(;o!==void 0;)gc={name:o.name,styles:o.styles,next:gc},o=o.next;var l=r.styles+";";return l}return zN(e,t,r)}case"function":{if(e!==void 0){var u=gc,f=r(e);return gc=u,Eg(e,t,f)}break}}if(t==null)return r;var i=t[r];return i!==void 0?i:r}function zN(e,t,r){var o="";if(Array.isArray(r))for(var l=0;l<r.length;l++)o+=Eg(e,t,r[l])+";";else for(var u in r){var f=r[u];if(typeof f!="object")t!=null&&t[f]!==void 0?o+=u+"{"+t[f]+"}":mC(f)&&(o+=Ib(u)+":"+gC(u,f)+";");else if(Array.isArray(f)&&typeof f[0]=="string"&&(t==null||t[f[0]]===void 0))for(var i=0;i<f.length;i++)mC(f[i])&&(o+=Ib(u)+":"+gC(u,f[i])+";");else{var _=Eg(e,t,f);switch(u){case"animation":case"animationName":{o+=Ib(u)+":"+_+";";break}default:o+=u+"{"+_+"}"}}}return o}var yC=/label:\s*([^\s;\n{]+)\s*(;|$)/g,gc,$2=function(t,r,o){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var l=!0,u="";gc=void 0;var f=t[0];f==null||f.raw===void 0?(l=!1,u+=Eg(o,r,f)):u+=f[0];for(var i=1;i<t.length;i++)u+=Eg(o,r,t[i]),l&&(u+=f[i]);yC.lastIndex=0;for(var _="",b;(b=yC.exec(u))!==null;)_+="-"+b[1];var E=IN(u)+_;return{name:E,styles:u,next:gc}},LN=function(t){return t()},wk=rg["useInsertionEffect"]?rg["useInsertionEffect"]:!1,Sk=wk||LN,_C=wk||U.useLayoutEffect,J4={}.hasOwnProperty,Tk=U.createContext(typeof HTMLElement<"u"?xN({key:"css"}):null);Tk.Provider;var Q4=function(t){return U.forwardRef(function(r,o){var l=U.useContext(Tk);return t(r,l,o)})},qg=U.createContext({}),lw="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",ON=function(t,r){var o={};for(var l in r)J4.call(r,l)&&(o[l]=r[l]);return o[lw]=t,o},FN=function(t){var r=t.cache,o=t.serialized,l=t.isStringTag;return Y4(r,o,l),Sk(function(){return K4(r,o,l)}),null},BN=Q4(function(e,t,r){var o=e.css;typeof o=="string"&&t.registered[o]!==void 0&&(o=t.registered[o]);var l=e[lw],u=[o],f="";typeof e.className=="string"?f=xk(t.registered,u,e.className):e.className!=null&&(f=e.className+" ");var i=$2(u,void 0,U.useContext(qg));f+=t.key+"-"+i.name;var _={};for(var b in e)J4.call(e,b)&&b!=="css"&&b!==lw&&(_[b]=e[b]);return _.ref=r,_.className=f,U.createElement(U.Fragment,null,U.createElement(FN,{cache:t,serialized:i,isStringTag:typeof l=="string"}),U.createElement(l,_))}),NN=BN,dr=function(t,r){var o=arguments;if(r==null||!J4.call(r,"css"))return U.createElement.apply(void 0,o);var l=o.length,u=new Array(l);u[0]=NN,u[1]=ON(t,r);for(var f=2;f<l;f++)u[f]=o[f];return U.createElement.apply(null,u)},$N=Q4(function(e,t){var r=e.styles,o=$2([r],void 0,U.useContext(qg)),l=U.useRef();return _C(function(){var u=t.key+"-global",f=new t.sheet.constructor({key:u,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),i=!1,_=document.querySelector('style[data-emotion="'+u+" "+o.name+'"]');return t.sheet.tags.length&&(f.before=t.sheet.tags[0]),_!==null&&(i=!0,_.setAttribute("data-emotion",u),f.hydrate([_])),l.current=[f,i],function(){f.flush()}},[t]),_C(function(){var u=l.current,f=u[0],i=u[1];if(i){u[1]=!1;return}if(o.next!==void 0&&K4(t,o.next,!0),f.tags.length){var _=f.tags[f.tags.length-1].nextElementSibling;f.before=_,f.flush()}t.insert("",o,f,!1)},[t,o.name]),null});function e5(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return $2(t)}var j2=function(){var t=e5.apply(void 0,arguments),r="animation-"+t.name;return{name:r,styles:"@keyframes "+r+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},jN=HB,VN=function(t){return t!=="theme"},vC=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?jN:VN},xC=function(t,r,o){var l;if(r){var u=r.shouldForwardProp;l=t.__emotion_forwardProp&&u?function(f){return t.__emotion_forwardProp(f)&&u(f)}:u}return typeof l!="function"&&o&&(l=t.__emotion_forwardProp),l},UN=function(t){var r=t.cache,o=t.serialized,l=t.isStringTag;return Y4(r,o,l),Sk(function(){return K4(r,o,l)}),null},WN=function e(t,r){var o=t.__emotion_real===t,l=o&&t.__emotion_base||t,u,f;r!==void 0&&(u=r.label,f=r.target);var i=xC(t,r,o),_=i||vC(l),b=!_("as");return function(){var E=arguments,k=o&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(u!==void 0&&k.push("label:"+u+";"),E[0]==null||E[0].raw===void 0)k.push.apply(k,E);else{k.push(E[0][0]);for(var R=E.length,B=1;B<R;B++)k.push(E[B],E[0][B])}var F=Q4(function(L,X,$){var H=b&&L.as||l,G="",Q=[],te=L;if(L.theme==null){te={};for(var le in L)te[le]=L[le];te.theme=U.useContext(qg)}typeof L.className=="string"?G=xk(X.registered,Q,L.className):L.className!=null&&(G=L.className+" ");var M=$2(k.concat(Q),X.registered,te);G+=X.key+"-"+M.name,f!==void 0&&(G+=" "+f);var de=b&&i===void 0?vC(H):_,ce={};for(var xe in L)b&&xe==="as"||de(xe)&&(ce[xe]=L[xe]);return ce.className=G,ce.ref=$,U.createElement(U.Fragment,null,U.createElement(UN,{cache:X,serialized:M,isStringTag:typeof H=="string"}),U.createElement(H,ce))});return F.displayName=u!==void 0?u:"Styled("+(typeof l=="string"?l:l.displayName||l.name||"Component")+")",F.defaultProps=t.defaultProps,F.__emotion_real=F,F.__emotion_base=l,F.__emotion_styles=k,F.__emotion_forwardProp=i,Object.defineProperty(F,"toString",{value:function(){return"."+f}}),F.withComponent=function(L,X){return e(L,J({},r,X,{shouldForwardProp:xC(F,X,!0)})).apply(void 0,k)},F}},HN=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],cw=WN.bind();HN.forEach(function(e){cw[e]=cw(e)});function GN(e){return e==null||Object.keys(e).length===0}function qN(e){const{styles:t,defaultTheme:r={}}=e,o=typeof t=="function"?l=>t(GN(l)?r:l):t;return V.jsx($N,{styles:o})}/**
 * @mui/styled-engine v5.13.2
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Ck(e,t){return cw(e,t)}const ZN=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},XN=["values","unit","step"],YN=e=>{const t=Object.keys(e).map(r=>({key:r,val:e[r]}))||[];return t.sort((r,o)=>r.val-o.val),t.reduce((r,o)=>J({},r,{[o.key]:o.val}),{})};function KN(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:o=5}=e,l=nn(e,XN),u=YN(t),f=Object.keys(u);function i(R){return`@media (min-width:${typeof t[R]=="number"?t[R]:R}${r})`}function _(R){return`@media (max-width:${(typeof t[R]=="number"?t[R]:R)-o/100}${r})`}function b(R,B){const F=f.indexOf(B);return`@media (min-width:${typeof t[R]=="number"?t[R]:R}${r}) and (max-width:${(F!==-1&&typeof t[f[F]]=="number"?t[f[F]]:B)-o/100}${r})`}function E(R){return f.indexOf(R)+1<f.length?b(R,f[f.indexOf(R)+1]):i(R)}function k(R){const B=f.indexOf(R);return B===0?i(f[1]):B===f.length-1?_(f[B]):b(R,f[f.indexOf(R)+1]).replace("@media","@media not all and")}return J({keys:f,values:u,up:i,down:_,between:b,only:E,not:k,unit:r},l)}const JN={borderRadius:4},QN=JN;function Wm(e,t){return t?Ks(e,t,{clone:!1}):e}const t5={xs:0,sm:600,md:900,lg:1200,xl:1536},bC={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${t5[e]}px)`};function ra(e,t,r){const o=e.theme||{};if(Array.isArray(t)){const u=o.breakpoints||bC;return t.reduce((f,i,_)=>(f[u.up(u.keys[_])]=r(t[_]),f),{})}if(typeof t=="object"){const u=o.breakpoints||bC;return Object.keys(t).reduce((f,i)=>{if(Object.keys(u.values||t5).indexOf(i)!==-1){const _=u.up(i);f[_]=r(t[i],i)}else{const _=i;f[_]=t[_]}return f},{})}return r(t)}function Ek(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((o,l)=>{const u=e.up(l);return o[u]={},o},{}))||{}}function Pk(e,t){return e.reduce((r,o)=>{const l=r[o];return(!l||Object.keys(l).length===0)&&delete r[o],r},t)}function e$(e,...t){const r=Ek(e),o=[r,...t].reduce((l,u)=>Ks(l,u),{});return Pk(Object.keys(r),o)}function t$(e,t){if(typeof e!="object")return{};const r={},o=Object.keys(t);return Array.isArray(e)?o.forEach((l,u)=>{u<e.length&&(r[l]=!0)}):o.forEach(l=>{e[l]!=null&&(r[l]=!0)}),r}function Sh({values:e,breakpoints:t,base:r}){const o=r||t$(e,t),l=Object.keys(o);if(l.length===0)return e;let u;return l.reduce((f,i,_)=>(Array.isArray(e)?(f[i]=e[_]!=null?e[_]:e[u],u=_):typeof e=="object"?(f[i]=e[i]!=null?e[i]:e[u],u=i):f[i]=e,f),{})}function V2(e,t,r=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&r){const o=`vars.${t}`.split(".").reduce((l,u)=>l&&l[u]?l[u]:null,e);if(o!=null)return o}return t.split(".").reduce((o,l)=>o&&o[l]!=null?o[l]:null,e)}function F_(e,t,r,o=r){let l;return typeof e=="function"?l=e(r):Array.isArray(e)?l=e[r]||o:l=V2(e,r)||o,t&&(l=t(l,o,e)),l}function di(e){const{prop:t,cssProperty:r=e.prop,themeKey:o,transform:l}=e,u=f=>{if(f[t]==null)return null;const i=f[t],_=f.theme,b=V2(_,o)||{};return ra(f,i,k=>{let R=F_(b,l,k);return k===R&&typeof k=="string"&&(R=F_(b,l,`${t}${k==="default"?"":wn(k)}`,k)),r===!1?R:{[r]:R}})};return u.propTypes={},u.filterProps=[t],u}function n$(e){const t={};return r=>(t[r]===void 0&&(t[r]=e(r)),t[r])}const r$={m:"margin",p:"padding"},i$={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},wC={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},o$=n$(e=>{if(e.length>2)if(wC[e])e=wC[e];else return[e];const[t,r]=e.split(""),o=r$[t],l=i$[r]||"";return Array.isArray(l)?l.map(u=>o+u):[o+l]}),n5=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],r5=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...n5,...r5];function Zg(e,t,r,o){var l;const u=(l=V2(e,t,!1))!=null?l:r;return typeof u=="number"?f=>typeof f=="string"?f:u*f:Array.isArray(u)?f=>typeof f=="string"?f:u[f]:typeof u=="function"?u:()=>{}}function i5(e){return Zg(e,"spacing",8)}function Lh(e,t){if(typeof t=="string"||t==null)return t;const r=Math.abs(t),o=e(r);return t>=0?o:typeof o=="number"?-o:`-${o}`}function s$(e,t){return r=>e.reduce((o,l)=>(o[l]=Lh(t,r),o),{})}function a$(e,t,r,o){if(t.indexOf(r)===-1)return null;const l=o$(r),u=s$(l,o),f=e[r];return ra(e,f,u)}function kk(e,t){const r=i5(e.theme);return Object.keys(e).map(o=>a$(e,t,o,r)).reduce(Wm,{})}function io(e){return kk(e,n5)}io.propTypes={};io.filterProps=n5;function oo(e){return kk(e,r5)}oo.propTypes={};oo.filterProps=r5;function l$(e=8){if(e.mui)return e;const t=i5({spacing:e}),r=(...o)=>(o.length===0?[1]:o).map(u=>{const f=t(u);return typeof f=="number"?`${f}px`:f}).join(" ");return r.mui=!0,r}function U2(...e){const t=e.reduce((o,l)=>(l.filterProps.forEach(u=>{o[u]=l}),o),{}),r=o=>Object.keys(o).reduce((l,u)=>t[u]?Wm(l,t[u](o)):l,{});return r.propTypes={},r.filterProps=e.reduce((o,l)=>o.concat(l.filterProps),[]),r}function vc(e){return typeof e!="number"?e:`${e}px solid`}const c$=di({prop:"border",themeKey:"borders",transform:vc}),u$=di({prop:"borderTop",themeKey:"borders",transform:vc}),d$=di({prop:"borderRight",themeKey:"borders",transform:vc}),h$=di({prop:"borderBottom",themeKey:"borders",transform:vc}),p$=di({prop:"borderLeft",themeKey:"borders",transform:vc}),f$=di({prop:"borderColor",themeKey:"palette"}),m$=di({prop:"borderTopColor",themeKey:"palette"}),g$=di({prop:"borderRightColor",themeKey:"palette"}),y$=di({prop:"borderBottomColor",themeKey:"palette"}),_$=di({prop:"borderLeftColor",themeKey:"palette"}),W2=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Zg(e.theme,"shape.borderRadius",4),r=o=>({borderRadius:Lh(t,o)});return ra(e,e.borderRadius,r)}return null};W2.propTypes={};W2.filterProps=["borderRadius"];U2(c$,u$,d$,h$,p$,f$,m$,g$,y$,_$,W2);const H2=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Zg(e.theme,"spacing",8),r=o=>({gap:Lh(t,o)});return ra(e,e.gap,r)}return null};H2.propTypes={};H2.filterProps=["gap"];const G2=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Zg(e.theme,"spacing",8),r=o=>({columnGap:Lh(t,o)});return ra(e,e.columnGap,r)}return null};G2.propTypes={};G2.filterProps=["columnGap"];const q2=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Zg(e.theme,"spacing",8),r=o=>({rowGap:Lh(t,o)});return ra(e,e.rowGap,r)}return null};q2.propTypes={};q2.filterProps=["rowGap"];const v$=di({prop:"gridColumn"}),x$=di({prop:"gridRow"}),b$=di({prop:"gridAutoFlow"}),w$=di({prop:"gridAutoColumns"}),S$=di({prop:"gridAutoRows"}),T$=di({prop:"gridTemplateColumns"}),C$=di({prop:"gridTemplateRows"}),E$=di({prop:"gridTemplateAreas"}),P$=di({prop:"gridArea"});U2(H2,G2,q2,v$,x$,b$,w$,S$,T$,C$,E$,P$);function gf(e,t){return t==="grey"?t:e}const k$=di({prop:"color",themeKey:"palette",transform:gf}),M$=di({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:gf}),I$=di({prop:"backgroundColor",themeKey:"palette",transform:gf});U2(k$,M$,I$);function ba(e){return e<=1&&e!==0?`${e*100}%`:e}const A$=di({prop:"width",transform:ba}),o5=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=r=>{var o,l,u;return{maxWidth:((o=e.theme)==null||(l=o.breakpoints)==null||(u=l.values)==null?void 0:u[r])||t5[r]||ba(r)}};return ra(e,e.maxWidth,t)}return null};o5.filterProps=["maxWidth"];const D$=di({prop:"minWidth",transform:ba}),R$=di({prop:"height",transform:ba}),z$=di({prop:"maxHeight",transform:ba}),L$=di({prop:"minHeight",transform:ba});di({prop:"size",cssProperty:"width",transform:ba});di({prop:"size",cssProperty:"height",transform:ba});const O$=di({prop:"boxSizing"});U2(A$,o5,D$,R$,z$,L$,O$);const F$={border:{themeKey:"borders",transform:vc},borderTop:{themeKey:"borders",transform:vc},borderRight:{themeKey:"borders",transform:vc},borderBottom:{themeKey:"borders",transform:vc},borderLeft:{themeKey:"borders",transform:vc},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:W2},color:{themeKey:"palette",transform:gf},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:gf},backgroundColor:{themeKey:"palette",transform:gf},p:{style:oo},pt:{style:oo},pr:{style:oo},pb:{style:oo},pl:{style:oo},px:{style:oo},py:{style:oo},padding:{style:oo},paddingTop:{style:oo},paddingRight:{style:oo},paddingBottom:{style:oo},paddingLeft:{style:oo},paddingX:{style:oo},paddingY:{style:oo},paddingInline:{style:oo},paddingInlineStart:{style:oo},paddingInlineEnd:{style:oo},paddingBlock:{style:oo},paddingBlockStart:{style:oo},paddingBlockEnd:{style:oo},m:{style:io},mt:{style:io},mr:{style:io},mb:{style:io},ml:{style:io},mx:{style:io},my:{style:io},margin:{style:io},marginTop:{style:io},marginRight:{style:io},marginBottom:{style:io},marginLeft:{style:io},marginX:{style:io},marginY:{style:io},marginInline:{style:io},marginInlineStart:{style:io},marginInlineEnd:{style:io},marginBlock:{style:io},marginBlockStart:{style:io},marginBlockEnd:{style:io},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:H2},rowGap:{style:q2},columnGap:{style:G2},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:ba},maxWidth:{style:o5},minWidth:{transform:ba},height:{transform:ba},maxHeight:{transform:ba},minHeight:{transform:ba},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},Z2=F$;function B$(...e){const t=e.reduce((o,l)=>o.concat(Object.keys(l)),[]),r=new Set(t);return e.every(o=>r.size===Object.keys(o).length)}function N$(e,t){return typeof e=="function"?e(t):e}function $$(){function e(r,o,l,u){const f={[r]:o,theme:l},i=u[r];if(!i)return{[r]:o};const{cssProperty:_=r,themeKey:b,transform:E,style:k}=i;if(o==null)return null;if(b==="typography"&&o==="inherit")return{[r]:o};const R=V2(l,b)||{};return k?k(f):ra(f,o,F=>{let L=F_(R,E,F);return F===L&&typeof F=="string"&&(L=F_(R,E,`${r}${F==="default"?"":wn(F)}`,F)),_===!1?L:{[_]:L}})}function t(r){var o;const{sx:l,theme:u={}}=r||{};if(!l)return null;const f=(o=u.unstable_sxConfig)!=null?o:Z2;function i(_){let b=_;if(typeof _=="function")b=_(u);else if(typeof _!="object")return _;if(!b)return null;const E=Ek(u.breakpoints),k=Object.keys(E);let R=E;return Object.keys(b).forEach(B=>{const F=N$(b[B],u);if(F!=null)if(typeof F=="object")if(f[B])R=Wm(R,e(B,F,u,f));else{const L=ra({theme:u},F,X=>({[B]:X}));B$(L,F)?R[B]=t({sx:F,theme:u}):R=Wm(R,L)}else R=Wm(R,e(B,F,u,f))}),Pk(k,R)}return Array.isArray(l)?l.map(i):i(l)}return t}const Mk=$$();Mk.filterProps=["sx"];const X2=Mk,j$=["breakpoints","palette","spacing","shape"];function Y2(e={},...t){const{breakpoints:r={},palette:o={},spacing:l,shape:u={}}=e,f=nn(e,j$),i=KN(r),_=l$(l);let b=Ks({breakpoints:i,direction:"ltr",components:{},palette:J({mode:"light"},o),spacing:_,shape:J({},QN,u)},f);return b=t.reduce((E,k)=>Ks(E,k),b),b.unstable_sxConfig=J({},Z2,f==null?void 0:f.unstable_sxConfig),b.unstable_sx=function(k){return X2({sx:k,theme:this})},b}function V$(e){return Object.keys(e).length===0}function K2(e=null){const t=U.useContext(qg);return!t||V$(t)?e:t}const U$=Y2();function Yf(e=U$){return K2(e)}function W$({styles:e,themeId:t,defaultTheme:r={}}){const o=Yf(r),l=typeof e=="function"?e(t&&o[t]||o):e;return V.jsx(qN,{styles:l})}const H$=["sx"],G$=e=>{var t,r;const o={systemProps:{},otherProps:{}},l=(t=e==null||(r=e.theme)==null?void 0:r.unstable_sxConfig)!=null?t:Z2;return Object.keys(e).forEach(u=>{l[u]?o.systemProps[u]=e[u]:o.otherProps[u]=e[u]}),o};function J2(e){const{sx:t}=e,r=nn(e,H$),{systemProps:o,otherProps:l}=G$(r);let u;return Array.isArray(t)?u=[o,...t]:typeof t=="function"?u=(...f)=>{const i=t(...f);return fh(i)?J({},o,i):o}:u=J({},o,t),J({},l,{sx:u})}function Ik(e){var t,r,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=Ik(e[t]))&&(o&&(o+=" "),o+=r);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}function mn(){for(var e,t,r=0,o="";r<arguments.length;)(e=arguments[r++])&&(t=Ik(e))&&(o&&(o+=" "),o+=t);return o}const q$=["className","component"];function Z$(e={}){const{themeId:t,defaultTheme:r,defaultClassName:o="MuiBox-root",generateClassName:l}=e,u=Ck("div",{shouldForwardProp:i=>i!=="theme"&&i!=="sx"&&i!=="as"})(X2);return U.forwardRef(function(_,b){const E=Yf(r),k=J2(_),{className:R,component:B="div"}=k,F=nn(k,q$);return V.jsx(u,J({as:B,ref:b,className:mn(R,l?l(o):o),theme:t&&E[t]||E},F))})}const X$=["variant"];function SC(e){return e.length===0}function Ak(e){const{variant:t}=e,r=nn(e,X$);let o=t||"";return Object.keys(r).sort().forEach(l=>{l==="color"?o+=SC(o)?e[l]:wn(e[l]):o+=`${SC(o)?l:wn(l)}${wn(e[l].toString())}`}),o}const Y$=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function K$(e){return Object.keys(e).length===0}function J$(e){return typeof e=="string"&&e.charCodeAt(0)>96}const Q$=(e,t)=>t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null,ej=(e,t)=>{let r=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(r=t.components[e].variants);const o={};return r.forEach(l=>{const u=Ak(l.props);o[u]=l.style}),o},tj=(e,t,r,o)=>{var l,u;const{ownerState:f={}}=e,i=[],_=r==null||(l=r.components)==null||(u=l[o])==null?void 0:u.variants;return _&&_.forEach(b=>{let E=!0;Object.keys(b.props).forEach(k=>{f[k]!==b.props[k]&&e[k]!==b.props[k]&&(E=!1)}),E&&i.push(t[Ak(b.props)])}),i};function Hm(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const nj=Y2();function fm({defaultTheme:e,theme:t,themeId:r}){return K$(t)?e:t[r]||t}function Dk(e={}){const{themeId:t,defaultTheme:r=nj,rootShouldForwardProp:o=Hm,slotShouldForwardProp:l=Hm}=e,u=f=>X2(J({},f,{theme:fm(J({},f,{defaultTheme:r,themeId:t}))}));return u.__mui_systemSx=!0,(f,i={})=>{ZN(f,Q=>Q.filter(te=>!(te!=null&&te.__mui_systemSx)));const{name:_,slot:b,skipVariantsResolver:E,skipSx:k,overridesResolver:R}=i,B=nn(i,Y$),F=E!==void 0?E:b&&b!=="Root"||!1,L=k||!1;let X,$=Hm;b==="Root"?$=o:b?$=l:J$(f)&&($=void 0);const H=Ck(f,J({shouldForwardProp:$,label:X},B)),G=(Q,...te)=>{const le=te?te.map(xe=>typeof xe=="function"&&xe.__emotion_real!==xe?ke=>xe(J({},ke,{theme:fm(J({},ke,{defaultTheme:r,themeId:t}))})):xe):[];let M=Q;_&&R&&le.push(xe=>{const ke=fm(J({},xe,{defaultTheme:r,themeId:t})),$e=Q$(_,ke);if($e){const _e={};return Object.entries($e).forEach(([we,me])=>{_e[we]=typeof me=="function"?me(J({},xe,{theme:ke})):me}),R(xe,_e)}return null}),_&&!F&&le.push(xe=>{const ke=fm(J({},xe,{defaultTheme:r,themeId:t}));return tj(xe,ej(_,ke),ke,_)}),L||le.push(u);const de=le.length-te.length;if(Array.isArray(Q)&&de>0){const xe=new Array(de).fill("");M=[...Q,...xe],M.raw=[...Q.raw,...xe]}else typeof Q=="function"&&Q.__emotion_real!==Q&&(M=xe=>Q(J({},xe,{theme:fm(J({},xe,{defaultTheme:r,themeId:t}))})));const ce=H(M,...le);return f.muiName&&(ce.muiName=f.muiName),ce};return H.withConfig&&(G.withConfig=H.withConfig),G}}const rj=Dk(),ij=rj;function Rk(e){const{theme:t,name:r,props:o}=e;return!t||!t.components||!t.components[r]||!t.components[r].defaultProps?o:V4(t.components[r].defaultProps,o)}function zk({props:e,name:t,defaultTheme:r,themeId:o}){let l=Yf(r);return o&&(l=l[o]||l),Rk({theme:l,name:t,props:e})}function s5(e,t=0,r=1){return Math.min(Math.max(t,e),r)}function oj(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let r=e.match(t);return r&&r[0].length===1&&(r=r.map(o=>o+o)),r?`rgb${r.length===4?"a":""}(${r.map((o,l)=>l<3?parseInt(o,16):Math.round(parseInt(o,16)/255*1e3)/1e3).join(", ")})`:""}function Oh(e){if(e.type)return e;if(e.charAt(0)==="#")return Oh(oj(e));const t=e.indexOf("("),r=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(r)===-1)throw new Error(vd(9,e));let o=e.substring(t+1,e.length-1),l;if(r==="color"){if(o=o.split(" "),l=o.shift(),o.length===4&&o[3].charAt(0)==="/"&&(o[3]=o[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(l)===-1)throw new Error(vd(10,l))}else o=o.split(",");return o=o.map(u=>parseFloat(u)),{type:r,values:o,colorSpace:l}}function Q2(e){const{type:t,colorSpace:r}=e;let{values:o}=e;return t.indexOf("rgb")!==-1?o=o.map((l,u)=>u<3?parseInt(l,10):l):t.indexOf("hsl")!==-1&&(o[1]=`${o[1]}%`,o[2]=`${o[2]}%`),t.indexOf("color")!==-1?o=`${r} ${o.join(" ")}`:o=`${o.join(", ")}`,`${t}(${o})`}function sj(e){e=Oh(e);const{values:t}=e,r=t[0],o=t[1]/100,l=t[2]/100,u=o*Math.min(l,1-l),f=(b,E=(b+r/30)%12)=>l-u*Math.max(Math.min(E-3,9-E,1),-1);let i="rgb";const _=[Math.round(f(0)*255),Math.round(f(8)*255),Math.round(f(4)*255)];return e.type==="hsla"&&(i+="a",_.push(t[3])),Q2({type:i,values:_})}function TC(e){e=Oh(e);let t=e.type==="hsl"||e.type==="hsla"?Oh(sj(e)).values:e.values;return t=t.map(r=>(e.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function aj(e,t){const r=TC(e),o=TC(t);return(Math.max(r,o)+.05)/(Math.min(r,o)+.05)}function Rr(e,t){return e=Oh(e),t=s5(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,Q2(e)}function lj(e,t){if(e=Oh(e),t=s5(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)e.values[r]*=1-t;return Q2(e)}function cj(e,t){if(e=Oh(e),t=s5(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;else if(e.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return Q2(e)}const uj=U.createContext(null),Lk=uj;function Ok(){return U.useContext(Lk)}const dj=typeof Symbol=="function"&&Symbol.for,hj=dj?Symbol.for("mui.nested"):"__THEME_NESTED__";function pj(e,t){return typeof t=="function"?t(e):{...e,...t}}function fj(e){const{children:t,theme:r}=e,o=Ok(),l=U.useMemo(()=>{const u=o===null?r:pj(o,r);return u!=null&&(u[hj]=o!==null),u},[r,o]);return V.jsx(Lk.Provider,{value:l,children:t})}const CC={};function EC(e,t,r,o=!1){return U.useMemo(()=>{const l=e&&t[e]||t;if(typeof r=="function"){const u=r(l),f=e?J({},t,{[e]:u}):u;return o?()=>f:f}return e?J({},t,{[e]:r}):J({},t,r)},[e,t,r,o])}function mj(e){const{children:t,theme:r,themeId:o}=e,l=K2(CC),u=Ok()||CC,f=EC(o,l,r),i=EC(o,u,r,!0);return V.jsx(fj,{theme:i,children:V.jsx(qg.Provider,{value:f,children:t})})}const gj=["component","direction","spacing","divider","children","className","useFlexGap"],yj=Y2(),_j=ij("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function vj(e){return zk({props:e,name:"MuiStack",defaultTheme:yj})}function xj(e,t){const r=U.Children.toArray(e).filter(Boolean);return r.reduce((o,l,u)=>(o.push(l),u<r.length-1&&o.push(U.cloneElement(t,{key:`separator-${u}`})),o),[])}const bj=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],wj=({ownerState:e,theme:t})=>{let r=J({display:"flex",flexDirection:"column"},ra({theme:t},Sh({values:e.direction,breakpoints:t.breakpoints.values}),o=>({flexDirection:o})));if(e.spacing){const o=i5(t),l=Object.keys(t.breakpoints.values).reduce((_,b)=>((typeof e.spacing=="object"&&e.spacing[b]!=null||typeof e.direction=="object"&&e.direction[b]!=null)&&(_[b]=!0),_),{}),u=Sh({values:e.direction,base:l}),f=Sh({values:e.spacing,base:l});typeof u=="object"&&Object.keys(u).forEach((_,b,E)=>{if(!u[_]){const R=b>0?u[E[b-1]]:"column";u[_]=R}}),r=Ks(r,ra({theme:t},f,(_,b)=>e.useFlexGap?{gap:Lh(o,_)}:{"& > :not(style) + :not(style)":{margin:0,[`margin${bj(b?u[b]:e.direction)}`]:Lh(o,_)}}))}return r=e$(t.breakpoints,r),r};function Sj(e={}){const{createStyledComponent:t=_j,useThemeProps:r=vj,componentName:o="MuiStack"}=e,l=()=>Hn({root:["root"]},_=>qn(o,_),{}),u=t(wj);return U.forwardRef(function(_,b){const E=r(_),k=J2(E),{component:R="div",direction:B="column",spacing:F=0,divider:L,children:X,className:$,useFlexGap:H=!1}=k,G=nn(k,gj),Q={direction:B,spacing:F,useFlexGap:H},te=l();return V.jsx(u,J({as:R,ownerState:Q,ref:b,className:mn(te.root,$)},G,{children:L?xj(X,L):X}))})}function Tj(e,t){return J({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const Cj={black:"#000",white:"#fff"},Pg=Cj,Ej={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Pj=Ej,kj={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Fp=kj,Mj={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Bp=Mj,Ij={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},mm=Ij,Aj={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Np=Aj,Dj={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},$p=Dj,Rj={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},jp=Rj,zj=["mode","contrastThreshold","tonalOffset"],PC={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Pg.white,default:Pg.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Ab={text:{primary:Pg.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Pg.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function kC(e,t,r,o){const l=o.light||o,u=o.dark||o*1.5;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:t==="light"?e.light=cj(e.main,l):t==="dark"&&(e.dark=lj(e.main,u)))}function Lj(e="light"){return e==="dark"?{main:Np[200],light:Np[50],dark:Np[400]}:{main:Np[700],light:Np[400],dark:Np[800]}}function Oj(e="light"){return e==="dark"?{main:Fp[200],light:Fp[50],dark:Fp[400]}:{main:Fp[500],light:Fp[300],dark:Fp[700]}}function Fj(e="light"){return e==="dark"?{main:Bp[500],light:Bp[300],dark:Bp[700]}:{main:Bp[700],light:Bp[400],dark:Bp[800]}}function Bj(e="light"){return e==="dark"?{main:$p[400],light:$p[300],dark:$p[700]}:{main:$p[700],light:$p[500],dark:$p[900]}}function Nj(e="light"){return e==="dark"?{main:jp[400],light:jp[300],dark:jp[700]}:{main:jp[800],light:jp[500],dark:jp[900]}}function $j(e="light"){return e==="dark"?{main:mm[400],light:mm[300],dark:mm[700]}:{main:"#ed6c02",light:mm[500],dark:mm[900]}}function jj(e){const{mode:t="light",contrastThreshold:r=3,tonalOffset:o=.2}=e,l=nn(e,zj),u=e.primary||Lj(t),f=e.secondary||Oj(t),i=e.error||Fj(t),_=e.info||Bj(t),b=e.success||Nj(t),E=e.warning||$j(t);function k(L){return aj(L,Ab.text.primary)>=r?Ab.text.primary:PC.text.primary}const R=({color:L,name:X,mainShade:$=500,lightShade:H=300,darkShade:G=700})=>{if(L=J({},L),!L.main&&L[$]&&(L.main=L[$]),!L.hasOwnProperty("main"))throw new Error(vd(11,X?` (${X})`:"",$));if(typeof L.main!="string")throw new Error(vd(12,X?` (${X})`:"",JSON.stringify(L.main)));return kC(L,"light",H,o),kC(L,"dark",G,o),L.contrastText||(L.contrastText=k(L.main)),L},B={dark:Ab,light:PC};return Ks(J({common:J({},Pg),mode:t,primary:R({color:u,name:"primary"}),secondary:R({color:f,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:R({color:i,name:"error"}),warning:R({color:E,name:"warning"}),info:R({color:_,name:"info"}),success:R({color:b,name:"success"}),grey:Pj,contrastThreshold:r,getContrastText:k,augmentColor:R,tonalOffset:o},B[t]),l)}const Vj=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Uj(e){return Math.round(e*1e5)/1e5}const MC={textTransform:"uppercase"},IC='"Roboto", "Helvetica", "Arial", sans-serif';function Wj(e,t){const r=typeof t=="function"?t(e):t,{fontFamily:o=IC,fontSize:l=14,fontWeightLight:u=300,fontWeightRegular:f=400,fontWeightMedium:i=500,fontWeightBold:_=700,htmlFontSize:b=16,allVariants:E,pxToRem:k}=r,R=nn(r,Vj),B=l/14,F=k||($=>`${$/b*B}rem`),L=($,H,G,Q,te)=>J({fontFamily:o,fontWeight:$,fontSize:F(H),lineHeight:G},o===IC?{letterSpacing:`${Uj(Q/H)}em`}:{},te,E),X={h1:L(u,96,1.167,-1.5),h2:L(u,60,1.2,-.5),h3:L(f,48,1.167,0),h4:L(f,34,1.235,.25),h5:L(f,24,1.334,0),h6:L(i,20,1.6,.15),subtitle1:L(f,16,1.75,.15),subtitle2:L(i,14,1.57,.1),body1:L(f,16,1.5,.15),body2:L(f,14,1.43,.15),button:L(i,14,1.75,.4,MC),caption:L(f,12,1.66,.4),overline:L(f,12,2.66,1,MC),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Ks(J({htmlFontSize:b,pxToRem:F,fontFamily:o,fontSize:l,fontWeightLight:u,fontWeightRegular:f,fontWeightMedium:i,fontWeightBold:_},X),R,{clone:!1})}const Hj=.2,Gj=.14,qj=.12;function ji(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${Hj})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${Gj})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${qj})`].join(",")}const Zj=["none",ji(0,2,1,-1,0,1,1,0,0,1,3,0),ji(0,3,1,-2,0,2,2,0,0,1,5,0),ji(0,3,3,-2,0,3,4,0,0,1,8,0),ji(0,2,4,-1,0,4,5,0,0,1,10,0),ji(0,3,5,-1,0,5,8,0,0,1,14,0),ji(0,3,5,-1,0,6,10,0,0,1,18,0),ji(0,4,5,-2,0,7,10,1,0,2,16,1),ji(0,5,5,-3,0,8,10,1,0,3,14,2),ji(0,5,6,-3,0,9,12,1,0,3,16,2),ji(0,6,6,-3,0,10,14,1,0,4,18,3),ji(0,6,7,-4,0,11,15,1,0,4,20,3),ji(0,7,8,-4,0,12,17,2,0,5,22,4),ji(0,7,8,-4,0,13,19,2,0,5,24,4),ji(0,7,9,-4,0,14,21,2,0,5,26,4),ji(0,8,9,-5,0,15,22,2,0,6,28,5),ji(0,8,10,-5,0,16,24,2,0,6,30,5),ji(0,8,11,-5,0,17,26,2,0,6,32,5),ji(0,9,11,-5,0,18,28,2,0,7,34,6),ji(0,9,12,-6,0,19,29,2,0,7,36,6),ji(0,10,13,-6,0,20,31,3,0,8,38,7),ji(0,10,13,-6,0,21,33,3,0,8,40,7),ji(0,10,14,-6,0,22,35,3,0,8,42,7),ji(0,11,14,-7,0,23,36,3,0,9,44,8),ji(0,11,15,-7,0,24,38,3,0,9,46,8)],Xj=Zj,Yj=["duration","easing","delay"],Kj={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Jj={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function AC(e){return`${Math.round(e)}ms`}function Qj(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function eV(e){const t=J({},Kj,e.easing),r=J({},Jj,e.duration);return J({getAutoHeightDuration:Qj,create:(l=["all"],u={})=>{const{duration:f=r.standard,easing:i=t.easeInOut,delay:_=0}=u;return nn(u,Yj),(Array.isArray(l)?l:[l]).map(b=>`${b} ${typeof f=="string"?f:AC(f)} ${i} ${typeof _=="string"?_:AC(_)}`).join(",")}},e,{easing:t,duration:r})}const tV={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},nV=tV,rV=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Xg(e={},...t){const{mixins:r={},palette:o={},transitions:l={},typography:u={}}=e,f=nn(e,rV);if(e.vars)throw new Error(vd(18));const i=jj(o),_=Y2(e);let b=Ks(_,{mixins:Tj(_.breakpoints,r),palette:i,shadows:Xj.slice(),typography:Wj(i,u),transitions:eV(l),zIndex:J({},nV)});return b=Ks(b,f),b=t.reduce((E,k)=>Ks(E,k),b),b.unstable_sxConfig=J({},Z2,f==null?void 0:f.unstable_sxConfig),b.unstable_sx=function(k){return X2({sx:k,theme:this})},b}const iV=Xg(),ev=iV;function cl(){const e=Yf(ev);return e[zh]||e}function Nn({props:e,name:t}){return zk({props:e,name:t,defaultTheme:ev,themeId:zh})}const Dc=e=>Hm(e)&&e!=="classes",oV=Hm,sV=Dk({themeId:zh,defaultTheme:ev,rootShouldForwardProp:Dc}),It=sV,aV=["theme"];function Fk(e){let{theme:t}=e,r=nn(e,aV);const o=t[zh];return V.jsx(mj,J({},r,{themeId:o?zh:void 0,theme:o||t}))}const lV=e=>{let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,(t/100).toFixed(2)},DC=lV;function Bk(e,t){return function(){return e.apply(t,arguments)}}const{toString:cV}=Object.prototype,{getPrototypeOf:a5}=Object,tv=(e=>t=>{const r=cV.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Rc=e=>(e=e.toLowerCase(),t=>tv(t)===e),nv=e=>t=>typeof t===e,{isArray:Kf}=Array,kg=nv("undefined");function uV(e){return e!==null&&!kg(e)&&e.constructor!==null&&!kg(e.constructor)&&el(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Nk=Rc("ArrayBuffer");function dV(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Nk(e.buffer),t}const hV=nv("string"),el=nv("function"),$k=nv("number"),rv=e=>e!==null&&typeof e=="object",pV=e=>e===!0||e===!1,n_=e=>{if(tv(e)!=="object")return!1;const t=a5(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},fV=Rc("Date"),mV=Rc("File"),gV=Rc("Blob"),yV=Rc("FileList"),_V=e=>rv(e)&&el(e.pipe),vV=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||el(e.append)&&((t=tv(e))==="formdata"||t==="object"&&el(e.toString)&&e.toString()==="[object FormData]"))},xV=Rc("URLSearchParams"),bV=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Yg(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let o,l;if(typeof e!="object"&&(e=[e]),Kf(e))for(o=0,l=e.length;o<l;o++)t.call(null,e[o],o,e);else{const u=r?Object.getOwnPropertyNames(e):Object.keys(e),f=u.length;let i;for(o=0;o<f;o++)i=u[o],t.call(null,e[i],i,e)}}function jk(e,t){t=t.toLowerCase();const r=Object.keys(e);let o=r.length,l;for(;o-- >0;)if(l=r[o],t===l.toLowerCase())return l;return null}const Vk=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Uk=e=>!kg(e)&&e!==Vk;function uw(){const{caseless:e}=Uk(this)&&this||{},t={},r=(o,l)=>{const u=e&&jk(t,l)||l;n_(t[u])&&n_(o)?t[u]=uw(t[u],o):n_(o)?t[u]=uw({},o):Kf(o)?t[u]=o.slice():t[u]=o};for(let o=0,l=arguments.length;o<l;o++)arguments[o]&&Yg(arguments[o],r);return t}const wV=(e,t,r,{allOwnKeys:o}={})=>(Yg(t,(l,u)=>{r&&el(l)?e[u]=Bk(l,r):e[u]=l},{allOwnKeys:o}),e),SV=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),TV=(e,t,r,o)=>{e.prototype=Object.create(t.prototype,o),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},CV=(e,t,r,o)=>{let l,u,f;const i={};if(t=t||{},e==null)return t;do{for(l=Object.getOwnPropertyNames(e),u=l.length;u-- >0;)f=l[u],(!o||o(f,e,t))&&!i[f]&&(t[f]=e[f],i[f]=!0);e=r!==!1&&a5(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},EV=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const o=e.indexOf(t,r);return o!==-1&&o===r},PV=e=>{if(!e)return null;if(Kf(e))return e;let t=e.length;if(!$k(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},kV=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&a5(Uint8Array)),MV=(e,t)=>{const o=(e&&e[Symbol.iterator]).call(e);let l;for(;(l=o.next())&&!l.done;){const u=l.value;t.call(e,u[0],u[1])}},IV=(e,t)=>{let r;const o=[];for(;(r=e.exec(t))!==null;)o.push(r);return o},AV=Rc("HTMLFormElement"),DV=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,o,l){return o.toUpperCase()+l}),RC=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),RV=Rc("RegExp"),Wk=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),o={};Yg(r,(l,u)=>{t(l,u,e)!==!1&&(o[u]=l)}),Object.defineProperties(e,o)},zV=e=>{Wk(e,(t,r)=>{if(el(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const o=e[r];if(el(o)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},LV=(e,t)=>{const r={},o=l=>{l.forEach(u=>{r[u]=!0})};return Kf(e)?o(e):o(String(e).split(t)),r},OV=()=>{},FV=(e,t)=>(e=+e,Number.isFinite(e)?e:t),Db="abcdefghijklmnopqrstuvwxyz",zC="0123456789",Hk={DIGIT:zC,ALPHA:Db,ALPHA_DIGIT:Db+Db.toUpperCase()+zC},BV=(e=16,t=Hk.ALPHA_DIGIT)=>{let r="";const{length:o}=t;for(;e--;)r+=t[Math.random()*o|0];return r};function NV(e){return!!(e&&el(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const $V=e=>{const t=new Array(10),r=(o,l)=>{if(rv(o)){if(t.indexOf(o)>=0)return;if(!("toJSON"in o)){t[l]=o;const u=Kf(o)?[]:{};return Yg(o,(f,i)=>{const _=r(f,l+1);!kg(_)&&(u[i]=_)}),t[l]=void 0,u}}return o};return r(e,0)},jV=Rc("AsyncFunction"),VV=e=>e&&(rv(e)||el(e))&&el(e.then)&&el(e.catch),Ht={isArray:Kf,isArrayBuffer:Nk,isBuffer:uV,isFormData:vV,isArrayBufferView:dV,isString:hV,isNumber:$k,isBoolean:pV,isObject:rv,isPlainObject:n_,isUndefined:kg,isDate:fV,isFile:mV,isBlob:gV,isRegExp:RV,isFunction:el,isStream:_V,isURLSearchParams:xV,isTypedArray:kV,isFileList:yV,forEach:Yg,merge:uw,extend:wV,trim:bV,stripBOM:SV,inherits:TV,toFlatObject:CV,kindOf:tv,kindOfTest:Rc,endsWith:EV,toArray:PV,forEachEntry:MV,matchAll:IV,isHTMLForm:AV,hasOwnProperty:RC,hasOwnProp:RC,reduceDescriptors:Wk,freezeMethods:zV,toObjectSet:LV,toCamelCase:DV,noop:OV,toFiniteNumber:FV,findKey:jk,global:Vk,isContextDefined:Uk,ALPHABET:Hk,generateString:BV,isSpecCompliantForm:NV,toJSONObject:$V,isAsyncFn:jV,isThenable:VV};function Wr(e,t,r,o,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),o&&(this.request=o),l&&(this.response=l)}Ht.inherits(Wr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ht.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Gk=Wr.prototype,qk={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{qk[e]={value:e}});Object.defineProperties(Wr,qk);Object.defineProperty(Gk,"isAxiosError",{value:!0});Wr.from=(e,t,r,o,l,u)=>{const f=Object.create(Gk);return Ht.toFlatObject(e,f,function(_){return _!==Error.prototype},i=>i!=="isAxiosError"),Wr.call(f,e.message,t,r,o,l),f.cause=e,f.name=e.name,u&&Object.assign(f,u),f};const UV=null;function dw(e){return Ht.isPlainObject(e)||Ht.isArray(e)}function Zk(e){return Ht.endsWith(e,"[]")?e.slice(0,-2):e}function LC(e,t,r){return e?e.concat(t).map(function(l,u){return l=Zk(l),!r&&u?"["+l+"]":l}).join(r?".":""):t}function WV(e){return Ht.isArray(e)&&!e.some(dw)}const HV=Ht.toFlatObject(Ht,{},null,function(t){return/^is[A-Z]/.test(t)});function iv(e,t,r){if(!Ht.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Ht.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(L,X){return!Ht.isUndefined(X[L])});const o=r.metaTokens,l=r.visitor||E,u=r.dots,f=r.indexes,_=(r.Blob||typeof Blob<"u"&&Blob)&&Ht.isSpecCompliantForm(t);if(!Ht.isFunction(l))throw new TypeError("visitor must be a function");function b(F){if(F===null)return"";if(Ht.isDate(F))return F.toISOString();if(!_&&Ht.isBlob(F))throw new Wr("Blob is not supported. Use a Buffer instead.");return Ht.isArrayBuffer(F)||Ht.isTypedArray(F)?_&&typeof Blob=="function"?new Blob([F]):Buffer.from(F):F}function E(F,L,X){let $=F;if(F&&!X&&typeof F=="object"){if(Ht.endsWith(L,"{}"))L=o?L:L.slice(0,-2),F=JSON.stringify(F);else if(Ht.isArray(F)&&WV(F)||(Ht.isFileList(F)||Ht.endsWith(L,"[]"))&&($=Ht.toArray(F)))return L=Zk(L),$.forEach(function(G,Q){!(Ht.isUndefined(G)||G===null)&&t.append(f===!0?LC([L],Q,u):f===null?L:L+"[]",b(G))}),!1}return dw(F)?!0:(t.append(LC(X,L,u),b(F)),!1)}const k=[],R=Object.assign(HV,{defaultVisitor:E,convertValue:b,isVisitable:dw});function B(F,L){if(!Ht.isUndefined(F)){if(k.indexOf(F)!==-1)throw Error("Circular reference detected in "+L.join("."));k.push(F),Ht.forEach(F,function($,H){(!(Ht.isUndefined($)||$===null)&&l.call(t,$,Ht.isString(H)?H.trim():H,L,R))===!0&&B($,L?L.concat(H):[H])}),k.pop()}}if(!Ht.isObject(e))throw new TypeError("data must be an object");return B(e),t}function OC(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(o){return t[o]})}function l5(e,t){this._pairs=[],e&&iv(e,this,t)}const Xk=l5.prototype;Xk.append=function(t,r){this._pairs.push([t,r])};Xk.toString=function(t){const r=t?function(o){return t.call(this,o,OC)}:OC;return this._pairs.map(function(l){return r(l[0])+"="+r(l[1])},"").join("&")};function GV(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Yk(e,t,r){if(!t)return e;const o=r&&r.encode||GV,l=r&&r.serialize;let u;if(l?u=l(t,r):u=Ht.isURLSearchParams(t)?t.toString():new l5(t,r).toString(o),u){const f=e.indexOf("#");f!==-1&&(e=e.slice(0,f)),e+=(e.indexOf("?")===-1?"?":"&")+u}return e}class qV{constructor(){this.handlers=[]}use(t,r,o){return this.handlers.push({fulfilled:t,rejected:r,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ht.forEach(this.handlers,function(o){o!==null&&t(o)})}}const FC=qV,Kk={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ZV=typeof URLSearchParams<"u"?URLSearchParams:l5,XV=typeof FormData<"u"?FormData:null,YV=typeof Blob<"u"?Blob:null,KV=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),JV=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),wc={isBrowser:!0,classes:{URLSearchParams:ZV,FormData:XV,Blob:YV},isStandardBrowserEnv:KV,isStandardBrowserWebWorkerEnv:JV,protocols:["http","https","file","blob","url","data"]};function QV(e,t){return iv(e,new wc.classes.URLSearchParams,Object.assign({visitor:function(r,o,l,u){return wc.isNode&&Ht.isBuffer(r)?(this.append(o,r.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},t))}function eU(e){return Ht.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function tU(e){const t={},r=Object.keys(e);let o;const l=r.length;let u;for(o=0;o<l;o++)u=r[o],t[u]=e[u];return t}function Jk(e){function t(r,o,l,u){let f=r[u++];const i=Number.isFinite(+f),_=u>=r.length;return f=!f&&Ht.isArray(l)?l.length:f,_?(Ht.hasOwnProp(l,f)?l[f]=[l[f],o]:l[f]=o,!i):((!l[f]||!Ht.isObject(l[f]))&&(l[f]=[]),t(r,o,l[f],u)&&Ht.isArray(l[f])&&(l[f]=tU(l[f])),!i)}if(Ht.isFormData(e)&&Ht.isFunction(e.entries)){const r={};return Ht.forEachEntry(e,(o,l)=>{t(eU(o),l,r,0)}),r}return null}const nU={"Content-Type":void 0};function rU(e,t,r){if(Ht.isString(e))try{return(t||JSON.parse)(e),Ht.trim(e)}catch(o){if(o.name!=="SyntaxError")throw o}return(r||JSON.stringify)(e)}const ov={transitional:Kk,adapter:["xhr","http"],transformRequest:[function(t,r){const o=r.getContentType()||"",l=o.indexOf("application/json")>-1,u=Ht.isObject(t);if(u&&Ht.isHTMLForm(t)&&(t=new FormData(t)),Ht.isFormData(t))return l&&l?JSON.stringify(Jk(t)):t;if(Ht.isArrayBuffer(t)||Ht.isBuffer(t)||Ht.isStream(t)||Ht.isFile(t)||Ht.isBlob(t))return t;if(Ht.isArrayBufferView(t))return t.buffer;if(Ht.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let i;if(u){if(o.indexOf("application/x-www-form-urlencoded")>-1)return QV(t,this.formSerializer).toString();if((i=Ht.isFileList(t))||o.indexOf("multipart/form-data")>-1){const _=this.env&&this.env.FormData;return iv(i?{"files[]":t}:t,_&&new _,this.formSerializer)}}return u||l?(r.setContentType("application/json",!1),rU(t)):t}],transformResponse:[function(t){const r=this.transitional||ov.transitional,o=r&&r.forcedJSONParsing,l=this.responseType==="json";if(t&&Ht.isString(t)&&(o&&!this.responseType||l)){const f=!(r&&r.silentJSONParsing)&&l;try{return JSON.parse(t)}catch(i){if(f)throw i.name==="SyntaxError"?Wr.from(i,Wr.ERR_BAD_RESPONSE,this,null,this.response):i}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:wc.classes.FormData,Blob:wc.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Ht.forEach(["delete","get","head"],function(t){ov.headers[t]={}});Ht.forEach(["post","put","patch"],function(t){ov.headers[t]=Ht.merge(nU)});const c5=ov,iU=Ht.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),oU=e=>{const t={};let r,o,l;return e&&e.split(`
`).forEach(function(f){l=f.indexOf(":"),r=f.substring(0,l).trim().toLowerCase(),o=f.substring(l+1).trim(),!(!r||t[r]&&iU[r])&&(r==="set-cookie"?t[r]?t[r].push(o):t[r]=[o]:t[r]=t[r]?t[r]+", "+o:o)}),t},BC=Symbol("internals");function gm(e){return e&&String(e).trim().toLowerCase()}function r_(e){return e===!1||e==null?e:Ht.isArray(e)?e.map(r_):String(e)}function sU(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=r.exec(e);)t[o[1]]=o[2];return t}const aU=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Rb(e,t,r,o,l){if(Ht.isFunction(o))return o.call(this,t,r);if(l&&(t=r),!!Ht.isString(t)){if(Ht.isString(o))return t.indexOf(o)!==-1;if(Ht.isRegExp(o))return o.test(t)}}function lU(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,o)=>r.toUpperCase()+o)}function cU(e,t){const r=Ht.toCamelCase(" "+t);["get","set","has"].forEach(o=>{Object.defineProperty(e,o+r,{value:function(l,u,f){return this[o].call(this,t,l,u,f)},configurable:!0})})}class sv{constructor(t){t&&this.set(t)}set(t,r,o){const l=this;function u(i,_,b){const E=gm(_);if(!E)throw new Error("header name must be a non-empty string");const k=Ht.findKey(l,E);(!k||l[k]===void 0||b===!0||b===void 0&&l[k]!==!1)&&(l[k||_]=r_(i))}const f=(i,_)=>Ht.forEach(i,(b,E)=>u(b,E,_));return Ht.isPlainObject(t)||t instanceof this.constructor?f(t,r):Ht.isString(t)&&(t=t.trim())&&!aU(t)?f(oU(t),r):t!=null&&u(r,t,o),this}get(t,r){if(t=gm(t),t){const o=Ht.findKey(this,t);if(o){const l=this[o];if(!r)return l;if(r===!0)return sU(l);if(Ht.isFunction(r))return r.call(this,l,o);if(Ht.isRegExp(r))return r.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=gm(t),t){const o=Ht.findKey(this,t);return!!(o&&this[o]!==void 0&&(!r||Rb(this,this[o],o,r)))}return!1}delete(t,r){const o=this;let l=!1;function u(f){if(f=gm(f),f){const i=Ht.findKey(o,f);i&&(!r||Rb(o,o[i],i,r))&&(delete o[i],l=!0)}}return Ht.isArray(t)?t.forEach(u):u(t),l}clear(t){const r=Object.keys(this);let o=r.length,l=!1;for(;o--;){const u=r[o];(!t||Rb(this,this[u],u,t,!0))&&(delete this[u],l=!0)}return l}normalize(t){const r=this,o={};return Ht.forEach(this,(l,u)=>{const f=Ht.findKey(o,u);if(f){r[f]=r_(l),delete r[u];return}const i=t?lU(u):String(u).trim();i!==u&&delete r[u],r[i]=r_(l),o[i]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Ht.forEach(this,(o,l)=>{o!=null&&o!==!1&&(r[l]=t&&Ht.isArray(o)?o.join(", "):o)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const o=new this(t);return r.forEach(l=>o.set(l)),o}static accessor(t){const o=(this[BC]=this[BC]={accessors:{}}).accessors,l=this.prototype;function u(f){const i=gm(f);o[i]||(cU(l,f),o[i]=!0)}return Ht.isArray(t)?t.forEach(u):u(t),this}}sv.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ht.freezeMethods(sv.prototype);Ht.freezeMethods(sv);const du=sv;function zb(e,t){const r=this||c5,o=t||r,l=du.from(o.headers);let u=o.data;return Ht.forEach(e,function(i){u=i.call(r,u,l.normalize(),t?t.status:void 0)}),l.normalize(),u}function Qk(e){return!!(e&&e.__CANCEL__)}function Kg(e,t,r){Wr.call(this,e??"canceled",Wr.ERR_CANCELED,t,r),this.name="CanceledError"}Ht.inherits(Kg,Wr,{__CANCEL__:!0});function uU(e,t,r){const o=r.config.validateStatus;!r.status||!o||o(r.status)?e(r):t(new Wr("Request failed with status code "+r.status,[Wr.ERR_BAD_REQUEST,Wr.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const dU=wc.isStandardBrowserEnv?function(){return{write:function(r,o,l,u,f,i){const _=[];_.push(r+"="+encodeURIComponent(o)),Ht.isNumber(l)&&_.push("expires="+new Date(l).toGMTString()),Ht.isString(u)&&_.push("path="+u),Ht.isString(f)&&_.push("domain="+f),i===!0&&_.push("secure"),document.cookie=_.join("; ")},read:function(r){const o=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return o?decodeURIComponent(o[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function hU(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function pU(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function eM(e,t){return e&&!hU(t)?pU(e,t):t}const fU=wc.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let o;function l(u){let f=u;return t&&(r.setAttribute("href",f),f=r.href),r.setAttribute("href",f),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return o=l(window.location.href),function(f){const i=Ht.isString(f)?l(f):f;return i.protocol===o.protocol&&i.host===o.host}}():function(){return function(){return!0}}();function mU(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function gU(e,t){e=e||10;const r=new Array(e),o=new Array(e);let l=0,u=0,f;return t=t!==void 0?t:1e3,function(_){const b=Date.now(),E=o[u];f||(f=b),r[l]=_,o[l]=b;let k=u,R=0;for(;k!==l;)R+=r[k++],k=k%e;if(l=(l+1)%e,l===u&&(u=(u+1)%e),b-f<t)return;const B=E&&b-E;return B?Math.round(R*1e3/B):void 0}}function NC(e,t){let r=0;const o=gU(50,250);return l=>{const u=l.loaded,f=l.lengthComputable?l.total:void 0,i=u-r,_=o(i),b=u<=f;r=u;const E={loaded:u,total:f,progress:f?u/f:void 0,bytes:i,rate:_||void 0,estimated:_&&f&&b?(f-u)/_:void 0,event:l};E[t?"download":"upload"]=!0,e(E)}}const yU=typeof XMLHttpRequest<"u",_U=yU&&function(e){return new Promise(function(r,o){let l=e.data;const u=du.from(e.headers).normalize(),f=e.responseType;let i;function _(){e.cancelToken&&e.cancelToken.unsubscribe(i),e.signal&&e.signal.removeEventListener("abort",i)}Ht.isFormData(l)&&(wc.isStandardBrowserEnv||wc.isStandardBrowserWebWorkerEnv?u.setContentType(!1):u.setContentType("multipart/form-data;",!1));let b=new XMLHttpRequest;if(e.auth){const B=e.auth.username||"",F=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";u.set("Authorization","Basic "+btoa(B+":"+F))}const E=eM(e.baseURL,e.url);b.open(e.method.toUpperCase(),Yk(E,e.params,e.paramsSerializer),!0),b.timeout=e.timeout;function k(){if(!b)return;const B=du.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),L={data:!f||f==="text"||f==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:B,config:e,request:b};uU(function($){r($),_()},function($){o($),_()},L),b=null}if("onloadend"in b?b.onloadend=k:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(k)},b.onabort=function(){b&&(o(new Wr("Request aborted",Wr.ECONNABORTED,e,b)),b=null)},b.onerror=function(){o(new Wr("Network Error",Wr.ERR_NETWORK,e,b)),b=null},b.ontimeout=function(){let F=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const L=e.transitional||Kk;e.timeoutErrorMessage&&(F=e.timeoutErrorMessage),o(new Wr(F,L.clarifyTimeoutError?Wr.ETIMEDOUT:Wr.ECONNABORTED,e,b)),b=null},wc.isStandardBrowserEnv){const B=(e.withCredentials||fU(E))&&e.xsrfCookieName&&dU.read(e.xsrfCookieName);B&&u.set(e.xsrfHeaderName,B)}l===void 0&&u.setContentType(null),"setRequestHeader"in b&&Ht.forEach(u.toJSON(),function(F,L){b.setRequestHeader(L,F)}),Ht.isUndefined(e.withCredentials)||(b.withCredentials=!!e.withCredentials),f&&f!=="json"&&(b.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&b.addEventListener("progress",NC(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&b.upload&&b.upload.addEventListener("progress",NC(e.onUploadProgress)),(e.cancelToken||e.signal)&&(i=B=>{b&&(o(!B||B.type?new Kg(null,e,b):B),b.abort(),b=null)},e.cancelToken&&e.cancelToken.subscribe(i),e.signal&&(e.signal.aborted?i():e.signal.addEventListener("abort",i)));const R=mU(E);if(R&&wc.protocols.indexOf(R)===-1){o(new Wr("Unsupported protocol "+R+":",Wr.ERR_BAD_REQUEST,e));return}b.send(l||null)})},i_={http:UV,xhr:_U};Ht.forEach(i_,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const vU={getAdapter:e=>{e=Ht.isArray(e)?e:[e];const{length:t}=e;let r,o;for(let l=0;l<t&&(r=e[l],!(o=Ht.isString(r)?i_[r.toLowerCase()]:r));l++);if(!o)throw o===!1?new Wr(`Adapter ${r} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(Ht.hasOwnProp(i_,r)?`Adapter '${r}' is not available in the build`:`Unknown adapter '${r}'`);if(!Ht.isFunction(o))throw new TypeError("adapter is not a function");return o},adapters:i_};function Lb(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Kg(null,e)}function $C(e){return Lb(e),e.headers=du.from(e.headers),e.data=zb.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),vU.getAdapter(e.adapter||c5.adapter)(e).then(function(o){return Lb(e),o.data=zb.call(e,e.transformResponse,o),o.headers=du.from(o.headers),o},function(o){return Qk(o)||(Lb(e),o&&o.response&&(o.response.data=zb.call(e,e.transformResponse,o.response),o.response.headers=du.from(o.response.headers))),Promise.reject(o)})}const jC=e=>e instanceof du?e.toJSON():e;function Af(e,t){t=t||{};const r={};function o(b,E,k){return Ht.isPlainObject(b)&&Ht.isPlainObject(E)?Ht.merge.call({caseless:k},b,E):Ht.isPlainObject(E)?Ht.merge({},E):Ht.isArray(E)?E.slice():E}function l(b,E,k){if(Ht.isUndefined(E)){if(!Ht.isUndefined(b))return o(void 0,b,k)}else return o(b,E,k)}function u(b,E){if(!Ht.isUndefined(E))return o(void 0,E)}function f(b,E){if(Ht.isUndefined(E)){if(!Ht.isUndefined(b))return o(void 0,b)}else return o(void 0,E)}function i(b,E,k){if(k in t)return o(b,E);if(k in e)return o(void 0,b)}const _={url:u,method:u,data:u,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:i,headers:(b,E)=>l(jC(b),jC(E),!0)};return Ht.forEach(Object.keys(Object.assign({},e,t)),function(E){const k=_[E]||l,R=k(e[E],t[E],E);Ht.isUndefined(R)&&k!==i||(r[E]=R)}),r}const tM="1.4.0",u5={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{u5[e]=function(o){return typeof o===e||"a"+(t<1?"n ":" ")+e}});const VC={};u5.transitional=function(t,r,o){function l(u,f){return"[Axios v"+tM+"] Transitional option '"+u+"'"+f+(o?". "+o:"")}return(u,f,i)=>{if(t===!1)throw new Wr(l(f," has been removed"+(r?" in "+r:"")),Wr.ERR_DEPRECATED);return r&&!VC[f]&&(VC[f]=!0,console.warn(l(f," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(u,f,i):!0}};function xU(e,t,r){if(typeof e!="object")throw new Wr("options must be an object",Wr.ERR_BAD_OPTION_VALUE);const o=Object.keys(e);let l=o.length;for(;l-- >0;){const u=o[l],f=t[u];if(f){const i=e[u],_=i===void 0||f(i,u,e);if(_!==!0)throw new Wr("option "+u+" must be "+_,Wr.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Wr("Unknown option "+u,Wr.ERR_BAD_OPTION)}}const hw={assertOptions:xU,validators:u5},Yu=hw.validators;class B_{constructor(t){this.defaults=t,this.interceptors={request:new FC,response:new FC}}request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Af(this.defaults,r);const{transitional:o,paramsSerializer:l,headers:u}=r;o!==void 0&&hw.assertOptions(o,{silentJSONParsing:Yu.transitional(Yu.boolean),forcedJSONParsing:Yu.transitional(Yu.boolean),clarifyTimeoutError:Yu.transitional(Yu.boolean)},!1),l!=null&&(Ht.isFunction(l)?r.paramsSerializer={serialize:l}:hw.assertOptions(l,{encode:Yu.function,serialize:Yu.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let f;f=u&&Ht.merge(u.common,u[r.method]),f&&Ht.forEach(["delete","get","head","post","put","patch","common"],F=>{delete u[F]}),r.headers=du.concat(f,u);const i=[];let _=!0;this.interceptors.request.forEach(function(L){typeof L.runWhen=="function"&&L.runWhen(r)===!1||(_=_&&L.synchronous,i.unshift(L.fulfilled,L.rejected))});const b=[];this.interceptors.response.forEach(function(L){b.push(L.fulfilled,L.rejected)});let E,k=0,R;if(!_){const F=[$C.bind(this),void 0];for(F.unshift.apply(F,i),F.push.apply(F,b),R=F.length,E=Promise.resolve(r);k<R;)E=E.then(F[k++],F[k++]);return E}R=i.length;let B=r;for(k=0;k<R;){const F=i[k++],L=i[k++];try{B=F(B)}catch(X){L.call(this,X);break}}try{E=$C.call(this,B)}catch(F){return Promise.reject(F)}for(k=0,R=b.length;k<R;)E=E.then(b[k++],b[k++]);return E}getUri(t){t=Af(this.defaults,t);const r=eM(t.baseURL,t.url);return Yk(r,t.params,t.paramsSerializer)}}Ht.forEach(["delete","get","head","options"],function(t){B_.prototype[t]=function(r,o){return this.request(Af(o||{},{method:t,url:r,data:(o||{}).data}))}});Ht.forEach(["post","put","patch"],function(t){function r(o){return function(u,f,i){return this.request(Af(i||{},{method:t,headers:o?{"Content-Type":"multipart/form-data"}:{},url:u,data:f}))}}B_.prototype[t]=r(),B_.prototype[t+"Form"]=r(!0)});const o_=B_;class d5{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(u){r=u});const o=this;this.promise.then(l=>{if(!o._listeners)return;let u=o._listeners.length;for(;u-- >0;)o._listeners[u](l);o._listeners=null}),this.promise.then=l=>{let u;const f=new Promise(i=>{o.subscribe(i),u=i}).then(l);return f.cancel=function(){o.unsubscribe(u)},f},t(function(u,f,i){o.reason||(o.reason=new Kg(u,f,i),r(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}static source(){let t;return{token:new d5(function(l){t=l}),cancel:t}}}const bU=d5;function wU(e){return function(r){return e.apply(null,r)}}function SU(e){return Ht.isObject(e)&&e.isAxiosError===!0}const pw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(pw).forEach(([e,t])=>{pw[t]=e});const TU=pw;function nM(e){const t=new o_(e),r=Bk(o_.prototype.request,t);return Ht.extend(r,o_.prototype,t,{allOwnKeys:!0}),Ht.extend(r,t,null,{allOwnKeys:!0}),r.create=function(l){return nM(Af(e,l))},r}const Ro=nM(c5);Ro.Axios=o_;Ro.CanceledError=Kg;Ro.CancelToken=bU;Ro.isCancel=Qk;Ro.VERSION=tM;Ro.toFormData=iv;Ro.AxiosError=Wr;Ro.Cancel=Ro.CanceledError;Ro.all=function(t){return Promise.all(t)};Ro.spread=wU;Ro.isAxiosError=SU;Ro.mergeConfig=Af;Ro.AxiosHeaders=du;Ro.formToJSON=e=>Jk(Ht.isHTMLForm(e)?new FormData(e):e);Ro.HttpStatusCode=TU;Ro.default=Ro;const Jg=Ro;const CU=({inputValues:e,setInputValues:t})=>{const r=l=>{t({...e,[l.target.name]:l.target.value}),console.log("handleInputChange",e)},o=l=>{l.preventDefault(),console.log("handleInputSubmit",e),Jg.post("/users",e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(u=>{console.log("errorless:",u.data);const f=u.data.waypoints;console.log("waypoints:",f),t({...e,waypoints:f}),console.log("handleInputSubmit",e)}).catch(u=>{u.response?(console.log(u.response),console.log("server responded with error")):u.request?console.log("network error"):console.log(u)})};return V.jsx("div",{className:"comms",children:V.jsxs("form",{onSubmit:o,children:[V.jsx("label",{htmlFor:"latitude",children:"Latitude:"}),V.jsx("input",{type:"text",name:"latitude",value:e.latitude,onChange:r}),V.jsx("label",{htmlFor:"longitude",children:"Longitude:"}),V.jsx("input",{type:"text",name:"longitude",value:e.longitude,onChange:r}),V.jsx("label",{htmlFor:"hour",children:"Longitude:"}),V.jsx("input",{type:"text",name:"hour",value:e.hour,onChange:r}),V.jsx("button",{type:"submit",children:"Submit"})]})})},EU=Sj({createStyledComponent:It("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>Nn({props:e,name:"MuiStack"})}),PU=EU;function Fh(e){return typeof e=="string"}function kU(e,t,r){return e===void 0||Fh(e)?t:J({},t,{ownerState:J({},t.ownerState,r)})}const MU={disableDefaultClasses:!1},IU=U.createContext(MU);function rM(e){const{disableDefaultClasses:t}=U.useContext(IU);return r=>t?"":e(r)}function AU(e,t=[]){if(e===void 0)return{};const r={};return Object.keys(e).filter(o=>o.match(/^on[A-Z]/)&&typeof e[o]=="function"&&!t.includes(o)).forEach(o=>{r[o]=e[o]}),r}function Df(e,t){return typeof e=="function"?e(t):e}function UC(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(r=>!(r.match(/^on[A-Z]/)&&typeof e[r]=="function")).forEach(r=>{t[r]=e[r]}),t}function DU(e){const{getSlotProps:t,additionalProps:r,externalSlotProps:o,externalForwardedProps:l,className:u}=e;if(!t){const B=mn(l==null?void 0:l.className,o==null?void 0:o.className,u,r==null?void 0:r.className),F=J({},r==null?void 0:r.style,l==null?void 0:l.style,o==null?void 0:o.style),L=J({},r,l,o);return B.length>0&&(L.className=B),Object.keys(F).length>0&&(L.style=F),{props:L,internalRef:void 0}}const f=AU(J({},l,o)),i=UC(o),_=UC(l),b=t(f),E=mn(b==null?void 0:b.className,r==null?void 0:r.className,u,l==null?void 0:l.className,o==null?void 0:o.className),k=J({},b==null?void 0:b.style,r==null?void 0:r.style,l==null?void 0:l.style,o==null?void 0:o.style),R=J({},b,r,_,i);return E.length>0&&(R.className=E),Object.keys(k).length>0&&(R.style=k),{props:R,internalRef:b.ref}}const RU=["elementType","externalSlotProps","ownerState"];function Ri(e){var t;const{elementType:r,externalSlotProps:o,ownerState:l}=e,u=nn(e,RU),f=Df(o,l),{props:i,internalRef:_}=DU(J({},u,{externalSlotProps:f})),b=mi(_,f==null?void 0:f.ref,(t=e.additionalProps)==null?void 0:t.ref);return kU(r,J({},i,{ref:b}),l)}const zU=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function LU(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function OU(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=o=>e.ownerDocument.querySelector(`input[type="radio"]${o}`);let r=t(`[name="${e.name}"]:checked`);return r||(r=t(`[name="${e.name}"]`)),r!==e}function FU(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||OU(e))}function BU(e){const t=[],r=[];return Array.from(e.querySelectorAll(zU)).forEach((o,l)=>{const u=LU(o);u===-1||!FU(o)||(u===0?t.push(o):r.push({documentOrder:l,tabIndex:u,node:o}))}),r.sort((o,l)=>o.tabIndex===l.tabIndex?o.documentOrder-l.documentOrder:o.tabIndex-l.tabIndex).map(o=>o.node).concat(t)}function NU(){return!0}function iM(e){const{children:t,disableAutoFocus:r=!1,disableEnforceFocus:o=!1,disableRestoreFocus:l=!1,getTabbable:u=BU,isEnabled:f=NU,open:i}=e,_=U.useRef(!1),b=U.useRef(null),E=U.useRef(null),k=U.useRef(null),R=U.useRef(null),B=U.useRef(!1),F=U.useRef(null),L=mi(t.ref,F),X=U.useRef(null);U.useEffect(()=>{!i||!F.current||(B.current=!r)},[r,i]),U.useEffect(()=>{if(!i||!F.current)return;const G=bo(F.current);return F.current.contains(G.activeElement)||(F.current.hasAttribute("tabIndex")||F.current.setAttribute("tabIndex","-1"),B.current&&F.current.focus()),()=>{l||(k.current&&k.current.focus&&(_.current=!0,k.current.focus()),k.current=null)}},[i]),U.useEffect(()=>{if(!i||!F.current)return;const G=bo(F.current),Q=M=>{const{current:de}=F;if(de!==null){if(!G.hasFocus()||o||!f()||_.current){_.current=!1;return}if(!de.contains(G.activeElement)){if(M&&R.current!==M.target||G.activeElement!==R.current)R.current=null;else if(R.current!==null)return;if(!B.current)return;let ke=[];if((G.activeElement===b.current||G.activeElement===E.current)&&(ke=u(F.current)),ke.length>0){var ce,xe;const $e=!!((ce=X.current)!=null&&ce.shiftKey&&((xe=X.current)==null?void 0:xe.key)==="Tab"),_e=ke[0],we=ke[ke.length-1];typeof _e!="string"&&typeof we!="string"&&($e?we.focus():_e.focus())}else de.focus()}}},te=M=>{X.current=M,!(o||!f()||M.key!=="Tab")&&G.activeElement===F.current&&M.shiftKey&&(_.current=!0,E.current&&E.current.focus())};G.addEventListener("focusin",Q),G.addEventListener("keydown",te,!0);const le=setInterval(()=>{G.activeElement&&G.activeElement.tagName==="BODY"&&Q(null)},50);return()=>{clearInterval(le),G.removeEventListener("focusin",Q),G.removeEventListener("keydown",te,!0)}},[r,o,l,f,i,u]);const $=G=>{k.current===null&&(k.current=G.relatedTarget),B.current=!0,R.current=G.target;const Q=t.props.onFocus;Q&&Q(G)},H=G=>{k.current===null&&(k.current=G.relatedTarget),B.current=!0};return V.jsxs(U.Fragment,{children:[V.jsx("div",{tabIndex:i?0:-1,onFocus:H,ref:b,"data-testid":"sentinelStart"}),U.cloneElement(t,{ref:L,onFocus:$}),V.jsx("div",{tabIndex:i?0:-1,onFocus:H,ref:E,"data-testid":"sentinelEnd"})]})}var Qs="top",ol="bottom",sl="right",ea="left",h5="auto",Qg=[Qs,ol,sl,ea],Rf="start",Mg="end",$U="clippingParents",oM="viewport",ym="popper",jU="reference",WC=Qg.reduce(function(e,t){return e.concat([t+"-"+Rf,t+"-"+Mg])},[]),sM=[].concat(Qg,[h5]).reduce(function(e,t){return e.concat([t,t+"-"+Rf,t+"-"+Mg])},[]),VU="beforeRead",UU="read",WU="afterRead",HU="beforeMain",GU="main",qU="afterMain",ZU="beforeWrite",XU="write",YU="afterWrite",KU=[VU,UU,WU,HU,GU,qU,ZU,XU,YU];function kc(e){return e?(e.nodeName||"").toLowerCase():null}function Pa(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Bh(e){var t=Pa(e).Element;return e instanceof t||e instanceof Element}function tl(e){var t=Pa(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function p5(e){if(typeof ShadowRoot>"u")return!1;var t=Pa(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function JU(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var o=t.styles[r]||{},l=t.attributes[r]||{},u=t.elements[r];!tl(u)||!kc(u)||(Object.assign(u.style,o),Object.keys(l).forEach(function(f){var i=l[f];i===!1?u.removeAttribute(f):u.setAttribute(f,i===!0?"":i)}))})}function QU(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(o){var l=t.elements[o],u=t.attributes[o]||{},f=Object.keys(t.styles.hasOwnProperty(o)?t.styles[o]:r[o]),i=f.reduce(function(_,b){return _[b]="",_},{});!tl(l)||!kc(l)||(Object.assign(l.style,i),Object.keys(u).forEach(function(_){l.removeAttribute(_)}))})}}const eW={name:"applyStyles",enabled:!0,phase:"write",fn:JU,effect:QU,requires:["computeStyles"]};function Ec(e){return e.split("-")[0]}var Th=Math.max,N_=Math.min,zf=Math.round;function fw(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function aM(){return!/^((?!chrome|android).)*safari/i.test(fw())}function Lf(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var o=e.getBoundingClientRect(),l=1,u=1;t&&tl(e)&&(l=e.offsetWidth>0&&zf(o.width)/e.offsetWidth||1,u=e.offsetHeight>0&&zf(o.height)/e.offsetHeight||1);var f=Bh(e)?Pa(e):window,i=f.visualViewport,_=!aM()&&r,b=(o.left+(_&&i?i.offsetLeft:0))/l,E=(o.top+(_&&i?i.offsetTop:0))/u,k=o.width/l,R=o.height/u;return{width:k,height:R,top:E,right:b+k,bottom:E+R,left:b,x:b,y:E}}function f5(e){var t=Lf(e),r=e.offsetWidth,o=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-o)<=1&&(o=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:o}}function lM(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&p5(r)){var o=t;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function yu(e){return Pa(e).getComputedStyle(e)}function tW(e){return["table","td","th"].indexOf(kc(e))>=0}function Pd(e){return((Bh(e)?e.ownerDocument:e.document)||window.document).documentElement}function av(e){return kc(e)==="html"?e:e.assignedSlot||e.parentNode||(p5(e)?e.host:null)||Pd(e)}function HC(e){return!tl(e)||yu(e).position==="fixed"?null:e.offsetParent}function nW(e){var t=/firefox/i.test(fw()),r=/Trident/i.test(fw());if(r&&tl(e)){var o=yu(e);if(o.position==="fixed")return null}var l=av(e);for(p5(l)&&(l=l.host);tl(l)&&["html","body"].indexOf(kc(l))<0;){var u=yu(l);if(u.transform!=="none"||u.perspective!=="none"||u.contain==="paint"||["transform","perspective"].indexOf(u.willChange)!==-1||t&&u.willChange==="filter"||t&&u.filter&&u.filter!=="none")return l;l=l.parentNode}return null}function e0(e){for(var t=Pa(e),r=HC(e);r&&tW(r)&&yu(r).position==="static";)r=HC(r);return r&&(kc(r)==="html"||kc(r)==="body"&&yu(r).position==="static")?t:r||nW(e)||t}function m5(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Gm(e,t,r){return Th(e,N_(t,r))}function rW(e,t,r){var o=Gm(e,t,r);return o>r?r:o}function cM(){return{top:0,right:0,bottom:0,left:0}}function uM(e){return Object.assign({},cM(),e)}function dM(e,t){return t.reduce(function(r,o){return r[o]=e,r},{})}var iW=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,uM(typeof t!="number"?t:dM(t,Qg))};function oW(e){var t,r=e.state,o=e.name,l=e.options,u=r.elements.arrow,f=r.modifiersData.popperOffsets,i=Ec(r.placement),_=m5(i),b=[ea,sl].indexOf(i)>=0,E=b?"height":"width";if(!(!u||!f)){var k=iW(l.padding,r),R=f5(u),B=_==="y"?Qs:ea,F=_==="y"?ol:sl,L=r.rects.reference[E]+r.rects.reference[_]-f[_]-r.rects.popper[E],X=f[_]-r.rects.reference[_],$=e0(u),H=$?_==="y"?$.clientHeight||0:$.clientWidth||0:0,G=L/2-X/2,Q=k[B],te=H-R[E]-k[F],le=H/2-R[E]/2+G,M=Gm(Q,le,te),de=_;r.modifiersData[o]=(t={},t[de]=M,t.centerOffset=M-le,t)}}function sW(e){var t=e.state,r=e.options,o=r.element,l=o===void 0?"[data-popper-arrow]":o;l!=null&&(typeof l=="string"&&(l=t.elements.popper.querySelector(l),!l)||lM(t.elements.popper,l)&&(t.elements.arrow=l))}const aW={name:"arrow",enabled:!0,phase:"main",fn:oW,effect:sW,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Of(e){return e.split("-")[1]}var lW={top:"auto",right:"auto",bottom:"auto",left:"auto"};function cW(e,t){var r=e.x,o=e.y,l=t.devicePixelRatio||1;return{x:zf(r*l)/l||0,y:zf(o*l)/l||0}}function GC(e){var t,r=e.popper,o=e.popperRect,l=e.placement,u=e.variation,f=e.offsets,i=e.position,_=e.gpuAcceleration,b=e.adaptive,E=e.roundOffsets,k=e.isFixed,R=f.x,B=R===void 0?0:R,F=f.y,L=F===void 0?0:F,X=typeof E=="function"?E({x:B,y:L}):{x:B,y:L};B=X.x,L=X.y;var $=f.hasOwnProperty("x"),H=f.hasOwnProperty("y"),G=ea,Q=Qs,te=window;if(b){var le=e0(r),M="clientHeight",de="clientWidth";if(le===Pa(r)&&(le=Pd(r),yu(le).position!=="static"&&i==="absolute"&&(M="scrollHeight",de="scrollWidth")),le=le,l===Qs||(l===ea||l===sl)&&u===Mg){Q=ol;var ce=k&&le===te&&te.visualViewport?te.visualViewport.height:le[M];L-=ce-o.height,L*=_?1:-1}if(l===ea||(l===Qs||l===ol)&&u===Mg){G=sl;var xe=k&&le===te&&te.visualViewport?te.visualViewport.width:le[de];B-=xe-o.width,B*=_?1:-1}}var ke=Object.assign({position:i},b&&lW),$e=E===!0?cW({x:B,y:L},Pa(r)):{x:B,y:L};if(B=$e.x,L=$e.y,_){var _e;return Object.assign({},ke,(_e={},_e[Q]=H?"0":"",_e[G]=$?"0":"",_e.transform=(te.devicePixelRatio||1)<=1?"translate("+B+"px, "+L+"px)":"translate3d("+B+"px, "+L+"px, 0)",_e))}return Object.assign({},ke,(t={},t[Q]=H?L+"px":"",t[G]=$?B+"px":"",t.transform="",t))}function uW(e){var t=e.state,r=e.options,o=r.gpuAcceleration,l=o===void 0?!0:o,u=r.adaptive,f=u===void 0?!0:u,i=r.roundOffsets,_=i===void 0?!0:i,b={placement:Ec(t.placement),variation:Of(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:l,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,GC(Object.assign({},b,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:f,roundOffsets:_})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,GC(Object.assign({},b,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:_})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const dW={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:uW,data:{}};var Py={passive:!0};function hW(e){var t=e.state,r=e.instance,o=e.options,l=o.scroll,u=l===void 0?!0:l,f=o.resize,i=f===void 0?!0:f,_=Pa(t.elements.popper),b=[].concat(t.scrollParents.reference,t.scrollParents.popper);return u&&b.forEach(function(E){E.addEventListener("scroll",r.update,Py)}),i&&_.addEventListener("resize",r.update,Py),function(){u&&b.forEach(function(E){E.removeEventListener("scroll",r.update,Py)}),i&&_.removeEventListener("resize",r.update,Py)}}const pW={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:hW,data:{}};var fW={left:"right",right:"left",bottom:"top",top:"bottom"};function s_(e){return e.replace(/left|right|bottom|top/g,function(t){return fW[t]})}var mW={start:"end",end:"start"};function qC(e){return e.replace(/start|end/g,function(t){return mW[t]})}function g5(e){var t=Pa(e),r=t.pageXOffset,o=t.pageYOffset;return{scrollLeft:r,scrollTop:o}}function y5(e){return Lf(Pd(e)).left+g5(e).scrollLeft}function gW(e,t){var r=Pa(e),o=Pd(e),l=r.visualViewport,u=o.clientWidth,f=o.clientHeight,i=0,_=0;if(l){u=l.width,f=l.height;var b=aM();(b||!b&&t==="fixed")&&(i=l.offsetLeft,_=l.offsetTop)}return{width:u,height:f,x:i+y5(e),y:_}}function yW(e){var t,r=Pd(e),o=g5(e),l=(t=e.ownerDocument)==null?void 0:t.body,u=Th(r.scrollWidth,r.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),f=Th(r.scrollHeight,r.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0),i=-o.scrollLeft+y5(e),_=-o.scrollTop;return yu(l||r).direction==="rtl"&&(i+=Th(r.clientWidth,l?l.clientWidth:0)-u),{width:u,height:f,x:i,y:_}}function _5(e){var t=yu(e),r=t.overflow,o=t.overflowX,l=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+l+o)}function hM(e){return["html","body","#document"].indexOf(kc(e))>=0?e.ownerDocument.body:tl(e)&&_5(e)?e:hM(av(e))}function qm(e,t){var r;t===void 0&&(t=[]);var o=hM(e),l=o===((r=e.ownerDocument)==null?void 0:r.body),u=Pa(o),f=l?[u].concat(u.visualViewport||[],_5(o)?o:[]):o,i=t.concat(f);return l?i:i.concat(qm(av(f)))}function mw(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function _W(e,t){var r=Lf(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function ZC(e,t,r){return t===oM?mw(gW(e,r)):Bh(t)?_W(t,r):mw(yW(Pd(e)))}function vW(e){var t=qm(av(e)),r=["absolute","fixed"].indexOf(yu(e).position)>=0,o=r&&tl(e)?e0(e):e;return Bh(o)?t.filter(function(l){return Bh(l)&&lM(l,o)&&kc(l)!=="body"}):[]}function xW(e,t,r,o){var l=t==="clippingParents"?vW(e):[].concat(t),u=[].concat(l,[r]),f=u[0],i=u.reduce(function(_,b){var E=ZC(e,b,o);return _.top=Th(E.top,_.top),_.right=N_(E.right,_.right),_.bottom=N_(E.bottom,_.bottom),_.left=Th(E.left,_.left),_},ZC(e,f,o));return i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}function pM(e){var t=e.reference,r=e.element,o=e.placement,l=o?Ec(o):null,u=o?Of(o):null,f=t.x+t.width/2-r.width/2,i=t.y+t.height/2-r.height/2,_;switch(l){case Qs:_={x:f,y:t.y-r.height};break;case ol:_={x:f,y:t.y+t.height};break;case sl:_={x:t.x+t.width,y:i};break;case ea:_={x:t.x-r.width,y:i};break;default:_={x:t.x,y:t.y}}var b=l?m5(l):null;if(b!=null){var E=b==="y"?"height":"width";switch(u){case Rf:_[b]=_[b]-(t[E]/2-r[E]/2);break;case Mg:_[b]=_[b]+(t[E]/2-r[E]/2);break}}return _}function Ig(e,t){t===void 0&&(t={});var r=t,o=r.placement,l=o===void 0?e.placement:o,u=r.strategy,f=u===void 0?e.strategy:u,i=r.boundary,_=i===void 0?$U:i,b=r.rootBoundary,E=b===void 0?oM:b,k=r.elementContext,R=k===void 0?ym:k,B=r.altBoundary,F=B===void 0?!1:B,L=r.padding,X=L===void 0?0:L,$=uM(typeof X!="number"?X:dM(X,Qg)),H=R===ym?jU:ym,G=e.rects.popper,Q=e.elements[F?H:R],te=xW(Bh(Q)?Q:Q.contextElement||Pd(e.elements.popper),_,E,f),le=Lf(e.elements.reference),M=pM({reference:le,element:G,strategy:"absolute",placement:l}),de=mw(Object.assign({},G,M)),ce=R===ym?de:le,xe={top:te.top-ce.top+$.top,bottom:ce.bottom-te.bottom+$.bottom,left:te.left-ce.left+$.left,right:ce.right-te.right+$.right},ke=e.modifiersData.offset;if(R===ym&&ke){var $e=ke[l];Object.keys(xe).forEach(function(_e){var we=[sl,ol].indexOf(_e)>=0?1:-1,me=[Qs,ol].indexOf(_e)>=0?"y":"x";xe[_e]+=$e[me]*we})}return xe}function bW(e,t){t===void 0&&(t={});var r=t,o=r.placement,l=r.boundary,u=r.rootBoundary,f=r.padding,i=r.flipVariations,_=r.allowedAutoPlacements,b=_===void 0?sM:_,E=Of(o),k=E?i?WC:WC.filter(function(F){return Of(F)===E}):Qg,R=k.filter(function(F){return b.indexOf(F)>=0});R.length===0&&(R=k);var B=R.reduce(function(F,L){return F[L]=Ig(e,{placement:L,boundary:l,rootBoundary:u,padding:f})[Ec(L)],F},{});return Object.keys(B).sort(function(F,L){return B[F]-B[L]})}function wW(e){if(Ec(e)===h5)return[];var t=s_(e);return[qC(e),t,qC(t)]}function SW(e){var t=e.state,r=e.options,o=e.name;if(!t.modifiersData[o]._skip){for(var l=r.mainAxis,u=l===void 0?!0:l,f=r.altAxis,i=f===void 0?!0:f,_=r.fallbackPlacements,b=r.padding,E=r.boundary,k=r.rootBoundary,R=r.altBoundary,B=r.flipVariations,F=B===void 0?!0:B,L=r.allowedAutoPlacements,X=t.options.placement,$=Ec(X),H=$===X,G=_||(H||!F?[s_(X)]:wW(X)),Q=[X].concat(G).reduce(function(ht,Dt){return ht.concat(Ec(Dt)===h5?bW(t,{placement:Dt,boundary:E,rootBoundary:k,padding:b,flipVariations:F,allowedAutoPlacements:L}):Dt)},[]),te=t.rects.reference,le=t.rects.popper,M=new Map,de=!0,ce=Q[0],xe=0;xe<Q.length;xe++){var ke=Q[xe],$e=Ec(ke),_e=Of(ke)===Rf,we=[Qs,ol].indexOf($e)>=0,me=we?"width":"height",je=Ig(t,{placement:ke,boundary:E,rootBoundary:k,altBoundary:R,padding:b}),ze=we?_e?sl:ea:_e?ol:Qs;te[me]>le[me]&&(ze=s_(ze));var Me=s_(ze),Le=[];if(u&&Le.push(je[$e]<=0),i&&Le.push(je[ze]<=0,je[Me]<=0),Le.every(function(ht){return ht})){ce=ke,de=!1;break}M.set(ke,Le)}if(de)for(var qe=F?3:1,ct=function(Dt){var bt=Q.find(function(Et){var Xt=M.get(Et);if(Xt)return Xt.slice(0,Dt).every(function(rn){return rn})});if(bt)return ce=bt,"break"},wt=qe;wt>0;wt--){var St=ct(wt);if(St==="break")break}t.placement!==ce&&(t.modifiersData[o]._skip=!0,t.placement=ce,t.reset=!0)}}const TW={name:"flip",enabled:!0,phase:"main",fn:SW,requiresIfExists:["offset"],data:{_skip:!1}};function XC(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function YC(e){return[Qs,sl,ol,ea].some(function(t){return e[t]>=0})}function CW(e){var t=e.state,r=e.name,o=t.rects.reference,l=t.rects.popper,u=t.modifiersData.preventOverflow,f=Ig(t,{elementContext:"reference"}),i=Ig(t,{altBoundary:!0}),_=XC(f,o),b=XC(i,l,u),E=YC(_),k=YC(b);t.modifiersData[r]={referenceClippingOffsets:_,popperEscapeOffsets:b,isReferenceHidden:E,hasPopperEscaped:k},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":E,"data-popper-escaped":k})}const EW={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:CW};function PW(e,t,r){var o=Ec(e),l=[ea,Qs].indexOf(o)>=0?-1:1,u=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,f=u[0],i=u[1];return f=f||0,i=(i||0)*l,[ea,sl].indexOf(o)>=0?{x:i,y:f}:{x:f,y:i}}function kW(e){var t=e.state,r=e.options,o=e.name,l=r.offset,u=l===void 0?[0,0]:l,f=sM.reduce(function(E,k){return E[k]=PW(k,t.rects,u),E},{}),i=f[t.placement],_=i.x,b=i.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=_,t.modifiersData.popperOffsets.y+=b),t.modifiersData[o]=f}const MW={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:kW};function IW(e){var t=e.state,r=e.name;t.modifiersData[r]=pM({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const AW={name:"popperOffsets",enabled:!0,phase:"read",fn:IW,data:{}};function DW(e){return e==="x"?"y":"x"}function RW(e){var t=e.state,r=e.options,o=e.name,l=r.mainAxis,u=l===void 0?!0:l,f=r.altAxis,i=f===void 0?!1:f,_=r.boundary,b=r.rootBoundary,E=r.altBoundary,k=r.padding,R=r.tether,B=R===void 0?!0:R,F=r.tetherOffset,L=F===void 0?0:F,X=Ig(t,{boundary:_,rootBoundary:b,padding:k,altBoundary:E}),$=Ec(t.placement),H=Of(t.placement),G=!H,Q=m5($),te=DW(Q),le=t.modifiersData.popperOffsets,M=t.rects.reference,de=t.rects.popper,ce=typeof L=="function"?L(Object.assign({},t.rects,{placement:t.placement})):L,xe=typeof ce=="number"?{mainAxis:ce,altAxis:ce}:Object.assign({mainAxis:0,altAxis:0},ce),ke=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,$e={x:0,y:0};if(le){if(u){var _e,we=Q==="y"?Qs:ea,me=Q==="y"?ol:sl,je=Q==="y"?"height":"width",ze=le[Q],Me=ze+X[we],Le=ze-X[me],qe=B?-de[je]/2:0,ct=H===Rf?M[je]:de[je],wt=H===Rf?-de[je]:-M[je],St=t.elements.arrow,ht=B&&St?f5(St):{width:0,height:0},Dt=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:cM(),bt=Dt[we],Et=Dt[me],Xt=Gm(0,M[je],ht[je]),rn=G?M[je]/2-qe-Xt-bt-xe.mainAxis:ct-Xt-bt-xe.mainAxis,_t=G?-M[je]/2+qe+Xt+Et+xe.mainAxis:wt+Xt+Et+xe.mainAxis,at=t.elements.arrow&&e0(t.elements.arrow),ft=at?Q==="y"?at.clientTop||0:at.clientLeft||0:0,Ft=(_e=ke==null?void 0:ke[Q])!=null?_e:0,un=ze+rn-Ft-ft,rt=ze+_t-Ft,an=Gm(B?N_(Me,un):Me,ze,B?Th(Le,rt):Le);le[Q]=an,$e[Q]=an-ze}if(i){var Tt,on=Q==="x"?Qs:ea,ln=Q==="x"?ol:sl,sn=le[te],Qt=te==="y"?"height":"width",Tn=sn+X[on],Zn=sn-X[ln],hr=[Qs,ea].indexOf($)!==-1,$t=(Tt=ke==null?void 0:ke[te])!=null?Tt:0,Dn=hr?Tn:sn-M[Qt]-de[Qt]-$t+xe.altAxis,Wn=hr?sn+M[Qt]+de[Qt]-$t-xe.altAxis:Zn,Cn=B&&hr?rW(Dn,sn,Wn):Gm(B?Dn:Tn,sn,B?Wn:Zn);le[te]=Cn,$e[te]=Cn-sn}t.modifiersData[o]=$e}}const zW={name:"preventOverflow",enabled:!0,phase:"main",fn:RW,requiresIfExists:["offset"]};function LW(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function OW(e){return e===Pa(e)||!tl(e)?g5(e):LW(e)}function FW(e){var t=e.getBoundingClientRect(),r=zf(t.width)/e.offsetWidth||1,o=zf(t.height)/e.offsetHeight||1;return r!==1||o!==1}function BW(e,t,r){r===void 0&&(r=!1);var o=tl(t),l=tl(t)&&FW(t),u=Pd(t),f=Lf(e,l,r),i={scrollLeft:0,scrollTop:0},_={x:0,y:0};return(o||!o&&!r)&&((kc(t)!=="body"||_5(u))&&(i=OW(t)),tl(t)?(_=Lf(t,!0),_.x+=t.clientLeft,_.y+=t.clientTop):u&&(_.x=y5(u))),{x:f.left+i.scrollLeft-_.x,y:f.top+i.scrollTop-_.y,width:f.width,height:f.height}}function NW(e){var t=new Map,r=new Set,o=[];e.forEach(function(u){t.set(u.name,u)});function l(u){r.add(u.name);var f=[].concat(u.requires||[],u.requiresIfExists||[]);f.forEach(function(i){if(!r.has(i)){var _=t.get(i);_&&l(_)}}),o.push(u)}return e.forEach(function(u){r.has(u.name)||l(u)}),o}function $W(e){var t=NW(e);return KU.reduce(function(r,o){return r.concat(t.filter(function(l){return l.phase===o}))},[])}function jW(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function VW(e){var t=e.reduce(function(r,o){var l=r[o.name];return r[o.name]=l?Object.assign({},l,o,{options:Object.assign({},l.options,o.options),data:Object.assign({},l.data,o.data)}):o,r},{});return Object.keys(t).map(function(r){return t[r]})}var KC={placement:"bottom",modifiers:[],strategy:"absolute"};function JC(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function UW(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,o=r===void 0?[]:r,l=t.defaultOptions,u=l===void 0?KC:l;return function(i,_,b){b===void 0&&(b=u);var E={placement:"bottom",orderedModifiers:[],options:Object.assign({},KC,u),modifiersData:{},elements:{reference:i,popper:_},attributes:{},styles:{}},k=[],R=!1,B={state:E,setOptions:function($){var H=typeof $=="function"?$(E.options):$;L(),E.options=Object.assign({},u,E.options,H),E.scrollParents={reference:Bh(i)?qm(i):i.contextElement?qm(i.contextElement):[],popper:qm(_)};var G=$W(VW([].concat(o,E.options.modifiers)));return E.orderedModifiers=G.filter(function(Q){return Q.enabled}),F(),B.update()},forceUpdate:function(){if(!R){var $=E.elements,H=$.reference,G=$.popper;if(JC(H,G)){E.rects={reference:BW(H,e0(G),E.options.strategy==="fixed"),popper:f5(G)},E.reset=!1,E.placement=E.options.placement,E.orderedModifiers.forEach(function(xe){return E.modifiersData[xe.name]=Object.assign({},xe.data)});for(var Q=0;Q<E.orderedModifiers.length;Q++){if(E.reset===!0){E.reset=!1,Q=-1;continue}var te=E.orderedModifiers[Q],le=te.fn,M=te.options,de=M===void 0?{}:M,ce=te.name;typeof le=="function"&&(E=le({state:E,options:de,name:ce,instance:B})||E)}}}},update:jW(function(){return new Promise(function(X){B.forceUpdate(),X(E)})}),destroy:function(){L(),R=!0}};if(!JC(i,_))return B;B.setOptions(b).then(function(X){!R&&b.onFirstUpdate&&b.onFirstUpdate(X)});function F(){E.orderedModifiers.forEach(function(X){var $=X.name,H=X.options,G=H===void 0?{}:H,Q=X.effect;if(typeof Q=="function"){var te=Q({state:E,name:$,instance:B,options:G}),le=function(){};k.push(te||le)}})}function L(){k.forEach(function(X){return X()}),k=[]}return B}}var WW=[pW,AW,dW,eW,MW,TW,zW,aW,EW],HW=UW({defaultModifiers:WW});function GW(e){return typeof e=="function"?e():e}const qW=U.forwardRef(function(t,r){const{children:o,container:l,disablePortal:u=!1}=t,[f,i]=U.useState(null),_=mi(U.isValidElement(o)?o.ref:null,r);if(wo(()=>{u||i(GW(l)||document.body)},[l,u]),wo(()=>{if(f&&!u)return Sg(r,f),()=>{Sg(r,null)}},[r,f,u]),u){if(U.isValidElement(o)){const b={ref:_};return U.cloneElement(o,b)}return V.jsx(U.Fragment,{children:o})}return V.jsx(U.Fragment,{children:f&&Hg.createPortal(o,f)})}),fM=qW;function ZW(e){return qn("MuiPopper",e)}jn("MuiPopper",["root"]);const XW=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],YW=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function KW(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function gw(e){return typeof e=="function"?e():e}function JW(e){return e.nodeType!==void 0}const QW=()=>Hn({root:["root"]},rM(ZW)),eH={},tH=U.forwardRef(function(t,r){var o;const{anchorEl:l,children:u,direction:f,disablePortal:i,modifiers:_,open:b,placement:E,popperOptions:k,popperRef:R,slotProps:B={},slots:F={},TransitionProps:L}=t,X=nn(t,XW),$=U.useRef(null),H=mi($,r),G=U.useRef(null),Q=mi(G,R),te=U.useRef(Q);wo(()=>{te.current=Q},[Q]),U.useImperativeHandle(R,()=>G.current,[]);const le=KW(E,f),[M,de]=U.useState(le),[ce,xe]=U.useState(gw(l));U.useEffect(()=>{G.current&&G.current.forceUpdate()}),U.useEffect(()=>{l&&xe(gw(l))},[l]),wo(()=>{if(!ce||!b)return;const me=Me=>{de(Me.placement)};let je=[{name:"preventOverflow",options:{altBoundary:i}},{name:"flip",options:{altBoundary:i}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:Me})=>{me(Me)}}];_!=null&&(je=je.concat(_)),k&&k.modifiers!=null&&(je=je.concat(k.modifiers));const ze=HW(ce,$.current,J({placement:le},k,{modifiers:je}));return te.current(ze),()=>{ze.destroy(),te.current(null)}},[ce,i,_,b,k,le]);const ke={placement:M};L!==null&&(ke.TransitionProps=L);const $e=QW(),_e=(o=F.root)!=null?o:"div",we=Ri({elementType:_e,externalSlotProps:B.root,externalForwardedProps:X,additionalProps:{role:"tooltip",ref:H},ownerState:t,className:$e.root});return V.jsx(_e,J({},we,{children:typeof u=="function"?u(ke):u}))}),nH=U.forwardRef(function(t,r){const{anchorEl:o,children:l,container:u,direction:f="ltr",disablePortal:i=!1,keepMounted:_=!1,modifiers:b,open:E,placement:k="bottom",popperOptions:R=eH,popperRef:B,style:F,transition:L=!1,slotProps:X={},slots:$={}}=t,H=nn(t,YW),[G,Q]=U.useState(!0),te=()=>{Q(!1)},le=()=>{Q(!0)};if(!_&&!E&&(!L||G))return null;let M;if(u)M=u;else if(o){const xe=gw(o);M=xe&&JW(xe)?bo(xe).body:bo(null).body}const de=!E&&_&&(!L||G)?"none":void 0,ce=L?{in:E,onEnter:te,onExited:le}:void 0;return V.jsx(fM,{disablePortal:i,container:M,children:V.jsx(tH,J({anchorEl:o,direction:f,disablePortal:i,modifiers:b,ref:r,open:L?!G:E,placement:k,popperOptions:R,popperRef:B,slotProps:X,slots:$},H,{style:J({position:"fixed",top:0,left:0,display:de},F),TransitionProps:ce,children:l}))})}),rH=nH;function iH(e){const t=bo(e);return t.body===e?Pc(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function Zm(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function QC(e){return parseInt(Pc(e).getComputedStyle(e).paddingRight,10)||0}function oH(e){const r=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,o=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return r||o}function e8(e,t,r,o,l){const u=[t,r,...o];[].forEach.call(e.children,f=>{const i=u.indexOf(f)===-1,_=!oH(f);i&&_&&Zm(f,l)})}function Ob(e,t){let r=-1;return e.some((o,l)=>t(o)?(r=l,!0):!1),r}function sH(e,t){const r=[],o=e.container;if(!t.disableScrollLock){if(iH(o)){const f=sk(bo(o));r.push({value:o.style.paddingRight,property:"padding-right",el:o}),o.style.paddingRight=`${QC(o)+f}px`;const i=bo(o).querySelectorAll(".mui-fixed");[].forEach.call(i,_=>{r.push({value:_.style.paddingRight,property:"padding-right",el:_}),_.style.paddingRight=`${QC(_)+f}px`})}let u;if(o.parentNode instanceof DocumentFragment)u=bo(o).body;else{const f=o.parentElement,i=Pc(o);u=(f==null?void 0:f.nodeName)==="HTML"&&i.getComputedStyle(f).overflowY==="scroll"?f:o}r.push({value:u.style.overflow,property:"overflow",el:u},{value:u.style.overflowX,property:"overflow-x",el:u},{value:u.style.overflowY,property:"overflow-y",el:u}),u.style.overflow="hidden"}return()=>{r.forEach(({value:u,el:f,property:i})=>{u?f.style.setProperty(i,u):f.style.removeProperty(i)})}}function aH(e){const t=[];return[].forEach.call(e.children,r=>{r.getAttribute("aria-hidden")==="true"&&t.push(r)}),t}class lH{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,r){let o=this.modals.indexOf(t);if(o!==-1)return o;o=this.modals.length,this.modals.push(t),t.modalRef&&Zm(t.modalRef,!1);const l=aH(r);e8(r,t.mount,t.modalRef,l,!0);const u=Ob(this.containers,f=>f.container===r);return u!==-1?(this.containers[u].modals.push(t),o):(this.containers.push({modals:[t],container:r,restore:null,hiddenSiblings:l}),o)}mount(t,r){const o=Ob(this.containers,u=>u.modals.indexOf(t)!==-1),l=this.containers[o];l.restore||(l.restore=sH(l,r))}remove(t,r=!0){const o=this.modals.indexOf(t);if(o===-1)return o;const l=Ob(this.containers,f=>f.modals.indexOf(t)!==-1),u=this.containers[l];if(u.modals.splice(u.modals.indexOf(t),1),this.modals.splice(o,1),u.modals.length===0)u.restore&&u.restore(),t.modalRef&&Zm(t.modalRef,r),e8(u.container,t.mount,t.modalRef,u.hiddenSiblings,!1),this.containers.splice(l,1);else{const f=u.modals[u.modals.length-1];f.modalRef&&Zm(f.modalRef,!1)}return o}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}function cH(e){return qn("MuiModal",e)}jn("MuiModal",["root","hidden","backdrop"]);const uH=["children","closeAfterTransition","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited","slotProps","slots"],dH=e=>{const{open:t,exited:r}=e;return Hn({root:["root",!t&&r&&"hidden"],backdrop:["backdrop"]},rM(cH))};function hH(e){return typeof e=="function"?e():e}function pH(e){return e?e.props.hasOwnProperty("in"):!1}const fH=new lH,mH=U.forwardRef(function(t,r){var o,l;const{children:u,closeAfterTransition:f=!1,container:i,disableAutoFocus:_=!1,disableEnforceFocus:b=!1,disableEscapeKeyDown:E=!1,disablePortal:k=!1,disableRestoreFocus:R=!1,disableScrollLock:B=!1,hideBackdrop:F=!1,keepMounted:L=!1,manager:X=fH,onBackdropClick:$,onClose:H,onKeyDown:G,open:Q,onTransitionEnter:te,onTransitionExited:le,slotProps:M={},slots:de={}}=t,ce=nn(t,uH),xe=X,[ke,$e]=U.useState(!Q),_e=U.useRef({}),we=U.useRef(null),me=U.useRef(null),je=mi(me,r),ze=pH(u),Me=(o=t["aria-hidden"])!=null?o:!0,Le=()=>bo(we.current),qe=()=>(_e.current.modalRef=me.current,_e.current.mountNode=we.current,_e.current),ct=()=>{xe.mount(qe(),{disableScrollLock:B}),me.current&&(me.current.scrollTop=0)},wt=Fn(()=>{const Tt=hH(i)||Le().body;xe.add(qe(),Tt),me.current&&ct()}),St=U.useCallback(()=>xe.isTopModal(qe()),[xe]),ht=Fn(Tt=>{we.current=Tt,!(!Tt||!me.current)&&(Q&&St()?ct():Zm(me.current,Me))}),Dt=U.useCallback(()=>{xe.remove(qe(),Me)},[xe,Me]);U.useEffect(()=>()=>{Dt()},[Dt]),U.useEffect(()=>{Q?wt():(!ze||!f)&&Dt()},[Q,Dt,ze,f,wt]);const bt=J({},t,{closeAfterTransition:f,disableAutoFocus:_,disableEnforceFocus:b,disableEscapeKeyDown:E,disablePortal:k,disableRestoreFocus:R,disableScrollLock:B,exited:ke,hideBackdrop:F,keepMounted:L}),Et=dH(bt),Xt=()=>{$e(!1),te&&te()},rn=()=>{$e(!0),le&&le(),f&&Dt()},_t=Tt=>{Tt.target===Tt.currentTarget&&($&&$(Tt),H&&H(Tt,"backdropClick"))},at=Tt=>{G&&G(Tt),!(Tt.key!=="Escape"||!St())&&(E||(Tt.stopPropagation(),H&&H(Tt,"escapeKeyDown")))},ft={};u.props.tabIndex===void 0&&(ft.tabIndex="-1"),ze&&(ft.onEnter=iw(Xt,u.props.onEnter),ft.onExited=iw(rn,u.props.onExited));const Ft=(l=de.root)!=null?l:"div",un=Ri({elementType:Ft,externalSlotProps:M.root,externalForwardedProps:ce,additionalProps:{ref:je,role:"presentation",onKeyDown:at},className:Et.root,ownerState:bt}),rt=de.backdrop,an=Ri({elementType:rt,externalSlotProps:M.backdrop,additionalProps:{"aria-hidden":!0,onClick:_t,open:Q},className:Et.backdrop,ownerState:bt});return!L&&!Q&&(!ze||ke)?null:V.jsx(fM,{ref:ht,container:i,disablePortal:k,children:V.jsxs(Ft,J({},un,{children:[!F&&rt?V.jsx(rt,J({},an)):null,V.jsx(iM,{disableEnforceFocus:b,disableAutoFocus:_,disableRestoreFocus:R,isEnabled:St,open:Q,children:U.cloneElement(u,ft)})]}))})}),gH=mH,yH=["onChange","maxRows","minRows","style","value"];function ky(e){return parseInt(e,10)||0}const _H={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function t8(e){return e==null||Object.keys(e).length===0||e.outerHeightStyle===0&&!e.overflow}const vH=U.forwardRef(function(t,r){const{onChange:o,maxRows:l,minRows:u=1,style:f,value:i}=t,_=nn(t,yH),{current:b}=U.useRef(i!=null),E=U.useRef(null),k=mi(r,E),R=U.useRef(null),B=U.useRef(0),[F,L]=U.useState({outerHeightStyle:0}),X=U.useCallback(()=>{const te=E.current,M=Pc(te).getComputedStyle(te);if(M.width==="0px")return{outerHeightStyle:0};const de=R.current;de.style.width=M.width,de.value=te.value||t.placeholder||"x",de.value.slice(-1)===`
`&&(de.value+=" ");const ce=M.boxSizing,xe=ky(M.paddingBottom)+ky(M.paddingTop),ke=ky(M.borderBottomWidth)+ky(M.borderTopWidth),$e=de.scrollHeight;de.value="x";const _e=de.scrollHeight;let we=$e;u&&(we=Math.max(Number(u)*_e,we)),l&&(we=Math.min(Number(l)*_e,we)),we=Math.max(we,_e);const me=we+(ce==="border-box"?xe+ke:0),je=Math.abs(we-$e)<=1;return{outerHeightStyle:me,overflow:je}},[l,u,t.placeholder]),$=(te,le)=>{const{outerHeightStyle:M,overflow:de}=le;return B.current<20&&(M>0&&Math.abs((te.outerHeightStyle||0)-M)>1||te.overflow!==de)?(B.current+=1,{overflow:de,outerHeightStyle:M}):te},H=U.useCallback(()=>{const te=X();t8(te)||L(le=>$(le,te))},[X]),G=()=>{const te=X();t8(te)||Hg.flushSync(()=>{L(le=>$(le,te))})};U.useEffect(()=>{const te=Mf(()=>{B.current=0,E.current&&G()});let le;const M=E.current,de=Pc(M);return de.addEventListener("resize",te),typeof ResizeObserver<"u"&&(le=new ResizeObserver(te),le.observe(M)),()=>{te.clear(),de.removeEventListener("resize",te),le&&le.disconnect()}}),wo(()=>{H()}),U.useEffect(()=>{B.current=0},[i]);const Q=te=>{B.current=0,b||H(),o&&o(te)};return V.jsxs(U.Fragment,{children:[V.jsx("textarea",J({value:i,onChange:Q,ref:k,rows:u,style:J({height:F.outerHeightStyle,overflow:F.overflow?"hidden":void 0},f)},_)),V.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:R,tabIndex:-1,style:J({},_H.shadow,f,{padding:0})})]})}),xH=vH;function n8(e){return typeof e.normalize<"u"?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e}function bH(e={}){const{ignoreAccents:t=!0,ignoreCase:r=!0,limit:o,matchFrom:l="any",stringify:u,trim:f=!1}=e;return(i,{inputValue:_,getOptionLabel:b})=>{let E=f?_.trim():_;r&&(E=E.toLowerCase()),t&&(E=n8(E));const k=E?i.filter(R=>{let B=(u||b)(R);return r&&(B=B.toLowerCase()),t&&(B=n8(B)),l==="start"?B.indexOf(E)===0:B.indexOf(E)>-1}):i;return typeof o=="number"?k.slice(0,o):k}}function Fb(e,t){for(let r=0;r<e.length;r+=1)if(t(e[r]))return r;return-1}const wH=bH(),r8=5,SH=e=>{var t;return e.current!==null&&((t=e.current.parentElement)==null?void 0:t.contains(document.activeElement))};function TH(e){const{unstable_isActiveElementInListbox:t=SH,unstable_classNamePrefix:r="Mui",autoComplete:o=!1,autoHighlight:l=!1,autoSelect:u=!1,blurOnSelect:f=!1,clearOnBlur:i=!e.freeSolo,clearOnEscape:_=!1,componentName:b="useAutocomplete",defaultValue:E=e.multiple?[]:null,disableClearable:k=!1,disableCloseOnSelect:R=!1,disabled:B,disabledItemsFocusable:F=!1,disableListWrap:L=!1,filterOptions:X=wH,filterSelectedOptions:$=!1,freeSolo:H=!1,getOptionDisabled:G,getOptionLabel:Q=ut=>{var xt;return(xt=ut.label)!=null?xt:ut},groupBy:te,handleHomeEndKeys:le=!e.freeSolo,id:M,includeInputInList:de=!1,inputValue:ce,isOptionEqualToValue:xe=(ut,xt)=>ut===xt,multiple:ke=!1,onChange:$e,onClose:_e,onHighlightChange:we,onInputChange:me,onOpen:je,open:ze,openOnFocus:Me=!1,options:Le,readOnly:qe=!1,selectOnFocus:ct=!e.freeSolo,value:wt}=e,St=Ed(M);let ht=Q;ht=ut=>{const xt=Q(ut);return typeof xt!="string"?String(xt):xt};const Dt=U.useRef(!1),bt=U.useRef(!0),Et=U.useRef(null),Xt=U.useRef(null),[rn,_t]=U.useState(null),[at,ft]=U.useState(-1),Ft=l?0:-1,un=U.useRef(Ft),[rt,an]=Js({controlled:wt,default:E,name:b}),[Tt,on]=Js({controlled:ce,default:"",name:b,state:"inputValue"}),[ln,sn]=U.useState(!1),Qt=U.useCallback((ut,xt)=>{if(!(ke?rt.length<xt.length:xt!==null)&&!i)return;let Rn;if(ke)Rn="";else if(xt==null)Rn="";else{const Mr=ht(xt);Rn=typeof Mr=="string"?Mr:""}Tt!==Rn&&(on(Rn),me&&me(ut,Rn,"reset"))},[ht,Tt,ke,me,on,i,rt]),[Tn,Zn]=Js({controlled:ze,default:!1,name:b,state:"open"}),[hr,$t]=U.useState(!0),Dn=!ke&&rt!=null&&Tt===ht(rt),Wn=Tn&&!qe,Cn=Wn?X(Le.filter(ut=>!($&&(ke?rt:[rt]).some(xt=>xt!==null&&xe(ut,xt)))),{inputValue:Dn&&hr?"":Tt,getOptionLabel:ht}):[],Pn=$B({filteredOptions:Cn,value:rt,inputValue:Tt});U.useEffect(()=>{const ut=rt!==Pn.value;ln&&!ut||H&&!ut||Qt(null,rt)},[rt,Qt,ln,Pn.value,H]);const In=Tn&&Cn.length>0&&!qe,er=Fn(ut=>{ut===-1?Et.current.focus():rn.querySelector(`[data-tag-index="${ut}"]`).focus()});U.useEffect(()=>{ke&&at>rt.length-1&&(ft(-1),er(-1))},[rt,ke,at,er]);function dn(ut,xt){if(!Xt.current||ut===-1)return-1;let _n=ut;for(;;){if(xt==="next"&&_n===Cn.length||xt==="previous"&&_n===-1)return-1;const Rn=Xt.current.querySelector(`[data-option-index="${_n}"]`),Mr=F?!1:!Rn||Rn.disabled||Rn.getAttribute("aria-disabled")==="true";if(Rn&&!Rn.hasAttribute("tabindex")||Mr)_n+=xt==="next"?1:-1;else return _n}}const yn=Fn(({event:ut,index:xt,reason:_n="auto"})=>{if(un.current=xt,xt===-1?Et.current.removeAttribute("aria-activedescendant"):Et.current.setAttribute("aria-activedescendant",`${St}-option-${xt}`),we&&we(ut,xt===-1?null:Cn[xt],_n),!Xt.current)return;const Rn=Xt.current.querySelector(`[role="option"].${r}-focused`);Rn&&(Rn.classList.remove(`${r}-focused`),Rn.classList.remove(`${r}-focusVisible`));let Mr=Xt.current;if(Xt.current.getAttribute("role")!=="listbox"&&(Mr=Xt.current.parentElement.querySelector('[role="listbox"]')),!Mr)return;if(xt===-1){Mr.scrollTop=0;return}const zi=Xt.current.querySelector(`[data-option-index="${xt}"]`);if(zi&&(zi.classList.add(`${r}-focused`),_n==="keyboard"&&zi.classList.add(`${r}-focusVisible`),Mr.scrollHeight>Mr.clientHeight&&_n!=="mouse")){const _i=zi,ir=Mr.clientHeight+Mr.scrollTop,dl=_i.offsetTop+_i.offsetHeight;dl>ir?Mr.scrollTop=dl-Mr.clientHeight:_i.offsetTop-_i.offsetHeight*(te?1.3:0)<Mr.scrollTop&&(Mr.scrollTop=_i.offsetTop-_i.offsetHeight*(te?1.3:0))}}),zn=Fn(({event:ut,diff:xt,direction:_n="next",reason:Rn="auto"})=>{if(!Wn)return;const zi=dn((()=>{const _i=Cn.length-1;if(xt==="reset")return Ft;if(xt==="start")return 0;if(xt==="end")return _i;const ir=un.current+xt;return ir<0?ir===-1&&de?-1:L&&un.current!==-1||Math.abs(xt)>1?0:_i:ir>_i?ir===_i+1&&de?-1:L||Math.abs(xt)>1?_i:0:ir})(),_n);if(yn({index:zi,reason:Rn,event:ut}),o&&xt!=="reset")if(zi===-1)Et.current.value=Tt;else{const _i=ht(Cn[zi]);Et.current.value=_i,_i.toLowerCase().indexOf(Tt.toLowerCase())===0&&Tt.length>0&&Et.current.setSelectionRange(Tt.length,_i.length)}}),Qn=()=>{const ut=(xt,_n)=>{const Rn=xt?ht(xt):"",Mr=_n?ht(_n):"";return Rn===Mr};if(un.current!==-1&&Pn.filteredOptions&&Pn.filteredOptions.length!==Cn.length&&Pn.inputValue===Tt&&(ke?rt.length===Pn.value.length&&Pn.value.every((xt,_n)=>ht(rt[_n])===ht(xt)):ut(Pn.value,rt))){const xt=Pn.filteredOptions[un.current];if(xt&&Cn.some(Rn=>ht(Rn)===ht(xt)))return!0}return!1},Cr=U.useCallback(()=>{if(!Wn||Qn())return;const ut=ke?rt[0]:rt;if(Cn.length===0||ut==null){zn({diff:"reset"});return}if(Xt.current){if(ut!=null){const xt=Cn[un.current];if(ke&&xt&&Fb(rt,Rn=>xe(xt,Rn))!==-1)return;const _n=Fb(Cn,Rn=>xe(Rn,ut));_n===-1?zn({diff:"reset"}):yn({index:_n});return}if(un.current>=Cn.length-1){yn({index:Cn.length-1});return}yn({index:un.current})}},[Cn.length,ke?!1:rt,$,zn,yn,Wn,Tt,ke]),Ur=Fn(ut=>{Sg(Xt,ut),ut&&Cr()});U.useEffect(()=>{Cr()},[Cr]);const yi=ut=>{Tn||(Zn(!0),$t(!0),je&&je(ut))},Ee=(ut,xt)=>{Tn&&(Zn(!1),_e&&_e(ut,xt))},ae=(ut,xt,_n,Rn)=>{if(ke){if(rt.length===xt.length&&rt.every((Mr,zi)=>Mr===xt[zi]))return}else if(rt===xt)return;$e&&$e(ut,xt,_n,Rn),an(xt)},ue=U.useRef(!1),Pe=(ut,xt,_n="selectOption",Rn="options")=>{let Mr=_n,zi=xt;if(ke){zi=Array.isArray(rt)?rt.slice():[];const _i=Fb(zi,ir=>xe(xt,ir));_i===-1?zi.push(xt):Rn!=="freeSolo"&&(zi.splice(_i,1),Mr="removeOption")}Qt(ut,zi),ae(ut,zi,Mr,{option:xt}),!R&&(!ut||!ut.ctrlKey&&!ut.metaKey)&&Ee(ut,Mr),(f===!0||f==="touch"&&ue.current||f==="mouse"&&!ue.current)&&Et.current.blur()};function Be(ut,xt){if(ut===-1)return-1;let _n=ut;for(;;){if(xt==="next"&&_n===rt.length||xt==="previous"&&_n===-1)return-1;const Rn=rn.querySelector(`[data-tag-index="${_n}"]`);if(!Rn||!Rn.hasAttribute("tabindex")||Rn.disabled||Rn.getAttribute("aria-disabled")==="true")_n+=xt==="next"?1:-1;else return _n}}const Ze=(ut,xt)=>{if(!ke)return;Tt===""&&Ee(ut,"toggleInput");let _n=at;at===-1?Tt===""&&xt==="previous"&&(_n=rt.length-1):(_n+=xt==="next"?1:-1,_n<0&&(_n=0),_n===rt.length&&(_n=-1)),_n=Be(_n,xt),ft(_n),er(_n)},et=ut=>{Dt.current=!0,on(""),me&&me(ut,"","clear"),ae(ut,ke?[]:null,"clear")},Qe=ut=>xt=>{if(ut.onKeyDown&&ut.onKeyDown(xt),!xt.defaultMuiPrevented&&(at!==-1&&["ArrowLeft","ArrowRight"].indexOf(xt.key)===-1&&(ft(-1),er(-1)),xt.which!==229))switch(xt.key){case"Home":Wn&&le&&(xt.preventDefault(),zn({diff:"start",direction:"next",reason:"keyboard",event:xt}));break;case"End":Wn&&le&&(xt.preventDefault(),zn({diff:"end",direction:"previous",reason:"keyboard",event:xt}));break;case"PageUp":xt.preventDefault(),zn({diff:-r8,direction:"previous",reason:"keyboard",event:xt}),yi(xt);break;case"PageDown":xt.preventDefault(),zn({diff:r8,direction:"next",reason:"keyboard",event:xt}),yi(xt);break;case"ArrowDown":xt.preventDefault(),zn({diff:1,direction:"next",reason:"keyboard",event:xt}),yi(xt);break;case"ArrowUp":xt.preventDefault(),zn({diff:-1,direction:"previous",reason:"keyboard",event:xt}),yi(xt);break;case"ArrowLeft":Ze(xt,"previous");break;case"ArrowRight":Ze(xt,"next");break;case"Enter":if(un.current!==-1&&Wn){const _n=Cn[un.current],Rn=G?G(_n):!1;if(xt.preventDefault(),Rn)return;Pe(xt,_n,"selectOption"),o&&Et.current.setSelectionRange(Et.current.value.length,Et.current.value.length)}else H&&Tt!==""&&Dn===!1&&(ke&&xt.preventDefault(),Pe(xt,Tt,"createOption","freeSolo"));break;case"Escape":Wn?(xt.preventDefault(),xt.stopPropagation(),Ee(xt,"escape")):_&&(Tt!==""||ke&&rt.length>0)&&(xt.preventDefault(),xt.stopPropagation(),et(xt));break;case"Backspace":if(ke&&!qe&&Tt===""&&rt.length>0){const _n=at===-1?rt.length-1:at,Rn=rt.slice();Rn.splice(_n,1),ae(xt,Rn,"removeOption",{option:rt[_n]})}break;case"Delete":if(ke&&!qe&&Tt===""&&rt.length>0&&at!==-1){const _n=at,Rn=rt.slice();Rn.splice(_n,1),ae(xt,Rn,"removeOption",{option:rt[_n]})}break}},Xe=ut=>{sn(!0),Me&&!Dt.current&&yi(ut)},it=ut=>{if(t(Xt)){Et.current.focus();return}sn(!1),bt.current=!0,Dt.current=!1,u&&un.current!==-1&&Wn?Pe(ut,Cn[un.current],"blur"):u&&H&&Tt!==""?Pe(ut,Tt,"blur","freeSolo"):i&&Qt(ut,rt),Ee(ut,"blur")},Nt=ut=>{const xt=ut.target.value;Tt!==xt&&(on(xt),$t(!1),me&&me(ut,xt,"input")),xt===""?!k&&!ke&&ae(ut,null,"clear"):yi(ut)},Kt=ut=>{const xt=Number(ut.currentTarget.getAttribute("data-option-index"));un.current!==xt&&yn({event:ut,index:xt,reason:"mouse"})},Ut=ut=>{yn({event:ut,index:Number(ut.currentTarget.getAttribute("data-option-index")),reason:"touch"}),ue.current=!0},Xn=ut=>{const xt=Number(ut.currentTarget.getAttribute("data-option-index"));Pe(ut,Cn[xt],"selectOption"),ue.current=!1},nr=ut=>xt=>{const _n=rt.slice();_n.splice(ut,1),ae(xt,_n,"removeOption",{option:rt[ut]})},Kn=ut=>{Tn?Ee(ut,"toggleInput"):yi(ut)},rr=ut=>{ut.currentTarget.contains(ut.target)&&ut.target.getAttribute("id")!==St&&ut.preventDefault()},pr=ut=>{ut.currentTarget.contains(ut.target)&&(Et.current.focus(),ct&&bt.current&&Et.current.selectionEnd-Et.current.selectionStart===0&&Et.current.select(),bt.current=!1)},Br=ut=>{(Tt===""||!Tn)&&Kn(ut)};let jr=H&&Tt.length>0;jr=jr||(ke?rt.length>0:rt!==null);let wi=Cn;return te&&(wi=Cn.reduce((ut,xt,_n)=>{const Rn=te(xt);return ut.length>0&&ut[ut.length-1].group===Rn?ut[ut.length-1].options.push(xt):ut.push({key:_n,index:_n,group:Rn,options:[xt]}),ut},[])),B&&ln&&it(),{getRootProps:(ut={})=>J({"aria-owns":In?`${St}-listbox`:null},ut,{onKeyDown:Qe(ut),onMouseDown:rr,onClick:pr}),getInputLabelProps:()=>({id:`${St}-label`,htmlFor:St}),getInputProps:()=>({id:St,value:Tt,onBlur:it,onFocus:Xe,onChange:Nt,onMouseDown:Br,"aria-activedescendant":Wn?"":null,"aria-autocomplete":o?"both":"list","aria-controls":In?`${St}-listbox`:void 0,"aria-expanded":In,autoComplete:"off",ref:Et,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:B}),getClearProps:()=>({tabIndex:-1,onClick:et}),getPopupIndicatorProps:()=>({tabIndex:-1,onClick:Kn}),getTagProps:({index:ut})=>J({key:ut,"data-tag-index":ut,tabIndex:-1},!qe&&{onDelete:nr(ut)}),getListboxProps:()=>({role:"listbox",id:`${St}-listbox`,"aria-labelledby":`${St}-label`,ref:Ur,onMouseDown:ut=>{ut.preventDefault()}}),getOptionProps:({index:ut,option:xt})=>{const _n=(ke?rt:[rt]).some(Mr=>Mr!=null&&xe(xt,Mr)),Rn=G?G(xt):!1;return{key:ht(xt),tabIndex:-1,role:"option",id:`${St}-option-${ut}`,onMouseMove:Kt,onClick:Xn,onTouchStart:Ut,"data-option-index":ut,"aria-disabled":Rn,"aria-selected":_n}},id:St,inputValue:Tt,value:rt,dirty:jr,expanded:Wn&&rn,popupOpen:Wn,focused:ln||at!==-1,anchorEl:rn,setAnchorEl:_t,focusedTag:at,groupedOptions:wi}}function CH(e){return qn("MuiTypography",e)}jn("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const EH=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],PH=e=>{const{align:t,gutterBottom:r,noWrap:o,paragraph:l,variant:u,classes:f}=e,i={root:["root",u,e.align!=="inherit"&&`align${wn(t)}`,r&&"gutterBottom",o&&"noWrap",l&&"paragraph"]};return Hn(i,CH,f)},kH=It("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.variant&&t[r.variant],r.align!=="inherit"&&t[`align${wn(r.align)}`],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>J({margin:0},t.variant&&e.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),i8={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},MH={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},IH=e=>MH[e]||e,AH=U.forwardRef(function(t,r){const o=Nn({props:t,name:"MuiTypography"}),l=IH(o.color),u=J2(J({},o,{color:l})),{align:f="inherit",className:i,component:_,gutterBottom:b=!1,noWrap:E=!1,paragraph:k=!1,variant:R="body1",variantMapping:B=i8}=u,F=nn(u,EH),L=J({},u,{align:f,color:l,className:i,component:_,gutterBottom:b,noWrap:E,paragraph:k,variant:R,variantMapping:B}),X=_||(k?"p":B[R]||i8[R])||"span",$=PH(L);return V.jsx(kH,J({as:X,ref:r,ownerState:L,className:mn($.root,i)},F))}),_u=AH;function Jf({props:e,states:t,muiFormControl:r}){return t.reduce((o,l)=>(o[l]=e[l],r&&typeof e[l]>"u"&&(o[l]=r[l]),o),{})}const DH=U.createContext(void 0),lv=DH;function Hh(){return U.useContext(lv)}function RH(e){return V.jsx(W$,J({},e,{defaultTheme:ev,themeId:zh}))}function o8(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function $_(e,t=!1){return e&&(o8(e.value)&&e.value!==""||t&&o8(e.defaultValue)&&e.defaultValue!=="")}function zH(e){return e.startAdornment}function LH(e){return qn("MuiInputBase",e)}const OH=jn("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),va=OH,FH=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],cv=(e,t)=>{const{ownerState:r}=e;return[t.root,r.formControl&&t.formControl,r.startAdornment&&t.adornedStart,r.endAdornment&&t.adornedEnd,r.error&&t.error,r.size==="small"&&t.sizeSmall,r.multiline&&t.multiline,r.color&&t[`color${wn(r.color)}`],r.fullWidth&&t.fullWidth,r.hiddenLabel&&t.hiddenLabel]},uv=(e,t)=>{const{ownerState:r}=e;return[t.input,r.size==="small"&&t.inputSizeSmall,r.multiline&&t.inputMultiline,r.type==="search"&&t.inputTypeSearch,r.startAdornment&&t.inputAdornedStart,r.endAdornment&&t.inputAdornedEnd,r.hiddenLabel&&t.inputHiddenLabel]},BH=e=>{const{classes:t,color:r,disabled:o,error:l,endAdornment:u,focused:f,formControl:i,fullWidth:_,hiddenLabel:b,multiline:E,readOnly:k,size:R,startAdornment:B,type:F}=e,L={root:["root",`color${wn(r)}`,o&&"disabled",l&&"error",_&&"fullWidth",f&&"focused",i&&"formControl",R==="small"&&"sizeSmall",E&&"multiline",B&&"adornedStart",u&&"adornedEnd",b&&"hiddenLabel",k&&"readOnly"],input:["input",o&&"disabled",F==="search"&&"inputTypeSearch",E&&"inputMultiline",R==="small"&&"inputSizeSmall",b&&"inputHiddenLabel",B&&"inputAdornedStart",u&&"inputAdornedEnd",k&&"readOnly"]};return Hn(L,LH,t)},dv=It("div",{name:"MuiInputBase",slot:"Root",overridesResolver:cv})(({theme:e,ownerState:t})=>J({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${va.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&J({padding:"4px 0 5px"},t.size==="small"&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),hv=It("input",{name:"MuiInputBase",slot:"Input",overridesResolver:uv})(({theme:e,ownerState:t})=>{const r=e.palette.mode==="light",o=J({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),l={opacity:"0 !important"},u=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5};return J({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${va.formControl} &`]:{"&::-webkit-input-placeholder":l,"&::-moz-placeholder":l,"&:-ms-input-placeholder":l,"&::-ms-input-placeholder":l,"&:focus::-webkit-input-placeholder":u,"&:focus::-moz-placeholder":u,"&:focus:-ms-input-placeholder":u,"&:focus::-ms-input-placeholder":u},[`&.${va.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},t.size==="small"&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},t.type==="search"&&{MozAppearance:"textfield"})}),NH=V.jsx(RH,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),$H=U.forwardRef(function(t,r){var o;const l=Nn({props:t,name:"MuiInputBase"}),{"aria-describedby":u,autoComplete:f,autoFocus:i,className:_,components:b={},componentsProps:E={},defaultValue:k,disabled:R,disableInjectingGlobalStyles:B,endAdornment:F,fullWidth:L=!1,id:X,inputComponent:$="input",inputProps:H={},inputRef:G,maxRows:Q,minRows:te,multiline:le=!1,name:M,onBlur:de,onChange:ce,onClick:xe,onFocus:ke,onKeyDown:$e,onKeyUp:_e,placeholder:we,readOnly:me,renderSuffix:je,rows:ze,slotProps:Me={},slots:Le={},startAdornment:qe,type:ct="text",value:wt}=l,St=nn(l,FH),ht=H.value!=null?H.value:wt,{current:Dt}=U.useRef(ht!=null),bt=U.useRef(),Et=U.useCallback(Cn=>{},[]),Xt=mi(bt,G,H.ref,Et),[rn,_t]=U.useState(!1),at=Hh(),ft=Jf({props:l,muiFormControl:at,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ft.focused=at?at.focused:rn,U.useEffect(()=>{!at&&R&&rn&&(_t(!1),de&&de())},[at,R,rn,de]);const Ft=at&&at.onFilled,un=at&&at.onEmpty,rt=U.useCallback(Cn=>{$_(Cn)?Ft&&Ft():un&&un()},[Ft,un]);wo(()=>{Dt&&rt({value:ht})},[ht,rt,Dt]);const an=Cn=>{if(ft.disabled){Cn.stopPropagation();return}ke&&ke(Cn),H.onFocus&&H.onFocus(Cn),at&&at.onFocus?at.onFocus(Cn):_t(!0)},Tt=Cn=>{de&&de(Cn),H.onBlur&&H.onBlur(Cn),at&&at.onBlur?at.onBlur(Cn):_t(!1)},on=(Cn,...Pn)=>{if(!Dt){const In=Cn.target||bt.current;if(In==null)throw new Error(vd(1));rt({value:In.value})}H.onChange&&H.onChange(Cn,...Pn),ce&&ce(Cn,...Pn)};U.useEffect(()=>{rt(bt.current)},[]);const ln=Cn=>{bt.current&&Cn.currentTarget===Cn.target&&bt.current.focus(),xe&&!ft.disabled&&xe(Cn)};let sn=$,Qt=H;le&&sn==="input"&&(ze?Qt=J({type:void 0,minRows:ze,maxRows:ze},Qt):Qt=J({type:void 0,maxRows:Q,minRows:te},Qt),sn=xH);const Tn=Cn=>{rt(Cn.animationName==="mui-auto-fill-cancel"?bt.current:{value:"x"})};U.useEffect(()=>{at&&at.setAdornedStart(!!qe)},[at,qe]);const Zn=J({},l,{color:ft.color||"primary",disabled:ft.disabled,endAdornment:F,error:ft.error,focused:ft.focused,formControl:at,fullWidth:L,hiddenLabel:ft.hiddenLabel,multiline:le,size:ft.size,startAdornment:qe,type:ct}),hr=BH(Zn),$t=Le.root||b.Root||dv,Dn=Me.root||E.root||{},Wn=Le.input||b.Input||hv;return Qt=J({},Qt,(o=Me.input)!=null?o:E.input),V.jsxs(U.Fragment,{children:[!B&&NH,V.jsxs($t,J({},Dn,!Fh($t)&&{ownerState:J({},Zn,Dn.ownerState)},{ref:r,onClick:ln},St,{className:mn(hr.root,Dn.className,_,me&&"MuiInputBase-readOnly"),children:[qe,V.jsx(lv.Provider,{value:null,children:V.jsx(Wn,J({ownerState:Zn,"aria-invalid":ft.error,"aria-describedby":u,autoComplete:f,autoFocus:i,defaultValue:k,disabled:ft.disabled,id:X,onAnimationStart:Tn,name:M,placeholder:we,readOnly:me,required:ft.required,rows:ze,value:ht,onKeyDown:$e,onKeyUp:_e,type:ct},Qt,!Fh(Wn)&&{as:sn,ownerState:J({},Zn,Qt.ownerState)},{ref:Xt,className:mn(hr.input,Qt.className,me&&"MuiInputBase-readOnly"),onBlur:Tt,onChange:on,onFocus:an}))}),F,je?je(J({},ft,{startAdornment:qe})):null]}))]})}),v5=$H;function jH(e){return qn("MuiInput",e)}const VH=J({},va,jn("MuiInput",["root","underline","input"])),nd=VH,UH=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],WH=e=>{const{classes:t,disableUnderline:r}=e,l=Hn({root:["root",!r&&"underline"],input:["input"]},jH,t);return J({},t,l)},HH=It(dv,{shouldForwardProp:e=>Dc(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[...cv(e,t),!r.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{let o=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(o=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),J({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(e.vars||e).palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${nd.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${nd.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&:before":{borderBottom:`1px solid ${o}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${nd.disabled}, .${nd.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${o}`}},[`&.${nd.disabled}:before`]:{borderBottomStyle:"dotted"}})}),GH=It(hv,{name:"MuiInput",slot:"Input",overridesResolver:uv})({}),mM=U.forwardRef(function(t,r){var o,l,u,f;const i=Nn({props:t,name:"MuiInput"}),{disableUnderline:_,components:b={},componentsProps:E,fullWidth:k=!1,inputComponent:R="input",multiline:B=!1,slotProps:F,slots:L={},type:X="text"}=i,$=nn(i,UH),H=WH(i),Q={root:{ownerState:{disableUnderline:_}}},te=F??E?Ks(F??E,Q):Q,le=(o=(l=L.root)!=null?l:b.Root)!=null?o:HH,M=(u=(f=L.input)!=null?f:b.Input)!=null?u:GH;return V.jsx(v5,J({slots:{root:le,input:M},slotProps:te,fullWidth:k,inputComponent:R,multiline:B,ref:r,type:X},$,{classes:H}))});mM.muiName="Input";const gM=mM;function qH(e){return qn("MuiFilledInput",e)}const ZH=J({},va,jn("MuiFilledInput",["root","underline","input"])),xa=ZH,XH=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],YH=e=>{const{classes:t,disableUnderline:r}=e,l=Hn({root:["root",!r&&"underline"],input:["input"]},qH,t);return J({},t,l)},KH=It(dv,{shouldForwardProp:e=>Dc(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[...cv(e,t),!r.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{var r;const o=e.palette.mode==="light",l=o?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",u=o?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",f=o?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",i=o?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return J({position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:u,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:f,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:u}},[`&.${xa.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:u},[`&.${xa.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:i}},!t.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(r=(e.vars||e).palette[t.color||"primary"])==null?void 0:r.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${xa.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${xa.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&:before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:l}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${xa.disabled}, .${xa.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${xa.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&J({padding:"25px 12px 8px"},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17}))}),JH=It(hv,{name:"MuiFilledInput",slot:"Input",overridesResolver:uv})(({theme:e,ownerState:t})=>J({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9})),yM=U.forwardRef(function(t,r){var o,l,u,f;const i=Nn({props:t,name:"MuiFilledInput"}),{components:_={},componentsProps:b,fullWidth:E=!1,inputComponent:k="input",multiline:R=!1,slotProps:B,slots:F={},type:L="text"}=i,X=nn(i,XH),$=J({},i,{fullWidth:E,inputComponent:k,multiline:R,type:L}),H=YH(i),G={root:{ownerState:$},input:{ownerState:$}},Q=B??b?Ks(B??b,G):G,te=(o=(l=F.root)!=null?l:_.Root)!=null?o:KH,le=(u=(f=F.input)!=null?f:_.Input)!=null?u:JH;return V.jsx(v5,J({slots:{root:te,input:le},componentsProps:Q,fullWidth:E,inputComponent:k,multiline:R,ref:r,type:L},X,{classes:H}))});yM.muiName="Input";const _M=yM;var s8;const QH=["children","classes","className","label","notched"],eG=It("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),tG=It("legend")(({ownerState:e,theme:t})=>J({float:"unset",width:"auto",overflow:"hidden"},!e.withLabel&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},e.withLabel&&J({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},e.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})})));function nG(e){const{className:t,label:r,notched:o}=e,l=nn(e,QH),u=r!=null&&r!=="",f=J({},e,{notched:o,withLabel:u});return V.jsx(eG,J({"aria-hidden":!0,className:t,ownerState:f},l,{children:V.jsx(tG,{ownerState:f,children:u?V.jsx("span",{children:r}):s8||(s8=V.jsx("span",{className:"notranslate",children:""}))})}))}function rG(e){return qn("MuiOutlinedInput",e)}const iG=J({},va,jn("MuiOutlinedInput",["root","notchedOutline","input"])),fc=iG,oG=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],sG=e=>{const{classes:t}=e,o=Hn({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},rG,t);return J({},t,o)},aG=It(dv,{shouldForwardProp:e=>Dc(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:cv})(({theme:e,ownerState:t})=>{const r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return J({position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${fc.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${fc.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:r}},[`&.${fc.focused} .${fc.notchedOutline}`]:{borderColor:(e.vars||e).palette[t.color].main,borderWidth:2},[`&.${fc.error} .${fc.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${fc.disabled} .${fc.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&J({padding:"16.5px 14px"},t.size==="small"&&{padding:"8.5px 14px"}))}),lG=It(nG,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),cG=It(hv,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:uv})(({theme:e,ownerState:t})=>J({padding:"16.5px 14px"},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0})),vM=U.forwardRef(function(t,r){var o,l,u,f,i;const _=Nn({props:t,name:"MuiOutlinedInput"}),{components:b={},fullWidth:E=!1,inputComponent:k="input",label:R,multiline:B=!1,notched:F,slots:L={},type:X="text"}=_,$=nn(_,oG),H=sG(_),G=Hh(),Q=Jf({props:_,muiFormControl:G,states:["required"]}),te=J({},_,{color:Q.color||"primary",disabled:Q.disabled,error:Q.error,focused:Q.focused,formControl:G,fullWidth:E,hiddenLabel:Q.hiddenLabel,multiline:B,size:Q.size,type:X}),le=(o=(l=L.root)!=null?l:b.Root)!=null?o:aG,M=(u=(f=L.input)!=null?f:b.Input)!=null?u:cG;return V.jsx(v5,J({slots:{root:le,input:M},renderSuffix:de=>V.jsx(lG,{ownerState:te,className:H.notchedOutline,label:R!=null&&R!==""&&Q.required?i||(i=V.jsxs(U.Fragment,{children:[R,"","*"]})):R,notched:typeof F<"u"?F:!!(de.startAdornment||de.filled||de.focused)}),fullWidth:E,inputComponent:k,multiline:B,ref:r,type:X},$,{classes:J({},H,{notchedOutline:null})}))});vM.muiName="Input";const x5=vM;function uG(e){return qn("MuiFormLabel",e)}const dG=jn("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Xm=dG,hG=["children","className","color","component","disabled","error","filled","focused","required"],pG=e=>{const{classes:t,color:r,focused:o,disabled:l,error:u,filled:f,required:i}=e,_={root:["root",`color${wn(r)}`,l&&"disabled",u&&"error",f&&"filled",o&&"focused",i&&"required"],asterisk:["asterisk",u&&"error"]};return Hn(_,uG,t)},fG=It("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:e},t)=>J({},t.root,e.color==="secondary"&&t.colorSecondary,e.filled&&t.filled)})(({theme:e,ownerState:t})=>J({color:(e.vars||e).palette.text.secondary},e.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Xm.focused}`]:{color:(e.vars||e).palette[t.color].main},[`&.${Xm.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${Xm.error}`]:{color:(e.vars||e).palette.error.main}})),mG=It("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${Xm.error}`]:{color:(e.vars||e).palette.error.main}})),gG=U.forwardRef(function(t,r){const o=Nn({props:t,name:"MuiFormLabel"}),{children:l,className:u,component:f="label"}=o,i=nn(o,hG),_=Hh(),b=Jf({props:o,muiFormControl:_,states:["color","required","focused","disabled","error","filled"]}),E=J({},o,{color:b.color||"primary",component:f,disabled:b.disabled,error:b.error,filled:b.filled,focused:b.focused,required:b.required}),k=pG(E);return V.jsxs(fG,J({as:f,ownerState:E,className:mn(k.root,u),ref:r},i,{children:[l,b.required&&V.jsxs(mG,{ownerState:E,"aria-hidden":!0,className:k.asterisk,children:["","*"]})]}))}),yG=gG;function _G(e){return qn("MuiInputLabel",e)}jn("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const vG=["disableAnimation","margin","shrink","variant","className"],xG=e=>{const{classes:t,formControl:r,size:o,shrink:l,disableAnimation:u,variant:f,required:i}=e,b=Hn({root:["root",r&&"formControl",!u&&"animated",l&&"shrink",o==="small"&&"sizeSmall",f],asterisk:[i&&"asterisk"]},_G,t);return J({},t,b)},bG=It(yG,{shouldForwardProp:e=>Dc(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${Xm.asterisk}`]:t.asterisk},t.root,r.formControl&&t.formControl,r.size==="small"&&t.sizeSmall,r.shrink&&t.shrink,!r.disableAnimation&&t.animated,t[r.variant]]}})(({theme:e,ownerState:t})=>J({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},t.size==="small"&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},t.variant==="filled"&&J({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&J({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},t.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),t.variant==="outlined"&&J({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),wG=U.forwardRef(function(t,r){const o=Nn({name:"MuiInputLabel",props:t}),{disableAnimation:l=!1,shrink:u,className:f}=o,i=nn(o,vG),_=Hh();let b=u;typeof b>"u"&&_&&(b=_.filled||_.focused||_.adornedStart);const E=Jf({props:o,muiFormControl:_,states:["size","variant","required"]}),k=J({},o,{disableAnimation:l,formControl:_,shrink:b,size:E.size,variant:E.variant,required:E.required}),R=xG(k);return V.jsx(bG,J({"data-shrink":b,ownerState:k,ref:r,className:mn(R.root,f)},i,{classes:R}))}),SG=wG;function TG(e){return qn("MuiFormControl",e)}jn("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const CG=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],EG=e=>{const{classes:t,margin:r,fullWidth:o}=e,l={root:["root",r!=="none"&&`margin${wn(r)}`,o&&"fullWidth"]};return Hn(l,TG,t)},PG=It("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>J({},t.root,t[`margin${wn(e.margin)}`],e.fullWidth&&t.fullWidth)})(({ownerState:e})=>J({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},e.margin==="normal"&&{marginTop:16,marginBottom:8},e.margin==="dense"&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"})),kG=U.forwardRef(function(t,r){const o=Nn({props:t,name:"MuiFormControl"}),{children:l,className:u,color:f="primary",component:i="div",disabled:_=!1,error:b=!1,focused:E,fullWidth:k=!1,hiddenLabel:R=!1,margin:B="none",required:F=!1,size:L="medium",variant:X="outlined"}=o,$=nn(o,CG),H=J({},o,{color:f,component:i,disabled:_,error:b,fullWidth:k,hiddenLabel:R,margin:B,required:F,size:L,variant:X}),G=EG(H),[Q,te]=U.useState(()=>{let _e=!1;return l&&U.Children.forEach(l,we=>{if(!Um(we,["Input","Select"]))return;const me=Um(we,["Select"])?we.props.input:we;me&&zH(me.props)&&(_e=!0)}),_e}),[le,M]=U.useState(()=>{let _e=!1;return l&&U.Children.forEach(l,we=>{Um(we,["Input","Select"])&&($_(we.props,!0)||$_(we.props.inputProps,!0))&&(_e=!0)}),_e}),[de,ce]=U.useState(!1);_&&de&&ce(!1);const xe=E!==void 0&&!_?E:de;let ke;const $e=U.useMemo(()=>({adornedStart:Q,setAdornedStart:te,color:f,disabled:_,error:b,filled:le,focused:xe,fullWidth:k,hiddenLabel:R,size:L,onBlur:()=>{ce(!1)},onEmpty:()=>{M(!1)},onFilled:()=>{M(!0)},onFocus:()=>{ce(!0)},registerEffect:ke,required:F,variant:X}),[Q,f,_,b,le,xe,k,R,ke,F,L,X]);return V.jsx(lv.Provider,{value:$e,children:V.jsx(PG,J({as:i,ownerState:H,className:mn(G.root,u),ref:r},$,{children:l}))})}),xM=kG;function MG(e){return qn("MuiFormHelperText",e)}const IG=jn("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),a8=IG;var l8;const AG=["children","className","component","disabled","error","filled","focused","margin","required","variant"],DG=e=>{const{classes:t,contained:r,size:o,disabled:l,error:u,filled:f,focused:i,required:_}=e,b={root:["root",l&&"disabled",u&&"error",o&&`size${wn(o)}`,r&&"contained",i&&"focused",f&&"filled",_&&"required"]};return Hn(b,MG,t)},RG=It("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.size&&t[`size${wn(r.size)}`],r.contained&&t.contained,r.filled&&t.filled]}})(({theme:e,ownerState:t})=>J({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${a8.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${a8.error}`]:{color:(e.vars||e).palette.error.main}},t.size==="small"&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14})),zG=U.forwardRef(function(t,r){const o=Nn({props:t,name:"MuiFormHelperText"}),{children:l,className:u,component:f="p"}=o,i=nn(o,AG),_=Hh(),b=Jf({props:o,muiFormControl:_,states:["variant","size","disabled","error","filled","focused","required"]}),E=J({},o,{component:f,contained:b.variant==="filled"||b.variant==="outlined",variant:b.variant,size:b.size,disabled:b.disabled,error:b.error,filled:b.filled,focused:b.focused,required:b.required}),k=DG(E);return V.jsx(RG,J({as:f,ownerState:E,className:mn(k.root,u),ref:r},i,{children:l===" "?l8||(l8=V.jsx("span",{className:"notranslate",children:""})):l}))}),LG=zG;var bi={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b5=Symbol.for("react.element"),w5=Symbol.for("react.portal"),pv=Symbol.for("react.fragment"),fv=Symbol.for("react.strict_mode"),mv=Symbol.for("react.profiler"),gv=Symbol.for("react.provider"),yv=Symbol.for("react.context"),OG=Symbol.for("react.server_context"),_v=Symbol.for("react.forward_ref"),vv=Symbol.for("react.suspense"),xv=Symbol.for("react.suspense_list"),bv=Symbol.for("react.memo"),wv=Symbol.for("react.lazy"),FG=Symbol.for("react.offscreen"),bM;bM=Symbol.for("react.module.reference");function ul(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case b5:switch(e=e.type,e){case pv:case mv:case fv:case vv:case xv:return e;default:switch(e=e&&e.$$typeof,e){case OG:case yv:case _v:case wv:case bv:case gv:return e;default:return t}}case w5:return t}}}bi.ContextConsumer=yv;bi.ContextProvider=gv;bi.Element=b5;bi.ForwardRef=_v;bi.Fragment=pv;bi.Lazy=wv;bi.Memo=bv;bi.Portal=w5;bi.Profiler=mv;bi.StrictMode=fv;bi.Suspense=vv;bi.SuspenseList=xv;bi.isAsyncMode=function(){return!1};bi.isConcurrentMode=function(){return!1};bi.isContextConsumer=function(e){return ul(e)===yv};bi.isContextProvider=function(e){return ul(e)===gv};bi.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===b5};bi.isForwardRef=function(e){return ul(e)===_v};bi.isFragment=function(e){return ul(e)===pv};bi.isLazy=function(e){return ul(e)===wv};bi.isMemo=function(e){return ul(e)===bv};bi.isPortal=function(e){return ul(e)===w5};bi.isProfiler=function(e){return ul(e)===mv};bi.isStrictMode=function(e){return ul(e)===fv};bi.isSuspense=function(e){return ul(e)===vv};bi.isSuspenseList=function(e){return ul(e)===xv};bi.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===pv||e===mv||e===fv||e===vv||e===xv||e===FG||typeof e=="object"&&e!==null&&(e.$$typeof===wv||e.$$typeof===bv||e.$$typeof===gv||e.$$typeof===yv||e.$$typeof===_v||e.$$typeof===bM||e.getModuleId!==void 0)};bi.typeOf=ul;const BG=U.createContext({}),Ch=BG;function NG(e){return qn("MuiList",e)}jn("MuiList",["root","padding","dense","subheader"]);const $G=["children","className","component","dense","disablePadding","subheader"],jG=e=>{const{classes:t,disablePadding:r,dense:o,subheader:l}=e;return Hn({root:["root",!r&&"padding",o&&"dense",l&&"subheader"]},NG,t)},VG=It("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disablePadding&&t.padding,r.dense&&t.dense,r.subheader&&t.subheader]}})(({ownerState:e})=>J({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0})),UG=U.forwardRef(function(t,r){const o=Nn({props:t,name:"MuiList"}),{children:l,className:u,component:f="ul",dense:i=!1,disablePadding:_=!1,subheader:b}=o,E=nn(o,$G),k=U.useMemo(()=>({dense:i}),[i]),R=J({},o,{component:f,dense:i,disablePadding:_}),B=jG(R);return V.jsx(Ch.Provider,{value:k,children:V.jsxs(VG,J({as:f,className:mn(B.root,u),ref:r,ownerState:R},E,{children:[b,l]}))})}),wM=UG,WG=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Bb(e,t,r){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:r?null:e.firstChild}function c8(e,t,r){return e===t?r?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:r?null:e.lastChild}function SM(e,t){if(t===void 0)return!0;let r=e.innerText;return r===void 0&&(r=e.textContent),r=r.trim().toLowerCase(),r.length===0?!1:t.repeating?r[0]===t.keys[0]:r.indexOf(t.keys.join(""))===0}function _m(e,t,r,o,l,u){let f=!1,i=l(e,t,t?r:!1);for(;i;){if(i===e.firstChild){if(f)return!1;f=!0}const _=o?!1:i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||!SM(i,u)||_)i=l(e,i,r);else return i.focus(),!0}return!1}const HG=U.forwardRef(function(t,r){const{actions:o,autoFocus:l=!1,autoFocusItem:u=!1,children:f,className:i,disabledItemsFocusable:_=!1,disableListWrap:b=!1,onKeyDown:E,variant:k="selectedMenu"}=t,R=nn(t,WG),B=U.useRef(null),F=U.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});wo(()=>{l&&B.current.focus()},[l]),U.useImperativeHandle(o,()=>({adjustStyleForScrollbar:(G,Q)=>{const te=!B.current.style.width;if(G.clientHeight<B.current.clientHeight&&te){const le=`${sk(bo(G))}px`;B.current.style[Q.direction==="rtl"?"paddingLeft":"paddingRight"]=le,B.current.style.width=`calc(100% + ${le})`}return B.current}}),[]);const L=G=>{const Q=B.current,te=G.key,le=bo(Q).activeElement;if(te==="ArrowDown")G.preventDefault(),_m(Q,le,b,_,Bb);else if(te==="ArrowUp")G.preventDefault(),_m(Q,le,b,_,c8);else if(te==="Home")G.preventDefault(),_m(Q,null,b,_,Bb);else if(te==="End")G.preventDefault(),_m(Q,null,b,_,c8);else if(te.length===1){const M=F.current,de=te.toLowerCase(),ce=performance.now();M.keys.length>0&&(ce-M.lastTime>500?(M.keys=[],M.repeating=!0,M.previousKeyMatched=!0):M.repeating&&de!==M.keys[0]&&(M.repeating=!1)),M.lastTime=ce,M.keys.push(de);const xe=le&&!M.repeating&&SM(le,M);M.previousKeyMatched&&(xe||_m(Q,le,!1,_,Bb,M))?G.preventDefault():M.previousKeyMatched=!1}E&&E(G)},X=mi(B,r);let $=-1;U.Children.forEach(f,(G,Q)=>{if(!U.isValidElement(G)){$===Q&&($+=1,$>=f.length&&($=-1));return}G.props.disabled||(k==="selectedMenu"&&G.props.selected||$===-1)&&($=Q),$===Q&&(G.props.disabled||G.props.muiSkipListHighlight||G.type.muiSkipListHighlight)&&($+=1,$>=f.length&&($=-1))});const H=U.Children.map(f,(G,Q)=>{if(Q===$){const te={};return u&&(te.autoFocus=!0),G.props.tabIndex===void 0&&k==="selectedMenu"&&(te.tabIndex=0),U.cloneElement(G,te)}return G});return V.jsx(wM,J({role:"menu",ref:X,className:i,onKeyDown:L,tabIndex:l?0:-1},R,{children:H}))}),TM=HG;function j_(e,t){return j_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},j_(e,t)}function S5(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,j_(e,t)}function GG(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function qG(e,t){e.classList?e.classList.add(t):GG(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function u8(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function ZG(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=u8(e.className,t):e.setAttribute("class",u8(e.className&&e.className.baseVal||"",t))}const d8={disabled:!1},V_=Gs.createContext(null);var CM=function(t){return t.scrollTop},Mm="unmounted",hh="exited",ph="entering",Gp="entered",yw="exiting",wu=function(e){S5(t,e);function t(o,l){var u;u=e.call(this,o,l)||this;var f=l,i=f&&!f.isMounting?o.enter:o.appear,_;return u.appearStatus=null,o.in?i?(_=hh,u.appearStatus=ph):_=Gp:o.unmountOnExit||o.mountOnEnter?_=Mm:_=hh,u.state={status:_},u.nextCallback=null,u}t.getDerivedStateFromProps=function(l,u){var f=l.in;return f&&u.status===Mm?{status:hh}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(l){var u=null;if(l!==this.props){var f=this.state.status;this.props.in?f!==ph&&f!==Gp&&(u=ph):(f===ph||f===Gp)&&(u=yw)}this.updateStatus(!1,u)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var l=this.props.timeout,u,f,i;return u=f=i=l,l!=null&&typeof l!="number"&&(u=l.exit,f=l.enter,i=l.appear!==void 0?l.appear:f),{exit:u,enter:f,appear:i}},r.updateStatus=function(l,u){if(l===void 0&&(l=!1),u!==null)if(this.cancelNextCallback(),u===ph){if(this.props.unmountOnExit||this.props.mountOnEnter){var f=this.props.nodeRef?this.props.nodeRef.current:Cy.findDOMNode(this);f&&CM(f)}this.performEnter(l)}else this.performExit();else this.props.unmountOnExit&&this.state.status===hh&&this.setState({status:Mm})},r.performEnter=function(l){var u=this,f=this.props.enter,i=this.context?this.context.isMounting:l,_=this.props.nodeRef?[i]:[Cy.findDOMNode(this),i],b=_[0],E=_[1],k=this.getTimeouts(),R=i?k.appear:k.enter;if(!l&&!f||d8.disabled){this.safeSetState({status:Gp},function(){u.props.onEntered(b)});return}this.props.onEnter(b,E),this.safeSetState({status:ph},function(){u.props.onEntering(b,E),u.onTransitionEnd(R,function(){u.safeSetState({status:Gp},function(){u.props.onEntered(b,E)})})})},r.performExit=function(){var l=this,u=this.props.exit,f=this.getTimeouts(),i=this.props.nodeRef?void 0:Cy.findDOMNode(this);if(!u||d8.disabled){this.safeSetState({status:hh},function(){l.props.onExited(i)});return}this.props.onExit(i),this.safeSetState({status:yw},function(){l.props.onExiting(i),l.onTransitionEnd(f.exit,function(){l.safeSetState({status:hh},function(){l.props.onExited(i)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(l,u){u=this.setNextCallback(u),this.setState(l,u)},r.setNextCallback=function(l){var u=this,f=!0;return this.nextCallback=function(i){f&&(f=!1,u.nextCallback=null,l(i))},this.nextCallback.cancel=function(){f=!1},this.nextCallback},r.onTransitionEnd=function(l,u){this.setNextCallback(u);var f=this.props.nodeRef?this.props.nodeRef.current:Cy.findDOMNode(this),i=l==null&&!this.props.addEndListener;if(!f||i){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var _=this.props.nodeRef?[this.nextCallback]:[f,this.nextCallback],b=_[0],E=_[1];this.props.addEndListener(b,E)}l!=null&&setTimeout(this.nextCallback,l)},r.render=function(){var l=this.state.status;if(l===Mm)return null;var u=this.props,f=u.children;u.in,u.mountOnEnter,u.unmountOnExit,u.appear,u.enter,u.exit,u.timeout,u.addEndListener,u.onEnter,u.onEntering,u.onEntered,u.onExit,u.onExiting,u.onExited,u.nodeRef;var i=nn(u,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Gs.createElement(V_.Provider,{value:null},typeof f=="function"?f(l,i):Gs.cloneElement(Gs.Children.only(f),i))},t}(Gs.Component);wu.contextType=V_;wu.propTypes={};function Vp(){}wu.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Vp,onEntering:Vp,onEntered:Vp,onExit:Vp,onExiting:Vp,onExited:Vp};wu.UNMOUNTED=Mm;wu.EXITED=hh;wu.ENTERING=ph;wu.ENTERED=Gp;wu.EXITING=yw;const T5=wu;var XG=function(t,r){return t&&r&&r.split(" ").forEach(function(o){return qG(t,o)})},Nb=function(t,r){return t&&r&&r.split(" ").forEach(function(o){return ZG(t,o)})},C5=function(e){S5(t,e);function t(){for(var o,l=arguments.length,u=new Array(l),f=0;f<l;f++)u[f]=arguments[f];return o=e.call.apply(e,[this].concat(u))||this,o.appliedClasses={appear:{},enter:{},exit:{}},o.onEnter=function(i,_){var b=o.resolveArguments(i,_),E=b[0],k=b[1];o.removeClasses(E,"exit"),o.addClass(E,k?"appear":"enter","base"),o.props.onEnter&&o.props.onEnter(i,_)},o.onEntering=function(i,_){var b=o.resolveArguments(i,_),E=b[0],k=b[1],R=k?"appear":"enter";o.addClass(E,R,"active"),o.props.onEntering&&o.props.onEntering(i,_)},o.onEntered=function(i,_){var b=o.resolveArguments(i,_),E=b[0],k=b[1],R=k?"appear":"enter";o.removeClasses(E,R),o.addClass(E,R,"done"),o.props.onEntered&&o.props.onEntered(i,_)},o.onExit=function(i){var _=o.resolveArguments(i),b=_[0];o.removeClasses(b,"appear"),o.removeClasses(b,"enter"),o.addClass(b,"exit","base"),o.props.onExit&&o.props.onExit(i)},o.onExiting=function(i){var _=o.resolveArguments(i),b=_[0];o.addClass(b,"exit","active"),o.props.onExiting&&o.props.onExiting(i)},o.onExited=function(i){var _=o.resolveArguments(i),b=_[0];o.removeClasses(b,"exit"),o.addClass(b,"exit","done"),o.props.onExited&&o.props.onExited(i)},o.resolveArguments=function(i,_){return o.props.nodeRef?[o.props.nodeRef.current,i]:[i,_]},o.getClassNames=function(i){var _=o.props.classNames,b=typeof _=="string",E=b&&_?_+"-":"",k=b?""+E+i:_[i],R=b?k+"-active":_[i+"Active"],B=b?k+"-done":_[i+"Done"];return{baseClassName:k,activeClassName:R,doneClassName:B}},o}var r=t.prototype;return r.addClass=function(l,u,f){var i=this.getClassNames(u)[f+"ClassName"],_=this.getClassNames("enter"),b=_.doneClassName;u==="appear"&&f==="done"&&b&&(i+=" "+b),f==="active"&&l&&CM(l),i&&(this.appliedClasses[u][f]=i,XG(l,i))},r.removeClasses=function(l,u){var f=this.appliedClasses[u],i=f.base,_=f.active,b=f.done;this.appliedClasses[u]={},i&&Nb(l,i),_&&Nb(l,_),b&&Nb(l,b)},r.render=function(){var l=this.props;l.classNames;var u=nn(l,["classNames"]);return Gs.createElement(T5,J({},u,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(Gs.Component);C5.defaultProps={classNames:""};C5.propTypes={};const YG=C5;function EM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E5(e,t){var r=function(u){return t&&U.isValidElement(u)?t(u):u},o=Object.create(null);return e&&U.Children.map(e,function(l){return l}).forEach(function(l){o[l.key]=r(l)}),o}function KG(e,t){e=e||{},t=t||{};function r(E){return E in t?t[E]:e[E]}var o=Object.create(null),l=[];for(var u in e)u in t?l.length&&(o[u]=l,l=[]):l.push(u);var f,i={};for(var _ in t){if(o[_])for(f=0;f<o[_].length;f++){var b=o[_][f];i[o[_][f]]=r(b)}i[_]=r(_)}for(f=0;f<l.length;f++)i[l[f]]=r(l[f]);return i}function _h(e,t,r){return r[t]!=null?r[t]:e.props[t]}function JG(e,t){return E5(e.children,function(r){return U.cloneElement(r,{onExited:t.bind(null,r),in:!0,appear:_h(r,"appear",e),enter:_h(r,"enter",e),exit:_h(r,"exit",e)})})}function QG(e,t,r){var o=E5(e.children),l=KG(t,o);return Object.keys(l).forEach(function(u){var f=l[u];if(U.isValidElement(f)){var i=u in t,_=u in o,b=t[u],E=U.isValidElement(b)&&!b.props.in;_&&(!i||E)?l[u]=U.cloneElement(f,{onExited:r.bind(null,f),in:!0,exit:_h(f,"exit",e),enter:_h(f,"enter",e)}):!_&&i&&!E?l[u]=U.cloneElement(f,{in:!1}):_&&i&&U.isValidElement(b)&&(l[u]=U.cloneElement(f,{onExited:r.bind(null,f),in:b.props.in,exit:_h(f,"exit",e),enter:_h(f,"enter",e)}))}}),l}var eq=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},tq={component:"div",childFactory:function(t){return t}},P5=function(e){S5(t,e);function t(o,l){var u;u=e.call(this,o,l)||this;var f=u.handleExited.bind(EM(u));return u.state={contextValue:{isMounting:!0},handleExited:f,firstRender:!0},u}var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(l,u){var f=u.children,i=u.handleExited,_=u.firstRender;return{children:_?JG(l,i):QG(l,f,i),firstRender:!1}},r.handleExited=function(l,u){var f=E5(this.props.children);l.key in f||(l.props.onExited&&l.props.onExited(u),this.mounted&&this.setState(function(i){var _=J({},i.children);return delete _[l.key],{children:_}}))},r.render=function(){var l=this.props,u=l.component,f=l.childFactory,i=nn(l,["component","childFactory"]),_=this.state.contextValue,b=eq(this.state.children).map(f);return delete i.appear,delete i.enter,delete i.exit,u===null?Gs.createElement(V_.Provider,{value:_},b):Gs.createElement(V_.Provider,{value:_},Gs.createElement(u,i,b))},t}(Gs.Component);P5.propTypes={};P5.defaultProps=tq;const k5=P5,PM=e=>e.scrollTop;function U_(e,t){var r,o;const{timeout:l,easing:u,style:f={}}=e;return{duration:(r=f.transitionDuration)!=null?r:typeof l=="number"?l:l[t.mode]||0,easing:(o=f.transitionTimingFunction)!=null?o:typeof u=="object"?u[t.mode]:u,delay:f.transitionDelay}}const nq=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function _w(e){return`scale(${e}, ${e**2})`}const rq={entering:{opacity:1,transform:_w(1)},entered:{opacity:1,transform:"none"}},$b=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),kM=U.forwardRef(function(t,r){const{addEndListener:o,appear:l=!0,children:u,easing:f,in:i,onEnter:_,onEntered:b,onEntering:E,onExit:k,onExited:R,onExiting:B,style:F,timeout:L="auto",TransitionComponent:X=T5}=t,$=nn(t,nq),H=U.useRef(),G=U.useRef(),Q=cl(),te=U.useRef(null),le=mi(te,u.ref,r),M=me=>je=>{if(me){const ze=te.current;je===void 0?me(ze):me(ze,je)}},de=M(E),ce=M((me,je)=>{PM(me);const{duration:ze,delay:Me,easing:Le}=U_({style:F,timeout:L,easing:f},{mode:"enter"});let qe;L==="auto"?(qe=Q.transitions.getAutoHeightDuration(me.clientHeight),G.current=qe):qe=ze,me.style.transition=[Q.transitions.create("opacity",{duration:qe,delay:Me}),Q.transitions.create("transform",{duration:$b?qe:qe*.666,delay:Me,easing:Le})].join(","),_&&_(me,je)}),xe=M(b),ke=M(B),$e=M(me=>{const{duration:je,delay:ze,easing:Me}=U_({style:F,timeout:L,easing:f},{mode:"exit"});let Le;L==="auto"?(Le=Q.transitions.getAutoHeightDuration(me.clientHeight),G.current=Le):Le=je,me.style.transition=[Q.transitions.create("opacity",{duration:Le,delay:ze}),Q.transitions.create("transform",{duration:$b?Le:Le*.666,delay:$b?ze:ze||Le*.333,easing:Me})].join(","),me.style.opacity=0,me.style.transform=_w(.75),k&&k(me)}),_e=M(R),we=me=>{L==="auto"&&(H.current=setTimeout(me,G.current||0)),o&&o(te.current,me)};return U.useEffect(()=>()=>{clearTimeout(H.current)},[]),V.jsx(X,J({appear:l,in:i,nodeRef:te,onEnter:ce,onEntered:xe,onEntering:de,onExit:$e,onExited:_e,onExiting:ke,addEndListener:we,timeout:L==="auto"?null:L},$,{children:(me,je)=>U.cloneElement(u,J({style:J({opacity:0,transform:_w(.75),visibility:me==="exited"&&!i?"hidden":void 0},rq[me],F,u.props.style),ref:le},je))}))});kM.muiSupportAuto=!0;const MM=kM,iq=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],oq={entering:{opacity:1},entered:{opacity:1}},sq=U.forwardRef(function(t,r){const o=cl(),l={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{addEndListener:u,appear:f=!0,children:i,easing:_,in:b,onEnter:E,onEntered:k,onEntering:R,onExit:B,onExited:F,onExiting:L,style:X,timeout:$=l,TransitionComponent:H=T5}=t,G=nn(t,iq),Q=U.useRef(null),te=mi(Q,i.ref,r),le=we=>me=>{if(we){const je=Q.current;me===void 0?we(je):we(je,me)}},M=le(R),de=le((we,me)=>{PM(we);const je=U_({style:X,timeout:$,easing:_},{mode:"enter"});we.style.webkitTransition=o.transitions.create("opacity",je),we.style.transition=o.transitions.create("opacity",je),E&&E(we,me)}),ce=le(k),xe=le(L),ke=le(we=>{const me=U_({style:X,timeout:$,easing:_},{mode:"exit"});we.style.webkitTransition=o.transitions.create("opacity",me),we.style.transition=o.transitions.create("opacity",me),B&&B(we)}),$e=le(F),_e=we=>{u&&u(Q.current,we)};return V.jsx(H,J({appear:f,in:b,nodeRef:Q,onEnter:de,onEntered:ce,onEntering:M,onExit:ke,onExited:$e,onExiting:xe,addEndListener:_e,timeout:$},G,{children:(we,me)=>U.cloneElement(i,J({style:J({opacity:0,visibility:we==="exited"&&!b?"hidden":void 0},oq[we],X,i.props.style),ref:te},me))}))}),t0=sq;function aq(e){return qn("MuiBackdrop",e)}jn("MuiBackdrop",["root","invisible"]);const lq=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],cq=e=>{const{classes:t,invisible:r}=e;return Hn({root:["root",r&&"invisible"]},aq,t)},uq=It("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.invisible&&t.invisible]}})(({ownerState:e})=>J({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})),dq=U.forwardRef(function(t,r){var o,l,u;const f=Nn({props:t,name:"MuiBackdrop"}),{children:i,className:_,component:b="div",components:E={},componentsProps:k={},invisible:R=!1,open:B,slotProps:F={},slots:L={},TransitionComponent:X=t0,transitionDuration:$}=f,H=nn(f,lq),G=J({},f,{component:b,invisible:R}),Q=cq(G),te=(o=F.root)!=null?o:k.root;return V.jsx(X,J({in:B,timeout:$},H,{children:V.jsx(uq,J({"aria-hidden":!0},te,{as:(l=(u=L.root)!=null?u:E.Root)!=null?l:b,className:mn(Q.root,_,te==null?void 0:te.className),ownerState:J({},G,te==null?void 0:te.ownerState),classes:Q,ref:r,children:i}))}))}),IM=dq,hq=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","open","slotProps","slots","theme"],pq=It("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.open&&r.exited&&t.hidden]}})(({theme:e,ownerState:t})=>J({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"})),fq=It(IM,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),mq=U.forwardRef(function(t,r){var o,l,u,f,i,_;const b=Nn({name:"MuiModal",props:t}),{BackdropComponent:E=fq,BackdropProps:k,classes:R,className:B,closeAfterTransition:F=!1,children:L,container:X,component:$,components:H={},componentsProps:G={},disableAutoFocus:Q=!1,disableEnforceFocus:te=!1,disableEscapeKeyDown:le=!1,disablePortal:M=!1,disableRestoreFocus:de=!1,disableScrollLock:ce=!1,hideBackdrop:xe=!1,keepMounted:ke=!1,onBackdropClick:$e,onClose:_e,open:we,slotProps:me,slots:je,theme:ze}=b,Me=nn(b,hq),[Le,qe]=U.useState(!0),ct={container:X,closeAfterTransition:F,disableAutoFocus:Q,disableEnforceFocus:te,disableEscapeKeyDown:le,disablePortal:M,disableRestoreFocus:de,disableScrollLock:ce,hideBackdrop:xe,keepMounted:ke,onBackdropClick:$e,onClose:_e,open:we},wt=J({},b,ct,{exited:Le}),St=(o=(l=je==null?void 0:je.root)!=null?l:H.Root)!=null?o:pq,ht=(u=(f=je==null?void 0:je.backdrop)!=null?f:H.Backdrop)!=null?u:E,Dt=(i=me==null?void 0:me.root)!=null?i:G.root,bt=(_=me==null?void 0:me.backdrop)!=null?_:G.backdrop;return V.jsx(gH,J({slots:{root:St,backdrop:ht},slotProps:{root:()=>J({},Df(Dt,wt),!Fh(St)&&{as:$,theme:ze},{className:mn(B,Dt==null?void 0:Dt.className,R==null?void 0:R.root,!wt.open&&wt.exited&&(R==null?void 0:R.hidden))}),backdrop:()=>J({},k,Df(bt,wt),{className:mn(bt==null?void 0:bt.className,k==null?void 0:k.className,R==null?void 0:R.backdrop)})},onTransitionEnter:()=>qe(!1),onTransitionExited:()=>qe(!0),ref:r},Me,ct,{children:L}))}),AM=mq;function gq(e){return qn("MuiPaper",e)}jn("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const yq=["className","component","elevation","square","variant"],_q=e=>{const{square:t,elevation:r,variant:o,classes:l}=e,u={root:["root",o,!t&&"rounded",o==="elevation"&&`elevation${r}`]};return Hn(u,gq,l)},vq=It("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],!r.square&&t.rounded,r.variant==="elevation"&&t[`elevation${r.elevation}`]]}})(({theme:e,ownerState:t})=>{var r;return J({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},t.variant==="elevation"&&J({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Rr("#fff",DC(t.elevation))}, ${Rr("#fff",DC(t.elevation))})`},e.vars&&{backgroundImage:(r=e.vars.overlays)==null?void 0:r[t.elevation]}))}),xq=U.forwardRef(function(t,r){const o=Nn({props:t,name:"MuiPaper"}),{className:l,component:u="div",elevation:f=1,square:i=!1,variant:_="elevation"}=o,b=nn(o,yq),E=J({},o,{component:u,elevation:f,square:i,variant:_}),k=_q(E);return V.jsx(vq,J({as:u,ownerState:E,className:mn(k.root,l),ref:r},b))}),Qf=xq;function bq(e){return qn("MuiPopover",e)}jn("MuiPopover",["root","paper"]);const wq=["onEntering"],Sq=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"],Tq=["slotProps"];function h8(e,t){let r=0;return typeof t=="number"?r=t:t==="center"?r=e.height/2:t==="bottom"&&(r=e.height),r}function p8(e,t){let r=0;return typeof t=="number"?r=t:t==="center"?r=e.width/2:t==="right"&&(r=e.width),r}function f8(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function jb(e){return typeof e=="function"?e():e}const Cq=e=>{const{classes:t}=e;return Hn({root:["root"],paper:["paper"]},bq,t)},Eq=It(AM,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),DM=It(Qf,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Pq=U.forwardRef(function(t,r){var o,l,u;const f=Nn({props:t,name:"MuiPopover"}),{action:i,anchorEl:_,anchorOrigin:b={vertical:"top",horizontal:"left"},anchorPosition:E,anchorReference:k="anchorEl",children:R,className:B,container:F,elevation:L=8,marginThreshold:X=16,open:$,PaperProps:H={},slots:G,slotProps:Q,transformOrigin:te={vertical:"top",horizontal:"left"},TransitionComponent:le=MM,transitionDuration:M="auto",TransitionProps:{onEntering:de}={}}=f,ce=nn(f.TransitionProps,wq),xe=nn(f,Sq),ke=(o=Q==null?void 0:Q.paper)!=null?o:H,$e=U.useRef(),_e=mi($e,ke.ref),we=J({},f,{anchorOrigin:b,anchorReference:k,elevation:L,marginThreshold:X,externalPaperSlotProps:ke,transformOrigin:te,TransitionComponent:le,transitionDuration:M,TransitionProps:ce}),me=Cq(we),je=U.useCallback(()=>{if(k==="anchorPosition")return E;const ft=jb(_),un=(ft&&ft.nodeType===1?ft:bo($e.current).body).getBoundingClientRect();return{top:un.top+h8(un,b.vertical),left:un.left+p8(un,b.horizontal)}},[_,b.horizontal,b.vertical,E,k]),ze=U.useCallback(ft=>({vertical:h8(ft,te.vertical),horizontal:p8(ft,te.horizontal)}),[te.horizontal,te.vertical]),Me=U.useCallback(ft=>{const Ft={width:ft.offsetWidth,height:ft.offsetHeight},un=ze(Ft);if(k==="none")return{top:null,left:null,transformOrigin:f8(un)};const rt=je();let an=rt.top-un.vertical,Tt=rt.left-un.horizontal;const on=an+Ft.height,ln=Tt+Ft.width,sn=Pc(jb(_)),Qt=sn.innerHeight-X,Tn=sn.innerWidth-X;if(an<X){const Zn=an-X;an-=Zn,un.vertical+=Zn}else if(on>Qt){const Zn=on-Qt;an-=Zn,un.vertical+=Zn}if(Tt<X){const Zn=Tt-X;Tt-=Zn,un.horizontal+=Zn}else if(ln>Tn){const Zn=ln-Tn;Tt-=Zn,un.horizontal+=Zn}return{top:`${Math.round(an)}px`,left:`${Math.round(Tt)}px`,transformOrigin:f8(un)}},[_,k,je,ze,X]),[Le,qe]=U.useState($),ct=U.useCallback(()=>{const ft=$e.current;if(!ft)return;const Ft=Me(ft);Ft.top!==null&&(ft.style.top=Ft.top),Ft.left!==null&&(ft.style.left=Ft.left),ft.style.transformOrigin=Ft.transformOrigin,qe(!0)},[Me]),wt=(ft,Ft)=>{de&&de(ft,Ft),ct()},St=()=>{qe(!1)};U.useEffect(()=>{$&&ct()}),U.useImperativeHandle(i,()=>$?{updatePosition:()=>{ct()}}:null,[$,ct]),U.useEffect(()=>{if(!$)return;const ft=Mf(()=>{ct()}),Ft=Pc(_);return Ft.addEventListener("resize",ft),()=>{ft.clear(),Ft.removeEventListener("resize",ft)}},[_,$,ct]);let ht=M;M==="auto"&&!le.muiSupportAuto&&(ht=void 0);const Dt=F||(_?bo(jb(_)).body:void 0),bt=(l=G==null?void 0:G.root)!=null?l:Eq,Et=(u=G==null?void 0:G.paper)!=null?u:DM,Xt=Ri({elementType:Et,externalSlotProps:J({},ke,{style:Le?ke.style:J({},ke.style,{opacity:0})}),additionalProps:{elevation:L,ref:_e},ownerState:we,className:mn(me.paper,ke==null?void 0:ke.className)}),rn=Ri({elementType:bt,externalSlotProps:(Q==null?void 0:Q.root)||{},externalForwardedProps:xe,additionalProps:{ref:r,slotProps:{backdrop:{invisible:!0}},container:Dt,open:$},ownerState:we,className:mn(me.root,B)}),{slotProps:_t}=rn,at=nn(rn,Tq);return V.jsx(bt,J({},at,!Fh(bt)&&{slotProps:_t},{children:V.jsx(le,J({appear:!0,in:$,onEntering:wt,onExited:St,timeout:ht},ce,{children:V.jsx(Et,J({},Xt,{children:R}))}))}))}),kq=Pq;function Mq(e){return qn("MuiMenu",e)}jn("MuiMenu",["root","paper","list"]);const Iq=["onEntering"],Aq=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],Dq={vertical:"top",horizontal:"right"},Rq={vertical:"top",horizontal:"left"},zq=e=>{const{classes:t}=e;return Hn({root:["root"],paper:["paper"],list:["list"]},Mq,t)},Lq=It(kq,{shouldForwardProp:e=>Dc(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Oq=It(DM,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Fq=It(TM,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),Bq=U.forwardRef(function(t,r){const o=Nn({props:t,name:"MuiMenu"}),{autoFocus:l=!0,children:u,disableAutoFocusItem:f=!1,MenuListProps:i={},onClose:_,open:b,PaperProps:E={},PopoverClasses:k,transitionDuration:R="auto",TransitionProps:{onEntering:B}={},variant:F="selectedMenu"}=o,L=nn(o.TransitionProps,Iq),X=nn(o,Aq),$=cl(),H=$.direction==="rtl",G=J({},o,{autoFocus:l,disableAutoFocusItem:f,MenuListProps:i,onEntering:B,PaperProps:E,transitionDuration:R,TransitionProps:L,variant:F}),Q=zq(G),te=l&&!f&&b,le=U.useRef(null),M=(xe,ke)=>{le.current&&le.current.adjustStyleForScrollbar(xe,$),B&&B(xe,ke)},de=xe=>{xe.key==="Tab"&&(xe.preventDefault(),_&&_(xe,"tabKeyDown"))};let ce=-1;return U.Children.map(u,(xe,ke)=>{U.isValidElement(xe)&&(xe.props.disabled||(F==="selectedMenu"&&xe.props.selected||ce===-1)&&(ce=ke))}),V.jsx(Lq,J({onClose:_,anchorOrigin:{vertical:"bottom",horizontal:H?"right":"left"},transformOrigin:H?Dq:Rq,slots:{paper:Oq},slotProps:{paper:J({},E,{classes:J({},E.classes,{root:Q.paper})})},className:Q.root,open:b,ref:r,transitionDuration:R,TransitionProps:J({onEntering:M},L),ownerState:G},X,{classes:k,children:V.jsx(Fq,J({onKeyDown:de,actions:le,autoFocus:l&&(ce===-1||f),autoFocusItem:te,variant:F},i,{className:mn(Q.list,i.className),children:u}))}))}),Nq=Bq;function $q(e){return qn("MuiNativeSelect",e)}const jq=jn("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),M5=jq,Vq=["className","disabled","error","IconComponent","inputRef","variant"],Uq=e=>{const{classes:t,variant:r,disabled:o,multiple:l,open:u,error:f}=e,i={select:["select",r,o&&"disabled",l&&"multiple",f&&"error"],icon:["icon",`icon${wn(r)}`,u&&"iconOpen",o&&"disabled"]};return Hn(i,$q,t)},RM=({ownerState:e,theme:t})=>J({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":J({},t.vars?{backgroundColor:`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:t.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${M5.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},e.variant==="filled"&&{"&&&":{paddingRight:32}},e.variant==="outlined"&&{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}),Wq=It("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Dc,overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.select,t[r.variant],r.error&&t.error,{[`&.${M5.multiple}`]:t.multiple}]}})(RM),zM=({ownerState:e,theme:t})=>J({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${M5.disabled}`]:{color:(t.vars||t).palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},e.variant==="filled"&&{right:7},e.variant==="outlined"&&{right:7}),Hq=It("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,r.variant&&t[`icon${wn(r.variant)}`],r.open&&t.iconOpen]}})(zM),Gq=U.forwardRef(function(t,r){const{className:o,disabled:l,error:u,IconComponent:f,inputRef:i,variant:_="standard"}=t,b=nn(t,Vq),E=J({},t,{disabled:l,variant:_,error:u}),k=Uq(E);return V.jsxs(U.Fragment,{children:[V.jsx(Wq,J({ownerState:E,className:mn(k.select,o),disabled:l,ref:i||r},b)),t.multiple?null:V.jsx(Hq,{as:f,ownerState:E,className:k.icon})]})}),qq=Gq;function Zq(e){return qn("MuiSelect",e)}const Xq=jn("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),vm=Xq;var m8;const Yq=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Kq=It("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`&.${vm.select}`]:t.select},{[`&.${vm.select}`]:t[r.variant]},{[`&.${vm.error}`]:t.error},{[`&.${vm.multiple}`]:t.multiple}]}})(RM,{[`&.${vm.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Jq=It("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,r.variant&&t[`icon${wn(r.variant)}`],r.open&&t.iconOpen]}})(zM),Qq=It("input",{shouldForwardProp:e=>oV(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function g8(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function eZ(e){return e==null||typeof e=="string"&&!e.trim()}const tZ=e=>{const{classes:t,variant:r,disabled:o,multiple:l,open:u,error:f}=e,i={select:["select",r,o&&"disabled",l&&"multiple",f&&"error"],icon:["icon",`icon${wn(r)}`,u&&"iconOpen",o&&"disabled"],nativeInput:["nativeInput"]};return Hn(i,Zq,t)},nZ=U.forwardRef(function(t,r){const{"aria-describedby":o,"aria-label":l,autoFocus:u,autoWidth:f,children:i,className:_,defaultOpen:b,defaultValue:E,disabled:k,displayEmpty:R,error:B=!1,IconComponent:F,inputRef:L,labelId:X,MenuProps:$={},multiple:H,name:G,onBlur:Q,onChange:te,onClose:le,onFocus:M,onOpen:de,open:ce,readOnly:xe,renderValue:ke,SelectDisplayProps:$e={},tabIndex:_e,value:we,variant:me="standard"}=t,je=nn(t,Yq),[ze,Me]=Js({controlled:we,default:E,name:"Select"}),[Le,qe]=Js({controlled:ce,default:b,name:"Select"}),ct=U.useRef(null),wt=U.useRef(null),[St,ht]=U.useState(null),{current:Dt}=U.useRef(ce!=null),[bt,Et]=U.useState(),Xt=mi(r,L),rn=U.useCallback(In=>{wt.current=In,In&&ht(In)},[]),_t=St==null?void 0:St.parentNode;U.useImperativeHandle(Xt,()=>({focus:()=>{wt.current.focus()},node:ct.current,value:ze}),[ze]),U.useEffect(()=>{b&&Le&&St&&!Dt&&(Et(f?null:_t.clientWidth),wt.current.focus())},[St,f]),U.useEffect(()=>{u&&wt.current.focus()},[u]),U.useEffect(()=>{if(!X)return;const In=bo(wt.current).getElementById(X);if(In){const er=()=>{getSelection().isCollapsed&&wt.current.focus()};return In.addEventListener("click",er),()=>{In.removeEventListener("click",er)}}},[X]);const at=(In,er)=>{In?de&&de(er):le&&le(er),Dt||(Et(f?null:_t.clientWidth),qe(In))},ft=In=>{In.button===0&&(In.preventDefault(),wt.current.focus(),at(!0,In))},Ft=In=>{at(!1,In)},un=U.Children.toArray(i),rt=In=>{const er=un.find(dn=>dn.props.value===In.target.value);er!==void 0&&(Me(er.props.value),te&&te(In,er))},an=In=>er=>{let dn;if(er.currentTarget.hasAttribute("tabindex")){if(H){dn=Array.isArray(ze)?ze.slice():[];const yn=ze.indexOf(In.props.value);yn===-1?dn.push(In.props.value):dn.splice(yn,1)}else dn=In.props.value;if(In.props.onClick&&In.props.onClick(er),ze!==dn&&(Me(dn),te)){const yn=er.nativeEvent||er,zn=new yn.constructor(yn.type,yn);Object.defineProperty(zn,"target",{writable:!0,value:{value:dn,name:G}}),te(zn,In)}H||at(!1,er)}},Tt=In=>{xe||[" ","ArrowUp","ArrowDown","Enter"].indexOf(In.key)!==-1&&(In.preventDefault(),at(!0,In))},on=St!==null&&Le,ln=In=>{!on&&Q&&(Object.defineProperty(In,"target",{writable:!0,value:{value:ze,name:G}}),Q(In))};delete je["aria-invalid"];let sn,Qt;const Tn=[];let Zn=!1;($_({value:ze})||R)&&(ke?sn=ke(ze):Zn=!0);const hr=un.map(In=>{if(!U.isValidElement(In))return null;let er;if(H){if(!Array.isArray(ze))throw new Error(vd(2));er=ze.some(dn=>g8(dn,In.props.value)),er&&Zn&&Tn.push(In.props.children)}else er=g8(ze,In.props.value),er&&Zn&&(Qt=In.props.children);return U.cloneElement(In,{"aria-selected":er?"true":"false",onClick:an(In),onKeyUp:dn=>{dn.key===" "&&dn.preventDefault(),In.props.onKeyUp&&In.props.onKeyUp(dn)},role:"option",selected:er,value:void 0,"data-value":In.props.value})});Zn&&(H?Tn.length===0?sn=null:sn=Tn.reduce((In,er,dn)=>(In.push(er),dn<Tn.length-1&&In.push(", "),In),[]):sn=Qt);let $t=bt;!f&&Dt&&St&&($t=_t.clientWidth);let Dn;typeof _e<"u"?Dn=_e:Dn=k?null:0;const Wn=$e.id||(G?`mui-component-select-${G}`:void 0),Cn=J({},t,{variant:me,value:ze,open:on,error:B}),Pn=tZ(Cn);return V.jsxs(U.Fragment,{children:[V.jsx(Kq,J({ref:rn,tabIndex:Dn,role:"button","aria-disabled":k?"true":void 0,"aria-expanded":on?"true":"false","aria-haspopup":"listbox","aria-label":l,"aria-labelledby":[X,Wn].filter(Boolean).join(" ")||void 0,"aria-describedby":o,onKeyDown:Tt,onMouseDown:k||xe?null:ft,onBlur:ln,onFocus:M},$e,{ownerState:Cn,className:mn($e.className,Pn.select,_),id:Wn,children:eZ(sn)?m8||(m8=V.jsx("span",{className:"notranslate",children:""})):sn})),V.jsx(Qq,J({"aria-invalid":B,value:Array.isArray(ze)?ze.join(","):ze,name:G,ref:ct,"aria-hidden":!0,onChange:rt,tabIndex:-1,disabled:k,className:Pn.nativeInput,autoFocus:u,ownerState:Cn},je)),V.jsx(Jq,{as:F,className:Pn.icon,ownerState:Cn}),V.jsx(Nq,J({id:`menu-${G||""}`,anchorEl:_t,open:on,onClose:Ft,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},$,{MenuListProps:J({"aria-labelledby":X,role:"listbox",disableListWrap:!0},$.MenuListProps),PaperProps:J({},$.PaperProps,{style:J({minWidth:$t},$.PaperProps!=null?$.PaperProps.style:null)}),children:hr}))]})}),rZ=nZ;function iZ(e){return qn("MuiSvgIcon",e)}jn("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const oZ=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],sZ=e=>{const{color:t,fontSize:r,classes:o}=e,l={root:["root",t!=="inherit"&&`color${wn(t)}`,`fontSize${wn(r)}`]};return Hn(l,iZ,o)},aZ=It("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color!=="inherit"&&t[`color${wn(r.color)}`],t[`fontSize${wn(r.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var r,o,l,u,f,i,_,b,E,k,R,B,F,L,X,$,H;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(r=e.transitions)==null||(o=r.create)==null?void 0:o.call(r,"fill",{duration:(l=e.transitions)==null||(u=l.duration)==null?void 0:u.shorter}),fontSize:{inherit:"inherit",small:((f=e.typography)==null||(i=f.pxToRem)==null?void 0:i.call(f,20))||"1.25rem",medium:((_=e.typography)==null||(b=_.pxToRem)==null?void 0:b.call(_,24))||"1.5rem",large:((E=e.typography)==null||(k=E.pxToRem)==null?void 0:k.call(E,35))||"2.1875rem"}[t.fontSize],color:(R=(B=(e.vars||e).palette)==null||(F=B[t.color])==null?void 0:F.main)!=null?R:{action:(L=(e.vars||e).palette)==null||(X=L.action)==null?void 0:X.active,disabled:($=(e.vars||e).palette)==null||(H=$.action)==null?void 0:H.disabled,inherit:void 0}[t.color]}}),LM=U.forwardRef(function(t,r){const o=Nn({props:t,name:"MuiSvgIcon"}),{children:l,className:u,color:f="inherit",component:i="svg",fontSize:_="medium",htmlColor:b,inheritViewBox:E=!1,titleAccess:k,viewBox:R="0 0 24 24"}=o,B=nn(o,oZ),F=U.isValidElement(l)&&l.type==="svg",L=J({},o,{color:f,component:i,fontSize:_,instanceFontSize:t.fontSize,inheritViewBox:E,viewBox:R,hasSvgAsChild:F}),X={};E||(X.viewBox=R);const $=sZ(L);return V.jsxs(aZ,J({as:i,className:mn($.root,u),focusable:"false",color:b,"aria-hidden":k?void 0:!0,role:k?"img":void 0,ref:r},X,B,F&&l.props,{ownerState:L,children:[F?l.props.children:l,k?V.jsx("title",{children:k}):null]}))});LM.muiName="SvgIcon";const y8=LM;function Da(e,t){function r(o,l){return V.jsx(y8,J({"data-testid":`${t}Icon`,ref:l},o,{children:e}))}return r.muiName=y8.muiName,U.memo(U.forwardRef(r))}const OM=Da(V.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),lZ=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],cZ=e=>{const{classes:t}=e;return t},I5={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>Dc(e)&&e!=="variant",slot:"Root"},uZ=It(gM,I5)(""),dZ=It(x5,I5)(""),hZ=It(_M,I5)(""),FM=U.forwardRef(function(t,r){const o=Nn({name:"MuiSelect",props:t}),{autoWidth:l=!1,children:u,classes:f={},className:i,defaultOpen:_=!1,displayEmpty:b=!1,IconComponent:E=OM,id:k,input:R,inputProps:B,label:F,labelId:L,MenuProps:X,multiple:$=!1,native:H=!1,onClose:G,onOpen:Q,open:te,renderValue:le,SelectDisplayProps:M,variant:de="outlined"}=o,ce=nn(o,lZ),xe=H?qq:rZ,ke=Hh(),$e=Jf({props:o,muiFormControl:ke,states:["variant","error"]}),_e=$e.variant||de,we=J({},o,{variant:_e,classes:f}),me=cZ(we),je=R||{standard:V.jsx(uZ,{ownerState:we}),outlined:V.jsx(dZ,{label:F,ownerState:we}),filled:V.jsx(hZ,{ownerState:we})}[_e],ze=mi(r,je.ref);return V.jsx(U.Fragment,{children:U.cloneElement(je,J({inputComponent:xe,inputProps:J({children:u,error:$e.error,IconComponent:E,variant:_e,type:void 0,multiple:$},H?{id:k}:{autoWidth:l,defaultOpen:_,displayEmpty:b,labelId:L,MenuProps:X,onClose:G,onOpen:Q,open:te,renderValue:le,SelectDisplayProps:J({id:k},M)},B,{classes:B?Ks(me,B.classes):me},R?R.props.inputProps:{})},$&&H&&_e==="outlined"?{notched:!0}:{},{ref:ze,className:mn(je.props.className,i)},!R&&{variant:_e},ce))})});FM.muiName="Select";const pZ=FM;function fZ(e){return qn("MuiTextField",e)}const mZ=jn("MuiTextField",["root"]),My=mZ,gZ=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],yZ={standard:gM,filled:_M,outlined:x5},_Z=e=>{const{classes:t}=e;return Hn({root:["root"]},fZ,t)},vZ=It(xM,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),xZ=U.forwardRef(function(t,r){const o=Nn({props:t,name:"MuiTextField"}),{autoComplete:l,autoFocus:u=!1,children:f,className:i,color:_="primary",defaultValue:b,disabled:E=!1,error:k=!1,FormHelperTextProps:R,fullWidth:B=!1,helperText:F,id:L,InputLabelProps:X,inputProps:$,InputProps:H,inputRef:G,label:Q,maxRows:te,minRows:le,multiline:M=!1,name:de,onBlur:ce,onChange:xe,onClick:ke,onFocus:$e,placeholder:_e,required:we=!1,rows:me,select:je=!1,SelectProps:ze,type:Me,value:Le,variant:qe="outlined"}=o,ct=nn(o,gZ),wt=J({},o,{autoFocus:u,color:_,disabled:E,error:k,fullWidth:B,multiline:M,required:we,select:je,variant:qe}),St=_Z(wt),ht={};qe==="outlined"&&(X&&typeof X.shrink<"u"&&(ht.notched=X.shrink),ht.label=Q),je&&((!ze||!ze.native)&&(ht.id=void 0),ht["aria-describedby"]=void 0);const Dt=Ed(L),bt=F&&Dt?`${Dt}-helper-text`:void 0,Et=Q&&Dt?`${Dt}-label`:void 0,Xt=yZ[qe],rn=V.jsx(Xt,J({"aria-describedby":bt,autoComplete:l,autoFocus:u,defaultValue:b,fullWidth:B,multiline:M,name:de,rows:me,maxRows:te,minRows:le,type:Me,value:Le,id:Dt,inputRef:G,onBlur:ce,onChange:xe,onFocus:$e,onClick:ke,placeholder:_e,inputProps:$},ht,H));return V.jsxs(vZ,J({className:mn(St.root,i),disabled:E,error:k,fullWidth:B,ref:r,required:we,color:_,variant:qe,ownerState:wt},ct,{children:[Q!=null&&Q!==""&&V.jsx(SG,J({htmlFor:Dt,id:Et},X,{children:Q})),je?V.jsx(pZ,J({"aria-describedby":bt,id:Dt,labelId:Et,value:Le,input:rn},ze,{children:f})):rn,F&&V.jsx(LG,J({id:bt},R,{children:F}))]}))}),BM=xZ,bZ=e=>e.match(/^([A-Za-z]+)Range(Calendar|Clock)$/)?"multi-panel-UI-view":e.match(/^([A-Za-z]*)(DigitalClock)$/)?"Tall-UI-view":e.match(/^Static([A-Za-z]+)/)||e.match(/^([A-Za-z]+)(Calendar|Clock)$/)?"UI-view":e.match(/^MultiInput([A-Za-z]+)RangeField$/)||e.match(/^([A-Za-z]+)RangePicker$/)?"multi-input-range-field":e.match(/^SingleInput([A-Za-z]+)RangeField$/)?"single-input-range-field":"single-input-field",wZ=e=>e.includes("DateTime")?"date-time":e.includes("Date")?"date":"time";function SZ(e){const{children:t,components:r,sx:o}=e,l=new Set,u=new Set;r.forEach(E=>{l.add(bZ(E)),u.add(wZ(E))});const f=E=>E==="row"?l.has("UI-view")||l.has("Tall-UI-view")?3:2:l.has("UI-view")?4:3;let i,_,b=J({overflow:"auto",pt:1},o);return r.length>2||l.has("multi-input-range-field")||l.has("single-input-range-field")||l.has("multi-panel-UI-view")||l.has("UI-view")||u.has("date-time")?(i="column",_=f("column")):(i={xs:"column",lg:"row"},_={xs:f("column"),lg:f("row")}),l.has("UI-view")||(l.has("single-input-range-field")?u.has("date-time")?b=J({},b,{[`& > .${My.root}`]:{minWidth:{xs:300,md:400}}}):b=J({},b,{[`& > .${My.root}`]:{minWidth:300}}):u.has("date-time")?b=J({},b,{[`& > .${My.root}`]:{minWidth:270}}):b=J({},b,{[`& > .${My.root}`]:{minWidth:200}})),V.jsx(PU,{direction:i,spacing:_,sx:b,children:t})}var NM={exports:{}};(function(e,t){(function(r,o){e.exports=o()})(Vh,function(){var r=1e3,o=6e4,l=36e5,u="millisecond",f="second",i="minute",_="hour",b="day",E="week",k="month",R="quarter",B="year",F="date",L="Invalid Date",X=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,$=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,H={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(_e){var we=["th","st","nd","rd"],me=_e%100;return"["+_e+(we[(me-20)%10]||we[me]||we[0])+"]"}},G=function(_e,we,me){var je=String(_e);return!je||je.length>=we?_e:""+Array(we+1-je.length).join(me)+_e},Q={s:G,z:function(_e){var we=-_e.utcOffset(),me=Math.abs(we),je=Math.floor(me/60),ze=me%60;return(we<=0?"+":"-")+G(je,2,"0")+":"+G(ze,2,"0")},m:function _e(we,me){if(we.date()<me.date())return-_e(me,we);var je=12*(me.year()-we.year())+(me.month()-we.month()),ze=we.clone().add(je,k),Me=me-ze<0,Le=we.clone().add(je+(Me?-1:1),k);return+(-(je+(me-ze)/(Me?ze-Le:Le-ze))||0)},a:function(_e){return _e<0?Math.ceil(_e)||0:Math.floor(_e)},p:function(_e){return{M:k,y:B,w:E,d:b,D:F,h:_,m:i,s:f,ms:u,Q:R}[_e]||String(_e||"").toLowerCase().replace(/s$/,"")},u:function(_e){return _e===void 0}},te="en",le={};le[te]=H;var M=function(_e){return _e instanceof ke},de=function _e(we,me,je){var ze;if(!we)return te;if(typeof we=="string"){var Me=we.toLowerCase();le[Me]&&(ze=Me),me&&(le[Me]=me,ze=Me);var Le=we.split("-");if(!ze&&Le.length>1)return _e(Le[0])}else{var qe=we.name;le[qe]=we,ze=qe}return!je&&ze&&(te=ze),ze||!je&&te},ce=function(_e,we){if(M(_e))return _e.clone();var me=typeof we=="object"?we:{};return me.date=_e,me.args=arguments,new ke(me)},xe=Q;xe.l=de,xe.i=M,xe.w=function(_e,we){return ce(_e,{locale:we.$L,utc:we.$u,x:we.$x,$offset:we.$offset})};var ke=function(){function _e(me){this.$L=de(me.locale,null,!0),this.parse(me)}var we=_e.prototype;return we.parse=function(me){this.$d=function(je){var ze=je.date,Me=je.utc;if(ze===null)return new Date(NaN);if(xe.u(ze))return new Date;if(ze instanceof Date)return new Date(ze);if(typeof ze=="string"&&!/Z$/i.test(ze)){var Le=ze.match(X);if(Le){var qe=Le[2]-1||0,ct=(Le[7]||"0").substring(0,3);return Me?new Date(Date.UTC(Le[1],qe,Le[3]||1,Le[4]||0,Le[5]||0,Le[6]||0,ct)):new Date(Le[1],qe,Le[3]||1,Le[4]||0,Le[5]||0,Le[6]||0,ct)}}return new Date(ze)}(me),this.$x=me.x||{},this.init()},we.init=function(){var me=this.$d;this.$y=me.getFullYear(),this.$M=me.getMonth(),this.$D=me.getDate(),this.$W=me.getDay(),this.$H=me.getHours(),this.$m=me.getMinutes(),this.$s=me.getSeconds(),this.$ms=me.getMilliseconds()},we.$utils=function(){return xe},we.isValid=function(){return this.$d.toString()!==L},we.isSame=function(me,je){var ze=ce(me);return this.startOf(je)<=ze&&ze<=this.endOf(je)},we.isAfter=function(me,je){return ce(me)<this.startOf(je)},we.isBefore=function(me,je){return this.endOf(je)<ce(me)},we.$g=function(me,je,ze){return xe.u(me)?this[je]:this.set(ze,me)},we.unix=function(){return Math.floor(this.valueOf()/1e3)},we.valueOf=function(){return this.$d.getTime()},we.startOf=function(me,je){var ze=this,Me=!!xe.u(je)||je,Le=xe.p(me),qe=function(Xt,rn){var _t=xe.w(ze.$u?Date.UTC(ze.$y,rn,Xt):new Date(ze.$y,rn,Xt),ze);return Me?_t:_t.endOf(b)},ct=function(Xt,rn){return xe.w(ze.toDate()[Xt].apply(ze.toDate("s"),(Me?[0,0,0,0]:[23,59,59,999]).slice(rn)),ze)},wt=this.$W,St=this.$M,ht=this.$D,Dt="set"+(this.$u?"UTC":"");switch(Le){case B:return Me?qe(1,0):qe(31,11);case k:return Me?qe(1,St):qe(0,St+1);case E:var bt=this.$locale().weekStart||0,Et=(wt<bt?wt+7:wt)-bt;return qe(Me?ht-Et:ht+(6-Et),St);case b:case F:return ct(Dt+"Hours",0);case _:return ct(Dt+"Minutes",1);case i:return ct(Dt+"Seconds",2);case f:return ct(Dt+"Milliseconds",3);default:return this.clone()}},we.endOf=function(me){return this.startOf(me,!1)},we.$set=function(me,je){var ze,Me=xe.p(me),Le="set"+(this.$u?"UTC":""),qe=(ze={},ze[b]=Le+"Date",ze[F]=Le+"Date",ze[k]=Le+"Month",ze[B]=Le+"FullYear",ze[_]=Le+"Hours",ze[i]=Le+"Minutes",ze[f]=Le+"Seconds",ze[u]=Le+"Milliseconds",ze)[Me],ct=Me===b?this.$D+(je-this.$W):je;if(Me===k||Me===B){var wt=this.clone().set(F,1);wt.$d[qe](ct),wt.init(),this.$d=wt.set(F,Math.min(this.$D,wt.daysInMonth())).$d}else qe&&this.$d[qe](ct);return this.init(),this},we.set=function(me,je){return this.clone().$set(me,je)},we.get=function(me){return this[xe.p(me)]()},we.add=function(me,je){var ze,Me=this;me=Number(me);var Le=xe.p(je),qe=function(St){var ht=ce(Me);return xe.w(ht.date(ht.date()+Math.round(St*me)),Me)};if(Le===k)return this.set(k,this.$M+me);if(Le===B)return this.set(B,this.$y+me);if(Le===b)return qe(1);if(Le===E)return qe(7);var ct=(ze={},ze[i]=o,ze[_]=l,ze[f]=r,ze)[Le]||1,wt=this.$d.getTime()+me*ct;return xe.w(wt,this)},we.subtract=function(me,je){return this.add(-1*me,je)},we.format=function(me){var je=this,ze=this.$locale();if(!this.isValid())return ze.invalidDate||L;var Me=me||"YYYY-MM-DDTHH:mm:ssZ",Le=xe.z(this),qe=this.$H,ct=this.$m,wt=this.$M,St=ze.weekdays,ht=ze.months,Dt=function(rn,_t,at,ft){return rn&&(rn[_t]||rn(je,Me))||at[_t].slice(0,ft)},bt=function(rn){return xe.s(qe%12||12,rn,"0")},Et=ze.meridiem||function(rn,_t,at){var ft=rn<12?"AM":"PM";return at?ft.toLowerCase():ft},Xt={YY:String(this.$y).slice(-2),YYYY:xe.s(this.$y,4,"0"),M:wt+1,MM:xe.s(wt+1,2,"0"),MMM:Dt(ze.monthsShort,wt,ht,3),MMMM:Dt(ht,wt),D:this.$D,DD:xe.s(this.$D,2,"0"),d:String(this.$W),dd:Dt(ze.weekdaysMin,this.$W,St,2),ddd:Dt(ze.weekdaysShort,this.$W,St,3),dddd:St[this.$W],H:String(qe),HH:xe.s(qe,2,"0"),h:bt(1),hh:bt(2),a:Et(qe,ct,!0),A:Et(qe,ct,!1),m:String(ct),mm:xe.s(ct,2,"0"),s:String(this.$s),ss:xe.s(this.$s,2,"0"),SSS:xe.s(this.$ms,3,"0"),Z:Le};return Me.replace($,function(rn,_t){return _t||Xt[rn]||Le.replace(":","")})},we.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},we.diff=function(me,je,ze){var Me,Le=xe.p(je),qe=ce(me),ct=(qe.utcOffset()-this.utcOffset())*o,wt=this-qe,St=xe.m(this,qe);return St=(Me={},Me[B]=St/12,Me[k]=St,Me[R]=St/3,Me[E]=(wt-ct)/6048e5,Me[b]=(wt-ct)/864e5,Me[_]=wt/l,Me[i]=wt/o,Me[f]=wt/r,Me)[Le]||wt,ze?St:xe.a(St)},we.daysInMonth=function(){return this.endOf(k).$D},we.$locale=function(){return le[this.$L]},we.locale=function(me,je){if(!me)return this.$L;var ze=this.clone(),Me=de(me,je,!0);return Me&&(ze.$L=Me),ze},we.clone=function(){return xe.w(this.$d,this)},we.toDate=function(){return new Date(this.valueOf())},we.toJSON=function(){return this.isValid()?this.toISOString():null},we.toISOString=function(){return this.$d.toISOString()},we.toString=function(){return this.$d.toUTCString()},_e}(),$e=ke.prototype;return ce.prototype=$e,[["$ms",u],["$s",f],["$m",i],["$H",_],["$W",b],["$M",k],["$y",B],["$D",F]].forEach(function(_e){$e[_e[1]]=function(we){return this.$g(we,_e[0],_e[1])}}),ce.extend=function(_e,we){return _e.$i||(_e(we,ke,ce),_e.$i=!0),ce},ce.locale=de,ce.isDayjs=M,ce.unix=function(_e){return ce(1e3*_e)},ce.en=le[te],ce.Ls=le,ce.p={},ce})})(NM);var TZ=NM.exports;const Ms=Ac(TZ);var $M={exports:{}};(function(e,t){(function(r,o){e.exports=o()})(Vh,function(){var r="week",o="year";return function(l,u,f){var i=u.prototype;i.week=function(_){if(_===void 0&&(_=null),_!==null)return this.add(7*(_-this.week()),"day");var b=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var E=f(this).startOf(o).add(1,o).date(b),k=f(this).endOf(r);if(E.isBefore(k))return 1}var R=f(this).startOf(o).date(b).startOf(r).subtract(1,"millisecond"),B=this.diff(R,r,!0);return B<0?f(this).startOf("week").week():Math.ceil(B)},i.weeks=function(_){return _===void 0&&(_=null),this.week(_)}}})})($M);var CZ=$M.exports;const EZ=Ac(CZ);var jM={exports:{}};(function(e,t){(function(r,o){e.exports=o()})(Vh,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},o=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,l=/\d\d/,u=/\d\d?/,f=/\d*[^-_:/,()\s\d]+/,i={},_=function(L){return(L=+L)+(L>68?1900:2e3)},b=function(L){return function(X){this[L]=+X}},E=[/[+-]\d\d:?(\d\d)?|Z/,function(L){(this.zone||(this.zone={})).offset=function(X){if(!X||X==="Z")return 0;var $=X.match(/([+-]|\d\d)/g),H=60*$[1]+(+$[2]||0);return H===0?0:$[0]==="+"?-H:H}(L)}],k=function(L){var X=i[L];return X&&(X.indexOf?X:X.s.concat(X.f))},R=function(L,X){var $,H=i.meridiem;if(H){for(var G=1;G<=24;G+=1)if(L.indexOf(H(G,0,X))>-1){$=G>12;break}}else $=L===(X?"pm":"PM");return $},B={A:[f,function(L){this.afternoon=R(L,!1)}],a:[f,function(L){this.afternoon=R(L,!0)}],S:[/\d/,function(L){this.milliseconds=100*+L}],SS:[l,function(L){this.milliseconds=10*+L}],SSS:[/\d{3}/,function(L){this.milliseconds=+L}],s:[u,b("seconds")],ss:[u,b("seconds")],m:[u,b("minutes")],mm:[u,b("minutes")],H:[u,b("hours")],h:[u,b("hours")],HH:[u,b("hours")],hh:[u,b("hours")],D:[u,b("day")],DD:[l,b("day")],Do:[f,function(L){var X=i.ordinal,$=L.match(/\d+/);if(this.day=$[0],X)for(var H=1;H<=31;H+=1)X(H).replace(/\[|\]/g,"")===L&&(this.day=H)}],M:[u,b("month")],MM:[l,b("month")],MMM:[f,function(L){var X=k("months"),$=(k("monthsShort")||X.map(function(H){return H.slice(0,3)})).indexOf(L)+1;if($<1)throw new Error;this.month=$%12||$}],MMMM:[f,function(L){var X=k("months").indexOf(L)+1;if(X<1)throw new Error;this.month=X%12||X}],Y:[/[+-]?\d+/,b("year")],YY:[l,function(L){this.year=_(L)}],YYYY:[/\d{4}/,b("year")],Z:E,ZZ:E};function F(L){var X,$;X=L,$=i&&i.formats;for(var H=(L=X.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(ce,xe,ke){var $e=ke&&ke.toUpperCase();return xe||$[ke]||r[ke]||$[$e].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(_e,we,me){return we||me.slice(1)})})).match(o),G=H.length,Q=0;Q<G;Q+=1){var te=H[Q],le=B[te],M=le&&le[0],de=le&&le[1];H[Q]=de?{regex:M,parser:de}:te.replace(/^\[|\]$/g,"")}return function(ce){for(var xe={},ke=0,$e=0;ke<G;ke+=1){var _e=H[ke];if(typeof _e=="string")$e+=_e.length;else{var we=_e.regex,me=_e.parser,je=ce.slice($e),ze=we.exec(je)[0];me.call(xe,ze),ce=ce.replace(ze,"")}}return function(Me){var Le=Me.afternoon;if(Le!==void 0){var qe=Me.hours;Le?qe<12&&(Me.hours+=12):qe===12&&(Me.hours=0),delete Me.afternoon}}(xe),xe}}return function(L,X,$){$.p.customParseFormat=!0,L&&L.parseTwoDigitYear&&(_=L.parseTwoDigitYear);var H=X.prototype,G=H.parse;H.parse=function(Q){var te=Q.date,le=Q.utc,M=Q.args;this.$u=le;var de=M[1];if(typeof de=="string"){var ce=M[2]===!0,xe=M[3]===!0,ke=ce||xe,$e=M[2];xe&&($e=M[2]),i=this.$locale(),!ce&&$e&&(i=$.Ls[$e]),this.$d=function(je,ze,Me){try{if(["x","X"].indexOf(ze)>-1)return new Date((ze==="X"?1e3:1)*je);var Le=F(ze)(je),qe=Le.year,ct=Le.month,wt=Le.day,St=Le.hours,ht=Le.minutes,Dt=Le.seconds,bt=Le.milliseconds,Et=Le.zone,Xt=new Date,rn=wt||(qe||ct?1:Xt.getDate()),_t=qe||Xt.getFullYear(),at=0;qe&&!ct||(at=ct>0?ct-1:Xt.getMonth());var ft=St||0,Ft=ht||0,un=Dt||0,rt=bt||0;return Et?new Date(Date.UTC(_t,at,rn,ft,Ft,un,rt+60*Et.offset*1e3)):Me?new Date(Date.UTC(_t,at,rn,ft,Ft,un,rt)):new Date(_t,at,rn,ft,Ft,un,rt)}catch{return new Date("")}}(te,de,le),this.init(),$e&&$e!==!0&&(this.$L=this.locale($e).$L),ke&&te!=this.format(de)&&(this.$d=new Date("")),i={}}else if(de instanceof Array)for(var _e=de.length,we=1;we<=_e;we+=1){M[1]=de[we-1];var me=$.apply(this,M);if(me.isValid()){this.$d=me.$d,this.$L=me.$L,this.init();break}we===_e&&(this.$d=new Date(""))}else G.call(this,Q)}}})})(jM);var PZ=jM.exports;const kZ=Ac(PZ);var VM={exports:{}};(function(e,t){(function(r,o){e.exports=o()})(Vh,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(o,l,u){var f=l.prototype,i=f.format;u.en.formats=r,f.format=function(_){_===void 0&&(_="YYYY-MM-DDTHH:mm:ssZ");var b=this.$locale().formats,E=function(k,R){return k.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(B,F,L){var X=L&&L.toUpperCase();return F||R[L]||r[L]||R[X].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function($,H,G){return H||G.slice(1)})})}(_,b===void 0?{}:b);return i.call(this,E)}}})})(VM);var MZ=VM.exports;const IZ=Ac(MZ);var UM={exports:{}};(function(e,t){(function(r,o){e.exports=o()})(Vh,function(){return function(r,o,l){o.prototype.isBetween=function(u,f,i,_){var b=l(u),E=l(f),k=(_=_||"()")[0]==="(",R=_[1]===")";return(k?this.isAfter(b,i):!this.isBefore(b,i))&&(R?this.isBefore(E,i):!this.isAfter(E,i))||(k?this.isBefore(b,i):!this.isAfter(b,i))&&(R?this.isAfter(E,i):!this.isBefore(E,i))}}})})(UM);var AZ=UM.exports;const DZ=Ac(AZ),WM=(e,t="warning")=>{let r=!1;const o=Array.isArray(e)?e.join(`
`):e;return()=>{r||(r=!0,t==="error"?console.error(o):console.warn(o))}};Ms.extend(kZ);Ms.extend(IZ);Ms.extend(DZ);const RZ=WM(["Your locale has not been found.","Either the locale key is not a supported one. Locales supported by dayjs are available here: https://github.com/iamkun/dayjs/tree/dev/src/locale","Or you forget to import the locale with `require('dayjs/locale/{localeUsed}')`","fallback on English locale"]),zZ={YY:"year",YYYY:{sectionType:"year",contentType:"digit",maxLength:4},M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMM:{sectionType:"month",contentType:"letter"},MMMM:{sectionType:"month",contentType:"letter"},D:{sectionType:"day",contentType:"digit",maxLength:2},DD:"day",Do:{sectionType:"day",contentType:"digit-with-letter"},d:{sectionType:"weekDay",contentType:"digit",maxLength:2},dd:{sectionType:"weekDay",contentType:"letter"},ddd:{sectionType:"weekDay",contentType:"letter"},dddd:{sectionType:"weekDay",contentType:"letter"},A:"meridiem",a:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},LZ={year:"YYYY",month:"MMMM",monthShort:"MMM",dayOfMonth:"D",weekday:"dddd",weekdayShort:"ddd",hours24h:"HH",hours12h:"hh",meridiem:"A",minutes:"mm",seconds:"ss",fullDate:"ll",fullDateWithWeekday:"dddd, LL",keyboardDate:"L",shortDate:"MMM D",normalDate:"D MMMM",normalDateWithWeekday:"ddd, MMM D",monthAndYear:"MMMM YYYY",monthAndDate:"MMMM D",fullTime:"LT",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",fullDateTime:"lll",fullDateTime12h:"ll hh:mm A",fullDateTime24h:"ll HH:mm",keyboardDateTime:"L LT",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"},Vb=["Missing UTC plugin","To be able to use UTC or timezones, you have to enable the `utc` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-utc"].join(`
`),_8=["Missing timezone plugin","To be able to use timezones, you have to enable both the `utc` and the `timezone` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-timezone"].join(`
`),OZ=(e,t)=>t?(...r)=>e(...r).locale(t):e;class FZ{constructor({locale:t,formats:r,instance:o}={}){var l;this.isMUIAdapter=!0,this.isTimezoneCompatible=!0,this.lib="dayjs",this.rawDayJsInstance=void 0,this.dayjs=void 0,this.locale=void 0,this.formats=void 0,this.escapedCharacters={start:"[",end:"]"},this.formatTokenMap=zZ,this.setLocaleToValue=u=>{const f=this.getCurrentLocaleCode();return f===u.locale()?u:u.locale(f)},this.hasUTCPlugin=()=>typeof Ms.utc<"u",this.hasTimezonePlugin=()=>typeof Ms.tz<"u",this.isSame=(u,f,i)=>{const _=this.setTimezone(f,this.getTimezone(u));return u.format(i)===_.format(i)},this.cleanTimezone=u=>u==="default"?void 0:u,this.createSystemDate=u=>{if(this.rawDayJsInstance)return this.rawDayJsInstance(u);if(this.hasUTCPlugin()&&this.hasTimezonePlugin()){const f=Ms.tz.guess();return f!=="UTC"?Ms.tz(u,f):Ms(u)}return Ms(u)},this.createUTCDate=u=>{if(!this.hasUTCPlugin())throw new Error(Vb);return Ms.utc(u)},this.createTZDate=(u,f)=>{if(!this.hasUTCPlugin())throw new Error(Vb);if(!this.hasTimezonePlugin())throw new Error(_8);const i=u!==void 0&&!u.endsWith("Z");return Ms(u).tz(this.cleanTimezone(f),i)},this.getLocaleFormats=()=>{const u=Ms.Ls,f=this.locale||"en";let i=u[f];return i===void 0&&(RZ(),i=u.en),i.formats},this.date=u=>u===null?null:this.dayjs(u),this.dateWithTimezone=(u,f)=>{if(u===null)return null;let i;return f==="UTC"?i=this.createUTCDate(u):f==="system"||f==="default"&&!this.hasTimezonePlugin()?i=this.createSystemDate(u):i=this.createTZDate(u,f),this.locale===void 0?i:i.locale(this.locale)},this.getTimezone=u=>{if(this.hasUTCPlugin()&&u.isUTC())return"UTC";if(this.hasTimezonePlugin()){var f;const i=(f=u.$x)==null?void 0:f.$timezone;return i??"system"}return"system"},this.setTimezone=(u,f)=>{if(this.getTimezone(u)===f)return u;if(f==="UTC"){if(!this.hasUTCPlugin())throw new Error(Vb);return u.utc()}if(f==="system")return u.local();if(!this.hasTimezonePlugin()){if(f==="default")return u;throw new Error(_8)}return Ms.tz(u,this.cleanTimezone(f))},this.toJsDate=u=>u.toDate(),this.parseISO=u=>this.dayjs(u),this.toISO=u=>u.toISOString(),this.parse=(u,f)=>u===""?null:this.dayjs(u,f,this.locale,!0),this.getCurrentLocaleCode=()=>this.locale||"en",this.is12HourCycleInCurrentLocale=()=>/A|a/.test(this.getLocaleFormats().LT||""),this.expandFormat=u=>{const f=this.getLocaleFormats(),i=_=>_.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(b,E,k)=>E||k.slice(1));return u.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(_,b,E)=>{const k=E&&E.toUpperCase();return b||f[E]||i(f[k])})},this.getFormatHelperText=u=>this.expandFormat(u).replace(/a/gi,"(a|p)m").toLocaleLowerCase(),this.isNull=u=>u===null,this.isValid=u=>this.dayjs(u).isValid(),this.format=(u,f)=>this.formatByString(u,this.formats[f]),this.formatByString=(u,f)=>this.dayjs(u).format(f),this.formatNumber=u=>u,this.getDiff=(u,f,i)=>u.diff(f,i),this.isEqual=(u,f)=>u===null&&f===null?!0:this.dayjs(u).toDate().getTime()===this.dayjs(f).toDate().getTime(),this.isSameYear=(u,f)=>this.isSame(u,f,"YYYY"),this.isSameMonth=(u,f)=>this.isSame(u,f,"YYYY-MM"),this.isSameDay=(u,f)=>this.isSame(u,f,"YYYY-MM-DD"),this.isSameHour=(u,f)=>u.isSame(f,"hour"),this.isAfter=(u,f)=>u>f,this.isAfterYear=(u,f)=>this.hasUTCPlugin()?!this.isSameYear(u,f)&&u.utc()>f.utc():u.isAfter(f,"year"),this.isAfterDay=(u,f)=>this.hasUTCPlugin()?!this.isSameDay(u,f)&&u.utc()>f.utc():u.isAfter(f,"day"),this.isBefore=(u,f)=>u<f,this.isBeforeYear=(u,f)=>this.hasUTCPlugin()?!this.isSameYear(u,f)&&u.utc()<f.utc():u.isBefore(f,"year"),this.isBeforeDay=(u,f)=>this.hasUTCPlugin()?!this.isSameDay(u,f)&&u.utc()<f.utc():u.isBefore(f,"day"),this.isWithinRange=(u,[f,i])=>u>=f&&u<=i,this.startOfYear=u=>u.startOf("year"),this.startOfMonth=u=>u.startOf("month"),this.startOfWeek=u=>u.startOf("week"),this.startOfDay=u=>u.startOf("day"),this.endOfYear=u=>u.endOf("year"),this.endOfMonth=u=>u.endOf("month"),this.endOfWeek=u=>u.endOf("week"),this.endOfDay=u=>u.endOf("day"),this.addYears=(u,f)=>f<0?u.subtract(Math.abs(f),"year"):u.add(f,"year"),this.addMonths=(u,f)=>f<0?u.subtract(Math.abs(f),"month"):u.add(f,"month"),this.addWeeks=(u,f)=>f<0?u.subtract(Math.abs(f),"week"):u.add(f,"week"),this.addDays=(u,f)=>f<0?u.subtract(Math.abs(f),"day"):u.add(f,"day"),this.addHours=(u,f)=>f<0?u.subtract(Math.abs(f),"hour"):u.add(f,"hour"),this.addMinutes=(u,f)=>f<0?u.subtract(Math.abs(f),"minute"):u.add(f,"minute"),this.addSeconds=(u,f)=>f<0?u.subtract(Math.abs(f),"second"):u.add(f,"second"),this.getYear=u=>u.year(),this.getMonth=u=>u.month(),this.getDate=u=>u.date(),this.getHours=u=>u.hour(),this.getMinutes=u=>u.minute(),this.getSeconds=u=>u.second(),this.getMilliseconds=u=>u.millisecond(),this.setYear=(u,f)=>u.set("year",f),this.setMonth=(u,f)=>u.set("month",f),this.setDate=(u,f)=>u.set("date",f),this.setHours=(u,f)=>u.set("hour",f),this.setMinutes=(u,f)=>u.set("minute",f),this.setSeconds=(u,f)=>u.set("second",f),this.setMilliseconds=(u,f)=>u.set("millisecond",f),this.getDaysInMonth=u=>u.daysInMonth(),this.getNextMonth=u=>u.add(1,"month"),this.getPreviousMonth=u=>u.subtract(1,"month"),this.getMonthArray=u=>{const i=[u.startOf("year")];for(;i.length<12;){const _=i[i.length-1];i.push(this.addMonths(_,1))}return i},this.mergeDateAndTime=(u,f)=>u.hour(f.hour()).minute(f.minute()).second(f.second()),this.getWeekdays=()=>{const u=this.dayjs().startOf("week");return[0,1,2,3,4,5,6].map(f=>this.formatByString(u.add(f,"day"),"dd"))},this.getWeekArray=u=>{const f=this.getTimezone(u),i=this.setLocaleToValue(u),_=i.startOf("month").startOf("week"),b=i.endOf("month").endOf("week");let E=0,k=_;const R=[];for(;k<b;){const B=Math.floor(E/7);R[B]=R[B]||[],R[B].push(k),k=k.add(1,"day"),this.hasTimezonePlugin()&&f!=="UTC"&&f!=="system"&&(k=k.tz(this.cleanTimezone(f),!0)),E+=1}return R},this.getWeekNumber=u=>u.week(),this.getYearRange=(u,f)=>{const i=u.startOf("year"),_=f.endOf("year"),b=[];let E=i;for(;E<_;)b.push(E),E=E.add(1,"year");return b},this.getMeridiemText=u=>u==="am"?"AM":"PM",this.rawDayJsInstance=o,this.dayjs=OZ((l=this.rawDayJsInstance)!=null?l:Ms,t),this.locale=t,this.formats=J({},LZ,r),Ms.extend(EZ)}}const BZ=["localeText"],vw=U.createContext(null),A5=function(t){var r;const{localeText:o}=t,l=nn(t,BZ),{utils:u,localeText:f}=(r=U.useContext(vw))!=null?r:{utils:void 0,localeText:void 0},i=Nn({props:l,name:"MuiLocalizationProvider"}),{children:_,dateAdapter:b,dateFormats:E,dateLibInstance:k,adapterLocale:R,localeText:B}=i,F=U.useMemo(()=>J({},B,f,o),[B,f,o]),L=U.useMemo(()=>{if(!b)return u||null;const H=new b({locale:R,formats:E,instance:k});if(!H.isMUIAdapter)throw new Error(["MUI: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join(`
`));return H},[b,R,E,k,u]),X=U.useMemo(()=>L?{minDate:L.date("1900-01-01T00:00:00.000"),maxDate:L.date("2099-12-31T00:00:00.000")}:null,[L]),$=U.useMemo(()=>({utils:L,defaultDates:X,localeText:F}),[X,L,F]);return V.jsx(vw.Provider,{value:$,children:_})};function NZ(e,t,r,o,l){const[u,f]=U.useState(()=>l&&r?r(e).matches:o?o(e).matches:t);return wo(()=>{let i=!0;if(!r)return;const _=r(e),b=()=>{i&&f(_.matches)};return b(),_.addListener(b),()=>{i=!1,_.removeListener(b)}},[e,r]),u}const HM=rg["useSyncExternalStore"];function $Z(e,t,r,o,l){const u=U.useCallback(()=>t,[t]),f=U.useMemo(()=>{if(l&&r)return()=>r(e).matches;if(o!==null){const{matches:E}=o(e);return()=>E}return u},[u,e,o,l,r]),[i,_]=U.useMemo(()=>{if(r===null)return[u,()=>()=>{}];const E=r(e);return[()=>E.matches,k=>(E.addListener(k),()=>{E.removeListener(k)})]},[u,r,e]);return HM(_,i,f)}function jZ(e,t={}){const r=K2(),o=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:l=!1,matchMedia:u=o?window.matchMedia:null,ssrMatchMedia:f=null,noSsr:i=!1}=Rk({name:"MuiUseMediaQuery",props:t,theme:r});let _=typeof e=="function"?e(r):e;return _=_.replace(/^@media( ?)/m,""),(HM!==void 0?$Z:NZ)(_,l,u,f,i)}const xc=(e,t)=>e.length!==t.length?!1:t.every(r=>e.includes(r)),VZ=({openTo:e,defaultOpenTo:t,views:r,defaultViews:o})=>{const l=r??o;let u;if(e!=null)u=e;else if(l.includes(t))u=t;else if(l.length>0)u=l[0];else throw new Error("MUI: The `views` prop must contain at least one view");return{views:l,openTo:u}},Ym=({date:e,disableFuture:t,disablePast:r,maxDate:o,minDate:l,isDateDisabled:u,utils:f,timezone:i})=>{const _=f.startOfDay(f.dateWithTimezone(void 0,i));r&&f.isBefore(l,_)&&(l=_),t&&f.isAfter(o,_)&&(o=_);let b=e,E=e;for(f.isBefore(e,l)&&(b=l,E=null),f.isAfter(e,o)&&(E&&(E=o),b=null);b||E;){if(b&&f.isAfter(b,o)&&(b=null),E&&f.isBefore(E,l)&&(E=null),b){if(!u(b))return b;b=f.addDays(b,1)}if(E){if(!u(E))return E;E=f.addDays(E,-1)}}return null},UZ=(e,t)=>t==null||!e.isValid(t)?null:t,al=(e,t,r)=>t==null||!e.isValid(t)?r:t,WZ=(e,t,r)=>!e.isValid(t)&&t!=null&&!e.isValid(r)&&r!=null?!0:e.isEqual(t,r),D5=(e,t)=>{const o=[e.startOfYear(t)];for(;o.length<12;){const l=o[o.length-1];o.push(e.addMonths(l,1))}return o},xw=(e,t,r)=>{let o=t;return o=e.setHours(o,e.getHours(r)),o=e.setMinutes(o,e.getMinutes(r)),o=e.setSeconds(o,e.getSeconds(r)),o},GM=(e,t,r)=>r==="date"?e.startOfDay(e.dateWithTimezone(void 0,t)):e.dateWithTimezone(void 0,t),HZ=["year","month","day"],yf=e=>HZ.includes(e),v8=(e,{format:t,views:r},o)=>{if(t!=null)return t;const l=e.formats;return xc(r,["year"])?l.year:xc(r,["month"])?l.month:xc(r,["day"])?l.dayOfMonth:xc(r,["month","year"])?`${l.month} ${l.year}`:xc(r,["day","month"])?`${l.month} ${l.dayOfMonth}`:o?/en/.test(e.getCurrentLocaleCode())?l.normalDateWithWeekday:l.normalDate:l.keyboardDate},qM=["hours","minutes","seconds"],W_=e=>qM.includes(e),Ub=e=>qM.includes(e)||e==="meridiem",GZ=(e,t)=>e?t.getHours(e)>=12?"pm":"am":null,Ag=(e,t,r)=>r&&(e>=12?"pm":"am")!==t?t==="am"?e-12:e+12:e,qZ=(e,t,r,o)=>{const l=Ag(o.getHours(e),t,r);return o.setHours(e,l)},x8=(e,t)=>t.getHours(e)*3600+t.getMinutes(e)*60+t.getSeconds(e),Sv=(e,t)=>(r,o)=>e?t.isAfter(r,o):x8(r,t)>x8(o,t),b8=(e,{format:t,views:r,ampm:o})=>{if(t!=null)return t;const l=e.formats;return xc(r,["hours"])?o?`${l.hours12h} ${l.meridiem}`:l.hours24h:xc(r,["minutes"])?l.minutes:xc(r,["seconds"])?l.seconds:xc(r,["minutes","seconds"])?`${l.minutes}:${l.seconds}`:xc(r,["hours","minutes","seconds"])?o?`${l.hours12h}:${l.minutes}:${l.seconds} ${l.meridiem}`:`${l.hours24h}:${l.minutes}:${l.seconds}`:o?`${l.hours12h}:${l.minutes} ${l.meridiem}`:`${l.hours24h}:${l.minutes}`},yc={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},ZZ=e=>Math.max(...e.map(t=>{var r;return(r=yc[t.type])!=null?r:1})),xm=(e,t,r)=>{if(t===yc.year)return e.startOfYear(r);if(t===yc.month)return e.startOfMonth(r);if(t===yc.day)return e.startOfDay(r);let o=r;return t<yc.minutes&&(o=e.setMinutes(o,0)),t<yc.seconds&&(o=e.setSeconds(o,0)),t<yc.milliseconds&&(o=e.setMilliseconds(o,0)),o},XZ=({props:e,utils:t,granularity:r,timezone:o})=>{var l;let u=xm(t,r,GM(t,o));e.minDate!=null&&t.isAfterDay(e.minDate,u)&&(u=xm(t,r,e.minDate)),e.maxDate!=null&&t.isBeforeDay(e.maxDate,u)&&(u=xm(t,r,e.maxDate));const f=Sv((l=e.disableIgnoringDatePartForTimeValidation)!=null?l:!1,t);return e.minTime!=null&&f(e.minTime,u)&&(u=xm(t,r,e.disableIgnoringDatePartForTimeValidation?e.minTime:xw(t,u,e.minTime))),e.maxTime!=null&&f(u,e.maxTime)&&(u=xm(t,r,e.disableIgnoringDatePartForTimeValidation?e.maxTime:xw(t,u,e.maxTime))),u},ZM=(e,t)=>{const r=e.formatTokenMap[t];if(r==null)throw new Error([`MUI: The token "${t}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof r=="string"?{type:r,contentType:r==="meridiem"?"letter":"digit",maxLength:void 0}:{type:r.sectionType,contentType:r.contentType,maxLength:r.maxLength}},YZ=e=>{switch(e){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}},Tv=(e,t,r)=>{const o=[],l=e.dateWithTimezone(void 0,t),u=e.startOfWeek(l),f=e.endOfWeek(l);let i=u;for(;e.isBefore(i,f);)o.push(i),i=e.addDays(i,1);return o.map(_=>e.formatByString(_,r))},XM=(e,t,r,o)=>{switch(r){case"month":return D5(e,e.dateWithTimezone(void 0,t)).map(l=>e.formatByString(l,o));case"weekDay":return Tv(e,t,o);case"meridiem":{const l=e.dateWithTimezone(void 0,t);return[e.startOfDay(l),e.endOfDay(l)].map(u=>e.formatByString(u,o))}default:return[]}},YM=(e,t,r)=>{let o=t;for(o=Number(o).toString();o.length<r;)o=`0${o}`;return o},R5=(e,t,r,o,l)=>{if(l.type==="day"&&l.contentType==="digit-with-letter"){const f=e.setDate(o.longestMonth,r);return e.formatByString(f,l.format)}const u=r.toString();return l.hasLeadingZerosInInput?YM(e,u,l.maxLength):u},KZ=(e,t,r,o,l,u,f)=>{const i=YZ(o),_=o==="Home",b=o==="End",E=r.value===""||_||b,k=()=>{const B=l[r.type]({currentDate:u,format:r.format,contentType:r.contentType}),F=H=>R5(e,t,H,B,r),L=r.type==="minutes"&&f!=null&&f.minutesStep?f.minutesStep:1;let $=parseInt(r.value,10)+i*L;if(E){if(r.type==="year"&&!b&&!_)return e.formatByString(e.dateWithTimezone(void 0,t),r.format);i>0||_?$=B.minimum:$=B.maximum}return $%L!==0&&((i<0||_)&&($+=L-(L+$)%L),(i>0||b)&&($-=$%L)),$>B.maximum?F(B.minimum+($-B.maximum-1)%(B.maximum-B.minimum+1)):$<B.minimum?F(B.maximum-(B.minimum-$-1)%(B.maximum-B.minimum+1)):F($)},R=()=>{const B=XM(e,t,r.type,r.format);if(B.length===0)return r.value;if(E)return i>0||_?B[0]:B[B.length-1];const L=(B.indexOf(r.value)+B.length+i)%B.length;return B[L]};return r.contentType==="digit"||r.contentType==="digit-with-letter"?k():R()},z5=(e,t)=>{let r=e.value||e.placeholder;const o=t==="non-input"?e.hasLeadingZerosInFormat:e.hasLeadingZerosInInput;return t==="non-input"&&e.hasLeadingZerosInInput&&!e.hasLeadingZerosInFormat&&(r=Number(r).toString()),["input-rtl","input-ltr"].includes(t)&&e.contentType==="digit"&&!o&&r.length===1&&(r=`${r}`),t==="input-rtl"&&(r=`${r}`),r},af=e=>e.replace(/[\u2066\u2067\u2068\u2069]/g,""),KM=(e,t)=>{let r=0,o=t?1:0;const l=[];for(let u=0;u<e.length;u+=1){const f=e[u],i=z5(f,t?"input-rtl":"input-ltr"),_=`${f.startSeparator}${i}${f.endSeparator}`,b=af(_).length,E=_.length,k=af(i),R=o+i.indexOf(k[0])+f.startSeparator.length,B=R+k.length;l.push(J({},f,{start:r,end:r+b,startInInput:R,endInInput:B})),r+=b,o+=E}return l},JZ=(e,t,r,o,l)=>{switch(o.type){case"year":return r.fieldYearPlaceholder({digitAmount:e.formatByString(e.dateWithTimezone(void 0,t),l).length});case"month":return r.fieldMonthPlaceholder({contentType:o.contentType});case"day":return r.fieldDayPlaceholder();case"weekDay":return r.fieldWeekDayPlaceholder({contentType:o.contentType});case"hours":return r.fieldHoursPlaceholder();case"minutes":return r.fieldMinutesPlaceholder();case"seconds":return r.fieldSecondsPlaceholder();case"meridiem":return r.fieldMeridiemPlaceholder();default:return l}},w8=(e,t,r,o)=>e.formatByString(e.parse(t,r),o),JM=(e,t,r)=>e.formatByString(e.dateWithTimezone(void 0,t),r).length===4,QM=(e,t,r,o,l)=>{if(r!=="digit")return!1;const u=e.dateWithTimezone(void 0,t);switch(o){case"year":return JM(e,t,l)?e.formatByString(e.setYear(u,1),l)==="0001":e.formatByString(e.setYear(u,2001),l)==="01";case"month":return e.formatByString(e.startOfYear(u),l).length>1;case"day":return e.formatByString(e.startOfMonth(u),l).length>1;case"weekDay":return e.formatByString(e.startOfWeek(u),l).length>1;case"hours":return e.formatByString(e.setHours(u,1),l).length>1;case"minutes":return e.formatByString(e.setMinutes(u,1),l).length>1;case"seconds":return e.formatByString(e.setMinutes(u,1),l).length>1;default:throw new Error("Invalid section type")}},QZ=(e,t)=>{const r=[],{start:o,end:l}=e.escapedCharacters,u=new RegExp(`(\\${o}[^\\${l}]*\\${l})+`,"g");let f=null;for(;f=u.exec(t);)r.push({start:f.index,end:u.lastIndex-1});return r},S8=(e,t,r,o,l,u,f,i)=>{let _="";const b=[],E=e.date(),k=G=>{if(G==="")return null;const Q=ZM(e,G),te=QM(e,t,Q.contentType,Q.type,G),le=f?te:Q.contentType==="digit",M=l!=null&&e.isValid(l);let de=M?e.formatByString(l,G):"",ce=null;if(le)if(te)ce=de===""?e.formatByString(E,G).length:de.length;else{if(Q.maxLength==null)throw new Error(`MUI: The token ${G} should have a 'maxDigitNumber' property on it's adapter`);ce=Q.maxLength,M&&(de=YM(e,de,ce))}return b.push(J({},Q,{format:G,maxLength:ce,value:de,placeholder:JZ(e,t,r,Q,G),hasLeadingZeros:te,hasLeadingZerosInFormat:te,hasLeadingZerosInInput:le,startSeparator:b.length===0?_:"",endSeparator:"",modified:!1})),null};let R=10,B=o,F=e.expandFormat(o);for(;F!==B;)if(B=F,F=e.expandFormat(B),R-=1,R<0)throw new Error("MUI: The format expansion seems to be  enter in an infinite loop. Please open an issue with the format passed to the picker component");const L=F,X=QZ(e,L),$=new RegExp(`^(${Object.keys(e.formatTokenMap).join("|")})`);let H="";for(let G=0;G<L.length;G+=1){const Q=X.find(de=>de.start<=G&&de.end>=G),te=L[G],le=Q!=null,M=`${H}${L.slice(G)}`;!le&&te.match(/([A-Za-z]+)/)&&$.test(M)?H+=te:le&&(Q==null?void 0:Q.start)===G||(Q==null?void 0:Q.end)===G||(k(H),H="",b.length===0?_+=te:b[b.length-1].endSeparator+=te)}return k(H),b.map(G=>{const Q=te=>{let le=te;return i&&le!==null&&le.includes(" ")&&(le=`${le}`),u==="spacious"&&["/",".","-"].includes(le)&&(le=` ${le} `),le};return G.startSeparator=Q(G.startSeparator),G.endSeparator=Q(G.endSeparator),G})},bw=(e,t)=>{const r=t.some(i=>i.type==="day"),o=[],l=[];for(let i=0;i<t.length;i+=1){const _=t[i];r&&_.type==="weekDay"||(o.push(_.format),l.push(z5(_,"non-input")))}const u=o.join(" "),f=l.join(" ");return e.parse(f,u)},eX=(e,t)=>{const o=e.map(l=>{const u=z5(l,t?"input-rtl":"input-ltr");return`${l.startSeparator}${u}${l.endSeparator}`}).join("");return t?`${o}`:o},tX=(e,t)=>{const r=e.dateWithTimezone(void 0,t),o=e.endOfYear(r),{maxDaysInMonth:l,longestMonth:u}=D5(e,r).reduce((f,i)=>{const _=e.getDaysInMonth(i);return _>f.maxDaysInMonth?{maxDaysInMonth:_,longestMonth:i}:f},{maxDaysInMonth:0,longestMonth:null});return{year:({format:f})=>({minimum:0,maximum:JM(e,t,f)?9999:99}),month:()=>({minimum:1,maximum:e.getMonth(o)+1}),day:({currentDate:f})=>({minimum:1,maximum:f!=null&&e.isValid(f)?e.getDaysInMonth(f):l,longestMonth:u}),weekDay:({format:f,contentType:i})=>{if(i==="digit"){const _=Tv(e,t,f).map(Number);return{minimum:Math.min(..._),maximum:Math.max(..._)}}return{minimum:1,maximum:7}},hours:({format:f})=>{const i=e.getHours(o);return e.formatByString(e.endOfDay(r),f)!==i.toString()?{minimum:1,maximum:Number(e.formatByString(e.startOfDay(r),f))}:{minimum:0,maximum:i}},minutes:()=>({minimum:0,maximum:e.getMinutes(o)}),seconds:()=>({minimum:0,maximum:e.getSeconds(o)}),meridiem:()=>({minimum:0,maximum:0})}},nX=(e,t,r,o,l)=>{switch(r.type){case"year":return e.setYear(l,e.getYear(o));case"month":return e.setMonth(l,e.getMonth(o));case"weekDay":{const u=Tv(e,t,r.format),f=e.formatByString(o,r.format),i=u.indexOf(f),b=u.indexOf(r.value)-i;return e.addDays(o,b)}case"day":return e.setDate(l,e.getDate(o));case"meridiem":{const u=e.getHours(o)<12,f=e.getHours(l);return u&&f>=12?e.addHours(l,-12):!u&&f<12?e.addHours(l,12):l}case"hours":return e.setHours(l,e.getHours(o));case"minutes":return e.setMinutes(l,e.getMinutes(o));case"seconds":return e.setSeconds(l,e.getSeconds(o));default:return l}},T8={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8},C8=(e,t,r,o,l,u)=>[...o].sort((f,i)=>T8[f.type]-T8[i.type]).reduce((f,i)=>!u||i.modified?nX(e,t,i,r,f):f,l),rX=()=>navigator.userAgent.toLowerCase().indexOf("android")>-1,iX=(e,t,r,o)=>{if(!(r.every(i=>i.type==="weekDay"||i.value!=="")&&r.some(i=>i.type==="day")))return null;const u=r.map(i=>{if(i.type!=="day")return i;const _=o.day({currentDate:null,format:i.format,contentType:i.contentType});return J({},i,{value:R5(e,t,_.minimum,_,i)})}),f=bw(e,u);return f==null||!e.isValid(f)?null:r.map(i=>{if(i.type!=="day")return i;const _=o.day({currentDate:f,format:i.format,contentType:i.contentType});return Number(i.value)<=_.maximum?i:J({},i,{value:_.maximum.toString()})})},oX=(e,t)=>{const r={};if(!t)return e.forEach((_,b)=>{const E=b===0?null:b-1,k=b===e.length-1?null:b+1;r[b]={leftIndex:E,rightIndex:k}}),{neighbors:r,startIndex:0,endIndex:e.length-1};const o={},l={};let u=0,f=0,i=e.length-1;for(;i>=0;){f=e.findIndex((_,b)=>{var E;return b>=u&&((E=_.endSeparator)==null?void 0:E.includes(" "))&&_.endSeparator!==" / "}),f===-1&&(f=e.length-1);for(let _=f;_>=u;_-=1)l[_]=i,o[i]=_,i-=1;u=f+1}return e.forEach((_,b)=>{const E=l[b],k=E===0?null:o[E-1],R=E===e.length-1?null:o[E+1];r[b]={leftIndex:k,rightIndex:R}}),{neighbors:r,startIndex:o[0],endIndex:o[e.length-1]}},sX=["value","referenceDate"],$l={emptyValue:null,getTodayValue:GM,getInitialReferenceValue:e=>{let{value:t,referenceDate:r}=e,o=nn(e,sX);return t!=null&&o.utils.isValid(t)?t:r??XZ(o)},cleanValue:UZ,areValuesEqual:WZ,isSameError:(e,t)=>e===t,hasError:e=>e!=null,defaultErrorState:null,getTimezone:(e,t)=>t==null?null:e.getTimezone(t),setTimezone:(e,t,r)=>r==null?null:e.setTimezone(r,t)},aX={updateReferenceValue:(e,t,r)=>t==null||!e.isValid(t)?r:t,getSectionsFromValue:(e,t,r,o,l)=>!e.isValid(t)&&!!r?r:KM(l(t),o),getValueStrFromSections:eX,getActiveDateManager:(e,t)=>({date:t.value,referenceDate:t.referenceValue,getSections:r=>r,getNewValuesFromNewActiveDate:r=>({value:r,referenceValue:r==null||!e.isValid(r)?t.referenceValue:r})}),parseValueStr:(e,t,r)=>r(e.trim(),t)},lX=e=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:J({},e)}}}}),eI={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"open previous view",openNextView:"open next view",calendarViewSwitchingButtonAriaLabel:e=>e==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(e,t,r)=>`Select ${e}. ${t===null?"No time selected":`Selected time is ${r.format(t,"fullTime")}`}`,hoursClockNumberText:e=>`${e} hours`,minutesClockNumberText:e=>`${e} minutes`,secondsClockNumberText:e=>`${e} seconds`,selectViewText:e=>`Select ${e}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:e=>`Week ${e}`,calendarWeekNumberText:e=>`${e}`,openDatePickerDialogue:(e,t)=>e!==null&&t.isValid(e)?`Choose date, selected date is ${t.format(e,"fullDate")}`:"Choose date",openTimePickerDialogue:(e,t)=>e!==null&&t.isValid(e)?`Choose time, selected time is ${t.format(e,"fullTime")}`:"Choose time",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:e=>"Y".repeat(e.digitAmount),fieldMonthPlaceholder:e=>e.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:e=>e.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa"},cX=eI;lX(eI);const Gh=()=>{const e=U.useContext(vw);if(e===null)throw new Error(["MUI: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(e.utils===null)throw new Error(["MUI: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const t=U.useMemo(()=>J({},cX,e.localeText),[e.localeText]);return U.useMemo(()=>J({},e,{localeText:t}),[e,t])},hi=()=>Gh().utils,n0=()=>Gh().defaultDates,jl=()=>Gh().localeText,qh=e=>{const t=hi(),r=U.useRef();return r.current===void 0&&(r.current=t.dateWithTimezone(void 0,e)),r.current};function tI(e,t,r,o){const{value:l,onError:u}=e,f=Gh(),i=U.useRef(o),_=t({adapter:f,value:l,props:e});return U.useEffect(()=>{u&&!r(_,i.current)&&u(_,l),i.current=_},[r,u,i,_,l]),_}const L5=({timezone:e,value:t,defaultValue:r,onChange:o,valueManager:l})=>{var u,f;const i=hi(),_=U.useRef(r),b=(u=t??_.current)!=null?u:l.emptyValue,E=U.useMemo(()=>l.getTimezone(i,b),[i,l,b]),k=Fn(L=>E==null?L:l.setTimezone(i,E,L)),R=(f=e??E)!=null?f:"default",B=U.useMemo(()=>l.setTimezone(i,R,b),[l,i,R,b]),F=Fn((L,...X)=>{const $=k(L);o==null||o($,...X)});return{value:B,handleValueChange:F,timezone:R}},r0=({name:e,timezone:t,value:r,defaultValue:o,onChange:l,valueManager:u})=>{const[f,i]=Js({name:e,state:"value",controlled:r,default:o??u.emptyValue}),_=Fn((b,...E)=>{i(b),l==null||l(b,...E)});return L5({timezone:t,value:f,defaultValue:void 0,onChange:_,valueManager:u})},uX=e=>{const t=hi(),r=jl(),o=Gh(),u=cl().direction==="rtl",{valueManager:f,fieldValueManager:i,valueType:_,validator:b,internalProps:E,internalProps:{value:k,defaultValue:R,referenceDate:B,onChange:F,format:L,formatDensity:X="dense",selectedSections:$,onSelectedSectionsChange:H,shouldRespectLeadingZeros:G=!1,timezone:Q}}=e,{timezone:te,value:le,handleValueChange:M}=L5({timezone:Q,value:k,defaultValue:R,onChange:F,valueManager:f}),de=U.useMemo(()=>tX(t,te),[t,te]),ce=U.useCallback((ht,Dt=null)=>i.getSectionsFromValue(t,ht,Dt,u,bt=>S8(t,te,r,L,bt,X,G,u)),[i,L,r,u,G,t,X,te]),xe=U.useMemo(()=>i.getValueStrFromSections(ce(f.emptyValue),u),[i,ce,f.emptyValue,u]),[ke,$e]=U.useState(()=>{const ht=ce(le),Dt={sections:ht,value:le,referenceValue:f.emptyValue,tempValueStrAndroid:null},bt=ZZ(ht),Et=f.getInitialReferenceValue({referenceDate:B,value:le,utils:t,props:E,granularity:bt,timezone:te});return J({},Dt,{referenceValue:Et})}),[_e,we]=Js({controlled:$,default:null,name:"useField",state:"selectedSectionIndexes"}),me=ht=>{we(ht),H==null||H(ht),$e(Dt=>J({},Dt,{selectedSectionQuery:null}))},je=U.useMemo(()=>{if(_e==null)return null;if(_e==="all")return{startIndex:0,endIndex:ke.sections.length-1,shouldSelectBoundarySelectors:!0};if(typeof _e=="number")return{startIndex:_e,endIndex:_e};if(typeof _e=="string"){const ht=ke.sections.findIndex(Dt=>Dt.type===_e);return{startIndex:ht,endIndex:ht}}return _e},[_e,ke.sections]),ze=({value:ht,referenceValue:Dt,sections:bt})=>{$e(Xt=>J({},Xt,{sections:bt,value:ht,referenceValue:Dt,tempValueStrAndroid:null}));const Et={validationError:b({adapter:o,value:ht,props:J({},E,{value:ht,timezone:te})})};M(ht,Et)},Me=(ht,Dt)=>{const bt=[...ke.sections];return bt[ht]=J({},bt[ht],{value:Dt,modified:!0}),KM(bt,u)},Le=()=>{f.areValuesEqual(t,ke.value,f.emptyValue)||ze({value:f.emptyValue,referenceValue:ke.referenceValue,sections:ce(f.emptyValue)})},qe=()=>{if(je==null)return;const ht=ke.sections[je.startIndex];if(ht.value==="")return;const Dt=i.getActiveDateManager(t,ke,ht),Et=Dt.getSections(ke.sections).filter(at=>at.value!=="").length===1,Xt=Me(je.startIndex,""),rn=Et?null:t.date(new Date("")),_t=Dt.getNewValuesFromNewActiveDate(rn);(rn!=null&&!t.isValid(rn))!=(Dt.date!=null&&!t.isValid(Dt.date))?ze(J({},_t,{sections:Xt})):$e(at=>J({},at,_t,{sections:Xt,tempValueStrAndroid:null}))},ct=ht=>{const Dt=(Xt,rn)=>{const _t=t.parse(Xt,L);if(_t==null||!t.isValid(_t))return null;const at=S8(t,te,r,L,_t,X,G,u);return C8(t,te,_t,at,rn,!1)},bt=i.parseValueStr(ht,ke.referenceValue,Dt),Et=i.updateReferenceValue(t,bt,ke.referenceValue);ze({value:bt,referenceValue:Et,sections:ce(bt,ke.sections)})},wt=({activeSection:ht,newSectionValue:Dt,shouldGoToNextSection:bt})=>{bt&&je&&je.startIndex<ke.sections.length-1?me(je.startIndex+1):je&&je.startIndex!==je.endIndex&&me(je.startIndex);const Et=i.getActiveDateManager(t,ke,ht),Xt=Me(je.startIndex,Dt),rn=Et.getSections(Xt);let _t=bw(t,rn),at=!1;if(!t.isValid(_t)){const rt=iX(t,te,rn,de);rt!=null&&(at=!0,_t=bw(t,rt))}let ft,Ft;if(_t!=null&&t.isValid(_t)){const rt=C8(t,te,_t,rn,Et.referenceDate,!0);ft=Et.getNewValuesFromNewActiveDate(rt),Ft=!0}else ft=Et.getNewValuesFromNewActiveDate(_t),Ft=(_t!=null&&!t.isValid(_t))!=(Et.date!=null&&!t.isValid(Et.date));const un=at?ce(ft.value,ke.sections):Xt;return Ft?ze(J({},ft,{sections:un})):$e(rt=>J({},rt,ft,{sections:un,tempValueStrAndroid:null}))},St=ht=>$e(Dt=>J({},Dt,{tempValueStrAndroid:ht}));return U.useEffect(()=>{let ht=!1;f.areValuesEqual(t,ke.value,le)?ht=f.getTimezone(t,ke.value)!==f.getTimezone(t,le):ht=!0,ht&&$e(Dt=>J({},Dt,{value:le,referenceValue:i.updateReferenceValue(t,le,Dt.referenceValue),sections:ce(le)}))},[le]),U.useEffect(()=>{const ht=ce(ke.value);$e(Dt=>J({},Dt,{sections:ht}))},[L,t.locale]),{state:ke,selectedSectionIndexes:je,setSelectedSections:me,clearValue:Le,clearActiveSection:qe,updateSectionValue:wt,updateValueFromValueStr:ct,setTempAndroidValueStr:St,sectionsValueBoundaries:de,placeholder:xe,timezone:te}},dX=5e3,Up=e=>e.saveQuery!=null,hX=({sections:e,updateSectionValue:t,sectionsValueBoundaries:r,setTempAndroidValueStr:o,timezone:l})=>{const u=hi(),[f,i]=U.useState(null),_=Fn(()=>i(null));U.useEffect(()=>{var B;f!=null&&((B=e[f.sectionIndex])==null?void 0:B.type)!==f.sectionType&&_()},[e,f,_]),U.useEffect(()=>{if(f!=null){const B=setTimeout(()=>_(),dX);return()=>{window.clearTimeout(B)}}return()=>{}},[f,_]);const b=({keyPressed:B,sectionIndex:F},L,X)=>{const $=B.toLowerCase(),H=e[F];if(f!=null&&(!X||X(f.value))&&f.sectionIndex===F){const Q=`${f.value}${$}`,te=L(Q,H);if(!Up(te))return i({sectionIndex:F,value:Q,sectionType:H.type}),te}const G=L($,H);return Up(G)&&!G.saveQuery?(_(),null):(i({sectionIndex:F,value:$,sectionType:H.type}),Up(G)?null:G)},E=B=>{const F=($,H,G)=>{const Q=H.filter(te=>te.toLowerCase().startsWith(G));return Q.length===0?{saveQuery:!1}:{sectionValue:Q[0],shouldGoToNextSection:Q.length===1}},L=($,H,G,Q)=>{const te=le=>XM(u,l,H.type,le);if(H.contentType==="letter")return F(H.format,te(H.format),$);if(G&&Q!=null&&ZM(u,G).contentType==="letter"){const le=te(G),M=F(G,le,$);return Up(M)?{saveQuery:!1}:J({},M,{sectionValue:Q(M.sectionValue,le)})}return{saveQuery:!1}};return b(B,($,H)=>{switch(H.type){case"month":{const G=Q=>w8(u,Q,u.formats.month,H.format);return L($,H,u.formats.month,G)}case"weekDay":{const G=(Q,te)=>te.indexOf(Q).toString();return L($,H,u.formats.weekday,G)}case"meridiem":return L($,H);default:return{saveQuery:!1}}})},k=B=>{const F=(X,$)=>{const H=+`${X}`,G=r[$.type]({currentDate:null,format:$.format,contentType:$.contentType});if(H>G.maximum)return{saveQuery:!1};if(H<G.minimum)return{saveQuery:!0};const Q=+`${X}0`>G.maximum||X.length===G.maximum.toString().length;return{sectionValue:R5(u,l,H,G,$),shouldGoToNextSection:Q}};return b(B,(X,$)=>{if($.contentType==="digit"||$.contentType==="digit-with-letter")return F(X,$);if($.type==="month"){const H=QM(u,l,"digit","month","MM"),G=F(X,{type:$.type,format:"MM",hasLeadingZerosInFormat:H,hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if(Up(G))return G;const Q=w8(u,G.sectionValue,"MM",$.format);return J({},G,{sectionValue:Q})}if($.type==="weekDay"){const H=F(X,$);if(Up(H))return H;const G=Tv(u,l,$.format)[Number(H.sectionValue)-1];return J({},H,{sectionValue:G})}return{saveQuery:!1}},X=>!Number.isNaN(Number(X)))};return{applyCharacterEditing:Fn(B=>{const F=e[B.sectionIndex],X=!Number.isNaN(Number(B.keyPressed))?k(B):E(B);X==null?o(null):t({activeSection:F,newSectionValue:X.sectionValue,shouldGoToNextSection:X.shouldGoToNextSection})}),resetCharacterQuery:_}};function pX(e,t){return Array.isArray(t)?t.every(r=>e.indexOf(r)!==-1):e.indexOf(t)!==-1}const fX=(e,t)=>r=>{(r.key==="Enter"||r.key===" ")&&(e(r),r.preventDefault(),r.stopPropagation()),t&&t(r)},H_=(e=document)=>{const t=e.activeElement;return t?t.shadowRoot?H_(t.shadowRoot):t:null},mX="@media (pointer: fine)",gX=["onClick","onKeyDown","onFocus","onBlur","onMouseUp","onPaste","error"],yX=e=>{const t=hi(),{state:r,selectedSectionIndexes:o,setSelectedSections:l,clearValue:u,clearActiveSection:f,updateSectionValue:i,updateValueFromValueStr:_,setTempAndroidValueStr:b,sectionsValueBoundaries:E,placeholder:k,timezone:R}=uX(e),{inputRef:B,internalProps:F,internalProps:{readOnly:L=!1,unstableFieldRef:X,minutesStep:$},forwardedProps:{onClick:H,onKeyDown:G,onFocus:Q,onBlur:te,onMouseUp:le,onPaste:M,error:de},fieldValueManager:ce,valueManager:xe,validator:ke}=e,$e=nn(e.forwardedProps,gX),{applyCharacterEditing:_e,resetCharacterQuery:we}=hX({sections:r.sections,updateSectionValue:i,sectionsValueBoundaries:E,setTempAndroidValueStr:b,timezone:R}),me=U.useRef(null),je=mi(B,me),ze=U.useRef(void 0),Le=cl().direction==="rtl",qe=U.useMemo(()=>oX(r.sections,Le),[r.sections,Le]),ct=()=>{var rt;if(L){l(null);return}const an=(rt=me.current.selectionStart)!=null?rt:0;let Tt;an<=r.sections[0].startInInput||an>=r.sections[r.sections.length-1].endInInput?Tt=1:Tt=r.sections.findIndex(ln=>ln.startInInput-ln.startSeparator.length>an);const on=Tt===-1?r.sections.length-1:Tt-1;l(on)},wt=Fn((...rt)=>{H==null||H(...rt),ct()}),St=Fn(rt=>{le==null||le(rt),rt.preventDefault()}),ht=Fn((...rt)=>{Q==null||Q(...rt);const an=me.current;window.clearTimeout(ze.current),ze.current=setTimeout(()=>{!an||an!==me.current||o!=null||L||(an.value.length&&Number(an.selectionEnd)-Number(an.selectionStart)===an.value.length?l("all"):ct())})}),Dt=Fn((...rt)=>{te==null||te(...rt),l(null)}),bt=Fn(rt=>{if(M==null||M(rt),L){rt.preventDefault();return}const an=rt.clipboardData.getData("text");if(o&&o.startIndex===o.endIndex){const Tt=r.sections[o.startIndex],on=/^[a-zA-Z]+$/.test(an),ln=/^[0-9]+$/.test(an),sn=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(an);if(Tt.contentType==="letter"&&on||Tt.contentType==="digit"&&ln||Tt.contentType==="digit-with-letter"&&sn)return;if(on||ln){rt.preventDefault();return}}rt.preventDefault(),we(),_(an)}),Et=Fn(rt=>{if(L)return;const an=rt.target.value,Tt=af(an);if(o==null){_(Tt);return}let on;if(o.startIndex===0&&o.endIndex===r.sections.length-1&&Tt.length===1)on=Tt;else{const ln=af(ce.getValueStrFromSections(r.sections,Le));let sn=-1,Qt=-1;for(let $t=0;$t<ln.length;$t+=1)sn===-1&&ln[$t]!==Tt[$t]&&(sn=$t),Qt===-1&&ln[ln.length-$t-1]!==Tt[Tt.length-$t-1]&&(Qt=$t);const Tn=r.sections[o.startIndex];if(sn<Tn.start||ln.length-Qt-1>Tn.end)return;const hr=Tt.length-ln.length+Tn.end-af(Tn.endSeparator||"").length;on=Tt.slice(Tn.start+af(Tn.startSeparator||"").length,hr)}if(rX()&&on.length===0){b(an);return}_e({keyPressed:on,sectionIndex:o.startIndex})}),Xt=Fn(rt=>{switch(G==null||G(rt),!0){case(rt.key==="a"&&(rt.ctrlKey||rt.metaKey)):{rt.preventDefault(),l("all");break}case rt.key==="ArrowRight":{if(rt.preventDefault(),o==null)l(qe.startIndex);else if(o.startIndex!==o.endIndex)l(o.endIndex);else{const an=qe.neighbors[o.startIndex].rightIndex;an!==null&&l(an)}break}case rt.key==="ArrowLeft":{if(rt.preventDefault(),o==null)l(qe.endIndex);else if(o.startIndex!==o.endIndex)l(o.startIndex);else{const an=qe.neighbors[o.startIndex].leftIndex;an!==null&&l(an)}break}case["Backspace","Delete"].includes(rt.key):{if(rt.preventDefault(),L)break;o==null||o.startIndex===0&&o.endIndex===r.sections.length-1?u():f(),we();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(rt.key):{if(rt.preventDefault(),L||o==null)break;const an=r.sections[o.startIndex],Tt=ce.getActiveDateManager(t,r,an),on=KZ(t,R,an,rt.key,E,Tt.date,{minutesStep:$});i({activeSection:an,newSectionValue:on,shouldGoToNextSection:!1});break}}});wo(()=>{if(!me.current)return;if(o==null){me.current.scrollLeft&&(me.current.scrollLeft=0);return}const rt=r.sections[o.startIndex],an=r.sections[o.endIndex];let Tt=rt.startInInput,on=an.endInInput;if(o.shouldSelectBoundarySelectors&&(Tt-=rt.startSeparator.length,on+=an.endSeparator.length),Tt!==me.current.selectionStart||on!==me.current.selectionEnd){const ln=me.current.scrollTop;me.current===H_(document)&&me.current.setSelectionRange(Tt,on),me.current.scrollTop=ln}});const rn=tI(J({},F,{value:r.value,timezone:R}),ke,xe.isSameError,xe.defaultErrorState),_t=U.useMemo(()=>de!==void 0?de:xe.hasError(rn),[xe,rn,de]);U.useEffect(()=>{!_t&&!o&&we()},[r.referenceValue,o,_t]),U.useEffect(()=>(me.current&&me.current===document.activeElement&&l("all"),()=>window.clearTimeout(ze.current)),[]),U.useEffect(()=>{r.tempValueStrAndroid!=null&&o!=null&&(we(),f())},[r.tempValueStrAndroid]);const at=U.useMemo(()=>{var rt;return(rt=r.tempValueStrAndroid)!=null?rt:ce.getValueStrFromSections(r.sections,Le)},[r.sections,ce,r.tempValueStrAndroid,Le]),ft=U.useMemo(()=>o==null||r.sections[o.startIndex].contentType==="letter"?"text":"tel",[o,r.sections]),un=!(me.current&&me.current===H_(document))&&xe.areValuesEqual(t,r.value,xe.emptyValue);return U.useImperativeHandle(X,()=>({getSections:()=>r.sections,getActiveSectionIndex:()=>{var rt,an;const Tt=(rt=me.current.selectionStart)!=null?rt:0,on=(an=me.current.selectionEnd)!=null?an:0;if(Tt===0&&on===0)return null;const ln=Tt<=r.sections[0].startInInput?1:r.sections.findIndex(sn=>sn.startInInput-sn.startSeparator.length>Tt);return ln===-1?r.sections.length-1:ln-1},setSelectedSections:rt=>l(rt)})),J({placeholder:k,autoComplete:"off"},$e,{value:un?"":at,inputMode:ft,readOnly:L,onClick:wt,onFocus:ht,onBlur:Dt,onPaste:bt,onChange:Et,onKeyDown:Xt,onMouseUp:St,error:_t,ref:je})},nI=({props:e,value:t,adapter:r})=>{if(t===null)return null;const{shouldDisableDate:o,shouldDisableMonth:l,shouldDisableYear:u,disablePast:f,disableFuture:i,timezone:_}=e,b=r.utils.dateWithTimezone(void 0,_),E=al(r.utils,e.minDate,r.defaultDates.minDate),k=al(r.utils,e.maxDate,r.defaultDates.maxDate);switch(!0){case!r.utils.isValid(t):return"invalidDate";case!!(o&&o(t)):return"shouldDisableDate";case!!(l&&l(t)):return"shouldDisableMonth";case!!(u&&u(t)):return"shouldDisableYear";case!!(i&&r.utils.isAfterDay(t,b)):return"disableFuture";case!!(f&&r.utils.isBeforeDay(t,b)):return"disablePast";case!!(E&&r.utils.isBeforeDay(t,E)):return"minDate";case!!(k&&r.utils.isAfterDay(t,k)):return"maxDate";default:return null}},_X=({adapter:e,value:t,props:r})=>{if(t===null)return null;const{minTime:o,maxTime:l,minutesStep:u,shouldDisableClock:f,shouldDisableTime:i,disableIgnoringDatePartForTimeValidation:_=!1,disablePast:b,disableFuture:E,timezone:k}=r,R=e.utils.dateWithTimezone(void 0,k),B=Sv(_,e.utils);switch(!0){case!e.utils.isValid(t):return"invalidDate";case!!(o&&B(o,t)):return"minTime";case!!(l&&B(t,l)):return"maxTime";case!!(E&&e.utils.isAfter(t,R)):return"disableFuture";case!!(b&&e.utils.isBefore(t,R)):return"disablePast";case!!(i&&i(t,"hours")):return"shouldDisableTime-hours";case!!(i&&i(t,"minutes")):return"shouldDisableTime-minutes";case!!(i&&i(t,"seconds")):return"shouldDisableTime-seconds";case!!(f&&f(e.utils.getHours(t),"hours")):return"shouldDisableClock-hours";case!!(f&&f(e.utils.getMinutes(t),"minutes")):return"shouldDisableClock-minutes";case!!(f&&f(e.utils.getSeconds(t),"seconds")):return"shouldDisableClock-seconds";case!!(u&&e.utils.getMinutes(t)%u!==0):return"minutesStep";default:return null}},O5=({props:e,value:t,adapter:r})=>{const o=nI({adapter:r,value:t,props:e});return o!==null?o:_X({adapter:r,value:t,props:e})},ww=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],Sw=["disablePast","disableFuture","minTime","maxTime","shouldDisableClock","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],rI=["minDateTime","maxDateTime"],vX=[...ww,...Sw,...rI],iI=e=>vX.reduce((t,r)=>(e.hasOwnProperty(r)&&(t[r]=e[r]),t),{}),xX=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","readOnly","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef"],bX=(e,t)=>{const r=J({},e),o={},l=u=>{r.hasOwnProperty(u)&&(o[u]=r[u],delete r[u])};return xX.forEach(l),t==="date"?ww.forEach(l):t==="time"?Sw.forEach(l):t==="date-time"&&(ww.forEach(l),Sw.forEach(l),rI.forEach(l)),{forwardedProps:r,internalProps:o}},wX=e=>{var t,r,o,l,u,f,i,_;const b=hi(),E=n0(),R=((t=e.ampm)!=null?t:b.is12HourCycleInCurrentLocale())?b.formats.keyboardDateTime12h:b.formats.keyboardDateTime24h;return J({},e,{disablePast:(r=e.disablePast)!=null?r:!1,disableFuture:(o=e.disableFuture)!=null?o:!1,format:(l=e.format)!=null?l:R,disableIgnoringDatePartForTimeValidation:!!(e.minDateTime||e.maxDateTime),minDate:al(b,(u=e.minDateTime)!=null?u:e.minDate,E.minDate),maxDate:al(b,(f=e.maxDateTime)!=null?f:e.maxDate,E.maxDate),minTime:(i=e.minDateTime)!=null?i:e.minTime,maxTime:(_=e.maxDateTime)!=null?_:e.maxTime})},SX=({props:e,inputRef:t})=>{const r=wX(e),{forwardedProps:o,internalProps:l}=bX(r,"date-time");return yX({inputRef:t,forwardedProps:o,internalProps:l,valueManager:$l,fieldValueManager:aX,validator:O5,valueType:"date-time"})},TX=["components","componentsProps","slots","slotProps","InputProps","inputProps"],CX=["inputRef"],EX=["ref","onPaste","inputMode","readOnly"],oI=U.forwardRef(function(t,r){var o,l,u;const f=Nn({props:t,name:"MuiDateTimeField"}),{components:i,componentsProps:_,slots:b,slotProps:E,InputProps:k,inputProps:R}=f,B=nn(f,TX),F=f,L=(o=(l=b==null?void 0:b.textField)!=null?l:i==null?void 0:i.TextField)!=null?o:BM,X=Ri({elementType:L,externalSlotProps:(u=E==null?void 0:E.textField)!=null?u:_==null?void 0:_.textField,externalForwardedProps:B,ownerState:F}),{inputRef:$}=X,H=nn(X,CX);H.inputProps=J({},H.inputProps,R),H.InputProps=J({},H.InputProps,k);const G=SX({props:H,inputRef:$}),{ref:Q,onPaste:te,inputMode:le,readOnly:M}=G,de=nn(G,EX);return V.jsx(L,J({ref:r},de,{InputProps:J({},de.InputProps,{readOnly:M}),inputProps:J({},de.inputProps,{inputMode:le,onPaste:te,ref:Q})}))});function PX(e){const{className:t,classes:r,pulsate:o=!1,rippleX:l,rippleY:u,rippleSize:f,in:i,onExited:_,timeout:b}=e,[E,k]=U.useState(!1),R=mn(t,r.ripple,r.rippleVisible,o&&r.ripplePulsate),B={width:f,height:f,top:-(f/2)+u,left:-(f/2)+l},F=mn(r.child,E&&r.childLeaving,o&&r.childPulsate);return!i&&!E&&k(!0),U.useEffect(()=>{if(!i&&_!=null){const L=setTimeout(_,b);return()=>{clearTimeout(L)}}},[_,i,b]),V.jsx("span",{className:R,style:B,children:V.jsx("span",{className:F})})}const kX=jn("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Ha=kX,MX=["center","classes","className"];let Cv=e=>e,E8,P8,k8,M8;const Tw=550,IX=80,AX=j2(E8||(E8=Cv`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),DX=j2(P8||(P8=Cv`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),RX=j2(k8||(k8=Cv`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),zX=It("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),LX=It(PX,{name:"MuiTouchRipple",slot:"Ripple"})(M8||(M8=Cv`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Ha.rippleVisible,AX,Tw,({theme:e})=>e.transitions.easing.easeInOut,Ha.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,Ha.child,Ha.childLeaving,DX,Tw,({theme:e})=>e.transitions.easing.easeInOut,Ha.childPulsate,RX,({theme:e})=>e.transitions.easing.easeInOut),OX=U.forwardRef(function(t,r){const o=Nn({props:t,name:"MuiTouchRipple"}),{center:l=!1,classes:u={},className:f}=o,i=nn(o,MX),[_,b]=U.useState([]),E=U.useRef(0),k=U.useRef(null);U.useEffect(()=>{k.current&&(k.current(),k.current=null)},[_]);const R=U.useRef(!1),B=U.useRef(0),F=U.useRef(null),L=U.useRef(null);U.useEffect(()=>()=>{B.current&&clearTimeout(B.current)},[]);const X=U.useCallback(Q=>{const{pulsate:te,rippleX:le,rippleY:M,rippleSize:de,cb:ce}=Q;b(xe=>[...xe,V.jsx(LX,{classes:{ripple:mn(u.ripple,Ha.ripple),rippleVisible:mn(u.rippleVisible,Ha.rippleVisible),ripplePulsate:mn(u.ripplePulsate,Ha.ripplePulsate),child:mn(u.child,Ha.child),childLeaving:mn(u.childLeaving,Ha.childLeaving),childPulsate:mn(u.childPulsate,Ha.childPulsate)},timeout:Tw,pulsate:te,rippleX:le,rippleY:M,rippleSize:de},E.current)]),E.current+=1,k.current=ce},[u]),$=U.useCallback((Q={},te={},le=()=>{})=>{const{pulsate:M=!1,center:de=l||te.pulsate,fakeElement:ce=!1}=te;if((Q==null?void 0:Q.type)==="mousedown"&&R.current){R.current=!1;return}(Q==null?void 0:Q.type)==="touchstart"&&(R.current=!0);const xe=ce?null:L.current,ke=xe?xe.getBoundingClientRect():{width:0,height:0,left:0,top:0};let $e,_e,we;if(de||Q===void 0||Q.clientX===0&&Q.clientY===0||!Q.clientX&&!Q.touches)$e=Math.round(ke.width/2),_e=Math.round(ke.height/2);else{const{clientX:me,clientY:je}=Q.touches&&Q.touches.length>0?Q.touches[0]:Q;$e=Math.round(me-ke.left),_e=Math.round(je-ke.top)}if(de)we=Math.sqrt((2*ke.width**2+ke.height**2)/3),we%2===0&&(we+=1);else{const me=Math.max(Math.abs((xe?xe.clientWidth:0)-$e),$e)*2+2,je=Math.max(Math.abs((xe?xe.clientHeight:0)-_e),_e)*2+2;we=Math.sqrt(me**2+je**2)}Q!=null&&Q.touches?F.current===null&&(F.current=()=>{X({pulsate:M,rippleX:$e,rippleY:_e,rippleSize:we,cb:le})},B.current=setTimeout(()=>{F.current&&(F.current(),F.current=null)},IX)):X({pulsate:M,rippleX:$e,rippleY:_e,rippleSize:we,cb:le})},[l,X]),H=U.useCallback(()=>{$({},{pulsate:!0})},[$]),G=U.useCallback((Q,te)=>{if(clearTimeout(B.current),(Q==null?void 0:Q.type)==="touchend"&&F.current){F.current(),F.current=null,B.current=setTimeout(()=>{G(Q,te)});return}F.current=null,b(le=>le.length>0?le.slice(1):le),k.current=te},[]);return U.useImperativeHandle(r,()=>({pulsate:H,start:$,stop:G}),[H,$,G]),V.jsx(zX,J({className:mn(Ha.root,u.root,f),ref:L},i,{children:V.jsx(k5,{component:null,exit:!0,children:_})}))}),FX=OX;function BX(e){return qn("MuiButtonBase",e)}const NX=jn("MuiButtonBase",["root","disabled","focusVisible"]),$X=NX,jX=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],VX=e=>{const{disabled:t,focusVisible:r,focusVisibleClassName:o,classes:l}=e,f=Hn({root:["root",t&&"disabled",r&&"focusVisible"]},BX,l);return r&&o&&(f.root+=` ${o}`),f},UX=It("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${$X.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),WX=U.forwardRef(function(t,r){const o=Nn({props:t,name:"MuiButtonBase"}),{action:l,centerRipple:u=!1,children:f,className:i,component:_="button",disabled:b=!1,disableRipple:E=!1,disableTouchRipple:k=!1,focusRipple:R=!1,LinkComponent:B="a",onBlur:F,onClick:L,onContextMenu:X,onDragLeave:$,onFocus:H,onFocusVisible:G,onKeyDown:Q,onKeyUp:te,onMouseDown:le,onMouseLeave:M,onMouseUp:de,onTouchEnd:ce,onTouchMove:xe,onTouchStart:ke,tabIndex:$e=0,TouchRippleProps:_e,touchRippleRef:we,type:me}=o,je=nn(o,jX),ze=U.useRef(null),Me=U.useRef(null),Le=mi(Me,we),{isFocusVisibleRef:qe,onFocus:ct,onBlur:wt,ref:St}=ok(),[ht,Dt]=U.useState(!1);b&&ht&&Dt(!1),U.useImperativeHandle(l,()=>({focusVisible:()=>{Dt(!0),ze.current.focus()}}),[]);const[bt,Et]=U.useState(!1);U.useEffect(()=>{Et(!0)},[]);const Xt=bt&&!E&&!b;U.useEffect(()=>{ht&&R&&!E&&bt&&Me.current.pulsate()},[E,R,ht,bt]);function rn(Pn,In,er=k){return Fn(dn=>(In&&In(dn),!er&&Me.current&&Me.current[Pn](dn),!0))}const _t=rn("start",le),at=rn("stop",X),ft=rn("stop",$),Ft=rn("stop",de),un=rn("stop",Pn=>{ht&&Pn.preventDefault(),M&&M(Pn)}),rt=rn("start",ke),an=rn("stop",ce),Tt=rn("stop",xe),on=rn("stop",Pn=>{wt(Pn),qe.current===!1&&Dt(!1),F&&F(Pn)},!1),ln=Fn(Pn=>{ze.current||(ze.current=Pn.currentTarget),ct(Pn),qe.current===!0&&(Dt(!0),G&&G(Pn)),H&&H(Pn)}),sn=()=>{const Pn=ze.current;return _&&_!=="button"&&!(Pn.tagName==="A"&&Pn.href)},Qt=U.useRef(!1),Tn=Fn(Pn=>{R&&!Qt.current&&ht&&Me.current&&Pn.key===" "&&(Qt.current=!0,Me.current.stop(Pn,()=>{Me.current.start(Pn)})),Pn.target===Pn.currentTarget&&sn()&&Pn.key===" "&&Pn.preventDefault(),Q&&Q(Pn),Pn.target===Pn.currentTarget&&sn()&&Pn.key==="Enter"&&!b&&(Pn.preventDefault(),L&&L(Pn))}),Zn=Fn(Pn=>{R&&Pn.key===" "&&Me.current&&ht&&!Pn.defaultPrevented&&(Qt.current=!1,Me.current.stop(Pn,()=>{Me.current.pulsate(Pn)})),te&&te(Pn),L&&Pn.target===Pn.currentTarget&&sn()&&Pn.key===" "&&!Pn.defaultPrevented&&L(Pn)});let hr=_;hr==="button"&&(je.href||je.to)&&(hr=B);const $t={};hr==="button"?($t.type=me===void 0?"button":me,$t.disabled=b):(!je.href&&!je.to&&($t.role="button"),b&&($t["aria-disabled"]=b));const Dn=mi(r,St,ze),Wn=J({},o,{centerRipple:u,component:_,disabled:b,disableRipple:E,disableTouchRipple:k,focusRipple:R,tabIndex:$e,focusVisible:ht}),Cn=VX(Wn);return V.jsxs(UX,J({as:hr,className:mn(Cn.root,i),ownerState:Wn,onBlur:on,onClick:L,onContextMenu:at,onFocus:ln,onKeyDown:Tn,onKeyUp:Zn,onMouseDown:_t,onMouseLeave:un,onMouseUp:Ft,onDragLeave:ft,onTouchEnd:an,onTouchMove:Tt,onTouchStart:rt,ref:Dn,tabIndex:b?-1:$e,type:me},$t,je,{children:[f,Xt?V.jsx(FX,J({ref:Le,center:u},_e)):null]}))}),vu=WX;function HX(e){return qn("MuiTab",e)}const GX=jn("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),ah=GX,qX=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],ZX=e=>{const{classes:t,textColor:r,fullWidth:o,wrapped:l,icon:u,label:f,selected:i,disabled:_}=e,b={root:["root",u&&f&&"labelIcon",`textColor${wn(r)}`,o&&"fullWidth",l&&"wrapped",i&&"selected",_&&"disabled"],iconWrapper:["iconWrapper"]};return Hn(b,HX,t)},XX=It(vu,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.label&&r.icon&&t.labelIcon,t[`textColor${wn(r.textColor)}`],r.fullWidth&&t.fullWidth,r.wrapped&&t.wrapped]}})(({theme:e,ownerState:t})=>J({},e.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},t.label&&{flexDirection:t.iconPosition==="top"||t.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},t.icon&&t.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${ah.iconWrapper}`]:J({},t.iconPosition==="top"&&{marginBottom:6},t.iconPosition==="bottom"&&{marginTop:6},t.iconPosition==="start"&&{marginRight:e.spacing(1)},t.iconPosition==="end"&&{marginLeft:e.spacing(1)})},t.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${ah.selected}`]:{opacity:1},[`&.${ah.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.textColor==="primary"&&{color:(e.vars||e).palette.text.secondary,[`&.${ah.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${ah.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.textColor==="secondary"&&{color:(e.vars||e).palette.text.secondary,[`&.${ah.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${ah.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},t.wrapped&&{fontSize:e.typography.pxToRem(12)})),YX=U.forwardRef(function(t,r){const o=Nn({props:t,name:"MuiTab"}),{className:l,disabled:u=!1,disableFocusRipple:f=!1,fullWidth:i,icon:_,iconPosition:b="top",indicator:E,label:k,onChange:R,onClick:B,onFocus:F,selected:L,selectionFollowsFocus:X,textColor:$="inherit",value:H,wrapped:G=!1}=o,Q=nn(o,qX),te=J({},o,{disabled:u,disableFocusRipple:f,selected:L,icon:!!_,iconPosition:b,label:!!k,fullWidth:i,textColor:$,wrapped:G}),le=ZX(te),M=_&&k&&U.isValidElement(_)?U.cloneElement(_,{className:mn(le.iconWrapper,_.props.className)}):_,de=xe=>{!L&&R&&R(xe,H),B&&B(xe)},ce=xe=>{X&&!L&&R&&R(xe,H),F&&F(xe)};return V.jsxs(XX,J({focusRipple:!f,className:mn(le.root,l),ref:r,role:"tab","aria-selected":L,disabled:u,onClick:de,onFocus:ce,ownerState:te,tabIndex:L?0:-1},Q,{children:[b==="top"||b==="start"?V.jsxs(U.Fragment,{children:[M,k]}):V.jsxs(U.Fragment,{children:[k,M]}),E]}))}),I8=YX;function KX(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function JX(e,t,r,o={},l=()=>{}){const{ease:u=KX,duration:f=300}=o;let i=null;const _=t[e];let b=!1;const E=()=>{b=!0},k=R=>{if(b){l(new Error("Animation cancelled"));return}i===null&&(i=R);const B=Math.min(1,(R-i)/f);if(t[e]=u(B)*(r-_)+_,B>=1){requestAnimationFrame(()=>{l(null)});return}requestAnimationFrame(k)};return _===r?(l(new Error("Element already at target position")),E):(requestAnimationFrame(k),E)}const QX={configure:e=>{U4.configure(e)}},eY=Object.freeze(Object.defineProperty({__proto__:null,capitalize:wn,createChainedFunction:iw,createSvgIcon:Da,debounce:Mf,deprecatedPropType:kB,isMuiElement:Um,ownerDocument:bo,ownerWindow:Pc,requirePropFactory:MB,setRef:Sg,unstable_ClassNameGenerator:QX,unstable_useEnhancedEffect:wo,unstable_useId:Ed,unsupportedProp:DB,useControlled:Js,useEventCallback:Fn,useForkRef:mi,useIsFocusVisible:ok},Symbol.toStringTag,{value:"Module"})),tY=["onChange"],nY={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function rY(e){const{onChange:t}=e,r=nn(e,tY),o=U.useRef(),l=U.useRef(null),u=()=>{o.current=l.current.offsetHeight-l.current.clientHeight};return wo(()=>{const f=Mf(()=>{const _=o.current;u(),_!==o.current&&t(o.current)}),i=Pc(l.current);return i.addEventListener("resize",f),()=>{f.clear(),i.removeEventListener("resize",f)}},[t]),U.useEffect(()=>{u(),t(o.current)},[t]),V.jsx("div",J({style:nY,ref:l},r))}const iY=Da(V.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),oY=Da(V.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function sY(e){return qn("MuiTabScrollButton",e)}const aY=jn("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),lY=aY,cY=["className","slots","slotProps","direction","orientation","disabled"],uY=e=>{const{classes:t,orientation:r,disabled:o}=e;return Hn({root:["root",r,o&&"disabled"]},sY,t)},dY=It(vu,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.orientation&&t[r.orientation]]}})(({ownerState:e})=>J({width:40,flexShrink:0,opacity:.8,[`&.${lY.disabled}`]:{opacity:0}},e.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${e.isRtl?-90:90}deg)`}})),hY=U.forwardRef(function(t,r){var o,l;const u=Nn({props:t,name:"MuiTabScrollButton"}),{className:f,slots:i={},slotProps:_={},direction:b}=u,E=nn(u,cY),R=cl().direction==="rtl",B=J({isRtl:R},u),F=uY(B),L=(o=i.StartScrollButtonIcon)!=null?o:iY,X=(l=i.EndScrollButtonIcon)!=null?l:oY,$=Ri({elementType:L,externalSlotProps:_.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:B}),H=Ri({elementType:X,externalSlotProps:_.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:B});return V.jsx(dY,J({component:"div",className:mn(F.root,f),ref:r,role:null,ownerState:B,tabIndex:null},E,{children:b==="left"?V.jsx(L,J({},$)):V.jsx(X,J({},H))}))}),pY=hY;function fY(e){return qn("MuiTabs",e)}const mY=jn("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),a_=mY,gY=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],A8=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,D8=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,Iy=(e,t,r)=>{let o=!1,l=r(e,t);for(;l;){if(l===e.firstChild){if(o)return;o=!0}const u=l.disabled||l.getAttribute("aria-disabled")==="true";if(!l.hasAttribute("tabindex")||u)l=r(e,l);else{l.focus();return}}},yY=e=>{const{vertical:t,fixed:r,hideScrollbar:o,scrollableX:l,scrollableY:u,centered:f,scrollButtonsHideMobile:i,classes:_}=e;return Hn({root:["root",t&&"vertical"],scroller:["scroller",r&&"fixed",o&&"hideScrollbar",l&&"scrollableX",u&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",f&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",i&&"scrollButtonsHideMobile"],scrollableX:[l&&"scrollableX"],hideScrollbar:[o&&"hideScrollbar"]},fY,_)},_Y=It("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${a_.scrollButtons}`]:t.scrollButtons},{[`& .${a_.scrollButtons}`]:r.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,r.vertical&&t.vertical]}})(({ownerState:e,theme:t})=>J({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},e.vertical&&{flexDirection:"column"},e.scrollButtonsHideMobile&&{[`& .${a_.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}})),vY=It("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.scroller,r.fixed&&t.fixed,r.hideScrollbar&&t.hideScrollbar,r.scrollableX&&t.scrollableX,r.scrollableY&&t.scrollableY]}})(({ownerState:e})=>J({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},e.fixed&&{overflowX:"hidden",width:"100%"},e.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},e.scrollableX&&{overflowX:"auto",overflowY:"hidden"},e.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),xY=It("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.flexContainer,r.vertical&&t.flexContainerVertical,r.centered&&t.centered]}})(({ownerState:e})=>J({display:"flex"},e.vertical&&{flexDirection:"column"},e.centered&&{justifyContent:"center"})),bY=It("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})(({ownerState:e,theme:t})=>J({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create()},e.indicatorColor==="primary"&&{backgroundColor:(t.vars||t).palette.primary.main},e.indicatorColor==="secondary"&&{backgroundColor:(t.vars||t).palette.secondary.main},e.vertical&&{height:"100%",width:2,right:0})),wY=It(rY,{name:"MuiTabs",slot:"ScrollbarSize"})({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),R8={},SY=U.forwardRef(function(t,r){const o=Nn({props:t,name:"MuiTabs"}),l=cl(),u=l.direction==="rtl",{"aria-label":f,"aria-labelledby":i,action:_,centered:b=!1,children:E,className:k,component:R="div",allowScrollButtonsMobile:B=!1,indicatorColor:F="primary",onChange:L,orientation:X="horizontal",ScrollButtonComponent:$=pY,scrollButtons:H="auto",selectionFollowsFocus:G,slots:Q={},slotProps:te={},TabIndicatorProps:le={},TabScrollButtonProps:M={},textColor:de="primary",value:ce,variant:xe="standard",visibleScrollbar:ke=!1}=o,$e=nn(o,gY),_e=xe==="scrollable",we=X==="vertical",me=we?"scrollTop":"scrollLeft",je=we?"top":"left",ze=we?"bottom":"right",Me=we?"clientHeight":"clientWidth",Le=we?"height":"width",qe=J({},o,{component:R,allowScrollButtonsMobile:B,indicatorColor:F,orientation:X,vertical:we,scrollButtons:H,textColor:de,variant:xe,visibleScrollbar:ke,fixed:!_e,hideScrollbar:_e&&!ke,scrollableX:_e&&!we,scrollableY:_e&&we,centered:b&&!_e,scrollButtonsHideMobile:!B}),ct=yY(qe),wt=Ri({elementType:Q.StartScrollButtonIcon,externalSlotProps:te.startScrollButtonIcon,ownerState:qe}),St=Ri({elementType:Q.EndScrollButtonIcon,externalSlotProps:te.endScrollButtonIcon,ownerState:qe}),[ht,Dt]=U.useState(!1),[bt,Et]=U.useState(R8),[Xt,rn]=U.useState({start:!1,end:!1}),[_t,at]=U.useState({overflow:"hidden",scrollbarWidth:0}),ft=new Map,Ft=U.useRef(null),un=U.useRef(null),rt=()=>{const dn=Ft.current;let yn;if(dn){const Qn=dn.getBoundingClientRect();yn={clientWidth:dn.clientWidth,scrollLeft:dn.scrollLeft,scrollTop:dn.scrollTop,scrollLeftNormalized:uC(dn,l.direction),scrollWidth:dn.scrollWidth,top:Qn.top,bottom:Qn.bottom,left:Qn.left,right:Qn.right}}let zn;if(dn&&ce!==!1){const Qn=un.current.children;if(Qn.length>0){const Cr=Qn[ft.get(ce)];zn=Cr?Cr.getBoundingClientRect():null}}return{tabsMeta:yn,tabMeta:zn}},an=Fn(()=>{const{tabsMeta:dn,tabMeta:yn}=rt();let zn=0,Qn;if(we)Qn="top",yn&&dn&&(zn=yn.top-dn.top+dn.scrollTop);else if(Qn=u?"right":"left",yn&&dn){const Ur=u?dn.scrollLeftNormalized+dn.clientWidth-dn.scrollWidth:dn.scrollLeft;zn=(u?-1:1)*(yn[Qn]-dn[Qn]+Ur)}const Cr={[Qn]:zn,[Le]:yn?yn[Le]:0};if(isNaN(bt[Qn])||isNaN(bt[Le]))Et(Cr);else{const Ur=Math.abs(bt[Qn]-Cr[Qn]),yi=Math.abs(bt[Le]-Cr[Le]);(Ur>=1||yi>=1)&&Et(Cr)}}),Tt=(dn,{animation:yn=!0}={})=>{yn?JX(me,Ft.current,dn,{duration:l.transitions.duration.standard}):Ft.current[me]=dn},on=dn=>{let yn=Ft.current[me];we?yn+=dn:(yn+=dn*(u?-1:1),yn*=u&&ak()==="reverse"?-1:1),Tt(yn)},ln=()=>{const dn=Ft.current[Me];let yn=0;const zn=Array.from(un.current.children);for(let Qn=0;Qn<zn.length;Qn+=1){const Cr=zn[Qn];if(yn+Cr[Me]>dn){Qn===0&&(yn=dn);break}yn+=Cr[Me]}return yn},sn=()=>{on(-1*ln())},Qt=()=>{on(ln())},Tn=U.useCallback(dn=>{at({overflow:null,scrollbarWidth:dn})},[]),Zn=()=>{const dn={};dn.scrollbarSizeListener=_e?V.jsx(wY,{onChange:Tn,className:mn(ct.scrollableX,ct.hideScrollbar)}):null;const yn=Xt.start||Xt.end,zn=_e&&(H==="auto"&&yn||H===!0);return dn.scrollButtonStart=zn?V.jsx($,J({slots:{StartScrollButtonIcon:Q.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:wt},orientation:X,direction:u?"right":"left",onClick:sn,disabled:!Xt.start},M,{className:mn(ct.scrollButtons,M.className)})):null,dn.scrollButtonEnd=zn?V.jsx($,J({slots:{EndScrollButtonIcon:Q.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:St},orientation:X,direction:u?"left":"right",onClick:Qt,disabled:!Xt.end},M,{className:mn(ct.scrollButtons,M.className)})):null,dn},hr=Fn(dn=>{const{tabsMeta:yn,tabMeta:zn}=rt();if(!(!zn||!yn)){if(zn[je]<yn[je]){const Qn=yn[me]+(zn[je]-yn[je]);Tt(Qn,{animation:dn})}else if(zn[ze]>yn[ze]){const Qn=yn[me]+(zn[ze]-yn[ze]);Tt(Qn,{animation:dn})}}}),$t=Fn(()=>{if(_e&&H!==!1){const{scrollTop:dn,scrollHeight:yn,clientHeight:zn,scrollWidth:Qn,clientWidth:Cr}=Ft.current;let Ur,yi;if(we)Ur=dn>1,yi=dn<yn-zn-1;else{const Ee=uC(Ft.current,l.direction);Ur=u?Ee<Qn-Cr-1:Ee>1,yi=u?Ee>1:Ee<Qn-Cr-1}(Ur!==Xt.start||yi!==Xt.end)&&rn({start:Ur,end:yi})}});U.useEffect(()=>{const dn=Mf(()=>{Ft.current&&(an(),$t())}),yn=Pc(Ft.current);yn.addEventListener("resize",dn);let zn;return typeof ResizeObserver<"u"&&(zn=new ResizeObserver(dn),Array.from(un.current.children).forEach(Qn=>{zn.observe(Qn)})),()=>{dn.clear(),yn.removeEventListener("resize",dn),zn&&zn.disconnect()}},[an,$t]);const Dn=U.useMemo(()=>Mf(()=>{$t()}),[$t]);U.useEffect(()=>()=>{Dn.clear()},[Dn]),U.useEffect(()=>{Dt(!0)},[]),U.useEffect(()=>{an(),$t()}),U.useEffect(()=>{hr(R8!==bt)},[hr,bt]),U.useImperativeHandle(_,()=>({updateIndicator:an,updateScrollButtons:$t}),[an,$t]);const Wn=V.jsx(bY,J({},le,{className:mn(ct.indicator,le.className),ownerState:qe,style:J({},bt,le.style)}));let Cn=0;const Pn=U.Children.map(E,dn=>{if(!U.isValidElement(dn))return null;const yn=dn.props.value===void 0?Cn:dn.props.value;ft.set(yn,Cn);const zn=yn===ce;return Cn+=1,U.cloneElement(dn,J({fullWidth:xe==="fullWidth",indicator:zn&&!ht&&Wn,selected:zn,selectionFollowsFocus:G,onChange:L,textColor:de,value:yn},Cn===1&&ce===!1&&!dn.props.tabIndex?{tabIndex:0}:{}))}),In=dn=>{const yn=un.current,zn=bo(yn).activeElement;if(zn.getAttribute("role")!=="tab")return;let Cr=X==="horizontal"?"ArrowLeft":"ArrowUp",Ur=X==="horizontal"?"ArrowRight":"ArrowDown";switch(X==="horizontal"&&u&&(Cr="ArrowRight",Ur="ArrowLeft"),dn.key){case Cr:dn.preventDefault(),Iy(yn,zn,D8);break;case Ur:dn.preventDefault(),Iy(yn,zn,A8);break;case"Home":dn.preventDefault(),Iy(yn,null,A8);break;case"End":dn.preventDefault(),Iy(yn,null,D8);break}},er=Zn();return V.jsxs(_Y,J({className:mn(ct.root,k),ownerState:qe,ref:r,as:R},$e,{children:[er.scrollButtonStart,er.scrollbarSizeListener,V.jsxs(vY,{className:ct.scroller,ownerState:qe,style:{overflow:_t.overflow,[we?`margin${u?"Left":"Right"}`:"marginBottom"]:ke?void 0:-_t.scrollbarWidth},ref:Ft,onScroll:Dn,children:[V.jsx(xY,{"aria-label":f,"aria-labelledby":i,"aria-orientation":X==="vertical"?"vertical":null,className:ct.flexContainer,ownerState:qe,onKeyDown:In,ref:un,role:"tablist",children:Pn}),ht&&Wn]}),er.scrollButtonEnd]}))}),TY=SY,CY=Da(V.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),EY=Da(V.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),PY=Da(V.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),kY=Da(V.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar");Da(V.jsxs(U.Fragment,{children:[V.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),V.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock");const MY=Da(V.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange"),IY=Da(V.jsxs(U.Fragment,{children:[V.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),V.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time");function AY(e){return qn("MuiDateTimePickerTabs",e)}jn("MuiDateTimePickerTabs",["root"]);const DY=e=>yf(e)?"date":"time",RY=e=>e==="date"?"day":"hours",zY=e=>{const{classes:t}=e;return Hn({root:["root"]},AY,t)},LY=It(TY,{name:"MuiDateTimePickerTabs",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({boxShadow:`0 -1px 0 0 inset ${(e.vars||e).palette.divider}`,"&:last-child":{boxShadow:`0 1px 0 0 inset ${(e.vars||e).palette.divider}`,[`& .${a_.indicator}`]:{bottom:"auto",top:0}}})),OY=function(t){const r=Nn({props:t,name:"MuiDateTimePickerTabs"}),{dateIcon:o=V.jsx(MY,{}),onViewChange:l,timeIcon:u=V.jsx(IY,{}),view:f,hidden:i=typeof window>"u"||window.innerHeight<667}=r,_=jl(),b=zY(r),E=(k,R)=>{l(RY(R))};return i?null:V.jsxs(LY,{ownerState:r,variant:"fullWidth",value:DY(f),onChange:E,className:b.root,children:[V.jsx(I8,{value:"date","aria-label":_.dateTableLabel,icon:V.jsx(U.Fragment,{children:o})}),V.jsx(I8,{value:"time","aria-label":_.timeTableLabel,icon:V.jsx(U.Fragment,{children:u})})]})};function FY(e){return qn("MuiPickersToolbarText",e)}const z8=jn("MuiPickersToolbarText",["root","selected"]),BY=["className","selected","value"],NY=e=>{const{classes:t,selected:r}=e;return Hn({root:["root",r&&"selected"]},FY,t)},$Y=It(_u,{name:"MuiPickersToolbarText",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`&.${z8.selected}`]:t.selected}]})(({theme:e})=>({transition:e.transitions.create("color"),color:(e.vars||e).palette.text.secondary,[`&.${z8.selected}`]:{color:(e.vars||e).palette.text.primary}})),sI=U.forwardRef(function(t,r){const o=Nn({props:t,name:"MuiPickersToolbarText"}),{className:l,value:u}=o,f=nn(o,BY),i=NY(o);return V.jsx($Y,J({ref:r,className:mn(l,i.root),component:"span"},f,{children:u}))}),jY=U.createContext(),L8=jY;function VY(e){return qn("MuiGrid",e)}const UY=[0,1,2,3,4,5,6,7,8,9,10],WY=["column-reverse","column","row-reverse","row"],HY=["nowrap","wrap-reverse","wrap"],bm=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],GY=jn("MuiGrid",["root","container","item","zeroMinWidth",...UY.map(e=>`spacing-xs-${e}`),...WY.map(e=>`direction-xs-${e}`),...HY.map(e=>`wrap-xs-${e}`),...bm.map(e=>`grid-xs-${e}`),...bm.map(e=>`grid-sm-${e}`),...bm.map(e=>`grid-md-${e}`),...bm.map(e=>`grid-lg-${e}`),...bm.map(e=>`grid-xl-${e}`)]),Dg=GY,qY=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function _f(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function ZY({theme:e,ownerState:t}){let r;return e.breakpoints.keys.reduce((o,l)=>{let u={};if(t[l]&&(r=t[l]),!r)return o;if(r===!0)u={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(r==="auto")u={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const f=Sh({values:t.columns,breakpoints:e.breakpoints.values}),i=typeof f=="object"?f[l]:f;if(i==null)return o;const _=`${Math.round(r/i*1e8)/1e6}%`;let b={};if(t.container&&t.item&&t.columnSpacing!==0){const E=e.spacing(t.columnSpacing);if(E!=="0px"){const k=`calc(${_} + ${_f(E)})`;b={flexBasis:k,maxWidth:k}}}u=J({flexBasis:_,flexGrow:0,maxWidth:_},b)}return e.breakpoints.values[l]===0?Object.assign(o,u):o[e.breakpoints.up(l)]=u,o},{})}function XY({theme:e,ownerState:t}){const r=Sh({values:t.direction,breakpoints:e.breakpoints.values});return ra({theme:e},r,o=>{const l={flexDirection:o};return o.indexOf("column")===0&&(l[`& > .${Dg.item}`]={maxWidth:"none"}),l})}function aI({breakpoints:e,values:t}){let r="";Object.keys(t).forEach(l=>{r===""&&t[l]!==0&&(r=l)});const o=Object.keys(e).sort((l,u)=>e[l]-e[u]);return o.slice(0,o.indexOf(r))}function YY({theme:e,ownerState:t}){const{container:r,rowSpacing:o}=t;let l={};if(r&&o!==0){const u=Sh({values:o,breakpoints:e.breakpoints.values});let f;typeof u=="object"&&(f=aI({breakpoints:e.breakpoints.values,values:u})),l=ra({theme:e},u,(i,_)=>{var b;const E=e.spacing(i);return E!=="0px"?{marginTop:`-${_f(E)}`,[`& > .${Dg.item}`]:{paddingTop:_f(E)}}:(b=f)!=null&&b.includes(_)?{}:{marginTop:0,[`& > .${Dg.item}`]:{paddingTop:0}}})}return l}function KY({theme:e,ownerState:t}){const{container:r,columnSpacing:o}=t;let l={};if(r&&o!==0){const u=Sh({values:o,breakpoints:e.breakpoints.values});let f;typeof u=="object"&&(f=aI({breakpoints:e.breakpoints.values,values:u})),l=ra({theme:e},u,(i,_)=>{var b;const E=e.spacing(i);return E!=="0px"?{width:`calc(100% + ${_f(E)})`,marginLeft:`-${_f(E)}`,[`& > .${Dg.item}`]:{paddingLeft:_f(E)}}:(b=f)!=null&&b.includes(_)?{}:{width:"100%",marginLeft:0,[`& > .${Dg.item}`]:{paddingLeft:0}}})}return l}function JY(e,t,r={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[r[`spacing-xs-${String(e)}`]];const o=[];return t.forEach(l=>{const u=e[l];Number(u)>0&&o.push(r[`spacing-${l}-${String(u)}`])}),o}const QY=It("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{container:o,direction:l,item:u,spacing:f,wrap:i,zeroMinWidth:_,breakpoints:b}=r;let E=[];o&&(E=JY(f,b,t));const k=[];return b.forEach(R=>{const B=r[R];B&&k.push(t[`grid-${R}-${String(B)}`])}),[t.root,o&&t.container,u&&t.item,_&&t.zeroMinWidth,...E,l!=="row"&&t[`direction-xs-${String(l)}`],i!=="wrap"&&t[`wrap-xs-${String(i)}`],...k]}})(({ownerState:e})=>J({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),XY,YY,KY,ZY);function eK(e,t){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const r=[];return t.forEach(o=>{const l=e[o];if(Number(l)>0){const u=`spacing-${o}-${String(l)}`;r.push(u)}}),r}const tK=e=>{const{classes:t,container:r,direction:o,item:l,spacing:u,wrap:f,zeroMinWidth:i,breakpoints:_}=e;let b=[];r&&(b=eK(u,_));const E=[];_.forEach(R=>{const B=e[R];B&&E.push(`grid-${R}-${String(B)}`)});const k={root:["root",r&&"container",l&&"item",i&&"zeroMinWidth",...b,o!=="row"&&`direction-xs-${String(o)}`,f!=="wrap"&&`wrap-xs-${String(f)}`,...E]};return Hn(k,VY,t)},nK=U.forwardRef(function(t,r){const o=Nn({props:t,name:"MuiGrid"}),{breakpoints:l}=cl(),u=J2(o),{className:f,columns:i,columnSpacing:_,component:b="div",container:E=!1,direction:k="row",item:R=!1,rowSpacing:B,spacing:F=0,wrap:L="wrap",zeroMinWidth:X=!1}=u,$=nn(u,qY),H=B||F,G=_||F,Q=U.useContext(L8),te=E?i||12:Q,le={},M=J({},$);l.keys.forEach(xe=>{$[xe]!=null&&(le[xe]=$[xe],delete M[xe])});const de=J({},u,{columns:te,container:E,direction:k,item:R,rowSpacing:H,columnSpacing:G,wrap:L,zeroMinWidth:X,spacing:F},le,{breakpoints:l.keys}),ce=tK(de);return V.jsx(L8.Provider,{value:te,children:V.jsx(QY,J({ownerState:de,className:mn(ce.root,f),as:b,ref:r},M))})}),rK=nK;function lI(e){return qn("MuiPickersToolbar",e)}const iK=jn("MuiPickersToolbar",["root","content","penIconButton","penIconButtonLandscape"]),oK=e=>{const{classes:t,isLandscape:r}=e;return Hn({root:["root"],content:["content"],penIconButton:["penIconButton",r&&"penIconButtonLandscape"]},lI,t)},sK=It("div",{name:"MuiPickersToolbar",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e,ownerState:t})=>J({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:e.spacing(2,3)},t.isLandscape&&{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"})),aK=It(rK,{name:"MuiPickersToolbar",slot:"Content",overridesResolver:(e,t)=>t.content})(({ownerState:e})=>J({flex:1},!e.isLandscape&&{alignItems:"center"})),lK=U.forwardRef(function(t,r){const o=Nn({props:t,name:"MuiPickersToolbar"}),{children:l,className:u,isLandscape:f,landscapeDirection:i="column",toolbarTitle:_,hidden:b,titleId:E}=o,k=o,R=oK(k);return b?null:V.jsxs(sK,{ref:r,className:mn(R.root,u),ownerState:k,children:[V.jsx(_u,{color:"text.secondary",variant:"overline",id:E,children:_}),V.jsx(aK,{container:!0,justifyContent:f?"flex-start":"space-between",className:R.content,ownerState:k,direction:f?i:"row",alignItems:f?"flex-start":"flex-end",children:l})]})});function cK(e){return qn("MuiButton",e)}const uK=jn("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),Ay=uK,dK=U.createContext({}),hK=dK,pK=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],fK=e=>{const{color:t,disableElevation:r,fullWidth:o,size:l,variant:u,classes:f}=e,i={root:["root",u,`${u}${wn(t)}`,`size${wn(l)}`,`${u}Size${wn(l)}`,t==="inherit"&&"colorInherit",r&&"disableElevation",o&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${wn(l)}`],endIcon:["endIcon",`iconSize${wn(l)}`]},_=Hn(i,cK,f);return J({},f,_)},cI=e=>J({},e.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},e.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},e.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),mK=It(vu,{shouldForwardProp:e=>Dc(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`${r.variant}${wn(r.color)}`],t[`size${wn(r.size)}`],t[`${r.variant}Size${wn(r.size)}`],r.color==="inherit"&&t.colorInherit,r.disableElevation&&t.disableElevation,r.fullWidth&&t.fullWidth]}})(({theme:e,ownerState:t})=>{var r,o;const l=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],u=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return J({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":J({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Rr(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Rr(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Rr(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:e.vars?e.vars.palette.Button.inheritContainedHoverBg:u,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":J({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${Ay.focusVisible}`]:J({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${Ay.disabled}`]:J({color:(e.vars||e).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},t.variant==="contained"&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${Rr(e.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:e.vars?e.vars.palette.text.primary:(r=(o=e.palette).getContrastText)==null?void 0:r.call(o,e.palette.grey[300]),backgroundColor:e.vars?e.vars.palette.Button.inheritContainedBg:l,boxShadow:(e.vars||e).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Ay.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Ay.disabled}`]:{boxShadow:"none"}}),gK=It("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.startIcon,t[`iconSize${wn(r.size)}`]]}})(({ownerState:e})=>J({display:"inherit",marginRight:8,marginLeft:-4},e.size==="small"&&{marginLeft:-2},cI(e))),yK=It("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.endIcon,t[`iconSize${wn(r.size)}`]]}})(({ownerState:e})=>J({display:"inherit",marginRight:-4,marginLeft:8},e.size==="small"&&{marginRight:-2},cI(e))),_K=U.forwardRef(function(t,r){const o=U.useContext(hK),l=V4(o,t),u=Nn({props:l,name:"MuiButton"}),{children:f,color:i="primary",component:_="button",className:b,disabled:E=!1,disableElevation:k=!1,disableFocusRipple:R=!1,endIcon:B,focusVisibleClassName:F,fullWidth:L=!1,size:X="medium",startIcon:$,type:H,variant:G="text"}=u,Q=nn(u,pK),te=J({},u,{color:i,component:_,disabled:E,disableElevation:k,disableFocusRipple:R,fullWidth:L,size:X,type:H,variant:G}),le=fK(te),M=$&&V.jsx(gK,{className:le.startIcon,ownerState:te,children:$}),de=B&&V.jsx(yK,{className:le.endIcon,ownerState:te,children:B});return V.jsxs(mK,J({ownerState:te,className:mn(o.className,le.root,b),component:_,disabled:E,focusRipple:!R,focusVisibleClassName:mn(le.focusVisible,F),ref:r,type:H},Q,{classes:le,children:[M,f,de]}))}),vh=_K,vK=["align","className","selected","typographyClassName","value","variant","width"],xK=e=>{const{classes:t}=e;return Hn({root:["root"]},lI,t)},bK=It(vh,{name:"MuiPickersToolbarButton",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:0,minWidth:16,textTransform:"none"}),Ku=U.forwardRef(function(t,r){const o=Nn({props:t,name:"MuiPickersToolbarButton"}),{align:l,className:u,selected:f,typographyClassName:i,value:_,variant:b,width:E}=o,k=nn(o,vK),R=xK(o);return V.jsx(bK,J({variant:"text",ref:r,className:mn(u,R.root)},E?{sx:{width:E}}:{},k,{children:V.jsx(sI,{align:l,className:i,variant:b,value:_,selected:f})}))});function wK(e){return qn("MuiDateTimePickerToolbar",e)}const Wb=jn("MuiDateTimePickerToolbar",["root","dateContainer","timeContainer","timeDigitsContainer","separator","timeLabelReverse","ampmSelection","ampmLandscape","ampmLabel"]);function SK(e,{disableFuture:t,maxDate:r,timezone:o}){const l=hi();return U.useMemo(()=>{const u=l.dateWithTimezone(void 0,o),f=l.startOfMonth(t&&l.isBefore(u,r)?u:r);return!l.isAfter(f,e)},[t,r,e,l,o])}function TK(e,{disablePast:t,minDate:r,timezone:o}){const l=hi();return U.useMemo(()=>{const u=l.dateWithTimezone(void 0,o),f=l.startOfMonth(t&&l.isAfter(u,r)?u:r);return!l.isBefore(f,e)},[t,r,e,l,o])}function F5(e,t,r,o){const l=hi(),u=GZ(e,l),f=U.useCallback(i=>{const _=e==null?null:qZ(e,i,!!t,l);r(_,o??"partial")},[t,e,r,o,l]);return{meridiemMode:u,handleMeridiemChange:f}}const Rg=36,Ev=2,uI=320,dI=358,CK=232,Im=48,EK=["ampm","ampmInClock","value","onChange","view","isLandscape","onViewChange","toolbarFormat","toolbarPlaceholder","views","disabled","readOnly","toolbarVariant"],PK=e=>{const{classes:t,theme:r,isLandscape:o}=e,l={root:["root"],dateContainer:["dateContainer"],timeContainer:["timeContainer",r.direction==="rtl"&&"timeLabelReverse"],timeDigitsContainer:["timeDigitsContainer",r.direction==="rtl"&&"timeLabelReverse"],separator:["separator"],ampmSelection:["ampmSelection",o&&"ampmLandscape"],ampmLabel:["ampmLabel"]};return Hn(l,wK,t)},hI=It(lK,{name:"MuiDateTimePickerToolbar",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e,ownerState:t})=>({paddingLeft:t.toolbarVariant==="desktop"&&!t.isLandscape?24:16,paddingRight:t.toolbarVariant==="desktop"&&!t.isLandscape?0:16,borderBottom:t.toolbarVariant==="desktop"?`1px solid ${(e.vars||e).palette.divider}`:void 0,borderRight:t.toolbarVariant==="desktop"&&t.isLandscape?`1px solid ${(e.vars||e).palette.divider}`:void 0,justifyContent:"space-around",position:"relative",[`& .${iK.penIconButton}`]:J({position:"absolute",top:8},e.direction==="rtl"?{left:8}:{right:8})}));hI.propTypes={as:Ye.elementType,classes:Ye.object,className:Ye.string,isLandscape:Ye.bool.isRequired,isMobileKeyboardViewOpen:Ye.bool,landscapeDirection:Ye.oneOf(["column","row"]),ownerState:Ye.object.isRequired,sx:Ye.oneOfType([Ye.arrayOf(Ye.oneOfType([Ye.func,Ye.object,Ye.bool])),Ye.func,Ye.object]),toggleMobileKeyboardView:Ye.func,toolbarTitle:Ye.node,viewType:Ye.oneOf(["date","time"])};const kK=It("div",{name:"MuiDateTimePickerToolbar",slot:"DateContainer",overridesResolver:(e,t)=>t.dateContainer})({display:"flex",flexDirection:"column",alignItems:"flex-start"}),pI=It("div",{name:"MuiDateTimePickerToolbar",slot:"TimeContainer",overridesResolver:(e,t)=>t.timeContainer})(({theme:e,ownerState:t})=>{const r=t.isLandscape&&t.toolbarVariant!=="desktop"?"column":"row";return J({display:"flex",flexDirection:r},t.toolbarVariant==="desktop"&&J({},!t.isLandscape&&{gap:9,marginRight:4,alignSelf:"flex-end"}),e.direction==="rtl"&&{flexDirection:`${r}-reverse`})}),MK=It("div",{name:"MuiDateTimePickerToolbar",slot:"TimeDigitsContainer",overridesResolver:(e,t)=>t.timeDigitsContainer})(({theme:e,ownerState:t})=>J({display:"flex"},t.toolbarVariant==="desktop"&&{gap:1.5},e.direction==="rtl"&&{flexDirection:"row-reverse"}));pI.propTypes={as:Ye.elementType,ownerState:Ye.object.isRequired,sx:Ye.oneOfType([Ye.arrayOf(Ye.oneOfType([Ye.func,Ye.object,Ye.bool])),Ye.func,Ye.object])};const O8=It(sI,{name:"MuiDateTimePickerToolbar",slot:"Separator",overridesResolver:(e,t)=>t.separator})(({ownerState:e})=>({margin:e.toolbarVariant==="desktop"?0:"0 4px 0 2px",cursor:"default"})),IK=It("div",{name:"MuiDateTimePickerToolbar",slot:"AmPmSelection",overridesResolver:(e,t)=>[{[`.${Wb.ampmLabel}`]:t.ampmLabel},{[`&.${Wb.ampmLandscape}`]:t.ampmLandscape},t.ampmSelection]})(({ownerState:e})=>J({display:"flex",flexDirection:"column",marginRight:"auto",marginLeft:12},e.isLandscape&&{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",width:"100%"},{[`& .${Wb.ampmLabel}`]:{fontSize:17}}));function AK(e){const t=Nn({props:e,name:"MuiDateTimePickerToolbar"}),{ampm:r,ampmInClock:o,value:l,onChange:u,view:f,isLandscape:i,onViewChange:_,toolbarFormat:b,toolbarPlaceholder:E="",views:k,disabled:R,readOnly:B,toolbarVariant:F="mobile"}=t,L=nn(t,EK),X=t,$=hi(),{meridiemMode:H,handleMeridiemChange:G}=F5(l,r,u),Q=!!(r&&!o),te=F==="desktop",le=jl(),M=cl(),de=PK(J({},X,{theme:M})),ce=ke=>r?$.format(ke,"hours12h"):$.format(ke,"hours24h"),xe=U.useMemo(()=>l?b?$.formatByString(l,b):$.format(l,"shortDate"):E,[l,b,E,$]);return V.jsxs(hI,J({toolbarTitle:le.dateTimePickerToolbarTitle,isLandscape:i,className:de.root},L,{ownerState:X,children:[V.jsxs(kK,{className:de.dateContainer,ownerState:X,children:[k.includes("year")&&V.jsx(Ku,{tabIndex:-1,variant:"subtitle1",onClick:()=>_("year"),selected:f==="year",value:l?$.format(l,"year"):""}),k.includes("day")&&V.jsx(Ku,{tabIndex:-1,variant:te?"h5":"h4",onClick:()=>_("day"),selected:f==="day",value:xe})]}),V.jsxs(pI,{className:de.timeContainer,ownerState:X,children:[V.jsxs(MK,{className:de.timeDigitsContainer,ownerState:X,children:[k.includes("hours")&&V.jsx(Ku,{variant:te?"h5":"h3",width:te&&!i?Im:void 0,onClick:()=>_("hours"),selected:f==="hours",value:l?ce(l):"--"}),k.includes("minutes")&&V.jsxs(U.Fragment,{children:[V.jsx(O8,{variant:te?"h5":"h3",value:":",className:de.separator,ownerState:X}),V.jsx(Ku,{variant:te?"h5":"h3",width:te&&!i?Im:void 0,onClick:()=>_("minutes"),selected:f==="minutes",value:l?$.format(l,"minutes"):"--"})]}),k.includes("seconds")&&V.jsxs(U.Fragment,{children:[V.jsx(O8,{variant:te?"h5":"h3",value:":",className:de.separator,ownerState:X}),V.jsx(Ku,{variant:te?"h5":"h3",width:te&&!i?Im:void 0,onClick:()=>_("seconds"),selected:f==="seconds",value:l?$.format(l,"seconds"):"--"})]})]}),Q&&!te&&V.jsxs(IK,{className:de.ampmSelection,ownerState:X,children:[V.jsx(Ku,{variant:"subtitle2",selected:H==="am",typographyClassName:de.ampmLabel,value:$.getMeridiemText("am"),onClick:B?void 0:()=>G("am"),disabled:R}),V.jsx(Ku,{variant:"subtitle2",selected:H==="pm",typographyClassName:de.ampmLabel,value:$.getMeridiemText("pm"),onClick:B?void 0:()=>G("pm"),disabled:R})]}),r&&te&&V.jsx(Ku,{variant:"h5",onClick:()=>_("meridiem"),selected:f==="meridiem",value:l&&H?$.getMeridiemText(H):"--",width:Im})]})]}))}const B5=e=>{if(e!==void 0)return Object.keys(e).reduce((t,r)=>J({},t,{[`${r.slice(0,1).toLowerCase()}${r.slice(1)}`]:e[r]}),{})};function fI(e,t){var r,o,l,u,f,i,_,b,E,k,R;const B=hi(),F=n0(),L=Nn({props:e,name:t}),X=(r=L.ampm)!=null?r:B.is12HourCycleInCurrentLocale(),$=U.useMemo(()=>{var Q;return((Q=L.localeText)==null?void 0:Q.toolbarTitle)==null?L.localeText:J({},L.localeText,{dateTimePickerToolbarTitle:L.localeText.toolbarTitle})},[L.localeText]),H=(o=L.slots)!=null?o:B5(L.components),G=(l=L.slotProps)!=null?l:L.componentsProps;return J({},L,VZ({views:L.views,openTo:L.openTo,defaultViews:["year","day","hours","minutes"],defaultOpenTo:"day"}),{ampm:X,localeText:$,orientation:(u=L.orientation)!=null?u:"portrait",disableIgnoringDatePartForTimeValidation:(f=L.disableIgnoringDatePartForTimeValidation)!=null?f:!!(L.minDateTime||L.maxDateTime||L.disablePast||L.disableFuture),disableFuture:(i=L.disableFuture)!=null?i:!1,disablePast:(_=L.disablePast)!=null?_:!1,minDate:al(B,(b=L.minDateTime)!=null?b:L.minDate,F.minDate),maxDate:al(B,(E=L.maxDateTime)!=null?E:L.maxDate,F.maxDate),minTime:(k=L.minDateTime)!=null?k:L.minTime,maxTime:(R=L.maxDateTime)!=null?R:L.maxTime,slots:J({toolbar:AK,tabs:OY},H),slotProps:J({},G,{toolbar:J({ampm:X},G==null?void 0:G.toolbar)})})}const mI=({shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:r,minDate:o,maxDate:l,disableFuture:u,disablePast:f,timezone:i})=>{const _=Gh();return U.useCallback(b=>nI({adapter:_,value:b,props:{shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:r,minDate:o,maxDate:l,disableFuture:u,disablePast:f,timezone:i}})!==null,[_,e,t,r,o,l,u,f,i])},DK=(e,t,r)=>(o,l)=>{switch(l.type){case"changeMonth":return J({},o,{slideDirection:l.direction,currentMonth:l.newMonth,isMonthSwitchingAnimating:!e});case"finishMonthSwitchingAnimation":return J({},o,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(o.focusedDay!=null&&l.focusedDay!=null&&r.isSameDay(l.focusedDay,o.focusedDay))return o;const u=l.focusedDay!=null&&!t&&!r.isSameMonth(o.currentMonth,l.focusedDay);return J({},o,{focusedDay:l.focusedDay,isMonthSwitchingAnimating:u&&!e&&!l.withoutMonthSwitchingAnimation,currentMonth:u?r.startOfMonth(l.focusedDay):o.currentMonth,slideDirection:l.focusedDay!=null&&r.isAfterDay(l.focusedDay,o.currentMonth)?"left":"right"})}default:throw new Error("missing support")}},RK=e=>{const{value:t,referenceDate:r,defaultCalendarMonth:o,disableFuture:l,disablePast:u,disableSwitchToMonthOnDayFocus:f=!1,maxDate:i,minDate:_,onMonthChange:b,reduceAnimations:E,shouldDisableDate:k,timezone:R}=e,B=qh(R),F=hi(),L=U.useRef(DK(!!E,f,F)).current,X=U.useMemo(()=>{let de=null;return r?de=r:o&&(de=F.startOfMonth(o)),$l.getInitialReferenceValue({value:t,utils:F,timezone:R,props:e,referenceDate:de,granularity:yc.day})},[]),[$,H]=U.useReducer(L,{isMonthSwitchingAnimating:!1,focusedDay:t||B,currentMonth:F.startOfMonth(X),slideDirection:"left"}),G=U.useCallback(de=>{H(J({type:"changeMonth"},de)),b&&b(de.newMonth)},[b]),Q=U.useCallback(de=>{const ce=de;F.isSameMonth(ce,$.currentMonth)||G({newMonth:F.startOfMonth(ce),direction:F.isAfterDay(ce,$.currentMonth)?"left":"right"})},[$.currentMonth,G,F]),te=mI({shouldDisableDate:k,minDate:_,maxDate:i,disableFuture:l,disablePast:u,timezone:R}),le=U.useCallback(()=>{H({type:"finishMonthSwitchingAnimation"})},[]),M=Fn((de,ce)=>{te(de)||H({type:"changeFocusedDay",focusedDay:de,withoutMonthSwitchingAnimation:ce})});return{referenceDate:X,calendarState:$,changeMonth:Q,changeFocusedDay:M,isDateDisabled:te,onMonthSwitchingAnimationEnd:le,handleChangeMonth:G}},zK=e=>qn("MuiPickersFadeTransitionGroup",e);jn("MuiPickersFadeTransitionGroup",["root"]);const LK=e=>{const{classes:t}=e;return Hn({root:["root"]},zK,t)},F8=500,OK=It(k5,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"block",position:"relative"});function gI(e){const t=Nn({props:e,name:"MuiPickersFadeTransitionGroup"}),{children:r,className:o,reduceAnimations:l,transKey:u}=t,f=LK(t);return l?r:V.jsx(OK,{className:mn(f.root,o),children:V.jsx(t0,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:F8,enter:F8/2,exit:0},children:r},u)})}function FK(e){return qn("MuiPickersDay",e)}const lh=jn("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),BK=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],NK=e=>{const{selected:t,disableMargin:r,disableHighlightToday:o,today:l,disabled:u,outsideCurrentMonth:f,showDaysOutsideCurrentMonth:i,classes:_}=e;return Hn({root:["root",t&&"selected",u&&"disabled",!r&&"dayWithMargin",!o&&l&&"today",f&&i&&"dayOutsideMonth",f&&!i&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},FK,_)},yI=({theme:e,ownerState:t})=>J({},e.typography.caption,{width:Rg,height:Rg,borderRadius:"50%",padding:0,backgroundColor:"transparent",color:(e.vars||e).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Rr(e.palette.primary.main,e.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:Rr(e.palette.primary.main,e.palette.action.focusOpacity),[`&.${lh.selected}`]:{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${lh.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,fontWeight:e.typography.fontWeightMedium,transition:e.transitions.create("background-color",{duration:e.transitions.duration.short}),"&:hover":{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${lh.disabled}:not(.${lh.selected})`]:{color:(e.vars||e).palette.text.disabled},[`&.${lh.disabled}&.${lh.selected}`]:{opacity:.6}},!t.disableMargin&&{margin:`0 ${Ev}px`},t.outsideCurrentMonth&&t.showDaysOutsideCurrentMonth&&{color:(e.vars||e).palette.text.secondary},!t.disableHighlightToday&&t.today&&{[`&:not(.${lh.selected})`]:{border:`1px solid ${(e.vars||e).palette.text.secondary}`}}),_I=(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disableMargin&&t.dayWithMargin,!r.disableHighlightToday&&r.today&&t.today,!r.outsideCurrentMonth&&r.showDaysOutsideCurrentMonth&&t.dayOutsideMonth,r.outsideCurrentMonth&&!r.showDaysOutsideCurrentMonth&&t.hiddenDaySpacingFiller]},$K=It(vu,{name:"MuiPickersDay",slot:"Root",overridesResolver:_I})(yI),jK=It("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:_I})(({theme:e,ownerState:t})=>J({},yI({theme:e,ownerState:t}),{opacity:0,pointerEvents:"none"})),wm=()=>{},VK=U.forwardRef(function(t,r){const o=Nn({props:t,name:"MuiPickersDay"}),{autoFocus:l=!1,className:u,day:f,disabled:i=!1,disableHighlightToday:_=!1,disableMargin:b=!1,isAnimating:E,onClick:k,onDaySelect:R,onFocus:B=wm,onBlur:F=wm,onKeyDown:L=wm,onMouseDown:X=wm,onMouseEnter:$=wm,outsideCurrentMonth:H,selected:G=!1,showDaysOutsideCurrentMonth:Q=!1,children:te,today:le=!1}=o,M=nn(o,BK),de=J({},o,{autoFocus:l,disabled:i,disableHighlightToday:_,disableMargin:b,selected:G,showDaysOutsideCurrentMonth:Q,today:le}),ce=NK(de),xe=hi(),ke=U.useRef(null),$e=mi(ke,r);wo(()=>{l&&!i&&!E&&!H&&ke.current.focus()},[l,i,E,H]);const _e=me=>{X(me),H&&me.preventDefault()},we=me=>{i||R(f),H&&me.currentTarget.focus(),k&&k(me)};return H&&!Q?V.jsx(jK,{className:mn(ce.root,ce.hiddenDaySpacingFiller,u),ownerState:de,role:M.role}):V.jsx($K,J({className:mn(ce.root,u),ref:$e,centerRipple:!0,disabled:i,tabIndex:G?0:-1,onKeyDown:me=>L(me,f),onFocus:me=>B(me,f),onBlur:me=>F(me,f),onMouseEnter:me=>$(me,f),onClick:we,onMouseDown:_e},M,{ownerState:de,children:te||xe.format(f,"dayOfMonth")}))}),UK=U.memo(VK),WK=e=>qn("MuiPickersSlideTransition",e),Va=jn("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),HK=["children","className","reduceAnimations","slideDirection","transKey","classes"],GK=e=>{const{classes:t,slideDirection:r}=e,o={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${r}`],exitActive:[`slideExitActiveLeft-${r}`]};return Hn(o,WK,t)},vI=350,qK=It(k5,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`.${Va["slideEnter-left"]}`]:t["slideEnter-left"]},{[`.${Va["slideEnter-right"]}`]:t["slideEnter-right"]},{[`.${Va.slideEnterActive}`]:t.slideEnterActive},{[`.${Va.slideExit}`]:t.slideExit},{[`.${Va["slideExitActiveLeft-left"]}`]:t["slideExitActiveLeft-left"]},{[`.${Va["slideExitActiveLeft-right"]}`]:t["slideExitActiveLeft-right"]}]})(({theme:e})=>{const t=e.transitions.create("transform",{duration:vI,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${Va["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${Va["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${Va.slideEnterActive}`]:{transform:"translate(0%)",transition:t},[`& .${Va.slideExit}`]:{transform:"translate(0%)"},[`& .${Va["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:t,zIndex:0},[`& .${Va["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:t,zIndex:0}}});function ZK(e){const t=Nn({props:e,name:"MuiPickersSlideTransition"}),{children:r,className:o,reduceAnimations:l,transKey:u}=t,f=nn(t,HK),i=GK(t);if(l)return V.jsx("div",{className:mn(i.root,o),children:r});const _={exit:i.exit,enterActive:i.enterActive,enter:i.enter,exitActive:i.exitActive};return V.jsx(qK,{className:mn(i.root,o),childFactory:b=>U.cloneElement(b,{classNames:_}),role:"presentation",children:V.jsx(YG,J({mountOnEnter:!0,unmountOnExit:!0,timeout:vI,classNames:_},f,{children:r}),u)})}const XK=e=>qn("MuiDayCalendar",e);jn("MuiDayCalendar",["header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const YK=["parentProps","day","focusableDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],KK=["ownerState"],JK=e=>{const{classes:t}=e;return Hn({header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},XK,t)},QK=e=>e.charAt(0).toUpperCase(),xI=(Rg+Ev*2)*6,eJ=It("div",{name:"MuiDayCalendar",slot:"Header",overridesResolver:(e,t)=>t.header})({display:"flex",justifyContent:"center",alignItems:"center"}),tJ=It(_u,{name:"MuiDayCalendar",slot:"WeekDayLabel",overridesResolver:(e,t)=>t.weekDayLabel})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.secondary})),nJ=It(_u,{name:"MuiDayPicker",slot:"WeekNumberLabel",overridesResolver:(e,t)=>t.weekNumberLabel})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:e.palette.text.disabled})),rJ=It(_u,{name:"MuiDayPicker",slot:"WeekNumber",overridesResolver:(e,t)=>t.weekNumber})(({theme:e})=>J({},e.typography.caption,{width:Rg,height:Rg,padding:0,margin:`0 ${Ev}px`,color:e.palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),iJ=It("div",{name:"MuiDayCalendar",slot:"LoadingContainer",overridesResolver:(e,t)=>t.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:xI}),oJ=It(ZK,{name:"MuiDayCalendar",slot:"SlideTransition",overridesResolver:(e,t)=>t.slideTransition})({minHeight:xI}),sJ=It("div",{name:"MuiDayCalendar",slot:"MonthContainer",overridesResolver:(e,t)=>t.monthContainer})({overflow:"hidden"}),aJ=It("div",{name:"MuiDayCalendar",slot:"WeekContainer",overridesResolver:(e,t)=>t.weekContainer})({margin:`${Ev}px 0`,display:"flex",justifyContent:"center"});function lJ(e){var t,r,o;let{parentProps:l,day:u,focusableDay:f,selectedDays:i,isDateDisabled:_,currentMonthNumber:b,isViewFocused:E}=e,k=nn(e,YK);const{disabled:R,disableHighlightToday:B,isMonthSwitchingAnimating:F,showDaysOutsideCurrentMonth:L,components:X,componentsProps:$,slots:H,slotProps:G,timezone:Q}=l,te=hi(),le=qh(Q),M=f!==null&&te.isSameDay(u,f),de=i.some(ze=>te.isSameDay(ze,u)),ce=te.isSameDay(u,le),xe=(t=(r=H==null?void 0:H.day)!=null?r:X==null?void 0:X.Day)!=null?t:UK,ke=Ri({elementType:xe,externalSlotProps:(o=G==null?void 0:G.day)!=null?o:$==null?void 0:$.day,additionalProps:J({disableHighlightToday:B,showDaysOutsideCurrentMonth:L,role:"gridcell",isAnimating:F,"data-timestamp":te.toJsDate(u).valueOf()},k),ownerState:J({},l,{day:u,selected:de})}),$e=nn(ke,KK),_e=U.useMemo(()=>R||_(u),[R,_,u]),we=U.useMemo(()=>te.getMonth(u)!==b,[te,u,b]),me=U.useMemo(()=>{const ze=te.startOfMonth(te.setMonth(u,b));return L?te.isSameDay(u,te.startOfWeek(ze)):te.isSameDay(u,ze)},[b,u,L,te]),je=U.useMemo(()=>{const ze=te.endOfMonth(te.setMonth(u,b));return L?te.isSameDay(u,te.endOfWeek(ze)):te.isSameDay(u,ze)},[b,u,L,te]);return V.jsx(xe,J({},$e,{day:u,disabled:_e,autoFocus:E&&M,today:ce,outsideCurrentMonth:we,isFirstVisibleCell:me,isLastVisibleCell:je,selected:de,tabIndex:M?0:-1,"aria-selected":de,"aria-current":ce?"date":void 0}))}function cJ(e){const t=Nn({props:e,name:"MuiDayCalendar"}),{onFocusedDayChange:r,className:o,currentMonth:l,selectedDays:u,focusedDay:f,loading:i,onSelectedDaysChange:_,onMonthSwitchingAnimationEnd:b,readOnly:E,reduceAnimations:k,renderLoading:R=()=>V.jsx("span",{children:"..."}),slideDirection:B,TransitionProps:F,disablePast:L,disableFuture:X,minDate:$,maxDate:H,shouldDisableDate:G,shouldDisableMonth:Q,shouldDisableYear:te,dayOfWeekFormatter:le=QK,hasFocus:M,onFocusedViewChange:de,gridLabelId:ce,displayWeekNumber:xe,fixedWeekNumber:ke,autoFocus:$e,timezone:_e}=t,we=qh(_e),me=hi(),je=JK(t),Me=cl().direction==="rtl",Le=mI({shouldDisableDate:G,shouldDisableMonth:Q,shouldDisableYear:te,minDate:$,maxDate:H,disablePast:L,disableFuture:X,timezone:_e}),qe=jl(),[ct,wt]=Js({name:"DayCalendar",state:"hasFocus",controlled:M,default:$e??!1}),[St,ht]=U.useState(()=>f||we),Dt=Fn(Tt=>{E||_(Tt)}),bt=Tt=>{Le(Tt)||(r(Tt),ht(Tt),de==null||de(!0),wt(!0))},Et=Fn((Tt,on)=>{switch(Tt.key){case"ArrowUp":bt(me.addDays(on,-7)),Tt.preventDefault();break;case"ArrowDown":bt(me.addDays(on,7)),Tt.preventDefault();break;case"ArrowLeft":{const ln=me.addDays(on,Me?1:-1),sn=me.addMonths(on,Me?1:-1),Qt=Ym({utils:me,date:ln,minDate:Me?ln:me.startOfMonth(sn),maxDate:Me?me.endOfMonth(sn):ln,isDateDisabled:Le,timezone:_e});bt(Qt||ln),Tt.preventDefault();break}case"ArrowRight":{const ln=me.addDays(on,Me?-1:1),sn=me.addMonths(on,Me?-1:1),Qt=Ym({utils:me,date:ln,minDate:Me?me.startOfMonth(sn):ln,maxDate:Me?ln:me.endOfMonth(sn),isDateDisabled:Le,timezone:_e});bt(Qt||ln),Tt.preventDefault();break}case"Home":bt(me.startOfWeek(on)),Tt.preventDefault();break;case"End":bt(me.endOfWeek(on)),Tt.preventDefault();break;case"PageUp":bt(me.addMonths(on,1)),Tt.preventDefault();break;case"PageDown":bt(me.addMonths(on,-1)),Tt.preventDefault();break}}),Xt=Fn((Tt,on)=>bt(on)),rn=Fn((Tt,on)=>{ct&&me.isSameDay(St,on)&&(de==null||de(!1))}),_t=me.getMonth(l),at=U.useMemo(()=>u.filter(Tt=>!!Tt).map(Tt=>me.startOfDay(Tt)),[me,u]),ft=_t,Ft=U.useMemo(()=>U.createRef(),[ft]),un=me.startOfWeek(we),rt=U.useMemo(()=>{const Tt=me.startOfMonth(l),on=me.endOfMonth(l);return Le(St)||me.isAfterDay(St,on)||me.isBeforeDay(St,Tt)?Ym({utils:me,date:St,minDate:Tt,maxDate:on,disablePast:L,disableFuture:X,isDateDisabled:Le,timezone:_e}):St},[l,X,L,St,Le,me,_e]),an=U.useMemo(()=>{const Tt=me.setTimezone(l,_e),on=me.getWeekArray(Tt);let ln=me.addMonths(Tt,1);for(;ke&&on.length<ke;){const sn=me.getWeekArray(ln),Qt=me.isSameDay(on[on.length-1][0],sn[0][0]);sn.slice(Qt?1:0).forEach(Tn=>{on.length<ke&&on.push(Tn)}),ln=me.addMonths(ln,1)}return on},[l,ke,me,_e]);return V.jsxs("div",{role:"grid","aria-labelledby":ce,children:[V.jsxs(eJ,{role:"row",className:je.header,children:[xe&&V.jsx(nJ,{variant:"caption",role:"columnheader","aria-label":qe.calendarWeekNumberHeaderLabel,className:je.weekNumberLabel,children:qe.calendarWeekNumberHeaderText}),me.getWeekdays().map((Tt,on)=>{var ln;return V.jsx(tJ,{variant:"caption",role:"columnheader","aria-label":me.format(me.addDays(un,on),"weekday"),className:je.weekDayLabel,children:(ln=le==null?void 0:le(Tt))!=null?ln:Tt},Tt+on.toString())})]}),i?V.jsx(iJ,{className:je.loadingContainer,children:R()}):V.jsx(oJ,J({transKey:ft,onExited:b,reduceAnimations:k,slideDirection:B,className:mn(o,je.slideTransition)},F,{nodeRef:Ft,children:V.jsx(sJ,{ref:Ft,role:"rowgroup",className:je.monthContainer,children:an.map((Tt,on)=>V.jsxs(aJ,{role:"row",className:je.weekContainer,"aria-rowindex":on+1,children:[xe&&V.jsx(rJ,{className:je.weekNumber,role:"rowheader","aria-label":qe.calendarWeekNumberAriaLabelText(me.getWeekNumber(Tt[0])),children:qe.calendarWeekNumberText(me.getWeekNumber(Tt[0]))}),Tt.map((ln,sn)=>V.jsx(lJ,{parentProps:t,day:ln,selectedDays:at,focusableDay:rt,onKeyDown:Et,onFocus:Xt,onBlur:rn,onDaySelect:Dt,isDateDisabled:Le,currentMonthNumber:_t,isViewFocused:ct,"aria-colindex":sn+1},ln.toString()))]},`week-${Tt[0]}`))})}))]})}function uJ(e){return qn("MuiPickersMonth",e)}const Dy=jn("MuiPickersMonth",["root","monthButton","disabled","selected"]),dJ=["autoFocus","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","monthsPerRow"],hJ=e=>{const{disabled:t,selected:r,classes:o}=e;return Hn({root:["root"],monthButton:["monthButton",t&&"disabled",r&&"selected"]},uJ,o)},pJ=It("div",{name:"MuiPickersMonth",slot:"Root",overridesResolver:(e,t)=>[t.root]})(({ownerState:e})=>({flexBasis:e.monthsPerRow===3?"33.3%":"25%",display:"flex",alignItems:"center",justifyContent:"center"})),fJ=It("button",{name:"MuiPickersMonth",slot:"MonthButton",overridesResolver:(e,t)=>[t.monthButton,{[`&.${Dy.disabled}`]:t.disabled},{[`&.${Dy.selected}`]:t.selected}]})(({theme:e})=>J({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Rr(e.palette.action.active,e.palette.action.hoverOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Rr(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Dy.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${Dy.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),mJ=U.memo(function(t){const r=Nn({props:t,name:"MuiPickersMonth"}),{autoFocus:o,children:l,disabled:u,value:f,tabIndex:i,onClick:_,onKeyDown:b,onFocus:E,onBlur:k,"aria-current":R}=r,B=nn(r,dJ),F=U.useRef(null),L=hJ(r);return wo(()=>{if(o){var X;(X=F.current)==null||X.focus()}},[o]),V.jsx(pJ,J({className:L.root,ownerState:r},B,{children:V.jsx(fJ,{ref:F,disabled:u,type:"button",tabIndex:u?-1:i,"aria-current":R,onClick:X=>_(X,f),onKeyDown:X=>b(X,f),onFocus:X=>E(X,f),onBlur:X=>k(X,f),className:L.monthButton,ownerState:r,children:l})}))});function gJ(e){return qn("MuiMonthCalendar",e)}jn("MuiMonthCalendar",["root"]);const yJ=["className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone"],_J=e=>{const{classes:t}=e;return Hn({root:["root"]},gJ,t)};function vJ(e,t){const r=hi(),o=n0(),l=Nn({props:e,name:t});return J({disableFuture:!1,disablePast:!1},l,{minDate:al(r,l.minDate,o.minDate),maxDate:al(r,l.maxDate,o.maxDate)})}const xJ=It("div",{name:"MuiMonthCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexWrap:"wrap",alignContent:"stretch",padding:"0 4px",width:320}),bJ=U.forwardRef(function(t,r){const o=vJ(t,"MuiMonthCalendar"),{className:l,value:u,defaultValue:f,referenceDate:i,disabled:_,disableFuture:b,disablePast:E,maxDate:k,minDate:R,onChange:B,shouldDisableMonth:F,readOnly:L,disableHighlightToday:X,autoFocus:$=!1,onMonthFocus:H,hasFocus:G,onFocusedViewChange:Q,monthsPerRow:te=3,timezone:le}=o,M=nn(o,yJ),{value:de,handleValueChange:ce,timezone:xe}=r0({name:"MonthCalendar",timezone:le,value:u,defaultValue:f,onChange:B,valueManager:$l}),ke=qh(xe),$e=Yf(),_e=hi(),we=U.useMemo(()=>$l.getInitialReferenceValue({value:de,utils:_e,props:o,timezone:xe,referenceDate:i,granularity:yc.month}),[]),me=o,je=_J(me),ze=U.useMemo(()=>_e.getMonth(ke),[_e,ke]),Me=U.useMemo(()=>de!=null?_e.getMonth(de):X?null:_e.getMonth(we),[de,_e,X,we]),[Le,qe]=U.useState(()=>Me||ze),[ct,wt]=Js({name:"MonthCalendar",state:"hasFocus",controlled:G,default:$??!1}),St=Fn(_t=>{wt(_t),Q&&Q(_t)}),ht=U.useCallback(_t=>{const at=_e.startOfMonth(E&&_e.isAfter(ke,R)?ke:R),ft=_e.startOfMonth(b&&_e.isBefore(ke,k)?ke:k),Ft=_e.startOfMonth(_t);return _e.isBefore(Ft,at)||_e.isAfter(Ft,ft)?!0:F?F(Ft):!1},[b,E,k,R,ke,F,_e]),Dt=Fn((_t,at)=>{if(L)return;const ft=_e.setMonth(de??we,at);ce(ft)}),bt=Fn(_t=>{ht(_e.setMonth(de??we,_t))||(qe(_t),St(!0),H&&H(_t))});U.useEffect(()=>{qe(_t=>Me!==null&&_t!==Me?Me:_t)},[Me]);const Et=Fn((_t,at)=>{switch(_t.key){case"ArrowUp":bt((12+at-3)%12),_t.preventDefault();break;case"ArrowDown":bt((12+at+3)%12),_t.preventDefault();break;case"ArrowLeft":bt((12+at+($e.direction==="ltr"?-1:1))%12),_t.preventDefault();break;case"ArrowRight":bt((12+at+($e.direction==="ltr"?1:-1))%12),_t.preventDefault();break}}),Xt=Fn((_t,at)=>{bt(at)}),rn=Fn((_t,at)=>{Le===at&&St(!1)});return V.jsx(xJ,J({ref:r,className:mn(je.root,l),ownerState:me},M,{children:D5(_e,de??we).map(_t=>{const at=_e.getMonth(_t),ft=_e.format(_t,"monthShort"),Ft=at===Me,un=_||ht(_t);return V.jsx(mJ,{selected:Ft,value:at,onClick:Dt,onKeyDown:Et,autoFocus:ct&&at===Le,disabled:un,tabIndex:at===Le?0:-1,onFocus:Xt,onBlur:rn,"aria-current":ze===at?"date":void 0,monthsPerRow:te,children:ft},ft)})}))});function wJ(e){return qn("MuiPickersYear",e)}const Ry=jn("MuiPickersYear",["root","yearButton","selected","disabled"]),SJ=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","yearsPerRow"],TJ=e=>{const{disabled:t,selected:r,classes:o}=e;return Hn({root:["root"],yearButton:["yearButton",t&&"disabled",r&&"selected"]},wJ,o)},CJ=It("div",{name:"MuiPickersYear",slot:"Root",overridesResolver:(e,t)=>[t.root]})(({ownerState:e})=>({flexBasis:e.yearsPerRow===3?"33.3%":"25%",display:"flex",alignItems:"center",justifyContent:"center"})),EJ=It("button",{name:"MuiPickersYear",slot:"YearButton",overridesResolver:(e,t)=>[t.yearButton,{[`&.${Ry.disabled}`]:t.disabled},{[`&.${Ry.selected}`]:t.selected}]})(({theme:e})=>J({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.focusOpacity})`:Rr(e.palette.action.active,e.palette.action.focusOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Rr(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Ry.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${Ry.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),PJ=U.memo(function(t){const r=Nn({props:t,name:"MuiPickersYear"}),{autoFocus:o,className:l,children:u,disabled:f,value:i,tabIndex:_,onClick:b,onKeyDown:E,onFocus:k,onBlur:R,"aria-current":B}=r,F=nn(r,SJ),L=U.useRef(null),X=TJ(r);return U.useEffect(()=>{o&&L.current.focus()},[o]),V.jsx(CJ,J({className:mn(X.root,l),ownerState:r},F,{children:V.jsx(EJ,{ref:L,disabled:f,type:"button",tabIndex:f?-1:_,"aria-current":B,onClick:$=>b($,i),onKeyDown:$=>E($,i),onFocus:$=>k($,i),onBlur:$=>R($,i),className:X.yearButton,ownerState:r,children:u})}))});function kJ(e){return qn("MuiYearCalendar",e)}jn("MuiYearCalendar",["root"]);const MJ=["autoFocus","className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsPerRow","timezone"],IJ=e=>{const{classes:t}=e;return Hn({root:["root"]},kJ,t)};function AJ(e,t){const r=hi(),o=n0(),l=Nn({props:e,name:t});return J({disablePast:!1,disableFuture:!1},l,{minDate:al(r,l.minDate,o.minDate),maxDate:al(r,l.maxDate,o.maxDate)})}const DJ=It("div",{name:"MuiYearCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",width:320,maxHeight:304}),RJ=U.forwardRef(function(t,r){const o=AJ(t,"MuiYearCalendar"),{autoFocus:l,className:u,value:f,defaultValue:i,referenceDate:_,disabled:b,disableFuture:E,disablePast:k,maxDate:R,minDate:B,onChange:F,readOnly:L,shouldDisableYear:X,disableHighlightToday:$,onYearFocus:H,hasFocus:G,onFocusedViewChange:Q,yearsPerRow:te=3,timezone:le}=o,M=nn(o,MJ),{value:de,handleValueChange:ce,timezone:xe}=r0({name:"YearCalendar",timezone:le,value:f,defaultValue:i,onChange:F,valueManager:$l}),ke=qh(xe),$e=Yf(),_e=hi(),we=U.useMemo(()=>$l.getInitialReferenceValue({value:de,utils:_e,props:o,timezone:xe,referenceDate:_,granularity:yc.year}),[]),me=o,je=IJ(me),ze=U.useMemo(()=>_e.getYear(ke),[_e,ke]),Me=U.useMemo(()=>de!=null?_e.getYear(de):$?null:_e.getYear(we),[de,_e,$,we]),[Le,qe]=U.useState(()=>Me||ze),[ct,wt]=Js({name:"YearCalendar",state:"hasFocus",controlled:G,default:l??!1}),St=Fn(ft=>{wt(ft),Q&&Q(ft)}),ht=U.useCallback(ft=>{if(k&&_e.isBeforeYear(ft,ke)||E&&_e.isAfterYear(ft,ke)||B&&_e.isBeforeYear(ft,B)||R&&_e.isAfterYear(ft,R))return!0;if(!X)return!1;const Ft=_e.startOfYear(ft);return X(Ft)},[E,k,R,B,ke,X,_e]),Dt=Fn((ft,Ft)=>{if(L)return;const un=_e.setYear(de??we,Ft);ce(un)}),bt=Fn(ft=>{ht(_e.setYear(de??we,ft))||(qe(ft),St(!0),H==null||H(ft))});U.useEffect(()=>{qe(ft=>Me!==null&&ft!==Me?Me:ft)},[Me]);const Et=Fn((ft,Ft)=>{switch(ft.key){case"ArrowUp":bt(Ft-te),ft.preventDefault();break;case"ArrowDown":bt(Ft+te),ft.preventDefault();break;case"ArrowLeft":bt(Ft+($e.direction==="ltr"?-1:1)),ft.preventDefault();break;case"ArrowRight":bt(Ft+($e.direction==="ltr"?1:-1)),ft.preventDefault();break}}),Xt=Fn((ft,Ft)=>{bt(Ft)}),rn=Fn((ft,Ft)=>{Le===Ft&&St(!1)}),_t=U.useRef(null),at=mi(r,_t);return U.useEffect(()=>{if(l||_t.current===null)return;const ft=_t.current.querySelector('[tabindex="0"]');if(!ft)return;const Ft=ft.offsetHeight,un=ft.offsetTop,rt=_t.current.clientHeight,an=_t.current.scrollTop,Tt=un+Ft;Ft>rt||un<an||(_t.current.scrollTop=Tt-rt/2-Ft/2)},[l]),V.jsx(DJ,J({ref:at,className:mn(je.root,u),ownerState:me},M,{children:_e.getYearRange(B,R).map(ft=>{const Ft=_e.getYear(ft),un=Ft===Me,rt=b||ht(ft);return V.jsx(PJ,{selected:un,value:Ft,onClick:Dt,onKeyDown:Et,autoFocus:ct&&Ft===Le,disabled:rt,tabIndex:Ft===Le?0:-1,onFocus:Xt,onBlur:rn,"aria-current":ze===Ft?"date":void 0,yearsPerRow:te,children:_e.format(ft,"year")},_e.format(ft,"year"))})}))});function Pv({onChange:e,onViewChange:t,openTo:r,view:o,views:l,autoFocus:u,focusedView:f,onFocusedViewChange:i}){var _,b;const E=U.useRef(r),k=U.useRef(l),R=U.useRef(l.includes(r)?r:l[0]),[B,F]=Js({name:"useViews",state:"view",controlled:o,default:R.current}),L=U.useRef(u?B:null),[X,$]=Js({name:"useViews",state:"focusedView",controlled:f,default:L.current});U.useEffect(()=>{(E.current&&E.current!==r||k.current&&k.current.some(xe=>!l.includes(xe)))&&(F(l.includes(r)?r:l[0]),k.current=l,E.current=r)},[r,F,B,l]);const H=l.indexOf(B),G=(_=l[H-1])!=null?_:null,Q=(b=l[H+1])!=null?b:null,te=Fn((xe,ke)=>{$(ke?xe:$e=>xe===$e?null:$e),i==null||i(xe,ke)}),le=Fn(xe=>{xe!==B&&(F(xe),te(xe,!0),t&&t(xe))}),M=Fn(()=>{Q&&le(Q),te(Q,!0)}),de=Fn((xe,ke,$e)=>{const _e=ke==="finish",we=$e?l.indexOf($e)<l.length-1:!!Q;e(xe,_e&&we?"partial":ke),_e&&M()}),ce=Fn((xe,ke,$e)=>{e(xe,ke?"partial":"finish",$e),ke&&(le(ke),te(ke,!0))});return{view:B,setView:le,focusedView:X,setFocusedView:te,nextView:Q,previousView:G,defaultView:R.current,goToNextView:M,setValueAndGoToNextView:de,setValueAndGoToView:ce}}function zJ(e){return qn("MuiIconButton",e)}const LJ=jn("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),OJ=LJ,FJ=["edge","children","className","color","disabled","disableFocusRipple","size"],BJ=e=>{const{classes:t,disabled:r,color:o,edge:l,size:u}=e,f={root:["root",r&&"disabled",o!=="default"&&`color${wn(o)}`,l&&`edge${wn(l)}`,`size${wn(u)}`]};return Hn(f,zJ,t)},NJ=It(vu,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color!=="default"&&t[`color${wn(r.color)}`],r.edge&&t[`edge${wn(r.edge)}`],t[`size${wn(r.size)}`]]}})(({theme:e,ownerState:t})=>J({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Rr(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:e,ownerState:t})=>{var r;const o=(r=(e.vars||e).palette)==null?void 0:r[t.color];return J({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&J({color:o==null?void 0:o.main},!t.disableRipple&&{"&:hover":J({},o&&{backgroundColor:e.vars?`rgba(${o.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Rr(o.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${OJ.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),$J=U.forwardRef(function(t,r){const o=Nn({props:t,name:"MuiIconButton"}),{edge:l=!1,children:u,className:f,color:i="default",disabled:_=!1,disableFocusRipple:b=!1,size:E="medium"}=o,k=nn(o,FJ),R=J({},o,{edge:l,color:i,disabled:_,disableFocusRipple:b,size:E}),B=BJ(R);return V.jsx(NJ,J({className:mn(B.root,f),centerRipple:!0,focusRipple:!b,disabled:_,ref:r,ownerState:R},k,{children:u}))}),Zh=$J;function jJ(e){return qn("MuiPickersArrowSwitcher",e)}jn("MuiPickersArrowSwitcher",["root","spacer","button"]);const VJ=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel"],UJ=["ownerState"],WJ=["ownerState"],HJ=It("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex"}),GJ=It("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(e,t)=>t.spacer})(({theme:e})=>({width:e.spacing(3)})),B8=It(Zh,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(e,t)=>t.button})(({ownerState:e})=>J({},e.hidden&&{visibility:"hidden"})),qJ=e=>{const{classes:t}=e;return Hn({root:["root"],spacer:["spacer"],button:["button"]},jJ,t)},bI=U.forwardRef(function(t,r){var o,l,u,f;const _=cl().direction==="rtl",b=Nn({props:t,name:"MuiPickersArrowSwitcher"}),{children:E,className:k,slots:R,slotProps:B,isNextDisabled:F,isNextHidden:L,onGoToNext:X,nextLabel:$,isPreviousDisabled:H,isPreviousHidden:G,onGoToPrevious:Q,previousLabel:te}=b,le=nn(b,VJ),M=b,de=qJ(M),ce={isDisabled:F,isHidden:L,goTo:X,label:$},xe={isDisabled:H,isHidden:G,goTo:Q,label:te},[ke,$e]=_?[ce,xe]:[xe,ce],_e=(o=R==null?void 0:R.previousIconButton)!=null?o:B8,we=Ri({elementType:_e,externalSlotProps:B==null?void 0:B.previousIconButton,additionalProps:{size:"medium",title:ke.label,"aria-label":ke.label,disabled:ke.isDisabled,edge:"end",onClick:ke.goTo},ownerState:J({},M,{hidden:ke.isHidden}),className:de.button}),me=(l=R==null?void 0:R.nextIconButton)!=null?l:B8,je=Ri({elementType:me,externalSlotProps:B==null?void 0:B.nextIconButton,additionalProps:{size:"medium",title:$e.label,"aria-label":$e.label,disabled:$e.isDisabled,edge:"start",onClick:$e.goTo},ownerState:J({},M,{hidden:$e.isHidden}),className:de.button}),ze=(u=R==null?void 0:R.leftArrowIcon)!=null?u:EY,Me=Ri({elementType:ze,externalSlotProps:B==null?void 0:B.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),Le=nn(Me,UJ),qe=(f=R==null?void 0:R.rightArrowIcon)!=null?f:PY,ct=Ri({elementType:qe,externalSlotProps:B==null?void 0:B.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),wt=nn(ct,WJ);return V.jsxs(HJ,J({ref:r,className:mn(de.root,k),ownerState:M},le,{children:[V.jsx(_e,J({},we,{children:_?V.jsx(qe,J({},wt)):V.jsx(ze,J({},Le))})),E?V.jsx(_u,{variant:"subtitle1",component:"span",children:E}):V.jsx(GJ,{className:de.spacer,ownerState:M}),V.jsx(me,J({},je,{children:_?V.jsx(ze,J({},Le)):V.jsx(qe,J({},wt))}))]}))}),ZJ=e=>qn("MuiPickersCalendarHeader",e),XJ=jn("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),YJ=["ownerState"],KJ=e=>{const{classes:t}=e;return Hn({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},ZJ,t)},JJ=It("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",alignItems:"center",marginTop:16,marginBottom:8,paddingLeft:24,paddingRight:12,maxHeight:30,minHeight:30}),QJ=It("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(e,t)=>t.labelContainer})(({theme:e})=>J({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},e.typography.body1,{fontWeight:e.typography.fontWeightMedium})),eQ=It("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(e,t)=>t.label})({marginRight:6}),tQ=It(Zh,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(e,t)=>t.switchViewButton})(({ownerState:e})=>J({marginRight:"auto"},e.view==="year"&&{[`.${XJ.switchViewIcon}`]:{transform:"rotate(180deg)"}})),nQ=It(CY,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(e,t)=>t.switchViewIcon})(({theme:e})=>({willChange:"transform",transition:e.transitions.create("transform"),transform:"rotate(0deg)"}));function rQ(e){var t,r;const o=jl(),l=hi(),u=Nn({props:e,name:"MuiPickersCalendarHeader"}),{slots:f,slotProps:i,currentMonth:_,disabled:b,disableFuture:E,disablePast:k,maxDate:R,minDate:B,onMonthChange:F,onViewChange:L,view:X,reduceAnimations:$,views:H,labelId:G,timezone:Q}=u,te=u,le=KJ(u),M=(t=f==null?void 0:f.switchViewButton)!=null?t:tQ,de=Ri({elementType:M,externalSlotProps:i==null?void 0:i.switchViewButton,additionalProps:{size:"small","aria-label":o.calendarViewSwitchingButtonAriaLabel(X)},ownerState:te,className:le.switchViewButton}),ce=(r=f==null?void 0:f.switchViewIcon)!=null?r:nQ,xe=Ri({elementType:ce,externalSlotProps:i==null?void 0:i.switchViewIcon,ownerState:void 0,className:le.switchViewIcon}),ke=nn(xe,YJ),$e=()=>F(l.addMonths(_,1),"left"),_e=()=>F(l.addMonths(_,-1),"right"),we=SK(_,{disableFuture:E,maxDate:R,timezone:Q}),me=TK(_,{disablePast:k,minDate:B,timezone:Q}),je=()=>{if(!(H.length===1||!L||b))if(H.length===2)L(H.find(ze=>ze!==X)||H[0]);else{const ze=H.indexOf(X)!==0?0:1;L(H[ze])}};return H.length===1&&H[0]==="year"?null:V.jsxs(JJ,{ownerState:te,className:le.root,children:[V.jsxs(QJ,{role:"presentation",onClick:je,ownerState:te,"aria-live":"polite",className:le.labelContainer,children:[V.jsx(gI,{reduceAnimations:$,transKey:l.format(_,"monthAndYear"),children:V.jsx(eQ,{id:G,ownerState:te,className:le.label,children:l.format(_,"monthAndYear")})}),H.length>1&&!b&&V.jsx(M,J({},de,{children:V.jsx(ce,J({},ke))}))]}),V.jsx(t0,{in:X==="day",children:V.jsx(bI,{slots:f,slotProps:i,onGoToPrevious:_e,isPreviousDisabled:me,previousLabel:o.previousMonth,onGoToNext:$e,isNextDisabled:we,nextLabel:o.nextMonth})})]})}const N5=It("div")({overflow:"hidden",width:uI,maxHeight:dI,display:"flex",flexDirection:"column",margin:"0 auto"}),iQ=typeof navigator<"u"&&/(android)/i.test(navigator.userAgent),oQ=e=>qn("MuiDateCalendar",e);jn("MuiDateCalendar",["root","viewTransitionContainer"]);const sQ=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","defaultCalendarMonth","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","components","componentsProps","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsPerRow","monthsPerRow","timezone"],aQ=e=>{const{classes:t}=e;return Hn({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},oQ,t)};function lQ(e,t){const r=hi(),o=n0(),l=Nn({props:e,name:t});return J({loading:!1,disablePast:!1,disableFuture:!1,openTo:"day",views:["year","day"],reduceAnimations:iQ,renderLoading:()=>V.jsx("span",{children:"..."})},l,{minDate:al(r,l.minDate,o.minDate),maxDate:al(r,l.maxDate,o.maxDate)})}const cQ=It(N5,{name:"MuiDateCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"column"}),uQ=It(gI,{name:"MuiDateCalendar",slot:"ViewTransitionContainer",overridesResolver:(e,t)=>t.viewTransitionContainer})({}),wI=U.forwardRef(function(t,r){const o=hi(),l=Ed(),u=lQ(t,"MuiDateCalendar"),{autoFocus:f,onViewChange:i,value:_,defaultValue:b,referenceDate:E,disableFuture:k,disablePast:R,defaultCalendarMonth:B,onChange:F,onYearChange:L,onMonthChange:X,reduceAnimations:$,shouldDisableDate:H,shouldDisableMonth:G,shouldDisableYear:Q,view:te,views:le,openTo:M,className:de,disabled:ce,readOnly:xe,minDate:ke,maxDate:$e,disableHighlightToday:_e,focusedView:we,onFocusedViewChange:me,showDaysOutsideCurrentMonth:je,fixedWeekNumber:ze,dayOfWeekFormatter:Me,components:Le,componentsProps:qe,slots:ct,slotProps:wt,loading:St,renderLoading:ht,displayWeekNumber:Dt,yearsPerRow:bt,monthsPerRow:Et,timezone:Xt}=u,rn=nn(u,sQ),{value:_t,handleValueChange:at,timezone:ft}=r0({name:"DateCalendar",timezone:Xt,value:_,defaultValue:b,onChange:F,valueManager:$l}),{view:Ft,setView:un,focusedView:rt,setFocusedView:an,goToNextView:Tt,setValueAndGoToNextView:on}=Pv({view:te,views:le,openTo:M,onChange:at,onViewChange:i,autoFocus:f,focusedView:we,onFocusedViewChange:me}),{referenceDate:ln,calendarState:sn,changeFocusedDay:Qt,changeMonth:Tn,handleChangeMonth:Zn,isDateDisabled:hr,onMonthSwitchingAnimationEnd:$t}=RK({value:_t,defaultCalendarMonth:B,referenceDate:E,reduceAnimations:$,onMonthChange:X,minDate:ke,maxDate:$e,shouldDisableDate:H,disablePast:R,disableFuture:k,timezone:ft}),Dn=Fn(Ee=>{const ae=o.startOfMonth(Ee),ue=o.endOfMonth(Ee),Pe=hr(Ee)?Ym({utils:o,date:Ee,minDate:o.isBefore(ke,ae)?ae:ke,maxDate:o.isAfter($e,ue)?ue:$e,disablePast:R,disableFuture:k,isDateDisabled:hr,timezone:ft}):Ee;Pe?(on(Pe,"finish"),X==null||X(ae)):(Tt(),Tn(ae)),Qt(Pe,!0)}),Wn=Fn(Ee=>{const ae=o.startOfYear(Ee),ue=o.endOfYear(Ee),Pe=hr(Ee)?Ym({utils:o,date:Ee,minDate:o.isBefore(ke,ae)?ae:ke,maxDate:o.isAfter($e,ue)?ue:$e,disablePast:R,disableFuture:k,isDateDisabled:hr,timezone:ft}):Ee;Pe?(on(Pe,"finish"),L==null||L(Pe)):(Tt(),Tn(ae)),Qt(Pe,!0)}),Cn=Fn(Ee=>at(Ee&&xw(o,Ee,_t??ln),"finish"));U.useEffect(()=>{_t!=null&&o.isValid(_t)&&Tn(_t)},[_t]);const Pn=u,In=aQ(Pn),er={disablePast:R,disableFuture:k,maxDate:$e,minDate:ke},dn=ce&&_t||ke,yn=ce&&_t||$e,zn={disableHighlightToday:_e,readOnly:xe,disabled:ce,timezone:ft},Qn=`${l}-grid-label`,Cr=rt!==null,Ur=U.useRef(Ft);U.useEffect(()=>{Ur.current!==Ft&&(rt===Ur.current&&an(Ft,!0),Ur.current=Ft)},[rt,an,Ft]);const yi=U.useMemo(()=>[_t],[_t]);return V.jsxs(cQ,J({ref:r,className:mn(In.root,de),ownerState:Pn},rn,{children:[V.jsx(rQ,{views:le,view:Ft,currentMonth:sn.currentMonth,onViewChange:un,onMonthChange:(Ee,ae)=>Zn({newMonth:Ee,direction:ae}),minDate:dn,maxDate:yn,disabled:ce,disablePast:R,disableFuture:k,reduceAnimations:$,labelId:Qn,slots:ct,slotProps:wt,timezone:ft}),V.jsx(uQ,{reduceAnimations:$,className:In.viewTransitionContainer,transKey:Ft,ownerState:Pn,children:V.jsxs("div",{children:[Ft==="year"&&V.jsx(RJ,J({},er,zn,{value:_t,onChange:Wn,shouldDisableYear:Q,hasFocus:Cr,onFocusedViewChange:Ee=>an("year",Ee),yearsPerRow:bt,referenceDate:ln})),Ft==="month"&&V.jsx(bJ,J({},er,zn,{hasFocus:Cr,className:de,value:_t,onChange:Dn,shouldDisableMonth:G,onFocusedViewChange:Ee=>an("month",Ee),monthsPerRow:Et,referenceDate:ln})),Ft==="day"&&V.jsx(cJ,J({},sn,er,zn,{onMonthSwitchingAnimationEnd:$t,onFocusedDayChange:Qt,reduceAnimations:$,selectedDays:yi,onSelectedDaysChange:Cn,shouldDisableDate:H,shouldDisableMonth:G,shouldDisableYear:Q,hasFocus:Cr,onFocusedViewChange:Ee=>an("day",Ee),gridLabelId:Qn,showDaysOutsideCurrentMonth:je,fixedWeekNumber:ze,dayOfWeekFormatter:Me,displayWeekNumber:Dt,components:Le,componentsProps:qe,slots:ct,slotProps:wt,loading:St,renderLoading:ht}))]})})]}))}),vf=({view:e,onViewChange:t,views:r,focusedView:o,onFocusedViewChange:l,value:u,defaultValue:f,onChange:i,className:_,classes:b,disableFuture:E,disablePast:k,minDate:R,maxDate:B,shouldDisableDate:F,shouldDisableMonth:L,shouldDisableYear:X,reduceAnimations:$,onMonthChange:H,monthsPerRow:G,onYearChange:Q,yearsPerRow:te,defaultCalendarMonth:le,components:M,componentsProps:de,slots:ce,slotProps:xe,loading:ke,renderLoading:$e,disableHighlightToday:_e,readOnly:we,disabled:me,showDaysOutsideCurrentMonth:je,dayOfWeekFormatter:ze,sx:Me,autoFocus:Le,fixedWeekNumber:qe,displayWeekNumber:ct,timezone:wt})=>V.jsx(wI,{view:e,onViewChange:t,views:r.filter(yf),focusedView:o&&yf(o)?o:null,onFocusedViewChange:l,value:u,defaultValue:f,onChange:i,className:_,classes:b,disableFuture:E,disablePast:k,minDate:R,maxDate:B,shouldDisableDate:F,shouldDisableMonth:L,shouldDisableYear:X,reduceAnimations:$,onMonthChange:H,monthsPerRow:G,onYearChange:Q,yearsPerRow:te,defaultCalendarMonth:le,components:M,componentsProps:de,slots:ce,slotProps:xe,loading:ke,renderLoading:$e,disableHighlightToday:_e,readOnly:we,disabled:me,showDaysOutsideCurrentMonth:je,dayOfWeekFormatter:ze,sx:Me,autoFocus:Le,fixedWeekNumber:qe,displayWeekNumber:ct,timezone:wt});function dQ(e){return qn("MuiDivider",e)}const N8=jn("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),hQ=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],pQ=e=>{const{absolute:t,children:r,classes:o,flexItem:l,light:u,orientation:f,textAlign:i,variant:_}=e;return Hn({root:["root",t&&"absolute",_,u&&"light",f==="vertical"&&"vertical",l&&"flexItem",r&&"withChildren",r&&f==="vertical"&&"withChildrenVertical",i==="right"&&f!=="vertical"&&"textAlignRight",i==="left"&&f!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",f==="vertical"&&"wrapperVertical"]},dQ,o)},fQ=It("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.absolute&&t.absolute,t[r.variant],r.light&&t.light,r.orientation==="vertical"&&t.vertical,r.flexItem&&t.flexItem,r.children&&t.withChildren,r.children&&r.orientation==="vertical"&&t.withChildrenVertical,r.textAlign==="right"&&r.orientation!=="vertical"&&t.textAlignRight,r.textAlign==="left"&&r.orientation!=="vertical"&&t.textAlignLeft]}})(({theme:e,ownerState:t})=>J({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:Rr(e.palette.divider,.08)},t.variant==="inset"&&{marginLeft:72},t.variant==="middle"&&t.orientation==="horizontal"&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},t.variant==="middle"&&t.orientation==="vertical"&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},t.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:e})=>J({},e.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:e,ownerState:t})=>J({},t.children&&t.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`}}),({theme:e,ownerState:t})=>J({},t.children&&t.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`}}),({ownerState:e})=>J({},e.textAlign==="right"&&e.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},e.textAlign==="left"&&e.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),mQ=It("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.wrapper,r.orientation==="vertical"&&t.wrapperVertical]}})(({theme:e,ownerState:t})=>J({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},t.orientation==="vertical"&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`})),gQ=U.forwardRef(function(t,r){const o=Nn({props:t,name:"MuiDivider"}),{absolute:l=!1,children:u,className:f,component:i=u?"div":"hr",flexItem:_=!1,light:b=!1,orientation:E="horizontal",role:k=i!=="hr"?"separator":void 0,textAlign:R="center",variant:B="fullWidth"}=o,F=nn(o,hQ),L=J({},o,{absolute:l,component:i,flexItem:_,light:b,orientation:E,role:k,textAlign:R,variant:B}),X=pQ(L);return V.jsx(fQ,J({as:i,className:mn(X.root,f),role:k,ref:r,ownerState:L},F,{children:u?V.jsx(mQ,{className:X.wrapper,ownerState:L,children:u}):null}))}),$8=gQ;function yQ(e){return qn("MuiMultiSectionDigitalClock",e)}jn("MuiMultiSectionDigitalClock",["root"]);const _Q=jn("MuiListItemIcon",["root","alignItemsFlexStart"]),j8=_Q,vQ=jn("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),V8=vQ;function xQ(e){return qn("MuiMenuItem",e)}const bQ=jn("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Sm=bQ,wQ=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],SQ=(e,t)=>{const{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.divider&&t.divider,!r.disableGutters&&t.gutters]},TQ=e=>{const{disabled:t,dense:r,divider:o,disableGutters:l,selected:u,classes:f}=e,_=Hn({root:["root",r&&"dense",t&&"disabled",!l&&"gutters",o&&"divider",u&&"selected"]},xQ,f);return J({},f,_)},CQ=It(vu,{shouldForwardProp:e=>Dc(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:SQ})(({theme:e,ownerState:t})=>J({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Sm.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Rr(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Sm.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Rr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${Sm.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Rr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Rr(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${Sm.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Sm.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${N8.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${N8.inset}`]:{marginLeft:52},[`& .${V8.root}`]:{marginTop:0,marginBottom:0},[`& .${V8.inset}`]:{paddingLeft:36},[`& .${j8.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&J({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${j8.root} svg`]:{fontSize:"1.25rem"}}))),EQ=U.forwardRef(function(t,r){const o=Nn({props:t,name:"MuiMenuItem"}),{autoFocus:l=!1,component:u="li",dense:f=!1,divider:i=!1,disableGutters:_=!1,focusVisibleClassName:b,role:E="menuitem",tabIndex:k,className:R}=o,B=nn(o,wQ),F=U.useContext(Ch),L=U.useMemo(()=>({dense:f||F.dense||!1,disableGutters:_}),[F.dense,f,_]),X=U.useRef(null);wo(()=>{l&&X.current&&X.current.focus()},[l]);const $=J({},o,{dense:L.dense,divider:i,disableGutters:_}),H=TQ(o),G=mi(X,r);let Q;return o.disabled||(Q=k!==void 0?k:-1),V.jsx(Ch.Provider,{value:L,children:V.jsx(CQ,J({ref:G,role:E,tabIndex:Q,component:u,focusVisibleClassName:mn(H.focusVisible,b),className:mn(H.root,R)},B,{ownerState:$,classes:H}))})}),PQ=EQ;function kQ(e){return qn("MuiMultiSectionDigitalClock",e)}const MQ=jn("MuiMultiSectionDigitalClock",["root","item"]),IQ=["autoFocus","onChange","className","disabled","readOnly","items","active","slots","slotProps","skipDisabled"],AQ=e=>{const{classes:t}=e;return Hn({root:["root"],item:["item"]},kQ,t)},DQ=It(TM,{name:"MuiMultiSectionDigitalClockSection",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e,ownerState:t})=>({maxHeight:CK,width:56,padding:0,overflow:"hidden",scrollBehavior:t.alreadyRendered?"smooth":"auto","&:hover":{overflowY:"auto"},"&:not(:first-of-type)":{borderLeft:`1px solid ${(e.vars||e).palette.divider}`},"&:after":{display:"block",content:'""',height:"calc(100% - 40px - 6px)"}})),RQ=It(PQ,{name:"MuiMultiSectionDigitalClockSection",slot:"Item",overridesResolver:(e,t)=>t.item})(({theme:e})=>({padding:8,margin:"2px 4px",width:Im,justifyContent:"center","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Rr(e.palette.primary.main,e.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(e.vars||e).palette.primary.main,color:(e.vars||e).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:Rr(e.palette.primary.main,e.palette.action.focusOpacity)}})),zQ=U.forwardRef(function(t,r){var o;const l=U.useRef(null),u=mi(r,l),f=Nn({props:t,name:"MuiMultiSectionDigitalClockSection"}),{autoFocus:i,onChange:_,className:b,disabled:E,readOnly:k,items:R,active:B,slots:F,slotProps:L,skipDisabled:X}=f,$=nn(f,IQ),H=U.useMemo(()=>J({},f,{alreadyRendered:!!l.current}),[f]),G=AQ(H),Q=(o=F==null?void 0:F.digitalClockSectionItem)!=null?o:RQ;return U.useEffect(()=>{if(l.current===null)return;const te=l.current.querySelector('[role="option"][aria-selected="true"]');if(!te)return;B&&i&&te.focus();const le=te.offsetTop;l.current.scrollTop=le-4}),V.jsx(DQ,J({ref:u,className:mn(G.root,b),ownerState:H,autoFocusItem:i&&B,role:"listbox"},$,{children:R.map(te=>{var le,M;if(X&&(le=te.isDisabled)!=null&&le.call(te,te.value))return null;const de=te.isSelected(te.value);return V.jsx(Q,J({onClick:()=>!k&&_(te.value),selected:de,disabled:E||((M=te.isDisabled)==null?void 0:M.call(te,te.value)),disableRipple:k,role:"option","aria-disabled":k,"aria-label":te.ariaLabel,"aria-selected":de},L==null?void 0:L.digitalClockSectionItem,{children:te.label}),te.label)})}))}),LQ=({now:e,value:t,utils:r,ampm:o,isDisabled:l,resolveAriaLabel:u,timeStep:f})=>{const i=t?r.getHours(t):null,_=[],b=k=>i===null?!1:o?k===12?i===12||i===0:i===k||i-12===k:i===k,E=o?11:23;for(let k=0;k<=E;k+=f){let R=r.format(r.setHours(e,k),o?"hours12h":"hours24h");const B=u(parseInt(R,10).toString());R=r.formatNumber(R),_.push({value:k,label:R,isSelected:b,isDisabled:l,ariaLabel:B})}return _},U8=({value:e,isDisabled:t,timeStep:r,resolveLabel:o,resolveAriaLabel:l,hasValue:u=!0})=>{const f=i=>e===null?!1:u&&e===i;return[...Array.from({length:Math.ceil(60/r)},(i,_)=>{const b=r*_;return{value:b,label:o(b),isDisabled:t,isSelected:f,ariaLabel:l(b.toString())}})]},OQ=["ampm","timeSteps","autoFocus","components","componentsProps","slots","slotProps","value","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableClock","shouldDisableTime","onChange","defaultValue","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","skipDisabled","timezone"],FQ=e=>{const{classes:t}=e;return Hn({root:["root"]},yQ,t)},BQ=It(N5,{name:"MuiMultiSectionDigitalClock",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({display:"flex",flexDirection:"row",width:"100%",borderBottom:`1px solid ${(e.vars||e).palette.divider}`})),NQ=U.forwardRef(function(t,r){const o=hi(),l=Nn({props:t,name:"MuiMultiSectionDigitalClock"}),{ampm:u=o.is12HourCycleInCurrentLocale(),timeSteps:f,autoFocus:i,components:_,componentsProps:b,slots:E,slotProps:k,value:R,disableIgnoringDatePartForTimeValidation:B=!1,maxTime:F,minTime:L,disableFuture:X,disablePast:$,minutesStep:H=1,shouldDisableClock:G,shouldDisableTime:Q,onChange:te,defaultValue:le,view:M,views:de=["hours","minutes"],openTo:ce,onViewChange:xe,focusedView:ke,onFocusedViewChange:$e,className:_e,disabled:we,readOnly:me,skipDisabled:je=!1,timezone:ze}=l,Me=nn(l,OQ),{value:Le,handleValueChange:qe,timezone:ct}=r0({name:"MultiSectionDigitalClock",timezone:ze,value:R,defaultValue:le,onChange:te,valueManager:$l}),wt=jl(),St=qh(ct),ht=U.useMemo(()=>J({hours:1,minutes:5,seconds:5},f),[f]),Dt=Fn((sn,Qt,Tn)=>qe(sn,Qt,Tn)),bt=U.useMemo(()=>!u||!de.includes("hours")||de.includes("meridiem")?de:[...de,"meridiem"],[u,de]),{view:Et,setValueAndGoToView:Xt,focusedView:rn}=Pv({view:M,views:bt,openTo:ce,onViewChange:xe,onChange:Dt,focusedView:ke,onFocusedViewChange:$e}),_t=U.useMemo(()=>Le||o.setSeconds(o.setMinutes(o.setHours(St,0),0),0),[Le,St,o]),at=Fn(sn=>{Xt(sn,null,"meridiem")}),{meridiemMode:ft,handleMeridiemChange:Ft}=F5(_t,u,at,"finish"),un=U.useCallback((sn,Qt)=>{const Tn=Sv(B,o),Zn=Qt==="hours"||Qt==="minutes"&&bt.includes("seconds"),hr=({start:Dn,end:Wn})=>!(L&&Tn(L,Wn)||F&&Tn(Dn,F)||X&&Tn(Dn,St)||$&&Tn(St,Zn?Wn:Dn)),$t=(Dn,Wn=1)=>{if(Dn%Wn!==0||G!=null&&G(Dn,Qt))return!1;if(Q)switch(Qt){case"hours":return!Q(o.setHours(_t,Dn),"hours");case"minutes":return!Q(o.setMinutes(_t,Dn),"minutes");case"seconds":return!Q(o.setSeconds(_t,Dn),"seconds");default:return!1}return!0};switch(Qt){case"hours":{const Dn=Ag(sn,ft,u),Wn=o.setHours(_t,Dn),Cn=o.setSeconds(o.setMinutes(Wn,0),0),Pn=o.setSeconds(o.setMinutes(Wn,59),59);return!hr({start:Cn,end:Pn})||!$t(Dn)}case"minutes":{const Dn=o.setMinutes(_t,sn),Wn=o.setSeconds(Dn,0),Cn=o.setSeconds(Dn,59);return!hr({start:Wn,end:Cn})||!$t(sn,H)}case"seconds":{const Dn=o.setSeconds(_t,sn);return!hr({start:Dn,end:Dn})||!$t(sn)}default:throw new Error("not supported")}},[u,_t,B,F,ft,L,H,G,Q,o,X,$,St,bt]),rt=Fn((sn,Qt)=>{const Tn=bt.indexOf(sn),Zn=bt[Tn+1];Xt(Qt,Zn,sn)}),an=U.useCallback(sn=>{switch(sn){case"hours":return{onChange:Qt=>{const Tn=Ag(Qt,ft,u);rt("hours",o.setHours(_t,Tn))},items:LQ({now:St,value:Le,ampm:u,utils:o,isDisabled:Qt=>we||un(Qt,"hours"),timeStep:ht.hours,resolveAriaLabel:wt.hoursClockNumberText})};case"minutes":return{onChange:Qt=>{rt("minutes",o.setMinutes(_t,Qt))},items:U8({value:o.getMinutes(_t),isDisabled:Qt=>we||un(Qt,"minutes"),resolveLabel:Qt=>o.format(o.setMinutes(St,Qt),"minutes"),timeStep:ht.minutes,hasValue:!!Le,resolveAriaLabel:wt.minutesClockNumberText})};case"seconds":return{onChange:Qt=>{rt("seconds",o.setSeconds(_t,Qt))},items:U8({value:o.getSeconds(_t),isDisabled:Qt=>we||un(Qt,"seconds"),resolveLabel:Qt=>o.format(o.setSeconds(St,Qt),"seconds"),timeStep:ht.seconds,hasValue:!!Le,resolveAriaLabel:wt.secondsClockNumberText})};case"meridiem":{const Qt=o.getMeridiemText("am"),Tn=o.getMeridiemText("pm");return{onChange:Ft,items:[{value:"am",label:Qt,isSelected:()=>!!Le&&ft==="am",ariaLabel:Qt},{value:"pm",label:Tn,isSelected:()=>!!Le&&ft==="pm",ariaLabel:Tn}]}}default:throw new Error(`Unknown view: ${sn} found.`)}},[St,Le,u,o,ht.hours,ht.minutes,ht.seconds,wt.hoursClockNumberText,wt.minutesClockNumberText,wt.secondsClockNumberText,ft,rt,_t,we,un,Ft]),Tt=U.useMemo(()=>bt.reduce((sn,Qt)=>J({},sn,{[Qt]:an(Qt)}),{}),[bt,an]),on=l,ln=FQ(on);return V.jsx(BQ,J({ref:r,className:mn(ln.root,_e),ownerState:on,role:"group"},Me,{children:Object.entries(Tt).map(([sn,Qt])=>V.jsx(zQ,{items:Qt.items,onChange:Qt.onChange,active:Et===sn,autoFocus:i??rn===sn,disabled:we,readOnly:me,slots:E??_,slotProps:k??b,skipDisabled:je,"aria-label":wt.selectViewText(sn)},sn))}))}),$Q=It("div")({display:"flex",margin:"0 auto"}),ch=({view:e,onViewChange:t,views:r,focusedView:o,onFocusedViewChange:l,value:u,defaultValue:f,onChange:i,className:_,classes:b,disableFuture:E,disablePast:k,minDate:R,minTime:B,maxDate:F,maxTime:L,shouldDisableDate:X,shouldDisableMonth:$,shouldDisableYear:H,shouldDisableTime:G,shouldDisableClock:Q,reduceAnimations:te,minutesStep:le,ampm:M,onMonthChange:de,monthsPerRow:ce,onYearChange:xe,yearsPerRow:ke,defaultCalendarMonth:$e,components:_e,componentsProps:we,slots:me,slotProps:je,loading:ze,renderLoading:Me,disableHighlightToday:Le,readOnly:qe,disabled:ct,showDaysOutsideCurrentMonth:wt,dayOfWeekFormatter:St,sx:ht,autoFocus:Dt,fixedWeekNumber:bt,displayWeekNumber:Et,timezone:Xt,disableIgnoringDatePartForTimeValidation:rn,timeSteps:_t,skipDisabled:at,timeViewsCount:ft})=>{var Ft,un,rt;const an=!!((Ft=Df((rt=je==null?void 0:je.actionBar)!=null?rt:we==null?void 0:we.actionBar,{}))!=null&&(un=Ft.actions)!=null&&un.length);return V.jsxs(U.Fragment,{children:[V.jsxs($Q,{children:[V.jsx(wI,{view:yf(e)?e:"day",onViewChange:t,views:r.filter(yf),focusedView:o&&yf(o)?o:null,onFocusedViewChange:l,value:u,defaultValue:f,onChange:i,className:_,classes:b,disableFuture:E,disablePast:k,minDate:R,maxDate:F,shouldDisableDate:X,shouldDisableMonth:$,shouldDisableYear:H,reduceAnimations:te,onMonthChange:de,monthsPerRow:ce,onYearChange:xe,yearsPerRow:ke,defaultCalendarMonth:$e,components:_e,componentsProps:we,slots:me,slotProps:je,loading:ze,renderLoading:Me,disableHighlightToday:Le,readOnly:qe,disabled:ct,showDaysOutsideCurrentMonth:wt,dayOfWeekFormatter:St,sx:ht,autoFocus:Dt,fixedWeekNumber:bt,displayWeekNumber:Et,timezone:Xt}),ft>0&&V.jsxs(U.Fragment,{children:[V.jsx($8,{orientation:"vertical"}),V.jsx(NQ,{view:Ub(e)?e:"hours",onViewChange:t,focusedView:o&&Ub(o)?o:null,onFocusedViewChange:l,views:r.filter(Ub),value:u,defaultValue:f,onChange:i,className:_,classes:b,disableFuture:E,disablePast:k,minTime:B,maxTime:L,shouldDisableTime:G,shouldDisableClock:Q,minutesStep:le,ampm:M,components:_e,componentsProps:we,slots:me,slotProps:je,readOnly:qe,disabled:ct,sx:J({borderBottom:0,width:"auto",[`.${MQ.root}`]:{maxHeight:"100%"}},Array.isArray(ht)?ht:[ht]),autoFocus:Dt,disableIgnoringDatePartForTimeValidation:rn,timeSteps:_t,skipDisabled:at,timezone:Xt})]})]}),an&&V.jsx($8,{})]})};function jQ(e){return qn("MuiInputAdornment",e)}const VQ=jn("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),W8=VQ;var H8;const UQ=["children","className","component","disablePointerEvents","disableTypography","position","variant"],WQ=(e,t)=>{const{ownerState:r}=e;return[t.root,t[`position${wn(r.position)}`],r.disablePointerEvents===!0&&t.disablePointerEvents,t[r.variant]]},HQ=e=>{const{classes:t,disablePointerEvents:r,hiddenLabel:o,position:l,size:u,variant:f}=e,i={root:["root",r&&"disablePointerEvents",l&&`position${wn(l)}`,f,o&&"hiddenLabel",u&&`size${wn(u)}`]};return Hn(i,jQ,t)},GQ=It("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:WQ})(({theme:e,ownerState:t})=>J({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active},t.variant==="filled"&&{[`&.${W8.positionStart}&:not(.${W8.hiddenLabel})`]:{marginTop:16}},t.position==="start"&&{marginRight:8},t.position==="end"&&{marginLeft:8},t.disablePointerEvents===!0&&{pointerEvents:"none"})),qQ=U.forwardRef(function(t,r){const o=Nn({props:t,name:"MuiInputAdornment"}),{children:l,className:u,component:f="div",disablePointerEvents:i=!1,disableTypography:_=!1,position:b,variant:E}=o,k=nn(o,UQ),R=Hh()||{};let B=E;E&&R.variant,R&&!B&&(B=R.variant);const F=J({},o,{hiddenLabel:R.hiddenLabel,size:R.size,disablePointerEvents:i,position:b,variant:B}),L=HQ(F);return V.jsx(lv.Provider,{value:null,children:V.jsx(GQ,J({as:f,ownerState:F,className:mn(L.root,u),ref:r},k,{children:typeof l=="string"&&!_?V.jsx(_u,{color:"text.secondary",children:l}):V.jsxs(U.Fragment,{children:[b==="start"?H8||(H8=V.jsx("span",{className:"notranslate",children:""})):null,l]})}))})}),SI=qQ,ZQ=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],XQ=It(rH,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),YQ=U.forwardRef(function(t,r){var o;const l=K2(),u=Nn({props:t,name:"MuiPopper"}),{anchorEl:f,component:i,components:_,componentsProps:b,container:E,disablePortal:k,keepMounted:R,modifiers:B,open:F,placement:L,popperOptions:X,popperRef:$,transition:H,slots:G,slotProps:Q}=u,te=nn(u,ZQ),le=(o=G==null?void 0:G.root)!=null?o:_==null?void 0:_.Root,M=J({anchorEl:f,container:E,disablePortal:k,keepMounted:R,modifiers:B,open:F,placement:L,popperOptions:X,popperRef:$,transition:H},te);return V.jsx(XQ,J({as:i,direction:l==null?void 0:l.direction,slots:{root:le},slotProps:Q??b},M,{ref:r}))}),$5=YQ;function KQ(e){return qn("MuiPickersPopper",e)}jn("MuiPickersPopper",["root","paper"]);const JQ=e=>{const{classes:t}=e;return Hn({root:["root"],paper:["paper"]},KQ,t)},QQ=It($5,{name:"MuiPickersPopper",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({zIndex:e.zIndex.modal})),eee=It(Qf,{name:"MuiPickersPopper",slot:"Paper",overridesResolver:(e,t)=>t.paper})(({ownerState:e})=>J({transformOrigin:"top center",outline:0},e.placement==="top"&&{transformOrigin:"bottom center"}));function tee(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function nee(e,t){const r=U.useRef(!1),o=U.useRef(!1),l=U.useRef(null),u=U.useRef(!1);U.useEffect(()=>{if(!e)return;function _(){u.current=!0}return document.addEventListener("mousedown",_,!0),document.addEventListener("touchstart",_,!0),()=>{document.removeEventListener("mousedown",_,!0),document.removeEventListener("touchstart",_,!0),u.current=!1}},[e]);const f=Fn(_=>{if(!u.current)return;const b=o.current;o.current=!1;const E=bo(l.current);if(!l.current||"clientX"in _&&tee(_,E))return;if(r.current){r.current=!1;return}let k;_.composedPath?k=_.composedPath().indexOf(l.current)>-1:k=!E.documentElement.contains(_.target)||l.current.contains(_.target),!k&&!b&&t(_)}),i=()=>{o.current=!0};return U.useEffect(()=>{if(e){const _=bo(l.current),b=()=>{r.current=!0};return _.addEventListener("touchstart",f),_.addEventListener("touchmove",b),()=>{_.removeEventListener("touchstart",f),_.removeEventListener("touchmove",b)}}},[e,f]),U.useEffect(()=>{if(e){const _=bo(l.current);return _.addEventListener("click",f),()=>{_.removeEventListener("click",f),o.current=!1}}},[e,f]),[l,i,i]}function ree(e){var t,r,o,l;const u=Nn({props:e,name:"MuiPickersPopper"}),{anchorEl:f,children:i,containerRef:_=null,shouldRestoreFocus:b,onBlur:E,onDismiss:k,open:R,role:B,placement:F,slots:L,slotProps:X}=u;U.useEffect(()=>{function ze(Me){R&&(Me.key==="Escape"||Me.key==="Esc")&&k()}return document.addEventListener("keydown",ze),()=>{document.removeEventListener("keydown",ze)}},[k,R]);const $=U.useRef(null);U.useEffect(()=>{B==="tooltip"||b&&!b()||(R?$.current=H_(document):$.current&&$.current instanceof HTMLElement&&setTimeout(()=>{$.current instanceof HTMLElement&&$.current.focus()}))},[R,B,b]);const[H,G,Q]=nee(R,E??k),te=U.useRef(null),le=mi(te,_),M=mi(le,H),de=u,ce=JQ(de),xe=ze=>{ze.key==="Escape"&&(ze.stopPropagation(),k())},ke=(t=L==null?void 0:L.desktopTransition)!=null?t:MM,$e=(r=L==null?void 0:L.desktopTrapFocus)!=null?r:iM,_e=(o=L==null?void 0:L.desktopPaper)!=null?o:eee,we=Ri({elementType:_e,externalSlotProps:X==null?void 0:X.desktopPaper,additionalProps:{tabIndex:-1,elevation:8,ref:M},className:ce.paper,ownerState:{}}),me=(l=L==null?void 0:L.popper)!=null?l:QQ,je=Ri({elementType:me,externalSlotProps:X==null?void 0:X.popper,additionalProps:{transition:!0,role:B,open:R,anchorEl:f,placement:F,onKeyDown:xe},className:ce.root,ownerState:u});return V.jsx(me,J({},je,{children:({TransitionProps:ze,placement:Me})=>V.jsx($e,J({open:R,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:B==="tooltip",isEnabled:()=>!0},X==null?void 0:X.desktopTrapFocus,{children:V.jsx(ke,J({},ze,X==null?void 0:X.desktopTransition,{children:V.jsx(_e,J({},we,{onClick:Le=>{var qe;G(Le),(qe=we.onClick)==null||qe.call(we,Le)},onTouchStart:Le=>{var qe;Q(Le),(qe=we.onTouchStart)==null||qe.call(we,Le)},ownerState:J({},de,{placement:Me}),children:i}))}))}))}))}const iee=({open:e,onOpen:t,onClose:r})=>{const o=U.useRef(typeof e=="boolean").current,[l,u]=U.useState(!1);U.useEffect(()=>{if(o){if(typeof e!="boolean")throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");u(e)}},[o,e]);const f=U.useCallback(i=>{o||u(i),i&&t&&t(),!i&&r&&r()},[o,t,r]);return{isOpen:l,setIsOpen:f}},oee=e=>{const{action:t,hasChanged:r,dateState:o,isControlled:l}=e,u=!l&&!o.hasBeenModifiedSinceMount;return t.name==="setValueFromField"?!0:t.name==="setValueFromAction"?u&&["accept","today","clear"].includes(t.pickerAction)?!0:r(o.lastPublishedValue):t.name==="setValueFromView"&&t.selectionState!=="shallow"||t.name==="setValueFromShortcut"&&t.changeImportance==="accept"?u?!0:r(o.lastPublishedValue):!1},see=e=>{const{action:t,hasChanged:r,dateState:o,isControlled:l,closeOnSelect:u}=e,f=!l&&!o.hasBeenModifiedSinceMount;return t.name==="setValueFromAction"?f&&["accept","today","clear"].includes(t.pickerAction)?!0:r(o.lastCommittedValue):t.name==="setValueFromView"&&t.selectionState==="finish"&&u?f?!0:r(o.lastCommittedValue):t.name==="setValueFromShortcut"?t.changeImportance==="accept"&&r(o.lastCommittedValue):!1},aee=e=>{const{action:t,closeOnSelect:r}=e;return t.name==="setValueFromAction"?!0:t.name==="setValueFromView"?t.selectionState==="finish"&&r:t.name==="setValueFromShortcut"?t.changeImportance==="accept":!1},lee=({props:e,valueManager:t,valueType:r,wrapperVariant:o,validator:l})=>{const{onAccept:u,onChange:f,value:i,defaultValue:_,closeOnSelect:b=o==="desktop",selectedSections:E,onSelectedSectionsChange:k,timezone:R}=e,{current:B}=U.useRef(_),{current:F}=U.useRef(i!==void 0),L=hi(),X=Gh(),[$,H]=Js({controlled:E,default:null,name:"usePickerValue",state:"selectedSections"}),{isOpen:G,setIsOpen:Q}=iee(e),[te,le]=U.useState(()=>{let Et;return i!==void 0?Et=i:B!==void 0?Et=B:Et=t.emptyValue,{draft:Et,lastPublishedValue:Et,lastCommittedValue:Et,lastControlledValue:i,hasBeenModifiedSinceMount:!1}}),{timezone:M,handleValueChange:de}=L5({timezone:R,value:i,defaultValue:B,onChange:f,valueManager:t});tI(J({},e,{value:te.draft,timezone:M}),l,t.isSameError,t.defaultErrorState);const ce=Fn(Et=>{const Xt={action:Et,dateState:te,hasChanged:ft=>!t.areValuesEqual(L,Et.value,ft),isControlled:F,closeOnSelect:b},rn=oee(Xt),_t=see(Xt),at=aee(Xt);if(le(ft=>J({},ft,{draft:Et.value,lastPublishedValue:rn?Et.value:ft.lastPublishedValue,lastCommittedValue:_t?Et.value:ft.lastCommittedValue,hasBeenModifiedSinceMount:!0})),rn){const Ft={validationError:Et.name==="setValueFromField"?Et.context.validationError:l({adapter:X,value:Et.value,props:J({},e,{value:Et.value,timezone:M})})};de(Et.value,Ft)}_t&&u&&u(Et.value),at&&Q(!1)});if(i!==void 0&&(te.lastControlledValue===void 0||!t.areValuesEqual(L,te.lastControlledValue,i))){const Et=t.areValuesEqual(L,te.draft,i);le(Xt=>J({},Xt,{lastControlledValue:i},Et?{}:{lastCommittedValue:i,lastPublishedValue:i,draft:i,hasBeenModifiedSinceMount:!0}))}const xe=Fn(()=>{ce({value:t.emptyValue,name:"setValueFromAction",pickerAction:"clear"})}),ke=Fn(()=>{ce({value:te.lastPublishedValue,name:"setValueFromAction",pickerAction:"accept"})}),$e=Fn(()=>{ce({value:te.lastPublishedValue,name:"setValueFromAction",pickerAction:"dismiss"})}),_e=Fn(()=>{ce({value:te.lastCommittedValue,name:"setValueFromAction",pickerAction:"cancel"})}),we=Fn(()=>{ce({value:t.getTodayValue(L,M,r),name:"setValueFromAction",pickerAction:"today"})}),me=Fn(()=>Q(!0)),je=Fn(()=>Q(!1)),ze=Fn((Et,Xt="partial")=>ce({name:"setValueFromView",value:Et,selectionState:Xt})),Me=Fn((Et,Xt)=>ce({name:"setValueFromShortcut",value:Et,changeImportance:Xt??"accept"})),Le=Fn((Et,Xt)=>ce({name:"setValueFromField",value:Et,context:Xt})),qe=Fn(Et=>{H(Et),k==null||k(Et)}),ct={onClear:xe,onAccept:ke,onDismiss:$e,onCancel:_e,onSetToday:we,onOpen:me,onClose:je},wt={value:te.draft,onChange:Le,selectedSections:$,onSelectedSectionsChange:qe},St=U.useMemo(()=>t.cleanValue(L,te.draft),[L,t,te.draft]),ht={value:St,onChange:ze,onClose:je,open:G,onSelectedSectionsChange:qe},bt=J({},ct,{value:St,onChange:ze,onSelectShortcut:Me,isValid:Et=>{const Xt=l({adapter:X,value:Et,props:J({},e,{value:Et,timezone:M})});return!t.hasError(Xt)}});return{open:G,fieldProps:wt,viewProps:ht,layoutProps:bt,actions:ct}},cee=["className","sx"],uee=({props:e,propsFromPickerValue:t,additionalViewProps:r,inputRef:o,autoFocusView:l})=>{const{onChange:u,open:f,onSelectedSectionsChange:i,onClose:_}=t,{views:b,openTo:E,onViewChange:k,disableOpenPicker:R,viewRenderers:B,timezone:F}=e,L=nn(e,cee),{view:X,setView:$,defaultView:H,focusedView:G,setFocusedView:Q,setValueAndGoToNextView:te}=Pv({view:void 0,views:b,openTo:E,onChange:u,onViewChange:k,autoFocus:l}),{hasUIView:le,viewModeLookup:M}=U.useMemo(()=>b.reduce((we,me)=>{let je;return R?je="field":B[me]!=null?je="UI":je="field",we.viewModeLookup[me]=je,je==="UI"&&(we.hasUIView=!0),we},{hasUIView:!1,viewModeLookup:{}}),[R,B,b]),de=U.useMemo(()=>b.reduce((we,me)=>B[me]!=null&&W_(me)?we+1:we,0),[B,b]),ce=M[X],xe=Fn(()=>ce==="UI"),[ke,$e]=U.useState(ce==="UI"?X:null);return ke!==X&&M[X]==="UI"&&$e(X),wo(()=>{ce==="field"&&f&&(_(),setTimeout(()=>{o==null||o.current.focus(),i(X)}))},[X]),wo(()=>{if(!f)return;let we=X;ce==="field"&&ke!=null&&(we=ke),we!==H&&M[we]==="UI"&&M[H]==="UI"&&(we=H),we!==X&&$(we),Q(we,!0)},[f]),{hasUIView:le,shouldRestoreFocus:xe,layoutProps:{views:b,view:ke,onViewChange:$},renderCurrentView:()=>{if(ke==null)return null;const we=B[ke];return we==null?null:we(J({},L,r,t,{views:b,timezone:F,onChange:te,view:ke,onViewChange:$,focusedView:G,onFocusedViewChange:Q,showViewSwitcher:de>1,timeViewsCount:de}))}}};function G8(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}const dee=(e,t)=>{const[r,o]=U.useState(G8);return wo(()=>{const u=()=>{o(G8())};return window.addEventListener("orientationchange",u),()=>{window.removeEventListener("orientationchange",u)}},[]),pX(e,["hours","minutes","seconds"])?!1:(t||r)==="landscape"},hee=({props:e,propsFromPickerValue:t,propsFromPickerViews:r,wrapperVariant:o})=>{const{orientation:l}=e,u=dee(r.views,l);return{layoutProps:J({},r,t,{isLandscape:u,wrapperVariant:o,disabled:e.disabled,readOnly:e.readOnly})}};WM(["The `renderInput` prop has been removed in version 6.0 of the Date and Time Pickers.","You can replace it with the `textField` component slot in most cases.","For more information, please have a look at the migration guide (https://mui.com/x/migration/migration-pickers-v5/#input-renderer-required-in-v5)."]);const TI=({props:e,valueManager:t,valueType:r,wrapperVariant:o,inputRef:l,additionalViewProps:u,validator:f,autoFocusView:i})=>{const _=lee({props:e,valueManager:t,valueType:r,wrapperVariant:o,validator:f}),b=uee({props:e,inputRef:l,additionalViewProps:u,autoFocusView:i,propsFromPickerValue:_.viewProps}),E=hee({props:e,wrapperVariant:o,propsFromPickerValue:_.layoutProps,propsFromPickerViews:b.layoutProps});return{open:_.open,actions:_.actions,fieldProps:_.fieldProps,renderCurrentView:b.renderCurrentView,hasUIView:b.hasUIView,shouldRestoreFocus:b.shouldRestoreFocus,layoutProps:E.layoutProps}};function CI(e){return qn("MuiPickersLayout",e)}const Hb=jn("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","shortcuts"]);function pee(e){return qn("MuiDialogActions",e)}jn("MuiDialogActions",["root","spacing"]);const fee=["className","disableSpacing"],mee=e=>{const{classes:t,disableSpacing:r}=e;return Hn({root:["root",!r&&"spacing"]},pee,t)},gee=It("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disableSpacing&&t.spacing]}})(({ownerState:e})=>J({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),yee=U.forwardRef(function(t,r){const o=Nn({props:t,name:"MuiDialogActions"}),{className:l,disableSpacing:u=!1}=o,f=nn(o,fee),i=J({},o,{disableSpacing:u}),_=mee(i);return V.jsx(gee,J({className:mn(_.root,l),ownerState:i,ref:r},f))}),_ee=yee,vee=["onAccept","onClear","onCancel","onSetToday","actions"];function xee(e){const{onAccept:t,onClear:r,onCancel:o,onSetToday:l,actions:u}=e,f=nn(e,vee),i=jl();if(u==null||u.length===0)return null;const _=u==null?void 0:u.map(b=>{switch(b){case"clear":return V.jsx(vh,{onClick:r,children:i.clearButtonLabel},b);case"cancel":return V.jsx(vh,{onClick:o,children:i.cancelButtonLabel},b);case"accept":return V.jsx(vh,{onClick:t,children:i.okButtonLabel},b);case"today":return V.jsx(vh,{onClick:l,children:i.todayButtonLabel},b);default:return null}});return V.jsx(_ee,J({},f,{children:_}))}function bee(e){return qn("MuiListItem",e)}const wee=jn("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),qp=wee,See=jn("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),Tee=See;function Cee(e){return qn("MuiListItemSecondaryAction",e)}jn("MuiListItemSecondaryAction",["root","disableGutters"]);const Eee=["className"],Pee=e=>{const{disableGutters:t,classes:r}=e;return Hn({root:["root",t&&"disableGutters"]},Cee,r)},kee=It("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.disableGutters&&t.disableGutters]}})(({ownerState:e})=>J({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},e.disableGutters&&{right:0})),EI=U.forwardRef(function(t,r){const o=Nn({props:t,name:"MuiListItemSecondaryAction"}),{className:l}=o,u=nn(o,Eee),f=U.useContext(Ch),i=J({},o,{disableGutters:f.disableGutters}),_=Pee(i);return V.jsx(kee,J({className:mn(_.root,l),ownerState:i,ref:r},u))});EI.muiName="ListItemSecondaryAction";const Mee=EI,Iee=["className"],Aee=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],Dee=(e,t)=>{const{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.alignItems==="flex-start"&&t.alignItemsFlexStart,r.divider&&t.divider,!r.disableGutters&&t.gutters,!r.disablePadding&&t.padding,r.button&&t.button,r.hasSecondaryAction&&t.secondaryAction]},Ree=e=>{const{alignItems:t,button:r,classes:o,dense:l,disabled:u,disableGutters:f,disablePadding:i,divider:_,hasSecondaryAction:b,selected:E}=e;return Hn({root:["root",l&&"dense",!f&&"gutters",!i&&"padding",_&&"divider",u&&"disabled",r&&"button",t==="flex-start"&&"alignItemsFlexStart",b&&"secondaryAction",E&&"selected"],container:["container"]},bee,o)},zee=It("div",{name:"MuiListItem",slot:"Root",overridesResolver:Dee})(({theme:e,ownerState:t})=>J({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!t.disablePadding&&J({paddingTop:8,paddingBottom:8},t.dense&&{paddingTop:4,paddingBottom:4},!t.disableGutters&&{paddingLeft:16,paddingRight:16},!!t.secondaryAction&&{paddingRight:48}),!!t.secondaryAction&&{[`& > .${Tee.root}`]:{paddingRight:48}},{[`&.${qp.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${qp.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Rr(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${qp.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Rr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${qp.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.alignItems==="flex-start"&&{alignItems:"flex-start"},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.button&&{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${qp.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Rr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Rr(e.palette.primary.main,e.palette.action.selectedOpacity)}}},t.hasSecondaryAction&&{paddingRight:48})),Lee=It("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),Oee=U.forwardRef(function(t,r){const o=Nn({props:t,name:"MuiListItem"}),{alignItems:l="center",autoFocus:u=!1,button:f=!1,children:i,className:_,component:b,components:E={},componentsProps:k={},ContainerComponent:R="li",ContainerProps:{className:B}={},dense:F=!1,disabled:L=!1,disableGutters:X=!1,disablePadding:$=!1,divider:H=!1,focusVisibleClassName:G,secondaryAction:Q,selected:te=!1,slotProps:le={},slots:M={}}=o,de=nn(o.ContainerProps,Iee),ce=nn(o,Aee),xe=U.useContext(Ch),ke=U.useMemo(()=>({dense:F||xe.dense||!1,alignItems:l,disableGutters:X}),[l,xe.dense,F,X]),$e=U.useRef(null);wo(()=>{u&&$e.current&&$e.current.focus()},[u]);const _e=U.Children.toArray(i),we=_e.length&&Um(_e[_e.length-1],["ListItemSecondaryAction"]),me=J({},o,{alignItems:l,autoFocus:u,button:f,dense:ke.dense,disabled:L,disableGutters:X,disablePadding:$,divider:H,hasSecondaryAction:we,selected:te}),je=Ree(me),ze=mi($e,r),Me=M.root||E.Root||zee,Le=le.root||k.root||{},qe=J({className:mn(je.root,Le.className,_),disabled:L},ce);let ct=b||"li";return f&&(qe.component=b||"div",qe.focusVisibleClassName=mn(qp.focusVisible,G),ct=vu),we?(ct=!qe.component&&!b?"div":ct,R==="li"&&(ct==="li"?ct="div":qe.component==="li"&&(qe.component="div")),V.jsx(Ch.Provider,{value:ke,children:V.jsxs(Lee,J({as:R,className:mn(je.container,B),ref:ze,ownerState:me},de,{children:[V.jsx(Me,J({},Le,!Fh(Me)&&{as:ct,ownerState:J({},me,Le.ownerState)},qe,{children:_e})),_e.pop()]}))})):V.jsx(Ch.Provider,{value:ke,children:V.jsxs(Me,J({},Le,{as:ct,ref:ze},!Fh(Me)&&{ownerState:J({},me,Le.ownerState)},qe,{children:[_e,Q&&V.jsx(Mee,{children:Q})]}))})}),Fee=Oee,Bee=Da(V.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function Nee(e){return qn("MuiChip",e)}const $ee=jn("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),ei=$ee,jee=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],Vee=e=>{const{classes:t,disabled:r,size:o,color:l,iconColor:u,onDelete:f,clickable:i,variant:_}=e,b={root:["root",_,r&&"disabled",`size${wn(o)}`,`color${wn(l)}`,i&&"clickable",i&&`clickableColor${wn(l)}`,f&&"deletable",f&&`deletableColor${wn(l)}`,`${_}${wn(l)}`],label:["label",`label${wn(o)}`],avatar:["avatar",`avatar${wn(o)}`,`avatarColor${wn(l)}`],icon:["icon",`icon${wn(o)}`,`iconColor${wn(u)}`],deleteIcon:["deleteIcon",`deleteIcon${wn(o)}`,`deleteIconColor${wn(l)}`,`deleteIcon${wn(_)}Color${wn(l)}`]};return Hn(b,Nee,t)},Uee=It("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{color:o,iconColor:l,clickable:u,onDelete:f,size:i,variant:_}=r;return[{[`& .${ei.avatar}`]:t.avatar},{[`& .${ei.avatar}`]:t[`avatar${wn(i)}`]},{[`& .${ei.avatar}`]:t[`avatarColor${wn(o)}`]},{[`& .${ei.icon}`]:t.icon},{[`& .${ei.icon}`]:t[`icon${wn(i)}`]},{[`& .${ei.icon}`]:t[`iconColor${wn(l)}`]},{[`& .${ei.deleteIcon}`]:t.deleteIcon},{[`& .${ei.deleteIcon}`]:t[`deleteIcon${wn(i)}`]},{[`& .${ei.deleteIcon}`]:t[`deleteIconColor${wn(o)}`]},{[`& .${ei.deleteIcon}`]:t[`deleteIcon${wn(_)}Color${wn(o)}`]},t.root,t[`size${wn(i)}`],t[`color${wn(o)}`],u&&t.clickable,u&&o!=="default"&&t[`clickableColor${wn(o)})`],f&&t.deletable,f&&o!=="default"&&t[`deletableColor${wn(o)}`],t[_],t[`${_}${wn(o)}`]]}})(({theme:e,ownerState:t})=>{const r=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return J({maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${ei.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${ei.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:r,fontSize:e.typography.pxToRem(12)},[`& .${ei.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${ei.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${ei.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${ei.icon}`]:J({marginLeft:5,marginRight:-6},t.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},t.iconColor===t.color&&J({color:e.vars?e.vars.palette.Chip.defaultIconColor:r},t.color!=="default"&&{color:"inherit"})),[`& .${ei.deleteIcon}`]:J({WebkitTapHighlightColor:"transparent",color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.26)`:Rr(e.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:Rr(e.palette.text.primary,.4)}},t.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},t.color!=="default"&&{color:e.vars?`rgba(${e.vars.palette[t.color].contrastTextChannel} / 0.7)`:Rr(e.palette[t.color].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].contrastText}})},t.size==="small"&&{height:24},t.color!=="default"&&{backgroundColor:(e.vars||e).palette[t.color].main,color:(e.vars||e).palette[t.color].contrastText},t.onDelete&&{[`&.${ei.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Rr(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},t.onDelete&&t.color!=="default"&&{[`&.${ei.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}})},({theme:e,ownerState:t})=>J({},t.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Rr(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)},[`&.${ei.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Rr(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},"&:active":{boxShadow:(e.vars||e).shadows[1]}},t.clickable&&t.color!=="default"&&{[`&:hover, &.${ei.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}}),({theme:e,ownerState:t})=>J({},t.variant==="outlined"&&{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${ei.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${ei.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${ei.avatar}`]:{marginLeft:4},[`& .${ei.avatarSmall}`]:{marginLeft:2},[`& .${ei.icon}`]:{marginLeft:4},[`& .${ei.iconSmall}`]:{marginLeft:2},[`& .${ei.deleteIcon}`]:{marginRight:5},[`& .${ei.deleteIconSmall}`]:{marginRight:3}},t.variant==="outlined"&&t.color!=="default"&&{color:(e.vars||e).palette[t.color].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:Rr(e.palette[t.color].main,.7)}`,[`&.${ei.clickable}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Rr(e.palette[t.color].main,e.palette.action.hoverOpacity)},[`&.${ei.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.focusOpacity})`:Rr(e.palette[t.color].main,e.palette.action.focusOpacity)},[`& .${ei.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:Rr(e.palette[t.color].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].main}}})),Wee=It("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:r}=e,{size:o}=r;return[t.label,t[`label${wn(o)}`]]}})(({ownerState:e})=>J({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},e.size==="small"&&{paddingLeft:8,paddingRight:8}));function q8(e){return e.key==="Backspace"||e.key==="Delete"}const Hee=U.forwardRef(function(t,r){const o=Nn({props:t,name:"MuiChip"}),{avatar:l,className:u,clickable:f,color:i="default",component:_,deleteIcon:b,disabled:E=!1,icon:k,label:R,onClick:B,onDelete:F,onKeyDown:L,onKeyUp:X,size:$="medium",variant:H="filled",tabIndex:G,skipFocusWhenDisabled:Q=!1}=o,te=nn(o,jee),le=U.useRef(null),M=mi(le,r),de=Le=>{Le.stopPropagation(),F&&F(Le)},ce=Le=>{Le.currentTarget===Le.target&&q8(Le)&&Le.preventDefault(),L&&L(Le)},xe=Le=>{Le.currentTarget===Le.target&&(F&&q8(Le)?F(Le):Le.key==="Escape"&&le.current&&le.current.blur()),X&&X(Le)},ke=f!==!1&&B?!0:f,$e=ke||F?vu:_||"div",_e=J({},o,{component:$e,disabled:E,size:$,color:i,iconColor:U.isValidElement(k)&&k.props.color||i,onDelete:!!F,clickable:ke,variant:H}),we=Vee(_e),me=$e===vu?J({component:_||"div",focusVisibleClassName:we.focusVisible},F&&{disableRipple:!0}):{};let je=null;F&&(je=b&&U.isValidElement(b)?U.cloneElement(b,{className:mn(b.props.className,we.deleteIcon),onClick:de}):V.jsx(Bee,{className:mn(we.deleteIcon),onClick:de}));let ze=null;l&&U.isValidElement(l)&&(ze=U.cloneElement(l,{className:mn(we.avatar,l.props.className)}));let Me=null;return k&&U.isValidElement(k)&&(Me=U.cloneElement(k,{className:mn(we.icon,k.props.className)})),V.jsxs(Uee,J({as:$e,className:mn(we.root,u),disabled:ke&&E?!0:void 0,onClick:B,onKeyDown:ce,onKeyUp:xe,ref:M,tabIndex:Q&&E?-1:G,ownerState:_e},me,te,{children:[ze||Me,V.jsx(Wee,{className:mn(we.label),ownerState:_e,children:R}),je]}))}),PI=Hee,Gee=["items","changeImportance","isLandscape","onChange","isValid"];function qee(e){const{items:t,changeImportance:r,onChange:o,isValid:l}=e,u=nn(e,Gee);if(t==null||t.length===0)return null;const f=t.map(i=>{const _=i.getValue({isValid:l});return{label:i.label,onClick:()=>{o(_,r)},disabled:!l(_)}});return V.jsx(wM,J({dense:!0,sx:[{maxHeight:dI,maxWidth:200,overflow:"auto"},...Array.isArray(u.sx)?u.sx:[u.sx]]},u,{children:f.map(i=>V.jsx(Fee,{children:V.jsx(PI,J({},i))},i.label))}))}function Zee(e){return e.view!==null}const Xee=e=>{const{classes:t,isLandscape:r}=e;return Hn({root:["root",r&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},CI,t)},Yee=e=>{var t,r;const{wrapperVariant:o,onAccept:l,onClear:u,onCancel:f,onSetToday:i,view:_,views:b,onViewChange:E,value:k,onChange:R,onSelectShortcut:B,isValid:F,isLandscape:L,disabled:X,readOnly:$,children:H,components:G,componentsProps:Q,slots:te,slotProps:le}=e,M=te??B5(G),de=le??Q,ce=Xee(e),xe=(t=M==null?void 0:M.actionBar)!=null?t:xee,ke=Ri({elementType:xe,externalSlotProps:de==null?void 0:de.actionBar,additionalProps:{onAccept:l,onClear:u,onCancel:f,onSetToday:i,actions:o==="desktop"?[]:["cancel","accept"],className:ce.actionBar},ownerState:J({},e,{wrapperVariant:o})}),$e=V.jsx(xe,J({},ke)),_e=M==null?void 0:M.toolbar,we=Ri({elementType:_e,externalSlotProps:de==null?void 0:de.toolbar,additionalProps:{isLandscape:L,onChange:R,value:k,view:_,onViewChange:E,views:b,disabled:X,readOnly:$,className:ce.toolbar},ownerState:J({},e,{wrapperVariant:o})}),me=Zee(we)&&_e?V.jsx(_e,J({},we)):null,je=H,ze=M==null?void 0:M.tabs,Me=_&&ze?V.jsx(ze,J({view:_,onViewChange:E},de==null?void 0:de.tabs)):null,Le=(r=M==null?void 0:M.shortcuts)!=null?r:qee,qe=Ri({elementType:Le,externalSlotProps:de==null?void 0:de.shortcuts,additionalProps:{isValid:F,isLandscape:L,onChange:B,className:ce.shortcuts},ownerState:{isValid:F,isLandscape:L,onChange:B,className:ce.shortcuts,wrapperVariant:o}}),ct=_&&Le?V.jsx(Le,J({},qe)):null;return{toolbar:me,content:je,tabs:Me,actionBar:$e,shortcuts:ct}},Kee=Yee,Jee=e=>{const{isLandscape:t,classes:r}=e;return Hn({root:["root",t&&"landscape"],contentWrapper:["contentWrapper"]},CI,r)},kI=It("div",{name:"MuiPickersLayout",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e,ownerState:t})=>({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${Hb.toolbar}`]:t.isLandscape?{gridColumn:e.direction==="rtl"?3:1,gridRow:"2 / 3"}:{gridColumn:"2 / 4",gridRow:1},[`.${Hb.shortcuts}`]:t.isLandscape?{gridColumn:"2 / 4",gridRow:1}:{gridColumn:e.direction==="rtl"?3:1,gridRow:"2 / 3"},[`& .${Hb.actionBar}`]:{gridColumn:"1 / 4",gridRow:3}}));kI.propTypes={as:Ye.elementType,ownerState:Ye.shape({isLandscape:Ye.bool.isRequired}).isRequired,sx:Ye.oneOfType([Ye.arrayOf(Ye.oneOfType([Ye.func,Ye.object,Ye.bool])),Ye.func,Ye.object])};const Qee=It("div",{name:"MuiPickersLayout",slot:"ContentWrapper",overridesResolver:(e,t)=>t.contentWrapper})({gridColumn:2,gridRow:2,display:"flex",flexDirection:"column"}),MI=function(t){const r=Nn({props:t,name:"MuiPickersLayout"}),{toolbar:o,content:l,tabs:u,actionBar:f,shortcuts:i}=Kee(r),{sx:_,className:b,isLandscape:E,ref:k,wrapperVariant:R}=r,B=r,F=Jee(B);return V.jsxs(kI,{ref:k,sx:_,className:mn(b,F.root),ownerState:B,children:[E?i:o,E?o:i,V.jsx(Qee,{className:F.contentWrapper,children:R==="desktop"?V.jsxs(U.Fragment,{children:[l,u]}):V.jsxs(U.Fragment,{children:[u,l]})}),f]})},ete=["props","getOpenDialogAriaText"],tte=["ownerState"],nte=["ownerState"],rte=e=>{var t,r,o,l,u;let{props:f,getOpenDialogAriaText:i}=e,_=nn(e,ete);const{slots:b,slotProps:E,className:k,sx:R,format:B,formatDensity:F,timezone:L,label:X,inputRef:$,readOnly:H,disabled:G,autoFocus:Q,localeText:te}=f,le=hi(),M=U.useRef(null),de=U.useRef(null),ce=Ed(),xe=(t=E==null||(r=E.toolbar)==null?void 0:r.hidden)!=null?t:!1,{open:ke,actions:$e,hasUIView:_e,layoutProps:we,renderCurrentView:me,shouldRestoreFocus:je,fieldProps:ze}=TI(J({},_,{props:f,inputRef:M,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"desktop"})),Me=(o=b.inputAdornment)!=null?o:SI,Le=Ri({elementType:Me,externalSlotProps:E==null?void 0:E.inputAdornment,additionalProps:{position:"end"},ownerState:f}),qe=nn(Le,tte),ct=(l=b.openPickerButton)!=null?l:Zh,wt=Ri({elementType:ct,externalSlotProps:E==null?void 0:E.openPickerButton,additionalProps:{disabled:G||H,onClick:$e.onOpen,"aria-label":i(ze.value,le),edge:qe.position},ownerState:f}),St=nn(wt,nte),ht=b.openPickerIcon,Dt=b.field,bt=Ri({elementType:Dt,externalSlotProps:E==null?void 0:E.field,additionalProps:J({},ze,xe&&{id:ce},{readOnly:H,disabled:G,className:k,sx:R,format:B,formatDensity:F,timezone:L,label:X,autoFocus:Q&&!f.open,focused:ke?!0:void 0}),ownerState:f});_e&&(bt.InputProps=J({},bt.InputProps,{ref:de,[`${qe.position}Adornment`]:V.jsx(Me,J({},qe,{children:V.jsx(ct,J({},St,{children:V.jsx(ht,J({},E==null?void 0:E.openPickerIcon))}))}))}));const Et=J({textField:b.textField},bt.slots),Xt=(u=b.layout)!=null?u:MI,rn=mi(M,bt.inputRef,$);let _t=ce;xe&&(X?_t=`${ce}-label`:_t=void 0);const at=J({},E,{toolbar:J({},E==null?void 0:E.toolbar,{titleId:ce}),popper:J({"aria-labelledby":_t},E==null?void 0:E.popper)});return{renderPicker:()=>V.jsxs(A5,{localeText:te,children:[V.jsx(Dt,J({},bt,{slots:Et,slotProps:at,inputRef:rn})),V.jsx(ree,J({role:"dialog",placement:"bottom-start",anchorEl:de.current},$e,{open:ke,slots:b,slotProps:at,shouldRestoreFocus:je,children:V.jsx(Xt,J({},we,at==null?void 0:at.layout,{slots:b,slotProps:at,children:me()}))}))]})}},ite=["views","format"],II=(e,t)=>{let{views:r,format:o}=t,l=nn(t,ite);if(o)return o;const u=[],f=[];if(r.forEach(b=>{W_(b)?f.push(b):u.push(b)}),f.length===0)return v8(e,J({views:u},l),!1);if(u.length===0)return b8(e,J({views:f},l));const i=b8(e,J({views:f},l));return`${v8(e,J({views:u},l),!1)} ${i}`},AI=U.forwardRef(function(t,r){var o,l,u,f,i;const _=jl(),b=hi(),E=fI(t,"MuiDesktopDateTimePicker"),k=J({hours:1,minutes:5,seconds:5},E.timeSteps),R=!E.viewRenderers||Object.keys(E.viewRenderers).length===0,B=R?{day:ch,month:ch,year:ch,hours:ch,minutes:ch,seconds:ch,meridiem:ch}:J({day:vf,month:vf,year:vf,hours:null,minutes:null,seconds:null,meridiem:null},E.viewRenderers),F=(o=E.ampmInClock)!=null?o:!0,L=R?["accept"]:[],X=J({},E,{viewRenderers:B,format:II(b,E),views:E.ampm?[...E.views,"meridiem"]:E.views,yearsPerRow:(l=E.yearsPerRow)!=null?l:4,ampmInClock:F,timeSteps:k,slots:J({field:oI,openPickerIcon:kY},E.slots),slotProps:J({},E.slotProps,{field:H=>{var G;return J({},Df((G=E.slotProps)==null?void 0:G.field,H),iI(E),{ref:r})},toolbar:J({hidden:!0,ampmInClock:F,toolbarVariant:R?"desktop":"mobile"},(u=E.slotProps)==null?void 0:u.toolbar),tabs:J({hidden:!0},(f=E.slotProps)==null?void 0:f.tabs),actionBar:J({actions:L},(i=E.slotProps)==null?void 0:i.actionBar)})}),{renderPicker:$}=rte({props:X,valueManager:$l,valueType:"date-time",getOpenDialogAriaText:_.openDatePickerDialogue,validator:O5});return $()});AI.propTypes={ampm:Ye.bool,ampmInClock:Ye.bool,autoFocus:Ye.bool,className:Ye.string,closeOnSelect:Ye.bool,components:Ye.object,componentsProps:Ye.object,dayOfWeekFormatter:Ye.func,defaultCalendarMonth:Ye.any,defaultValue:Ye.any,disabled:Ye.bool,disableFuture:Ye.bool,disableHighlightToday:Ye.bool,disableIgnoringDatePartForTimeValidation:Ye.bool,disableOpenPicker:Ye.bool,disablePast:Ye.bool,displayWeekNumber:Ye.bool,fixedWeekNumber:Ye.number,format:Ye.string,formatDensity:Ye.oneOf(["dense","spacious"]),inputRef:Ye.oneOfType([Ye.func,Ye.shape({current:Ye.object})]),label:Ye.node,loading:Ye.bool,localeText:Ye.object,maxDate:Ye.any,maxDateTime:Ye.any,maxTime:Ye.any,minDate:Ye.any,minDateTime:Ye.any,minTime:Ye.any,minutesStep:Ye.number,monthsPerRow:Ye.oneOf([3,4]),onAccept:Ye.func,onChange:Ye.func,onClose:Ye.func,onError:Ye.func,onMonthChange:Ye.func,onOpen:Ye.func,onSelectedSectionsChange:Ye.func,onViewChange:Ye.func,onYearChange:Ye.func,open:Ye.bool,openTo:Ye.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),orientation:Ye.oneOf(["landscape","portrait"]),readOnly:Ye.bool,reduceAnimations:Ye.bool,renderLoading:Ye.func,selectedSections:Ye.oneOfType([Ye.oneOf(["all","day","hours","meridiem","minutes","month","seconds","weekDay","year"]),Ye.number,Ye.shape({endIndex:Ye.number.isRequired,startIndex:Ye.number.isRequired})]),shouldDisableClock:Ye.func,shouldDisableDate:Ye.func,shouldDisableMonth:Ye.func,shouldDisableTime:Ye.func,shouldDisableYear:Ye.func,showDaysOutsideCurrentMonth:Ye.bool,skipDisabled:Ye.bool,slotProps:Ye.object,slots:Ye.object,sx:Ye.oneOfType([Ye.arrayOf(Ye.oneOfType([Ye.func,Ye.object,Ye.bool])),Ye.func,Ye.object]),timeSteps:Ye.shape({hours:Ye.number,minutes:Ye.number,seconds:Ye.number}),timezone:Ye.string,value:Ye.any,view:Ye.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),viewRenderers:Ye.shape({day:Ye.func,hours:Ye.func,meridiem:Ye.func,minutes:Ye.func,month:Ye.func,seconds:Ye.func,year:Ye.func}),views:Ye.arrayOf(Ye.oneOf(["day","hours","minutes","month","seconds","year"]).isRequired),yearsPerRow:Ye.oneOf([3,4])};function ote(e){return qn("MuiDialogContent",e)}jn("MuiDialogContent",["root","dividers"]);const ste=jn("MuiDialogTitle",["root"]),ate=ste,lte=["className","dividers"],cte=e=>{const{classes:t,dividers:r}=e;return Hn({root:["root",r&&"dividers"]},ote,t)},ute=It("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.dividers&&t.dividers]}})(({theme:e,ownerState:t})=>J({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${ate.root} + &`]:{paddingTop:0}})),dte=U.forwardRef(function(t,r){const o=Nn({props:t,name:"MuiDialogContent"}),{className:l,dividers:u=!1}=o,f=nn(o,lte),i=J({},o,{dividers:u}),_=cte(i);return V.jsx(ute,J({className:mn(_.root,l),ownerState:i,ref:r},f))}),hte=dte;function pte(e){return qn("MuiDialog",e)}const fte=jn("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Km=fte,mte=U.createContext({}),gte=mte,yte=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],_te=It(IM,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),vte=e=>{const{classes:t,scroll:r,maxWidth:o,fullWidth:l,fullScreen:u}=e,f={root:["root"],container:["container",`scroll${wn(r)}`],paper:["paper",`paperScroll${wn(r)}`,`paperWidth${wn(String(o))}`,l&&"paperFullWidth",u&&"paperFullScreen"]};return Hn(f,pte,t)},xte=It(AM,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),bte=It("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.container,t[`scroll${wn(r.scroll)}`]]}})(({ownerState:e})=>J({height:"100%","@media print":{height:"auto"},outline:0},e.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},e.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),wte=It(Qf,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.paper,t[`scrollPaper${wn(r.scroll)}`],t[`paperWidth${wn(String(r.maxWidth))}`],r.fullWidth&&t.paperFullWidth,r.fullScreen&&t.paperFullScreen]}})(({theme:e,ownerState:t})=>J({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},t.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},t.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},t.maxWidth==="xs"&&{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${Km.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.maxWidth&&t.maxWidth!=="xs"&&{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`,[`&.${Km.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Km.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),Ste=U.forwardRef(function(t,r){const o=Nn({props:t,name:"MuiDialog"}),l=cl(),u={enter:l.transitions.duration.enteringScreen,exit:l.transitions.duration.leavingScreen},{"aria-describedby":f,"aria-labelledby":i,BackdropComponent:_,BackdropProps:b,children:E,className:k,disableEscapeKeyDown:R=!1,fullScreen:B=!1,fullWidth:F=!1,maxWidth:L="sm",onBackdropClick:X,onClose:$,open:H,PaperComponent:G=Qf,PaperProps:Q={},scroll:te="paper",TransitionComponent:le=t0,transitionDuration:M=u,TransitionProps:de}=o,ce=nn(o,yte),xe=J({},o,{disableEscapeKeyDown:R,fullScreen:B,fullWidth:F,maxWidth:L,scroll:te}),ke=vte(xe),$e=U.useRef(),_e=ze=>{$e.current=ze.target===ze.currentTarget},we=ze=>{$e.current&&($e.current=null,X&&X(ze),$&&$(ze,"backdropClick"))},me=Ed(i),je=U.useMemo(()=>({titleId:me}),[me]);return V.jsx(xte,J({className:mn(ke.root,k),closeAfterTransition:!0,components:{Backdrop:_te},componentsProps:{backdrop:J({transitionDuration:M,as:_},b)},disableEscapeKeyDown:R,onClose:$,open:H,ref:r,onClick:we,ownerState:xe},ce,{children:V.jsx(le,J({appear:!0,in:H,timeout:M,role:"presentation"},de,{children:V.jsx(bte,{className:mn(ke.container),onMouseDown:_e,ownerState:xe,children:V.jsx(wte,J({as:G,elevation:24,role:"dialog","aria-describedby":f,"aria-labelledby":me},Q,{className:mn(ke.paper,Q.className),ownerState:xe,children:V.jsx(gte.Provider,{value:je,children:E})}))})}))}))}),Tte=Ste,Cte=It(Tte)({[`& .${Km.container}`]:{outline:0},[`& .${Km.paper}`]:{outline:0,minWidth:uI}}),Ete=It(hte)({"&:first-of-type":{padding:0}});function Pte(e){var t,r;const{children:o,onDismiss:l,open:u,slots:f,slotProps:i}=e,_=(t=f==null?void 0:f.dialog)!=null?t:Cte,b=(r=f==null?void 0:f.mobileTransition)!=null?r:t0;return V.jsx(_,J({open:u,onClose:l},i==null?void 0:i.dialog,{TransitionComponent:b,TransitionProps:i==null?void 0:i.mobileTransition,PaperComponent:f==null?void 0:f.mobilePaper,PaperProps:i==null?void 0:i.mobilePaper,children:V.jsx(Ete,{children:o})}))}const kte=["props","getOpenDialogAriaText"],Mte=e=>{var t,r,o;let{props:l,getOpenDialogAriaText:u}=e,f=nn(e,kte);const{slots:i,slotProps:_,className:b,sx:E,format:k,formatDensity:R,timezone:B,label:F,inputRef:L,readOnly:X,disabled:$,localeText:H}=l,G=hi(),Q=U.useRef(null),te=Ed(),le=(t=_==null||(r=_.toolbar)==null?void 0:r.hidden)!=null?t:!1,{open:M,actions:de,layoutProps:ce,renderCurrentView:xe,fieldProps:ke}=TI(J({},f,{props:l,inputRef:Q,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"mobile"})),$e=i.field,_e=Ri({elementType:$e,externalSlotProps:_==null?void 0:_.field,additionalProps:J({},ke,le&&{id:te},!($||X)&&{onClick:de.onOpen,onKeyDown:fX(de.onOpen)},{readOnly:X??!0,disabled:$,className:b,sx:E,format:k,formatDensity:R,timezone:B,label:F}),ownerState:l});_e.inputProps=J({},_e.inputProps,{"aria-label":u(ke.value,G)});const we=J({textField:i.textField},_e.slots),me=(o=i.layout)!=null?o:MI,je=mi(Q,_e.inputRef,L);let ze=te;le&&(F?ze=`${te}-label`:ze=void 0);const Me=J({},_,{toolbar:J({},_==null?void 0:_.toolbar,{titleId:te}),mobilePaper:J({"aria-labelledby":ze},_==null?void 0:_.mobilePaper)});return{renderPicker:()=>V.jsxs(A5,{localeText:H,children:[V.jsx($e,J({},_e,{slots:we,slotProps:Me,inputRef:je})),V.jsx(Pte,J({},de,{open:M,slots:i,slotProps:Me,children:V.jsx(me,J({},ce,Me==null?void 0:Me.layout,{slots:i,slotProps:Me,children:xe()}))}))]})}};function Ite(e){return qn("MuiTimeClock",e)}jn("MuiTimeClock",["root","arrowSwitcher"]);const Ff=220,md=36,zg={x:Ff/2,y:Ff/2},DI={x:zg.x,y:0},Ate=DI.x-zg.x,Dte=DI.y-zg.y,Rte=e=>e*(180/Math.PI),RI=(e,t,r)=>{const o=t-zg.x,l=r-zg.y,u=Math.atan2(Ate,Dte)-Math.atan2(o,l);let f=Rte(u);f=Math.round(f/e)*e,f%=360;const i=Math.floor(f/e)||0,_=o**2+l**2,b=Math.sqrt(_);return{value:i,distance:b}},zte=(e,t,r=1)=>{const o=r*6;let{value:l}=RI(o,e,t);return l=l*r%60,l},Lte=(e,t,r)=>{const{value:o,distance:l}=RI(30,e,t);let u=o||12;return r?u%=12:l<Ff/2-md&&(u+=12,u%=24),u};function Ote(e){return qn("MuiClockPointer",e)}jn("MuiClockPointer",["root","thumb"]);const Fte=["className","hasSelected","isInner","type","viewValue"],Bte=e=>{const{classes:t}=e;return Hn({root:["root"],thumb:["thumb"]},Ote,t)},Nte=It("div",{name:"MuiClockPointer",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e,ownerState:t})=>J({width:2,backgroundColor:(e.vars||e).palette.primary.main,position:"absolute",left:"calc(50% - 1px)",bottom:"50%",transformOrigin:"center bottom 0px"},t.shouldAnimate&&{transition:e.transitions.create(["transform","height"])})),$te=It("div",{name:"MuiClockPointer",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(({theme:e,ownerState:t})=>J({width:4,height:4,backgroundColor:(e.vars||e).palette.primary.contrastText,borderRadius:"50%",position:"absolute",top:-21,left:`calc(50% - ${md/2}px)`,border:`${(md-4)/2}px solid ${(e.vars||e).palette.primary.main}`,boxSizing:"content-box"},t.hasSelected&&{backgroundColor:(e.vars||e).palette.primary.main}));function jte(e){const t=Nn({props:e,name:"MuiClockPointer"}),{className:r,isInner:o,type:l,viewValue:u}=t,f=nn(t,Fte),i=U.useRef(l);U.useEffect(()=>{i.current=l},[l]);const _=J({},t,{shouldAnimate:i.current!==l}),b=Bte(_),E=()=>{let R=360/(l==="hours"?12:60)*u;return l==="hours"&&u>12&&(R-=360),{height:Math.round((o?.26:.4)*Ff),transform:`rotateZ(${R}deg)`}};return V.jsx(Nte,J({style:E(),className:mn(r,b.root),ownerState:_},f,{children:V.jsx($te,{ownerState:_,className:b.thumb})}))}function Vte(e){return qn("MuiClock",e)}jn("MuiClock",["root","clock","wrapper","squareMask","pin","amButton","pmButton"]);const Ute=e=>{const{classes:t}=e;return Hn({root:["root"],clock:["clock"],wrapper:["wrapper"],squareMask:["squareMask"],pin:["pin"],amButton:["amButton"],pmButton:["pmButton"]},Vte,t)},Wte=It("div",{name:"MuiClock",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({display:"flex",justifyContent:"center",alignItems:"center",margin:e.spacing(2)})),Hte=It("div",{name:"MuiClock",slot:"Clock",overridesResolver:(e,t)=>t.clock})({backgroundColor:"rgba(0,0,0,.07)",borderRadius:"50%",height:220,width:220,flexShrink:0,position:"relative",pointerEvents:"none"}),Gte=It("div",{name:"MuiClock",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})({"&:focus":{outline:"none"}}),qte=It("div",{name:"MuiClock",slot:"SquareMask",overridesResolver:(e,t)=>t.squareMask})(({ownerState:e})=>J({width:"100%",height:"100%",position:"absolute",pointerEvents:"auto",outline:0,touchAction:"none",userSelect:"none"},e.disabled?{}:{"@media (pointer: fine)":{cursor:"pointer",borderRadius:"50%"},"&:active":{cursor:"move"}})),Zte=It("div",{name:"MuiClock",slot:"Pin",overridesResolver:(e,t)=>t.pin})(({theme:e})=>({width:6,height:6,borderRadius:"50%",backgroundColor:(e.vars||e).palette.primary.main,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"})),Xte=It(Zh,{name:"MuiClock",slot:"AmButton",overridesResolver:(e,t)=>t.amButton})(({theme:e,ownerState:t})=>J({zIndex:1,position:"absolute",bottom:8,left:8},t.meridiemMode==="am"&&{backgroundColor:(e.vars||e).palette.primary.main,color:(e.vars||e).palette.primary.contrastText,"&:hover":{backgroundColor:(e.vars||e).palette.primary.light}})),Yte=It(Zh,{name:"MuiClock",slot:"PmButton",overridesResolver:(e,t)=>t.pmButton})(({theme:e,ownerState:t})=>J({zIndex:1,position:"absolute",bottom:8,right:8},t.meridiemMode==="pm"&&{backgroundColor:(e.vars||e).palette.primary.main,color:(e.vars||e).palette.primary.contrastText,"&:hover":{backgroundColor:(e.vars||e).palette.primary.light}}));function Kte(e){const t=Nn({props:e,name:"MuiClock"}),{ampm:r,ampmInClock:o,autoFocus:l,children:u,value:f,handleMeridiemChange:i,isTimeDisabled:_,meridiemMode:b,minutesStep:E=1,onChange:k,selectedId:R,type:B,viewValue:F,disabled:L,readOnly:X,className:$}=t,H=t,G=hi(),Q=jl(),te=U.useRef(!1),le=Ute(H),M=_(F,B),de=!r&&B==="hours"&&(F<1||F>12),ce=(Le,qe)=>{L||X||_(Le,B)||k(Le,qe)},xe=(Le,qe)=>{let{offsetX:ct,offsetY:wt}=Le;if(ct===void 0){const ht=Le.target.getBoundingClientRect();ct=Le.changedTouches[0].clientX-ht.left,wt=Le.changedTouches[0].clientY-ht.top}const St=B==="seconds"||B==="minutes"?zte(ct,wt,E):Lte(ct,wt,!!r);ce(St,qe)},ke=Le=>{te.current=!0,xe(Le,"shallow")},$e=Le=>{te.current&&(xe(Le,"finish"),te.current=!1)},_e=Le=>{Le.buttons>0&&xe(Le.nativeEvent,"shallow")},we=Le=>{te.current&&(te.current=!1),xe(Le.nativeEvent,"finish")},me=U.useMemo(()=>B==="hours"?!0:F%5===0,[B,F]),je=B==="minutes"?E:1,ze=U.useRef(null);wo(()=>{l&&ze.current.focus()},[l]);const Me=Le=>{if(!te.current)switch(Le.key){case"Home":ce(0,"partial"),Le.preventDefault();break;case"End":ce(B==="minutes"?59:23,"partial"),Le.preventDefault();break;case"ArrowUp":ce(F+je,"partial"),Le.preventDefault();break;case"ArrowDown":ce(F-je,"partial"),Le.preventDefault();break}};return V.jsxs(Wte,{className:mn($,le.root),children:[V.jsxs(Hte,{className:le.clock,children:[V.jsx(qte,{onTouchMove:ke,onTouchEnd:$e,onMouseUp:we,onMouseMove:_e,ownerState:{disabled:L},className:le.squareMask}),!M&&V.jsxs(U.Fragment,{children:[V.jsx(Zte,{className:le.pin}),f!=null&&V.jsx(jte,{type:B,viewValue:F,isInner:de,hasSelected:me})]}),V.jsx(Gte,{"aria-activedescendant":R,"aria-label":Q.clockLabelText(B,f,G),ref:ze,role:"listbox",onKeyDown:Me,tabIndex:0,className:le.wrapper,children:u})]}),r&&o&&V.jsxs(U.Fragment,{children:[V.jsx(Xte,{onClick:X?void 0:()=>i("am"),disabled:L||b===null,ownerState:H,className:le.amButton,children:V.jsx(_u,{variant:"caption",children:"AM"})}),V.jsx(Yte,{disabled:L||b===null,onClick:X?void 0:()=>i("pm"),ownerState:H,className:le.pmButton,children:V.jsx(_u,{variant:"caption",children:"PM"})})]})]})}function Jte(e){return qn("MuiClockNumber",e)}const zy=jn("MuiClockNumber",["root","selected","disabled"]),Qte=["className","disabled","index","inner","label","selected"],ene=e=>{const{classes:t,selected:r,disabled:o}=e;return Hn({root:["root",r&&"selected",o&&"disabled"]},Jte,t)},tne=It("span",{name:"MuiClockNumber",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`&.${zy.disabled}`]:t.disabled},{[`&.${zy.selected}`]:t.selected}]})(({theme:e,ownerState:t})=>J({height:md,width:md,position:"absolute",left:`calc((100% - ${md}px) / 2)`,display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:(e.vars||e).palette.text.primary,fontFamily:e.typography.fontFamily,"&:focused":{backgroundColor:(e.vars||e).palette.background.paper},[`&.${zy.selected}`]:{color:(e.vars||e).palette.primary.contrastText},[`&.${zy.disabled}`]:{pointerEvents:"none",color:(e.vars||e).palette.text.disabled}},t.inner&&J({},e.typography.body2,{color:(e.vars||e).palette.text.secondary})));function zI(e){const t=Nn({props:e,name:"MuiClockNumber"}),{className:r,disabled:o,index:l,inner:u,label:f,selected:i}=t,_=nn(t,Qte),b=t,E=ene(b),k=l%12/12*Math.PI*2-Math.PI/2,R=(Ff-md-2)/2*(u?.65:1),B=Math.round(Math.cos(k)*R),F=Math.round(Math.sin(k)*R);return V.jsx(tne,J({className:mn(r,E.root),"aria-disabled":o?!0:void 0,"aria-selected":i?!0:void 0,role:"option",style:{transform:`translate(${B}px, ${F+(Ff-md)/2}px`},ownerState:b},_,{children:f}))}const nne=({ampm:e,value:t,getClockNumberText:r,isDisabled:o,selectedId:l,utils:u})=>{const f=t?u.getHours(t):null,i=[],_=e?1:0,b=e?12:23,E=k=>f===null?!1:e?k===12?f===12||f===0:f===k||f-12===k:f===k;for(let k=_;k<=b;k+=1){let R=k.toString();k===0&&(R="00");const B=!e&&(k===0||k>12);R=u.formatNumber(R);const F=E(k);i.push(V.jsx(zI,{id:F?l:void 0,index:k,inner:B,selected:F,disabled:o(k),label:R,"aria-label":r(R)},k))}return i},Z8=({utils:e,value:t,isDisabled:r,getClockNumberText:o,selectedId:l})=>{const u=e.formatNumber;return[[5,u("05")],[10,u("10")],[15,u("15")],[20,u("20")],[25,u("25")],[30,u("30")],[35,u("35")],[40,u("40")],[45,u("45")],[50,u("50")],[55,u("55")],[0,u("00")]].map(([f,i],_)=>{const b=f===t;return V.jsx(zI,{label:i,id:b?l:void 0,index:_+1,inner:!1,disabled:r(f),selected:b,"aria-label":o(i)},f)})},rne=["ampm","ampmInClock","autoFocus","components","componentsProps","slots","slotProps","value","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableClock","shouldDisableTime","showViewSwitcher","onChange","defaultValue","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","timezone"],ine=e=>{const{classes:t}=e;return Hn({root:["root"],arrowSwitcher:["arrowSwitcher"]},Ite,t)},one=It(N5,{name:"MuiTimeClock",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"column",position:"relative"}),sne=It(bI,{name:"MuiTimeClock",slot:"ArrowSwitcher",overridesResolver:(e,t)=>t.arrowSwitcher})({position:"absolute",right:12,top:15}),ane=U.forwardRef(function(t,r){const o=hi(),l=Nn({props:t,name:"MuiTimeClock"}),{ampm:u=o.is12HourCycleInCurrentLocale(),ampmInClock:f=!1,autoFocus:i,components:_,componentsProps:b,slots:E,slotProps:k,value:R,disableIgnoringDatePartForTimeValidation:B=!1,maxTime:F,minTime:L,disableFuture:X,disablePast:$,minutesStep:H=1,shouldDisableClock:G,shouldDisableTime:Q,showViewSwitcher:te,onChange:le,defaultValue:M,view:de,views:ce=["hours","minutes"],openTo:xe,onViewChange:ke,focusedView:$e,onFocusedViewChange:_e,className:we,disabled:me,readOnly:je,timezone:ze}=l,Me=nn(l,rne),Le=E??B5(_),qe=k??b,{value:ct,handleValueChange:wt,timezone:St}=r0({name:"TimeClock",timezone:ze,value:R,defaultValue:M,onChange:le,valueManager:$l}),ht=jl(),Dt=qh(St),{view:bt,setView:Et,previousView:Xt,nextView:rn,setValueAndGoToNextView:_t}=Pv({view:de,views:ce,openTo:xe,onViewChange:ke,onChange:wt,focusedView:$e,onFocusedViewChange:_e}),at=U.useMemo(()=>ct||o.setSeconds(o.setMinutes(o.setHours(Dt,0),0),0),[ct,Dt,o]),{meridiemMode:ft,handleMeridiemChange:Ft}=F5(at,u,_t),un=U.useCallback((ln,sn)=>{const Qt=Sv(B,o),Tn=sn==="hours"||sn==="minutes"&&ce.includes("seconds"),Zn=({start:$t,end:Dn})=>!(L&&Qt(L,Dn)||F&&Qt($t,F)||X&&Qt($t,Dt)||$&&Qt(Dt,Tn?Dn:$t)),hr=($t,Dn=1)=>{if($t%Dn!==0||G!=null&&G($t,sn))return!1;if(Q)switch(sn){case"hours":return!Q(o.setHours(at,$t),"hours");case"minutes":return!Q(o.setMinutes(at,$t),"minutes");case"seconds":return!Q(o.setSeconds(at,$t),"seconds");default:return!1}return!0};switch(sn){case"hours":{const $t=Ag(ln,ft,u),Dn=o.setHours(at,$t),Wn=o.setSeconds(o.setMinutes(Dn,0),0),Cn=o.setSeconds(o.setMinutes(Dn,59),59);return!Zn({start:Wn,end:Cn})||!hr($t)}case"minutes":{const $t=o.setMinutes(at,ln),Dn=o.setSeconds($t,0),Wn=o.setSeconds($t,59);return!Zn({start:Dn,end:Wn})||!hr(ln,H)}case"seconds":{const $t=o.setSeconds(at,ln);return!Zn({start:$t,end:$t})||!hr(ln)}default:throw new Error("not supported")}},[u,at,B,F,ft,L,H,G,Q,o,X,$,Dt,ce]),rt=Ed(),an=U.useMemo(()=>{switch(bt){case"hours":{const ln=(sn,Qt)=>{const Tn=Ag(sn,ft,u);_t(o.setHours(at,Tn),Qt)};return{onChange:ln,viewValue:o.getHours(at),children:nne({value:ct,utils:o,ampm:u,onChange:ln,getClockNumberText:ht.hoursClockNumberText,isDisabled:sn=>me||un(sn,"hours"),selectedId:rt})}}case"minutes":{const ln=o.getMinutes(at),sn=(Qt,Tn)=>{_t(o.setMinutes(at,Qt),Tn)};return{viewValue:ln,onChange:sn,children:Z8({utils:o,value:ln,onChange:sn,getClockNumberText:ht.minutesClockNumberText,isDisabled:Qt=>me||un(Qt,"minutes"),selectedId:rt})}}case"seconds":{const ln=o.getSeconds(at),sn=(Qt,Tn)=>{_t(o.setSeconds(at,Qt),Tn)};return{viewValue:ln,onChange:sn,children:Z8({utils:o,value:ln,onChange:sn,getClockNumberText:ht.secondsClockNumberText,isDisabled:Qt=>me||un(Qt,"seconds"),selectedId:rt})}}default:throw new Error("You must provide the type for ClockView")}},[bt,o,ct,u,ht.hoursClockNumberText,ht.minutesClockNumberText,ht.secondsClockNumberText,ft,_t,at,un,rt,me]),Tt=l,on=ine(Tt);return V.jsxs(one,J({ref:r,className:mn(on.root,we),ownerState:Tt},Me,{children:[V.jsx(Kte,J({autoFocus:i??!!$e,ampmInClock:f&&ce.includes("hours"),value:ct,type:bt,ampm:u,minutesStep:H,isTimeDisabled:un,meridiemMode:ft,handleMeridiemChange:Ft,selectedId:rt,disabled:me,readOnly:je},an)),te&&V.jsx(sne,{className:on.arrowSwitcher,slots:Le,slotProps:qe,onGoToPrevious:()=>Et(Xt),isPreviousDisabled:!Xt,previousLabel:ht.openPreviousView,onGoToNext:()=>Et(rn),isNextDisabled:!rn,nextLabel:ht.openNextView,ownerState:Tt})]}))}),xf=({view:e,onViewChange:t,focusedView:r,onFocusedViewChange:o,views:l,value:u,defaultValue:f,onChange:i,className:_,classes:b,disableFuture:E,disablePast:k,minTime:R,maxTime:B,shouldDisableTime:F,shouldDisableClock:L,minutesStep:X,ampm:$,ampmInClock:H,components:G,componentsProps:Q,slots:te,slotProps:le,readOnly:M,disabled:de,sx:ce,autoFocus:xe,showViewSwitcher:ke,disableIgnoringDatePartForTimeValidation:$e,timezone:_e})=>V.jsx(ane,{view:e,onViewChange:t,focusedView:r&&W_(r)?r:null,onFocusedViewChange:o,views:l.filter(W_),value:u,defaultValue:f,onChange:i,className:_,classes:b,disableFuture:E,disablePast:k,minTime:R,maxTime:B,shouldDisableTime:F,shouldDisableClock:L,minutesStep:X,ampm:$,ampmInClock:H,components:G,componentsProps:Q,slots:te,slotProps:le,readOnly:M,disabled:de,sx:ce,autoFocus:xe,showViewSwitcher:ke,disableIgnoringDatePartForTimeValidation:$e,timezone:_e}),LI=U.forwardRef(function(t,r){var o,l,u;const f=jl(),i=hi(),_=fI(t,"MuiMobileDateTimePicker"),b=J({day:vf,month:vf,year:vf,hours:xf,minutes:xf,seconds:xf},_.viewRenderers),E=(o=_.ampmInClock)!=null?o:!1,k=J({},_,{viewRenderers:b,format:II(i,_),ampmInClock:E,slots:J({field:oI},_.slots),slotProps:J({},_.slotProps,{field:B=>{var F;return J({},Df((F=_.slotProps)==null?void 0:F.field,B),iI(_),{ref:r})},toolbar:J({hidden:!1,ampmInClock:E},(l=_.slotProps)==null?void 0:l.toolbar),tabs:J({hidden:!1},(u=_.slotProps)==null?void 0:u.tabs)})}),{renderPicker:R}=Mte({props:k,valueManager:$l,valueType:"date-time",getOpenDialogAriaText:f.openDatePickerDialogue,validator:O5});return R()});LI.propTypes={ampm:Ye.bool,ampmInClock:Ye.bool,autoFocus:Ye.bool,className:Ye.string,closeOnSelect:Ye.bool,components:Ye.object,componentsProps:Ye.object,dayOfWeekFormatter:Ye.func,defaultCalendarMonth:Ye.any,defaultValue:Ye.any,disabled:Ye.bool,disableFuture:Ye.bool,disableHighlightToday:Ye.bool,disableIgnoringDatePartForTimeValidation:Ye.bool,disableOpenPicker:Ye.bool,disablePast:Ye.bool,displayWeekNumber:Ye.bool,fixedWeekNumber:Ye.number,format:Ye.string,formatDensity:Ye.oneOf(["dense","spacious"]),inputRef:Ye.oneOfType([Ye.func,Ye.shape({current:Ye.object})]),label:Ye.node,loading:Ye.bool,localeText:Ye.object,maxDate:Ye.any,maxDateTime:Ye.any,maxTime:Ye.any,minDate:Ye.any,minDateTime:Ye.any,minTime:Ye.any,minutesStep:Ye.number,monthsPerRow:Ye.oneOf([3,4]),onAccept:Ye.func,onChange:Ye.func,onClose:Ye.func,onError:Ye.func,onMonthChange:Ye.func,onOpen:Ye.func,onSelectedSectionsChange:Ye.func,onViewChange:Ye.func,onYearChange:Ye.func,open:Ye.bool,openTo:Ye.oneOf(["day","hours","minutes","month","seconds","year"]),orientation:Ye.oneOf(["landscape","portrait"]),readOnly:Ye.bool,reduceAnimations:Ye.bool,renderLoading:Ye.func,selectedSections:Ye.oneOfType([Ye.oneOf(["all","day","hours","meridiem","minutes","month","seconds","weekDay","year"]),Ye.number,Ye.shape({endIndex:Ye.number.isRequired,startIndex:Ye.number.isRequired})]),shouldDisableClock:Ye.func,shouldDisableDate:Ye.func,shouldDisableMonth:Ye.func,shouldDisableTime:Ye.func,shouldDisableYear:Ye.func,showDaysOutsideCurrentMonth:Ye.bool,slotProps:Ye.object,slots:Ye.object,sx:Ye.oneOfType([Ye.arrayOf(Ye.oneOfType([Ye.func,Ye.object,Ye.bool])),Ye.func,Ye.object]),timezone:Ye.string,value:Ye.any,view:Ye.oneOf(["day","hours","minutes","month","seconds","year"]),viewRenderers:Ye.shape({day:Ye.func,hours:Ye.func,minutes:Ye.func,month:Ye.func,seconds:Ye.func,year:Ye.func}),views:Ye.arrayOf(Ye.oneOf(["day","hours","minutes","month","seconds","year"]).isRequired),yearsPerRow:Ye.oneOf([3,4])};const lne=["desktopModeMediaQuery"],cne=U.forwardRef(function(t,r){const o=Nn({props:t,name:"MuiDateTimePicker"}),{desktopModeMediaQuery:l=mX}=o,u=nn(o,lne);return jZ(l,{defaultMatches:!0})?V.jsx(AI,J({ref:r},u)):V.jsx(LI,J({ref:r},u))});function OI(){return V.jsx(A5,{dateAdapter:FZ,children:V.jsx(SZ,{sx:{width:270},components:["DateTimePicker"],children:V.jsx(cne,{label:"Choose Time",viewRenderers:{hours:xf,minutes:xf,seconds:xf}})})})}function une(e){return qn("MuiListSubheader",e)}jn("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const dne=["className","color","component","disableGutters","disableSticky","inset"],hne=e=>{const{classes:t,color:r,disableGutters:o,inset:l,disableSticky:u}=e,f={root:["root",r!=="default"&&`color${wn(r)}`,!o&&"gutters",l&&"inset",!u&&"sticky"]};return Hn(f,une,t)},pne=It("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color!=="default"&&t[`color${wn(r.color)}`],!r.disableGutters&&t.gutters,r.inset&&t.inset,!r.disableSticky&&t.sticky]}})(({theme:e,ownerState:t})=>J({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(e.vars||e).palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14)},t.color==="primary"&&{color:(e.vars||e).palette.primary.main},t.color==="inherit"&&{color:"inherit"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.inset&&{paddingLeft:72},!t.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(e.vars||e).palette.background.paper})),FI=U.forwardRef(function(t,r){const o=Nn({props:t,name:"MuiListSubheader"}),{className:l,color:u="default",component:f="li",disableGutters:i=!1,disableSticky:_=!1,inset:b=!1}=o,E=nn(o,dne),k=J({},o,{color:u,component:f,disableGutters:i,disableSticky:_,inset:b}),R=hne(k);return V.jsx(pne,J({as:f,className:mn(R.root,l),ref:r,ownerState:k},E))});FI.muiSkipListHighlight=!0;const fne=FI,mne=Da(V.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");function gne(e){return qn("MuiAutocomplete",e)}const yne=jn("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]),Or=yne;var X8,Y8;const _ne=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","readOnly","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","slotProps","value"],vne=["ref"],xne=e=>{const{classes:t,disablePortal:r,expanded:o,focused:l,fullWidth:u,hasClearIcon:f,hasPopupIcon:i,inputFocused:_,popupOpen:b,size:E}=e,k={root:["root",o&&"expanded",l&&"focused",u&&"fullWidth",f&&"hasClearIcon",i&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",_&&"inputFocused"],tag:["tag",`tagSize${wn(E)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",b&&"popupIndicatorOpen"],popper:["popper",r&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return Hn(k,gne,t)},bne=It("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{fullWidth:o,hasClearIcon:l,hasPopupIcon:u,inputFocused:f,size:i}=r;return[{[`& .${Or.tag}`]:t.tag},{[`& .${Or.tag}`]:t[`tagSize${wn(i)}`]},{[`& .${Or.inputRoot}`]:t.inputRoot},{[`& .${Or.input}`]:t.input},{[`& .${Or.input}`]:f&&t.inputFocused},t.root,o&&t.fullWidth,u&&t.hasPopupIcon,l&&t.hasClearIcon]}})(({ownerState:e})=>J({[`&.${Or.focused} .${Or.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${Or.clearIndicator}`]:{visibility:"visible"}}},e.fullWidth&&{width:"100%"},{[`& .${Or.tag}`]:J({margin:3,maxWidth:"calc(100% - 6px)"},e.size==="small"&&{margin:2,maxWidth:"calc(100% - 4px)"}),[`& .${Or.inputRoot}`]:{flexWrap:"wrap",[`.${Or.hasPopupIcon}&, .${Or.hasClearIcon}&`]:{paddingRight:26+4},[`.${Or.hasPopupIcon}.${Or.hasClearIcon}&`]:{paddingRight:52+4},[`& .${Or.input}`]:{width:0,minWidth:30}},[`& .${nd.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${nd.root}.${va.sizeSmall}`]:{[`& .${nd.input}`]:{padding:"2px 4px 3px 0"}},[`& .${fc.root}`]:{padding:9,[`.${Or.hasPopupIcon}&, .${Or.hasClearIcon}&`]:{paddingRight:26+4+9},[`.${Or.hasPopupIcon}.${Or.hasClearIcon}&`]:{paddingRight:52+4+9},[`& .${Or.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${Or.endAdornment}`]:{right:9}},[`& .${fc.root}.${va.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${Or.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${xa.root}`]:{paddingTop:19,paddingLeft:8,[`.${Or.hasPopupIcon}&, .${Or.hasClearIcon}&`]:{paddingRight:26+4+9},[`.${Or.hasPopupIcon}.${Or.hasClearIcon}&`]:{paddingRight:52+4+9},[`& .${xa.input}`]:{padding:"7px 4px"},[`& .${Or.endAdornment}`]:{right:9}},[`& .${xa.root}.${va.sizeSmall}`]:{paddingBottom:1,[`& .${xa.input}`]:{padding:"2.5px 4px"}},[`& .${va.hiddenLabel}`]:{paddingTop:8},[`& .${xa.root}.${va.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${Or.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${xa.root}.${va.hiddenLabel}.${va.sizeSmall}`]:{[`& .${Or.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${Or.input}`]:J({flexGrow:1,textOverflow:"ellipsis",opacity:0},e.inputFocused&&{opacity:1})})),wne=It("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(e,t)=>t.endAdornment})({position:"absolute",right:0,top:"calc(50% - 14px)"}),Sne=It(Zh,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(e,t)=>t.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),Tne=It(Zh,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:({ownerState:e},t)=>J({},t.popupIndicator,e.popupOpen&&t.popupIndicatorOpen)})(({ownerState:e})=>J({padding:2,marginRight:-2},e.popupOpen&&{transform:"rotate(180deg)"})),Cne=It($5,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${Or.option}`]:t.option},t.popper,r.disablePortal&&t.popperDisablePortal]}})(({theme:e,ownerState:t})=>J({zIndex:(e.vars||e).zIndex.modal},t.disablePortal&&{position:"absolute"})),Ene=It(Qf,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(e,t)=>t.paper})(({theme:e})=>J({},e.typography.body1,{overflow:"auto"})),Pne=It("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(e,t)=>t.loading})(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"})),kne=It("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(e,t)=>t.noOptions})(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"})),Mne=It("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(e,t)=>t.listbox})(({theme:e})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${Or.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[e.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${Or.focused}`]:{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${Or.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Rr(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Or.focused}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Rr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${Or.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Rr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}}}})),Ine=It(fne,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(e,t)=>t.groupLabel})(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,top:-8})),Ane=It("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(e,t)=>t.groupUl})({padding:0,[`& .${Or.option}`]:{paddingLeft:24}}),Dne=U.forwardRef(function(t,r){var o,l,u,f;const i=Nn({props:t,name:"MuiAutocomplete"}),{autoComplete:_=!1,autoHighlight:b=!1,autoSelect:E=!1,blurOnSelect:k=!1,ChipProps:R,className:B,clearIcon:F=X8||(X8=V.jsx(mne,{fontSize:"small"})),clearOnBlur:L=!i.freeSolo,clearOnEscape:X=!1,clearText:$="Clear",closeText:H="Close",componentsProps:G={},defaultValue:Q=i.multiple?[]:null,disableClearable:te=!1,disableCloseOnSelect:le=!1,disabled:M=!1,disabledItemsFocusable:de=!1,disableListWrap:ce=!1,disablePortal:xe=!1,filterSelectedOptions:ke=!1,forcePopupIcon:$e="auto",freeSolo:_e=!1,fullWidth:we=!1,getLimitTagsText:me=ut=>`+${ut}`,getOptionLabel:je=ut=>{var xt;return(xt=ut.label)!=null?xt:ut},groupBy:ze,handleHomeEndKeys:Me=!i.freeSolo,includeInputInList:Le=!1,limitTags:qe=-1,ListboxComponent:ct="ul",ListboxProps:wt,loading:St=!1,loadingText:ht="Loading",multiple:Dt=!1,noOptionsText:bt="No options",openOnFocus:Et=!1,openText:Xt="Open",PaperComponent:rn=Qf,PopperComponent:_t=$5,popupIcon:at=Y8||(Y8=V.jsx(OM,{})),readOnly:ft=!1,renderGroup:Ft,renderInput:un,renderOption:rt,renderTags:an,selectOnFocus:Tt=!i.freeSolo,size:on="medium",slotProps:ln={}}=i,sn=nn(i,_ne),{getRootProps:Qt,getInputProps:Tn,getInputLabelProps:Zn,getPopupIndicatorProps:hr,getClearProps:$t,getTagProps:Dn,getListboxProps:Wn,getOptionProps:Cn,value:Pn,dirty:In,expanded:er,id:dn,popupOpen:yn,focused:zn,focusedTag:Qn,anchorEl:Cr,setAnchorEl:Ur,inputValue:yi,groupedOptions:Ee}=TH(J({},i,{componentName:"Autocomplete"})),ae=!te&&!M&&In&&!ft,ue=(!_e||$e===!0)&&$e!==!1,{onMouseDown:Pe}=Tn(),{ref:Be}=wt??{},Ze=Wn(),{ref:et}=Ze,Qe=nn(Ze,vne),Xe=mi(et,Be),it=J({},i,{disablePortal:xe,expanded:er,focused:zn,fullWidth:we,hasClearIcon:ae,hasPopupIcon:ue,inputFocused:Qn===-1,popupOpen:yn,size:on}),Nt=xne(it);let Kt;if(Dt&&Pn.length>0){const ut=xt=>J({className:Nt.tag,disabled:M},Dn(xt));an?Kt=an(Pn,ut,it):Kt=Pn.map((xt,_n)=>V.jsx(PI,J({label:je(xt),size:on},ut({index:_n}),R)))}if(qe>-1&&Array.isArray(Kt)){const ut=Kt.length-qe;!zn&&ut>0&&(Kt=Kt.splice(0,qe),Kt.push(V.jsx("span",{className:Nt.tag,children:me(ut)},Kt.length)))}const Xn=Ft||(ut=>V.jsxs("li",{children:[V.jsx(Ine,{className:Nt.groupLabel,ownerState:it,component:"div",children:ut.group}),V.jsx(Ane,{className:Nt.groupUl,ownerState:it,children:ut.children})]},ut.key)),Kn=rt||((ut,xt)=>V.jsx("li",J({},ut,{children:je(xt)}))),rr=(ut,xt)=>{const _n=Cn({option:ut,index:xt});return Kn(J({},_n,{className:Nt.option}),ut,{selected:_n["aria-selected"],index:xt,inputValue:yi})},pr=(o=ln.clearIndicator)!=null?o:G.clearIndicator,Br=(l=ln.paper)!=null?l:G.paper,jr=(u=ln.popper)!=null?u:G.popper,wi=(f=ln.popupIndicator)!=null?f:G.popupIndicator;return V.jsxs(U.Fragment,{children:[V.jsx(bne,J({ref:r,className:mn(Nt.root,B),ownerState:it},Qt(sn),{children:un({id:dn,disabled:M,fullWidth:!0,size:on==="small"?"small":void 0,InputLabelProps:Zn(),InputProps:J({ref:Ur,className:Nt.inputRoot,startAdornment:Kt,onClick:ut=>{ut.target===ut.currentTarget&&Pe(ut)}},(ae||ue)&&{endAdornment:V.jsxs(wne,{className:Nt.endAdornment,ownerState:it,children:[ae?V.jsx(Sne,J({},$t(),{"aria-label":$,title:$,ownerState:it},pr,{className:mn(Nt.clearIndicator,pr==null?void 0:pr.className),children:F})):null,ue?V.jsx(Tne,J({},hr(),{disabled:M,"aria-label":yn?H:Xt,title:yn?H:Xt,ownerState:it},wi,{className:mn(Nt.popupIndicator,wi==null?void 0:wi.className),children:at})):null]})}),inputProps:J({className:Nt.input,disabled:M,readOnly:ft},Tn())})})),Cr?V.jsx(Cne,J({as:_t,disablePortal:xe,style:{width:Cr?Cr.clientWidth:null},ownerState:it,role:"presentation",anchorEl:Cr,open:yn},jr,{className:mn(Nt.popper,jr==null?void 0:jr.className),children:V.jsxs(Ene,J({ownerState:it,as:rn},Br,{className:mn(Nt.paper,Br==null?void 0:Br.className),children:[St&&Ee.length===0?V.jsx(Pne,{className:Nt.loading,ownerState:it,children:ht}):null,Ee.length===0&&!_e&&!St?V.jsx(kne,{className:Nt.noOptions,ownerState:it,role:"presentation",onMouseDown:ut=>{ut.preventDefault()},children:bt}):null,Ee.length>0?V.jsx(Mne,J({as:ct,className:Nt.listbox,ownerState:it},Qe,wt,{ref:Xe,children:Ee.map((ut,xt)=>ze?Xn({key:ut.key,group:ut.group,children:ut.options.map((_n,Rn)=>rr(_n,ut.index+Rn))}):rr(ut,xt))})):null]}))})):null]})}),Rne=Dne;function BI(){return V.jsx(Rne,{multiple:!0,limitTags:2,id:"multiple-limit-tags",options:zne,getOptionLabel:e=>e.title,renderInput:e=>V.jsx(BM,{...e,label:"Preference",placeholder:"Favorites"}),sx:{width:"270px"}})}const zne=[{title:"Parks"},{title:"WIFI"},{title:"Bench"},{title:"Cafe"},{title:"Canteen"},{title:"Library"},{title:"Landscape"}],Lne=Xg(),One=Z$({themeId:zh,defaultTheme:Lne,defaultClassName:"MuiBox-root",generateClassName:U4.generate}),Fne=One;function NI(){const[e,t]=U.useState(""),r=o=>{const l=o.target.value.replace(/\D/g,"");t(l)};return V.jsx(Fne,{sx:{display:"flex",flexWrap:"wrap"},children:V.jsx("div",{children:V.jsx(xM,{sx:{m:1,width:270},variant:"outlined",children:V.jsx(x5,{id:"outlined-adornment-weight",value:e,onChange:r,endAdornment:V.jsx(SI,{position:"end",children:"meter"}),"aria-describedby":"outlined-weight-helper-text",inputProps:{"aria-label":"meter"}})})})})}function Bne({inputValues:e,setInputValues:t}){return V.jsxs("div",{children:[V.jsx("img",{src:"/static/images/menu.png",className:"menu-button",alt:"Menu button"}),V.jsxs("div",{className:"PlanWin",children:[V.jsxs("div",{className:"PlanSet",children:[V.jsx("div",{className:"green-bar",children:V.jsx("span",{className:"text_bar",children:"Walking Setting"})}),V.jsxs("div",{className:"start-place",children:[V.jsx("span",{className:"text_bar_3",children:"Start Place:"}),V.jsx(CU,{inputValues:e,setInputValues:t})]}),V.jsxs("div",{className:"start-time",children:[V.jsx("span",{className:"text_bar_3",children:"Start Time:"}),V.jsx(OI,{})]}),V.jsxs("div",{className:"walk-duration",children:[V.jsx("span",{className:"text_bar_3",children:"Distance:"}),V.jsx("span",{className:"spacer1",children:""}),V.jsx(NI,{})]}),V.jsxs("div",{className:"preference",children:[V.jsx("span",{className:"text_bar_3",children:"Preference:"}),V.jsx(BI,{})]}),V.jsx("div",{className:"gain-route",children:V.jsx("button",{className:"gainroute-button",children:"Gain a Route"})})]}),V.jsxs("div",{className:"PlanMap",children:[V.jsxs("div",{className:"additional-blocks",children:[V.jsx("div",{className:"additional-block-text",children:V.jsx("span",{className:"text_bar_2",children:"Choose Position"})}),V.jsx("div",{className:"additional-block-close",children:V.jsx("img",{src:"/static/images/close.png",className:"close-button",alt:"Mclose button"})})]}),V.jsx(wB,{inputValues:e})]})]})]})}const Nne=()=>{const[e,t]=U.useState({first_name:"",last_name:"",email:"",address:"",password:""}),r=document.getElementById("error-message"),o=u=>{t({...e,[u.target.name]:u.target.value})},l=async u=>{u.preventDefault(),Jg.post("/users/registration",e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(f=>{console.log(f)}).catch(f=>{if(f.response.status===400){console.log("It may be that Username already exists.");const i="Check if Username already exists. Please try entering a different email address.";r.textContent=i}else f.response?(console.log(f.response),console.log("server responded")):f.request?console.log("network error"):console.log(f)})};return V.jsxs("div",{className:"login-area",children:[V.jsx("h3",{children:"Registration Form"}),V.jsxs("form",{onSubmit:l,children:[V.jsxs("div",{children:[V.jsx("label",{htmlFor:"first_name",children:"First Name:"}),V.jsx("input",{type:"text",name:"first_name",id:"first_name",onChange:o})]}),V.jsxs("div",{children:[V.jsx("label",{htmlFor:"last_name",children:"Last Name:"}),V.jsx("input",{type:"text",name:"last_name",onChange:o})]}),V.jsxs("div",{children:[V.jsx("label",{htmlFor:"email",children:"Email:"}),V.jsx("input",{type:"text",name:"email",id:"email",onChange:o})]}),V.jsxs("div",{children:[V.jsx("label",{htmlFor:"address",children:"Address:"}),V.jsx("input",{type:"text",name:"address",id:"address",onChange:o})]}),V.jsxs("div",{children:[V.jsx("label",{htmlFor:"password",children:"Password:"}),V.jsx("input",{type:"text",name:"password",id:"password",onChange:o})]}),V.jsx("div",{id:"error-message"}),V.jsx("button",{type:"submit",className:"submit-button",children:"Submit"})]})]})};function $ne(){const[e,t]=U.useState({latitude:"",longitude:""}),r=l=>{t({...e,[l.target.name]:l.target.value})},o=l=>{l.preventDefault(),Jg.post("/users",e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(u=>{console.log(u.data)}).catch(u=>{u.response?(console.log(u.response),console.log("server responded with error")):u.request?console.log("network error"):console.log(u)})};return V.jsx("div",{className:"comms",children:V.jsxs("form",{onSubmit:o,children:[V.jsx("label",{htmlFor:"latitude",children:"Latitude:"}),V.jsx("input",{type:"text",name:"latitude",onChange:r}),V.jsx("label",{htmlFor:"longitude",children:"Longitude:"}),V.jsx("input",{type:"text",name:"longitude",onChange:r}),V.jsx("button",{type:"submit",children:"Submit"})]})})}const jne=()=>{const[e,t]=U.useState({latitude:"",longitude:"",distance:"",hour:""}),r=l=>{t({...e,[l.target.name]:l.target.value})},o=l=>{l.preventDefault(),Jg.post("/users",e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(u=>{console.log(u.data)}).catch(u=>{u.response?(console.log(u.response),console.log("server responded")):u.request?console.log("network error"):console.log(u)})};return V.jsxs("div",{className:"latlondis-area",children:[V.jsx("h3",{children:"Route Planner Inputs"}),V.jsxs("form",{onSubmit:o,children:[V.jsxs("div",{children:[V.jsx("label",{htmlFor:"latitude",children:"Starting Latitude:"}),V.jsx("input",{type:"text",name:"latitude",onChange:r})]}),V.jsxs("div",{children:[V.jsx("label",{htmlFor:"longitude",children:"Starting Longitude:"}),V.jsx("input",{type:"text",name:"longitude",onChange:r})]}),V.jsxs("div",{children:[V.jsx("label",{htmlFor:"distance",children:"Distance to walk:"}),V.jsx("input",{type:"text",name:"distance",onChange:r})]}),V.jsxs("div",{children:[V.jsx("label",{htmlFor:"distance",children:"Hour (to start walk):"}),V.jsx("input",{type:"text",name:"hour",onChange:r})]}),V.jsx("button",{type:"submit",className:"submit-button",children:"Submit"})]})]})};function Nh(e){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nh(e)}function Vne(e,t){if(Nh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t||"default");if(Nh(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $I(e){var t=Vne(e,"string");return Nh(t)==="symbol"?t:String(t)}function Am(e,t,r){return t=$I(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,o)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K8(Object(r),!0).forEach(function(o){Am(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K8(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function Une(e){if(Array.isArray(e))return e}function Wne(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var o,l,u,f,i=[],_=!0,b=!1;try{if(u=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;_=!1}else for(;!(_=(o=u.call(r)).done)&&(i.push(o.value),i.length!==t);_=!0);}catch(E){b=!0,l=E}finally{try{if(!_&&r.return!=null&&(f=r.return(),Object(f)!==f))return}finally{if(b)throw l}}return i}}function Cw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function jI(e,t){if(e){if(typeof e=="string")return Cw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cw(e,t)}}function Hne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hu(e,t){return Une(e)||Wne(e,t)||jI(e,t)||Hne()}function Su(e,t){if(e==null)return{};var r=nn(e,t),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)o=u[l],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var Gne=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function qne(e){var t=e.defaultInputValue,r=t===void 0?"":t,o=e.defaultMenuIsOpen,l=o===void 0?!1:o,u=e.defaultValue,f=u===void 0?null:u,i=e.inputValue,_=e.menuIsOpen,b=e.onChange,E=e.onInputChange,k=e.onMenuClose,R=e.onMenuOpen,B=e.value,F=Su(e,Gne),L=U.useState(i!==void 0?i:r),X=hu(L,2),$=X[0],H=X[1],G=U.useState(_!==void 0?_:l),Q=hu(G,2),te=Q[0],le=Q[1],M=U.useState(B!==void 0?B:f),de=hu(M,2),ce=de[0],xe=de[1],ke=U.useCallback(function(Me,Le){typeof b=="function"&&b(Me,Le),xe(Me)},[b]),$e=U.useCallback(function(Me,Le){var qe;typeof E=="function"&&(qe=E(Me,Le)),H(qe!==void 0?qe:Me)},[E]),_e=U.useCallback(function(){typeof R=="function"&&R(),le(!0)},[R]),we=U.useCallback(function(){typeof k=="function"&&k(),le(!1)},[k]),me=i!==void 0?i:$,je=_!==void 0?_:te,ze=B!==void 0?B:ce;return ar(ar({},F),{},{inputValue:me,menuIsOpen:je,onChange:ke,onInputChange:$e,onMenuClose:we,onMenuOpen:_e,value:ze})}function Zne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J8(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,$I(o.key),o)}}function Xne(e,t,r){return t&&J8(e.prototype,t),r&&J8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j_(e,t)}function G_(e){return G_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},G_(e)}function Kne(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Jne(e,t){if(t&&(Nh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EM(e)}function Qne(e){var t=Kne();return function(){var o=G_(e),l;if(t){var u=G_(this).constructor;l=Reflect.construct(o,arguments,u)}else l=o.apply(this,arguments);return Jne(this,l)}}function ere(e){if(Array.isArray(e))return Cw(e)}function tre(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VI(e){return ere(e)||tre(e)||jI(e)||nre()}function rre(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function ire(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}const ore=["top","right","bottom","left"];ore.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]);function Ol(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function UI(e){return Ol(e).getComputedStyle(e)}function WI(e){return e instanceof Ol(e).Node}function HI(e){return WI(e)?(e.nodeName||"").toLowerCase():"#document"}function j5(e){return e instanceof HTMLElement||e instanceof Ol(e).HTMLElement}function Q8(e){return typeof ShadowRoot<"u"&&(e instanceof Ol(e).ShadowRoot||e instanceof ShadowRoot)}function GI(e){const{overflow:t,overflowX:r,overflowY:o,display:l}=UI(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+r)&&!["inline","contents"].includes(l)}function sre(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function are(e){return["html","body","#document"].includes(HI(e))}const lre=Math.min,cre=Math.max,q_=Math.round,Ly=Math.floor,Z_=e=>({x:e,y:e});function ure(e){const t=UI(e);let r=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const l=j5(e),u=l?e.offsetWidth:r,f=l?e.offsetHeight:o,i=q_(r)!==u||q_(o)!==f;return i&&(r=u,o=f),{width:r,height:o,$:i}}function Ew(e){return e instanceof Element||e instanceof Ol(e).Element}function V5(e){return Ew(e)?e:e.contextElement}function Gb(e){const t=V5(e);if(!j5(t))return Z_(1);const r=t.getBoundingClientRect(),{width:o,height:l,$:u}=ure(t);let f=(u?q_(r.width):r.width)/o,i=(u?q_(r.height):r.height)/l;return f&&Number.isFinite(f)||(f=1),i&&Number.isFinite(i)||(i=1),{x:f,y:i}}const dre=Z_(0);function hre(e){const t=Ol(e);return sre()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:dre}function eE(e,t,r,o){t===void 0&&(t=!1),r===void 0&&(r=!1);const l=e.getBoundingClientRect(),u=V5(e);let f=Z_(1);t&&(o?Ew(o)&&(f=Gb(o)):f=Gb(e));const i=function(R,B,F){return B===void 0&&(B=!1),!(!F||B&&F!==Ol(R))&&B}(u,r,o)?hre(u):Z_(0);let _=(l.left+i.x)/f.x,b=(l.top+i.y)/f.y,E=l.width/f.x,k=l.height/f.y;if(u){const R=Ol(u),B=o&&Ew(o)?Ol(o):o;let F=R.frameElement;for(;F&&o&&B!==R;){const L=Gb(F),X=F.getBoundingClientRect(),$=getComputedStyle(F),H=X.left+(F.clientLeft+parseFloat($.paddingLeft))*L.x,G=X.top+(F.clientTop+parseFloat($.paddingTop))*L.y;_*=L.x,b*=L.y,E*=L.x,k*=L.y,_+=H,b+=G,F=Ol(F).frameElement}}return ire({width:E,height:k,x:_,y:b})}function qI(e){var t;return(t=(WI(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function pre(e){if(HI(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Q8(e)&&e.host||qI(e);return Q8(t)?t.host:t}function ZI(e){const t=pre(e);return are(t)?e.ownerDocument?e.ownerDocument.body:e.body:j5(t)&&GI(t)?t:ZI(t)}function Pw(e,t){var r;t===void 0&&(t=[]);const o=ZI(e),l=o===((r=e.ownerDocument)==null?void 0:r.body),u=Ol(o);return l?t.concat(u,u.visualViewport||[],GI(o)?o:[]):t.concat(o,Pw(o))}function fre(e,t,r,o){o===void 0&&(o={});const{ancestorScroll:l=!0,ancestorResize:u=!0,elementResize:f=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:_=!1}=o,b=V5(e),E=l||u?[...b?Pw(b):[],...Pw(t)]:[];E.forEach(X=>{l&&X.addEventListener("scroll",r,{passive:!0}),u&&X.addEventListener("resize",r)});const k=b&&i?function(X,$){let H,G=null;const Q=qI(X);function te(){clearTimeout(H),G&&G.disconnect(),G=null}return function le(M,de){M===void 0&&(M=!1),de===void 0&&(de=1),te();const{left:ce,top:xe,width:ke,height:$e}=X.getBoundingClientRect();if(M||$(),!ke||!$e)return;const _e={rootMargin:-Ly(xe)+"px "+-Ly(Q.clientWidth-(ce+ke))+"px "+-Ly(Q.clientHeight-(xe+$e))+"px "+-Ly(ce)+"px",threshold:cre(0,lre(1,de))||1};let we=!0;function me(je){const ze=je[0].intersectionRatio;if(ze!==de){if(!we)return le();ze?le(!1,ze):H=setTimeout(()=>{le(!1,1e-7)},100)}we=!1}try{G=new IntersectionObserver(me,{..._e,root:Q.ownerDocument})}catch{G=new IntersectionObserver(me,_e)}G.observe(X)}(!0),te}(b,r):null;let R,B=-1,F=null;f&&(F=new ResizeObserver(X=>{let[$]=X;$&&$.target===b&&F&&(F.unobserve(t),cancelAnimationFrame(B),B=requestAnimationFrame(()=>{F&&F.observe(t)})),r()}),b&&!_&&F.observe(b),F.observe(t));let L=_?eE(e):null;return _&&function X(){const $=eE(e);!L||$.x===L.x&&$.y===L.y&&$.width===L.width&&$.height===L.height||r(),L=$,R=requestAnimationFrame(X)}(),r(),()=>{E.forEach(X=>{l&&X.removeEventListener("scroll",r),u&&X.removeEventListener("resize",r)}),k&&k(),F&&F.disconnect(),F=null,_&&cancelAnimationFrame(R)}}var kw=U.useLayoutEffect,mre=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],X_=function(){};function gre(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function yre(e,t){for(var r=arguments.length,o=new Array(r>2?r-2:0),l=2;l<r;l++)o[l-2]=arguments[l];var u=[].concat(o);if(t&&e)for(var f in t)t.hasOwnProperty(f)&&t[f]&&u.push("".concat(gre(e,f)));return u.filter(function(i){return i}).map(function(i){return String(i).trim()}).join(" ")}var tE=function(t){return Ere(t)?t.filter(Boolean):Nh(t)==="object"&&t!==null?[t]:[]},XI=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var r=Su(t,mre);return ar({},r)},co=function(t,r,o){var l=t.cx,u=t.getStyles,f=t.getClassNames,i=t.className;return{css:u(r,t),className:l(o??{},f(r,t),i)}};function kv(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function _re(e){return kv(e)?window.innerHeight:e.clientHeight}function YI(e){return kv(e)?window.pageYOffset:e.scrollTop}function Y_(e,t){if(kv(e)){window.scrollTo(0,t);return}e.scrollTop=t}function vre(e){var t=getComputedStyle(e),r=t.position==="absolute",o=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var l=e;l=l.parentElement;)if(t=getComputedStyle(l),!(r&&t.position==="static")&&o.test(t.overflow+t.overflowY+t.overflowX))return l;return document.documentElement}function xre(e,t,r,o){return r*((e=e/o-1)*e*e+1)+t}function Oy(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:X_,l=YI(e),u=t-l,f=10,i=0;function _(){i+=f;var b=xre(i,l,u,r);Y_(e,b),i<r?window.requestAnimationFrame(_):o(e)}_()}function nE(e,t){var r=e.getBoundingClientRect(),o=t.getBoundingClientRect(),l=t.offsetHeight/3;o.bottom+l>r.bottom?Y_(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+l,e.scrollHeight)):o.top-l<r.top&&Y_(e,Math.max(t.offsetTop-l,0))}function bre(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function rE(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function wre(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var KI=!1,Sre={get passive(){return KI=!0}},Fy=typeof window<"u"?window:{};Fy.addEventListener&&Fy.removeEventListener&&(Fy.addEventListener("p",X_,Sre),Fy.removeEventListener("p",X_,!1));var Tre=KI;function Cre(e){return e!=null}function Ere(e){return Array.isArray(e)}function By(e,t,r){return e?t:r}var Pre=function(t){for(var r=arguments.length,o=new Array(r>1?r-1:0),l=1;l<r;l++)o[l-1]=arguments[l];var u=Object.entries(t).filter(function(f){var i=hu(f,1),_=i[0];return!o.includes(_)});return u.reduce(function(f,i){var _=hu(i,2),b=_[0],E=_[1];return f[b]=E,f},{})},kre=["children","innerProps"],Mre=["children","innerProps"];function Ire(e){var t=e.maxHeight,r=e.menuEl,o=e.minHeight,l=e.placement,u=e.shouldScroll,f=e.isFixedPosition,i=e.controlHeight,_=vre(r),b={placement:"bottom",maxHeight:t};if(!r||!r.offsetParent)return b;var E=_.getBoundingClientRect(),k=E.height,R=r.getBoundingClientRect(),B=R.bottom,F=R.height,L=R.top,X=r.offsetParent.getBoundingClientRect(),$=X.top,H=f?window.innerHeight:_re(_),G=YI(_),Q=parseInt(getComputedStyle(r).marginBottom,10),te=parseInt(getComputedStyle(r).marginTop,10),le=$-te,M=H-L,de=le+G,ce=k-G-L,xe=B-H+G+Q,ke=G+L-te,$e=160;switch(l){case"auto":case"bottom":if(M>=F)return{placement:"bottom",maxHeight:t};if(ce>=F&&!f)return u&&Oy(_,xe,$e),{placement:"bottom",maxHeight:t};if(!f&&ce>=o||f&&M>=o){u&&Oy(_,xe,$e);var _e=f?M-Q:ce-Q;return{placement:"bottom",maxHeight:_e}}if(l==="auto"||f){var we=t,me=f?le:de;return me>=o&&(we=Math.min(me-Q-i,t)),{placement:"top",maxHeight:we}}if(l==="bottom")return u&&Y_(_,xe),{placement:"bottom",maxHeight:t};break;case"top":if(le>=F)return{placement:"top",maxHeight:t};if(de>=F&&!f)return u&&Oy(_,ke,$e),{placement:"top",maxHeight:t};if(!f&&de>=o||f&&le>=o){var je=t;return(!f&&de>=o||f&&le>=o)&&(je=f?le-te:de-te),u&&Oy(_,ke,$e),{placement:"top",maxHeight:je}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(l,'".'))}return b}function Are(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}var JI=function(t){return t==="auto"?"bottom":t},Dre=function(t,r){var o,l=t.placement,u=t.theme,f=u.borderRadius,i=u.spacing,_=u.colors;return ar((o={label:"menu"},Am(o,Are(l),"100%"),Am(o,"position","absolute"),Am(o,"width","100%"),Am(o,"zIndex",1),o),r?{}:{backgroundColor:_.neutral0,borderRadius:f,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:i.menuGutter,marginTop:i.menuGutter})},QI=U.createContext(null),Rre=function(t){var r=t.children,o=t.minMenuHeight,l=t.maxMenuHeight,u=t.menuPlacement,f=t.menuPosition,i=t.menuShouldScrollIntoView,_=t.theme,b=U.useContext(QI)||{},E=b.setPortalPlacement,k=U.useRef(null),R=U.useState(l),B=hu(R,2),F=B[0],L=B[1],X=U.useState(null),$=hu(X,2),H=$[0],G=$[1],Q=_.spacing.controlHeight;return kw(function(){var te=k.current;if(te){var le=f==="fixed",M=i&&!le,de=Ire({maxHeight:l,menuEl:te,minHeight:o,placement:u,shouldScroll:M,isFixedPosition:le,controlHeight:Q});L(de.maxHeight),G(de.placement),E==null||E(de.placement)}},[l,u,f,i,o,E,Q]),r({ref:k,placerProps:ar(ar({},t),{},{placement:H||JI(u),maxHeight:F})})},zre=function(t){var r=t.children,o=t.innerRef,l=t.innerProps;return dr("div",J({},co(t,"menu",{menu:!0}),{ref:o},l),r)},Lre=zre,Ore=function(t,r){var o=t.maxHeight,l=t.theme.spacing.baseUnit;return ar({maxHeight:o,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},r?{}:{paddingBottom:l,paddingTop:l})},Fre=function(t){var r=t.children,o=t.innerProps,l=t.innerRef,u=t.isMulti;return dr("div",J({},co(t,"menuList",{"menu-list":!0,"menu-list--is-multi":u}),{ref:l},o),r)},eA=function(t,r){var o=t.theme,l=o.spacing.baseUnit,u=o.colors;return ar({textAlign:"center"},r?{}:{color:u.neutral40,padding:"".concat(l*2,"px ").concat(l*3,"px")})},Bre=eA,Nre=eA,$re=function(t){var r=t.children,o=r===void 0?"No options":r,l=t.innerProps,u=Su(t,kre);return dr("div",J({},co(ar(ar({},u),{},{children:o,innerProps:l}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),l),o)},jre=function(t){var r=t.children,o=r===void 0?"Loading...":r,l=t.innerProps,u=Su(t,Mre);return dr("div",J({},co(ar(ar({},u),{},{children:o,innerProps:l}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),l),o)},Vre=function(t){var r=t.rect,o=t.offset,l=t.position;return{left:r.left,position:l,top:o,width:r.width,zIndex:1}},Ure=function(t){var r=t.appendTo,o=t.children,l=t.controlElement,u=t.innerProps,f=t.menuPlacement,i=t.menuPosition,_=U.useRef(null),b=U.useRef(null),E=U.useState(JI(f)),k=hu(E,2),R=k[0],B=k[1],F=U.useMemo(function(){return{setPortalPlacement:B}},[]),L=U.useState(null),X=hu(L,2),$=X[0],H=X[1],G=U.useCallback(function(){if(l){var M=bre(l),de=i==="fixed"?0:window.pageYOffset,ce=M[R]+de;(ce!==($==null?void 0:$.offset)||M.left!==($==null?void 0:$.rect.left)||M.width!==($==null?void 0:$.rect.width))&&H({offset:ce,rect:M})}},[l,i,R,$==null?void 0:$.offset,$==null?void 0:$.rect.left,$==null?void 0:$.rect.width]);kw(function(){G()},[G]);var Q=U.useCallback(function(){typeof b.current=="function"&&(b.current(),b.current=null),l&&_.current&&(b.current=fre(l,_.current,G,{elementResize:"ResizeObserver"in window}))},[l,G]);kw(function(){Q()},[Q]);var te=U.useCallback(function(M){_.current=M,Q()},[Q]);if(!r&&i!=="fixed"||!$)return null;var le=dr("div",J({ref:te},co(ar(ar({},t),{},{offset:$.offset,position:i,rect:$.rect}),"menuPortal",{"menu-portal":!0}),u),o);return dr(QI.Provider,{value:F},r?Hg.createPortal(le,r):le)},Wre=function(t){var r=t.isDisabled,o=t.isRtl;return{label:"container",direction:o?"rtl":void 0,pointerEvents:r?"none":void 0,position:"relative"}},Hre=function(t){var r=t.children,o=t.innerProps,l=t.isDisabled,u=t.isRtl;return dr("div",J({},co(t,"container",{"--is-disabled":l,"--is-rtl":u}),o),r)},Gre=function(t,r){var o=t.theme.spacing,l=t.isMulti,u=t.hasValue,f=t.selectProps.controlShouldRenderValue;return ar({alignItems:"center",display:l&&u&&f?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},r?{}:{padding:"".concat(o.baseUnit/2,"px ").concat(o.baseUnit*2,"px")})},qre=function(t){var r=t.children,o=t.innerProps,l=t.isMulti,u=t.hasValue;return dr("div",J({},co(t,"valueContainer",{"value-container":!0,"value-container--is-multi":l,"value-container--has-value":u}),o),r)},Zre=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},Xre=function(t){var r=t.children,o=t.innerProps;return dr("div",J({},co(t,"indicatorsContainer",{indicators:!0}),o),r)},iE,Yre=["size"],Kre=["innerProps","isRtl","size"],Jre={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},tA=function(t){var r=t.size,o=Su(t,Yre);return dr("svg",J({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Jre},o))},U5=function(t){return dr(tA,J({size:20},t),dr("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},nA=function(t){return dr(tA,J({size:20},t),dr("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},rA=function(t,r){var o=t.isFocused,l=t.theme,u=l.spacing.baseUnit,f=l.colors;return ar({label:"indicatorContainer",display:"flex",transition:"color 150ms"},r?{}:{color:o?f.neutral60:f.neutral20,padding:u*2,":hover":{color:o?f.neutral80:f.neutral40}})},Qre=rA,eie=function(t){var r=t.children,o=t.innerProps;return dr("div",J({},co(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),o),r||dr(nA,null))},tie=rA,nie=function(t){var r=t.children,o=t.innerProps;return dr("div",J({},co(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),o),r||dr(U5,null))},rie=function(t,r){var o=t.isDisabled,l=t.theme,u=l.spacing.baseUnit,f=l.colors;return ar({label:"indicatorSeparator",alignSelf:"stretch",width:1},r?{}:{backgroundColor:o?f.neutral10:f.neutral20,marginBottom:u*2,marginTop:u*2})},iie=function(t){var r=t.innerProps;return dr("span",J({},r,co(t,"indicatorSeparator",{"indicator-separator":!0})))},oie=j2(iE||(iE=rre([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),sie=function(t,r){var o=t.isFocused,l=t.size,u=t.theme,f=u.colors,i=u.spacing.baseUnit;return ar({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:l,lineHeight:1,marginRight:l,textAlign:"center",verticalAlign:"middle"},r?{}:{color:o?f.neutral60:f.neutral20,padding:i*2})},qb=function(t){var r=t.delay,o=t.offset;return dr("span",{css:e5({animation:"".concat(oie," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:o?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},aie=function(t){var r=t.innerProps,o=t.isRtl,l=t.size,u=l===void 0?4:l,f=Su(t,Kre);return dr("div",J({},co(ar(ar({},f),{},{innerProps:r,isRtl:o,size:u}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),r),dr(qb,{delay:0,offset:o}),dr(qb,{delay:160,offset:!0}),dr(qb,{delay:320,offset:!o}))},lie=function(t,r){var o=t.isDisabled,l=t.isFocused,u=t.theme,f=u.colors,i=u.borderRadius,_=u.spacing;return ar({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:_.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},r?{}:{backgroundColor:o?f.neutral5:f.neutral0,borderColor:o?f.neutral10:l?f.primary:f.neutral20,borderRadius:i,borderStyle:"solid",borderWidth:1,boxShadow:l?"0 0 0 1px ".concat(f.primary):void 0,"&:hover":{borderColor:l?f.primary:f.neutral30}})},cie=function(t){var r=t.children,o=t.isDisabled,l=t.isFocused,u=t.innerRef,f=t.innerProps,i=t.menuIsOpen;return dr("div",J({ref:u},co(t,"control",{control:!0,"control--is-disabled":o,"control--is-focused":l,"control--menu-is-open":i}),f),r)},uie=cie,die=["data"],hie=function(t,r){var o=t.theme.spacing;return r?{}:{paddingBottom:o.baseUnit*2,paddingTop:o.baseUnit*2}},pie=function(t){var r=t.children,o=t.cx,l=t.getStyles,u=t.getClassNames,f=t.Heading,i=t.headingProps,_=t.innerProps,b=t.label,E=t.theme,k=t.selectProps;return dr("div",J({},co(t,"group",{group:!0}),_),dr(f,J({},i,{selectProps:k,theme:E,getStyles:l,getClassNames:u,cx:o}),b),dr("div",null,r))},fie=function(t,r){var o=t.theme,l=o.colors,u=o.spacing;return ar({label:"group",cursor:"default",display:"block"},r?{}:{color:l.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:u.baseUnit*3,paddingRight:u.baseUnit*3,textTransform:"uppercase"})},mie=function(t){var r=XI(t);r.data;var o=Su(r,die);return dr("div",J({},co(t,"groupHeading",{"group-heading":!0}),o))},gie=pie,yie=["innerRef","isDisabled","isHidden","inputClassName"],_ie=function(t,r){var o=t.isDisabled,l=t.value,u=t.theme,f=u.spacing,i=u.colors;return ar(ar({visibility:o?"hidden":"visible",transform:l?"translateZ(0)":""},vie),r?{}:{margin:f.baseUnit/2,paddingBottom:f.baseUnit/2,paddingTop:f.baseUnit/2,color:i.neutral80})},iA={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},vie={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":ar({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},iA)},xie=function(t){return ar({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},iA)},bie=function(t){var r=t.cx,o=t.value,l=XI(t),u=l.innerRef,f=l.isDisabled,i=l.isHidden,_=l.inputClassName,b=Su(l,yie);return dr("div",J({},co(t,"input",{"input-container":!0}),{"data-value":o||""}),dr("input",J({className:r({input:!0},_),ref:u,style:xie(i),disabled:f},b)))},wie=bie,Sie=function(t,r){var o=t.theme,l=o.spacing,u=o.borderRadius,f=o.colors;return ar({label:"multiValue",display:"flex",minWidth:0},r?{}:{backgroundColor:f.neutral10,borderRadius:u/2,margin:l.baseUnit/2})},Tie=function(t,r){var o=t.theme,l=o.borderRadius,u=o.colors,f=t.cropWithEllipsis;return ar({overflow:"hidden",textOverflow:f||f===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},r?{}:{borderRadius:l/2,color:u.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},Cie=function(t,r){var o=t.theme,l=o.spacing,u=o.borderRadius,f=o.colors,i=t.isFocused;return ar({alignItems:"center",display:"flex"},r?{}:{borderRadius:u/2,backgroundColor:i?f.dangerLight:void 0,paddingLeft:l.baseUnit,paddingRight:l.baseUnit,":hover":{backgroundColor:f.dangerLight,color:f.danger}})},oA=function(t){var r=t.children,o=t.innerProps;return dr("div",o,r)},Eie=oA,Pie=oA;function kie(e){var t=e.children,r=e.innerProps;return dr("div",J({role:"button"},r),t||dr(U5,{size:14}))}var Mie=function(t){var r=t.children,o=t.components,l=t.data,u=t.innerProps,f=t.isDisabled,i=t.removeProps,_=t.selectProps,b=o.Container,E=o.Label,k=o.Remove;return dr(b,{data:l,innerProps:ar(ar({},co(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":f})),u),selectProps:_},dr(E,{data:l,innerProps:ar({},co(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:_},r),dr(k,{data:l,innerProps:ar(ar({},co(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(r||"option")},i),selectProps:_}))},Iie=Mie,Aie=function(t,r){var o=t.isDisabled,l=t.isFocused,u=t.isSelected,f=t.theme,i=f.spacing,_=f.colors;return ar({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},r?{}:{backgroundColor:u?_.primary:l?_.primary25:"transparent",color:o?_.neutral20:u?_.neutral0:"inherit",padding:"".concat(i.baseUnit*2,"px ").concat(i.baseUnit*3,"px"),":active":{backgroundColor:o?void 0:u?_.primary:_.primary50}})},Die=function(t){var r=t.children,o=t.isDisabled,l=t.isFocused,u=t.isSelected,f=t.innerRef,i=t.innerProps;return dr("div",J({},co(t,"option",{option:!0,"option--is-disabled":o,"option--is-focused":l,"option--is-selected":u}),{ref:f,"aria-disabled":o},i),r)},Rie=Die,zie=function(t,r){var o=t.theme,l=o.spacing,u=o.colors;return ar({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},r?{}:{color:u.neutral50,marginLeft:l.baseUnit/2,marginRight:l.baseUnit/2})},Lie=function(t){var r=t.children,o=t.innerProps;return dr("div",J({},co(t,"placeholder",{placeholder:!0}),o),r)},Oie=Lie,Fie=function(t,r){var o=t.isDisabled,l=t.theme,u=l.spacing,f=l.colors;return ar({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r?{}:{color:o?f.neutral40:f.neutral80,marginLeft:u.baseUnit/2,marginRight:u.baseUnit/2})},Bie=function(t){var r=t.children,o=t.isDisabled,l=t.innerProps;return dr("div",J({},co(t,"singleValue",{"single-value":!0,"single-value--is-disabled":o}),l),r)},Nie=Bie,$ie={ClearIndicator:nie,Control:uie,DropdownIndicator:eie,DownChevron:nA,CrossIcon:U5,Group:gie,GroupHeading:mie,IndicatorsContainer:Xre,IndicatorSeparator:iie,Input:wie,LoadingIndicator:aie,Menu:Lre,MenuList:Fre,MenuPortal:Ure,LoadingMessage:jre,NoOptionsMessage:$re,MultiValue:Iie,MultiValueContainer:Eie,MultiValueLabel:Pie,MultiValueRemove:kie,Option:Rie,Placeholder:Oie,SelectContainer:Hre,SingleValue:Nie,ValueContainer:qre},jie=function(t){return ar(ar({},$ie),t.components)},oE=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Vie(e,t){return!!(e===t||oE(e)&&oE(t))}function Uie(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!Vie(e[r],t[r]))return!1;return!0}function Wie(e,t){t===void 0&&(t=Uie);var r=null;function o(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];if(r&&r.lastThis===this&&t(l,r.lastArgs))return r.lastResult;var f=e.apply(this,l);return r={lastResult:f,lastArgs:l,lastThis:this},f}return o.clear=function(){r=null},o}var Hie={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Gie=function(t){return dr("span",J({css:Hie},t))},sE=Gie,qie={guidance:function(t){var r=t.isSearchable,o=t.isMulti,l=t.isDisabled,u=t.tabSelectsValue,f=t.context;switch(f){case"menu":return"Use Up and Down to choose options".concat(l?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(u?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(t["aria-label"]||"Select"," is focused ").concat(r?",type to refine list":"",", press Down to open the menu, ").concat(o?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var r=t.action,o=t.label,l=o===void 0?"":o,u=t.labels,f=t.isDisabled;switch(r){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(l,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(u.length>1?"s":""," ").concat(u.join(","),", selected.");case"select-option":return f?"option ".concat(l," is disabled. Select another option."):"option ".concat(l,", selected.");default:return""}},onFocus:function(t){var r=t.context,o=t.focused,l=t.options,u=t.label,f=u===void 0?"":u,i=t.selectValue,_=t.isDisabled,b=t.isSelected,E=function(F,L){return F&&F.length?"".concat(F.indexOf(L)+1," of ").concat(F.length):""};if(r==="value"&&i)return"value ".concat(f," focused, ").concat(E(i,o),".");if(r==="menu"){var k=_?" disabled":"",R="".concat(b?"selected":"focused").concat(k);return"option ".concat(f," ").concat(R,", ").concat(E(l,o),".")}return""},onFilter:function(t){var r=t.inputValue,o=t.resultsMessage;return"".concat(o).concat(r?" for search term "+r:"",".")}},Zie=function(t){var r=t.ariaSelection,o=t.focusedOption,l=t.focusedValue,u=t.focusableOptions,f=t.isFocused,i=t.selectValue,_=t.selectProps,b=t.id,E=_.ariaLiveMessages,k=_.getOptionLabel,R=_.inputValue,B=_.isMulti,F=_.isOptionDisabled,L=_.isSearchable,X=_.menuIsOpen,$=_.options,H=_.screenReaderStatus,G=_.tabSelectsValue,Q=_["aria-label"],te=_["aria-live"],le=U.useMemo(function(){return ar(ar({},qie),E||{})},[E]),M=U.useMemo(function(){var we="";if(r&&le.onChange){var me=r.option,je=r.options,ze=r.removedValue,Me=r.removedValues,Le=r.value,qe=function(Et){return Array.isArray(Et)?null:Et},ct=ze||me||qe(Le),wt=ct?k(ct):"",St=je||Me||void 0,ht=St?St.map(k):[],Dt=ar({isDisabled:ct&&F(ct,i),label:wt,labels:ht},r);we=le.onChange(Dt)}return we},[r,le,F,i,k]),de=U.useMemo(function(){var we="",me=o||l,je=!!(o&&i&&i.includes(o));if(me&&le.onFocus){var ze={focused:me,label:k(me),isDisabled:F(me,i),isSelected:je,options:u,context:me===o?"menu":"value",selectValue:i};we=le.onFocus(ze)}return we},[o,l,k,F,le,u,i]),ce=U.useMemo(function(){var we="";if(X&&$.length&&le.onFilter){var me=H({count:u.length});we=le.onFilter({inputValue:R,resultsMessage:me})}return we},[u,R,X,le,$,H]),xe=U.useMemo(function(){var we="";if(le.guidance){var me=l?"value":X?"menu":"input";we=le.guidance({"aria-label":Q,context:me,isDisabled:o&&F(o,i),isMulti:B,isSearchable:L,tabSelectsValue:G})}return we},[Q,o,l,B,F,L,X,le,i,G]),ke="".concat(de," ").concat(ce," ").concat(xe),$e=dr(U.Fragment,null,dr("span",{id:"aria-selection"},M),dr("span",{id:"aria-context"},ke)),_e=(r==null?void 0:r.action)==="initial-input-focus";return dr(U.Fragment,null,dr(sE,{id:b},_e&&$e),dr(sE,{"aria-live":te,"aria-atomic":"false","aria-relevant":"additions text"},f&&!_e&&$e))},Xie=Zie,Mw=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],Yie=new RegExp("["+Mw.map(function(e){return e.letters}).join("")+"]","g"),sA={};for(var Zb=0;Zb<Mw.length;Zb++)for(var Xb=Mw[Zb],Yb=0;Yb<Xb.letters.length;Yb++)sA[Xb.letters[Yb]]=Xb.base;var aA=function(t){return t.replace(Yie,function(r){return sA[r]})},Kie=Wie(aA),aE=function(t){return t.replace(/^\s+|\s+$/g,"")},Jie=function(t){return"".concat(t.label," ").concat(t.value)},Qie=function(t){return function(r,o){if(r.data.__isNew__)return!0;var l=ar({ignoreCase:!0,ignoreAccents:!0,stringify:Jie,trim:!0,matchFrom:"any"},t),u=l.ignoreCase,f=l.ignoreAccents,i=l.stringify,_=l.trim,b=l.matchFrom,E=_?aE(o):o,k=_?aE(i(r)):i(r);return u&&(E=E.toLowerCase(),k=k.toLowerCase()),f&&(E=Kie(E),k=aA(k)),b==="start"?k.substr(0,E.length)===E:k.indexOf(E)>-1}},eoe=["innerRef"];function toe(e){var t=e.innerRef,r=Su(e,eoe),o=Pre(r,"onExited","in","enter","exit","appear");return dr("input",J({ref:t},o,{css:e5({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var noe=function(t){t.preventDefault(),t.stopPropagation()};function roe(e){var t=e.isEnabled,r=e.onBottomArrive,o=e.onBottomLeave,l=e.onTopArrive,u=e.onTopLeave,f=U.useRef(!1),i=U.useRef(!1),_=U.useRef(0),b=U.useRef(null),E=U.useCallback(function(X,$){if(b.current!==null){var H=b.current,G=H.scrollTop,Q=H.scrollHeight,te=H.clientHeight,le=b.current,M=$>0,de=Q-te-G,ce=!1;de>$&&f.current&&(o&&o(X),f.current=!1),M&&i.current&&(u&&u(X),i.current=!1),M&&$>de?(r&&!f.current&&r(X),le.scrollTop=Q,ce=!0,f.current=!0):!M&&-$>G&&(l&&!i.current&&l(X),le.scrollTop=0,ce=!0,i.current=!0),ce&&noe(X)}},[r,o,l,u]),k=U.useCallback(function(X){E(X,X.deltaY)},[E]),R=U.useCallback(function(X){_.current=X.changedTouches[0].clientY},[]),B=U.useCallback(function(X){var $=_.current-X.changedTouches[0].clientY;E(X,$)},[E]),F=U.useCallback(function(X){if(X){var $=Tre?{passive:!1}:!1;X.addEventListener("wheel",k,$),X.addEventListener("touchstart",R,$),X.addEventListener("touchmove",B,$)}},[B,R,k]),L=U.useCallback(function(X){X&&(X.removeEventListener("wheel",k,!1),X.removeEventListener("touchstart",R,!1),X.removeEventListener("touchmove",B,!1))},[B,R,k]);return U.useEffect(function(){if(t){var X=b.current;return F(X),function(){L(X)}}},[t,F,L]),function(X){b.current=X}}var lE=["boxSizing","height","overflow","paddingRight","position"],cE={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function uE(e){e.preventDefault()}function dE(e){e.stopPropagation()}function hE(){var e=this.scrollTop,t=this.scrollHeight,r=e+this.offsetHeight;e===0?this.scrollTop=1:r===t&&(this.scrollTop=e-1)}function pE(){return"ontouchstart"in window||navigator.maxTouchPoints}var fE=!!(typeof window<"u"&&window.document&&window.document.createElement),Tm=0,Wp={capture:!1,passive:!1};function ioe(e){var t=e.isEnabled,r=e.accountForScrollbars,o=r===void 0?!0:r,l=U.useRef({}),u=U.useRef(null),f=U.useCallback(function(_){if(fE){var b=document.body,E=b&&b.style;if(o&&lE.forEach(function(F){var L=E&&E[F];l.current[F]=L}),o&&Tm<1){var k=parseInt(l.current.paddingRight,10)||0,R=document.body?document.body.clientWidth:0,B=window.innerWidth-R+k||0;Object.keys(cE).forEach(function(F){var L=cE[F];E&&(E[F]=L)}),E&&(E.paddingRight="".concat(B,"px"))}b&&pE()&&(b.addEventListener("touchmove",uE,Wp),_&&(_.addEventListener("touchstart",hE,Wp),_.addEventListener("touchmove",dE,Wp))),Tm+=1}},[o]),i=U.useCallback(function(_){if(fE){var b=document.body,E=b&&b.style;Tm=Math.max(Tm-1,0),o&&Tm<1&&lE.forEach(function(k){var R=l.current[k];E&&(E[k]=R)}),b&&pE()&&(b.removeEventListener("touchmove",uE,Wp),_&&(_.removeEventListener("touchstart",hE,Wp),_.removeEventListener("touchmove",dE,Wp)))}},[o]);return U.useEffect(function(){if(t){var _=u.current;return f(_),function(){i(_)}}},[t,f,i]),function(_){u.current=_}}var ooe=function(){return document.activeElement&&document.activeElement.blur()},soe={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function aoe(e){var t=e.children,r=e.lockEnabled,o=e.captureEnabled,l=o===void 0?!0:o,u=e.onBottomArrive,f=e.onBottomLeave,i=e.onTopArrive,_=e.onTopLeave,b=roe({isEnabled:l,onBottomArrive:u,onBottomLeave:f,onTopArrive:i,onTopLeave:_}),E=ioe({isEnabled:r}),k=function(B){b(B),E(B)};return dr(U.Fragment,null,r&&dr("div",{onClick:ooe,css:soe}),t(k))}var loe={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},coe=function(t){var r=t.name,o=t.onFocus;return dr("input",{required:!0,name:r,tabIndex:-1,"aria-hidden":"true",onFocus:o,css:loe,value:"",onChange:function(){}})},uoe=coe,doe=function(t){return t.label},hoe=function(t){return t.label},poe=function(t){return t.value},foe=function(t){return!!t.isDisabled},moe={clearIndicator:tie,container:Wre,control:lie,dropdownIndicator:Qre,group:hie,groupHeading:fie,indicatorsContainer:Zre,indicatorSeparator:rie,input:_ie,loadingIndicator:sie,loadingMessage:Nre,menu:Dre,menuList:Ore,menuPortal:Vre,multiValue:Sie,multiValueLabel:Tie,multiValueRemove:Cie,noOptionsMessage:Bre,option:Aie,placeholder:zie,singleValue:Fie,valueContainer:Gre},goe={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},yoe=4,lA=4,_oe=38,voe=lA*2,xoe={baseUnit:lA,controlHeight:_oe,menuGutter:voe},Kb={borderRadius:yoe,colors:goe,spacing:xoe},boe={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:rE(),captureMenuScroll:!rE(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:Qie(),formatGroupLabel:doe,getOptionLabel:hoe,getOptionValue:poe,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:foe,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!wre(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var r=t.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function mE(e,t,r,o){var l=hA(e,t,r),u=pA(e,t,r),f=dA(e,t),i=K_(e,t);return{type:"option",data:t,isDisabled:l,isSelected:u,label:f,value:i,index:o}}function cA(e,t){return e.options.map(function(r,o){if("options"in r){var l=r.options.map(function(f,i){return mE(e,f,t,i)}).filter(function(f){return gE(e,f)});return l.length>0?{type:"group",data:r,options:l,index:o}:void 0}var u=mE(e,r,t,o);return gE(e,u)?u:void 0}).filter(Cre)}function uA(e){return e.reduce(function(t,r){return r.type==="group"?t.push.apply(t,VI(r.options.map(function(o){return o.data}))):t.push(r.data),t},[])}function woe(e,t){return uA(cA(e,t))}function gE(e,t){var r=e.inputValue,o=r===void 0?"":r,l=t.data,u=t.isSelected,f=t.label,i=t.value;return(!mA(e)||!u)&&fA(e,{label:f,value:i,data:l},o)}function Soe(e,t){var r=e.focusedValue,o=e.selectValue,l=o.indexOf(r);if(l>-1){var u=t.indexOf(r);if(u>-1)return r;if(l<t.length)return t[l]}return null}function Toe(e,t){var r=e.focusedOption;return r&&t.indexOf(r)>-1?r:t[0]}var dA=function(t,r){return t.getOptionLabel(r)},K_=function(t,r){return t.getOptionValue(r)};function hA(e,t,r){return typeof e.isOptionDisabled=="function"?e.isOptionDisabled(t,r):!1}function pA(e,t,r){if(r.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,r);var o=K_(e,t);return r.some(function(l){return K_(e,l)===o})}function fA(e,t,r){return e.filterOption?e.filterOption(t,r):!0}var mA=function(t){var r=t.hideSelectedOptions,o=t.isMulti;return r===void 0?o:r},Coe=1,gA=function(e){Yne(r,e);var t=Qne(r);function r(o){var l;if(Zne(this,r),l=t.call(this,o),l.state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},l.blockOptionHover=!1,l.isComposing=!1,l.commonProps=void 0,l.initialTouchX=0,l.initialTouchY=0,l.instancePrefix="",l.openAfterFocus=!1,l.scrollToFocusedOptionOnUpdate=!1,l.userIsDragging=void 0,l.controlRef=null,l.getControlRef=function(i){l.controlRef=i},l.focusedOptionRef=null,l.getFocusedOptionRef=function(i){l.focusedOptionRef=i},l.menuListRef=null,l.getMenuListRef=function(i){l.menuListRef=i},l.inputRef=null,l.getInputRef=function(i){l.inputRef=i},l.focus=l.focusInput,l.blur=l.blurInput,l.onChange=function(i,_){var b=l.props,E=b.onChange,k=b.name;_.name=k,l.ariaOnChange(i,_),E(i,_)},l.setValue=function(i,_,b){var E=l.props,k=E.closeMenuOnSelect,R=E.isMulti,B=E.inputValue;l.onInputChange("",{action:"set-value",prevInputValue:B}),k&&(l.setState({inputIsHiddenAfterUpdate:!R}),l.onMenuClose()),l.setState({clearFocusValueOnUpdate:!0}),l.onChange(i,{action:_,option:b})},l.selectOption=function(i){var _=l.props,b=_.blurInputOnSelect,E=_.isMulti,k=_.name,R=l.state.selectValue,B=E&&l.isOptionSelected(i,R),F=l.isOptionDisabled(i,R);if(B){var L=l.getOptionValue(i);l.setValue(R.filter(function(X){return l.getOptionValue(X)!==L}),"deselect-option",i)}else if(!F)E?l.setValue([].concat(VI(R),[i]),"select-option",i):l.setValue(i,"select-option");else{l.ariaOnChange(i,{action:"select-option",option:i,name:k});return}b&&l.blurInput()},l.removeValue=function(i){var _=l.props.isMulti,b=l.state.selectValue,E=l.getOptionValue(i),k=b.filter(function(B){return l.getOptionValue(B)!==E}),R=By(_,k,k[0]||null);l.onChange(R,{action:"remove-value",removedValue:i}),l.focusInput()},l.clearValue=function(){var i=l.state.selectValue;l.onChange(By(l.props.isMulti,[],null),{action:"clear",removedValues:i})},l.popValue=function(){var i=l.props.isMulti,_=l.state.selectValue,b=_[_.length-1],E=_.slice(0,_.length-1),k=By(i,E,E[0]||null);l.onChange(k,{action:"pop-value",removedValue:b})},l.getValue=function(){return l.state.selectValue},l.cx=function(){for(var i=arguments.length,_=new Array(i),b=0;b<i;b++)_[b]=arguments[b];return yre.apply(void 0,[l.props.classNamePrefix].concat(_))},l.getOptionLabel=function(i){return dA(l.props,i)},l.getOptionValue=function(i){return K_(l.props,i)},l.getStyles=function(i,_){var b=l.props.unstyled,E=moe[i](_,b);E.boxSizing="border-box";var k=l.props.styles[i];return k?k(E,_):E},l.getClassNames=function(i,_){var b,E;return(b=(E=l.props.classNames)[i])===null||b===void 0?void 0:b.call(E,_)},l.getElementId=function(i){return"".concat(l.instancePrefix,"-").concat(i)},l.getComponents=function(){return jie(l.props)},l.buildCategorizedOptions=function(){return cA(l.props,l.state.selectValue)},l.getCategorizedOptions=function(){return l.props.menuIsOpen?l.buildCategorizedOptions():[]},l.buildFocusableOptions=function(){return uA(l.buildCategorizedOptions())},l.getFocusableOptions=function(){return l.props.menuIsOpen?l.buildFocusableOptions():[]},l.ariaOnChange=function(i,_){l.setState({ariaSelection:ar({value:i},_)})},l.onMenuMouseDown=function(i){i.button===0&&(i.stopPropagation(),i.preventDefault(),l.focusInput())},l.onMenuMouseMove=function(i){l.blockOptionHover=!1},l.onControlMouseDown=function(i){if(!i.defaultPrevented){var _=l.props.openMenuOnClick;l.state.isFocused?l.props.menuIsOpen?i.target.tagName!=="INPUT"&&i.target.tagName!=="TEXTAREA"&&l.onMenuClose():_&&l.openMenu("first"):(_&&(l.openAfterFocus=!0),l.focusInput()),i.target.tagName!=="INPUT"&&i.target.tagName!=="TEXTAREA"&&i.preventDefault()}},l.onDropdownIndicatorMouseDown=function(i){if(!(i&&i.type==="mousedown"&&i.button!==0)&&!l.props.isDisabled){var _=l.props,b=_.isMulti,E=_.menuIsOpen;l.focusInput(),E?(l.setState({inputIsHiddenAfterUpdate:!b}),l.onMenuClose()):l.openMenu("first"),i.preventDefault()}},l.onClearIndicatorMouseDown=function(i){i&&i.type==="mousedown"&&i.button!==0||(l.clearValue(),i.preventDefault(),l.openAfterFocus=!1,i.type==="touchend"?l.focusInput():setTimeout(function(){return l.focusInput()}))},l.onScroll=function(i){typeof l.props.closeMenuOnScroll=="boolean"?i.target instanceof HTMLElement&&kv(i.target)&&l.props.onMenuClose():typeof l.props.closeMenuOnScroll=="function"&&l.props.closeMenuOnScroll(i)&&l.props.onMenuClose()},l.onCompositionStart=function(){l.isComposing=!0},l.onCompositionEnd=function(){l.isComposing=!1},l.onTouchStart=function(i){var _=i.touches,b=_&&_.item(0);b&&(l.initialTouchX=b.clientX,l.initialTouchY=b.clientY,l.userIsDragging=!1)},l.onTouchMove=function(i){var _=i.touches,b=_&&_.item(0);if(b){var E=Math.abs(b.clientX-l.initialTouchX),k=Math.abs(b.clientY-l.initialTouchY),R=5;l.userIsDragging=E>R||k>R}},l.onTouchEnd=function(i){l.userIsDragging||(l.controlRef&&!l.controlRef.contains(i.target)&&l.menuListRef&&!l.menuListRef.contains(i.target)&&l.blurInput(),l.initialTouchX=0,l.initialTouchY=0)},l.onControlTouchEnd=function(i){l.userIsDragging||l.onControlMouseDown(i)},l.onClearIndicatorTouchEnd=function(i){l.userIsDragging||l.onClearIndicatorMouseDown(i)},l.onDropdownIndicatorTouchEnd=function(i){l.userIsDragging||l.onDropdownIndicatorMouseDown(i)},l.handleInputChange=function(i){var _=l.props.inputValue,b=i.currentTarget.value;l.setState({inputIsHiddenAfterUpdate:!1}),l.onInputChange(b,{action:"input-change",prevInputValue:_}),l.props.menuIsOpen||l.onMenuOpen()},l.onInputFocus=function(i){l.props.onFocus&&l.props.onFocus(i),l.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(l.openAfterFocus||l.props.openMenuOnFocus)&&l.openMenu("first"),l.openAfterFocus=!1},l.onInputBlur=function(i){var _=l.props.inputValue;if(l.menuListRef&&l.menuListRef.contains(document.activeElement)){l.inputRef.focus();return}l.props.onBlur&&l.props.onBlur(i),l.onInputChange("",{action:"input-blur",prevInputValue:_}),l.onMenuClose(),l.setState({focusedValue:null,isFocused:!1})},l.onOptionHover=function(i){l.blockOptionHover||l.state.focusedOption===i||l.setState({focusedOption:i})},l.shouldHideSelectedOptions=function(){return mA(l.props)},l.onValueInputFocus=function(i){i.preventDefault(),i.stopPropagation(),l.focus()},l.onKeyDown=function(i){var _=l.props,b=_.isMulti,E=_.backspaceRemovesValue,k=_.escapeClearsValue,R=_.inputValue,B=_.isClearable,F=_.isDisabled,L=_.menuIsOpen,X=_.onKeyDown,$=_.tabSelectsValue,H=_.openMenuOnFocus,G=l.state,Q=G.focusedOption,te=G.focusedValue,le=G.selectValue;if(!F&&!(typeof X=="function"&&(X(i),i.defaultPrevented))){switch(l.blockOptionHover=!0,i.key){case"ArrowLeft":if(!b||R)return;l.focusValue("previous");break;case"ArrowRight":if(!b||R)return;l.focusValue("next");break;case"Delete":case"Backspace":if(R)return;if(te)l.removeValue(te);else{if(!E)return;b?l.popValue():B&&l.clearValue()}break;case"Tab":if(l.isComposing||i.shiftKey||!L||!$||!Q||H&&l.isOptionSelected(Q,le))return;l.selectOption(Q);break;case"Enter":if(i.keyCode===229)break;if(L){if(!Q||l.isComposing)return;l.selectOption(Q);break}return;case"Escape":L?(l.setState({inputIsHiddenAfterUpdate:!1}),l.onInputChange("",{action:"menu-close",prevInputValue:R}),l.onMenuClose()):B&&k&&l.clearValue();break;case" ":if(R)return;if(!L){l.openMenu("first");break}if(!Q)return;l.selectOption(Q);break;case"ArrowUp":L?l.focusOption("up"):l.openMenu("last");break;case"ArrowDown":L?l.focusOption("down"):l.openMenu("first");break;case"PageUp":if(!L)return;l.focusOption("pageup");break;case"PageDown":if(!L)return;l.focusOption("pagedown");break;case"Home":if(!L)return;l.focusOption("first");break;case"End":if(!L)return;l.focusOption("last");break;default:return}i.preventDefault()}},l.instancePrefix="react-select-"+(l.props.instanceId||++Coe),l.state.selectValue=tE(o.value),o.menuIsOpen&&l.state.selectValue.length){var u=l.buildFocusableOptions(),f=u.indexOf(l.state.selectValue[0]);l.state.focusedOption=u[f]}return l}return Xne(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&nE(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(l){var u=this.props,f=u.isDisabled,i=u.menuIsOpen,_=this.state.isFocused;(_&&!f&&l.isDisabled||_&&i&&!l.menuIsOpen)&&this.focusInput(),_&&f&&!l.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!_&&!f&&l.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(nE(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(l,u){this.props.onInputChange(l,u)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(l){var u=this,f=this.state,i=f.selectValue,_=f.isFocused,b=this.buildFocusableOptions(),E=l==="first"?0:b.length-1;if(!this.props.isMulti){var k=b.indexOf(i[0]);k>-1&&(E=k)}this.scrollToFocusedOptionOnUpdate=!(_&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:b[E]},function(){return u.onMenuOpen()})}},{key:"focusValue",value:function(l){var u=this.state,f=u.selectValue,i=u.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var _=f.indexOf(i);i||(_=-1);var b=f.length-1,E=-1;if(f.length){switch(l){case"previous":_===0?E=0:_===-1?E=b:E=_-1;break;case"next":_>-1&&_<b&&(E=_+1);break}this.setState({inputIsHidden:E!==-1,focusedValue:f[E]})}}}},{key:"focusOption",value:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",u=this.props.pageSize,f=this.state.focusedOption,i=this.getFocusableOptions();if(i.length){var _=0,b=i.indexOf(f);f||(b=-1),l==="up"?_=b>0?b-1:i.length-1:l==="down"?_=(b+1)%i.length:l==="pageup"?(_=b-u,_<0&&(_=0)):l==="pagedown"?(_=b+u,_>i.length-1&&(_=i.length-1)):l==="last"&&(_=i.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:i[_],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Kb):ar(ar({},Kb),this.props.theme):Kb}},{key:"getCommonProps",value:function(){var l=this.clearValue,u=this.cx,f=this.getStyles,i=this.getClassNames,_=this.getValue,b=this.selectOption,E=this.setValue,k=this.props,R=k.isMulti,B=k.isRtl,F=k.options,L=this.hasValue();return{clearValue:l,cx:u,getStyles:f,getClassNames:i,getValue:_,hasValue:L,isMulti:R,isRtl:B,options:F,selectOption:b,selectProps:k,setValue:E,theme:this.getTheme()}}},{key:"hasValue",value:function(){var l=this.state.selectValue;return l.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var l=this.props,u=l.isClearable,f=l.isMulti;return u===void 0?f:u}},{key:"isOptionDisabled",value:function(l,u){return hA(this.props,l,u)}},{key:"isOptionSelected",value:function(l,u){return pA(this.props,l,u)}},{key:"filterOption",value:function(l,u){return fA(this.props,l,u)}},{key:"formatOptionLabel",value:function(l,u){if(typeof this.props.formatOptionLabel=="function"){var f=this.props.inputValue,i=this.state.selectValue;return this.props.formatOptionLabel(l,{context:u,inputValue:f,selectValue:i})}else return this.getOptionLabel(l)}},{key:"formatGroupLabel",value:function(l){return this.props.formatGroupLabel(l)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var l=this.props,u=l.isDisabled,f=l.isSearchable,i=l.inputId,_=l.inputValue,b=l.tabIndex,E=l.form,k=l.menuIsOpen,R=l.required,B=this.getComponents(),F=B.Input,L=this.state,X=L.inputIsHidden,$=L.ariaSelection,H=this.commonProps,G=i||this.getElementId("input"),Q=ar(ar(ar({"aria-autocomplete":"list","aria-expanded":k,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":R,role:"combobox"},k&&{"aria-controls":this.getElementId("listbox"),"aria-owns":this.getElementId("listbox")}),!f&&{"aria-readonly":!0}),this.hasValue()?($==null?void 0:$.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return f?U.createElement(F,J({},H,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:G,innerRef:this.getInputRef,isDisabled:u,isHidden:X,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:b,form:E,type:"text",value:_},Q)):U.createElement(toe,J({id:G,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:X_,onFocus:this.onInputFocus,disabled:u,tabIndex:b,inputMode:"none",form:E,value:""},Q))}},{key:"renderPlaceholderOrValue",value:function(){var l=this,u=this.getComponents(),f=u.MultiValue,i=u.MultiValueContainer,_=u.MultiValueLabel,b=u.MultiValueRemove,E=u.SingleValue,k=u.Placeholder,R=this.commonProps,B=this.props,F=B.controlShouldRenderValue,L=B.isDisabled,X=B.isMulti,$=B.inputValue,H=B.placeholder,G=this.state,Q=G.selectValue,te=G.focusedValue,le=G.isFocused;if(!this.hasValue()||!F)return $?null:U.createElement(k,J({},R,{key:"placeholder",isDisabled:L,isFocused:le,innerProps:{id:this.getElementId("placeholder")}}),H);if(X)return Q.map(function(de,ce){var xe=de===te,ke="".concat(l.getOptionLabel(de),"-").concat(l.getOptionValue(de));return U.createElement(f,J({},R,{components:{Container:i,Label:_,Remove:b},isFocused:xe,isDisabled:L,key:ke,index:ce,removeProps:{onClick:function(){return l.removeValue(de)},onTouchEnd:function(){return l.removeValue(de)},onMouseDown:function(_e){_e.preventDefault()}},data:de}),l.formatOptionLabel(de,"value"))});if($)return null;var M=Q[0];return U.createElement(E,J({},R,{data:M,isDisabled:L}),this.formatOptionLabel(M,"value"))}},{key:"renderClearIndicator",value:function(){var l=this.getComponents(),u=l.ClearIndicator,f=this.commonProps,i=this.props,_=i.isDisabled,b=i.isLoading,E=this.state.isFocused;if(!this.isClearable()||!u||_||!this.hasValue()||b)return null;var k={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return U.createElement(u,J({},f,{innerProps:k,isFocused:E}))}},{key:"renderLoadingIndicator",value:function(){var l=this.getComponents(),u=l.LoadingIndicator,f=this.commonProps,i=this.props,_=i.isDisabled,b=i.isLoading,E=this.state.isFocused;if(!u||!b)return null;var k={"aria-hidden":"true"};return U.createElement(u,J({},f,{innerProps:k,isDisabled:_,isFocused:E}))}},{key:"renderIndicatorSeparator",value:function(){var l=this.getComponents(),u=l.DropdownIndicator,f=l.IndicatorSeparator;if(!u||!f)return null;var i=this.commonProps,_=this.props.isDisabled,b=this.state.isFocused;return U.createElement(f,J({},i,{isDisabled:_,isFocused:b}))}},{key:"renderDropdownIndicator",value:function(){var l=this.getComponents(),u=l.DropdownIndicator;if(!u)return null;var f=this.commonProps,i=this.props.isDisabled,_=this.state.isFocused,b={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return U.createElement(u,J({},f,{innerProps:b,isDisabled:i,isFocused:_}))}},{key:"renderMenu",value:function(){var l=this,u=this.getComponents(),f=u.Group,i=u.GroupHeading,_=u.Menu,b=u.MenuList,E=u.MenuPortal,k=u.LoadingMessage,R=u.NoOptionsMessage,B=u.Option,F=this.commonProps,L=this.state.focusedOption,X=this.props,$=X.captureMenuScroll,H=X.inputValue,G=X.isLoading,Q=X.loadingMessage,te=X.minMenuHeight,le=X.maxMenuHeight,M=X.menuIsOpen,de=X.menuPlacement,ce=X.menuPosition,xe=X.menuPortalTarget,ke=X.menuShouldBlockScroll,$e=X.menuShouldScrollIntoView,_e=X.noOptionsMessage,we=X.onMenuScrollToTop,me=X.onMenuScrollToBottom;if(!M)return null;var je=function(St,ht){var Dt=St.type,bt=St.data,Et=St.isDisabled,Xt=St.isSelected,rn=St.label,_t=St.value,at=L===bt,ft=Et?void 0:function(){return l.onOptionHover(bt)},Ft=Et?void 0:function(){return l.selectOption(bt)},un="".concat(l.getElementId("option"),"-").concat(ht),rt={id:un,onClick:Ft,onMouseMove:ft,onMouseOver:ft,tabIndex:-1};return U.createElement(B,J({},F,{innerProps:rt,data:bt,isDisabled:Et,isSelected:Xt,key:un,label:rn,type:Dt,value:_t,isFocused:at,innerRef:at?l.getFocusedOptionRef:void 0}),l.formatOptionLabel(St.data,"menu"))},ze;if(this.hasOptions())ze=this.getCategorizedOptions().map(function(wt){if(wt.type==="group"){var St=wt.data,ht=wt.options,Dt=wt.index,bt="".concat(l.getElementId("group"),"-").concat(Dt),Et="".concat(bt,"-heading");return U.createElement(f,J({},F,{key:bt,data:St,options:ht,Heading:i,headingProps:{id:Et,data:wt.data},label:l.formatGroupLabel(wt.data)}),wt.options.map(function(Xt){return je(Xt,"".concat(Dt,"-").concat(Xt.index))}))}else if(wt.type==="option")return je(wt,"".concat(wt.index))});else if(G){var Me=Q({inputValue:H});if(Me===null)return null;ze=U.createElement(k,F,Me)}else{var Le=_e({inputValue:H});if(Le===null)return null;ze=U.createElement(R,F,Le)}var qe={minMenuHeight:te,maxMenuHeight:le,menuPlacement:de,menuPosition:ce,menuShouldScrollIntoView:$e},ct=U.createElement(Rre,J({},F,qe),function(wt){var St=wt.ref,ht=wt.placerProps,Dt=ht.placement,bt=ht.maxHeight;return U.createElement(_,J({},F,qe,{innerRef:St,innerProps:{onMouseDown:l.onMenuMouseDown,onMouseMove:l.onMenuMouseMove,id:l.getElementId("listbox")},isLoading:G,placement:Dt}),U.createElement(aoe,{captureEnabled:$,onTopArrive:we,onBottomArrive:me,lockEnabled:ke},function(Et){return U.createElement(b,J({},F,{innerRef:function(rn){l.getMenuListRef(rn),Et(rn)},isLoading:G,maxHeight:bt,focusedOption:L}),ze)}))});return xe||ce==="fixed"?U.createElement(E,J({},F,{appendTo:xe,controlElement:this.controlRef,menuPlacement:de,menuPosition:ce}),ct):ct}},{key:"renderFormField",value:function(){var l=this,u=this.props,f=u.delimiter,i=u.isDisabled,_=u.isMulti,b=u.name,E=u.required,k=this.state.selectValue;if(E&&!this.hasValue()&&!i)return U.createElement(uoe,{name:b,onFocus:this.onValueInputFocus});if(!(!b||i))if(_)if(f){var R=k.map(function(L){return l.getOptionValue(L)}).join(f);return U.createElement("input",{name:b,type:"hidden",value:R})}else{var B=k.length>0?k.map(function(L,X){return U.createElement("input",{key:"i-".concat(X),name:b,type:"hidden",value:l.getOptionValue(L)})}):U.createElement("input",{name:b,type:"hidden",value:""});return U.createElement("div",null,B)}else{var F=k[0]?this.getOptionValue(k[0]):"";return U.createElement("input",{name:b,type:"hidden",value:F})}}},{key:"renderLiveRegion",value:function(){var l=this.commonProps,u=this.state,f=u.ariaSelection,i=u.focusedOption,_=u.focusedValue,b=u.isFocused,E=u.selectValue,k=this.getFocusableOptions();return U.createElement(Xie,J({},l,{id:this.getElementId("live-region"),ariaSelection:f,focusedOption:i,focusedValue:_,isFocused:b,selectValue:E,focusableOptions:k}))}},{key:"render",value:function(){var l=this.getComponents(),u=l.Control,f=l.IndicatorsContainer,i=l.SelectContainer,_=l.ValueContainer,b=this.props,E=b.className,k=b.id,R=b.isDisabled,B=b.menuIsOpen,F=this.state.isFocused,L=this.commonProps=this.getCommonProps();return U.createElement(i,J({},L,{className:E,innerProps:{id:k,onKeyDown:this.onKeyDown},isDisabled:R,isFocused:F}),this.renderLiveRegion(),U.createElement(u,J({},L,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:R,isFocused:F,menuIsOpen:B}),U.createElement(_,J({},L,{isDisabled:R}),this.renderPlaceholderOrValue(),this.renderInput()),U.createElement(f,J({},L,{isDisabled:R}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(l,u){var f=u.prevProps,i=u.clearFocusValueOnUpdate,_=u.inputIsHiddenAfterUpdate,b=u.ariaSelection,E=u.isFocused,k=u.prevWasFocused,R=l.options,B=l.value,F=l.menuIsOpen,L=l.inputValue,X=l.isMulti,$=tE(B),H={};if(f&&(B!==f.value||R!==f.options||F!==f.menuIsOpen||L!==f.inputValue)){var G=F?woe(l,$):[],Q=i?Soe(u,$):null,te=Toe(u,G);H={selectValue:$,focusedOption:te,focusedValue:Q,clearFocusValueOnUpdate:!1}}var le=_!=null&&l!==f?{inputIsHidden:_,inputIsHiddenAfterUpdate:void 0}:{},M=b,de=E&&k;return E&&!de&&(M={value:By(X,$,$[0]||null),options:$,action:"initial-input-focus"},de=!k),(b==null?void 0:b.action)==="initial-input-focus"&&(M=null),ar(ar(ar({},H),le),{},{prevProps:l,ariaSelection:M,prevWasFocused:de})}}]),r}(U.Component);gA.defaultProps=boe;var Eoe=U.forwardRef(function(e,t){var r=qne(e);return U.createElement(gA,J({ref:t},r))}),Poe=Eoe;const koe=[{value:"park",label:"Parks"},{value:"libary",label:"Libraries"},{value:"worship",label:"Places of Worship"},{value:"community",label:"Community Centres"},{value:"museum",label:"Museums & Art Galleries"},{value:"walk",label:"Other Walking Nodes"},{value:"other_park",label:"Other Park Nodes"}],Moe=()=>{const[e,t]=U.useState([]),r=u=>{t(u)},o=e.map(u=>u.value),l=async u=>{u.preventDefault(),console.log(o),Jg.post("/users/preferences",{selectedOptions:o,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(f=>{console.log(f.data),console.log("Where is the data?")}).catch(f=>{f.response?(console.log(f.response),console.log("server responded")):f.request?console.log("network error"):console.log(f)})};return V.jsxs("div",{className:"preferences-area",children:[V.jsx("h3",{children:"Select Amble Preferences"}),V.jsxs("form",{onSubmit:l,children:[V.jsx(Poe,{options:koe,isMulti:!0,value:e,onChange:r}),V.jsx("button",{type:"submit",className:"submit-button",children:"Submit"})]})]})};var W5={},yA={exports:{}};(function(e){function t(r){return r&&r.__esModule?r:{default:r}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(yA);var e1=yA.exports,Jb={};const Ioe=eL(eY);var yE;function t1(){return yE||(yE=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=Ioe}(Jb)),Jb}var Aoe=e1;Object.defineProperty(W5,"__esModule",{value:!0});var _A=W5.default=void 0,Doe=Aoe(t1()),Roe=V,zoe=(0,Doe.default)((0,Roe.jsx)("path",{d:"M13 14v6c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-6c0-.55-.45-1-1-1h-6c-.55 0-1 .45-1 1zm-9 7h6c.55 0 1-.45 1-1v-6c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1zM3 4v6c0 .55.45 1 1 1h6c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1zm12.95-1.6L11.7 6.64c-.39.39-.39 1.02 0 1.41l4.25 4.25c.39.39 1.02.39 1.41 0l4.25-4.25c.39-.39.39-1.02 0-1.41L17.37 2.4c-.39-.39-1.03-.39-1.42 0z"}),"WidgetsRounded");_A=W5.default=zoe;var H5={},Loe=e1;Object.defineProperty(H5,"__esModule",{value:!0});var Bf=H5.default=void 0,Ooe=Loe(t1()),Foe=V,Boe=(0,Ooe.default)((0,Foe.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");Bf=H5.default=Boe;var G5={},Noe=e1;Object.defineProperty(G5,"__esModule",{value:!0});var vA=G5.default=void 0,$oe=Noe(t1()),joe=V,Voe=(0,$oe.default)((0,joe.jsx)("path",{d:"m2.53 19.65 1.34.56v-9.03l-2.43 5.86c-.41 1.02.08 2.19 1.09 2.61zm19.5-3.7L17.07 3.98c-.31-.75-1.04-1.21-1.81-1.23-.26 0-.53.04-.79.15L7.1 5.95c-.75.31-1.21 1.03-1.23 1.8-.01.27.04.54.15.8l4.96 11.97c.31.76 1.05 1.22 1.83 1.23.26 0 .52-.05.77-.15l7.36-3.05c1.02-.42 1.51-1.59 1.09-2.6zM7.88 8.75c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-2 11c0 1.1.9 2 2 2h1.45l-3.45-8.34v6.34z"}),"StyleRounded");vA=G5.default=Voe;var q5={},Uoe=e1;Object.defineProperty(q5,"__esModule",{value:!0});var xA=q5.default=void 0,Woe=Uoe(t1()),Hoe=V,Goe=(0,Woe.default)((0,Hoe.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v1c0 .55.45 1 1 1h14c.55 0 1-.45 1-1v-1c0-2.66-5.33-4-8-4z"}),"PersonRounded");xA=q5.default=Goe;function Z5(){const[e,t]=U.useState(!1),[r,o]=U.useState(!1),l=U.useRef(null),u=U.useRef(null),[f,i]=U.useState(!1),_=()=>{document.querySelector(".additional-block-close-menubar").classList.add("hide"),document.querySelector(".overlay").classList.add("hide"),document.querySelector(".menu-bar").classList.add("hide"),document.querySelector(".additional-blocks-menubar").classList.add("hide"),document.querySelector(".additional-block-text-menubar").classList.add("hide")},b=()=>{document.querySelector(".additional-block-close-Reg-menu").classList.add("hide"),document.querySelector(".overlay-Reg").classList.add("hide"),document.querySelector(".Reg-menu").classList.add("hide"),document.querySelector(".additional-blocks-Reg").classList.add("hide"),document.querySelector(".additional-block-text-Reg").classList.add("hide")},E=()=>{_()},k=()=>{b()},R=()=>{t(!e)},B=()=>{r?(E(),setTimeout(()=>{o(!1)},1e3)):o(!0)},F=()=>{f?(k(),setTimeout(()=>{i(!1)},1e3)):i(!0)},L=X=>{l.current&&!l.current.contains(X.target)&&!u.current.contains(X.target)&&t(!1)};return U.useEffect(()=>(document.addEventListener("mousedown",L),()=>{document.removeEventListener("mousedown",L)}),[]),V.jsxs("div",{className:"menubar-container",children:[V.jsx("div",{className:"menu-button-wrapper",children:V.jsx(_A,{className:"menu-button",sx:{fontSize:28,color:"white"},onClick:B})}),V.jsxs("div",{className:"profile-button-wrapper",children:[V.jsx(xA,{className:`profile-button ${e?"active":""}`,sx:{fontSize:31,color:"white"},onClick:R,ref:u}),e&&V.jsxs("div",{className:"options-box",ref:l,children:[V.jsxs("button",{className:"option",children:[" ",V.jsx("span",{className:"option-text",onClick:F,children:"Sign Up"})]}),V.jsx("button",{className:"option",children:V.jsx("span",{className:"option-text",children:"Log In"})})]})]}),V.jsx("div",{className:"history-button-wrapper",children:V.jsx(vA,{className:"history-button",sx:{fontSize:30,color:"white"}})}),r&&V.jsxs(V.Fragment,{children:[V.jsxs("div",{className:`menu-bar ${r?"show":""}`,children:[V.jsxs("div",{className:"additional-blocks-menubar",children:[V.jsx("div",{className:"additional-block-text-menubar",children:V.jsx("span",{className:"text_bar_2-menubar",children:"Navigation"})}),V.jsx("div",{className:"additional-block-close-menubar",children:V.jsx(Bf,{sx:{fontSize:27,color:"white"},onClick:B})})]}),V.jsx("button",{className:"option-bottom-menu",children:"Home Page"}),V.jsx("button",{className:"option-bottom-menu",children:"Plan Page"}),V.jsx("button",{className:"option-bottom-menu",children:"Green Inform Page"}),V.jsx("button",{className:"option-bottom-menu",children:"About"})]}),V.jsx("div",{className:"overlay"})]}),f&&V.jsxs(V.Fragment,{children:[V.jsx("div",{className:`Reg-menu ${f?"show":""}`,children:V.jsxs("div",{className:"additional-blocks-Reg",children:[V.jsx("div",{className:"additional-block-text-Reg",children:V.jsx("span",{className:"text_bar_2-Reg",children:"Choose Position"})}),V.jsx("div",{className:"additional-block-close-Reg-menu",children:V.jsx(Bf,{sx:{fontSize:27,color:"white"},onClick:F})})]})}),V.jsx("div",{className:"overlay-Reg"})]})]})}var bA={exports:{}};/*!
 * jQuery JavaScript Library v3.7.0
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-05-11T18:29Z
 */(function(e){(function(t,r){e.exports=t.document?r(t,!0):function(o){if(!o.document)throw new Error("jQuery requires a window with a document");return r(o)}})(typeof window<"u"?window:Vh,function(t,r){var o=[],l=Object.getPrototypeOf,u=o.slice,f=o.flat?function(T){return o.flat.call(T)}:function(T){return o.concat.apply([],T)},i=o.push,_=o.indexOf,b={},E=b.toString,k=b.hasOwnProperty,R=k.toString,B=R.call(Object),F={},L=function(A){return typeof A=="function"&&typeof A.nodeType!="number"&&typeof A.item!="function"},X=function(A){return A!=null&&A===A.window},$=t.document,H={type:!0,src:!0,nonce:!0,noModule:!0};function G(T,A,j){j=j||$;var Y,oe,se=j.createElement("script");if(se.text=T,A)for(Y in H)oe=A[Y]||A.getAttribute&&A.getAttribute(Y),oe&&se.setAttribute(Y,oe);j.head.appendChild(se).parentNode.removeChild(se)}function Q(T){return T==null?T+"":typeof T=="object"||typeof T=="function"?b[E.call(T)]||"object":typeof T}var te="3.7.0",le=/HTML$/i,M=function(T,A){return new M.fn.init(T,A)};M.fn=M.prototype={jquery:te,constructor:M,length:0,toArray:function(){return u.call(this)},get:function(T){return T==null?u.call(this):T<0?this[T+this.length]:this[T]},pushStack:function(T){var A=M.merge(this.constructor(),T);return A.prevObject=this,A},each:function(T){return M.each(this,T)},map:function(T){return this.pushStack(M.map(this,function(A,j){return T.call(A,j,A)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(M.grep(this,function(T,A){return(A+1)%2}))},odd:function(){return this.pushStack(M.grep(this,function(T,A){return A%2}))},eq:function(T){var A=this.length,j=+T+(T<0?A:0);return this.pushStack(j>=0&&j<A?[this[j]]:[])},end:function(){return this.prevObject||this.constructor()},push:i,sort:o.sort,splice:o.splice},M.extend=M.fn.extend=function(){var T,A,j,Y,oe,se,he=arguments[0]||{},Ue=1,De=arguments.length,nt=!1;for(typeof he=="boolean"&&(nt=he,he=arguments[Ue]||{},Ue++),typeof he!="object"&&!L(he)&&(he={}),Ue===De&&(he=this,Ue--);Ue<De;Ue++)if((T=arguments[Ue])!=null)for(A in T)Y=T[A],!(A==="__proto__"||he===Y)&&(nt&&Y&&(M.isPlainObject(Y)||(oe=Array.isArray(Y)))?(j=he[A],oe&&!Array.isArray(j)?se=[]:!oe&&!M.isPlainObject(j)?se={}:se=j,oe=!1,he[A]=M.extend(nt,se,Y)):Y!==void 0&&(he[A]=Y));return he},M.extend({expando:"jQuery"+(te+Math.random()).replace(/\D/g,""),isReady:!0,error:function(T){throw new Error(T)},noop:function(){},isPlainObject:function(T){var A,j;return!T||E.call(T)!=="[object Object]"?!1:(A=l(T),A?(j=k.call(A,"constructor")&&A.constructor,typeof j=="function"&&R.call(j)===B):!0)},isEmptyObject:function(T){var A;for(A in T)return!1;return!0},globalEval:function(T,A,j){G(T,{nonce:A&&A.nonce},j)},each:function(T,A){var j,Y=0;if(de(T))for(j=T.length;Y<j&&A.call(T[Y],Y,T[Y])!==!1;Y++);else for(Y in T)if(A.call(T[Y],Y,T[Y])===!1)break;return T},text:function(T){var A,j="",Y=0,oe=T.nodeType;if(oe){if(oe===1||oe===9||oe===11)return T.textContent;if(oe===3||oe===4)return T.nodeValue}else for(;A=T[Y++];)j+=M.text(A);return j},makeArray:function(T,A){var j=A||[];return T!=null&&(de(Object(T))?M.merge(j,typeof T=="string"?[T]:T):i.call(j,T)),j},inArray:function(T,A,j){return A==null?-1:_.call(A,T,j)},isXMLDoc:function(T){var A=T&&T.namespaceURI,j=T&&(T.ownerDocument||T).documentElement;return!le.test(A||j&&j.nodeName||"HTML")},merge:function(T,A){for(var j=+A.length,Y=0,oe=T.length;Y<j;Y++)T[oe++]=A[Y];return T.length=oe,T},grep:function(T,A,j){for(var Y,oe=[],se=0,he=T.length,Ue=!j;se<he;se++)Y=!A(T[se],se),Y!==Ue&&oe.push(T[se]);return oe},map:function(T,A,j){var Y,oe,se=0,he=[];if(de(T))for(Y=T.length;se<Y;se++)oe=A(T[se],se,j),oe!=null&&he.push(oe);else for(se in T)oe=A(T[se],se,j),oe!=null&&he.push(oe);return f(he)},guid:1,support:F}),typeof Symbol=="function"&&(M.fn[Symbol.iterator]=o[Symbol.iterator]),M.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(T,A){b["[object "+A+"]"]=A.toLowerCase()});function de(T){var A=!!T&&"length"in T&&T.length,j=Q(T);return L(T)||X(T)?!1:j==="array"||A===0||typeof A=="number"&&A>0&&A-1 in T}function ce(T,A){return T.nodeName&&T.nodeName.toLowerCase()===A.toLowerCase()}var xe=o.pop,ke=o.sort,$e=o.splice,_e="[\\x20\\t\\r\\n\\f]",we=new RegExp("^"+_e+"+|((?:^|[^\\\\])(?:\\\\.)*)"+_e+"+$","g");M.contains=function(T,A){var j=A&&A.parentNode;return T===j||!!(j&&j.nodeType===1&&(T.contains?T.contains(j):T.compareDocumentPosition&&T.compareDocumentPosition(j)&16))};var me=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function je(T,A){return A?T==="\0"?"":T.slice(0,-1)+"\\"+T.charCodeAt(T.length-1).toString(16)+" ":"\\"+T}M.escapeSelector=function(T){return(T+"").replace(me,je)};var ze=$,Me=i;(function(){var T,A,j,Y,oe,se=Me,he,Ue,De,nt,At,jt=M.expando,vt=0,cn=0,or=Yl(),Tr=Yl(),vr=Yl(),Ii=Yl(),ti=function(Re,Ke){return Re===Ke&&(oe=!0),0},po="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",qo="(?:\\\\[\\da-fA-F]{1,6}"+_e+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Er="\\["+_e+"*("+qo+")(?:"+_e+"*([*^$|!~]?=)"+_e+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+qo+"))|)"+_e+"*\\]",Cs=":("+qo+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Er+")*)|.*)\\)|)",Ir=new RegExp(_e+"+","g"),vi=new RegExp("^"+_e+"*,"+_e+"*"),La=new RegExp("^"+_e+"*([>+~]|"+_e+")"+_e+"*"),Xl=new RegExp(_e+"|>"),os=new RegExp(Cs),wr=new RegExp("^"+qo+"$"),Fo={ID:new RegExp("^#("+qo+")"),CLASS:new RegExp("^\\.("+qo+")"),TAG:new RegExp("^("+qo+"|[*])"),ATTR:new RegExp("^"+Er),PSEUDO:new RegExp("^"+Cs),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+_e+"*(even|odd|(([+-]|)(\\d*)n|)"+_e+"*(?:([+-]|)"+_e+"*(\\d+)|))"+_e+"*\\)|)","i"),bool:new RegExp("^(?:"+po+")$","i"),needsContext:new RegExp("^"+_e+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+_e+"*((?:-\\d)?\\d*)"+_e+"*\\)|)(?=[^-]|$)","i")},ua=/^(?:input|select|textarea|button)$/i,Fs=/^h\d$/i,Zo=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,da=/[+~]/,Es=new RegExp("\\\\[\\da-fA-F]{1,6}"+_e+"?|\\\\([^\\r\\n\\f])","g"),ha=function(Re,Ke){var mt="0x"+Re.slice(1)-65536;return Ke||(mt<0?String.fromCharCode(mt+65536):String.fromCharCode(mt>>10|55296,mt&1023|56320))},i1=function(){as()},o1=Jl(function(Re){return Re.disabled===!0&&ce(Re,"fieldset")},{dir:"parentNode",next:"legend"});function zd(){try{return he.activeElement}catch{}}try{se.apply(o=u.call(ze.childNodes),ze.childNodes),o[ze.childNodes.length].nodeType}catch{se={apply:function(Ke,mt){Me.apply(Ke,u.call(mt))},call:function(Ke){Me.apply(Ke,u.call(arguments,1))}}}function Vr(Re,Ke,mt,Ct){var Bt,xn,An,Vn,En,Pr,sr,yr=Ke&&Ke.ownerDocument,kr=Ke?Ke.nodeType:9;if(mt=mt||[],typeof Re!="string"||!Re||kr!==1&&kr!==9&&kr!==11)return mt;if(!Ct&&(as(Ke),Ke=Ke||he,De)){if(kr!==11&&(En=Zo.exec(Re)))if(Bt=En[1]){if(kr===9)if(An=Ke.getElementById(Bt)){if(An.id===Bt)return se.call(mt,An),mt}else return mt;else if(yr&&(An=yr.getElementById(Bt))&&Vr.contains(Ke,An)&&An.id===Bt)return se.call(mt,An),mt}else{if(En[2])return se.apply(mt,Ke.getElementsByTagName(Re)),mt;if((Bt=En[3])&&Ke.getElementsByClassName)return se.apply(mt,Ke.getElementsByClassName(Bt)),mt}if(!Ii[Re+" "]&&(!nt||!nt.test(Re))){if(sr=Re,yr=Ke,kr===1&&(Xl.test(Re)||La.test(Re))){for(yr=da.test(Re)&&Wc(Ke.parentNode)||Ke,(yr!=Ke||!F.scope)&&((Vn=Ke.getAttribute("id"))?Vn=M.escapeSelector(Vn):Ke.setAttribute("id",Vn=jt)),Pr=Xo(Re),xn=Pr.length;xn--;)Pr[xn]=(Vn?"#"+Vn:":scope")+" "+yl(Pr[xn]);sr=Pr.join(",")}try{return se.apply(mt,yr.querySelectorAll(sr)),mt}catch{Ii(Re,!0)}finally{Vn===jt&&Ke.removeAttribute("id")}}}return Od(Re.replace(we,"$1"),Ke,mt,Ct)}function Yl(){var Re=[];function Ke(mt,Ct){return Re.push(mt+" ")>A.cacheLength&&delete Ke[Re.shift()],Ke[mt+" "]=Ct}return Ke}function Bo(Re){return Re[jt]=!0,Re}function gl(Re){var Ke=he.createElement("fieldset");try{return!!Re(Ke)}catch{return!1}finally{Ke.parentNode&&Ke.parentNode.removeChild(Ke),Ke=null}}function Jh(Re){return function(Ke){return ce(Ke,"input")&&Ke.type===Re}}function s1(Re){return function(Ke){return(ce(Ke,"input")||ce(Ke,"button"))&&Ke.type===Re}}function Kl(Re){return function(Ke){return"form"in Ke?Ke.parentNode&&Ke.disabled===!1?"label"in Ke?"label"in Ke.parentNode?Ke.parentNode.disabled===Re:Ke.disabled===Re:Ke.isDisabled===Re||Ke.isDisabled!==!Re&&o1(Ke)===Re:Ke.disabled===Re:"label"in Ke?Ke.disabled===Re:!1}}function ss(Re){return Bo(function(Ke){return Ke=+Ke,Bo(function(mt,Ct){for(var Bt,xn=Re([],mt.length,Ke),An=xn.length;An--;)mt[Bt=xn[An]]&&(mt[Bt]=!(Ct[Bt]=mt[Bt]))})})}function Wc(Re){return Re&&typeof Re.getElementsByTagName<"u"&&Re}function as(Re){var Ke,mt=Re?Re.ownerDocument||Re:ze;return mt==he||mt.nodeType!==9||!mt.documentElement||(he=mt,Ue=he.documentElement,De=!M.isXMLDoc(he),At=Ue.matches||Ue.webkitMatchesSelector||Ue.msMatchesSelector,ze!=he&&(Ke=he.defaultView)&&Ke.top!==Ke&&Ke.addEventListener("unload",i1),F.getById=gl(function(Ct){return Ue.appendChild(Ct).id=M.expando,!he.getElementsByName||!he.getElementsByName(M.expando).length}),F.disconnectedMatch=gl(function(Ct){return At.call(Ct,"*")}),F.scope=gl(function(){return he.querySelectorAll(":scope")}),F.cssHas=gl(function(){try{return he.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),F.getById?(A.filter.ID=function(Ct){var Bt=Ct.replace(Es,ha);return function(xn){return xn.getAttribute("id")===Bt}},A.find.ID=function(Ct,Bt){if(typeof Bt.getElementById<"u"&&De){var xn=Bt.getElementById(Ct);return xn?[xn]:[]}}):(A.filter.ID=function(Ct){var Bt=Ct.replace(Es,ha);return function(xn){var An=typeof xn.getAttributeNode<"u"&&xn.getAttributeNode("id");return An&&An.value===Bt}},A.find.ID=function(Ct,Bt){if(typeof Bt.getElementById<"u"&&De){var xn,An,Vn,En=Bt.getElementById(Ct);if(En){if(xn=En.getAttributeNode("id"),xn&&xn.value===Ct)return[En];for(Vn=Bt.getElementsByName(Ct),An=0;En=Vn[An++];)if(xn=En.getAttributeNode("id"),xn&&xn.value===Ct)return[En]}return[]}}),A.find.TAG=function(Ct,Bt){return typeof Bt.getElementsByTagName<"u"?Bt.getElementsByTagName(Ct):Bt.querySelectorAll(Ct)},A.find.CLASS=function(Ct,Bt){if(typeof Bt.getElementsByClassName<"u"&&De)return Bt.getElementsByClassName(Ct)},nt=[],gl(function(Ct){var Bt;Ue.appendChild(Ct).innerHTML="<a id='"+jt+"' href='' disabled='disabled'></a><select id='"+jt+"-\r\\' disabled='disabled'><option selected=''></option></select>",Ct.querySelectorAll("[selected]").length||nt.push("\\["+_e+"*(?:value|"+po+")"),Ct.querySelectorAll("[id~="+jt+"-]").length||nt.push("~="),Ct.querySelectorAll("a#"+jt+"+*").length||nt.push(".#.+[+~]"),Ct.querySelectorAll(":checked").length||nt.push(":checked"),Bt=he.createElement("input"),Bt.setAttribute("type","hidden"),Ct.appendChild(Bt).setAttribute("name","D"),Ue.appendChild(Ct).disabled=!0,Ct.querySelectorAll(":disabled").length!==2&&nt.push(":enabled",":disabled"),Bt=he.createElement("input"),Bt.setAttribute("name",""),Ct.appendChild(Bt),Ct.querySelectorAll("[name='']").length||nt.push("\\["+_e+"*name"+_e+"*="+_e+`*(?:''|"")`)}),F.cssHas||nt.push(":has"),nt=nt.length&&new RegExp(nt.join("|")),ti=function(Ct,Bt){if(Ct===Bt)return oe=!0,0;var xn=!Ct.compareDocumentPosition-!Bt.compareDocumentPosition;return xn||(xn=(Ct.ownerDocument||Ct)==(Bt.ownerDocument||Bt)?Ct.compareDocumentPosition(Bt):1,xn&1||!F.sortDetached&&Bt.compareDocumentPosition(Ct)===xn?Ct===he||Ct.ownerDocument==ze&&Vr.contains(ze,Ct)?-1:Bt===he||Bt.ownerDocument==ze&&Vr.contains(ze,Bt)?1:Y?_.call(Y,Ct)-_.call(Y,Bt):0:xn&4?-1:1)}),he}Vr.matches=function(Re,Ke){return Vr(Re,null,null,Ke)},Vr.matchesSelector=function(Re,Ke){if(as(Re),De&&!Ii[Ke+" "]&&(!nt||!nt.test(Ke)))try{var mt=At.call(Re,Ke);if(mt||F.disconnectedMatch||Re.document&&Re.document.nodeType!==11)return mt}catch{Ii(Ke,!0)}return Vr(Ke,he,null,[Re]).length>0},Vr.contains=function(Re,Ke){return(Re.ownerDocument||Re)!=he&&as(Re),M.contains(Re,Ke)},Vr.attr=function(Re,Ke){(Re.ownerDocument||Re)!=he&&as(Re);var mt=A.attrHandle[Ke.toLowerCase()],Ct=mt&&k.call(A.attrHandle,Ke.toLowerCase())?mt(Re,Ke,!De):void 0;return Ct!==void 0?Ct:Re.getAttribute(Ke)},Vr.error=function(Re){throw new Error("Syntax error, unrecognized expression: "+Re)},M.uniqueSort=function(Re){var Ke,mt=[],Ct=0,Bt=0;if(oe=!F.sortStable,Y=!F.sortStable&&u.call(Re,0),ke.call(Re,ti),oe){for(;Ke=Re[Bt++];)Ke===Re[Bt]&&(Ct=mt.push(Bt));for(;Ct--;)$e.call(Re,mt[Ct],1)}return Y=null,Re},M.fn.uniqueSort=function(){return this.pushStack(M.uniqueSort(u.apply(this)))},A=M.expr={cacheLength:50,createPseudo:Bo,match:Fo,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(Re){return Re[1]=Re[1].replace(Es,ha),Re[3]=(Re[3]||Re[4]||Re[5]||"").replace(Es,ha),Re[2]==="~="&&(Re[3]=" "+Re[3]+" "),Re.slice(0,4)},CHILD:function(Re){return Re[1]=Re[1].toLowerCase(),Re[1].slice(0,3)==="nth"?(Re[3]||Vr.error(Re[0]),Re[4]=+(Re[4]?Re[5]+(Re[6]||1):2*(Re[3]==="even"||Re[3]==="odd")),Re[5]=+(Re[7]+Re[8]||Re[3]==="odd")):Re[3]&&Vr.error(Re[0]),Re},PSEUDO:function(Re){var Ke,mt=!Re[6]&&Re[2];return Fo.CHILD.test(Re[0])?null:(Re[3]?Re[2]=Re[4]||Re[5]||"":mt&&os.test(mt)&&(Ke=Xo(mt,!0))&&(Ke=mt.indexOf(")",mt.length-Ke)-mt.length)&&(Re[0]=Re[0].slice(0,Ke),Re[2]=mt.slice(0,Ke)),Re.slice(0,3))}},filter:{TAG:function(Re){var Ke=Re.replace(Es,ha).toLowerCase();return Re==="*"?function(){return!0}:function(mt){return ce(mt,Ke)}},CLASS:function(Re){var Ke=or[Re+" "];return Ke||(Ke=new RegExp("(^|"+_e+")"+Re+"("+_e+"|$)"))&&or(Re,function(mt){return Ke.test(typeof mt.className=="string"&&mt.className||typeof mt.getAttribute<"u"&&mt.getAttribute("class")||"")})},ATTR:function(Re,Ke,mt){return function(Ct){var Bt=Vr.attr(Ct,Re);return Bt==null?Ke==="!=":Ke?(Bt+="",Ke==="="?Bt===mt:Ke==="!="?Bt!==mt:Ke==="^="?mt&&Bt.indexOf(mt)===0:Ke==="*="?mt&&Bt.indexOf(mt)>-1:Ke==="$="?mt&&Bt.slice(-mt.length)===mt:Ke==="~="?(" "+Bt.replace(Ir," ")+" ").indexOf(mt)>-1:Ke==="|="?Bt===mt||Bt.slice(0,mt.length+1)===mt+"-":!1):!0}},CHILD:function(Re,Ke,mt,Ct,Bt){var xn=Re.slice(0,3)!=="nth",An=Re.slice(-4)!=="last",Vn=Ke==="of-type";return Ct===1&&Bt===0?function(En){return!!En.parentNode}:function(En,Pr,sr){var yr,kr,Jn,ni,uo,Li=xn!==An?"nextSibling":"previousSibling",Yo=En.parentNode,Ps=Vn&&En.nodeName.toLowerCase(),No=!sr&&!Vn,no=!1;if(Yo){if(xn){for(;Li;){for(Jn=En;Jn=Jn[Li];)if(Vn?ce(Jn,Ps):Jn.nodeType===1)return!1;uo=Li=Re==="only"&&!uo&&"nextSibling"}return!0}if(uo=[An?Yo.firstChild:Yo.lastChild],An&&No){for(kr=Yo[jt]||(Yo[jt]={}),yr=kr[Re]||[],ni=yr[0]===vt&&yr[1],no=ni&&yr[2],Jn=ni&&Yo.childNodes[ni];Jn=++ni&&Jn&&Jn[Li]||(no=ni=0)||uo.pop();)if(Jn.nodeType===1&&++no&&Jn===En){kr[Re]=[vt,ni,no];break}}else if(No&&(kr=En[jt]||(En[jt]={}),yr=kr[Re]||[],ni=yr[0]===vt&&yr[1],no=ni),no===!1)for(;(Jn=++ni&&Jn&&Jn[Li]||(no=ni=0)||uo.pop())&&!((Vn?ce(Jn,Ps):Jn.nodeType===1)&&++no&&(No&&(kr=Jn[jt]||(Jn[jt]={}),kr[Re]=[vt,no]),Jn===En)););return no-=Bt,no===Ct||no%Ct===0&&no/Ct>=0}}},PSEUDO:function(Re,Ke){var mt,Ct=A.pseudos[Re]||A.setFilters[Re.toLowerCase()]||Vr.error("unsupported pseudo: "+Re);return Ct[jt]?Ct(Ke):Ct.length>1?(mt=[Re,Re,"",Ke],A.setFilters.hasOwnProperty(Re.toLowerCase())?Bo(function(Bt,xn){for(var An,Vn=Ct(Bt,Ke),En=Vn.length;En--;)An=_.call(Bt,Vn[En]),Bt[An]=!(xn[An]=Vn[En])}):function(Bt){return Ct(Bt,0,mt)}):Ct}},pseudos:{not:Bo(function(Re){var Ke=[],mt=[],Ct=_l(Re.replace(we,"$1"));return Ct[jt]?Bo(function(Bt,xn,An,Vn){for(var En,Pr=Ct(Bt,null,Vn,[]),sr=Bt.length;sr--;)(En=Pr[sr])&&(Bt[sr]=!(xn[sr]=En))}):function(Bt,xn,An){return Ke[0]=Bt,Ct(Ke,null,An,mt),Ke[0]=null,!mt.pop()}}),has:Bo(function(Re){return function(Ke){return Vr(Re,Ke).length>0}}),contains:Bo(function(Re){return Re=Re.replace(Es,ha),function(Ke){return(Ke.textContent||M.text(Ke)).indexOf(Re)>-1}}),lang:Bo(function(Re){return wr.test(Re||"")||Vr.error("unsupported lang: "+Re),Re=Re.replace(Es,ha).toLowerCase(),function(Ke){var mt;do if(mt=De?Ke.lang:Ke.getAttribute("xml:lang")||Ke.getAttribute("lang"))return mt=mt.toLowerCase(),mt===Re||mt.indexOf(Re+"-")===0;while((Ke=Ke.parentNode)&&Ke.nodeType===1);return!1}}),target:function(Re){var Ke=t.location&&t.location.hash;return Ke&&Ke.slice(1)===Re.id},root:function(Re){return Re===Ue},focus:function(Re){return Re===zd()&&he.hasFocus()&&!!(Re.type||Re.href||~Re.tabIndex)},enabled:Kl(!1),disabled:Kl(!0),checked:function(Re){return ce(Re,"input")&&!!Re.checked||ce(Re,"option")&&!!Re.selected},selected:function(Re){return Re.parentNode&&Re.parentNode.selectedIndex,Re.selected===!0},empty:function(Re){for(Re=Re.firstChild;Re;Re=Re.nextSibling)if(Re.nodeType<6)return!1;return!0},parent:function(Re){return!A.pseudos.empty(Re)},header:function(Re){return Fs.test(Re.nodeName)},input:function(Re){return ua.test(Re.nodeName)},button:function(Re){return ce(Re,"input")&&Re.type==="button"||ce(Re,"button")},text:function(Re){var Ke;return ce(Re,"input")&&Re.type==="text"&&((Ke=Re.getAttribute("type"))==null||Ke.toLowerCase()==="text")},first:ss(function(){return[0]}),last:ss(function(Re,Ke){return[Ke-1]}),eq:ss(function(Re,Ke,mt){return[mt<0?mt+Ke:mt]}),even:ss(function(Re,Ke){for(var mt=0;mt<Ke;mt+=2)Re.push(mt);return Re}),odd:ss(function(Re,Ke){for(var mt=1;mt<Ke;mt+=2)Re.push(mt);return Re}),lt:ss(function(Re,Ke,mt){var Ct;for(mt<0?Ct=mt+Ke:mt>Ke?Ct=Ke:Ct=mt;--Ct>=0;)Re.push(Ct);return Re}),gt:ss(function(Re,Ke,mt){for(var Ct=mt<0?mt+Ke:mt;++Ct<Ke;)Re.push(Ct);return Re})}},A.pseudos.nth=A.pseudos.eq;for(T in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})A.pseudos[T]=Jh(T);for(T in{submit:!0,reset:!0})A.pseudos[T]=s1(T);function ku(){}ku.prototype=A.filters=A.pseudos,A.setFilters=new ku;function Xo(Re,Ke){var mt,Ct,Bt,xn,An,Vn,En,Pr=Tr[Re+" "];if(Pr)return Ke?0:Pr.slice(0);for(An=Re,Vn=[],En=A.preFilter;An;){(!mt||(Ct=vi.exec(An)))&&(Ct&&(An=An.slice(Ct[0].length)||An),Vn.push(Bt=[])),mt=!1,(Ct=La.exec(An))&&(mt=Ct.shift(),Bt.push({value:mt,type:Ct[0].replace(we," ")}),An=An.slice(mt.length));for(xn in A.filter)(Ct=Fo[xn].exec(An))&&(!En[xn]||(Ct=En[xn](Ct)))&&(mt=Ct.shift(),Bt.push({value:mt,type:xn,matches:Ct}),An=An.slice(mt.length));if(!mt)break}return Ke?An.length:An?Vr.error(Re):Tr(Re,Vn).slice(0)}function yl(Re){for(var Ke=0,mt=Re.length,Ct="";Ke<mt;Ke++)Ct+=Re[Ke].value;return Ct}function Jl(Re,Ke,mt){var Ct=Ke.dir,Bt=Ke.next,xn=Bt||Ct,An=mt&&xn==="parentNode",Vn=cn++;return Ke.first?function(En,Pr,sr){for(;En=En[Ct];)if(En.nodeType===1||An)return Re(En,Pr,sr);return!1}:function(En,Pr,sr){var yr,kr,Jn=[vt,Vn];if(sr){for(;En=En[Ct];)if((En.nodeType===1||An)&&Re(En,Pr,sr))return!0}else for(;En=En[Ct];)if(En.nodeType===1||An)if(kr=En[jt]||(En[jt]={}),Bt&&ce(En,Bt))En=En[Ct]||En;else{if((yr=kr[xn])&&yr[0]===vt&&yr[1]===Vn)return Jn[2]=yr[2];if(kr[xn]=Jn,Jn[2]=Re(En,Pr,sr))return!0}return!1}}function Ql(Re){return Re.length>1?function(Ke,mt,Ct){for(var Bt=Re.length;Bt--;)if(!Re[Bt](Ke,mt,Ct))return!1;return!0}:Re[0]}function Qh(Re,Ke,mt){for(var Ct=0,Bt=Ke.length;Ct<Bt;Ct++)Vr(Re,Ke[Ct],mt);return mt}function ec(Re,Ke,mt,Ct,Bt){for(var xn,An=[],Vn=0,En=Re.length,Pr=Ke!=null;Vn<En;Vn++)(xn=Re[Vn])&&(!mt||mt(xn,Ct,Bt))&&(An.push(xn),Pr&&Ke.push(Vn));return An}function Ld(Re,Ke,mt,Ct,Bt,xn){return Ct&&!Ct[jt]&&(Ct=Ld(Ct)),Bt&&!Bt[jt]&&(Bt=Ld(Bt,xn)),Bo(function(An,Vn,En,Pr){var sr,yr,kr,Jn,ni=[],uo=[],Li=Vn.length,Yo=An||Qh(Ke||"*",En.nodeType?[En]:En,[]),Ps=Re&&(An||!Ke)?ec(Yo,ni,Re,En,Pr):Yo;if(mt?(Jn=Bt||(An?Re:Li||Ct)?[]:Vn,mt(Ps,Jn,En,Pr)):Jn=Ps,Ct)for(sr=ec(Jn,uo),Ct(sr,[],En,Pr),yr=sr.length;yr--;)(kr=sr[yr])&&(Jn[uo[yr]]=!(Ps[uo[yr]]=kr));if(An){if(Bt||Re){if(Bt){for(sr=[],yr=Jn.length;yr--;)(kr=Jn[yr])&&sr.push(Ps[yr]=kr);Bt(null,Jn=[],sr,Pr)}for(yr=Jn.length;yr--;)(kr=Jn[yr])&&(sr=Bt?_.call(An,kr):ni[yr])>-1&&(An[sr]=!(Vn[sr]=kr))}}else Jn=ec(Jn===Vn?Jn.splice(Li,Jn.length):Jn),Bt?Bt(null,Vn,Jn,Pr):se.apply(Vn,Jn)})}function Hc(Re){for(var Ke,mt,Ct,Bt=Re.length,xn=A.relative[Re[0].type],An=xn||A.relative[" "],Vn=xn?1:0,En=Jl(function(yr){return yr===Ke},An,!0),Pr=Jl(function(yr){return _.call(Ke,yr)>-1},An,!0),sr=[function(yr,kr,Jn){var ni=!xn&&(Jn||kr!=j)||((Ke=kr).nodeType?En(yr,kr,Jn):Pr(yr,kr,Jn));return Ke=null,ni}];Vn<Bt;Vn++)if(mt=A.relative[Re[Vn].type])sr=[Jl(Ql(sr),mt)];else{if(mt=A.filter[Re[Vn].type].apply(null,Re[Vn].matches),mt[jt]){for(Ct=++Vn;Ct<Bt&&!A.relative[Re[Ct].type];Ct++);return Ld(Vn>1&&Ql(sr),Vn>1&&yl(Re.slice(0,Vn-1).concat({value:Re[Vn-2].type===" "?"*":""})).replace(we,"$1"),mt,Vn<Ct&&Hc(Re.slice(Vn,Ct)),Ct<Bt&&Hc(Re=Re.slice(Ct)),Ct<Bt&&yl(Re))}sr.push(mt)}return Ql(sr)}function Mu(Re,Ke){var mt=Ke.length>0,Ct=Re.length>0,Bt=function(xn,An,Vn,En,Pr){var sr,yr,kr,Jn=0,ni="0",uo=xn&&[],Li=[],Yo=j,Ps=xn||Ct&&A.find.TAG("*",Pr),No=vt+=Yo==null?1:Math.random()||.1,no=Ps.length;for(Pr&&(j=An==he||An||Pr);ni!==no&&(sr=Ps[ni])!=null;ni++){if(Ct&&sr){for(yr=0,!An&&sr.ownerDocument!=he&&(as(sr),Vn=!De);kr=Re[yr++];)if(kr(sr,An||he,Vn)){se.call(En,sr);break}Pr&&(vt=No)}mt&&((sr=!kr&&sr)&&Jn--,xn&&uo.push(sr))}if(Jn+=ni,mt&&ni!==Jn){for(yr=0;kr=Ke[yr++];)kr(uo,Li,An,Vn);if(xn){if(Jn>0)for(;ni--;)uo[ni]||Li[ni]||(Li[ni]=xe.call(En));Li=ec(Li)}se.apply(En,Li),Pr&&!xn&&Li.length>0&&Jn+Ke.length>1&&M.uniqueSort(En)}return Pr&&(vt=No,j=Yo),uo};return mt?Bo(Bt):Bt}function _l(Re,Ke){var mt,Ct=[],Bt=[],xn=vr[Re+" "];if(!xn){for(Ke||(Ke=Xo(Re)),mt=Ke.length;mt--;)xn=Hc(Ke[mt]),xn[jt]?Ct.push(xn):Bt.push(xn);xn=vr(Re,Mu(Bt,Ct)),xn.selector=Re}return xn}function Od(Re,Ke,mt,Ct){var Bt,xn,An,Vn,En,Pr=typeof Re=="function"&&Re,sr=!Ct&&Xo(Re=Pr.selector||Re);if(mt=mt||[],sr.length===1){if(xn=sr[0]=sr[0].slice(0),xn.length>2&&(An=xn[0]).type==="ID"&&Ke.nodeType===9&&De&&A.relative[xn[1].type]){if(Ke=(A.find.ID(An.matches[0].replace(Es,ha),Ke)||[])[0],Ke)Pr&&(Ke=Ke.parentNode);else return mt;Re=Re.slice(xn.shift().value.length)}for(Bt=Fo.needsContext.test(Re)?0:xn.length;Bt--&&(An=xn[Bt],!A.relative[Vn=An.type]);)if((En=A.find[Vn])&&(Ct=En(An.matches[0].replace(Es,ha),da.test(xn[0].type)&&Wc(Ke.parentNode)||Ke))){if(xn.splice(Bt,1),Re=Ct.length&&yl(xn),!Re)return se.apply(mt,Ct),mt;break}}return(Pr||_l(Re,sr))(Ct,Ke,!De,mt,!Ke||da.test(Re)&&Wc(Ke.parentNode)||Ke),mt}F.sortStable=jt.split("").sort(ti).join("")===jt,as(),F.sortDetached=gl(function(Re){return Re.compareDocumentPosition(he.createElement("fieldset"))&1}),M.find=Vr,M.expr[":"]=M.expr.pseudos,M.unique=M.uniqueSort,Vr.compile=_l,Vr.select=Od,Vr.setDocument=as,Vr.escape=M.escapeSelector,Vr.getText=M.text,Vr.isXML=M.isXMLDoc,Vr.selectors=M.expr,Vr.support=M.support,Vr.uniqueSort=M.uniqueSort})();var Le=function(T,A,j){for(var Y=[],oe=j!==void 0;(T=T[A])&&T.nodeType!==9;)if(T.nodeType===1){if(oe&&M(T).is(j))break;Y.push(T)}return Y},qe=function(T,A){for(var j=[];T;T=T.nextSibling)T.nodeType===1&&T!==A&&j.push(T);return j},ct=M.expr.match.needsContext,wt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function St(T,A,j){return L(A)?M.grep(T,function(Y,oe){return!!A.call(Y,oe,Y)!==j}):A.nodeType?M.grep(T,function(Y){return Y===A!==j}):typeof A!="string"?M.grep(T,function(Y){return _.call(A,Y)>-1!==j}):M.filter(A,T,j)}M.filter=function(T,A,j){var Y=A[0];return j&&(T=":not("+T+")"),A.length===1&&Y.nodeType===1?M.find.matchesSelector(Y,T)?[Y]:[]:M.find.matches(T,M.grep(A,function(oe){return oe.nodeType===1}))},M.fn.extend({find:function(T){var A,j,Y=this.length,oe=this;if(typeof T!="string")return this.pushStack(M(T).filter(function(){for(A=0;A<Y;A++)if(M.contains(oe[A],this))return!0}));for(j=this.pushStack([]),A=0;A<Y;A++)M.find(T,oe[A],j);return Y>1?M.uniqueSort(j):j},filter:function(T){return this.pushStack(St(this,T||[],!1))},not:function(T){return this.pushStack(St(this,T||[],!0))},is:function(T){return!!St(this,typeof T=="string"&&ct.test(T)?M(T):T||[],!1).length}});var ht,Dt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,bt=M.fn.init=function(T,A,j){var Y,oe;if(!T)return this;if(j=j||ht,typeof T=="string")if(T[0]==="<"&&T[T.length-1]===">"&&T.length>=3?Y=[null,T,null]:Y=Dt.exec(T),Y&&(Y[1]||!A))if(Y[1]){if(A=A instanceof M?A[0]:A,M.merge(this,M.parseHTML(Y[1],A&&A.nodeType?A.ownerDocument||A:$,!0)),wt.test(Y[1])&&M.isPlainObject(A))for(Y in A)L(this[Y])?this[Y](A[Y]):this.attr(Y,A[Y]);return this}else return oe=$.getElementById(Y[2]),oe&&(this[0]=oe,this.length=1),this;else return!A||A.jquery?(A||j).find(T):this.constructor(A).find(T);else{if(T.nodeType)return this[0]=T,this.length=1,this;if(L(T))return j.ready!==void 0?j.ready(T):T(M)}return M.makeArray(T,this)};bt.prototype=M.fn,ht=M($);var Et=/^(?:parents|prev(?:Until|All))/,Xt={children:!0,contents:!0,next:!0,prev:!0};M.fn.extend({has:function(T){var A=M(T,this),j=A.length;return this.filter(function(){for(var Y=0;Y<j;Y++)if(M.contains(this,A[Y]))return!0})},closest:function(T,A){var j,Y=0,oe=this.length,se=[],he=typeof T!="string"&&M(T);if(!ct.test(T)){for(;Y<oe;Y++)for(j=this[Y];j&&j!==A;j=j.parentNode)if(j.nodeType<11&&(he?he.index(j)>-1:j.nodeType===1&&M.find.matchesSelector(j,T))){se.push(j);break}}return this.pushStack(se.length>1?M.uniqueSort(se):se)},index:function(T){return T?typeof T=="string"?_.call(M(T),this[0]):_.call(this,T.jquery?T[0]:T):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(T,A){return this.pushStack(M.uniqueSort(M.merge(this.get(),M(T,A))))},addBack:function(T){return this.add(T==null?this.prevObject:this.prevObject.filter(T))}});function rn(T,A){for(;(T=T[A])&&T.nodeType!==1;);return T}M.each({parent:function(T){var A=T.parentNode;return A&&A.nodeType!==11?A:null},parents:function(T){return Le(T,"parentNode")},parentsUntil:function(T,A,j){return Le(T,"parentNode",j)},next:function(T){return rn(T,"nextSibling")},prev:function(T){return rn(T,"previousSibling")},nextAll:function(T){return Le(T,"nextSibling")},prevAll:function(T){return Le(T,"previousSibling")},nextUntil:function(T,A,j){return Le(T,"nextSibling",j)},prevUntil:function(T,A,j){return Le(T,"previousSibling",j)},siblings:function(T){return qe((T.parentNode||{}).firstChild,T)},children:function(T){return qe(T.firstChild)},contents:function(T){return T.contentDocument!=null&&l(T.contentDocument)?T.contentDocument:(ce(T,"template")&&(T=T.content||T),M.merge([],T.childNodes))}},function(T,A){M.fn[T]=function(j,Y){var oe=M.map(this,A,j);return T.slice(-5)!=="Until"&&(Y=j),Y&&typeof Y=="string"&&(oe=M.filter(Y,oe)),this.length>1&&(Xt[T]||M.uniqueSort(oe),Et.test(T)&&oe.reverse()),this.pushStack(oe)}});var _t=/[^\x20\t\r\n\f]+/g;function at(T){var A={};return M.each(T.match(_t)||[],function(j,Y){A[Y]=!0}),A}M.Callbacks=function(T){T=typeof T=="string"?at(T):M.extend({},T);var A,j,Y,oe,se=[],he=[],Ue=-1,De=function(){for(oe=oe||T.once,Y=A=!0;he.length;Ue=-1)for(j=he.shift();++Ue<se.length;)se[Ue].apply(j[0],j[1])===!1&&T.stopOnFalse&&(Ue=se.length,j=!1);T.memory||(j=!1),A=!1,oe&&(j?se=[]:se="")},nt={add:function(){return se&&(j&&!A&&(Ue=se.length-1,he.push(j)),function At(jt){M.each(jt,function(vt,cn){L(cn)?(!T.unique||!nt.has(cn))&&se.push(cn):cn&&cn.length&&Q(cn)!=="string"&&At(cn)})}(arguments),j&&!A&&De()),this},remove:function(){return M.each(arguments,function(At,jt){for(var vt;(vt=M.inArray(jt,se,vt))>-1;)se.splice(vt,1),vt<=Ue&&Ue--}),this},has:function(At){return At?M.inArray(At,se)>-1:se.length>0},empty:function(){return se&&(se=[]),this},disable:function(){return oe=he=[],se=j="",this},disabled:function(){return!se},lock:function(){return oe=he=[],!j&&!A&&(se=j=""),this},locked:function(){return!!oe},fireWith:function(At,jt){return oe||(jt=jt||[],jt=[At,jt.slice?jt.slice():jt],he.push(jt),A||De()),this},fire:function(){return nt.fireWith(this,arguments),this},fired:function(){return!!Y}};return nt};function ft(T){return T}function Ft(T){throw T}function un(T,A,j,Y){var oe;try{T&&L(oe=T.promise)?oe.call(T).done(A).fail(j):T&&L(oe=T.then)?oe.call(T,A,j):A.apply(void 0,[T].slice(Y))}catch(se){j.apply(void 0,[se])}}M.extend({Deferred:function(T){var A=[["notify","progress",M.Callbacks("memory"),M.Callbacks("memory"),2],["resolve","done",M.Callbacks("once memory"),M.Callbacks("once memory"),0,"resolved"],["reject","fail",M.Callbacks("once memory"),M.Callbacks("once memory"),1,"rejected"]],j="pending",Y={state:function(){return j},always:function(){return oe.done(arguments).fail(arguments),this},catch:function(se){return Y.then(null,se)},pipe:function(){var se=arguments;return M.Deferred(function(he){M.each(A,function(Ue,De){var nt=L(se[De[4]])&&se[De[4]];oe[De[1]](function(){var At=nt&&nt.apply(this,arguments);At&&L(At.promise)?At.promise().progress(he.notify).done(he.resolve).fail(he.reject):he[De[0]+"With"](this,nt?[At]:arguments)})}),se=null}).promise()},then:function(se,he,Ue){var De=0;function nt(At,jt,vt,cn){return function(){var or=this,Tr=arguments,vr=function(){var ti,po;if(!(At<De)){if(ti=vt.apply(or,Tr),ti===jt.promise())throw new TypeError("Thenable self-resolution");po=ti&&(typeof ti=="object"||typeof ti=="function")&&ti.then,L(po)?cn?po.call(ti,nt(De,jt,ft,cn),nt(De,jt,Ft,cn)):(De++,po.call(ti,nt(De,jt,ft,cn),nt(De,jt,Ft,cn),nt(De,jt,ft,jt.notifyWith))):(vt!==ft&&(or=void 0,Tr=[ti]),(cn||jt.resolveWith)(or,Tr))}},Ii=cn?vr:function(){try{vr()}catch(ti){M.Deferred.exceptionHook&&M.Deferred.exceptionHook(ti,Ii.error),At+1>=De&&(vt!==Ft&&(or=void 0,Tr=[ti]),jt.rejectWith(or,Tr))}};At?Ii():(M.Deferred.getErrorHook?Ii.error=M.Deferred.getErrorHook():M.Deferred.getStackHook&&(Ii.error=M.Deferred.getStackHook()),t.setTimeout(Ii))}}return M.Deferred(function(At){A[0][3].add(nt(0,At,L(Ue)?Ue:ft,At.notifyWith)),A[1][3].add(nt(0,At,L(se)?se:ft)),A[2][3].add(nt(0,At,L(he)?he:Ft))}).promise()},promise:function(se){return se!=null?M.extend(se,Y):Y}},oe={};return M.each(A,function(se,he){var Ue=he[2],De=he[5];Y[he[1]]=Ue.add,De&&Ue.add(function(){j=De},A[3-se][2].disable,A[3-se][3].disable,A[0][2].lock,A[0][3].lock),Ue.add(he[3].fire),oe[he[0]]=function(){return oe[he[0]+"With"](this===oe?void 0:this,arguments),this},oe[he[0]+"With"]=Ue.fireWith}),Y.promise(oe),T&&T.call(oe,oe),oe},when:function(T){var A=arguments.length,j=A,Y=Array(j),oe=u.call(arguments),se=M.Deferred(),he=function(Ue){return function(De){Y[Ue]=this,oe[Ue]=arguments.length>1?u.call(arguments):De,--A||se.resolveWith(Y,oe)}};if(A<=1&&(un(T,se.done(he(j)).resolve,se.reject,!A),se.state()==="pending"||L(oe[j]&&oe[j].then)))return se.then();for(;j--;)un(oe[j],he(j),se.reject);return se.promise()}});var rt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;M.Deferred.exceptionHook=function(T,A){t.console&&t.console.warn&&T&&rt.test(T.name)&&t.console.warn("jQuery.Deferred exception: "+T.message,T.stack,A)},M.readyException=function(T){t.setTimeout(function(){throw T})};var an=M.Deferred();M.fn.ready=function(T){return an.then(T).catch(function(A){M.readyException(A)}),this},M.extend({isReady:!1,readyWait:1,ready:function(T){(T===!0?--M.readyWait:M.isReady)||(M.isReady=!0,!(T!==!0&&--M.readyWait>0)&&an.resolveWith($,[M]))}}),M.ready.then=an.then;function Tt(){$.removeEventListener("DOMContentLoaded",Tt),t.removeEventListener("load",Tt),M.ready()}$.readyState==="complete"||$.readyState!=="loading"&&!$.documentElement.doScroll?t.setTimeout(M.ready):($.addEventListener("DOMContentLoaded",Tt),t.addEventListener("load",Tt));var on=function(T,A,j,Y,oe,se,he){var Ue=0,De=T.length,nt=j==null;if(Q(j)==="object"){oe=!0;for(Ue in j)on(T,A,Ue,j[Ue],!0,se,he)}else if(Y!==void 0&&(oe=!0,L(Y)||(he=!0),nt&&(he?(A.call(T,Y),A=null):(nt=A,A=function(At,jt,vt){return nt.call(M(At),vt)})),A))for(;Ue<De;Ue++)A(T[Ue],j,he?Y:Y.call(T[Ue],Ue,A(T[Ue],j)));return oe?T:nt?A.call(T):De?A(T[0],j):se},ln=/^-ms-/,sn=/-([a-z])/g;function Qt(T,A){return A.toUpperCase()}function Tn(T){return T.replace(ln,"ms-").replace(sn,Qt)}var Zn=function(T){return T.nodeType===1||T.nodeType===9||!+T.nodeType};function hr(){this.expando=M.expando+hr.uid++}hr.uid=1,hr.prototype={cache:function(T){var A=T[this.expando];return A||(A={},Zn(T)&&(T.nodeType?T[this.expando]=A:Object.defineProperty(T,this.expando,{value:A,configurable:!0}))),A},set:function(T,A,j){var Y,oe=this.cache(T);if(typeof A=="string")oe[Tn(A)]=j;else for(Y in A)oe[Tn(Y)]=A[Y];return oe},get:function(T,A){return A===void 0?this.cache(T):T[this.expando]&&T[this.expando][Tn(A)]},access:function(T,A,j){return A===void 0||A&&typeof A=="string"&&j===void 0?this.get(T,A):(this.set(T,A,j),j!==void 0?j:A)},remove:function(T,A){var j,Y=T[this.expando];if(Y!==void 0){if(A!==void 0)for(Array.isArray(A)?A=A.map(Tn):(A=Tn(A),A=A in Y?[A]:A.match(_t)||[]),j=A.length;j--;)delete Y[A[j]];(A===void 0||M.isEmptyObject(Y))&&(T.nodeType?T[this.expando]=void 0:delete T[this.expando])}},hasData:function(T){var A=T[this.expando];return A!==void 0&&!M.isEmptyObject(A)}};var $t=new hr,Dn=new hr,Wn=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Cn=/[A-Z]/g;function Pn(T){return T==="true"?!0:T==="false"?!1:T==="null"?null:T===+T+""?+T:Wn.test(T)?JSON.parse(T):T}function In(T,A,j){var Y;if(j===void 0&&T.nodeType===1)if(Y="data-"+A.replace(Cn,"-$&").toLowerCase(),j=T.getAttribute(Y),typeof j=="string"){try{j=Pn(j)}catch{}Dn.set(T,A,j)}else j=void 0;return j}M.extend({hasData:function(T){return Dn.hasData(T)||$t.hasData(T)},data:function(T,A,j){return Dn.access(T,A,j)},removeData:function(T,A){Dn.remove(T,A)},_data:function(T,A,j){return $t.access(T,A,j)},_removeData:function(T,A){$t.remove(T,A)}}),M.fn.extend({data:function(T,A){var j,Y,oe,se=this[0],he=se&&se.attributes;if(T===void 0){if(this.length&&(oe=Dn.get(se),se.nodeType===1&&!$t.get(se,"hasDataAttrs"))){for(j=he.length;j--;)he[j]&&(Y=he[j].name,Y.indexOf("data-")===0&&(Y=Tn(Y.slice(5)),In(se,Y,oe[Y])));$t.set(se,"hasDataAttrs",!0)}return oe}return typeof T=="object"?this.each(function(){Dn.set(this,T)}):on(this,function(Ue){var De;if(se&&Ue===void 0)return De=Dn.get(se,T),De!==void 0||(De=In(se,T),De!==void 0)?De:void 0;this.each(function(){Dn.set(this,T,Ue)})},null,A,arguments.length>1,null,!0)},removeData:function(T){return this.each(function(){Dn.remove(this,T)})}}),M.extend({queue:function(T,A,j){var Y;if(T)return A=(A||"fx")+"queue",Y=$t.get(T,A),j&&(!Y||Array.isArray(j)?Y=$t.access(T,A,M.makeArray(j)):Y.push(j)),Y||[]},dequeue:function(T,A){A=A||"fx";var j=M.queue(T,A),Y=j.length,oe=j.shift(),se=M._queueHooks(T,A),he=function(){M.dequeue(T,A)};oe==="inprogress"&&(oe=j.shift(),Y--),oe&&(A==="fx"&&j.unshift("inprogress"),delete se.stop,oe.call(T,he,se)),!Y&&se&&se.empty.fire()},_queueHooks:function(T,A){var j=A+"queueHooks";return $t.get(T,j)||$t.access(T,j,{empty:M.Callbacks("once memory").add(function(){$t.remove(T,[A+"queue",j])})})}}),M.fn.extend({queue:function(T,A){var j=2;return typeof T!="string"&&(A=T,T="fx",j--),arguments.length<j?M.queue(this[0],T):A===void 0?this:this.each(function(){var Y=M.queue(this,T,A);M._queueHooks(this,T),T==="fx"&&Y[0]!=="inprogress"&&M.dequeue(this,T)})},dequeue:function(T){return this.each(function(){M.dequeue(this,T)})},clearQueue:function(T){return this.queue(T||"fx",[])},promise:function(T,A){var j,Y=1,oe=M.Deferred(),se=this,he=this.length,Ue=function(){--Y||oe.resolveWith(se,[se])};for(typeof T!="string"&&(A=T,T=void 0),T=T||"fx";he--;)j=$t.get(se[he],T+"queueHooks"),j&&j.empty&&(Y++,j.empty.add(Ue));return Ue(),oe.promise(A)}});var er=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,dn=new RegExp("^(?:([+-])=|)("+er+")([a-z%]*)$","i"),yn=["Top","Right","Bottom","Left"],zn=$.documentElement,Qn=function(T){return M.contains(T.ownerDocument,T)},Cr={composed:!0};zn.getRootNode&&(Qn=function(T){return M.contains(T.ownerDocument,T)||T.getRootNode(Cr)===T.ownerDocument});var Ur=function(T,A){return T=A||T,T.style.display==="none"||T.style.display===""&&Qn(T)&&M.css(T,"display")==="none"};function yi(T,A,j,Y){var oe,se,he=20,Ue=Y?function(){return Y.cur()}:function(){return M.css(T,A,"")},De=Ue(),nt=j&&j[3]||(M.cssNumber[A]?"":"px"),At=T.nodeType&&(M.cssNumber[A]||nt!=="px"&&+De)&&dn.exec(M.css(T,A));if(At&&At[3]!==nt){for(De=De/2,nt=nt||At[3],At=+De||1;he--;)M.style(T,A,At+nt),(1-se)*(1-(se=Ue()/De||.5))<=0&&(he=0),At=At/se;At=At*2,M.style(T,A,At+nt),j=j||[]}return j&&(At=+At||+De||0,oe=j[1]?At+(j[1]+1)*j[2]:+j[2],Y&&(Y.unit=nt,Y.start=At,Y.end=oe)),oe}var Ee={};function ae(T){var A,j=T.ownerDocument,Y=T.nodeName,oe=Ee[Y];return oe||(A=j.body.appendChild(j.createElement(Y)),oe=M.css(A,"display"),A.parentNode.removeChild(A),oe==="none"&&(oe="block"),Ee[Y]=oe,oe)}function ue(T,A){for(var j,Y,oe=[],se=0,he=T.length;se<he;se++)Y=T[se],Y.style&&(j=Y.style.display,A?(j==="none"&&(oe[se]=$t.get(Y,"display")||null,oe[se]||(Y.style.display="")),Y.style.display===""&&Ur(Y)&&(oe[se]=ae(Y))):j!=="none"&&(oe[se]="none",$t.set(Y,"display",j)));for(se=0;se<he;se++)oe[se]!=null&&(T[se].style.display=oe[se]);return T}M.fn.extend({show:function(){return ue(this,!0)},hide:function(){return ue(this)},toggle:function(T){return typeof T=="boolean"?T?this.show():this.hide():this.each(function(){Ur(this)?M(this).show():M(this).hide()})}});var Pe=/^(?:checkbox|radio)$/i,Be=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ze=/^$|^module$|\/(?:java|ecma)script/i;(function(){var T=$.createDocumentFragment(),A=T.appendChild($.createElement("div")),j=$.createElement("input");j.setAttribute("type","radio"),j.setAttribute("checked","checked"),j.setAttribute("name","t"),A.appendChild(j),F.checkClone=A.cloneNode(!0).cloneNode(!0).lastChild.checked,A.innerHTML="<textarea>x</textarea>",F.noCloneChecked=!!A.cloneNode(!0).lastChild.defaultValue,A.innerHTML="<option></option>",F.option=!!A.lastChild})();var et={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};et.tbody=et.tfoot=et.colgroup=et.caption=et.thead,et.th=et.td,F.option||(et.optgroup=et.option=[1,"<select multiple='multiple'>","</select>"]);function Qe(T,A){var j;return typeof T.getElementsByTagName<"u"?j=T.getElementsByTagName(A||"*"):typeof T.querySelectorAll<"u"?j=T.querySelectorAll(A||"*"):j=[],A===void 0||A&&ce(T,A)?M.merge([T],j):j}function Xe(T,A){for(var j=0,Y=T.length;j<Y;j++)$t.set(T[j],"globalEval",!A||$t.get(A[j],"globalEval"))}var it=/<|&#?\w+;/;function Nt(T,A,j,Y,oe){for(var se,he,Ue,De,nt,At,jt=A.createDocumentFragment(),vt=[],cn=0,or=T.length;cn<or;cn++)if(se=T[cn],se||se===0)if(Q(se)==="object")M.merge(vt,se.nodeType?[se]:se);else if(!it.test(se))vt.push(A.createTextNode(se));else{for(he=he||jt.appendChild(A.createElement("div")),Ue=(Be.exec(se)||["",""])[1].toLowerCase(),De=et[Ue]||et._default,he.innerHTML=De[1]+M.htmlPrefilter(se)+De[2],At=De[0];At--;)he=he.lastChild;M.merge(vt,he.childNodes),he=jt.firstChild,he.textContent=""}for(jt.textContent="",cn=0;se=vt[cn++];){if(Y&&M.inArray(se,Y)>-1){oe&&oe.push(se);continue}if(nt=Qn(se),he=Qe(jt.appendChild(se),"script"),nt&&Xe(he),j)for(At=0;se=he[At++];)Ze.test(se.type||"")&&j.push(se)}return jt}var Kt=/^([^.]*)(?:\.(.+)|)/;function Ut(){return!0}function Xn(){return!1}function nr(T,A,j,Y,oe,se){var he,Ue;if(typeof A=="object"){typeof j!="string"&&(Y=Y||j,j=void 0);for(Ue in A)nr(T,Ue,j,Y,A[Ue],se);return T}if(Y==null&&oe==null?(oe=j,Y=j=void 0):oe==null&&(typeof j=="string"?(oe=Y,Y=void 0):(oe=Y,Y=j,j=void 0)),oe===!1)oe=Xn;else if(!oe)return T;return se===1&&(he=oe,oe=function(De){return M().off(De),he.apply(this,arguments)},oe.guid=he.guid||(he.guid=M.guid++)),T.each(function(){M.event.add(this,A,oe,Y,j)})}M.event={global:{},add:function(T,A,j,Y,oe){var se,he,Ue,De,nt,At,jt,vt,cn,or,Tr,vr=$t.get(T);if(Zn(T))for(j.handler&&(se=j,j=se.handler,oe=se.selector),oe&&M.find.matchesSelector(zn,oe),j.guid||(j.guid=M.guid++),(De=vr.events)||(De=vr.events=Object.create(null)),(he=vr.handle)||(he=vr.handle=function(Ii){return typeof M<"u"&&M.event.triggered!==Ii.type?M.event.dispatch.apply(T,arguments):void 0}),A=(A||"").match(_t)||[""],nt=A.length;nt--;)Ue=Kt.exec(A[nt])||[],cn=Tr=Ue[1],or=(Ue[2]||"").split(".").sort(),cn&&(jt=M.event.special[cn]||{},cn=(oe?jt.delegateType:jt.bindType)||cn,jt=M.event.special[cn]||{},At=M.extend({type:cn,origType:Tr,data:Y,handler:j,guid:j.guid,selector:oe,needsContext:oe&&M.expr.match.needsContext.test(oe),namespace:or.join(".")},se),(vt=De[cn])||(vt=De[cn]=[],vt.delegateCount=0,(!jt.setup||jt.setup.call(T,Y,or,he)===!1)&&T.addEventListener&&T.addEventListener(cn,he)),jt.add&&(jt.add.call(T,At),At.handler.guid||(At.handler.guid=j.guid)),oe?vt.splice(vt.delegateCount++,0,At):vt.push(At),M.event.global[cn]=!0)},remove:function(T,A,j,Y,oe){var se,he,Ue,De,nt,At,jt,vt,cn,or,Tr,vr=$t.hasData(T)&&$t.get(T);if(!(!vr||!(De=vr.events))){for(A=(A||"").match(_t)||[""],nt=A.length;nt--;){if(Ue=Kt.exec(A[nt])||[],cn=Tr=Ue[1],or=(Ue[2]||"").split(".").sort(),!cn){for(cn in De)M.event.remove(T,cn+A[nt],j,Y,!0);continue}for(jt=M.event.special[cn]||{},cn=(Y?jt.delegateType:jt.bindType)||cn,vt=De[cn]||[],Ue=Ue[2]&&new RegExp("(^|\\.)"+or.join("\\.(?:.*\\.|)")+"(\\.|$)"),he=se=vt.length;se--;)At=vt[se],(oe||Tr===At.origType)&&(!j||j.guid===At.guid)&&(!Ue||Ue.test(At.namespace))&&(!Y||Y===At.selector||Y==="**"&&At.selector)&&(vt.splice(se,1),At.selector&&vt.delegateCount--,jt.remove&&jt.remove.call(T,At));he&&!vt.length&&((!jt.teardown||jt.teardown.call(T,or,vr.handle)===!1)&&M.removeEvent(T,cn,vr.handle),delete De[cn])}M.isEmptyObject(De)&&$t.remove(T,"handle events")}},dispatch:function(T){var A,j,Y,oe,se,he,Ue=new Array(arguments.length),De=M.event.fix(T),nt=($t.get(this,"events")||Object.create(null))[De.type]||[],At=M.event.special[De.type]||{};for(Ue[0]=De,A=1;A<arguments.length;A++)Ue[A]=arguments[A];if(De.delegateTarget=this,!(At.preDispatch&&At.preDispatch.call(this,De)===!1)){for(he=M.event.handlers.call(this,De,nt),A=0;(oe=he[A++])&&!De.isPropagationStopped();)for(De.currentTarget=oe.elem,j=0;(se=oe.handlers[j++])&&!De.isImmediatePropagationStopped();)(!De.rnamespace||se.namespace===!1||De.rnamespace.test(se.namespace))&&(De.handleObj=se,De.data=se.data,Y=((M.event.special[se.origType]||{}).handle||se.handler).apply(oe.elem,Ue),Y!==void 0&&(De.result=Y)===!1&&(De.preventDefault(),De.stopPropagation()));return At.postDispatch&&At.postDispatch.call(this,De),De.result}},handlers:function(T,A){var j,Y,oe,se,he,Ue=[],De=A.delegateCount,nt=T.target;if(De&&nt.nodeType&&!(T.type==="click"&&T.button>=1)){for(;nt!==this;nt=nt.parentNode||this)if(nt.nodeType===1&&!(T.type==="click"&&nt.disabled===!0)){for(se=[],he={},j=0;j<De;j++)Y=A[j],oe=Y.selector+" ",he[oe]===void 0&&(he[oe]=Y.needsContext?M(oe,this).index(nt)>-1:M.find(oe,this,null,[nt]).length),he[oe]&&se.push(Y);se.length&&Ue.push({elem:nt,handlers:se})}}return nt=this,De<A.length&&Ue.push({elem:nt,handlers:A.slice(De)}),Ue},addProp:function(T,A){Object.defineProperty(M.Event.prototype,T,{enumerable:!0,configurable:!0,get:L(A)?function(){if(this.originalEvent)return A(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[T]},set:function(j){Object.defineProperty(this,T,{enumerable:!0,configurable:!0,writable:!0,value:j})}})},fix:function(T){return T[M.expando]?T:new M.Event(T)},special:{load:{noBubble:!0},click:{setup:function(T){var A=this||T;return Pe.test(A.type)&&A.click&&ce(A,"input")&&Kn(A,"click",!0),!1},trigger:function(T){var A=this||T;return Pe.test(A.type)&&A.click&&ce(A,"input")&&Kn(A,"click"),!0},_default:function(T){var A=T.target;return Pe.test(A.type)&&A.click&&ce(A,"input")&&$t.get(A,"click")||ce(A,"a")}},beforeunload:{postDispatch:function(T){T.result!==void 0&&T.originalEvent&&(T.originalEvent.returnValue=T.result)}}}};function Kn(T,A,j){if(!j){$t.get(T,A)===void 0&&M.event.add(T,A,Ut);return}$t.set(T,A,!1),M.event.add(T,A,{namespace:!1,handler:function(Y){var oe,se=$t.get(this,A);if(Y.isTrigger&1&&this[A]){if(se)(M.event.special[A]||{}).delegateType&&Y.stopPropagation();else if(se=u.call(arguments),$t.set(this,A,se),this[A](),oe=$t.get(this,A),$t.set(this,A,!1),se!==oe)return Y.stopImmediatePropagation(),Y.preventDefault(),oe}else se&&($t.set(this,A,M.event.trigger(se[0],se.slice(1),this)),Y.stopPropagation(),Y.isImmediatePropagationStopped=Ut)}})}M.removeEvent=function(T,A,j){T.removeEventListener&&T.removeEventListener(A,j)},M.Event=function(T,A){if(!(this instanceof M.Event))return new M.Event(T,A);T&&T.type?(this.originalEvent=T,this.type=T.type,this.isDefaultPrevented=T.defaultPrevented||T.defaultPrevented===void 0&&T.returnValue===!1?Ut:Xn,this.target=T.target&&T.target.nodeType===3?T.target.parentNode:T.target,this.currentTarget=T.currentTarget,this.relatedTarget=T.relatedTarget):this.type=T,A&&M.extend(this,A),this.timeStamp=T&&T.timeStamp||Date.now(),this[M.expando]=!0},M.Event.prototype={constructor:M.Event,isDefaultPrevented:Xn,isPropagationStopped:Xn,isImmediatePropagationStopped:Xn,isSimulated:!1,preventDefault:function(){var T=this.originalEvent;this.isDefaultPrevented=Ut,T&&!this.isSimulated&&T.preventDefault()},stopPropagation:function(){var T=this.originalEvent;this.isPropagationStopped=Ut,T&&!this.isSimulated&&T.stopPropagation()},stopImmediatePropagation:function(){var T=this.originalEvent;this.isImmediatePropagationStopped=Ut,T&&!this.isSimulated&&T.stopImmediatePropagation(),this.stopPropagation()}},M.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},M.event.addProp),M.each({focus:"focusin",blur:"focusout"},function(T,A){function j(Y){if($.documentMode){var oe=$t.get(this,"handle"),se=M.event.fix(Y);se.type=Y.type==="focusin"?"focus":"blur",se.isSimulated=!0,oe(Y),se.target===se.currentTarget&&oe(se)}else M.event.simulate(A,Y.target,M.event.fix(Y))}M.event.special[T]={setup:function(){var Y;if(Kn(this,T,!0),$.documentMode)Y=$t.get(this,A),Y||this.addEventListener(A,j),$t.set(this,A,(Y||0)+1);else return!1},trigger:function(){return Kn(this,T),!0},teardown:function(){var Y;if($.documentMode)Y=$t.get(this,A)-1,Y?$t.set(this,A,Y):(this.removeEventListener(A,j),$t.remove(this,A));else return!1},_default:function(Y){return $t.get(Y.target,T)},delegateType:A},M.event.special[A]={setup:function(){var Y=this.ownerDocument||this.document||this,oe=$.documentMode?this:Y,se=$t.get(oe,A);se||($.documentMode?this.addEventListener(A,j):Y.addEventListener(T,j,!0)),$t.set(oe,A,(se||0)+1)},teardown:function(){var Y=this.ownerDocument||this.document||this,oe=$.documentMode?this:Y,se=$t.get(oe,A)-1;se?$t.set(oe,A,se):($.documentMode?this.removeEventListener(A,j):Y.removeEventListener(T,j,!0),$t.remove(oe,A))}}}),M.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(T,A){M.event.special[T]={delegateType:A,bindType:A,handle:function(j){var Y,oe=this,se=j.relatedTarget,he=j.handleObj;return(!se||se!==oe&&!M.contains(oe,se))&&(j.type=he.origType,Y=he.handler.apply(this,arguments),j.type=A),Y}}}),M.fn.extend({on:function(T,A,j,Y){return nr(this,T,A,j,Y)},one:function(T,A,j,Y){return nr(this,T,A,j,Y,1)},off:function(T,A,j){var Y,oe;if(T&&T.preventDefault&&T.handleObj)return Y=T.handleObj,M(T.delegateTarget).off(Y.namespace?Y.origType+"."+Y.namespace:Y.origType,Y.selector,Y.handler),this;if(typeof T=="object"){for(oe in T)this.off(oe,A,T[oe]);return this}return(A===!1||typeof A=="function")&&(j=A,A=void 0),j===!1&&(j=Xn),this.each(function(){M.event.remove(this,T,j,A)})}});var rr=/<script|<style|<link/i,pr=/checked\s*(?:[^=]|=\s*.checked.)/i,Br=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function jr(T,A){return ce(T,"table")&&ce(A.nodeType!==11?A:A.firstChild,"tr")&&M(T).children("tbody")[0]||T}function wi(T){return T.type=(T.getAttribute("type")!==null)+"/"+T.type,T}function ut(T){return(T.type||"").slice(0,5)==="true/"?T.type=T.type.slice(5):T.removeAttribute("type"),T}function xt(T,A){var j,Y,oe,se,he,Ue,De;if(A.nodeType===1){if($t.hasData(T)&&(se=$t.get(T),De=se.events,De)){$t.remove(A,"handle events");for(oe in De)for(j=0,Y=De[oe].length;j<Y;j++)M.event.add(A,oe,De[oe][j])}Dn.hasData(T)&&(he=Dn.access(T),Ue=M.extend({},he),Dn.set(A,Ue))}}function _n(T,A){var j=A.nodeName.toLowerCase();j==="input"&&Pe.test(T.type)?A.checked=T.checked:(j==="input"||j==="textarea")&&(A.defaultValue=T.defaultValue)}function Rn(T,A,j,Y){A=f(A);var oe,se,he,Ue,De,nt,At=0,jt=T.length,vt=jt-1,cn=A[0],or=L(cn);if(or||jt>1&&typeof cn=="string"&&!F.checkClone&&pr.test(cn))return T.each(function(Tr){var vr=T.eq(Tr);or&&(A[0]=cn.call(this,Tr,vr.html())),Rn(vr,A,j,Y)});if(jt&&(oe=Nt(A,T[0].ownerDocument,!1,T,Y),se=oe.firstChild,oe.childNodes.length===1&&(oe=se),se||Y)){for(he=M.map(Qe(oe,"script"),wi),Ue=he.length;At<jt;At++)De=oe,At!==vt&&(De=M.clone(De,!0,!0),Ue&&M.merge(he,Qe(De,"script"))),j.call(T[At],De,At);if(Ue)for(nt=he[he.length-1].ownerDocument,M.map(he,ut),At=0;At<Ue;At++)De=he[At],Ze.test(De.type||"")&&!$t.access(De,"globalEval")&&M.contains(nt,De)&&(De.src&&(De.type||"").toLowerCase()!=="module"?M._evalUrl&&!De.noModule&&M._evalUrl(De.src,{nonce:De.nonce||De.getAttribute("nonce")},nt):G(De.textContent.replace(Br,""),De,nt))}return T}function Mr(T,A,j){for(var Y,oe=A?M.filter(A,T):T,se=0;(Y=oe[se])!=null;se++)!j&&Y.nodeType===1&&M.cleanData(Qe(Y)),Y.parentNode&&(j&&Qn(Y)&&Xe(Qe(Y,"script")),Y.parentNode.removeChild(Y));return T}M.extend({htmlPrefilter:function(T){return T},clone:function(T,A,j){var Y,oe,se,he,Ue=T.cloneNode(!0),De=Qn(T);if(!F.noCloneChecked&&(T.nodeType===1||T.nodeType===11)&&!M.isXMLDoc(T))for(he=Qe(Ue),se=Qe(T),Y=0,oe=se.length;Y<oe;Y++)_n(se[Y],he[Y]);if(A)if(j)for(se=se||Qe(T),he=he||Qe(Ue),Y=0,oe=se.length;Y<oe;Y++)xt(se[Y],he[Y]);else xt(T,Ue);return he=Qe(Ue,"script"),he.length>0&&Xe(he,!De&&Qe(T,"script")),Ue},cleanData:function(T){for(var A,j,Y,oe=M.event.special,se=0;(j=T[se])!==void 0;se++)if(Zn(j)){if(A=j[$t.expando]){if(A.events)for(Y in A.events)oe[Y]?M.event.remove(j,Y):M.removeEvent(j,Y,A.handle);j[$t.expando]=void 0}j[Dn.expando]&&(j[Dn.expando]=void 0)}}}),M.fn.extend({detach:function(T){return Mr(this,T,!0)},remove:function(T){return Mr(this,T)},text:function(T){return on(this,function(A){return A===void 0?M.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=A)})},null,T,arguments.length)},append:function(){return Rn(this,arguments,function(T){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var A=jr(this,T);A.appendChild(T)}})},prepend:function(){return Rn(this,arguments,function(T){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var A=jr(this,T);A.insertBefore(T,A.firstChild)}})},before:function(){return Rn(this,arguments,function(T){this.parentNode&&this.parentNode.insertBefore(T,this)})},after:function(){return Rn(this,arguments,function(T){this.parentNode&&this.parentNode.insertBefore(T,this.nextSibling)})},empty:function(){for(var T,A=0;(T=this[A])!=null;A++)T.nodeType===1&&(M.cleanData(Qe(T,!1)),T.textContent="");return this},clone:function(T,A){return T=T??!1,A=A??T,this.map(function(){return M.clone(this,T,A)})},html:function(T){return on(this,function(A){var j=this[0]||{},Y=0,oe=this.length;if(A===void 0&&j.nodeType===1)return j.innerHTML;if(typeof A=="string"&&!rr.test(A)&&!et[(Be.exec(A)||["",""])[1].toLowerCase()]){A=M.htmlPrefilter(A);try{for(;Y<oe;Y++)j=this[Y]||{},j.nodeType===1&&(M.cleanData(Qe(j,!1)),j.innerHTML=A);j=0}catch{}}j&&this.empty().append(A)},null,T,arguments.length)},replaceWith:function(){var T=[];return Rn(this,arguments,function(A){var j=this.parentNode;M.inArray(this,T)<0&&(M.cleanData(Qe(this)),j&&j.replaceChild(A,this))},T)}}),M.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(T,A){M.fn[T]=function(j){for(var Y,oe=[],se=M(j),he=se.length-1,Ue=0;Ue<=he;Ue++)Y=Ue===he?this:this.clone(!0),M(se[Ue])[A](Y),i.apply(oe,Y.get());return this.pushStack(oe)}});var zi=new RegExp("^("+er+")(?!px)[a-z%]+$","i"),_i=/^--/,ir=function(T){var A=T.ownerDocument.defaultView;return(!A||!A.opener)&&(A=t),A.getComputedStyle(T)},dl=function(T,A,j){var Y,oe,se={};for(oe in A)se[oe]=T.style[oe],T.style[oe]=A[oe];Y=j.call(T);for(oe in A)T.style[oe]=se[oe];return Y},zc=new RegExp(yn.join("|"),"i");(function(){function T(){if(nt){De.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",nt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",zn.appendChild(De).appendChild(nt);var At=t.getComputedStyle(nt);j=At.top!=="1%",Ue=A(At.marginLeft)===12,nt.style.right="60%",se=A(At.right)===36,Y=A(At.width)===36,nt.style.position="absolute",oe=A(nt.offsetWidth/3)===12,zn.removeChild(De),nt=null}}function A(At){return Math.round(parseFloat(At))}var j,Y,oe,se,he,Ue,De=$.createElement("div"),nt=$.createElement("div");nt.style&&(nt.style.backgroundClip="content-box",nt.cloneNode(!0).style.backgroundClip="",F.clearCloneStyle=nt.style.backgroundClip==="content-box",M.extend(F,{boxSizingReliable:function(){return T(),Y},pixelBoxStyles:function(){return T(),se},pixelPosition:function(){return T(),j},reliableMarginLeft:function(){return T(),Ue},scrollboxSize:function(){return T(),oe},reliableTrDimensions:function(){var At,jt,vt,cn;return he==null&&(At=$.createElement("table"),jt=$.createElement("tr"),vt=$.createElement("div"),At.style.cssText="position:absolute;left:-11111px;border-collapse:separate",jt.style.cssText="border:1px solid",jt.style.height="1px",vt.style.height="9px",vt.style.display="block",zn.appendChild(At).appendChild(jt).appendChild(vt),cn=t.getComputedStyle(jt),he=parseInt(cn.height,10)+parseInt(cn.borderTopWidth,10)+parseInt(cn.borderBottomWidth,10)===jt.offsetHeight,zn.removeChild(At)),he}}))})();function hl(T,A,j){var Y,oe,se,he,Ue=_i.test(A),De=T.style;return j=j||ir(T),j&&(he=j.getPropertyValue(A)||j[A],Ue&&he&&(he=he.replace(we,"$1")||void 0),he===""&&!Qn(T)&&(he=M.style(T,A)),!F.pixelBoxStyles()&&zi.test(he)&&zc.test(A)&&(Y=De.width,oe=De.minWidth,se=De.maxWidth,De.minWidth=De.maxWidth=De.width=he,he=j.width,De.width=Y,De.minWidth=oe,De.maxWidth=se)),he!==void 0?he+"":he}function Lc(T,A){return{get:function(){if(T()){delete this.get;return}return(this.get=A).apply(this,arguments)}}}var ws=["Webkit","Moz","ms"],zs=$.createElement("div").style,Cu={};function Md(T){for(var A=T[0].toUpperCase()+T.slice(1),j=ws.length;j--;)if(T=ws[j]+A,T in zs)return T}function ia(T){var A=M.cssProps[T]||Cu[T];return A||(T in zs?T:Cu[T]=Md(T)||T)}var oa=/^(none|table(?!-c[ea]).+)/,Oc={position:"absolute",visibility:"hidden",display:"block"},Pt={letterSpacing:"0",fontWeight:"400"};function Ls(T,A,j){var Y=dn.exec(A);return Y?Math.max(0,Y[2]-(j||0))+(Y[3]||"px"):A}function Si(T,A,j,Y,oe,se){var he=A==="width"?1:0,Ue=0,De=0,nt=0;if(j===(Y?"border":"content"))return 0;for(;he<4;he+=2)j==="margin"&&(nt+=M.css(T,j+yn[he],!0,oe)),Y?(j==="content"&&(De-=M.css(T,"padding"+yn[he],!0,oe)),j!=="margin"&&(De-=M.css(T,"border"+yn[he]+"Width",!0,oe))):(De+=M.css(T,"padding"+yn[he],!0,oe),j!=="padding"?De+=M.css(T,"border"+yn[he]+"Width",!0,oe):Ue+=M.css(T,"border"+yn[he]+"Width",!0,oe));return!Y&&se>=0&&(De+=Math.max(0,Math.ceil(T["offset"+A[0].toUpperCase()+A.slice(1)]-se-De-Ue-.5))||0),De+nt}function Ui(T,A,j){var Y=ir(T),oe=!F.boxSizingReliable()||j,se=oe&&M.css(T,"boxSizing",!1,Y)==="border-box",he=se,Ue=hl(T,A,Y),De="offset"+A[0].toUpperCase()+A.slice(1);if(zi.test(Ue)){if(!j)return Ue;Ue="auto"}return(!F.boxSizingReliable()&&se||!F.reliableTrDimensions()&&ce(T,"tr")||Ue==="auto"||!parseFloat(Ue)&&M.css(T,"display",!1,Y)==="inline")&&T.getClientRects().length&&(se=M.css(T,"boxSizing",!1,Y)==="border-box",he=De in T,he&&(Ue=T[De])),Ue=parseFloat(Ue)||0,Ue+Si(T,A,j||(se?"border":"content"),he,Y,Ue)+"px"}M.extend({cssHooks:{opacity:{get:function(T,A){if(A){var j=hl(T,"opacity");return j===""?"1":j}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(T,A,j,Y){if(!(!T||T.nodeType===3||T.nodeType===8||!T.style)){var oe,se,he,Ue=Tn(A),De=_i.test(A),nt=T.style;if(De||(A=ia(Ue)),he=M.cssHooks[A]||M.cssHooks[Ue],j!==void 0){if(se=typeof j,se==="string"&&(oe=dn.exec(j))&&oe[1]&&(j=yi(T,A,oe),se="number"),j==null||j!==j)return;se==="number"&&!De&&(j+=oe&&oe[3]||(M.cssNumber[Ue]?"":"px")),!F.clearCloneStyle&&j===""&&A.indexOf("background")===0&&(nt[A]="inherit"),(!he||!("set"in he)||(j=he.set(T,j,Y))!==void 0)&&(De?nt.setProperty(A,j):nt[A]=j)}else return he&&"get"in he&&(oe=he.get(T,!1,Y))!==void 0?oe:nt[A]}},css:function(T,A,j,Y){var oe,se,he,Ue=Tn(A),De=_i.test(A);return De||(A=ia(Ue)),he=M.cssHooks[A]||M.cssHooks[Ue],he&&"get"in he&&(oe=he.get(T,!0,j)),oe===void 0&&(oe=hl(T,A,Y)),oe==="normal"&&A in Pt&&(oe=Pt[A]),j===""||j?(se=parseFloat(oe),j===!0||isFinite(se)?se||0:oe):oe}}),M.each(["height","width"],function(T,A){M.cssHooks[A]={get:function(j,Y,oe){if(Y)return oa.test(M.css(j,"display"))&&(!j.getClientRects().length||!j.getBoundingClientRect().width)?dl(j,Oc,function(){return Ui(j,A,oe)}):Ui(j,A,oe)},set:function(j,Y,oe){var se,he=ir(j),Ue=!F.scrollboxSize()&&he.position==="absolute",De=Ue||oe,nt=De&&M.css(j,"boxSizing",!1,he)==="border-box",At=oe?Si(j,A,oe,nt,he):0;return nt&&Ue&&(At-=Math.ceil(j["offset"+A[0].toUpperCase()+A.slice(1)]-parseFloat(he[A])-Si(j,A,"border",!1,he)-.5)),At&&(se=dn.exec(Y))&&(se[3]||"px")!=="px"&&(j.style[A]=Y,Y=M.css(j,A)),Ls(j,Y,At)}}}),M.cssHooks.marginLeft=Lc(F.reliableMarginLeft,function(T,A){if(A)return(parseFloat(hl(T,"marginLeft"))||T.getBoundingClientRect().left-dl(T,{marginLeft:0},function(){return T.getBoundingClientRect().left}))+"px"}),M.each({margin:"",padding:"",border:"Width"},function(T,A){M.cssHooks[T+A]={expand:function(j){for(var Y=0,oe={},se=typeof j=="string"?j.split(" "):[j];Y<4;Y++)oe[T+yn[Y]+A]=se[Y]||se[Y-2]||se[0];return oe}},T!=="margin"&&(M.cssHooks[T+A].set=Ls)}),M.fn.extend({css:function(T,A){return on(this,function(j,Y,oe){var se,he,Ue={},De=0;if(Array.isArray(Y)){for(se=ir(j),he=Y.length;De<he;De++)Ue[Y[De]]=M.css(j,Y[De],!1,se);return Ue}return oe!==void 0?M.style(j,Y,oe):M.css(j,Y)},T,A,arguments.length>1)}});function So(T,A,j,Y,oe){return new So.prototype.init(T,A,j,Y,oe)}M.Tween=So,So.prototype={constructor:So,init:function(T,A,j,Y,oe,se){this.elem=T,this.prop=j,this.easing=oe||M.easing._default,this.options=A,this.start=this.now=this.cur(),this.end=Y,this.unit=se||(M.cssNumber[j]?"":"px")},cur:function(){var T=So.propHooks[this.prop];return T&&T.get?T.get(this):So.propHooks._default.get(this)},run:function(T){var A,j=So.propHooks[this.prop];return this.options.duration?this.pos=A=M.easing[this.easing](T,this.options.duration*T,0,1,this.options.duration):this.pos=A=T,this.now=(this.end-this.start)*A+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),j&&j.set?j.set(this):So.propHooks._default.set(this),this}},So.prototype.init.prototype=So.prototype,So.propHooks={_default:{get:function(T){var A;return T.elem.nodeType!==1||T.elem[T.prop]!=null&&T.elem.style[T.prop]==null?T.elem[T.prop]:(A=M.css(T.elem,T.prop,""),!A||A==="auto"?0:A)},set:function(T){M.fx.step[T.prop]?M.fx.step[T.prop](T):T.elem.nodeType===1&&(M.cssHooks[T.prop]||T.elem.style[ia(T.prop)]!=null)?M.style(T.elem,T.prop,T.now+T.unit):T.elem[T.prop]=T.now}}},So.propHooks.scrollTop=So.propHooks.scrollLeft={set:function(T){T.elem.nodeType&&T.elem.parentNode&&(T.elem[T.prop]=T.now)}},M.easing={linear:function(T){return T},swing:function(T){return .5-Math.cos(T*Math.PI)/2},_default:"swing"},M.fx=So.prototype.init,M.fx.step={};var To,Vl,Yh=/^(?:toggle|show|hide)$/,Ul=/queueHooks$/;function pn(){Vl&&($.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(pn):t.setTimeout(pn,M.fx.interval),M.fx.tick())}function xr(){return t.setTimeout(function(){To=void 0}),To=Date.now()}function fr(T,A){var j,Y=0,oe={height:T};for(A=A?1:0;Y<4;Y+=2-A)j=yn[Y],oe["margin"+j]=oe["padding"+j]=T;return A&&(oe.opacity=oe.width=T),oe}function zo(T,A,j){for(var Y,oe=(Ti.tweeners[A]||[]).concat(Ti.tweeners["*"]),se=0,he=oe.length;se<he;se++)if(Y=oe[se].call(j,A,T))return Y}function Ss(T,A,j){var Y,oe,se,he,Ue,De,nt,At,jt="width"in A||"height"in A,vt=this,cn={},or=T.style,Tr=T.nodeType&&Ur(T),vr=$t.get(T,"fxshow");j.queue||(he=M._queueHooks(T,"fx"),he.unqueued==null&&(he.unqueued=0,Ue=he.empty.fire,he.empty.fire=function(){he.unqueued||Ue()}),he.unqueued++,vt.always(function(){vt.always(function(){he.unqueued--,M.queue(T,"fx").length||he.empty.fire()})}));for(Y in A)if(oe=A[Y],Yh.test(oe)){if(delete A[Y],se=se||oe==="toggle",oe===(Tr?"hide":"show"))if(oe==="show"&&vr&&vr[Y]!==void 0)Tr=!0;else continue;cn[Y]=vr&&vr[Y]||M.style(T,Y)}if(De=!M.isEmptyObject(A),!(!De&&M.isEmptyObject(cn))){jt&&T.nodeType===1&&(j.overflow=[or.overflow,or.overflowX,or.overflowY],nt=vr&&vr.display,nt==null&&(nt=$t.get(T,"display")),At=M.css(T,"display"),At==="none"&&(nt?At=nt:(ue([T],!0),nt=T.style.display||nt,At=M.css(T,"display"),ue([T]))),(At==="inline"||At==="inline-block"&&nt!=null)&&M.css(T,"float")==="none"&&(De||(vt.done(function(){or.display=nt}),nt==null&&(At=or.display,nt=At==="none"?"":At)),or.display="inline-block")),j.overflow&&(or.overflow="hidden",vt.always(function(){or.overflow=j.overflow[0],or.overflowX=j.overflow[1],or.overflowY=j.overflow[2]})),De=!1;for(Y in cn)De||(vr?"hidden"in vr&&(Tr=vr.hidden):vr=$t.access(T,"fxshow",{display:nt}),se&&(vr.hidden=!Tr),Tr&&ue([T],!0),vt.done(function(){Tr||ue([T]),$t.remove(T,"fxshow");for(Y in cn)M.style(T,Y,cn[Y])})),De=zo(Tr?vr[Y]:0,Y,vt),Y in vr||(vr[Y]=De.start,Tr&&(De.end=De.start,De.start=0))}}function _r(T,A){var j,Y,oe,se,he;for(j in T)if(Y=Tn(j),oe=A[Y],se=T[j],Array.isArray(se)&&(oe=se[1],se=T[j]=se[0]),j!==Y&&(T[Y]=se,delete T[j]),he=M.cssHooks[Y],he&&"expand"in he){se=he.expand(se),delete T[Y];for(j in se)j in T||(T[j]=se[j],A[j]=oe)}else A[Y]=oe}function Ti(T,A,j){var Y,oe,se=0,he=Ti.prefilters.length,Ue=M.Deferred().always(function(){delete De.elem}),De=function(){if(oe)return!1;for(var jt=To||xr(),vt=Math.max(0,nt.startTime+nt.duration-jt),cn=vt/nt.duration||0,or=1-cn,Tr=0,vr=nt.tweens.length;Tr<vr;Tr++)nt.tweens[Tr].run(or);return Ue.notifyWith(T,[nt,or,vt]),or<1&&vr?vt:(vr||Ue.notifyWith(T,[nt,1,0]),Ue.resolveWith(T,[nt]),!1)},nt=Ue.promise({elem:T,props:M.extend({},A),opts:M.extend(!0,{specialEasing:{},easing:M.easing._default},j),originalProperties:A,originalOptions:j,startTime:To||xr(),duration:j.duration,tweens:[],createTween:function(jt,vt){var cn=M.Tween(T,nt.opts,jt,vt,nt.opts.specialEasing[jt]||nt.opts.easing);return nt.tweens.push(cn),cn},stop:function(jt){var vt=0,cn=jt?nt.tweens.length:0;if(oe)return this;for(oe=!0;vt<cn;vt++)nt.tweens[vt].run(1);return jt?(Ue.notifyWith(T,[nt,1,0]),Ue.resolveWith(T,[nt,jt])):Ue.rejectWith(T,[nt,jt]),this}}),At=nt.props;for(_r(At,nt.opts.specialEasing);se<he;se++)if(Y=Ti.prefilters[se].call(nt,T,At,nt.opts),Y)return L(Y.stop)&&(M._queueHooks(nt.elem,nt.opts.queue).stop=Y.stop.bind(Y)),Y;return M.map(At,zo,nt),L(nt.opts.start)&&nt.opts.start.call(T,nt),nt.progress(nt.opts.progress).done(nt.opts.done,nt.opts.complete).fail(nt.opts.fail).always(nt.opts.always),M.fx.timer(M.extend(De,{elem:T,anim:nt,queue:nt.opts.queue})),nt}M.Animation=M.extend(Ti,{tweeners:{"*":[function(T,A){var j=this.createTween(T,A);return yi(j.elem,T,dn.exec(A),j),j}]},tweener:function(T,A){L(T)?(A=T,T=["*"]):T=T.match(_t);for(var j,Y=0,oe=T.length;Y<oe;Y++)j=T[Y],Ti.tweeners[j]=Ti.tweeners[j]||[],Ti.tweeners[j].unshift(A)},prefilters:[Ss],prefilter:function(T,A){A?Ti.prefilters.unshift(T):Ti.prefilters.push(T)}}),M.speed=function(T,A,j){var Y=T&&typeof T=="object"?M.extend({},T):{complete:j||!j&&A||L(T)&&T,duration:T,easing:j&&A||A&&!L(A)&&A};return M.fx.off?Y.duration=0:typeof Y.duration!="number"&&(Y.duration in M.fx.speeds?Y.duration=M.fx.speeds[Y.duration]:Y.duration=M.fx.speeds._default),(Y.queue==null||Y.queue===!0)&&(Y.queue="fx"),Y.old=Y.complete,Y.complete=function(){L(Y.old)&&Y.old.call(this),Y.queue&&M.dequeue(this,Y.queue)},Y},M.fn.extend({fadeTo:function(T,A,j,Y){return this.filter(Ur).css("opacity",0).show().end().animate({opacity:A},T,j,Y)},animate:function(T,A,j,Y){var oe=M.isEmptyObject(T),se=M.speed(A,j,Y),he=function(){var Ue=Ti(this,M.extend({},T),se);(oe||$t.get(this,"finish"))&&Ue.stop(!0)};return he.finish=he,oe||se.queue===!1?this.each(he):this.queue(se.queue,he)},stop:function(T,A,j){var Y=function(oe){var se=oe.stop;delete oe.stop,se(j)};return typeof T!="string"&&(j=A,A=T,T=void 0),A&&this.queue(T||"fx",[]),this.each(function(){var oe=!0,se=T!=null&&T+"queueHooks",he=M.timers,Ue=$t.get(this);if(se)Ue[se]&&Ue[se].stop&&Y(Ue[se]);else for(se in Ue)Ue[se]&&Ue[se].stop&&Ul.test(se)&&Y(Ue[se]);for(se=he.length;se--;)he[se].elem===this&&(T==null||he[se].queue===T)&&(he[se].anim.stop(j),oe=!1,he.splice(se,1));(oe||!j)&&M.dequeue(this,T)})},finish:function(T){return T!==!1&&(T=T||"fx"),this.each(function(){var A,j=$t.get(this),Y=j[T+"queue"],oe=j[T+"queueHooks"],se=M.timers,he=Y?Y.length:0;for(j.finish=!0,M.queue(this,T,[]),oe&&oe.stop&&oe.stop.call(this,!0),A=se.length;A--;)se[A].elem===this&&se[A].queue===T&&(se[A].anim.stop(!0),se.splice(A,1));for(A=0;A<he;A++)Y[A]&&Y[A].finish&&Y[A].finish.call(this);delete j.finish})}}),M.each(["toggle","show","hide"],function(T,A){var j=M.fn[A];M.fn[A]=function(Y,oe,se){return Y==null||typeof Y=="boolean"?j.apply(this,arguments):this.animate(fr(A,!0),Y,oe,se)}}),M.each({slideDown:fr("show"),slideUp:fr("hide"),slideToggle:fr("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(T,A){M.fn[T]=function(j,Y,oe){return this.animate(A,j,Y,oe)}}),M.timers=[],M.fx.tick=function(){var T,A=0,j=M.timers;for(To=Date.now();A<j.length;A++)T=j[A],!T()&&j[A]===T&&j.splice(A--,1);j.length||M.fx.stop(),To=void 0},M.fx.timer=function(T){M.timers.push(T),M.fx.start()},M.fx.interval=13,M.fx.start=function(){Vl||(Vl=!0,pn())},M.fx.stop=function(){Vl=null},M.fx.speeds={slow:600,fast:200,_default:400},M.fn.delay=function(T,A){return T=M.fx&&M.fx.speeds[T]||T,A=A||"fx",this.queue(A,function(j,Y){var oe=t.setTimeout(j,T);Y.stop=function(){t.clearTimeout(oe)}})},function(){var T=$.createElement("input"),A=$.createElement("select"),j=A.appendChild($.createElement("option"));T.type="checkbox",F.checkOn=T.value!=="",F.optSelected=j.selected,T=$.createElement("input"),T.value="t",T.type="radio",F.radioValue=T.value==="t"}();var Wl,Ts=M.expr.attrHandle;M.fn.extend({attr:function(T,A){return on(this,M.attr,T,A,arguments.length>1)},removeAttr:function(T){return this.each(function(){M.removeAttr(this,T)})}}),M.extend({attr:function(T,A,j){var Y,oe,se=T.nodeType;if(!(se===3||se===8||se===2)){if(typeof T.getAttribute>"u")return M.prop(T,A,j);if((se!==1||!M.isXMLDoc(T))&&(oe=M.attrHooks[A.toLowerCase()]||(M.expr.match.bool.test(A)?Wl:void 0)),j!==void 0){if(j===null){M.removeAttr(T,A);return}return oe&&"set"in oe&&(Y=oe.set(T,j,A))!==void 0?Y:(T.setAttribute(A,j+""),j)}return oe&&"get"in oe&&(Y=oe.get(T,A))!==null?Y:(Y=M.find.attr(T,A),Y??void 0)}},attrHooks:{type:{set:function(T,A){if(!F.radioValue&&A==="radio"&&ce(T,"input")){var j=T.value;return T.setAttribute("type",A),j&&(T.value=j),A}}}},removeAttr:function(T,A){var j,Y=0,oe=A&&A.match(_t);if(oe&&T.nodeType===1)for(;j=oe[Y++];)T.removeAttribute(j)}}),Wl={set:function(T,A,j){return A===!1?M.removeAttr(T,j):T.setAttribute(j,j),j}},M.each(M.expr.match.bool.source.match(/\w+/g),function(T,A){var j=Ts[A]||M.find.attr;Ts[A]=function(Y,oe,se){var he,Ue,De=oe.toLowerCase();return se||(Ue=Ts[De],Ts[De]=he,he=j(Y,oe,se)!=null?De:null,Ts[De]=Ue),he}});var rs=/^(?:input|select|textarea|button)$/i,ci=/^(?:a|area)$/i;M.fn.extend({prop:function(T,A){return on(this,M.prop,T,A,arguments.length>1)},removeProp:function(T){return this.each(function(){delete this[M.propFix[T]||T]})}}),M.extend({prop:function(T,A,j){var Y,oe,se=T.nodeType;if(!(se===3||se===8||se===2))return(se!==1||!M.isXMLDoc(T))&&(A=M.propFix[A]||A,oe=M.propHooks[A]),j!==void 0?oe&&"set"in oe&&(Y=oe.set(T,j,A))!==void 0?Y:T[A]=j:oe&&"get"in oe&&(Y=oe.get(T,A))!==null?Y:T[A]},propHooks:{tabIndex:{get:function(T){var A=M.find.attr(T,"tabindex");return A?parseInt(A,10):rs.test(T.nodeName)||ci.test(T.nodeName)&&T.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),F.optSelected||(M.propHooks.selected={get:function(T){var A=T.parentNode;return A&&A.parentNode&&A.parentNode.selectedIndex,null},set:function(T){var A=T.parentNode;A&&(A.selectedIndex,A.parentNode&&A.parentNode.selectedIndex)}}),M.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){M.propFix[this.toLowerCase()]=this});function Ra(T){var A=T.match(_t)||[];return A.join(" ")}function Co(T){return T.getAttribute&&T.getAttribute("class")||""}function pl(T){return Array.isArray(T)?T:typeof T=="string"?T.match(_t)||[]:[]}M.fn.extend({addClass:function(T){var A,j,Y,oe,se,he;return L(T)?this.each(function(Ue){M(this).addClass(T.call(this,Ue,Co(this)))}):(A=pl(T),A.length?this.each(function(){if(Y=Co(this),j=this.nodeType===1&&" "+Ra(Y)+" ",j){for(se=0;se<A.length;se++)oe=A[se],j.indexOf(" "+oe+" ")<0&&(j+=oe+" ");he=Ra(j),Y!==he&&this.setAttribute("class",he)}}):this)},removeClass:function(T){var A,j,Y,oe,se,he;return L(T)?this.each(function(Ue){M(this).removeClass(T.call(this,Ue,Co(this)))}):arguments.length?(A=pl(T),A.length?this.each(function(){if(Y=Co(this),j=this.nodeType===1&&" "+Ra(Y)+" ",j){for(se=0;se<A.length;se++)for(oe=A[se];j.indexOf(" "+oe+" ")>-1;)j=j.replace(" "+oe+" "," ");he=Ra(j),Y!==he&&this.setAttribute("class",he)}}):this):this.attr("class","")},toggleClass:function(T,A){var j,Y,oe,se,he=typeof T,Ue=he==="string"||Array.isArray(T);return L(T)?this.each(function(De){M(this).toggleClass(T.call(this,De,Co(this),A),A)}):typeof A=="boolean"&&Ue?A?this.addClass(T):this.removeClass(T):(j=pl(T),this.each(function(){if(Ue)for(se=M(this),oe=0;oe<j.length;oe++)Y=j[oe],se.hasClass(Y)?se.removeClass(Y):se.addClass(Y);else(T===void 0||he==="boolean")&&(Y=Co(this),Y&&$t.set(this,"__className__",Y),this.setAttribute&&this.setAttribute("class",Y||T===!1?"":$t.get(this,"__className__")||""))}))},hasClass:function(T){var A,j,Y=0;for(A=" "+T+" ";j=this[Y++];)if(j.nodeType===1&&(" "+Ra(Co(j))+" ").indexOf(A)>-1)return!0;return!1}});var Fc=/\r/g;M.fn.extend({val:function(T){var A,j,Y,oe=this[0];return arguments.length?(Y=L(T),this.each(function(se){var he;this.nodeType===1&&(Y?he=T.call(this,se,M(this).val()):he=T,he==null?he="":typeof he=="number"?he+="":Array.isArray(he)&&(he=M.map(he,function(Ue){return Ue==null?"":Ue+""})),A=M.valHooks[this.type]||M.valHooks[this.nodeName.toLowerCase()],(!A||!("set"in A)||A.set(this,he,"value")===void 0)&&(this.value=he))})):oe?(A=M.valHooks[oe.type]||M.valHooks[oe.nodeName.toLowerCase()],A&&"get"in A&&(j=A.get(oe,"value"))!==void 0?j:(j=oe.value,typeof j=="string"?j.replace(Fc,""):j??"")):void 0}}),M.extend({valHooks:{option:{get:function(T){var A=M.find.attr(T,"value");return A??Ra(M.text(T))}},select:{get:function(T){var A,j,Y,oe=T.options,se=T.selectedIndex,he=T.type==="select-one",Ue=he?null:[],De=he?se+1:oe.length;for(se<0?Y=De:Y=he?se:0;Y<De;Y++)if(j=oe[Y],(j.selected||Y===se)&&!j.disabled&&(!j.parentNode.disabled||!ce(j.parentNode,"optgroup"))){if(A=M(j).val(),he)return A;Ue.push(A)}return Ue},set:function(T,A){for(var j,Y,oe=T.options,se=M.makeArray(A),he=oe.length;he--;)Y=oe[he],(Y.selected=M.inArray(M.valHooks.option.get(Y),se)>-1)&&(j=!0);return j||(T.selectedIndex=-1),se}}}}),M.each(["radio","checkbox"],function(){M.valHooks[this]={set:function(T,A){if(Array.isArray(A))return T.checked=M.inArray(M(T).val(),A)>-1}},F.checkOn||(M.valHooks[this].get=function(T){return T.getAttribute("value")===null?"on":T.value})});var fl=t.location,Id={guid:Date.now()},ml=/\?/;M.parseXML=function(T){var A,j;if(!T||typeof T!="string")return null;try{A=new t.DOMParser().parseFromString(T,"text/xml")}catch{}return j=A&&A.getElementsByTagName("parsererror")[0],(!A||j)&&M.error("Invalid XML: "+(j?M.map(j.childNodes,function(Y){return Y.textContent}).join(`
`):T)),A};var Hl=/^(?:focusinfocus|focusoutblur)$/,Bc=function(T){T.stopPropagation()};M.extend(M.event,{trigger:function(T,A,j,Y){var oe,se,he,Ue,De,nt,At,jt,vt=[j||$],cn=k.call(T,"type")?T.type:T,or=k.call(T,"namespace")?T.namespace.split("."):[];if(se=jt=he=j=j||$,!(j.nodeType===3||j.nodeType===8)&&!Hl.test(cn+M.event.triggered)&&(cn.indexOf(".")>-1&&(or=cn.split("."),cn=or.shift(),or.sort()),De=cn.indexOf(":")<0&&"on"+cn,T=T[M.expando]?T:new M.Event(cn,typeof T=="object"&&T),T.isTrigger=Y?2:3,T.namespace=or.join("."),T.rnamespace=T.namespace?new RegExp("(^|\\.)"+or.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,T.result=void 0,T.target||(T.target=j),A=A==null?[T]:M.makeArray(A,[T]),At=M.event.special[cn]||{},!(!Y&&At.trigger&&At.trigger.apply(j,A)===!1))){if(!Y&&!At.noBubble&&!X(j)){for(Ue=At.delegateType||cn,Hl.test(Ue+cn)||(se=se.parentNode);se;se=se.parentNode)vt.push(se),he=se;he===(j.ownerDocument||$)&&vt.push(he.defaultView||he.parentWindow||t)}for(oe=0;(se=vt[oe++])&&!T.isPropagationStopped();)jt=se,T.type=oe>1?Ue:At.bindType||cn,nt=($t.get(se,"events")||Object.create(null))[T.type]&&$t.get(se,"handle"),nt&&nt.apply(se,A),nt=De&&se[De],nt&&nt.apply&&Zn(se)&&(T.result=nt.apply(se,A),T.result===!1&&T.preventDefault());return T.type=cn,!Y&&!T.isDefaultPrevented()&&(!At._default||At._default.apply(vt.pop(),A)===!1)&&Zn(j)&&De&&L(j[cn])&&!X(j)&&(he=j[De],he&&(j[De]=null),M.event.triggered=cn,T.isPropagationStopped()&&jt.addEventListener(cn,Bc),j[cn](),T.isPropagationStopped()&&jt.removeEventListener(cn,Bc),M.event.triggered=void 0,he&&(j[De]=he)),T.result}},simulate:function(T,A,j){var Y=M.extend(new M.Event,j,{type:T,isSimulated:!0});M.event.trigger(Y,null,A)}}),M.fn.extend({trigger:function(T,A){return this.each(function(){M.event.trigger(T,A,this)})},triggerHandler:function(T,A){var j=this[0];if(j)return M.event.trigger(T,A,j,!0)}});var Gl=/\[\]$/,Eo=/\r?\n/g,Mi=/^(?:submit|button|image|reset|file)$/i,Ad=/^(?:input|select|textarea|keygen)/i;function Nc(T,A,j,Y){var oe;if(Array.isArray(A))M.each(A,function(se,he){j||Gl.test(T)?Y(T,he):Nc(T+"["+(typeof he=="object"&&he!=null?se:"")+"]",he,j,Y)});else if(!j&&Q(A)==="object")for(oe in A)Nc(T+"["+oe+"]",A[oe],j,Y);else Y(T,A)}M.param=function(T,A){var j,Y=[],oe=function(se,he){var Ue=L(he)?he():he;Y[Y.length]=encodeURIComponent(se)+"="+encodeURIComponent(Ue??"")};if(T==null)return"";if(Array.isArray(T)||T.jquery&&!M.isPlainObject(T))M.each(T,function(){oe(this.name,this.value)});else for(j in T)Nc(j,T[j],A,oe);return Y.join("&")},M.fn.extend({serialize:function(){return M.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var T=M.prop(this,"elements");return T?M.makeArray(T):this}).filter(function(){var T=this.type;return this.name&&!M(this).is(":disabled")&&Ad.test(this.nodeName)&&!Mi.test(T)&&(this.checked||!Pe.test(T))}).map(function(T,A){var j=M(this).val();return j==null?null:Array.isArray(j)?M.map(j,function(Y){return{name:A.name,value:Y.replace(Eo,`\r
`)}}):{name:A.name,value:j.replace(Eo,`\r
`)}}).get()}});var Lo=/%20/g,is=/#.*$/,Kh=/([?&])_=[^&]*/,$c=/^(.*?):[ \t]*([^\r\n]*)$/mg,Ci=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,jc=/^(?:GET|HEAD)$/,Dd=/^\/\//,za={},Wi={},Eu="*/".concat("*"),Vc=$.createElement("a");Vc.href=fl.href;function Os(T){return function(A,j){typeof A!="string"&&(j=A,A="*");var Y,oe=0,se=A.toLowerCase().match(_t)||[];if(L(j))for(;Y=se[oe++];)Y[0]==="+"?(Y=Y.slice(1)||"*",(T[Y]=T[Y]||[]).unshift(j)):(T[Y]=T[Y]||[]).push(j)}}function sa(T,A,j,Y){var oe={},se=T===Wi;function he(Ue){var De;return oe[Ue]=!0,M.each(T[Ue]||[],function(nt,At){var jt=At(A,j,Y);if(typeof jt=="string"&&!se&&!oe[jt])return A.dataTypes.unshift(jt),he(jt),!1;if(se)return!(De=jt)}),De}return he(A.dataTypes[0])||!oe["*"]&&he("*")}function ql(T,A){var j,Y,oe=M.ajaxSettings.flatOptions||{};for(j in A)A[j]!==void 0&&((oe[j]?T:Y||(Y={}))[j]=A[j]);return Y&&M.extend(!0,T,Y),T}function r1(T,A,j){for(var Y,oe,se,he,Ue=T.contents,De=T.dataTypes;De[0]==="*";)De.shift(),Y===void 0&&(Y=T.mimeType||A.getResponseHeader("Content-Type"));if(Y){for(oe in Ue)if(Ue[oe]&&Ue[oe].test(Y)){De.unshift(oe);break}}if(De[0]in j)se=De[0];else{for(oe in j){if(!De[0]||T.converters[oe+" "+De[0]]){se=oe;break}he||(he=oe)}se=se||he}if(se)return se!==De[0]&&De.unshift(se),j[se]}function Rd(T,A,j,Y){var oe,se,he,Ue,De,nt={},At=T.dataTypes.slice();if(At[1])for(he in T.converters)nt[he.toLowerCase()]=T.converters[he];for(se=At.shift();se;)if(T.responseFields[se]&&(j[T.responseFields[se]]=A),!De&&Y&&T.dataFilter&&(A=T.dataFilter(A,T.dataType)),De=se,se=At.shift(),se){if(se==="*")se=De;else if(De!=="*"&&De!==se){if(he=nt[De+" "+se]||nt["* "+se],!he){for(oe in nt)if(Ue=oe.split(" "),Ue[1]===se&&(he=nt[De+" "+Ue[0]]||nt["* "+Ue[0]],he)){he===!0?he=nt[oe]:nt[oe]!==!0&&(se=Ue[0],At.unshift(Ue[1]));break}}if(he!==!0)if(he&&T.throws)A=he(A);else try{A=he(A)}catch(jt){return{state:"parsererror",error:he?jt:"No conversion from "+De+" to "+se}}}}return{state:"success",data:A}}M.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:fl.href,type:"GET",isLocal:Ci.test(fl.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Eu,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":M.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(T,A){return A?ql(ql(T,M.ajaxSettings),A):ql(M.ajaxSettings,T)},ajaxPrefilter:Os(za),ajaxTransport:Os(Wi),ajax:function(T,A){typeof T=="object"&&(A=T,T=void 0),A=A||{};var j,Y,oe,se,he,Ue,De,nt,At,jt,vt=M.ajaxSetup({},A),cn=vt.context||vt,or=vt.context&&(cn.nodeType||cn.jquery)?M(cn):M.event,Tr=M.Deferred(),vr=M.Callbacks("once memory"),Ii=vt.statusCode||{},ti={},po={},qo="canceled",Er={readyState:0,getResponseHeader:function(Ir){var vi;if(De){if(!se)for(se={};vi=$c.exec(oe);)se[vi[1].toLowerCase()+" "]=(se[vi[1].toLowerCase()+" "]||[]).concat(vi[2]);vi=se[Ir.toLowerCase()+" "]}return vi==null?null:vi.join(", ")},getAllResponseHeaders:function(){return De?oe:null},setRequestHeader:function(Ir,vi){return De==null&&(Ir=po[Ir.toLowerCase()]=po[Ir.toLowerCase()]||Ir,ti[Ir]=vi),this},overrideMimeType:function(Ir){return De==null&&(vt.mimeType=Ir),this},statusCode:function(Ir){var vi;if(Ir)if(De)Er.always(Ir[Er.status]);else for(vi in Ir)Ii[vi]=[Ii[vi],Ir[vi]];return this},abort:function(Ir){var vi=Ir||qo;return j&&j.abort(vi),Cs(0,vi),this}};if(Tr.promise(Er),vt.url=((T||vt.url||fl.href)+"").replace(Dd,fl.protocol+"//"),vt.type=A.method||A.type||vt.method||vt.type,vt.dataTypes=(vt.dataType||"*").toLowerCase().match(_t)||[""],vt.crossDomain==null){Ue=$.createElement("a");try{Ue.href=vt.url,Ue.href=Ue.href,vt.crossDomain=Vc.protocol+"//"+Vc.host!=Ue.protocol+"//"+Ue.host}catch{vt.crossDomain=!0}}if(vt.data&&vt.processData&&typeof vt.data!="string"&&(vt.data=M.param(vt.data,vt.traditional)),sa(za,vt,A,Er),De)return Er;nt=M.event&&vt.global,nt&&M.active++===0&&M.event.trigger("ajaxStart"),vt.type=vt.type.toUpperCase(),vt.hasContent=!jc.test(vt.type),Y=vt.url.replace(is,""),vt.hasContent?vt.data&&vt.processData&&(vt.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(vt.data=vt.data.replace(Lo,"+")):(jt=vt.url.slice(Y.length),vt.data&&(vt.processData||typeof vt.data=="string")&&(Y+=(ml.test(Y)?"&":"?")+vt.data,delete vt.data),vt.cache===!1&&(Y=Y.replace(Kh,"$1"),jt=(ml.test(Y)?"&":"?")+"_="+Id.guid+++jt),vt.url=Y+jt),vt.ifModified&&(M.lastModified[Y]&&Er.setRequestHeader("If-Modified-Since",M.lastModified[Y]),M.etag[Y]&&Er.setRequestHeader("If-None-Match",M.etag[Y])),(vt.data&&vt.hasContent&&vt.contentType!==!1||A.contentType)&&Er.setRequestHeader("Content-Type",vt.contentType),Er.setRequestHeader("Accept",vt.dataTypes[0]&&vt.accepts[vt.dataTypes[0]]?vt.accepts[vt.dataTypes[0]]+(vt.dataTypes[0]!=="*"?", "+Eu+"; q=0.01":""):vt.accepts["*"]);for(At in vt.headers)Er.setRequestHeader(At,vt.headers[At]);if(vt.beforeSend&&(vt.beforeSend.call(cn,Er,vt)===!1||De))return Er.abort();if(qo="abort",vr.add(vt.complete),Er.done(vt.success),Er.fail(vt.error),j=sa(Wi,vt,A,Er),!j)Cs(-1,"No Transport");else{if(Er.readyState=1,nt&&or.trigger("ajaxSend",[Er,vt]),De)return Er;vt.async&&vt.timeout>0&&(he=t.setTimeout(function(){Er.abort("timeout")},vt.timeout));try{De=!1,j.send(ti,Cs)}catch(Ir){if(De)throw Ir;Cs(-1,Ir)}}function Cs(Ir,vi,La,Xl){var os,wr,Fo,ua,Fs,Zo=vi;De||(De=!0,he&&t.clearTimeout(he),j=void 0,oe=Xl||"",Er.readyState=Ir>0?4:0,os=Ir>=200&&Ir<300||Ir===304,La&&(ua=r1(vt,Er,La)),!os&&M.inArray("script",vt.dataTypes)>-1&&M.inArray("json",vt.dataTypes)<0&&(vt.converters["text script"]=function(){}),ua=Rd(vt,ua,Er,os),os?(vt.ifModified&&(Fs=Er.getResponseHeader("Last-Modified"),Fs&&(M.lastModified[Y]=Fs),Fs=Er.getResponseHeader("etag"),Fs&&(M.etag[Y]=Fs)),Ir===204||vt.type==="HEAD"?Zo="nocontent":Ir===304?Zo="notmodified":(Zo=ua.state,wr=ua.data,Fo=ua.error,os=!Fo)):(Fo=Zo,(Ir||!Zo)&&(Zo="error",Ir<0&&(Ir=0))),Er.status=Ir,Er.statusText=(vi||Zo)+"",os?Tr.resolveWith(cn,[wr,Zo,Er]):Tr.rejectWith(cn,[Er,Zo,Fo]),Er.statusCode(Ii),Ii=void 0,nt&&or.trigger(os?"ajaxSuccess":"ajaxError",[Er,vt,os?wr:Fo]),vr.fireWith(cn,[Er,Zo]),nt&&(or.trigger("ajaxComplete",[Er,vt]),--M.active||M.event.trigger("ajaxStop")))}return Er},getJSON:function(T,A,j){return M.get(T,A,j,"json")},getScript:function(T,A){return M.get(T,void 0,A,"script")}}),M.each(["get","post"],function(T,A){M[A]=function(j,Y,oe,se){return L(Y)&&(se=se||oe,oe=Y,Y=void 0),M.ajax(M.extend({url:j,type:A,dataType:se,data:Y,success:oe},M.isPlainObject(j)&&j))}}),M.ajaxPrefilter(function(T){var A;for(A in T.headers)A.toLowerCase()==="content-type"&&(T.contentType=T.headers[A]||"")}),M._evalUrl=function(T,A,j){return M.ajax({url:T,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(Y){M.globalEval(Y,A,j)}})},M.fn.extend({wrapAll:function(T){var A;return this[0]&&(L(T)&&(T=T.call(this[0])),A=M(T,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&A.insertBefore(this[0]),A.map(function(){for(var j=this;j.firstElementChild;)j=j.firstElementChild;return j}).append(this)),this},wrapInner:function(T){return L(T)?this.each(function(A){M(this).wrapInner(T.call(this,A))}):this.each(function(){var A=M(this),j=A.contents();j.length?j.wrapAll(T):A.append(T)})},wrap:function(T){var A=L(T);return this.each(function(j){M(this).wrapAll(A?T.call(this,j):T)})},unwrap:function(T){return this.parent(T).not("body").each(function(){M(this).replaceWith(this.childNodes)}),this}}),M.expr.pseudos.hidden=function(T){return!M.expr.pseudos.visible(T)},M.expr.pseudos.visible=function(T){return!!(T.offsetWidth||T.offsetHeight||T.getClientRects().length)},M.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var Zl={0:200,1223:204},Oo=M.ajaxSettings.xhr();F.cors=!!Oo&&"withCredentials"in Oo,F.ajax=Oo=!!Oo,M.ajaxTransport(function(T){var A,j;if(F.cors||Oo&&!T.crossDomain)return{send:function(Y,oe){var se,he=T.xhr();if(he.open(T.type,T.url,T.async,T.username,T.password),T.xhrFields)for(se in T.xhrFields)he[se]=T.xhrFields[se];T.mimeType&&he.overrideMimeType&&he.overrideMimeType(T.mimeType),!T.crossDomain&&!Y["X-Requested-With"]&&(Y["X-Requested-With"]="XMLHttpRequest");for(se in Y)he.setRequestHeader(se,Y[se]);A=function(Ue){return function(){A&&(A=j=he.onload=he.onerror=he.onabort=he.ontimeout=he.onreadystatechange=null,Ue==="abort"?he.abort():Ue==="error"?typeof he.status!="number"?oe(0,"error"):oe(he.status,he.statusText):oe(Zl[he.status]||he.status,he.statusText,(he.responseType||"text")!=="text"||typeof he.responseText!="string"?{binary:he.response}:{text:he.responseText},he.getAllResponseHeaders()))}},he.onload=A(),j=he.onerror=he.ontimeout=A("error"),he.onabort!==void 0?he.onabort=j:he.onreadystatechange=function(){he.readyState===4&&t.setTimeout(function(){A&&j()})},A=A("abort");try{he.send(T.hasContent&&T.data||null)}catch(Ue){if(A)throw Ue}},abort:function(){A&&A()}}}),M.ajaxPrefilter(function(T){T.crossDomain&&(T.contents.script=!1)}),M.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(T){return M.globalEval(T),T}}}),M.ajaxPrefilter("script",function(T){T.cache===void 0&&(T.cache=!1),T.crossDomain&&(T.type="GET")}),M.ajaxTransport("script",function(T){if(T.crossDomain||T.scriptAttrs){var A,j;return{send:function(Y,oe){A=M("<script>").attr(T.scriptAttrs||{}).prop({charset:T.scriptCharset,src:T.url}).on("load error",j=function(se){A.remove(),j=null,se&&oe(se.type==="error"?404:200,se.type)}),$.head.appendChild(A[0])},abort:function(){j&&j()}}}});var Pu=[],aa=/(=)\?(?=&|$)|\?\?/;M.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var T=Pu.pop()||M.expando+"_"+Id.guid++;return this[T]=!0,T}}),M.ajaxPrefilter("json jsonp",function(T,A,j){var Y,oe,se,he=T.jsonp!==!1&&(aa.test(T.url)?"url":typeof T.data=="string"&&(T.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&aa.test(T.data)&&"data");if(he||T.dataTypes[0]==="jsonp")return Y=T.jsonpCallback=L(T.jsonpCallback)?T.jsonpCallback():T.jsonpCallback,he?T[he]=T[he].replace(aa,"$1"+Y):T.jsonp!==!1&&(T.url+=(ml.test(T.url)?"&":"?")+T.jsonp+"="+Y),T.converters["script json"]=function(){return se||M.error(Y+" was not called"),se[0]},T.dataTypes[0]="json",oe=t[Y],t[Y]=function(){se=arguments},j.always(function(){oe===void 0?M(t).removeProp(Y):t[Y]=oe,T[Y]&&(T.jsonpCallback=A.jsonpCallback,Pu.push(Y)),se&&L(oe)&&oe(se[0]),se=oe=void 0}),"script"}),F.createHTMLDocument=function(){var T=$.implementation.createHTMLDocument("").body;return T.innerHTML="<form></form><form></form>",T.childNodes.length===2}(),M.parseHTML=function(T,A,j){if(typeof T!="string")return[];typeof A=="boolean"&&(j=A,A=!1);var Y,oe,se;return A||(F.createHTMLDocument?(A=$.implementation.createHTMLDocument(""),Y=A.createElement("base"),Y.href=$.location.href,A.head.appendChild(Y)):A=$),oe=wt.exec(T),se=!j&&[],oe?[A.createElement(oe[1])]:(oe=Nt([T],A,se),se&&se.length&&M(se).remove(),M.merge([],oe.childNodes))},M.fn.load=function(T,A,j){var Y,oe,se,he=this,Ue=T.indexOf(" ");return Ue>-1&&(Y=Ra(T.slice(Ue)),T=T.slice(0,Ue)),L(A)?(j=A,A=void 0):A&&typeof A=="object"&&(oe="POST"),he.length>0&&M.ajax({url:T,type:oe||"GET",dataType:"html",data:A}).done(function(De){se=arguments,he.html(Y?M("<div>").append(M.parseHTML(De)).find(Y):De)}).always(j&&function(De,nt){he.each(function(){j.apply(this,se||[De.responseText,nt,De])})}),this},M.expr.pseudos.animated=function(T){return M.grep(M.timers,function(A){return T===A.elem}).length},M.offset={setOffset:function(T,A,j){var Y,oe,se,he,Ue,De,nt,At=M.css(T,"position"),jt=M(T),vt={};At==="static"&&(T.style.position="relative"),Ue=jt.offset(),se=M.css(T,"top"),De=M.css(T,"left"),nt=(At==="absolute"||At==="fixed")&&(se+De).indexOf("auto")>-1,nt?(Y=jt.position(),he=Y.top,oe=Y.left):(he=parseFloat(se)||0,oe=parseFloat(De)||0),L(A)&&(A=A.call(T,j,M.extend({},Ue))),A.top!=null&&(vt.top=A.top-Ue.top+he),A.left!=null&&(vt.left=A.left-Ue.left+oe),"using"in A?A.using.call(T,vt):jt.css(vt)}},M.fn.extend({offset:function(T){if(arguments.length)return T===void 0?this:this.each(function(oe){M.offset.setOffset(this,T,oe)});var A,j,Y=this[0];if(Y)return Y.getClientRects().length?(A=Y.getBoundingClientRect(),j=Y.ownerDocument.defaultView,{top:A.top+j.pageYOffset,left:A.left+j.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var T,A,j,Y=this[0],oe={top:0,left:0};if(M.css(Y,"position")==="fixed")A=Y.getBoundingClientRect();else{for(A=this.offset(),j=Y.ownerDocument,T=Y.offsetParent||j.documentElement;T&&(T===j.body||T===j.documentElement)&&M.css(T,"position")==="static";)T=T.parentNode;T&&T!==Y&&T.nodeType===1&&(oe=M(T).offset(),oe.top+=M.css(T,"borderTopWidth",!0),oe.left+=M.css(T,"borderLeftWidth",!0))}return{top:A.top-oe.top-M.css(Y,"marginTop",!0),left:A.left-oe.left-M.css(Y,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var T=this.offsetParent;T&&M.css(T,"position")==="static";)T=T.offsetParent;return T||zn})}}),M.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(T,A){var j=A==="pageYOffset";M.fn[T]=function(Y){return on(this,function(oe,se,he){var Ue;if(X(oe)?Ue=oe:oe.nodeType===9&&(Ue=oe.defaultView),he===void 0)return Ue?Ue[A]:oe[se];Ue?Ue.scrollTo(j?Ue.pageXOffset:he,j?he:Ue.pageYOffset):oe[se]=he},T,Y,arguments.length)}}),M.each(["top","left"],function(T,A){M.cssHooks[A]=Lc(F.pixelPosition,function(j,Y){if(Y)return Y=hl(j,A),zi.test(Y)?M(j).position()[A]+"px":Y})}),M.each({Height:"height",Width:"width"},function(T,A){M.each({padding:"inner"+T,content:A,"":"outer"+T},function(j,Y){M.fn[Y]=function(oe,se){var he=arguments.length&&(j||typeof oe!="boolean"),Ue=j||(oe===!0||se===!0?"margin":"border");return on(this,function(De,nt,At){var jt;return X(De)?Y.indexOf("outer")===0?De["inner"+T]:De.document.documentElement["client"+T]:De.nodeType===9?(jt=De.documentElement,Math.max(De.body["scroll"+T],jt["scroll"+T],De.body["offset"+T],jt["offset"+T],jt["client"+T])):At===void 0?M.css(De,nt,Ue):M.style(De,nt,At,Ue)},A,he?oe:void 0,he)}})}),M.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(T,A){M.fn[A]=function(j){return this.on(A,j)}}),M.fn.extend({bind:function(T,A,j){return this.on(T,null,A,j)},unbind:function(T,A){return this.off(T,null,A)},delegate:function(T,A,j,Y){return this.on(A,T,j,Y)},undelegate:function(T,A,j){return arguments.length===1?this.off(T,"**"):this.off(A,T||"**",j)},hover:function(T,A){return this.mouseenter(T).mouseleave(A||T)}}),M.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(T,A){M.fn[A]=function(j,Y){return arguments.length>0?this.on(A,null,j,Y):this.trigger(A)}});var la=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;M.proxy=function(T,A){var j,Y,oe;if(typeof A=="string"&&(j=T[A],A=T,T=j),!!L(T))return Y=u.call(arguments,2),oe=function(){return T.apply(A||this,Y.concat(u.call(arguments)))},oe.guid=T.guid=T.guid||M.guid++,oe},M.holdReady=function(T){T?M.readyWait++:M.ready(!0)},M.isArray=Array.isArray,M.parseJSON=JSON.parse,M.nodeName=ce,M.isFunction=L,M.isWindow=X,M.camelCase=Tn,M.type=Q,M.now=Date.now,M.isNumeric=function(T){var A=M.type(T);return(A==="number"||A==="string")&&!isNaN(T-parseFloat(T))},M.trim=function(T){return T==null?"":(T+"").replace(la,"$1")};var Uc=t.jQuery,ca=t.$;return M.noConflict=function(T){return t.$===M&&(t.$=ca),T&&t.jQuery===M&&(t.jQuery=Uc),M},typeof r>"u"&&(t.jQuery=t.$=M),M})})(bA);var qoe=bA.exports;const Hp=Ac(qoe);function su(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wA(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}/*!
 * GSAP 3.12.2
 * https://greensock.com
 *
 * @license Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Nf={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},$f={duration:.5,overwrite:!1,delay:0},X5,_s,ao,Ya=1e8,ki=1/Ya,Iw=Math.PI*2,Zoe=Iw/4,Xoe=0,SA=Math.sqrt,Yoe=Math.cos,Koe=Math.sin,bs=function(t){return typeof t=="string"},lo=function(t){return typeof t=="function"},xu=function(t){return typeof t=="number"},TA=function(t){return typeof t>"u"},Mc=function(t){return typeof t=="object"},ta=function(t){return t!==!1},Y5=function(){return typeof window<"u"},Ny=function(t){return lo(t)||bs(t)},CA=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},vs=Array.isArray,Aw=/(?:-?\.?\d|\.)+/gi,Joe=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,EA=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Qb=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Qoe=/[+-]=-?[.\d]+/,PA=/[^,'"\[\]\s]+/gi,ese=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Qi,Wa,Dw,K5,ka={},J_={},kA,MA=function(t){return(J_=$h(t,ka))&&jh},IA=function(t,r){return console.warn("Invalid property",t,"set to",r,"Missing plugin? gsap.registerPlugin()")},Q_=function(t,r){return!r&&console.warn(t)},AA=function(t,r){return t&&(ka[t]=r)&&J_&&(J_[t]=r)||ka},Lg=function(){return 0},tse={suppressEvents:!0,isStart:!0,kill:!1},l_={suppressEvents:!0,kill:!1},nse={suppressEvents:!0},J5={},gd=[],Rw={},DA,Ga={},e3={},_E=30,c_=[],Q5="",e6=function(t){var r=t[0],o,l;if(Mc(r)||lo(r)||(t=[t]),!(o=(r._gsap||{}).harness)){for(l=c_.length;l--&&!c_[l].targetTest(r););o=c_[l]}for(l=t.length;l--;)t[l]&&(t[l]._gsap||(t[l]._gsap=new Mse(t[l],o)))||t.splice(l,1);return t},Jm=function(t){return t._gsap||e6(Ka(t))[0]._gsap},rse=function(t,r,o){return(o=t[r])&&lo(o)?t[r]():TA(o)&&t.getAttribute&&t.getAttribute(r)||o},Tu=function(t,r){return(t=t.split(",")).forEach(r)||t},ise=function(t){return Math.round(t*1e5)/1e5||0},es=function(t){return Math.round(t*1e7)/1e7||0},RA=function(t,r){var o=r.charAt(0),l=parseFloat(r.substr(2));return t=parseFloat(t),o==="+"?t+l:o==="-"?t-l:o==="*"?t*l:t/l},ose=function(t,r){for(var o=r.length,l=0;t.indexOf(r[l])<0&&++l<o;);return l<o},e2=function(){var t=gd.length,r=gd.slice(0),o,l;for(Rw={},gd.length=0,o=0;o<t;o++)l=r[o],l&&l._lazy&&(l.render(l._lazy[0],l._lazy[1],!0)._lazy=0)},zA=function(t,r,o,l){gd.length&&!_s&&e2(),t.render(r,o,l||_s&&r<0&&(t._initted||t._startAt)),gd.length&&!_s&&e2()},LA=function(t){var r=parseFloat(t);return(r||r===0)&&(t+"").match(PA).length<2?r:bs(t)?t.trim():t},OA=function(t){return t},ll=function(t,r){for(var o in r)o in t||(t[o]=r[o]);return t},sse=function(t){return function(r,o){for(var l in o)l in r||l==="duration"&&t||l==="ease"||(r[l]=o[l])}},$h=function(t,r){for(var o in r)t[o]=r[o];return t},vE=function e(t,r){for(var o in r)o!=="__proto__"&&o!=="constructor"&&o!=="prototype"&&(t[o]=Mc(r[o])?e(t[o]||(t[o]={}),r[o]):r[o]);return t},t2=function(t,r){var o={},l;for(l in t)l in r||(o[l]=t[l]);return o},Qm=function(t){var r=t.parent||Qi,o=t.keyframes?sse(vs(t.keyframes)):ll;if(ta(t.inherit))for(;r;)o(t,r.vars.defaults),r=r.parent||r._dp;return t},ase=function(t,r){for(var o=t.length,l=o===r.length;l&&o--&&t[o]===r[o];);return o<0},FA=function(t,r,o,l,u){o===void 0&&(o="_first"),l===void 0&&(l="_last");var f=t[l],i;if(u)for(i=r[u];f&&f[u]>i;)f=f._prev;return f?(r._next=f._next,f._next=r):(r._next=t[o],t[o]=r),r._next?r._next._prev=r:t[l]=r,r._prev=f,r.parent=r._dp=t,r},Mv=function(t,r,o,l){o===void 0&&(o="_first"),l===void 0&&(l="_last");var u=r._prev,f=r._next;u?u._next=f:t[o]===r&&(t[o]=f),f?f._prev=u:t[l]===r&&(t[l]=u),r._next=r._prev=r.parent=null},xd=function(t,r){t.parent&&(!r||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},Eh=function(t,r){if(t&&(!r||r._end>t._dur||r._start<0))for(var o=t;o;)o._dirty=1,o=o.parent;return t},lse=function(t){for(var r=t.parent;r&&r.parent;)r._dirty=1,r.totalDuration(),r=r.parent;return t},zw=function(t,r,o,l){return t._startAt&&(_s?t._startAt.revert(l_):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(r,!0,l))},cse=function e(t){return!t||t._ts&&e(t.parent)},xE=function(t){return t._repeat?jf(t._tTime,t=t.duration()+t._rDelay)*t:0},jf=function(t,r){var o=Math.floor(t/=r);return t&&o===t?o-1:o},n2=function(t,r){return(t-r._start)*r._ts+(r._ts>=0?0:r._dirty?r.totalDuration():r._tDur)},Iv=function(t){return t._end=es(t._start+(t._tDur/Math.abs(t._ts||t._rts||ki)||0))},Av=function(t,r){var o=t._dp;return o&&o.smoothChildTiming&&t._ts&&(t._start=es(o._time-(t._ts>0?r/t._ts:((t._dirty?t.totalDuration():t._tDur)-r)/-t._ts)),Iv(t),o._dirty||Eh(o,t)),t},BA=function(t,r){var o;if((r._time||!r._dur&&r._initted||r._start<t._time&&(r._dur||!r.add))&&(o=n2(t.rawTime(),r),(!r._dur||i0(0,r.totalDuration(),o)-r._tTime>ki)&&r.render(o,!0)),Eh(t,r)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(o=t;o._dp;)o.rawTime()>=0&&o.totalTime(o._tTime),o=o._dp;t._zTime=-ki}},bc=function(t,r,o,l){return r.parent&&xd(r),r._start=es((xu(o)?o:o||t!==Qi?Ua(t,o,r):t._time)+r._delay),r._end=es(r._start+(r.totalDuration()/Math.abs(r.timeScale())||0)),FA(t,r,"_first","_last",t._sort?"_start":0),Lw(r)||(t._recent=r),l||BA(t,r),t._ts<0&&Av(t,t._tTime),t},NA=function(t,r){return(ka.ScrollTrigger||IA("scrollTrigger",r))&&ka.ScrollTrigger.create(r,t)},$A=function(t,r,o,l,u){if(r6(t,r,u),!t._initted)return 1;if(!o&&t._pt&&!_s&&(t._dur&&t.vars.lazy!==!1||!t._dur&&t.vars.lazy)&&DA!==Ll.frame)return gd.push(t),t._lazy=[u,l],1},use=function e(t){var r=t.parent;return r&&r._ts&&r._initted&&!r._lock&&(r.rawTime()<0||e(r))},Lw=function(t){var r=t.data;return r==="isFromStart"||r==="isStart"},dse=function(t,r,o,l){var u=t.ratio,f=r<0||!r&&(!t._start&&use(t)&&!(!t._initted&&Lw(t))||(t._ts<0||t._dp._ts<0)&&!Lw(t))?0:1,i=t._rDelay,_=0,b,E,k;if(i&&t._repeat&&(_=i0(0,t._tDur,r),E=jf(_,i),t._yoyo&&E&1&&(f=1-f),E!==jf(t._tTime,i)&&(u=1-f,t.vars.repeatRefresh&&t._initted&&t.invalidate())),f!==u||_s||l||t._zTime===ki||!r&&t._zTime){if(!t._initted&&$A(t,r,l,o,_))return;for(k=t._zTime,t._zTime=r||(o?ki:0),o||(o=r&&!k),t.ratio=f,t._from&&(f=1-f),t._time=0,t._tTime=_,b=t._pt;b;)b.r(f,b.d),b=b._next;r<0&&zw(t,r,o,!0),t._onUpdate&&!o&&Ja(t,"onUpdate"),_&&t._repeat&&!o&&t.parent&&Ja(t,"onRepeat"),(r>=t._tDur||r<0)&&t.ratio===f&&(f&&xd(t,1),!o&&!_s&&(Ja(t,f?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=r)},hse=function(t,r,o){var l;if(o>r)for(l=t._first;l&&l._start<=o;){if(l.data==="isPause"&&l._start>r)return l;l=l._next}else for(l=t._last;l&&l._start>=o;){if(l.data==="isPause"&&l._start<r)return l;l=l._prev}},Vf=function(t,r,o,l){var u=t._repeat,f=es(r)||0,i=t._tTime/t._tDur;return i&&!l&&(t._time*=f/t._dur),t._dur=f,t._tDur=u?u<0?1e10:es(f*(u+1)+t._rDelay*u):f,i>0&&!l&&Av(t,t._tTime=t._tDur*i),t.parent&&Iv(t),o||Eh(t.parent,t),t},bE=function(t){return t instanceof Io?Eh(t):Vf(t,t._dur)},pse={_start:0,endTime:Lg,totalDuration:Lg},Ua=function e(t,r,o){var l=t.labels,u=t._recent||pse,f=t.duration()>=Ya?u.endTime(!1):t._dur,i,_,b;return bs(r)&&(isNaN(r)||r in l)?(_=r.charAt(0),b=r.substr(-1)==="%",i=r.indexOf("="),_==="<"||_===">"?(i>=0&&(r=r.replace(/=/,"")),(_==="<"?u._start:u.endTime(u._repeat>=0))+(parseFloat(r.substr(1))||0)*(b?(i<0?u:o).totalDuration()/100:1)):i<0?(r in l||(l[r]=f),l[r]):(_=parseFloat(r.charAt(i-1)+r.substr(i+1)),b&&o&&(_=_/100*(vs(o)?o[0]:o).totalDuration()),i>1?e(t,r.substr(0,i-1),o)+_:f+_)):r==null?f:+r},eg=function(t,r,o){var l=xu(r[1]),u=(l?2:1)+(t<2?0:1),f=r[u],i,_;if(l&&(f.duration=r[1]),f.parent=o,t){for(i=f,_=o;_&&!("immediateRender"in i);)i=_.vars.defaults||{},_=ta(_.vars.inherit)&&_.parent;f.immediateRender=ta(i.immediateRender),t<2?f.runBackwards=1:f.startAt=r[u-1]}return new _o(r[0],f,r[u+1])},kd=function(t,r){return t||t===0?r(t):r},i0=function(t,r,o){return o<t?t:o>r?r:o},bd=function(t,r){return!bs(t)||!(r=ese.exec(t))?"":r[1]},fse=function(t,r,o){return kd(o,function(l){return i0(t,r,l)})},Ow=[].slice,jA=function(t,r){return t&&Mc(t)&&"length"in t&&(!r&&!t.length||t.length-1 in t&&Mc(t[0]))&&!t.nodeType&&t!==Wa},mse=function(t,r,o){return o===void 0&&(o=[]),t.forEach(function(l){var u;return bs(l)&&!r||jA(l,1)?(u=o).push.apply(u,Ka(l)):o.push(l)})||o},Ka=function(t,r,o){return ao&&!r&&ao.selector?ao.selector(t):bs(t)&&!o&&(Dw||!Uf())?Ow.call((r||K5).querySelectorAll(t),0):vs(t)?mse(t,o):jA(t)?Ow.call(t,0):t?[t]:[]},Fw=function(t){return t=Ka(t)[0]||Q_("Invalid scope")||{},function(r){var o=t.current||t.nativeElement||t;return Ka(r,o.querySelectorAll?o:o===t?Q_("Invalid scope")||K5.createElement("div"):t)}},VA=function(t){return t.sort(function(){return .5-Math.random()})},UA=function(t){if(lo(t))return t;var r=Mc(t)?t:{each:t},o=Ph(r.ease),l=r.from||0,u=parseFloat(r.base)||0,f={},i=l>0&&l<1,_=isNaN(l)||i,b=r.axis,E=l,k=l;return bs(l)?E=k={center:.5,edges:.5,end:1}[l]||0:!i&&_&&(E=l[0],k=l[1]),function(R,B,F){var L=(F||r).length,X=f[L],$,H,G,Q,te,le,M,de,ce;if(!X){if(ce=r.grid==="auto"?0:(r.grid||[1,Ya])[1],!ce){for(M=-Ya;M<(M=F[ce++].getBoundingClientRect().left)&&ce<L;);ce--}for(X=f[L]=[],$=_?Math.min(ce,L)*E-.5:l%ce,H=ce===Ya?0:_?L*k/ce-.5:l/ce|0,M=0,de=Ya,le=0;le<L;le++)G=le%ce-$,Q=H-(le/ce|0),X[le]=te=b?Math.abs(b==="y"?Q:G):SA(G*G+Q*Q),te>M&&(M=te),te<de&&(de=te);l==="random"&&VA(X),X.max=M-de,X.min=de,X.v=L=(parseFloat(r.amount)||parseFloat(r.each)*(ce>L?L-1:b?b==="y"?L/ce:ce:Math.max(ce,L/ce))||0)*(l==="edges"?-1:1),X.b=L<0?u-L:u,X.u=bd(r.amount||r.each)||0,o=o&&L<0?JA(o):o}return L=(X[R]-X.min)/X.max||0,es(X.b+(o?o(L):L)*X.v)+X.u}},Bw=function(t){var r=Math.pow(10,((t+"").split(".")[1]||"").length);return function(o){var l=es(Math.round(parseFloat(o)/t)*t*r);return(l-l%1)/r+(xu(o)?0:bd(o))}},WA=function(t,r){var o=vs(t),l,u;return!o&&Mc(t)&&(l=o=t.radius||Ya,t.values?(t=Ka(t.values),(u=!xu(t[0]))&&(l*=l)):t=Bw(t.increment)),kd(r,o?lo(t)?function(f){return u=t(f),Math.abs(u-f)<=l?u:f}:function(f){for(var i=parseFloat(u?f.x:f),_=parseFloat(u?f.y:0),b=Ya,E=0,k=t.length,R,B;k--;)u?(R=t[k].x-i,B=t[k].y-_,R=R*R+B*B):R=Math.abs(t[k]-i),R<b&&(b=R,E=k);return E=!l||b<=l?t[E]:f,u||E===f||xu(f)?E:E+bd(f)}:Bw(t))},HA=function(t,r,o,l){return kd(vs(t)?!r:o===!0?!!(o=0):!l,function(){return vs(t)?t[~~(Math.random()*t.length)]:(o=o||1e-5)&&(l=o<1?Math.pow(10,(o+"").length-2):1)&&Math.floor(Math.round((t-o/2+Math.random()*(r-t+o*.99))/o)*o*l)/l})},gse=function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return function(l){return r.reduce(function(u,f){return f(u)},l)}},yse=function(t,r){return function(o){return t(parseFloat(o))+(r||bd(o))}},_se=function(t,r,o){return qA(t,r,0,1,o)},GA=function(t,r,o){return kd(o,function(l){return t[~~r(l)]})},vse=function e(t,r,o){var l=r-t;return vs(t)?GA(t,e(0,t.length),r):kd(o,function(u){return(l+(u-t)%l)%l+t})},xse=function e(t,r,o){var l=r-t,u=l*2;return vs(t)?GA(t,e(0,t.length-1),r):kd(o,function(f){return f=(u+(f-t)%u)%u||0,t+(f>l?u-f:f)})},t6=function(t){for(var r=0,o="",l,u,f,i;~(l=t.indexOf("random(",r));)f=t.indexOf(")",l),i=t.charAt(l+7)==="[",u=t.substr(l+7,f-l-7).match(i?PA:Aw),o+=t.substr(r,l-r)+HA(i?u:+u[0],i?0:+u[1],+u[2]||1e-5),r=f+1;return o+t.substr(r,t.length-r)},qA=function(t,r,o,l,u){var f=r-t,i=l-o;return kd(u,function(_){return o+((_-t)/f*i||0)})},bse=function e(t,r,o,l){var u=isNaN(t+r)?0:function(B){return(1-B)*t+B*r};if(!u){var f=bs(t),i={},_,b,E,k,R;if(o===!0&&(l=1)&&(o=null),f)t={p:t},r={p:r};else if(vs(t)&&!vs(r)){for(E=[],k=t.length,R=k-2,b=1;b<k;b++)E.push(e(t[b-1],t[b]));k--,u=function(F){F*=k;var L=Math.min(R,~~F);return E[L](F-L)},o=r}else l||(t=$h(vs(t)?[]:{},t));if(!E){for(_ in r)n6.call(i,t,_,"get",r[_]);u=function(F){return o6(F,i)||(f?t.p:t)}}}return kd(o,u)},wE=function(t,r,o){var l=t.labels,u=Ya,f,i,_;for(f in l)i=l[f]-r,i<0==!!o&&i&&u>(i=Math.abs(i))&&(_=f,u=i);return _},Ja=function(t,r,o){var l=t.vars,u=l[r],f=ao,i=t._ctx,_,b,E;if(u)return _=l[r+"Params"],b=l.callbackScope||t,o&&gd.length&&e2(),i&&(ao=i),E=_?u.apply(b,_):u.call(b),ao=f,E},Dm=function(t){return xd(t),t.scrollTrigger&&t.scrollTrigger.kill(!!_s),t.progress()<1&&Ja(t,"onInterrupt"),t},lf,ZA=[],XA=function(t){if(Y5()&&t){t=!t.name&&t.default||t;var r=t.name,o=lo(t),l=r&&!o&&t.init?function(){this._props=[]}:t,u={init:Lg,render:o6,add:n6,kill:jse,modifier:$se,rawVars:0},f={targetTest:0,get:0,getSetter:iD,aliases:{},register:0};if(Uf(),t!==l){if(Ga[r])return;ll(l,ll(t2(t,u),f)),$h(l.prototype,$h(u,t2(t,f))),Ga[l.prop=r]=l,t.targetTest&&(c_.push(l),J5[r]=1),r=(r==="css"?"CSS":r.charAt(0).toUpperCase()+r.substr(1))+"Plugin"}AA(r,l),t.register&&t.register(jh,l,n1)}else t&&ZA.push(t)},Pi=255,Rm={aqua:[0,Pi,Pi],lime:[0,Pi,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Pi],navy:[0,0,128],white:[Pi,Pi,Pi],olive:[128,128,0],yellow:[Pi,Pi,0],orange:[Pi,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Pi,0,0],pink:[Pi,192,203],cyan:[0,Pi,Pi],transparent:[Pi,Pi,Pi,0]},t3=function(t,r,o){return t+=t<0?1:t>1?-1:0,(t*6<1?r+(o-r)*t*6:t<.5?o:t*3<2?r+(o-r)*(2/3-t)*6:r)*Pi+.5|0},YA=function(t,r,o){var l=t?xu(t)?[t>>16,t>>8&Pi,t&Pi]:0:Rm.black,u,f,i,_,b,E,k,R,B,F;if(!l){if(t.substr(-1)===","&&(t=t.substr(0,t.length-1)),Rm[t])l=Rm[t];else if(t.charAt(0)==="#"){if(t.length<6&&(u=t.charAt(1),f=t.charAt(2),i=t.charAt(3),t="#"+u+u+f+f+i+i+(t.length===5?t.charAt(4)+t.charAt(4):"")),t.length===9)return l=parseInt(t.substr(1,6),16),[l>>16,l>>8&Pi,l&Pi,parseInt(t.substr(7),16)/255];t=parseInt(t.substr(1),16),l=[t>>16,t>>8&Pi,t&Pi]}else if(t.substr(0,3)==="hsl"){if(l=F=t.match(Aw),!r)_=+l[0]%360/360,b=+l[1]/100,E=+l[2]/100,f=E<=.5?E*(b+1):E+b-E*b,u=E*2-f,l.length>3&&(l[3]*=1),l[0]=t3(_+1/3,u,f),l[1]=t3(_,u,f),l[2]=t3(_-1/3,u,f);else if(~t.indexOf("="))return l=t.match(Joe),o&&l.length<4&&(l[3]=1),l}else l=t.match(Aw)||Rm.transparent;l=l.map(Number)}return r&&!F&&(u=l[0]/Pi,f=l[1]/Pi,i=l[2]/Pi,k=Math.max(u,f,i),R=Math.min(u,f,i),E=(k+R)/2,k===R?_=b=0:(B=k-R,b=E>.5?B/(2-k-R):B/(k+R),_=k===u?(f-i)/B+(f<i?6:0):k===f?(i-u)/B+2:(u-f)/B+4,_*=60),l[0]=~~(_+.5),l[1]=~~(b*100+.5),l[2]=~~(E*100+.5)),o&&l.length<4&&(l[3]=1),l},KA=function(t){var r=[],o=[],l=-1;return t.split(bf).forEach(function(u){var f=u.match(EA)||[];r.push.apply(r,f),o.push(l+=f.length+1)}),r.c=o,r},SE=function(t,r,o){var l="",u=(t+l).match(bf),f=r?"hsla(":"rgba(",i=0,_,b,E,k;if(!u)return t;if(u=u.map(function(R){return(R=YA(R,r,1))&&f+(r?R[0]+","+R[1]+"%,"+R[2]+"%,"+R[3]:R.join(","))+")"}),o&&(E=KA(t),_=o.c,_.join(l)!==E.c.join(l)))for(b=t.replace(bf,"1").split(EA),k=b.length-1;i<k;i++)l+=b[i]+(~_.indexOf(i)?u.shift()||f+"0,0,0,0)":(E.length?E:u.length?u:o).shift());if(!b)for(b=t.split(bf),k=b.length-1;i<k;i++)l+=b[i]+u[i];return l+b[k]},bf=function(){var e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",t;for(t in Rm)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),wse=/hsl[a]?\(/,Sse=function(t){var r=t.join(" "),o;if(bf.lastIndex=0,bf.test(r))return o=wse.test(r),t[1]=SE(t[1],o),t[0]=SE(t[0],o,KA(t[1])),!0},Og,Ll=function(){var e=Date.now,t=500,r=33,o=e(),l=o,u=1e3/240,f=u,i=[],_,b,E,k,R,B,F=function L(X){var $=e()-l,H=X===!0,G,Q,te,le;if($>t&&(o+=$-r),l+=$,te=l-o,G=te-f,(G>0||H)&&(le=++k.frame,R=te-k.time*1e3,k.time=te=te/1e3,f+=G+(G>=u?4:u-G),Q=1),H||(_=b(L)),Q)for(B=0;B<i.length;B++)i[B](te,R,le,X)};return k={time:0,frame:0,tick:function(){F(!0)},deltaRatio:function(X){return R/(1e3/(X||60))},wake:function(){kA&&(!Dw&&Y5()&&(Wa=Dw=window,K5=Wa.document||{},ka.gsap=jh,(Wa.gsapVersions||(Wa.gsapVersions=[])).push(jh.version),MA(J_||Wa.GreenSockGlobals||!Wa.gsap&&Wa||{}),E=Wa.requestAnimationFrame,ZA.forEach(XA)),_&&k.sleep(),b=E||function(X){return setTimeout(X,f-k.time*1e3+1|0)},Og=1,F(2))},sleep:function(){(E?Wa.cancelAnimationFrame:clearTimeout)(_),Og=0,b=Lg},lagSmoothing:function(X,$){t=X||1/0,r=Math.min($||33,t)},fps:function(X){u=1e3/(X||240),f=k.time*1e3+u},add:function(X,$,H){var G=$?function(Q,te,le,M){X(Q,te,le,M),k.remove(G)}:X;return k.remove(X),i[H?"unshift":"push"](G),Uf(),G},remove:function(X,$){~($=i.indexOf(X))&&i.splice($,1)&&B>=$&&B--},_listeners:i},k}(),Uf=function(){return!Og&&Ll.wake()},$r={},Tse=/^[\d.\-M][\d.\-,\s]/,Cse=/["']/g,Ese=function(t){for(var r={},o=t.substr(1,t.length-3).split(":"),l=o[0],u=1,f=o.length,i,_,b;u<f;u++)_=o[u],i=u!==f-1?_.lastIndexOf(","):_.length,b=_.substr(0,i),r[l]=isNaN(b)?b.replace(Cse,"").trim():+b,l=_.substr(i+1).trim();return r},Pse=function(t){var r=t.indexOf("(")+1,o=t.indexOf(")"),l=t.indexOf("(",r);return t.substring(r,~l&&l<o?t.indexOf(")",o+1):o)},kse=function(t){var r=(t+"").split("("),o=$r[r[0]];return o&&r.length>1&&o.config?o.config.apply(null,~t.indexOf("{")?[Ese(r[1])]:Pse(t).split(",").map(LA)):$r._CE&&Tse.test(t)?$r._CE("",t):o},JA=function(t){return function(r){return 1-t(1-r)}},QA=function e(t,r){for(var o=t._first,l;o;)o instanceof Io?e(o,r):o.vars.yoyoEase&&(!o._yoyo||!o._repeat)&&o._yoyo!==r&&(o.timeline?e(o.timeline,r):(l=o._ease,o._ease=o._yEase,o._yEase=l,o._yoyo=r)),o=o._next},Ph=function(t,r){return t&&(lo(t)?t:$r[t]||kse(t))||r},Xh=function(t,r,o,l){o===void 0&&(o=function(_){return 1-r(1-_)}),l===void 0&&(l=function(_){return _<.5?r(_*2)/2:1-r((1-_)*2)/2});var u={easeIn:r,easeOut:o,easeInOut:l},f;return Tu(t,function(i){$r[i]=ka[i]=u,$r[f=i.toLowerCase()]=o;for(var _ in u)$r[f+(_==="easeIn"?".in":_==="easeOut"?".out":".inOut")]=$r[i+"."+_]=u[_]}),u},eD=function(t){return function(r){return r<.5?(1-t(1-r*2))/2:.5+t((r-.5)*2)/2}},n3=function e(t,r,o){var l=r>=1?r:1,u=(o||(t?.3:.45))/(r<1?r:1),f=u/Iw*(Math.asin(1/l)||0),i=function(E){return E===1?1:l*Math.pow(2,-10*E)*Koe((E-f)*u)+1},_=t==="out"?i:t==="in"?function(b){return 1-i(1-b)}:eD(i);return u=Iw/u,_.config=function(b,E){return e(t,b,E)},_},r3=function e(t,r){r===void 0&&(r=1.70158);var o=function(f){return f?--f*f*((r+1)*f+r)+1:0},l=t==="out"?o:t==="in"?function(u){return 1-o(1-u)}:eD(o);return l.config=function(u){return e(t,u)},l};Tu("Linear,Quad,Cubic,Quart,Quint,Strong",function(e,t){var r=t<5?t+1:t;Xh(e+",Power"+(r-1),t?function(o){return Math.pow(o,r)}:function(o){return o},function(o){return 1-Math.pow(1-o,r)},function(o){return o<.5?Math.pow(o*2,r)/2:1-Math.pow((1-o)*2,r)/2})});$r.Linear.easeNone=$r.none=$r.Linear.easeIn;Xh("Elastic",n3("in"),n3("out"),n3());(function(e,t){var r=1/t,o=2*r,l=2.5*r,u=function(i){return i<r?e*i*i:i<o?e*Math.pow(i-1.5/t,2)+.75:i<l?e*(i-=2.25/t)*i+.9375:e*Math.pow(i-2.625/t,2)+.984375};Xh("Bounce",function(f){return 1-u(1-f)},u)})(7.5625,2.75);Xh("Expo",function(e){return e?Math.pow(2,10*(e-1)):0});Xh("Circ",function(e){return-(SA(1-e*e)-1)});Xh("Sine",function(e){return e===1?1:-Yoe(e*Zoe)+1});Xh("Back",r3("in"),r3("out"),r3());$r.SteppedEase=$r.steps=ka.SteppedEase={config:function(t,r){t===void 0&&(t=1);var o=1/t,l=t+(r?0:1),u=r?1:0,f=1-ki;return function(i){return((l*i0(0,f,i)|0)+u)*o}}};$f.ease=$r["quad.out"];Tu("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(e){return Q5+=e+","+e+"Params,"});var Mse=function(t,r){this.id=Xoe++,t._gsap=this,this.target=t,this.harness=r,this.get=r?r.get:rse,this.set=r?r.getSetter:iD},Fg=function(){function e(r){this.vars=r,this._delay=+r.delay||0,(this._repeat=r.repeat===1/0?-2:r.repeat||0)&&(this._rDelay=r.repeatDelay||0,this._yoyo=!!r.yoyo||!!r.yoyoEase),this._ts=1,Vf(this,+r.duration,1,1),this.data=r.data,ao&&(this._ctx=ao,ao.data.push(this)),Og||Ll.wake()}var t=e.prototype;return t.delay=function(o){return o||o===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+o-this._delay),this._delay=o,this):this._delay},t.duration=function(o){return arguments.length?this.totalDuration(this._repeat>0?o+(o+this._rDelay)*this._repeat:o):this.totalDuration()&&this._dur},t.totalDuration=function(o){return arguments.length?(this._dirty=0,Vf(this,this._repeat<0?o:(o-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(o,l){if(Uf(),!arguments.length)return this._tTime;var u=this._dp;if(u&&u.smoothChildTiming&&this._ts){for(Av(this,o),!u._dp||u.parent||BA(u,this);u&&u.parent;)u.parent._time!==u._start+(u._ts>=0?u._tTime/u._ts:(u.totalDuration()-u._tTime)/-u._ts)&&u.totalTime(u._tTime,!0),u=u.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&o<this._tDur||this._ts<0&&o>0||!this._tDur&&!o)&&bc(this._dp,this,this._start-this._delay)}return(this._tTime!==o||!this._dur&&!l||this._initted&&Math.abs(this._zTime)===ki||!o&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=o),zA(this,o,l)),this},t.time=function(o,l){return arguments.length?this.totalTime(Math.min(this.totalDuration(),o+xE(this))%(this._dur+this._rDelay)||(o?this._dur:0),l):this._time},t.totalProgress=function(o,l){return arguments.length?this.totalTime(this.totalDuration()*o,l):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},t.progress=function(o,l){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-o:o)+xE(this),l):this.duration()?Math.min(1,this._time/this._dur):this.ratio},t.iteration=function(o,l){var u=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(o-1)*u,l):this._repeat?jf(this._tTime,u)+1:1},t.timeScale=function(o){if(!arguments.length)return this._rts===-ki?0:this._rts;if(this._rts===o)return this;var l=this.parent&&this._ts?n2(this.parent._time,this):this._tTime;return this._rts=+o||0,this._ts=this._ps||o===-ki?0:this._rts,this.totalTime(i0(-Math.abs(this._delay),this._tDur,l),!0),Iv(this),lse(this)},t.paused=function(o){return arguments.length?(this._ps!==o&&(this._ps=o,o?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Uf(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==ki&&(this._tTime-=ki)))),this):this._ps},t.startTime=function(o){if(arguments.length){this._start=o;var l=this.parent||this._dp;return l&&(l._sort||!this.parent)&&bc(l,this,o-this._delay),this}return this._start},t.endTime=function(o){return this._start+(ta(o)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(o){var l=this.parent||this._dp;return l?o&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?n2(l.rawTime(o),this):this._tTime:this._tTime},t.revert=function(o){o===void 0&&(o=nse);var l=_s;return _s=o,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(o),this.totalTime(-.01,o.suppressEvents)),this.data!=="nested"&&o.kill!==!1&&this.kill(),_s=l,this},t.globalTime=function(o){for(var l=this,u=arguments.length?o:l.rawTime();l;)u=l._start+u/(l._ts||1),l=l._dp;return!this.parent&&this._sat?this._sat.vars.immediateRender?-1/0:this._sat.globalTime(o):u},t.repeat=function(o){return arguments.length?(this._repeat=o===1/0?-2:o,bE(this)):this._repeat===-2?1/0:this._repeat},t.repeatDelay=function(o){if(arguments.length){var l=this._time;return this._rDelay=o,bE(this),l?this.time(l):this}return this._rDelay},t.yoyo=function(o){return arguments.length?(this._yoyo=o,this):this._yoyo},t.seek=function(o,l){return this.totalTime(Ua(this,o),ta(l))},t.restart=function(o,l){return this.play().totalTime(o?-this._delay:0,ta(l))},t.play=function(o,l){return o!=null&&this.seek(o,l),this.reversed(!1).paused(!1)},t.reverse=function(o,l){return o!=null&&this.seek(o||this.totalDuration(),l),this.reversed(!0).paused(!1)},t.pause=function(o,l){return o!=null&&this.seek(o,l),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(o){return arguments.length?(!!o!==this.reversed()&&this.timeScale(-this._rts||(o?-ki:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-ki,this},t.isActive=function(){var o=this.parent||this._dp,l=this._start,u;return!!(!o||this._ts&&this._initted&&o.isActive()&&(u=o.rawTime(!0))>=l&&u<this.endTime(!0)-ki)},t.eventCallback=function(o,l,u){var f=this.vars;return arguments.length>1?(l?(f[o]=l,u&&(f[o+"Params"]=u),o==="onUpdate"&&(this._onUpdate=l)):delete f[o],this):f[o]},t.then=function(o){var l=this;return new Promise(function(u){var f=lo(o)?o:OA,i=function(){var b=l.then;l.then=null,lo(f)&&(f=f(l))&&(f.then||f===l)&&(l.then=b),u(f),l.then=b};l._initted&&l.totalProgress()===1&&l._ts>=0||!l._tTime&&l._ts<0?i():l._prom=i})},t.kill=function(){Dm(this)},e}();ll(Fg.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-ki,_prom:0,_ps:!1,_rts:1});var Io=function(e){wA(t,e);function t(o,l){var u;return o===void 0&&(o={}),u=e.call(this,o)||this,u.labels={},u.smoothChildTiming=!!o.smoothChildTiming,u.autoRemoveChildren=!!o.autoRemoveChildren,u._sort=ta(o.sortChildren),Qi&&bc(o.parent||Qi,su(u),l),o.reversed&&u.reverse(),o.paused&&u.paused(!0),o.scrollTrigger&&NA(su(u),o.scrollTrigger),u}var r=t.prototype;return r.to=function(l,u,f){return eg(0,arguments,this),this},r.from=function(l,u,f){return eg(1,arguments,this),this},r.fromTo=function(l,u,f,i){return eg(2,arguments,this),this},r.set=function(l,u,f){return u.duration=0,u.parent=this,Qm(u).repeatDelay||(u.repeat=0),u.immediateRender=!!u.immediateRender,new _o(l,u,Ua(this,f),1),this},r.call=function(l,u,f){return bc(this,_o.delayedCall(0,l,u),f)},r.staggerTo=function(l,u,f,i,_,b,E){return f.duration=u,f.stagger=f.stagger||i,f.onComplete=b,f.onCompleteParams=E,f.parent=this,new _o(l,f,Ua(this,_)),this},r.staggerFrom=function(l,u,f,i,_,b,E){return f.runBackwards=1,Qm(f).immediateRender=ta(f.immediateRender),this.staggerTo(l,u,f,i,_,b,E)},r.staggerFromTo=function(l,u,f,i,_,b,E,k){return i.startAt=f,Qm(i).immediateRender=ta(i.immediateRender),this.staggerTo(l,u,i,_,b,E,k)},r.render=function(l,u,f){var i=this._time,_=this._dirty?this.totalDuration():this._tDur,b=this._dur,E=l<=0?0:es(l),k=this._zTime<0!=l<0&&(this._initted||!b),R,B,F,L,X,$,H,G,Q,te,le,M;if(this!==Qi&&E>_&&l>=0&&(E=_),E!==this._tTime||f||k){if(i!==this._time&&b&&(E+=this._time-i,l+=this._time-i),R=E,Q=this._start,G=this._ts,$=!G,k&&(b||(i=this._zTime),(l||!u)&&(this._zTime=l)),this._repeat){if(le=this._yoyo,X=b+this._rDelay,this._repeat<-1&&l<0)return this.totalTime(X*100+l,u,f);if(R=es(E%X),E===_?(L=this._repeat,R=b):(L=~~(E/X),L&&L===E/X&&(R=b,L--),R>b&&(R=b)),te=jf(this._tTime,X),!i&&this._tTime&&te!==L&&this._tTime-te*X-this._dur<=0&&(te=L),le&&L&1&&(R=b-R,M=1),L!==te&&!this._lock){var de=le&&te&1,ce=de===(le&&L&1);if(L<te&&(de=!de),i=de?0:E%b?b:E,this._lock=1,this.render(i||(M?0:es(L*X)),u,!b)._lock=0,this._tTime=E,!u&&this.parent&&Ja(this,"onRepeat"),this.vars.repeatRefresh&&!M&&(this.invalidate()._lock=1),i&&i!==this._time||$!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(b=this._dur,_=this._tDur,ce&&(this._lock=2,i=de?b:-1e-4,this.render(i,!0),this.vars.repeatRefresh&&!M&&this.invalidate()),this._lock=0,!this._ts&&!$)return this;QA(this,M)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(H=hse(this,es(i),es(R)),H&&(E-=R-(R=H._start))),this._tTime=E,this._time=R,this._act=!G,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=l,i=0),!i&&R&&!u&&!L&&(Ja(this,"onStart"),this._tTime!==E))return this;if(R>=i&&l>=0)for(B=this._first;B;){if(F=B._next,(B._act||R>=B._start)&&B._ts&&H!==B){if(B.parent!==this)return this.render(l,u,f);if(B.render(B._ts>0?(R-B._start)*B._ts:(B._dirty?B.totalDuration():B._tDur)+(R-B._start)*B._ts,u,f),R!==this._time||!this._ts&&!$){H=0,F&&(E+=this._zTime=-ki);break}}B=F}else{B=this._last;for(var xe=l<0?l:R;B;){if(F=B._prev,(B._act||xe<=B._end)&&B._ts&&H!==B){if(B.parent!==this)return this.render(l,u,f);if(B.render(B._ts>0?(xe-B._start)*B._ts:(B._dirty?B.totalDuration():B._tDur)+(xe-B._start)*B._ts,u,f||_s&&(B._initted||B._startAt)),R!==this._time||!this._ts&&!$){H=0,F&&(E+=this._zTime=xe?-ki:ki);break}}B=F}}if(H&&!u&&(this.pause(),H.render(R>=i?0:-ki)._zTime=R>=i?1:-1,this._ts))return this._start=Q,Iv(this),this.render(l,u,f);this._onUpdate&&!u&&Ja(this,"onUpdate",!0),(E===_&&this._tTime>=this.totalDuration()||!E&&i)&&(Q===this._start||Math.abs(G)!==Math.abs(this._ts))&&(this._lock||((l||!b)&&(E===_&&this._ts>0||!E&&this._ts<0)&&xd(this,1),!u&&!(l<0&&!i)&&(E||i||!_)&&(Ja(this,E===_&&l>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(E<_&&this.timeScale()>0)&&this._prom())))}return this},r.add=function(l,u){var f=this;if(xu(u)||(u=Ua(this,u,l)),!(l instanceof Fg)){if(vs(l))return l.forEach(function(i){return f.add(i,u)}),this;if(bs(l))return this.addLabel(l,u);if(lo(l))l=_o.delayedCall(0,l);else return this}return this!==l?bc(this,l,u):this},r.getChildren=function(l,u,f,i){l===void 0&&(l=!0),u===void 0&&(u=!0),f===void 0&&(f=!0),i===void 0&&(i=-Ya);for(var _=[],b=this._first;b;)b._start>=i&&(b instanceof _o?u&&_.push(b):(f&&_.push(b),l&&_.push.apply(_,b.getChildren(!0,u,f)))),b=b._next;return _},r.getById=function(l){for(var u=this.getChildren(1,1,1),f=u.length;f--;)if(u[f].vars.id===l)return u[f]},r.remove=function(l){return bs(l)?this.removeLabel(l):lo(l)?this.killTweensOf(l):(Mv(this,l),l===this._recent&&(this._recent=this._last),Eh(this))},r.totalTime=function(l,u){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=es(Ll.time-(this._ts>0?l/this._ts:(this.totalDuration()-l)/-this._ts))),e.prototype.totalTime.call(this,l,u),this._forcing=0,this):this._tTime},r.addLabel=function(l,u){return this.labels[l]=Ua(this,u),this},r.removeLabel=function(l){return delete this.labels[l],this},r.addPause=function(l,u,f){var i=_o.delayedCall(0,u||Lg,f);return i.data="isPause",this._hasPause=1,bc(this,i,Ua(this,l))},r.removePause=function(l){var u=this._first;for(l=Ua(this,l);u;)u._start===l&&u.data==="isPause"&&xd(u),u=u._next},r.killTweensOf=function(l,u,f){for(var i=this.getTweensOf(l,f),_=i.length;_--;)sd!==i[_]&&i[_].kill(l,u);return this},r.getTweensOf=function(l,u){for(var f=[],i=Ka(l),_=this._first,b=xu(u),E;_;)_ instanceof _o?ose(_._targets,i)&&(b?(!sd||_._initted&&_._ts)&&_.globalTime(0)<=u&&_.globalTime(_.totalDuration())>u:!u||_.isActive())&&f.push(_):(E=_.getTweensOf(i,u)).length&&f.push.apply(f,E),_=_._next;return f},r.tweenTo=function(l,u){u=u||{};var f=this,i=Ua(f,l),_=u,b=_.startAt,E=_.onStart,k=_.onStartParams,R=_.immediateRender,B,F=_o.to(f,ll({ease:u.ease||"none",lazy:!1,immediateRender:!1,time:i,overwrite:"auto",duration:u.duration||Math.abs((i-(b&&"time"in b?b.time:f._time))/f.timeScale())||ki,onStart:function(){if(f.pause(),!B){var X=u.duration||Math.abs((i-(b&&"time"in b?b.time:f._time))/f.timeScale());F._dur!==X&&Vf(F,X,0,1).render(F._time,!0,!0),B=1}E&&E.apply(F,k||[])}},u));return R?F.render(0):F},r.tweenFromTo=function(l,u,f){return this.tweenTo(u,ll({startAt:{time:Ua(this,l)}},f))},r.recent=function(){return this._recent},r.nextLabel=function(l){return l===void 0&&(l=this._time),wE(this,Ua(this,l))},r.previousLabel=function(l){return l===void 0&&(l=this._time),wE(this,Ua(this,l),1)},r.currentLabel=function(l){return arguments.length?this.seek(l,!0):this.previousLabel(this._time+ki)},r.shiftChildren=function(l,u,f){f===void 0&&(f=0);for(var i=this._first,_=this.labels,b;i;)i._start>=f&&(i._start+=l,i._end+=l),i=i._next;if(u)for(b in _)_[b]>=f&&(_[b]+=l);return Eh(this)},r.invalidate=function(l){var u=this._first;for(this._lock=0;u;)u.invalidate(l),u=u._next;return e.prototype.invalidate.call(this,l)},r.clear=function(l){l===void 0&&(l=!0);for(var u=this._first,f;u;)f=u._next,this.remove(u),u=f;return this._dp&&(this._time=this._tTime=this._pTime=0),l&&(this.labels={}),Eh(this)},r.totalDuration=function(l){var u=0,f=this,i=f._last,_=Ya,b,E,k;if(arguments.length)return f.timeScale((f._repeat<0?f.duration():f.totalDuration())/(f.reversed()?-l:l));if(f._dirty){for(k=f.parent;i;)b=i._prev,i._dirty&&i.totalDuration(),E=i._start,E>_&&f._sort&&i._ts&&!f._lock?(f._lock=1,bc(f,i,E-i._delay,1)._lock=0):_=E,E<0&&i._ts&&(u-=E,(!k&&!f._dp||k&&k.smoothChildTiming)&&(f._start+=E/f._ts,f._time-=E,f._tTime-=E),f.shiftChildren(-E,!1,-1/0),_=0),i._end>u&&i._ts&&(u=i._end),i=b;Vf(f,f===Qi&&f._time>u?f._time:u,1,1),f._dirty=0}return f._tDur},t.updateRoot=function(l){if(Qi._ts&&(zA(Qi,n2(l,Qi)),DA=Ll.frame),Ll.frame>=_E){_E+=Nf.autoSleep||120;var u=Qi._first;if((!u||!u._ts)&&Nf.autoSleep&&Ll._listeners.length<2){for(;u&&!u._ts;)u=u._next;u||Ll.sleep()}}},t}(Fg);ll(Io.prototype,{_lock:0,_hasPause:0,_forcing:0});var Ise=function(t,r,o,l,u,f,i){var _=new n1(this._pt,t,r,0,1,Nse,null,u),b=0,E=0,k,R,B,F,L,X,$,H;for(_.b=o,_.e=l,o+="",l+="",($=~l.indexOf("random("))&&(l=t6(l)),f&&(H=[o,l],f(H,t,r),o=H[0],l=H[1]),R=o.match(Qb)||[];k=Qb.exec(l);)F=k[0],L=l.substring(b,k.index),B?B=(B+1)%5:L.substr(-5)==="rgba("&&(B=1),F!==R[E++]&&(X=parseFloat(R[E-1])||0,_._pt={_next:_._pt,p:L||E===1?L:",",s:X,c:F.charAt(1)==="="?RA(X,F)-X:parseFloat(F)-X,m:B&&B<4?Math.round:0},b=Qb.lastIndex);return _.c=b<l.length?l.substring(b,l.length):"",_.fp=i,(Qoe.test(l)||$)&&(_.e=0),this._pt=_,_},n6=function(t,r,o,l,u,f,i,_,b,E){lo(l)&&(l=l(u||0,t,f));var k=t[r],R=o!=="get"?o:lo(k)?b?t[r.indexOf("set")||!lo(t["get"+r.substr(3)])?r:"get"+r.substr(3)](b):t[r]():k,B=lo(k)?b?Ose:rD:i6,F;if(bs(l)&&(~l.indexOf("random(")&&(l=t6(l)),l.charAt(1)==="="&&(F=RA(R,l)+(bd(R)||0),(F||F===0)&&(l=F))),!E||R!==l||Nw)return!isNaN(R*l)&&l!==""?(F=new n1(this._pt,t,r,+R||0,l-(R||0),typeof k=="boolean"?Bse:oD,0,B),b&&(F.fp=b),i&&F.modifier(i,this,t),this._pt=F):(!k&&!(r in t)&&IA(r,l),Ise.call(this,t,r,R,l,B,_||Nf.stringFilter,b))},Ase=function(t,r,o,l,u){if(lo(t)&&(t=tg(t,u,r,o,l)),!Mc(t)||t.style&&t.nodeType||vs(t)||CA(t))return bs(t)?tg(t,u,r,o,l):t;var f={},i;for(i in t)f[i]=tg(t[i],u,r,o,l);return f},Dse=function(t,r,o,l,u,f){var i,_,b,E;if(Ga[t]&&(i=new Ga[t]).init(u,i.rawVars?r[t]:Ase(r[t],l,u,f,o),o,l,f)!==!1&&(o._pt=_=new n1(o._pt,u,t,0,1,i.render,i,0,i.priority),o!==lf))for(b=o._ptLookup[o._targets.indexOf(u)],E=i._props.length;E--;)b[i._props[E]]=_;return i},sd,Nw,r6=function e(t,r,o){var l=t.vars,u=l.ease,f=l.startAt,i=l.immediateRender,_=l.lazy,b=l.onUpdate,E=l.onUpdateParams,k=l.callbackScope,R=l.runBackwards,B=l.yoyoEase,F=l.keyframes,L=l.autoRevert,X=t._dur,$=t._startAt,H=t._targets,G=t.parent,Q=G&&G.data==="nested"?G.vars.targets:H,te=t._overwrite==="auto"&&!X5,le=t.timeline,M,de,ce,xe,ke,$e,_e,we,me,je,ze,Me,Le;if(le&&(!F||!u)&&(u="none"),t._ease=Ph(u,$f.ease),t._yEase=B?JA(Ph(B===!0?u:B,$f.ease)):0,B&&t._yoyo&&!t._repeat&&(B=t._yEase,t._yEase=t._ease,t._ease=B),t._from=!le&&!!l.runBackwards,!le||F&&!l.stagger){if(we=H[0]?Jm(H[0]).harness:0,Me=we&&l[we.prop],M=t2(l,J5),$&&($._zTime<0&&$.progress(1),r<0&&R&&i&&!L?$.render(-1,!0):$.revert(R&&X?l_:tse),$._lazy=0),f){if(xd(t._startAt=_o.set(H,ll({data:"isStart",overwrite:!1,parent:G,immediateRender:!0,lazy:!$&&ta(_),startAt:null,delay:0,onUpdate:b,onUpdateParams:E,callbackScope:k,stagger:0},f))),t._startAt._dp=0,t._startAt._sat=t,r<0&&(_s||!i&&!L)&&t._startAt.revert(l_),i&&X&&r<=0&&o<=0){r&&(t._zTime=r);return}}else if(R&&X&&!$){if(r&&(i=!1),ce=ll({overwrite:!1,data:"isFromStart",lazy:i&&!$&&ta(_),immediateRender:i,stagger:0,parent:G},M),Me&&(ce[we.prop]=Me),xd(t._startAt=_o.set(H,ce)),t._startAt._dp=0,t._startAt._sat=t,r<0&&(_s?t._startAt.revert(l_):t._startAt.render(-1,!0)),t._zTime=r,!i)e(t._startAt,ki,ki);else if(!r)return}for(t._pt=t._ptCache=0,_=X&&ta(_)||_&&!X,de=0;de<H.length;de++){if(ke=H[de],_e=ke._gsap||e6(H)[de]._gsap,t._ptLookup[de]=je={},Rw[_e.id]&&gd.length&&e2(),ze=Q===H?de:Q.indexOf(ke),we&&(me=new we).init(ke,Me||M,t,ze,Q)!==!1&&(t._pt=xe=new n1(t._pt,ke,me.name,0,1,me.render,me,0,me.priority),me._props.forEach(function(qe){je[qe]=xe}),me.priority&&($e=1)),!we||Me)for(ce in M)Ga[ce]&&(me=Dse(ce,M,t,ze,ke,Q))?me.priority&&($e=1):je[ce]=xe=n6.call(t,ke,ce,"get",M[ce],ze,Q,0,l.stringFilter);t._op&&t._op[de]&&t.kill(ke,t._op[de]),te&&t._pt&&(sd=t,Qi.killTweensOf(ke,je,t.globalTime(r)),Le=!t.parent,sd=0),t._pt&&_&&(Rw[_e.id]=1)}$e&&Use(t),t._onInit&&t._onInit(t)}t._onUpdate=b,t._initted=(!t._op||t._pt)&&!Le,F&&r<=0&&le.render(Ya,!0,!0)},Rse=function(t,r,o,l,u,f,i){var _=(t._pt&&t._ptCache||(t._ptCache={}))[r],b,E,k,R;if(!_)for(_=t._ptCache[r]=[],k=t._ptLookup,R=t._targets.length;R--;){if(b=k[R][r],b&&b.d&&b.d._pt)for(b=b.d._pt;b&&b.p!==r&&b.fp!==r;)b=b._next;if(!b)return Nw=1,t.vars[r]="+=0",r6(t,i),Nw=0,1;_.push(b)}for(R=_.length;R--;)E=_[R],b=E._pt||E,b.s=(l||l===0)&&!u?l:b.s+(l||0)+f*b.c,b.c=o-b.s,E.e&&(E.e=ise(o)+bd(E.e)),E.b&&(E.b=b.s+bd(E.b))},zse=function(t,r){var o=t[0]?Jm(t[0]).harness:0,l=o&&o.aliases,u,f,i,_;if(!l)return r;u=$h({},r);for(f in l)if(f in u)for(_=l[f].split(","),i=_.length;i--;)u[_[i]]=u[f];return u},Lse=function(t,r,o,l){var u=r.ease||l||"power1.inOut",f,i;if(vs(r))i=o[t]||(o[t]=[]),r.forEach(function(_,b){return i.push({t:b/(r.length-1)*100,v:_,e:u})});else for(f in r)i=o[f]||(o[f]=[]),f==="ease"||i.push({t:parseFloat(t),v:r[f],e:u})},tg=function(t,r,o,l,u){return lo(t)?t.call(r,o,l,u):bs(t)&&~t.indexOf("random(")?t6(t):t},tD=Q5+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",nD={};Tu(tD+",id,stagger,delay,duration,paused,scrollTrigger",function(e){return nD[e]=1});var _o=function(e){wA(t,e);function t(o,l,u,f){var i;typeof l=="number"&&(u.duration=l,l=u,u=null),i=e.call(this,f?l:Qm(l))||this;var _=i.vars,b=_.duration,E=_.delay,k=_.immediateRender,R=_.stagger,B=_.overwrite,F=_.keyframes,L=_.defaults,X=_.scrollTrigger,$=_.yoyoEase,H=l.parent||Qi,G=(vs(o)||CA(o)?xu(o[0]):"length"in l)?[o]:Ka(o),Q,te,le,M,de,ce,xe,ke;if(i._targets=G.length?e6(G):Q_("GSAP target "+o+" not found. https://greensock.com",!Nf.nullTargetWarn)||[],i._ptLookup=[],i._overwrite=B,F||R||Ny(b)||Ny(E)){if(l=i.vars,Q=i.timeline=new Io({data:"nested",defaults:L||{},targets:H&&H.data==="nested"?H.vars.targets:G}),Q.kill(),Q.parent=Q._dp=su(i),Q._start=0,R||Ny(b)||Ny(E)){if(M=G.length,xe=R&&UA(R),Mc(R))for(de in R)~tD.indexOf(de)&&(ke||(ke={}),ke[de]=R[de]);for(te=0;te<M;te++)le=t2(l,nD),le.stagger=0,$&&(le.yoyoEase=$),ke&&$h(le,ke),ce=G[te],le.duration=+tg(b,su(i),te,ce,G),le.delay=(+tg(E,su(i),te,ce,G)||0)-i._delay,!R&&M===1&&le.delay&&(i._delay=E=le.delay,i._start+=E,le.delay=0),Q.to(ce,le,xe?xe(te,ce,G):0),Q._ease=$r.none;Q.duration()?b=E=0:i.timeline=0}else if(F){Qm(ll(Q.vars.defaults,{ease:"none"})),Q._ease=Ph(F.ease||l.ease||"none");var $e=0,_e,we,me;if(vs(F))F.forEach(function(je){return Q.to(G,je,">")}),Q.duration();else{le={};for(de in F)de==="ease"||de==="easeEach"||Lse(de,F[de],le,F.easeEach);for(de in le)for(_e=le[de].sort(function(je,ze){return je.t-ze.t}),$e=0,te=0;te<_e.length;te++)we=_e[te],me={ease:we.e,duration:(we.t-(te?_e[te-1].t:0))/100*b},me[de]=we.v,Q.to(G,me,$e),$e+=me.duration;Q.duration()<b&&Q.to({},{duration:b-Q.duration()})}}b||i.duration(b=Q.duration())}else i.timeline=0;return B===!0&&!X5&&(sd=su(i),Qi.killTweensOf(G),sd=0),bc(H,su(i),u),l.reversed&&i.reverse(),l.paused&&i.paused(!0),(k||!b&&!F&&i._start===es(H._time)&&ta(k)&&cse(su(i))&&H.data!=="nested")&&(i._tTime=-ki,i.render(Math.max(0,-E)||0)),X&&NA(su(i),X),i}var r=t.prototype;return r.render=function(l,u,f){var i=this._time,_=this._tDur,b=this._dur,E=l<0,k=l>_-ki&&!E?_:l<ki?0:l,R,B,F,L,X,$,H,G,Q;if(!b)dse(this,l,u,f);else if(k!==this._tTime||!l||f||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==E){if(R=k,G=this.timeline,this._repeat){if(L=b+this._rDelay,this._repeat<-1&&E)return this.totalTime(L*100+l,u,f);if(R=es(k%L),k===_?(F=this._repeat,R=b):(F=~~(k/L),F&&F===k/L&&(R=b,F--),R>b&&(R=b)),$=this._yoyo&&F&1,$&&(Q=this._yEase,R=b-R),X=jf(this._tTime,L),R===i&&!f&&this._initted)return this._tTime=k,this;F!==X&&(G&&this._yEase&&QA(G,$),this.vars.repeatRefresh&&!$&&!this._lock&&(this._lock=f=1,this.render(es(L*F),!0).invalidate()._lock=0))}if(!this._initted){if($A(this,E?l:R,f,u,k))return this._tTime=0,this;if(i!==this._time)return this;if(b!==this._dur)return this.render(l,u,f)}if(this._tTime=k,this._time=R,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=H=(Q||this._ease)(R/b),this._from&&(this.ratio=H=1-H),R&&!i&&!u&&!F&&(Ja(this,"onStart"),this._tTime!==k))return this;for(B=this._pt;B;)B.r(H,B.d),B=B._next;G&&G.render(l<0?l:!R&&$?-ki:G._dur*G._ease(R/this._dur),u,f)||this._startAt&&(this._zTime=l),this._onUpdate&&!u&&(E&&zw(this,l,u,f),Ja(this,"onUpdate")),this._repeat&&F!==X&&this.vars.onRepeat&&!u&&this.parent&&Ja(this,"onRepeat"),(k===this._tDur||!k)&&this._tTime===k&&(E&&!this._onUpdate&&zw(this,l,!0,!0),(l||!b)&&(k===this._tDur&&this._ts>0||!k&&this._ts<0)&&xd(this,1),!u&&!(E&&!i)&&(k||i||$)&&(Ja(this,k===_?"onComplete":"onReverseComplete",!0),this._prom&&!(k<_&&this.timeScale()>0)&&this._prom()))}return this},r.targets=function(){return this._targets},r.invalidate=function(l){return(!l||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(l),e.prototype.invalidate.call(this,l)},r.resetTo=function(l,u,f,i){Og||Ll.wake(),this._ts||this.play();var _=Math.min(this._dur,(this._dp._time-this._start)*this._ts),b;return this._initted||r6(this,_),b=this._ease(_/this._dur),Rse(this,l,u,f,i,b,_)?this.resetTo(l,u,f,i):(Av(this,0),this.parent||FA(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},r.kill=function(l,u){if(u===void 0&&(u="all"),!l&&(!u||u==="all"))return this._lazy=this._pt=0,this.parent?Dm(this):this;if(this.timeline){var f=this.timeline.totalDuration();return this.timeline.killTweensOf(l,u,sd&&sd.vars.overwrite!==!0)._first||Dm(this),this.parent&&f!==this.timeline.totalDuration()&&Vf(this,this._dur*this.timeline._tDur/f,0,1),this}var i=this._targets,_=l?Ka(l):i,b=this._ptLookup,E=this._pt,k,R,B,F,L,X,$;if((!u||u==="all")&&ase(i,_))return u==="all"&&(this._pt=0),Dm(this);for(k=this._op=this._op||[],u!=="all"&&(bs(u)&&(L={},Tu(u,function(H){return L[H]=1}),u=L),u=zse(i,u)),$=i.length;$--;)if(~_.indexOf(i[$])){R=b[$],u==="all"?(k[$]=u,F=R,B={}):(B=k[$]=k[$]||{},F=u);for(L in F)X=R&&R[L],X&&((!("kill"in X.d)||X.d.kill(L)===!0)&&Mv(this,X,"_pt"),delete R[L]),B!=="all"&&(B[L]=1)}return this._initted&&!this._pt&&E&&Dm(this),this},t.to=function(l,u){return new t(l,u,arguments[2])},t.from=function(l,u){return eg(1,arguments)},t.delayedCall=function(l,u,f,i){return new t(u,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:l,onComplete:u,onReverseComplete:u,onCompleteParams:f,onReverseCompleteParams:f,callbackScope:i})},t.fromTo=function(l,u,f){return eg(2,arguments)},t.set=function(l,u){return u.duration=0,u.repeatDelay||(u.repeat=0),new t(l,u)},t.killTweensOf=function(l,u,f){return Qi.killTweensOf(l,u,f)},t}(Fg);ll(_o.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Tu("staggerTo,staggerFrom,staggerFromTo",function(e){_o[e]=function(){var t=new Io,r=Ow.call(arguments,0);return r.splice(e==="staggerFromTo"?5:4,0,0),t[e].apply(t,r)}});var i6=function(t,r,o){return t[r]=o},rD=function(t,r,o){return t[r](o)},Ose=function(t,r,o,l){return t[r](l.fp,o)},Fse=function(t,r,o){return t.setAttribute(r,o)},iD=function(t,r){return lo(t[r])?rD:TA(t[r])&&t.setAttribute?Fse:i6},oD=function(t,r){return r.set(r.t,r.p,Math.round((r.s+r.c*t)*1e6)/1e6,r)},Bse=function(t,r){return r.set(r.t,r.p,!!(r.s+r.c*t),r)},Nse=function(t,r){var o=r._pt,l="";if(!t&&r.b)l=r.b;else if(t===1&&r.e)l=r.e;else{for(;o;)l=o.p+(o.m?o.m(o.s+o.c*t):Math.round((o.s+o.c*t)*1e4)/1e4)+l,o=o._next;l+=r.c}r.set(r.t,r.p,l,r)},o6=function(t,r){for(var o=r._pt;o;)o.r(t,o.d),o=o._next},$se=function(t,r,o,l){for(var u=this._pt,f;u;)f=u._next,u.p===l&&u.modifier(t,r,o),u=f},jse=function(t){for(var r=this._pt,o,l;r;)l=r._next,r.p===t&&!r.op||r.op===t?Mv(this,r,"_pt"):r.dep||(o=1),r=l;return!o},Vse=function(t,r,o,l){l.mSet(t,r,l.m.call(l.tween,o,l.mt),l)},Use=function(t){for(var r=t._pt,o,l,u,f;r;){for(o=r._next,l=u;l&&l.pr>r.pr;)l=l._next;(r._prev=l?l._prev:f)?r._prev._next=r:u=r,(r._next=l)?l._prev=r:f=r,r=o}t._pt=u},n1=function(){function e(r,o,l,u,f,i,_,b,E){this.t=o,this.s=u,this.c=f,this.p=l,this.r=i||oD,this.d=_||this,this.set=b||i6,this.pr=E||0,this._next=r,r&&(r._prev=this)}var t=e.prototype;return t.modifier=function(o,l,u){this.mSet=this.mSet||this.set,this.set=Vse,this.m=o,this.mt=u,this.tween=l},e}();Tu(Q5+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(e){return J5[e]=1});ka.TweenMax=ka.TweenLite=_o;ka.TimelineLite=ka.TimelineMax=Io;Qi=new Io({sortChildren:!1,defaults:$f,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Nf.stringFilter=Sse;var kh=[],u_={},Wse=[],TE=0,Hse=0,i3=function(t){return(u_[t]||Wse).map(function(r){return r()})},$w=function(){var t=Date.now(),r=[];t-TE>2&&(i3("matchMediaInit"),kh.forEach(function(o){var l=o.queries,u=o.conditions,f,i,_,b;for(i in l)f=Wa.matchMedia(l[i]).matches,f&&(_=1),f!==u[i]&&(u[i]=f,b=1);b&&(o.revert(),_&&r.push(o))}),i3("matchMediaRevert"),r.forEach(function(o){return o.onMatch(o)}),TE=t,i3("matchMedia"))},sD=function(){function e(r,o){this.selector=o&&Fw(o),this.data=[],this._r=[],this.isReverted=!1,this.id=Hse++,r&&this.add(r)}var t=e.prototype;return t.add=function(o,l,u){lo(o)&&(u=l,l=o,o=lo);var f=this,i=function(){var b=ao,E=f.selector,k;return b&&b!==f&&b.data.push(f),u&&(f.selector=Fw(u)),ao=f,k=l.apply(f,arguments),lo(k)&&f._r.push(k),ao=b,f.selector=E,f.isReverted=!1,k};return f.last=i,o===lo?i(f):o?f[o]=i:i},t.ignore=function(o){var l=ao;ao=null,o(this),ao=l},t.getTweens=function(){var o=[];return this.data.forEach(function(l){return l instanceof e?o.push.apply(o,l.getTweens()):l instanceof _o&&!(l.parent&&l.parent.data==="nested")&&o.push(l)}),o},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(o,l){var u=this;if(o){var f=this.getTweens();this.data.forEach(function(_){_.data==="isFlip"&&(_.revert(),_.getChildren(!0,!0,!1).forEach(function(b){return f.splice(f.indexOf(b),1)}))}),f.map(function(_){return{g:_.globalTime(0),t:_}}).sort(function(_,b){return b.g-_.g||-1/0}).forEach(function(_){return _.t.revert(o)}),this.data.forEach(function(_){return!(_ instanceof _o)&&_.revert&&_.revert(o)}),this._r.forEach(function(_){return _(o,u)}),this.isReverted=!0}else this.data.forEach(function(_){return _.kill&&_.kill()});if(this.clear(),l)for(var i=kh.length;i--;)kh[i].id===this.id&&kh.splice(i,1)},t.revert=function(o){this.kill(o||{})},e}(),Gse=function(){function e(r){this.contexts=[],this.scope=r}var t=e.prototype;return t.add=function(o,l,u){Mc(o)||(o={matches:o});var f=new sD(0,u||this.scope),i=f.conditions={},_,b,E;ao&&!f.selector&&(f.selector=ao.selector),this.contexts.push(f),l=f.add("onMatch",l),f.queries=o;for(b in o)b==="all"?E=1:(_=Wa.matchMedia(o[b]),_&&(kh.indexOf(f)<0&&kh.push(f),(i[b]=_.matches)&&(E=1),_.addListener?_.addListener($w):_.addEventListener("change",$w)));return E&&l(f),this},t.revert=function(o){this.kill(o||{})},t.kill=function(o){this.contexts.forEach(function(l){return l.kill(o,!0)})},e}(),r2={registerPlugin:function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];r.forEach(function(l){return XA(l)})},timeline:function(t){return new Io(t)},getTweensOf:function(t,r){return Qi.getTweensOf(t,r)},getProperty:function(t,r,o,l){bs(t)&&(t=Ka(t)[0]);var u=Jm(t||{}).get,f=o?OA:LA;return o==="native"&&(o=""),t&&(r?f((Ga[r]&&Ga[r].get||u)(t,r,o,l)):function(i,_,b){return f((Ga[i]&&Ga[i].get||u)(t,i,_,b))})},quickSetter:function(t,r,o){if(t=Ka(t),t.length>1){var l=t.map(function(E){return jh.quickSetter(E,r,o)}),u=l.length;return function(E){for(var k=u;k--;)l[k](E)}}t=t[0]||{};var f=Ga[r],i=Jm(t),_=i.harness&&(i.harness.aliases||{})[r]||r,b=f?function(E){var k=new f;lf._pt=0,k.init(t,o?E+o:E,lf,0,[t]),k.render(1,k),lf._pt&&o6(1,lf)}:i.set(t,_);return f?b:function(E){return b(t,_,o?E+o:E,i,1)}},quickTo:function(t,r,o){var l,u=jh.to(t,$h((l={},l[r]="+=0.1",l.paused=!0,l),o||{})),f=function(_,b,E){return u.resetTo(r,_,b,E)};return f.tween=u,f},isTweening:function(t){return Qi.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=Ph(t.ease,$f.ease)),vE($f,t||{})},config:function(t){return vE(Nf,t||{})},registerEffect:function(t){var r=t.name,o=t.effect,l=t.plugins,u=t.defaults,f=t.extendTimeline;(l||"").split(",").forEach(function(i){return i&&!Ga[i]&&!ka[i]&&Q_(r+" effect requires "+i+" plugin.")}),e3[r]=function(i,_,b){return o(Ka(i),ll(_||{},u),b)},f&&(Io.prototype[r]=function(i,_,b){return this.add(e3[r](i,Mc(_)?_:(b=_)&&{},this),b)})},registerEase:function(t,r){$r[t]=Ph(r)},parseEase:function(t,r){return arguments.length?Ph(t,r):$r},getById:function(t){return Qi.getById(t)},exportRoot:function(t,r){t===void 0&&(t={});var o=new Io(t),l,u;for(o.smoothChildTiming=ta(t.smoothChildTiming),Qi.remove(o),o._dp=0,o._time=o._tTime=Qi._time,l=Qi._first;l;)u=l._next,(r||!(!l._dur&&l instanceof _o&&l.vars.onComplete===l._targets[0]))&&bc(o,l,l._start-l._delay),l=u;return bc(Qi,o,0),o},context:function(t,r){return t?new sD(t,r):ao},matchMedia:function(t){return new Gse(t)},matchMediaRefresh:function(){return kh.forEach(function(t){var r=t.conditions,o,l;for(l in r)r[l]&&(r[l]=!1,o=1);o&&t.revert()})||$w()},addEventListener:function(t,r){var o=u_[t]||(u_[t]=[]);~o.indexOf(r)||o.push(r)},removeEventListener:function(t,r){var o=u_[t],l=o&&o.indexOf(r);l>=0&&o.splice(l,1)},utils:{wrap:vse,wrapYoyo:xse,distribute:UA,random:HA,snap:WA,normalize:_se,getUnit:bd,clamp:fse,splitColor:YA,toArray:Ka,selector:Fw,mapRange:qA,pipe:gse,unitize:yse,interpolate:bse,shuffle:VA},install:MA,effects:e3,ticker:Ll,updateRoot:Io.updateRoot,plugins:Ga,globalTimeline:Qi,core:{PropTween:n1,globals:AA,Tween:_o,Timeline:Io,Animation:Fg,getCache:Jm,_removeLinkedListItem:Mv,reverting:function(){return _s},context:function(t){return t&&ao&&(ao.data.push(t),t._ctx=ao),ao},suppressOverwrites:function(t){return X5=t}}};Tu("to,from,fromTo,delayedCall,set,killTweensOf",function(e){return r2[e]=_o[e]});Ll.add(Io.updateRoot);lf=r2.to({},{duration:0});var qse=function(t,r){for(var o=t._pt;o&&o.p!==r&&o.op!==r&&o.fp!==r;)o=o._next;return o},Zse=function(t,r){var o=t._targets,l,u,f;for(l in r)for(u=o.length;u--;)f=t._ptLookup[u][l],f&&(f=f.d)&&(f._pt&&(f=qse(f,l)),f&&f.modifier&&f.modifier(r[l],t,o[u],l))},o3=function(t,r){return{name:t,rawVars:1,init:function(l,u,f){f._onInit=function(i){var _,b;if(bs(u)&&(_={},Tu(u,function(E){return _[E]=1}),u=_),r){_={};for(b in u)_[b]=r(u[b]);u=_}Zse(i,u)}}}},jh=r2.registerPlugin({name:"attr",init:function(t,r,o,l,u){var f,i,_;this.tween=o;for(f in r)_=t.getAttribute(f)||"",i=this.add(t,"setAttribute",(_||0)+"",r[f],l,u,0,0,f),i.op=f,i.b=_,this._props.push(f)},render:function(t,r){for(var o=r._pt;o;)_s?o.set(o.t,o.p,o.b,o):o.r(t,o.d),o=o._next}},{name:"endArray",init:function(t,r){for(var o=r.length;o--;)this.add(t,o,t[o]||0,r[o],0,0,0,0,0,1)}},o3("roundProps",Bw),o3("modifiers"),o3("snap",WA))||r2;_o.version=Io.version=jh.version="3.12.2";kA=1;Y5()&&Uf();$r.Power0;$r.Power1;$r.Power2;$r.Power3;$r.Power4;$r.Linear;$r.Quad;$r.Cubic;$r.Quart;$r.Quint;$r.Strong;var Xse=$r.Elastic;$r.Back;$r.SteppedEase;$r.Bounce;$r.Sine;$r.Expo;$r.Circ;/*!
 * EasePack 3.12.2
 * https://greensock.com
 *
 * @license Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var wa,$y,aD=function(){return wa||typeof window<"u"&&(wa=window.gsap)&&wa.registerPlugin&&wa},jw=function(t,r){return!!(typeof t>"u"?r:t&&!~(t+"").indexOf("false"))},Yse=function(t){if(wa=t||aD(),wa){$y=wa.registerEase;var r=wa.parseEase(),o=function(f){return function(i){var _=.5+i/2;f.config=function(b){return f(2*(1-b)*b*_+b*b)}}},l;for(l in r)r[l].config||o(r[l]);$y("slow",wd),$y("expoScale",s6),$y("rough",Bg);for(l in ng)l!=="version"&&wa.core.globals(l,ng[l])}},lD=function(t,r,o){t=Math.min(1,t||.7);var l=t<1?r||r===0?r:.7:0,u=(1-t)/2,f=u+t,i=jw(o);return function(_){var b=_+(.5-_)*l;return _<u?i?1-(_=1-_/u)*_:b-(_=1-_/u)*_*_*_*b:_>f?i?_===1?0:1-(_=(_-f)/u)*_:b+(_-b)*(_=(_-f)/u)*_*_*_:i?1:b}},cD=function(t,r,o){var l=Math.log(r/t),u=r-t;return o&&(o=wa.parseEase(o)),function(f){return(t*Math.exp(l*(o?o(f):f))-t)/u}},s3=function(t,r,o){this.t=t,this.v=r,o&&(this.next=o,o.prev=this,this.c=o.v-r,this.gap=o.t-t)},uD=function(t){typeof t!="object"&&(t={points:+t||20});for(var r=t.taper||"none",o=[],l=0,u=(+t.points||20)|0,f=u,i=jw(t.randomize,!0),_=jw(t.clamp),b=wa?wa.parseEase(t.template):0,E=(+t.strength||1)*.4,k,R,B,F,L,X,$;--f>-1;)k=i?Math.random():1/u*f,R=b?b(k):k,r==="none"?B=E:r==="out"?(F=1-k,B=F*F*E):r==="in"?B=k*k*E:k<.5?(F=k*2,B=F*F*.5*E):(F=(1-k)*2,B=F*F*.5*E),i?R+=Math.random()*B-B*.5:f%2?R+=B*.5:R-=B*.5,_&&(R>1?R=1:R<0&&(R=0)),o[l++]={x:k,y:R};for(o.sort(function(H,G){return H.x-G.x}),X=new s3(1,1,null),f=u;f--;)L=o[f],X=new s3(L.x,L.y,X);return $=new s3(0,0,X.t?X:X.next),function(H){var G=$;if(H>G.t){for(;G.next&&H>=G.t;)G=G.next;G=G.prev}else for(;G.prev&&H<=G.t;)G=G.prev;return $=G,G.v+(H-G.t)/G.gap*G.c}},wd=lD(.7);wd.ease=wd;wd.config=lD;var s6=cD(1,2);s6.config=cD;var Bg=uD();Bg.ease=Bg;Bg.config=uD;var ng={SlowMo:wd,RoughEase:Bg,ExpoScaleEase:s6};for(var CE in ng)ng[CE].register=Yse,ng[CE].version="3.12.2";aD()&&wa.registerPlugin(wd);class Kse extends Gs.Component{componentDidMount(){Hp(".button--bubble").each(function(){var t=Hp(this).parent().find(".circle.top-left"),r=Hp(this).parent().find(".circle.bottom-right"),o=new Io,l=new Io,u=new Io({paused:!0});o.to(t,1.2,{x:-25,y:-25,scaleY:2,ease:wd.ease.config(.1,.7,!1)}),o.to(t.eq(0),.1,{scale:.2,x:"+=6",y:"-=2"}),o.to(t.eq(1),.1,{scaleX:1,scaleY:.8,x:"-=10",y:"-=7"},"-=0.1"),o.to(t.eq(2),.1,{scale:.2,x:"-=15",y:"+=6"},"-=0.1"),o.to(t.eq(0),1,{scale:0,x:"-=5",y:"-=15",opacity:0}),o.to(t.eq(1),1,{scaleX:.4,scaleY:.4,x:"-=10",y:"-=10",opacity:0},"-=1"),o.to(t.eq(2),1,{scale:0,x:"-=15",y:"+=5",opacity:0},"-=1");var f=new Io,i=new Io;f.set(t,{x:0,y:0,rotation:-45}),f.add(o),l.set(r,{x:0,y:0}),l.to(r,1.1,{x:30,y:30,ease:wd.ease.config(.1,.7,!1)}),l.to(r.eq(0),.1,{scale:.2,x:"-=6",y:"+=3"}),l.to(r.eq(1),.1,{scale:.8,x:"+=7",y:"+=3"},"-=0.1"),l.to(r.eq(2),.1,{scale:.2,x:"+=15",y:"-=6"},"-=0.2"),l.to(r.eq(0),1,{scale:0,x:"+=5",y:"+=15",opacity:0}),l.to(r.eq(1),1,{scale:.4,x:"+=7",y:"+=7",opacity:0},"-=1"),l.to(r.eq(2),1,{scale:0,x:"+=15",y:"-=5",opacity:0},"-=1"),i.set(r,{x:0,y:0,rotation:45}),i.add(l),u.add(f),u.to(Hp(this).parent().find(".button.effect-button"),.8,{scaleY:1.1},.1),u.add(i,.2),u.to(Hp(this).parent().find(".button.effect-button"),1.8,{scale:1,ease:Xse.easeOut.config(1.2,.4)},1.2),u.timeScale(2.6),Hp(this).on("mouseover",function(){u.restart()})})}render(){const{onClick:t}=this.props;return V.jsxs("div",{className:"mainbutton",children:[V.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",className:"goo",children:V.jsx("defs",{children:V.jsxs("filter",{id:"goo",children:[V.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"10",result:"blur"}),V.jsx("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 19 -9",result:"goo"}),V.jsx("feComposite",{in:"SourceGraphic",in2:"goo"})]})})}),V.jsxs("span",{className:"button--bubble__container",children:[V.jsx("a",{href:"#campaign",className:"button button--bubble",onClick:t,children:"Go for a Walk"}),V.jsxs("span",{className:"button--bubble__effect-container",children:[V.jsx("span",{className:"circle top-left"}),V.jsx("span",{className:"circle top-left"}),V.jsx("span",{className:"circle top-left"}),V.jsx("span",{className:"button effect-button"}),V.jsx("span",{className:"circle bottom-right"}),V.jsx("span",{className:"circle bottom-right"}),V.jsx("span",{className:"circle bottom-right"})]})]})]})}}function Jse(){return V.jsx(V.Fragment,{children:V.jsx("div",{className:"wrapper-function-1",children:V.jsx("a",{className:"wrapper-function-text",href:"#",children:V.jsx("span",{children:"Gain a Route"})})})})}const a6=({zoom:e})=>(U.useEffect(()=>{il.accessToken="pk.eyJ1IjoieGluZ3llYWgiLCJhIjoiY2toeWFsOXdsMGE3djJybjBzaGZkdWE2aSJ9.wqzmeUmjmYZiKeW3NGvIiw";const t=new il.Map({container:"map",center:[-73.971321,40.776676],zoom:e||11,style:"mapbox://styles/xingyeah/clk2yxv5y006s01pg4ws580kw"});return()=>{t.remove()}},[e]),V.jsx("div",{id:"map",style:{width:"100%",height:"100%"}}));Xg({palette:{primary:{main:"#004d40"},secondary:{main:"#004d40"}}});const EE=["/static/images/LL1.png","/static/images/LL2.png","/static/images/LL3.png","/static/images/LL3.png","/static/images/logo7.png","/static/images/LL4.png","/static/images/LL4.png","/static/images/LL5.png","/static/images/logo2.png"];function Qse(){const e=YP(),[t,r]=U.useState(0),o=()=>{e("/interface")};return U.useEffect(()=>{const l=setInterval(()=>{r(u=>(u+1)%EE.length)},80);return()=>{clearInterval(l)}},[]),V.jsxs(V.Fragment,{children:[V.jsx(Z5,{}),V.jsx("div",{className:"mapwrapper_homepage",children:V.jsx(a6,{zoom:12.8})}),V.jsxs("div",{className:"flex-container",children:[V.jsxs("span",{className:"hometext",children:[V.jsx("span",{style:{fontSize:"28px",fontWeight:550},children:"amble - the peaceful way"}),V.jsx("br",{}),V.jsx("span",{style:{fontSize:"16px"},children:"The purpose of our application is to generate walking routes for users to guide them though the quiet corners of Manhattan. The route generating algorthm takes forecast conditions into our machine learning model to determine busyiness based on taxizone, citibike and subway data and pair this infomation with crimes statistics for areas of Manhattan to ensure users can enjoy a quiet, peaceful and safe journey!"})]}),V.jsx("div",{className:"LOGO",children:V.jsx("img",{src:EE[t],className:"Logo",alt:"Logo"})}),V.jsx(Kse,{onClick:o})]})]})}const eae="pk.eyJ1IjoiZmluYmFyYWxsYW4iLCJhIjoiY2xqY3NtYWN6MjV0ODNqcXhhaTY4aGQxdSJ9.VeVQzxCCtpyP_MeT1CkjOg";il.accessToken=eae;const dD=()=>{U.useEffect(()=>{if(t.current)return;t.current=new il.Map({container:e.current,style:"mapbox://styles/mapbox/streets-v12",center:[l,r],zoom:f});const E=ek.data.map(k=>({id:k.id,name:k.name,latitude:k.location.latitude,longitude:k.location.longitude}));b(E),console.log(E),t.current.on("load",()=>{E.forEach(k=>{const R=document.createElement("div");R.className="marker",new il.Marker(R).setLngLat([k.longitude,k.latitude]).addTo(t.current)})})},[]),U.useEffect(()=>{t.current&&t.current.on("move",()=>{u(t.current.getCenter().lng.toFixed(4)),o(t.current.getCenter().lat.toFixed(4)),i(t.current.getZoom().toFixed(2))})});const e=U.useRef(null),t=U.useRef(null),[r,o]=U.useState(40.727872),[l,u]=U.useState(-73.993157),[f,i]=U.useState(12.4),[_,b]=U.useState([]);return V.jsx("div",{children:V.jsx("div",{ref:e,className:"map-container"})})};const i2="api.openweathermap.org/data/2.5",o2="80503c1dbe4d41ea31d3d65de6bad11b";var l6={},tae=e1;Object.defineProperty(l6,"__esModule",{value:!0});var hD=l6.default=void 0,nae=tae(t1()),rae=V,iae=(0,nae.default)((0,rae.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96z"}),"Cloud");hD=l6.default=iae;function PE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,o)}return r}function Vw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PE(Object(r),!0).forEach(function(o){Bi(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PE(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function Dv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kE(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Rv(e,t,r){return t&&kE(e.prototype,t),r&&kE(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ic(){return Ic=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Ic.apply(this,arguments)}function c6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uw(e,t)}function s2(e){return s2=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},s2(e)}function Uw(e,t){return Uw=Object.setPrototypeOf||function(o,l){return o.__proto__=l,o},Uw(e,t)}function oae(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function sae(e,t){if(e==null)return{};var r={},o=Object.keys(e),l,u;for(u=0;u<o.length;u++)l=o[u],!(t.indexOf(l)>=0)&&(r[l]=e[l]);return r}function zv(e,t){if(e==null)return{};var r=sae(e,t),o,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(l=0;l<u.length;l++)o=u[l],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}function Rl(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aae(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rl(e)}function u6(e){var t=oae();return function(){var o=s2(e),l;if(t){var u=s2(this).constructor;l=Reflect.construct(o,arguments,u)}else l=o.apply(this,arguments);return aae(this,l)}}function lae(e,t){return dae(e)||pae(e,t)||pD(e,t)||mae()}function cae(e){return uae(e)||hae(e)||pD(e)||fae()}function uae(e){if(Array.isArray(e))return Ww(e)}function dae(e){if(Array.isArray(e))return e}function hae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var o=[],l=!0,u=!1,f,i;try{for(r=r.call(e);!(l=(f=r.next()).done)&&(o.push(f.value),!(t&&o.length===t));l=!0);}catch(_){u=!0,i=_}finally{try{!l&&r.return!=null&&r.return()}finally{if(u)throw i}}return o}}function pD(e,t){if(e){if(typeof e=="string")return Ww(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ww(e,t)}}function Ww(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function fae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var gae=Rv(function e(t){var r=this,o=t.expanded,l=o===void 0?[]:o,u=t.allowMultipleExpanded,f=u===void 0?!1:u,i=t.allowZeroExpanded,_=i===void 0?!1:i;Dv(this,e),Bi(this,"expanded",void 0),Bi(this,"allowMultipleExpanded",void 0),Bi(this,"allowZeroExpanded",void 0),Bi(this,"toggleExpanded",function(b){if(r.isItemDisabled(b))return r;var E=r.isItemExpanded(b);return E?r.augment({expanded:r.expanded.filter(function(k){return k!==b})}):r.augment({expanded:r.allowMultipleExpanded?[].concat(cae(r.expanded),[b]):[b]})}),Bi(this,"isItemDisabled",function(b){var E=r.isItemExpanded(b),k=r.expanded.length===1;return!!(E&&!r.allowZeroExpanded&&k)}),Bi(this,"isItemExpanded",function(b){return r.expanded.indexOf(b)!==-1}),Bi(this,"getPanelAttributes",function(b,E){var k=E??r.isItemExpanded(b);return{role:r.allowMultipleExpanded?void 0:"region","aria-hidden":r.allowMultipleExpanded?!k:void 0,"aria-labelledby":r.getButtonId(b),id:r.getPanelId(b),hidden:k?void 0:!0}}),Bi(this,"getHeadingAttributes",function(){return{role:"heading"}}),Bi(this,"getButtonAttributes",function(b,E){var k=E??r.isItemExpanded(b),R=r.isItemDisabled(b);return{id:r.getButtonId(b),"aria-disabled":R,"aria-expanded":k,"aria-controls":r.getPanelId(b),role:"button",tabIndex:0}}),Bi(this,"getPanelId",function(b){return"accordion__panel-".concat(b)}),Bi(this,"getButtonId",function(b){return"accordion__heading-".concat(b)}),Bi(this,"augment",function(b){return new e(Vw({expanded:r.expanded,allowMultipleExpanded:r.allowMultipleExpanded,allowZeroExpanded:r.allowZeroExpanded},b))}),this.expanded=l,this.allowMultipleExpanded=f,this.allowZeroExpanded=_}),fD=U.createContext(null),mD=function(e){c6(r,e);var t=u6(r);function r(){var o;Dv(this,r);for(var l=arguments.length,u=new Array(l),f=0;f<l;f++)u[f]=arguments[f];return o=t.call.apply(t,[this].concat(u)),Bi(Rl(o),"state",new gae({expanded:o.props.preExpanded,allowMultipleExpanded:o.props.allowMultipleExpanded,allowZeroExpanded:o.props.allowZeroExpanded})),Bi(Rl(o),"toggleExpanded",function(i){o.setState(function(_){return _.toggleExpanded(i)},function(){o.props.onChange&&o.props.onChange(o.state.expanded)})}),Bi(Rl(o),"isItemDisabled",function(i){return o.state.isItemDisabled(i)}),Bi(Rl(o),"isItemExpanded",function(i){return o.state.isItemExpanded(i)}),Bi(Rl(o),"getPanelAttributes",function(i,_){return o.state.getPanelAttributes(i,_)}),Bi(Rl(o),"getHeadingAttributes",function(){return o.state.getHeadingAttributes()}),Bi(Rl(o),"getButtonAttributes",function(i,_){return o.state.getButtonAttributes(i,_)}),o}return Rv(r,[{key:"render",value:function(){var l=this.state,u=l.allowZeroExpanded,f=l.allowMultipleExpanded;return U.createElement(fD.Provider,{value:{allowMultipleExpanded:f,allowZeroExpanded:u,toggleExpanded:this.toggleExpanded,isItemDisabled:this.isItemDisabled,isItemExpanded:this.isItemExpanded,getPanelAttributes:this.getPanelAttributes,getHeadingAttributes:this.getHeadingAttributes,getButtonAttributes:this.getButtonAttributes}},this.props.children||null)}}]),r}(U.PureComponent);Bi(mD,"defaultProps",{allowMultipleExpanded:!1,allowZeroExpanded:!1});var gD=function(e){c6(r,e);var t=u6(r);function r(){var o;Dv(this,r);for(var l=arguments.length,u=new Array(l),f=0;f<l;f++)u[f]=arguments[f];return o=t.call.apply(t,[this].concat(u)),Bi(Rl(o),"renderChildren",function(i){return i?o.props.children(i):null}),o}return Rv(r,[{key:"render",value:function(){return U.createElement(fD.Consumer,null,this.renderChildren)}}]),r}(U.PureComponent),yae=["className","allowMultipleExpanded","allowZeroExpanded","onChange","preExpanded"],yD=function(t){var r=t.className,o=r===void 0?"accordion":r,l=t.allowMultipleExpanded,u=t.allowZeroExpanded,f=t.onChange,i=t.preExpanded,_=zv(t,yae);return U.createElement(mD,{preExpanded:i,allowMultipleExpanded:l,allowZeroExpanded:u,onChange:f},U.createElement("div",Ic({"data-accordion-component":"Accordion",className:o},_)))},Hw;(function(e){e.Accordion="Accordion",e.AccordionItem="AccordionItem",e.AccordionItemButton="AccordionItemButton",e.AccordionItemHeading="AccordionItemHeading",e.AccordionItemPanel="AccordionItemPanel"})(Hw||(Hw={}));var _D=Hw,a3=0;function _ae(){var e=a3;return a3=a3+1,"raa-".concat(e)}var vae=U.useId||_ae,xae=/[\u0009\u000a\u000c\u000d\u0020]/g;function Ng(e){return e===""||xae.test(e)?(console.error('uuid must be a valid HTML5 id but was given "'.concat(e,'", ASCII whitespaces are forbidden')),!1):!0}var vD=U.createContext(null),bae=function(t){var r=t.children,o=t.uuid,l=t.accordionContext,u=t.dangerouslySetExpanded,f=function(){l.toggleExpanded(o)},i=function(b){var E=u??b.isItemExpanded(o),k=b.isItemDisabled(o),R=b.getPanelAttributes(o,u),B=b.getHeadingAttributes(o),F=b.getButtonAttributes(o,u);return U.createElement(vD.Provider,{value:{uuid:o,expanded:E,disabled:k,toggleExpanded:f,panelAttributes:R,headingAttributes:B,buttonAttributes:F}},r)};return U.createElement(gD,null,i)},wae=function(t){return U.createElement(gD,null,function(r){return U.createElement(bae,Ic({},t,{accordionContext:r}))})},Lv=function(t){var r=t.children,o=function(u){return u?r(u):null};return U.createElement(vD.Consumer,null,o)},Sae=["uuid","dangerouslySetExpanded","className","activeClassName"],d6=function(t){var r=t.uuid,o=t.dangerouslySetExpanded,l=t.className,u=l===void 0?"accordion__item":l,f=t.activeClassName,i=zv(t,Sae),_=U.useState(vae()),b=lae(_,1),E=b[0],k=r??E,R=function(F){var L=F.expanded,X=L&&f?f:u;return U.createElement("div",Ic({"data-accordion-component":"AccordionItem",className:X},i))};return Ng(k.toString()),i.id&&Ng(i.id),U.createElement(wae,{uuid:k,dangerouslySetExpanded:o},U.createElement(Lv,null,R))};d6.displayName=_D.AccordionItem;function xD(e){return e&&(e.matches('[data-accordion-component="Accordion"]')?e:xD(e.parentElement))}function Ov(e){var t=xD(e);return t&&Array.from(t.querySelectorAll('[data-accordion-component="AccordionItemButton"]'))}function Tae(e){var t=Ov(e)||[],r=t[0];r&&r.focus()}function Cae(e){var t=Ov(e)||[],r=t[t.length-1];r&&r.focus()}function Eae(e){var t=Ov(e)||[],r=t.indexOf(e);if(r!==-1){var o=t[r+1];o&&o.focus()}}function Pae(e){var t=Ov(e)||[],r=t.indexOf(e);if(r!==-1){var o=t[r-1];o&&o.focus()}}var iu={END:"End",ENTER:"Enter",HOME:"Home",SPACE:" ",SPACE_DEPRECATED:"Spacebar",UP:"ArrowUp",DOWN:"ArrowDown",LEFT:"ArrowLeft",RIGHT:"ArrowRight"},kae=["toggleExpanded","className"],Mae=function(t){var r=t.toggleExpanded,o=t.className,l=o===void 0?"accordion__button":o,u=zv(t,kae),f=function(_){var b=_.key;if((b===iu.ENTER||b===iu.SPACE||b===iu.SPACE_DEPRECATED)&&(_.preventDefault(),r()),_.target instanceof HTMLElement)switch(b){case iu.HOME:{_.preventDefault(),Tae(_.target);break}case iu.END:{_.preventDefault(),Cae(_.target);break}case iu.LEFT:case iu.UP:{_.preventDefault(),Pae(_.target);break}case iu.RIGHT:case iu.DOWN:{_.preventDefault(),Eae(_.target);break}}};return u.id&&Ng(u.id),U.createElement("div",Ic({className:l},u,{role:"button",tabIndex:0,onClick:r,onKeyDown:f,"data-accordion-component":"AccordionItemButton"}))},bD=function(t){return U.createElement(Lv,null,function(r){var o=r.toggleExpanded,l=r.buttonAttributes;return U.createElement(Mae,Ic({toggleExpanded:o},t,l))})},Iae={className:"accordion__heading","aria-level":3},Aae=`AccordionItemButton may contain only one child element, which must be an instance of AccordionItemButton.

From the WAI-ARIA spec (https://www.w3.org/TR/wai-aria-practices-1.1/#accordion):

The button element is the only element inside the heading element. That is, if there are other visually persistent elements, they are not included inside the heading element.

`,wD=function(e){c6(r,e);var t=u6(r);function r(){var o;Dv(this,r);for(var l=arguments.length,u=new Array(l),f=0;f<l;f++)u[f]=arguments[f];return o=t.call.apply(t,[this].concat(u)),Bi(Rl(o),"ref",void 0),Bi(Rl(o),"setRef",function(i){o.ref=i}),o}return Rv(r,[{key:"componentDidUpdate",value:function(){r.VALIDATE(this.ref)}},{key:"componentDidMount",value:function(){r.VALIDATE(this.ref)}},{key:"render",value:function(){return U.createElement("div",Ic({"data-accordion-component":"AccordionItemHeading"},this.props,{ref:this.setRef}))}}],[{key:"VALIDATE",value:function(l){if(l===void 0)throw new Error("ref is undefined");if(!(l.childElementCount===1&&l.firstElementChild&&l.firstElementChild.getAttribute("data-accordion-component")==="AccordionItemButton"))throw new Error(Aae)}}]),r}(U.PureComponent);Bi(wD,"defaultProps",Iae);var h6=function(t){return U.createElement(Lv,null,function(r){var o=r.headingAttributes;return t.id&&Ng(t.id),U.createElement(wD,Ic({},t,o))})};h6.displayName=_D.AccordionItemHeading;var Dae=["className","region","id"],SD=function(t){var r=t.className,o=r===void 0?"accordion__panel":r,l=t.region,u=t.id,f=zv(t,Dae),i=function(b){var E=b.panelAttributes;u&&Ng(u);var k=Vw(Vw({},E),{},{"aria-labelledby":l?E["aria-labelledby"]:void 0});return U.createElement("div",Ic({"data-accordion-component":"AccordionItemPanel",className:o},f,k,{role:l?"region":void 0}))};return U.createElement(Lv,null,i)};const Rae=({data:e})=>V.jsxs(V.Fragment,{children:[V.jsx("label",{className:"title",children:"Future Three Days"}),V.jsx(yD,{allowZeroExpanded:!0,children:e.list.splice(0,23).map((t,r)=>V.jsxs(d6,{children:[V.jsx(h6,{children:V.jsx(bD,{children:V.jsxs("div",{className:"daily-item",children:[V.jsx("img",{alt:"weather",className:"icon-small",src:`https://openweathermap.org/img/wn/${t.weather[0].icon}@2x.png`}),V.jsx("label",{className:"Date",children:t.dt_txt}),V.jsx("label",{className:"weather-general",children:t.weather[0].main}),V.jsxs("label",{className:"min-max",children:[Math.round(t.main.temp_min),"C/",Math.round(t.main.temp_max),"C"]})]})})}),V.jsx(SD,{children:V.jsxs("div",{className:"daily-details-grids",children:[V.jsxs("div",{className:"daily-details-grids-item",children:[V.jsx("label",{className:"d-title",children:"Description:"}),V.jsx("label",{className:"content",children:t.weather[0].description})]}),V.jsxs("div",{className:"daily-details-grids-item",children:[V.jsx("label",{className:"d-title",children:"Pressure:"}),V.jsxs("label",{className:"content",children:[t.main.pressure," hPa"]})]}),V.jsxs("div",{className:"daily-details-grids-item",children:[V.jsx("label",{className:"d-title",children:"Humidity:"}),V.jsxs("label",{className:"content",children:[t.main.humidity,"%"]})]}),V.jsxs("div",{className:"daily-details-grids-item",children:[V.jsx("label",{className:"d-title",children:"Clouds:"}),V.jsxs("label",{className:"content",children:[t.clouds.all,"%"]})]}),V.jsxs("div",{className:"daily-details-grids-item",children:[V.jsx("label",{className:"d-title",children:"Wind speed:"}),V.jsxs("label",{className:"content",children:[t.wind.speed," m/s"]})]}),V.jsxs("div",{className:"daily-details-grids-item",children:[V.jsx("label",{className:"d-title",children:"Feels like:"}),V.jsxs("label",{className:"content",children:[t.main.feels_like,"C"]})]})]})})]},r))})]});const zae=({data:e})=>V.jsxs(V.Fragment,{children:[V.jsx("label",{className:"title",children:"Current"}),V.jsx(yD,{allowZeroExpanded:!0,children:V.jsxs(d6,{children:[V.jsx(h6,{children:V.jsx(bD,{children:V.jsxs("div",{className:"daily-item",children:[V.jsx("img",{alt:"weather",className:"icon-small",src:`https://openweathermap.org/img/wn/${e.weather[0].icon}@2x.png`}),V.jsx("label",{className:"Date",children:"Now"}),V.jsx("label",{className:"weather-general",children:e.weather[0].main}),V.jsxs("label",{className:"min-max",children:[Math.round(e.main.temp_min),"C/",Math.round(e.main.temp_max),"C"]})]})})}),V.jsx(SD,{children:V.jsxs("div",{className:"daily-details-grids",children:[V.jsxs("div",{className:"daily-details-grids-item",children:[V.jsx("label",{className:"d-title",children:"Description:"}),V.jsx("label",{className:"content",children:e.weather[0].description})]}),V.jsxs("div",{className:"daily-details-grids-item",children:[V.jsx("label",{className:"d-title",children:"Pressure:"}),V.jsxs("label",{className:"content",children:[e.main.pressure," hPa"]})]}),V.jsxs("div",{className:"daily-details-grids-item",children:[V.jsx("label",{className:"d-title",children:"Humidity:"}),V.jsxs("label",{className:"content",children:[e.main.humidity,"%"]})]}),V.jsxs("div",{className:"daily-details-grids-item",children:[V.jsx("label",{className:"d-title",children:"Clouds:"}),V.jsxs("label",{className:"content",children:[e.clouds.all,"%"]})]}),V.jsxs("div",{className:"daily-details-grids-item",children:[V.jsx("label",{className:"d-title",children:"Wind speed:"}),V.jsxs("label",{className:"content",children:[e.wind.speed," m/s"]})]}),V.jsxs("div",{className:"daily-details-grids-item",children:[V.jsx("label",{className:"d-title",children:"Feels like:"}),V.jsxs("label",{className:"content",children:[e.main.feels_like,"C"]})]})]})})]})})]}),Lae=Xg({palette:{primary:{main:"#004d40"},secondary:{main:"#004d40"}}});function Oae(){const e=YP(),t=()=>{e("/homepage")},[r,o]=U.useState(!1),[l,u]=U.useState(null),[f,i]=U.useState(null),_=()=>{const b=fetch(`https://${i2}/weather?lat=40.776676&lon=-73.971321&appid=${o2}&units=metric`),E=fetch(`https://${i2}/forecast?lat=40.776676&lon=-73.971321&appid=${o2}&units=metric`);Promise.all([b,E]).then(async k=>{const R=await k[0].json(),B=await k[1].json();u(R),i(B)}).catch(k=>console.log(k))};return U.useEffect(()=>{_()},[]),console.log(l),console.log(f),V.jsx(Fk,{theme:Lae,children:V.jsxs("div",{children:[V.jsx(Z5,{}),V.jsx("div",{className:"mapwrapper_routeplan",children:V.jsx(a6,{zoom:14.4})}),V.jsxs("div",{className:"PlanWin",children:[r&&V.jsxs("div",{className:"popup-overlay",children:[V.jsxs("div",{className:"additional-blocks",children:[V.jsx("div",{className:"additional-block-text-preplan-weatherwin",children:V.jsx("span",{className:"text_bar_2-preplan-weatherwin",children:"Weather Information"})}),V.jsx("div",{className:"additional-block-close",onClick:()=>o(!r),children:V.jsx(Bf,{sx:{fontSize:27,color:"white"}})})]}),V.jsx("div",{className:"w_current",children:l&&V.jsx(zae,{data:l})}),V.jsx("div",{className:"w_forecast",children:f&&V.jsx(Rae,{data:f})})]}),V.jsxs("div",{className:"PlanSet",children:[V.jsx("div",{className:"green-bar",children:V.jsx("span",{className:"text_bar",children:"Walking Setting"})}),V.jsx("div",{className:"start-place",children:V.jsx("span",{className:"text_bar_3",children:"Start Place:"})}),V.jsxs("div",{className:"start-time",children:[V.jsx("span",{className:"text_bar_3",children:"Start Time:"}),V.jsx(OI,{})]}),V.jsxs("div",{className:"walk-duration",children:[V.jsx("span",{className:"text_bar_3",children:"Distance:"}),V.jsx("span",{className:"spacer1",children:""}),V.jsx(NI,{})]}),V.jsxs("div",{className:"preference",children:[V.jsx("span",{className:"text_bar_3",children:"Preference:"}),V.jsx(BI,{})]}),V.jsx("div",{className:"gain-route",children:V.jsx(Jse,{})})]}),V.jsxs("div",{className:"PlanMap",children:[V.jsxs("div",{className:"additional-blocks",children:[V.jsx("div",{className:"additional-block-text-preplan",children:V.jsx("span",{className:"text_bar_2-preplan",children:"Choose Position"})}),V.jsx("div",{className:"additional-block-weather",onClick:()=>o(!r),children:V.jsx(hD,{sx:{fontSize:24,color:"white"}})}),V.jsx("div",{className:"additional-block-close",onClick:t,children:V.jsx(Bf,{sx:{fontSize:27,color:"white"}})})]}),V.jsx(dD,{})]})]})]})})}var p6={},Fae=e1;Object.defineProperty(p6,"__esModule",{value:!0});var TD=p6.default=void 0,Bae=Fae(t1()),Nae=V,$ae=(0,Bae.default)((0,Nae.jsx)("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"}),"FavoriteBorder");TD=p6.default=$ae;const jae=({data:e})=>V.jsxs("div",{className:"weather",children:[V.jsxs("div",{className:"top",children:[V.jsx("img",{alt:"weather",className:"weather-icon",src:`https://openweathermap.org/img/wn/${e.weather[0].icon}@2x.png`}),V.jsxs("p",{className:"temperature",children:[Math.round(e.main.temp),"C"]})]}),V.jsx("div",{className:"parameter-row",children:V.jsx("p",{className:"weather-description",children:e.weather[0].description})}),V.jsxs("div",{className:"parameter-row",children:[V.jsx("span",{className:"parameter-label",children:"Feels like"}),V.jsx("div",{children:V.jsxs("span",{className:"parameter-value",children:[Math.round(e.main.feels_like),"C"]})})]}),V.jsxs("div",{className:"parameter-row",children:[V.jsx("span",{className:"parameter-label",children:"Wind"}),V.jsx("div",{children:V.jsxs("span",{className:"parameter-value",children:[e.wind.speed," m/s"]})})]}),V.jsxs("div",{className:"parameter-row",children:[V.jsx("span",{className:"parameter-label",children:"Humidity"}),V.jsx("div",{children:V.jsxs("span",{className:"parameter-value",children:[e.main.humidity,"%"]})})]})]}),Vae=Xg({palette:{primary:{main:"#004d40"},secondary:{main:"#004d40"}}});function Uae(){const[e,t]=U.useState(null),[r,o]=U.useState(null),l=()=>{const u=fetch(`https://${i2}/weather?lat=40.776676&lon=-73.971321&appid=${o2}&units=metric`),f=fetch(`https://${i2}/forecast?lat=40.776676&lon=-73.971321&appid=${o2}&units=metric`);Promise.all([u,f]).then(async i=>{const _=await i[0].json(),b=await i[1].json();t(_),o(b)}).catch(i=>console.log(i))};return U.useEffect(()=>{l()},[]),console.log(e),console.log(r),V.jsx(Fk,{theme:Vae,children:V.jsxs("div",{children:[V.jsx(Z5,{}),V.jsx("div",{className:"mapwrapper",children:V.jsx(a6,{zoom:15.5})}),V.jsxs("div",{className:"PlanWin",children:[V.jsx("div",{className:"green-weather-block",children:e&&V.jsx(jae,{data:e})}),V.jsxs("div",{className:"PlanMap",children:[V.jsxs("div",{className:"button-group-1",children:[V.jsx(vh,{variant:"contained",style:{borderRadius:0},sx:{width:"270px",height:"2.8rem"},size:"small",color:"primary",children:"Route Information"}),V.jsx(vh,{variant:"contained",style:{borderRadius:0},sx:{width:"270px",height:"2.8rem"},size:"small",color:"primary",children:"General Information"})]}),V.jsxs("div",{className:"additional-blocks",children:[V.jsx("div",{className:"additional-block-text",children:V.jsx("span",{className:"text_bar_2",children:"Regernate Plan"})}),V.jsx("div",{className:"additional-block-favorite",children:V.jsx(TD,{sx:{fontSize:24,color:"white"}})}),V.jsx("div",{className:"additional-block-close",children:V.jsx(Bf,{sx:{fontSize:26,color:"white"}})})]}),V.jsx(dD,{})]})]})]})})}function Wae(){return V.jsx("h2",{children:"The requested page does not exist"})}function Hae(){const[e,t]=U.useState({latitude:40.74218481889335,longitude:-73.98786664009094,hour:0,waypoints:[]});return V.jsx("div",{children:V.jsx(mB,{children:V.jsxs(pB,{children:[V.jsx(hc,{exact:!0,path:"/",element:V.jsx(Bne,{inputValues:e,setInputValues:t})}),V.jsx(hc,{path:"/login",element:V.jsx(Nne,{})}),V.jsx(hc,{path:"/comms",element:V.jsx($ne,{})}),V.jsx(hc,{path:"/latlondis",element:V.jsx(jne,{})}),V.jsx(hc,{path:"/user_pref",element:V.jsx(Moe,{})}),V.jsx(hc,{path:"*",element:V.jsx(Wae,{})}),V.jsx(hc,{path:"/interface",element:V.jsx(Oae,{})}),V.jsx(hc,{path:"/showroute",element:V.jsx(Uae,{})}),V.jsx(hc,{path:"/homepage",element:V.jsx(Qse,{})})]})})})}l3.createRoot(document.getElementById("root")).render(V.jsx(Gs.StrictMode,{children:V.jsx(Hae,{})}));
